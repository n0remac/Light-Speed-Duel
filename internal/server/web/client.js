"use strict";
(() => {
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };

  // web/src/bus.ts
  function createEventBus() {
    const handlers = /* @__PURE__ */ new Map();
    return {
      on(event, handler) {
        let set = handlers.get(event);
        if (!set) {
          set = /* @__PURE__ */ new Set();
          handlers.set(event, set);
        }
        set.add(handler);
        return () => set.delete(handler);
      },
      emit(event, payload) {
        const set = handlers.get(event);
        if (!set || set.size === 0) return;
        for (const fn of set) {
          try {
            fn(payload);
          } catch (err) {
            console.error(`[bus] handler for ${event} failed`, err);
          }
        }
      }
    };
  }
  var init_bus = __esm({
    "web/src/bus.ts"() {
      "use strict";
    }
  });

  // web/src/state.ts
  function clampProgress(value) {
    if (!Number.isFinite(value)) {
      return 0;
    }
    if (value <= 0) return 0;
    if (value >= 1) return 1;
    return value;
  }
  function createInitialUIState() {
    return {
      inputContext: "ship",
      shipTool: "set",
      missileTool: null,
      activeTool: "ship-set",
      showShipRoute: true,
      helpVisible: false,
      zoom: 1,
      panX: 0,
      panY: 0
    };
  }
  function createInitialState(limits = {
    speedMin: MISSILE_MIN_SPEED,
    speedMax: MISSILE_MAX_SPEED,
    agroMin: MISSILE_MIN_AGRO
  }) {
    return {
      now: 0,
      nowSyncedAt: typeof performance !== "undefined" && typeof performance.now === "function" ? performance.now() : Date.now(),
      me: null,
      ghosts: [],
      missiles: [],
      missileRoutes: [],
      activeMissileRouteId: null,
      nextMissileReadyAt: 0,
      missileConfig: {
        speed: 180,
        agroRadius: 800,
        lifetime: missileLifetimeFor(180, 800, limits),
        heatParams: MISSILE_PRESETS[1].heatParams
        // Default to Hunter preset
      },
      missileLimits: limits,
      worldMeta: {},
      inventory: null,
      dag: null,
      mission: null,
      story: null,
      craftHeatCapacity: 80,
      // Default to basic missile heat capacity
      capabilities: null
    };
  }
  function clamp(value, min, max) {
    return Math.max(min, Math.min(max, value));
  }
  function missileLifetimeFor(speed, agroRadius, limits = {
    speedMin: MISSILE_MIN_SPEED,
    speedMax: MISSILE_MAX_SPEED,
    agroMin: MISSILE_MIN_AGRO
  }) {
    const minSpeed = Number.isFinite(limits.speedMin) ? limits.speedMin : MISSILE_MIN_SPEED;
    const maxSpeed = Number.isFinite(limits.speedMax) ? limits.speedMax : MISSILE_MAX_SPEED;
    const minAgro = Number.isFinite(limits.agroMin) ? limits.agroMin : MISSILE_MIN_AGRO;
    const span = maxSpeed - minSpeed;
    const speedNorm = span > 0 ? clamp((speed - minSpeed) / span, 0, 1) : 0;
    const adjustedAgro = Math.max(0, agroRadius - minAgro);
    const agroNorm = clamp(adjustedAgro / MISSILE_LIFETIME_AGRO_REF, 0, 1);
    const reduction = speedNorm * MISSILE_LIFETIME_SPEED_PENALTY + agroNorm * MISSILE_LIFETIME_AGRO_PENALTY;
    const base = MISSILE_MAX_LIFETIME;
    return clamp(base - reduction, MISSILE_MIN_LIFETIME, MISSILE_MAX_LIFETIME);
  }
  function sanitizeMissileConfig(cfg, fallback, limits) {
    var _a, _b, _c, _d;
    const minSpeed = Number.isFinite(limits.speedMin) ? limits.speedMin : MISSILE_MIN_SPEED;
    const maxSpeed = Number.isFinite(limits.speedMax) ? limits.speedMax : MISSILE_MAX_SPEED;
    const minAgro = Number.isFinite(limits.agroMin) ? limits.agroMin : MISSILE_MIN_AGRO;
    const base = fallback != null ? fallback : {
      speed: minSpeed,
      agroRadius: minAgro,
      lifetime: missileLifetimeFor(minSpeed, minAgro, limits)
    };
    const mergedSpeed = Number.isFinite((_a = cfg.speed) != null ? _a : base.speed) ? (_b = cfg.speed) != null ? _b : base.speed : base.speed;
    const mergedAgro = Number.isFinite((_c = cfg.agroRadius) != null ? _c : base.agroRadius) ? (_d = cfg.agroRadius) != null ? _d : base.agroRadius : base.agroRadius;
    const speed = clamp(mergedSpeed, minSpeed, maxSpeed);
    const agroRadius = Math.max(minAgro, mergedAgro);
    const heatParams = cfg.heatParams ? { ...cfg.heatParams } : base.heatParams ? { ...base.heatParams } : void 0;
    return {
      speed,
      agroRadius,
      lifetime: missileLifetimeFor(speed, agroRadius, limits),
      heatParams
    };
  }
  function monotonicNow() {
    if (typeof performance !== "undefined" && typeof performance.now === "function") {
      return performance.now();
    }
    return Date.now();
  }
  function updateMissileLimits(state, limits) {
    state.missileLimits = {
      speedMin: Number.isFinite(limits.speedMin) ? limits.speedMin : state.missileLimits.speedMin,
      speedMax: Number.isFinite(limits.speedMax) ? limits.speedMax : state.missileLimits.speedMax,
      agroMin: Number.isFinite(limits.agroMin) ? limits.agroMin : state.missileLimits.agroMin
    };
  }
  var MISSILE_MIN_SPEED, MISSILE_MAX_SPEED, MISSILE_MIN_AGRO, MISSILE_MAX_LIFETIME, MISSILE_MIN_LIFETIME, MISSILE_LIFETIME_SPEED_PENALTY, MISSILE_LIFETIME_AGRO_PENALTY, MISSILE_LIFETIME_AGRO_REF, MISSILE_PRESETS;
  var init_state = __esm({
    "web/src/state.ts"() {
      "use strict";
      MISSILE_MIN_SPEED = 40;
      MISSILE_MAX_SPEED = 250;
      MISSILE_MIN_AGRO = 100;
      MISSILE_MAX_LIFETIME = 120;
      MISSILE_MIN_LIFETIME = 20;
      MISSILE_LIFETIME_SPEED_PENALTY = 80;
      MISSILE_LIFETIME_AGRO_PENALTY = 40;
      MISSILE_LIFETIME_AGRO_REF = 2e3;
      MISSILE_PRESETS = [
        {
          name: "Scout",
          description: "Slow, efficient, long-range. High heat capacity.",
          speed: 80,
          agroRadius: 1500,
          heatParams: {
            max: 60,
            warnAt: 42,
            overheatAt: 60,
            markerSpeed: 70,
            kUp: 20,
            kDown: 15,
            exp: 1.5
          }
        },
        {
          name: "Hunter",
          description: "Balanced speed and detection. Standard heat.",
          speed: 150,
          agroRadius: 800,
          heatParams: {
            max: 50,
            warnAt: 35,
            overheatAt: 50,
            markerSpeed: 120,
            kUp: 28,
            kDown: 12,
            exp: 1.5
          }
        },
        {
          name: "Sniper",
          description: "Fast, narrow detection. Low heat capacity.",
          speed: 220,
          agroRadius: 300,
          heatParams: {
            max: 40,
            warnAt: 28,
            overheatAt: 40,
            markerSpeed: 180,
            kUp: 35,
            kDown: 8,
            exp: 1.5
          }
        }
      ];
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/types.js
  var init_types = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/is-message.js
  function isMessage(arg, schema) {
    const isMessage2 = arg !== null && typeof arg == "object" && "$typeName" in arg && typeof arg.$typeName == "string";
    if (!isMessage2) {
      return false;
    }
    if (schema === void 0) {
      return true;
    }
    return schema.typeName === arg.$typeName;
  }
  var init_is_message = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/is-message.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/descriptors.js
  var ScalarType;
  var init_descriptors = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/descriptors.js"() {
      (function(ScalarType2) {
        ScalarType2[ScalarType2["DOUBLE"] = 1] = "DOUBLE";
        ScalarType2[ScalarType2["FLOAT"] = 2] = "FLOAT";
        ScalarType2[ScalarType2["INT64"] = 3] = "INT64";
        ScalarType2[ScalarType2["UINT64"] = 4] = "UINT64";
        ScalarType2[ScalarType2["INT32"] = 5] = "INT32";
        ScalarType2[ScalarType2["FIXED64"] = 6] = "FIXED64";
        ScalarType2[ScalarType2["FIXED32"] = 7] = "FIXED32";
        ScalarType2[ScalarType2["BOOL"] = 8] = "BOOL";
        ScalarType2[ScalarType2["STRING"] = 9] = "STRING";
        ScalarType2[ScalarType2["BYTES"] = 12] = "BYTES";
        ScalarType2[ScalarType2["UINT32"] = 13] = "UINT32";
        ScalarType2[ScalarType2["SFIXED32"] = 15] = "SFIXED32";
        ScalarType2[ScalarType2["SFIXED64"] = 16] = "SFIXED64";
        ScalarType2[ScalarType2["SINT32"] = 17] = "SINT32";
        ScalarType2[ScalarType2["SINT64"] = 18] = "SINT64";
      })(ScalarType || (ScalarType = {}));
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js
  function varint64read() {
    let lowBits = 0;
    let highBits = 0;
    for (let shift = 0; shift < 28; shift += 7) {
      let b = this.buf[this.pos++];
      lowBits |= (b & 127) << shift;
      if ((b & 128) == 0) {
        this.assertBounds();
        return [lowBits, highBits];
      }
    }
    let middleByte = this.buf[this.pos++];
    lowBits |= (middleByte & 15) << 28;
    highBits = (middleByte & 112) >> 4;
    if ((middleByte & 128) == 0) {
      this.assertBounds();
      return [lowBits, highBits];
    }
    for (let shift = 3; shift <= 31; shift += 7) {
      let b = this.buf[this.pos++];
      highBits |= (b & 127) << shift;
      if ((b & 128) == 0) {
        this.assertBounds();
        return [lowBits, highBits];
      }
    }
    throw new Error("invalid varint");
  }
  function varint64write(lo, hi, bytes) {
    for (let i = 0; i < 28; i = i + 7) {
      const shift = lo >>> i;
      const hasNext = !(shift >>> 7 == 0 && hi == 0);
      const byte = (hasNext ? shift | 128 : shift) & 255;
      bytes.push(byte);
      if (!hasNext) {
        return;
      }
    }
    const splitBits = lo >>> 28 & 15 | (hi & 7) << 4;
    const hasMoreBits = !(hi >> 3 == 0);
    bytes.push((hasMoreBits ? splitBits | 128 : splitBits) & 255);
    if (!hasMoreBits) {
      return;
    }
    for (let i = 3; i < 31; i = i + 7) {
      const shift = hi >>> i;
      const hasNext = !(shift >>> 7 == 0);
      const byte = (hasNext ? shift | 128 : shift) & 255;
      bytes.push(byte);
      if (!hasNext) {
        return;
      }
    }
    bytes.push(hi >>> 31 & 1);
  }
  function int64FromString(dec) {
    const minus = dec[0] === "-";
    if (minus) {
      dec = dec.slice(1);
    }
    const base = 1e6;
    let lowBits = 0;
    let highBits = 0;
    function add1e6digit(begin, end) {
      const digit1e6 = Number(dec.slice(begin, end));
      highBits *= base;
      lowBits = lowBits * base + digit1e6;
      if (lowBits >= TWO_PWR_32_DBL) {
        highBits = highBits + (lowBits / TWO_PWR_32_DBL | 0);
        lowBits = lowBits % TWO_PWR_32_DBL;
      }
    }
    add1e6digit(-24, -18);
    add1e6digit(-18, -12);
    add1e6digit(-12, -6);
    add1e6digit(-6);
    return minus ? negate(lowBits, highBits) : newBits(lowBits, highBits);
  }
  function int64ToString(lo, hi) {
    let bits = newBits(lo, hi);
    const negative = bits.hi & 2147483648;
    if (negative) {
      bits = negate(bits.lo, bits.hi);
    }
    const result = uInt64ToString(bits.lo, bits.hi);
    return negative ? "-" + result : result;
  }
  function uInt64ToString(lo, hi) {
    ({ lo, hi } = toUnsigned(lo, hi));
    if (hi <= 2097151) {
      return String(TWO_PWR_32_DBL * hi + lo);
    }
    const low = lo & 16777215;
    const mid = (lo >>> 24 | hi << 8) & 16777215;
    const high = hi >> 16 & 65535;
    let digitA = low + mid * 6777216 + high * 6710656;
    let digitB = mid + high * 8147497;
    let digitC = high * 2;
    const base = 1e7;
    if (digitA >= base) {
      digitB += Math.floor(digitA / base);
      digitA %= base;
    }
    if (digitB >= base) {
      digitC += Math.floor(digitB / base);
      digitB %= base;
    }
    return digitC.toString() + decimalFrom1e7WithLeadingZeros(digitB) + decimalFrom1e7WithLeadingZeros(digitA);
  }
  function toUnsigned(lo, hi) {
    return { lo: lo >>> 0, hi: hi >>> 0 };
  }
  function newBits(lo, hi) {
    return { lo: lo | 0, hi: hi | 0 };
  }
  function negate(lowBits, highBits) {
    highBits = ~highBits;
    if (lowBits) {
      lowBits = ~lowBits + 1;
    } else {
      highBits += 1;
    }
    return newBits(lowBits, highBits);
  }
  function varint32write(value, bytes) {
    if (value >= 0) {
      while (value > 127) {
        bytes.push(value & 127 | 128);
        value = value >>> 7;
      }
      bytes.push(value);
    } else {
      for (let i = 0; i < 9; i++) {
        bytes.push(value & 127 | 128);
        value = value >> 7;
      }
      bytes.push(1);
    }
  }
  function varint32read() {
    let b = this.buf[this.pos++];
    let result = b & 127;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 7;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 14;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 21;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 15) << 28;
    for (let readBytes = 5; (b & 128) !== 0 && readBytes < 10; readBytes++)
      b = this.buf[this.pos++];
    if ((b & 128) != 0)
      throw new Error("invalid varint");
    this.assertBounds();
    return result >>> 0;
  }
  var TWO_PWR_32_DBL, decimalFrom1e7WithLeadingZeros;
  var init_varint = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js"() {
      TWO_PWR_32_DBL = 4294967296;
      decimalFrom1e7WithLeadingZeros = (digit1e7) => {
        const partial = String(digit1e7);
        return "0000000".slice(partial.length) + partial;
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js
  function makeInt64Support() {
    const dv = new DataView(new ArrayBuffer(8));
    const ok = typeof BigInt === "function" && typeof dv.getBigInt64 === "function" && typeof dv.getBigUint64 === "function" && typeof dv.setBigInt64 === "function" && typeof dv.setBigUint64 === "function" && (!!globalThis.Deno || typeof process != "object" || typeof process.env != "object" || process.env.BUF_BIGINT_DISABLE !== "1");
    if (ok) {
      const MIN = BigInt("-9223372036854775808");
      const MAX = BigInt("9223372036854775807");
      const UMIN = BigInt("0");
      const UMAX = BigInt("18446744073709551615");
      return {
        zero: BigInt(0),
        supported: true,
        parse(value) {
          const bi = typeof value == "bigint" ? value : BigInt(value);
          if (bi > MAX || bi < MIN) {
            throw new Error(`invalid int64: ${value}`);
          }
          return bi;
        },
        uParse(value) {
          const bi = typeof value == "bigint" ? value : BigInt(value);
          if (bi > UMAX || bi < UMIN) {
            throw new Error(`invalid uint64: ${value}`);
          }
          return bi;
        },
        enc(value) {
          dv.setBigInt64(0, this.parse(value), true);
          return {
            lo: dv.getInt32(0, true),
            hi: dv.getInt32(4, true)
          };
        },
        uEnc(value) {
          dv.setBigInt64(0, this.uParse(value), true);
          return {
            lo: dv.getInt32(0, true),
            hi: dv.getInt32(4, true)
          };
        },
        dec(lo, hi) {
          dv.setInt32(0, lo, true);
          dv.setInt32(4, hi, true);
          return dv.getBigInt64(0, true);
        },
        uDec(lo, hi) {
          dv.setInt32(0, lo, true);
          dv.setInt32(4, hi, true);
          return dv.getBigUint64(0, true);
        }
      };
    }
    return {
      zero: "0",
      supported: false,
      parse(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertInt64String(value);
        return value;
      },
      uParse(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertUInt64String(value);
        return value;
      },
      enc(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertInt64String(value);
        return int64FromString(value);
      },
      uEnc(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertUInt64String(value);
        return int64FromString(value);
      },
      dec(lo, hi) {
        return int64ToString(lo, hi);
      },
      uDec(lo, hi) {
        return uInt64ToString(lo, hi);
      }
    };
  }
  function assertInt64String(value) {
    if (!/^-?[0-9]+$/.test(value)) {
      throw new Error("invalid int64: " + value);
    }
  }
  function assertUInt64String(value) {
    if (!/^[0-9]+$/.test(value)) {
      throw new Error("invalid uint64: " + value);
    }
  }
  var protoInt64;
  var init_proto_int64 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js"() {
      init_varint();
      protoInt64 = /* @__PURE__ */ makeInt64Support();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js
  function scalarZeroValue(type, longAsString) {
    switch (type) {
      case ScalarType.STRING:
        return "";
      case ScalarType.BOOL:
        return false;
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        return 0;
      case ScalarType.INT64:
      case ScalarType.UINT64:
      case ScalarType.SFIXED64:
      case ScalarType.FIXED64:
      case ScalarType.SINT64:
        return longAsString ? "0" : protoInt64.zero;
      case ScalarType.BYTES:
        return new Uint8Array(0);
      default:
        return 0;
    }
  }
  function isScalarZeroValue(type, value) {
    switch (type) {
      case ScalarType.BOOL:
        return value === false;
      case ScalarType.STRING:
        return value === "";
      case ScalarType.BYTES:
        return value instanceof Uint8Array && !value.byteLength;
      default:
        return value == 0;
    }
  }
  var init_scalar = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js"() {
      init_proto_int64();
      init_descriptors();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js
  function unsafeOneofCase(target, oneof) {
    const c = target[oneof.localName].case;
    if (c === void 0) {
      return c;
    }
    return oneof.fields.find((f) => f.localName === c);
  }
  function unsafeIsSet(target, field) {
    const name = field.localName;
    if (field.oneof) {
      return target[field.oneof.localName].case === name;
    }
    if (field.presence != IMPLICIT) {
      return target[name] !== void 0 && Object.prototype.hasOwnProperty.call(target, name);
    }
    switch (field.fieldKind) {
      case "list":
        return target[name].length > 0;
      case "map":
        return Object.keys(target[name]).length > 0;
      case "scalar":
        return !isScalarZeroValue(field.scalar, target[name]);
      case "enum":
        return target[name] !== field.enum.values[0].number;
    }
    throw new Error("message field with implicit presence");
  }
  function unsafeIsSetExplicit(target, localName) {
    return Object.prototype.hasOwnProperty.call(target, localName) && target[localName] !== void 0;
  }
  function unsafeGet(target, field) {
    if (field.oneof) {
      const oneof = target[field.oneof.localName];
      if (oneof.case === field.localName) {
        return oneof.value;
      }
      return void 0;
    }
    return target[field.localName];
  }
  function unsafeSet(target, field, value) {
    if (field.oneof) {
      target[field.oneof.localName] = {
        case: field.localName,
        value
      };
    } else {
      target[field.localName] = value;
    }
  }
  function unsafeClear(target, field) {
    const name = field.localName;
    if (field.oneof) {
      const oneofLocalName = field.oneof.localName;
      if (target[oneofLocalName].case === name) {
        target[oneofLocalName] = { case: void 0 };
      }
    } else if (field.presence != IMPLICIT) {
      delete target[name];
    } else {
      switch (field.fieldKind) {
        case "map":
          target[name] = {};
          break;
        case "list":
          target[name] = [];
          break;
        case "enum":
          target[name] = field.enum.values[0].number;
          break;
        case "scalar":
          target[name] = scalarZeroValue(field.scalar, field.longAsString);
          break;
      }
    }
  }
  var IMPLICIT, unsafeLocal;
  var init_unsafe = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js"() {
      init_scalar();
      IMPLICIT = 2;
      unsafeLocal = Symbol.for("reflect unsafe local");
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js
  function isObject(arg) {
    return arg !== null && typeof arg == "object" && !Array.isArray(arg);
  }
  function isReflectList(arg, field) {
    var _a, _b, _c, _d;
    if (isObject(arg) && unsafeLocal in arg && "add" in arg && "field" in arg && typeof arg.field == "function") {
      if (field !== void 0) {
        const a = field;
        const b = arg.field();
        return a.listKind == b.listKind && a.scalar === b.scalar && ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) && ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName);
      }
      return true;
    }
    return false;
  }
  function isReflectMap(arg, field) {
    var _a, _b, _c, _d;
    if (isObject(arg) && unsafeLocal in arg && "has" in arg && "field" in arg && typeof arg.field == "function") {
      if (field !== void 0) {
        const a = field, b = arg.field();
        return a.mapKey === b.mapKey && a.mapKind == b.mapKind && a.scalar === b.scalar && ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) && ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName);
      }
      return true;
    }
    return false;
  }
  function isReflectMessage(arg, messageDesc2) {
    return isObject(arg) && unsafeLocal in arg && "desc" in arg && isObject(arg.desc) && arg.desc.kind === "message" && (messageDesc2 === void 0 || arg.desc.typeName == messageDesc2.typeName);
  }
  var init_guard = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js"() {
      init_unsafe();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js
  function isWrapper(arg) {
    return isWrapperTypeName(arg.$typeName);
  }
  function isWrapperDesc(messageDesc2) {
    const f = messageDesc2.fields[0];
    return isWrapperTypeName(messageDesc2.typeName) && f !== void 0 && f.fieldKind == "scalar" && f.name == "value" && f.number == 1;
  }
  function isWrapperTypeName(name) {
    return name.startsWith("google.protobuf.") && [
      "DoubleValue",
      "FloatValue",
      "Int64Value",
      "UInt64Value",
      "Int32Value",
      "UInt32Value",
      "BoolValue",
      "StringValue",
      "BytesValue"
    ].includes(name.substring(16));
  }
  var init_wrappers = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/create.js
  function create(schema, init) {
    if (isMessage(init, schema)) {
      return init;
    }
    const message = createZeroMessage(schema);
    if (init !== void 0) {
      initMessage(schema, message, init);
    }
    return message;
  }
  function initMessage(messageDesc2, message, init) {
    for (const member of messageDesc2.members) {
      let value = init[member.localName];
      if (value == null) {
        continue;
      }
      let field;
      if (member.kind == "oneof") {
        const oneofField = unsafeOneofCase(init, member);
        if (!oneofField) {
          continue;
        }
        field = oneofField;
        value = unsafeGet(init, oneofField);
      } else {
        field = member;
      }
      switch (field.fieldKind) {
        case "message":
          value = toMessage(field, value);
          break;
        case "scalar":
          value = initScalar(field, value);
          break;
        case "list":
          value = initList(field, value);
          break;
        case "map":
          value = initMap(field, value);
          break;
      }
      unsafeSet(message, field, value);
    }
    return message;
  }
  function initScalar(field, value) {
    if (field.scalar == ScalarType.BYTES) {
      return toU8Arr(value);
    }
    return value;
  }
  function initMap(field, value) {
    if (isObject(value)) {
      if (field.scalar == ScalarType.BYTES) {
        return convertObjectValues(value, toU8Arr);
      }
      if (field.mapKind == "message") {
        return convertObjectValues(value, (val) => toMessage(field, val));
      }
    }
    return value;
  }
  function initList(field, value) {
    if (Array.isArray(value)) {
      if (field.scalar == ScalarType.BYTES) {
        return value.map(toU8Arr);
      }
      if (field.listKind == "message") {
        return value.map((item) => toMessage(field, item));
      }
    }
    return value;
  }
  function toMessage(field, value) {
    if (field.fieldKind == "message" && !field.oneof && isWrapperDesc(field.message)) {
      return initScalar(field.message.fields[0], value);
    }
    if (isObject(value)) {
      if (field.message.typeName == "google.protobuf.Struct" && field.parent.typeName !== "google.protobuf.Value") {
        return value;
      }
      if (!isMessage(value, field.message)) {
        return create(field.message, value);
      }
    }
    return value;
  }
  function toU8Arr(value) {
    return Array.isArray(value) ? new Uint8Array(value) : value;
  }
  function convertObjectValues(obj, fn) {
    const ret = {};
    for (const entry of Object.entries(obj)) {
      ret[entry[0]] = fn(entry[1]);
    }
    return ret;
  }
  function createZeroMessage(desc) {
    let msg;
    if (!needsPrototypeChain(desc)) {
      msg = {
        $typeName: desc.typeName
      };
      for (const member of desc.members) {
        if (member.kind == "oneof" || member.presence == IMPLICIT2) {
          msg[member.localName] = createZeroField(member);
        }
      }
    } else {
      const cached = messagePrototypes.get(desc);
      let prototype;
      let members;
      if (cached) {
        ({ prototype, members } = cached);
      } else {
        prototype = {};
        members = /* @__PURE__ */ new Set();
        for (const member of desc.members) {
          if (member.kind == "oneof") {
            continue;
          }
          if (member.fieldKind != "scalar" && member.fieldKind != "enum") {
            continue;
          }
          if (member.presence == IMPLICIT2) {
            continue;
          }
          members.add(member);
          prototype[member.localName] = createZeroField(member);
        }
        messagePrototypes.set(desc, { prototype, members });
      }
      msg = Object.create(prototype);
      msg.$typeName = desc.typeName;
      for (const member of desc.members) {
        if (members.has(member)) {
          continue;
        }
        if (member.kind == "field") {
          if (member.fieldKind == "message") {
            continue;
          }
          if (member.fieldKind == "scalar" || member.fieldKind == "enum") {
            if (member.presence != IMPLICIT2) {
              continue;
            }
          }
        }
        msg[member.localName] = createZeroField(member);
      }
    }
    return msg;
  }
  function needsPrototypeChain(desc) {
    switch (desc.file.edition) {
      case EDITION_PROTO3:
        return false;
      case EDITION_PROTO2:
        return true;
      default:
        return desc.fields.some((f) => f.presence != IMPLICIT2 && f.fieldKind != "message" && !f.oneof);
    }
  }
  function createZeroField(field) {
    if (field.kind == "oneof") {
      return { case: void 0 };
    }
    if (field.fieldKind == "list") {
      return [];
    }
    if (field.fieldKind == "map") {
      return {};
    }
    if (field.fieldKind == "message") {
      return tokenZeroMessageField;
    }
    const defaultValue = field.getDefaultValue();
    if (defaultValue !== void 0) {
      return field.fieldKind == "scalar" && field.longAsString ? defaultValue.toString() : defaultValue;
    }
    return field.fieldKind == "scalar" ? scalarZeroValue(field.scalar, field.longAsString) : field.enum.values[0].number;
  }
  var EDITION_PROTO3, EDITION_PROTO2, IMPLICIT2, tokenZeroMessageField, messagePrototypes;
  var init_create = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/create.js"() {
      init_is_message();
      init_descriptors();
      init_scalar();
      init_guard();
      init_unsafe();
      init_wrappers();
      EDITION_PROTO3 = 999;
      EDITION_PROTO2 = 998;
      IMPLICIT2 = 2;
      tokenZeroMessageField = Symbol();
      messagePrototypes = /* @__PURE__ */ new WeakMap();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js
  var FieldError;
  var init_error = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js"() {
      FieldError = class extends Error {
        constructor(fieldOrOneof, message, name = "FieldValueInvalidError") {
          super(message);
          this.name = name;
          this.field = () => fieldOrOneof;
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js
  function getTextEncoding() {
    if (globalThis[symbol] == void 0) {
      const te = new globalThis.TextEncoder();
      const td = new globalThis.TextDecoder();
      globalThis[symbol] = {
        encodeUtf8(text) {
          return te.encode(text);
        },
        decodeUtf8(bytes) {
          return td.decode(bytes);
        },
        checkUtf8(text) {
          try {
            encodeURIComponent(text);
            return true;
          } catch (_) {
            return false;
          }
        }
      };
    }
    return globalThis[symbol];
  }
  var symbol;
  var init_text_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js"() {
      symbol = Symbol.for("@bufbuild/protobuf/text-encoding");
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js
  function assertInt32(arg) {
    if (typeof arg == "string") {
      arg = Number(arg);
    } else if (typeof arg != "number") {
      throw new Error("invalid int32: " + typeof arg);
    }
    if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN)
      throw new Error("invalid int32: " + arg);
  }
  function assertUInt32(arg) {
    if (typeof arg == "string") {
      arg = Number(arg);
    } else if (typeof arg != "number") {
      throw new Error("invalid uint32: " + typeof arg);
    }
    if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0)
      throw new Error("invalid uint32: " + arg);
  }
  function assertFloat32(arg) {
    if (typeof arg == "string") {
      const o = arg;
      arg = Number(arg);
      if (Number.isNaN(arg) && o !== "NaN") {
        throw new Error("invalid float32: " + o);
      }
    } else if (typeof arg != "number") {
      throw new Error("invalid float32: " + typeof arg);
    }
    if (Number.isFinite(arg) && (arg > FLOAT32_MAX || arg < FLOAT32_MIN))
      throw new Error("invalid float32: " + arg);
  }
  var WireType, FLOAT32_MAX, FLOAT32_MIN, UINT32_MAX, INT32_MAX, INT32_MIN, BinaryWriter, BinaryReader;
  var init_binary_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js"() {
      init_varint();
      init_proto_int64();
      init_text_encoding();
      (function(WireType2) {
        WireType2[WireType2["Varint"] = 0] = "Varint";
        WireType2[WireType2["Bit64"] = 1] = "Bit64";
        WireType2[WireType2["LengthDelimited"] = 2] = "LengthDelimited";
        WireType2[WireType2["StartGroup"] = 3] = "StartGroup";
        WireType2[WireType2["EndGroup"] = 4] = "EndGroup";
        WireType2[WireType2["Bit32"] = 5] = "Bit32";
      })(WireType || (WireType = {}));
      FLOAT32_MAX = 34028234663852886e22;
      FLOAT32_MIN = -34028234663852886e22;
      UINT32_MAX = 4294967295;
      INT32_MAX = 2147483647;
      INT32_MIN = -2147483648;
      BinaryWriter = class {
        constructor(encodeUtf8 = getTextEncoding().encodeUtf8) {
          this.encodeUtf8 = encodeUtf8;
          this.stack = [];
          this.chunks = [];
          this.buf = [];
        }
        /**
         * Return all bytes written and reset this writer.
         */
        finish() {
          if (this.buf.length) {
            this.chunks.push(new Uint8Array(this.buf));
            this.buf = [];
          }
          let len = 0;
          for (let i = 0; i < this.chunks.length; i++)
            len += this.chunks[i].length;
          let bytes = new Uint8Array(len);
          let offset = 0;
          for (let i = 0; i < this.chunks.length; i++) {
            bytes.set(this.chunks[i], offset);
            offset += this.chunks[i].length;
          }
          this.chunks = [];
          return bytes;
        }
        /**
         * Start a new fork for length-delimited data like a message
         * or a packed repeated field.
         *
         * Must be joined later with `join()`.
         */
        fork() {
          this.stack.push({ chunks: this.chunks, buf: this.buf });
          this.chunks = [];
          this.buf = [];
          return this;
        }
        /**
         * Join the last fork. Write its length and bytes, then
         * return to the previous state.
         */
        join() {
          let chunk = this.finish();
          let prev = this.stack.pop();
          if (!prev)
            throw new Error("invalid state, fork stack empty");
          this.chunks = prev.chunks;
          this.buf = prev.buf;
          this.uint32(chunk.byteLength);
          return this.raw(chunk);
        }
        /**
         * Writes a tag (field number and wire type).
         *
         * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.
         *
         * Generated code should compute the tag ahead of time and call `uint32()`.
         */
        tag(fieldNo, type) {
          return this.uint32((fieldNo << 3 | type) >>> 0);
        }
        /**
         * Write a chunk of raw bytes.
         */
        raw(chunk) {
          if (this.buf.length) {
            this.chunks.push(new Uint8Array(this.buf));
            this.buf = [];
          }
          this.chunks.push(chunk);
          return this;
        }
        /**
         * Write a `uint32` value, an unsigned 32 bit varint.
         */
        uint32(value) {
          assertUInt32(value);
          while (value > 127) {
            this.buf.push(value & 127 | 128);
            value = value >>> 7;
          }
          this.buf.push(value);
          return this;
        }
        /**
         * Write a `int32` value, a signed 32 bit varint.
         */
        int32(value) {
          assertInt32(value);
          varint32write(value, this.buf);
          return this;
        }
        /**
         * Write a `bool` value, a variant.
         */
        bool(value) {
          this.buf.push(value ? 1 : 0);
          return this;
        }
        /**
         * Write a `bytes` value, length-delimited arbitrary data.
         */
        bytes(value) {
          this.uint32(value.byteLength);
          return this.raw(value);
        }
        /**
         * Write a `string` value, length-delimited data converted to UTF-8 text.
         */
        string(value) {
          let chunk = this.encodeUtf8(value);
          this.uint32(chunk.byteLength);
          return this.raw(chunk);
        }
        /**
         * Write a `float` value, 32-bit floating point number.
         */
        float(value) {
          assertFloat32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setFloat32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `double` value, a 64-bit floating point number.
         */
        double(value) {
          let chunk = new Uint8Array(8);
          new DataView(chunk.buffer).setFloat64(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.
         */
        fixed32(value) {
          assertUInt32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setUint32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.
         */
        sfixed32(value) {
          assertInt32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setInt32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.
         */
        sint32(value) {
          assertInt32(value);
          value = (value << 1 ^ value >> 31) >>> 0;
          varint32write(value, this.buf);
          return this;
        }
        /**
         * Write a `fixed64` value, a signed, fixed-length 64-bit integer.
         */
        sfixed64(value) {
          let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.enc(value);
          view.setInt32(0, tc.lo, true);
          view.setInt32(4, tc.hi, true);
          return this.raw(chunk);
        }
        /**
         * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.
         */
        fixed64(value) {
          let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.uEnc(value);
          view.setInt32(0, tc.lo, true);
          view.setInt32(4, tc.hi, true);
          return this.raw(chunk);
        }
        /**
         * Write a `int64` value, a signed 64-bit varint.
         */
        int64(value) {
          let tc = protoInt64.enc(value);
          varint64write(tc.lo, tc.hi, this.buf);
          return this;
        }
        /**
         * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.
         */
        sint64(value) {
          const tc = protoInt64.enc(value), sign = tc.hi >> 31, lo = tc.lo << 1 ^ sign, hi = (tc.hi << 1 | tc.lo >>> 31) ^ sign;
          varint64write(lo, hi, this.buf);
          return this;
        }
        /**
         * Write a `uint64` value, an unsigned 64-bit varint.
         */
        uint64(value) {
          const tc = protoInt64.uEnc(value);
          varint64write(tc.lo, tc.hi, this.buf);
          return this;
        }
      };
      BinaryReader = class {
        constructor(buf, decodeUtf8 = getTextEncoding().decodeUtf8) {
          this.decodeUtf8 = decodeUtf8;
          this.varint64 = varint64read;
          this.uint32 = varint32read;
          this.buf = buf;
          this.len = buf.length;
          this.pos = 0;
          this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);
        }
        /**
         * Reads a tag - field number and wire type.
         */
        tag() {
          let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;
          if (fieldNo <= 0 || wireType < 0 || wireType > 5)
            throw new Error("illegal tag: field no " + fieldNo + " wire type " + wireType);
          return [fieldNo, wireType];
        }
        /**
         * Skip one element and return the skipped data.
         *
         * When skipping StartGroup, provide the tags field number to check for
         * matching field number in the EndGroup tag.
         */
        skip(wireType, fieldNo) {
          let start = this.pos;
          switch (wireType) {
            case WireType.Varint:
              while (this.buf[this.pos++] & 128) {
              }
              break;
            case WireType.Bit64:
              this.pos += 4;
            case WireType.Bit32:
              this.pos += 4;
              break;
            case WireType.LengthDelimited:
              let len = this.uint32();
              this.pos += len;
              break;
            case WireType.StartGroup:
              for (; ; ) {
                const [fn, wt] = this.tag();
                if (wt === WireType.EndGroup) {
                  if (fieldNo !== void 0 && fn !== fieldNo) {
                    throw new Error("invalid end group tag");
                  }
                  break;
                }
                this.skip(wt, fn);
              }
              break;
            default:
              throw new Error("cant skip wire type " + wireType);
          }
          this.assertBounds();
          return this.buf.subarray(start, this.pos);
        }
        /**
         * Throws error if position in byte array is out of range.
         */
        assertBounds() {
          if (this.pos > this.len)
            throw new RangeError("premature EOF");
        }
        /**
         * Read a `int32` field, a signed 32 bit varint.
         */
        int32() {
          return this.uint32() | 0;
        }
        /**
         * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.
         */
        sint32() {
          let zze = this.uint32();
          return zze >>> 1 ^ -(zze & 1);
        }
        /**
         * Read a `int64` field, a signed 64-bit varint.
         */
        int64() {
          return protoInt64.dec(...this.varint64());
        }
        /**
         * Read a `uint64` field, an unsigned 64-bit varint.
         */
        uint64() {
          return protoInt64.uDec(...this.varint64());
        }
        /**
         * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.
         */
        sint64() {
          let [lo, hi] = this.varint64();
          let s = -(lo & 1);
          lo = (lo >>> 1 | (hi & 1) << 31) ^ s;
          hi = hi >>> 1 ^ s;
          return protoInt64.dec(lo, hi);
        }
        /**
         * Read a `bool` field, a variant.
         */
        bool() {
          let [lo, hi] = this.varint64();
          return lo !== 0 || hi !== 0;
        }
        /**
         * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.
         */
        fixed32() {
          return this.view.getUint32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.
         */
        sfixed32() {
          return this.view.getInt32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.
         */
        fixed64() {
          return protoInt64.uDec(this.sfixed32(), this.sfixed32());
        }
        /**
         * Read a `fixed64` field, a signed, fixed-length 64-bit integer.
         */
        sfixed64() {
          return protoInt64.dec(this.sfixed32(), this.sfixed32());
        }
        /**
         * Read a `float` field, 32-bit floating point number.
         */
        float() {
          return this.view.getFloat32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `double` field, a 64-bit floating point number.
         */
        double() {
          return this.view.getFloat64((this.pos += 8) - 8, true);
        }
        /**
         * Read a `bytes` field, length-delimited arbitrary data.
         */
        bytes() {
          let len = this.uint32(), start = this.pos;
          this.pos += len;
          this.assertBounds();
          return this.buf.subarray(start, start + len);
        }
        /**
         * Read a `string` field, length-delimited data converted to UTF-8 text.
         */
        string() {
          return this.decodeUtf8(this.bytes());
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js
  function checkField(field, value) {
    const check = field.fieldKind == "list" ? isReflectList(value, field) : field.fieldKind == "map" ? isReflectMap(value, field) : checkSingular(field, value);
    if (check === true) {
      return void 0;
    }
    let reason;
    switch (field.fieldKind) {
      case "list":
        reason = `expected ${formatReflectList(field)}, got ${formatVal(value)}`;
        break;
      case "map":
        reason = `expected ${formatReflectMap(field)}, got ${formatVal(value)}`;
        break;
      default: {
        reason = reasonSingular(field, value, check);
      }
    }
    return new FieldError(field, reason);
  }
  function checkListItem(field, index, value) {
    const check = checkSingular(field, value);
    if (check !== true) {
      return new FieldError(field, `list item #${index + 1}: ${reasonSingular(field, value, check)}`);
    }
    return void 0;
  }
  function checkMapEntry(field, key, value) {
    const checkKey = checkScalarValue(key, field.mapKey);
    if (checkKey !== true) {
      return new FieldError(field, `invalid map key: ${reasonSingular({ scalar: field.mapKey }, key, checkKey)}`);
    }
    const checkVal = checkSingular(field, value);
    if (checkVal !== true) {
      return new FieldError(field, `map entry ${formatVal(key)}: ${reasonSingular(field, value, checkVal)}`);
    }
    return void 0;
  }
  function checkSingular(field, value) {
    if (field.scalar !== void 0) {
      return checkScalarValue(value, field.scalar);
    }
    if (field.enum !== void 0) {
      if (field.enum.open) {
        return Number.isInteger(value);
      }
      return field.enum.values.some((v) => v.number === value);
    }
    return isReflectMessage(value, field.message);
  }
  function checkScalarValue(value, scalar) {
    switch (scalar) {
      case ScalarType.DOUBLE:
        return typeof value == "number";
      case ScalarType.FLOAT:
        if (typeof value != "number") {
          return false;
        }
        if (Number.isNaN(value) || !Number.isFinite(value)) {
          return true;
        }
        if (value > FLOAT32_MAX || value < FLOAT32_MIN) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        if (typeof value !== "number" || !Number.isInteger(value)) {
          return false;
        }
        if (value > INT32_MAX || value < INT32_MIN) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        if (typeof value !== "number" || !Number.isInteger(value)) {
          return false;
        }
        if (value > UINT32_MAX || value < 0) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.BOOL:
        return typeof value == "boolean";
      case ScalarType.STRING:
        if (typeof value != "string") {
          return false;
        }
        return getTextEncoding().checkUtf8(value) || "invalid UTF8";
      case ScalarType.BYTES:
        return value instanceof Uint8Array;
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if (typeof value == "bigint" || typeof value == "number" || typeof value == "string" && value.length > 0) {
          try {
            protoInt64.parse(value);
            return true;
          } catch (_) {
            return `${value} out of range`;
          }
        }
        return false;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if (typeof value == "bigint" || typeof value == "number" || typeof value == "string" && value.length > 0) {
          try {
            protoInt64.uParse(value);
            return true;
          } catch (_) {
            return `${value} out of range`;
          }
        }
        return false;
    }
  }
  function reasonSingular(field, val, details) {
    details = typeof details == "string" ? `: ${details}` : `, got ${formatVal(val)}`;
    if (field.scalar !== void 0) {
      return `expected ${scalarTypeDescription(field.scalar)}` + details;
    }
    if (field.enum !== void 0) {
      return `expected ${field.enum.toString()}` + details;
    }
    return `expected ${formatReflectMessage(field.message)}` + details;
  }
  function formatVal(val) {
    switch (typeof val) {
      case "object":
        if (val === null) {
          return "null";
        }
        if (val instanceof Uint8Array) {
          return `Uint8Array(${val.length})`;
        }
        if (Array.isArray(val)) {
          return `Array(${val.length})`;
        }
        if (isReflectList(val)) {
          return formatReflectList(val.field());
        }
        if (isReflectMap(val)) {
          return formatReflectMap(val.field());
        }
        if (isReflectMessage(val)) {
          return formatReflectMessage(val.desc);
        }
        if (isMessage(val)) {
          return `message ${val.$typeName}`;
        }
        return "object";
      case "string":
        return val.length > 30 ? "string" : `"${val.split('"').join('\\"')}"`;
      case "boolean":
        return String(val);
      case "number":
        return String(val);
      case "bigint":
        return String(val) + "n";
      default:
        return typeof val;
    }
  }
  function formatReflectMessage(desc) {
    return `ReflectMessage (${desc.typeName})`;
  }
  function formatReflectList(field) {
    switch (field.listKind) {
      case "message":
        return `ReflectList (${field.message.toString()})`;
      case "enum":
        return `ReflectList (${field.enum.toString()})`;
      case "scalar":
        return `ReflectList (${ScalarType[field.scalar]})`;
    }
  }
  function formatReflectMap(field) {
    switch (field.mapKind) {
      case "message":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${field.message.toString()})`;
      case "enum":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${field.enum.toString()})`;
      case "scalar":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${ScalarType[field.scalar]})`;
    }
  }
  function scalarTypeDescription(scalar) {
    switch (scalar) {
      case ScalarType.STRING:
        return "string";
      case ScalarType.BOOL:
        return "boolean";
      case ScalarType.INT64:
      case ScalarType.SINT64:
      case ScalarType.SFIXED64:
        return "bigint (int64)";
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        return "bigint (uint64)";
      case ScalarType.BYTES:
        return "Uint8Array";
      case ScalarType.DOUBLE:
        return "number (float64)";
      case ScalarType.FLOAT:
        return "number (float32)";
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        return "number (uint32)";
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        return "number (int32)";
    }
  }
  var init_reflect_check = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js"() {
      init_descriptors();
      init_is_message();
      init_error();
      init_guard();
      init_binary_encoding();
      init_text_encoding();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js
  function reflect(messageDesc2, message, check = true) {
    return new ReflectMessageImpl(messageDesc2, message, check);
  }
  function assertOwn(owner, member) {
    if (member.parent.typeName !== owner.$typeName) {
      throw new FieldError(member, `cannot use ${member.toString()} with message ${owner.$typeName}`, "ForeignFieldError");
    }
  }
  function messageToLocal(field, value) {
    if (!isReflectMessage(value)) {
      return value;
    }
    if (isWrapper(value.message) && !field.oneof && field.fieldKind == "message") {
      return value.message.value;
    }
    if (value.desc.typeName == "google.protobuf.Struct" && field.parent.typeName != "google.protobuf.Value") {
      return wktStructToLocal(value.message);
    }
    return value.message;
  }
  function messageToReflect(field, value, check) {
    if (value !== void 0) {
      if (isWrapperDesc(field.message) && !field.oneof && field.fieldKind == "message") {
        value = {
          $typeName: field.message.typeName,
          value: longToReflect(field.message.fields[0], value)
        };
      } else if (field.message.typeName == "google.protobuf.Struct" && field.parent.typeName != "google.protobuf.Value" && isObject(value)) {
        value = wktStructToReflect(value);
      }
    }
    return new ReflectMessageImpl(field.message, value, check);
  }
  function listItemToLocal(field, value) {
    if (field.listKind == "message") {
      return messageToLocal(field, value);
    }
    return longToLocal(field, value);
  }
  function listItemToReflect(field, value, check) {
    if (field.listKind == "message") {
      return messageToReflect(field, value, check);
    }
    return longToReflect(field, value);
  }
  function mapValueToLocal(field, value) {
    if (field.mapKind == "message") {
      return messageToLocal(field, value);
    }
    return longToLocal(field, value);
  }
  function mapValueToReflect(field, value, check) {
    if (field.mapKind == "message") {
      return messageToReflect(field, value, check);
    }
    return value;
  }
  function mapKeyToLocal(key) {
    return typeof key == "string" || typeof key == "number" ? key : String(key);
  }
  function mapKeyToReflect(key, type) {
    switch (type) {
      case ScalarType.STRING:
        return key;
      case ScalarType.INT32:
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32: {
        const n = Number.parseInt(key);
        if (Number.isFinite(n)) {
          return n;
        }
        break;
      }
      case ScalarType.BOOL:
        switch (key) {
          case "true":
            return true;
          case "false":
            return false;
        }
        break;
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        try {
          return protoInt64.uParse(key);
        } catch (_a) {
        }
        break;
      default:
        try {
          return protoInt64.parse(key);
        } catch (_b) {
        }
        break;
    }
    return key;
  }
  function longToReflect(field, value) {
    switch (field.scalar) {
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if ("longAsString" in field && field.longAsString && typeof value == "string") {
          value = protoInt64.parse(value);
        }
        break;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if ("longAsString" in field && field.longAsString && typeof value == "string") {
          value = protoInt64.uParse(value);
        }
        break;
    }
    return value;
  }
  function longToLocal(field, value) {
    switch (field.scalar) {
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if ("longAsString" in field && field.longAsString) {
          value = String(value);
        } else if (typeof value == "string" || typeof value == "number") {
          value = protoInt64.parse(value);
        }
        break;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if ("longAsString" in field && field.longAsString) {
          value = String(value);
        } else if (typeof value == "string" || typeof value == "number") {
          value = protoInt64.uParse(value);
        }
        break;
    }
    return value;
  }
  function wktStructToReflect(json) {
    const struct = {
      $typeName: "google.protobuf.Struct",
      fields: {}
    };
    if (isObject(json)) {
      for (const [k, v] of Object.entries(json)) {
        struct.fields[k] = wktValueToReflect(v);
      }
    }
    return struct;
  }
  function wktStructToLocal(val) {
    const json = {};
    for (const [k, v] of Object.entries(val.fields)) {
      json[k] = wktValueToLocal(v);
    }
    return json;
  }
  function wktValueToLocal(val) {
    switch (val.kind.case) {
      case "structValue":
        return wktStructToLocal(val.kind.value);
      case "listValue":
        return val.kind.value.values.map(wktValueToLocal);
      case "nullValue":
      case void 0:
        return null;
      default:
        return val.kind.value;
    }
  }
  function wktValueToReflect(json) {
    const value = {
      $typeName: "google.protobuf.Value",
      kind: { case: void 0 }
    };
    switch (typeof json) {
      case "number":
        value.kind = { case: "numberValue", value: json };
        break;
      case "string":
        value.kind = { case: "stringValue", value: json };
        break;
      case "boolean":
        value.kind = { case: "boolValue", value: json };
        break;
      case "object":
        if (json === null) {
          const nullValue = 0;
          value.kind = { case: "nullValue", value: nullValue };
        } else if (Array.isArray(json)) {
          const listValue = {
            $typeName: "google.protobuf.ListValue",
            values: []
          };
          if (Array.isArray(json)) {
            for (const e of json) {
              listValue.values.push(wktValueToReflect(e));
            }
          }
          value.kind = {
            case: "listValue",
            value: listValue
          };
        } else {
          value.kind = {
            case: "structValue",
            value: wktStructToReflect(json)
          };
        }
        break;
    }
    return value;
  }
  var ReflectMessageImpl, ReflectListImpl, ReflectMapImpl;
  var init_reflect = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js"() {
      init_descriptors();
      init_reflect_check();
      init_error();
      init_unsafe();
      init_create();
      init_wrappers();
      init_scalar();
      init_proto_int64();
      init_guard();
      ReflectMessageImpl = class {
        get sortedFields() {
          var _a;
          return (_a = this._sortedFields) !== null && _a !== void 0 ? _a : (
            // biome-ignore lint/suspicious/noAssignInExpressions: no
            this._sortedFields = this.desc.fields.concat().sort((a, b) => a.number - b.number)
          );
        }
        constructor(messageDesc2, message, check = true) {
          this.lists = /* @__PURE__ */ new Map();
          this.maps = /* @__PURE__ */ new Map();
          this.check = check;
          this.desc = messageDesc2;
          this.message = this[unsafeLocal] = message !== null && message !== void 0 ? message : create(messageDesc2);
          this.fields = messageDesc2.fields;
          this.oneofs = messageDesc2.oneofs;
          this.members = messageDesc2.members;
        }
        findNumber(number) {
          if (!this._fieldsByNumber) {
            this._fieldsByNumber = new Map(this.desc.fields.map((f) => [f.number, f]));
          }
          return this._fieldsByNumber.get(number);
        }
        oneofCase(oneof) {
          assertOwn(this.message, oneof);
          return unsafeOneofCase(this.message, oneof);
        }
        isSet(field) {
          assertOwn(this.message, field);
          return unsafeIsSet(this.message, field);
        }
        clear(field) {
          assertOwn(this.message, field);
          unsafeClear(this.message, field);
        }
        get(field) {
          assertOwn(this.message, field);
          const value = unsafeGet(this.message, field);
          switch (field.fieldKind) {
            case "list":
              let list = this.lists.get(field);
              if (!list || list[unsafeLocal] !== value) {
                this.lists.set(
                  field,
                  // biome-ignore lint/suspicious/noAssignInExpressions: no
                  list = new ReflectListImpl(field, value, this.check)
                );
              }
              return list;
            case "map":
              let map = this.maps.get(field);
              if (!map || map[unsafeLocal] !== value) {
                this.maps.set(
                  field,
                  // biome-ignore lint/suspicious/noAssignInExpressions: no
                  map = new ReflectMapImpl(field, value, this.check)
                );
              }
              return map;
            case "message":
              return messageToReflect(field, value, this.check);
            case "scalar":
              return value === void 0 ? scalarZeroValue(field.scalar, false) : longToReflect(field, value);
            case "enum":
              return value !== null && value !== void 0 ? value : field.enum.values[0].number;
          }
        }
        set(field, value) {
          assertOwn(this.message, field);
          if (this.check) {
            const err = checkField(field, value);
            if (err) {
              throw err;
            }
          }
          let local;
          if (field.fieldKind == "message") {
            local = messageToLocal(field, value);
          } else if (isReflectMap(value) || isReflectList(value)) {
            local = value[unsafeLocal];
          } else {
            local = longToLocal(field, value);
          }
          unsafeSet(this.message, field, local);
        }
        getUnknown() {
          return this.message.$unknown;
        }
        setUnknown(value) {
          this.message.$unknown = value;
        }
      };
      ReflectListImpl = class {
        field() {
          return this._field;
        }
        get size() {
          return this._arr.length;
        }
        constructor(field, unsafeInput, check) {
          this._field = field;
          this._arr = this[unsafeLocal] = unsafeInput;
          this.check = check;
        }
        get(index) {
          const item = this._arr[index];
          return item === void 0 ? void 0 : listItemToReflect(this._field, item, this.check);
        }
        set(index, item) {
          if (index < 0 || index >= this._arr.length) {
            throw new FieldError(this._field, `list item #${index + 1}: out of range`);
          }
          if (this.check) {
            const err = checkListItem(this._field, index, item);
            if (err) {
              throw err;
            }
          }
          this._arr[index] = listItemToLocal(this._field, item);
        }
        add(item) {
          if (this.check) {
            const err = checkListItem(this._field, this._arr.length, item);
            if (err) {
              throw err;
            }
          }
          this._arr.push(listItemToLocal(this._field, item));
          return void 0;
        }
        clear() {
          this._arr.splice(0, this._arr.length);
        }
        [Symbol.iterator]() {
          return this.values();
        }
        keys() {
          return this._arr.keys();
        }
        *values() {
          for (const item of this._arr) {
            yield listItemToReflect(this._field, item, this.check);
          }
        }
        *entries() {
          for (let i = 0; i < this._arr.length; i++) {
            yield [i, listItemToReflect(this._field, this._arr[i], this.check)];
          }
        }
      };
      ReflectMapImpl = class {
        constructor(field, unsafeInput, check = true) {
          this.obj = this[unsafeLocal] = unsafeInput !== null && unsafeInput !== void 0 ? unsafeInput : {};
          this.check = check;
          this._field = field;
        }
        field() {
          return this._field;
        }
        set(key, value) {
          if (this.check) {
            const err = checkMapEntry(this._field, key, value);
            if (err) {
              throw err;
            }
          }
          this.obj[mapKeyToLocal(key)] = mapValueToLocal(this._field, value);
          return this;
        }
        delete(key) {
          const k = mapKeyToLocal(key);
          const has = Object.prototype.hasOwnProperty.call(this.obj, k);
          if (has) {
            delete this.obj[k];
          }
          return has;
        }
        clear() {
          for (const key of Object.keys(this.obj)) {
            delete this.obj[key];
          }
        }
        get(key) {
          let val = this.obj[mapKeyToLocal(key)];
          if (val !== void 0) {
            val = mapValueToReflect(this._field, val, this.check);
          }
          return val;
        }
        has(key) {
          return Object.prototype.hasOwnProperty.call(this.obj, mapKeyToLocal(key));
        }
        *keys() {
          for (const objKey of Object.keys(this.obj)) {
            yield mapKeyToReflect(objKey, this._field.mapKey);
          }
        }
        *entries() {
          for (const objEntry of Object.entries(this.obj)) {
            yield [
              mapKeyToReflect(objEntry[0], this._field.mapKey),
              mapValueToReflect(this._field, objEntry[1], this.check)
            ];
          }
        }
        [Symbol.iterator]() {
          return this.entries();
        }
        get size() {
          return Object.keys(this.obj).length;
        }
        *values() {
          for (const val of Object.values(this.obj)) {
            yield mapValueToReflect(this._field, val, this.check);
          }
        }
        forEach(callbackfn, thisArg) {
          for (const mapEntry of this.entries()) {
            callbackfn.call(thisArg, mapEntry[1], mapEntry[0], this);
          }
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/clone.js
  var init_clone = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/clone.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js
  function base64Decode(base64Str) {
    const table = getDecodeTable();
    let es = base64Str.length * 3 / 4;
    if (base64Str[base64Str.length - 2] == "=")
      es -= 2;
    else if (base64Str[base64Str.length - 1] == "=")
      es -= 1;
    let bytes = new Uint8Array(es), bytePos = 0, groupPos = 0, b, p = 0;
    for (let i = 0; i < base64Str.length; i++) {
      b = table[base64Str.charCodeAt(i)];
      if (b === void 0) {
        switch (base64Str[i]) {
          case "=":
            groupPos = 0;
          case "\n":
          case "\r":
          case "	":
          case " ":
            continue;
          default:
            throw Error("invalid base64 string");
        }
      }
      switch (groupPos) {
        case 0:
          p = b;
          groupPos = 1;
          break;
        case 1:
          bytes[bytePos++] = p << 2 | (b & 48) >> 4;
          p = b;
          groupPos = 2;
          break;
        case 2:
          bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;
          p = b;
          groupPos = 3;
          break;
        case 3:
          bytes[bytePos++] = (p & 3) << 6 | b;
          groupPos = 0;
          break;
      }
    }
    if (groupPos == 1)
      throw Error("invalid base64 string");
    return bytes.subarray(0, bytePos);
  }
  function getEncodeTable(encoding) {
    if (!encodeTableStd) {
      encodeTableStd = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");
      encodeTableUrl = encodeTableStd.slice(0, -2).concat("-", "_");
    }
    return encoding == "url" ? (
      // biome-ignore lint/style/noNonNullAssertion: TS fails to narrow down
      encodeTableUrl
    ) : encodeTableStd;
  }
  function getDecodeTable() {
    if (!decodeTable) {
      decodeTable = [];
      const encodeTable = getEncodeTable("std");
      for (let i = 0; i < encodeTable.length; i++)
        decodeTable[encodeTable[i].charCodeAt(0)] = i;
      decodeTable["-".charCodeAt(0)] = encodeTable.indexOf("+");
      decodeTable["_".charCodeAt(0)] = encodeTable.indexOf("/");
    }
    return decodeTable;
  }
  var encodeTableStd, encodeTableUrl, decodeTable;
  var init_base64_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js
  function protoCamelCase(snakeCase) {
    let capNext = false;
    const b = [];
    for (let i = 0; i < snakeCase.length; i++) {
      let c = snakeCase.charAt(i);
      switch (c) {
        case "_":
          capNext = true;
          break;
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9":
          b.push(c);
          capNext = false;
          break;
        default:
          if (capNext) {
            capNext = false;
            c = c.toUpperCase();
          }
          b.push(c);
          break;
      }
    }
    return b.join("");
  }
  function safeObjectProperty(name) {
    return reservedObjectProperties.has(name) ? name + "$" : name;
  }
  var reservedObjectProperties;
  var init_names = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js"() {
      reservedObjectProperties = /* @__PURE__ */ new Set([
        // names reserved by JavaScript
        "constructor",
        "toString",
        "toJSON",
        "valueOf"
      ]);
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/restore-json-names.js
  function restoreJsonNames(message) {
    for (const f of message.field) {
      if (!unsafeIsSetExplicit(f, "jsonName")) {
        f.jsonName = protoCamelCase(f.name);
      }
    }
    message.nestedType.forEach(restoreJsonNames);
  }
  var init_restore_json_names = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/restore-json-names.js"() {
      init_names();
      init_unsafe();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js
  function parseTextFormatEnumValue(descEnum, value) {
    const enumValue = descEnum.values.find((v) => v.name === value);
    if (!enumValue) {
      throw new Error(`cannot parse ${descEnum} default value: ${value}`);
    }
    return enumValue.number;
  }
  function parseTextFormatScalarValue(type, value) {
    switch (type) {
      case ScalarType.STRING:
        return value;
      case ScalarType.BYTES: {
        const u = unescapeBytesDefaultValue(value);
        if (u === false) {
          throw new Error(`cannot parse ${ScalarType[type]} default value: ${value}`);
        }
        return u;
      }
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        return protoInt64.parse(value);
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        return protoInt64.uParse(value);
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        switch (value) {
          case "inf":
            return Number.POSITIVE_INFINITY;
          case "-inf":
            return Number.NEGATIVE_INFINITY;
          case "nan":
            return Number.NaN;
          default:
            return parseFloat(value);
        }
      case ScalarType.BOOL:
        return value === "true";
      case ScalarType.INT32:
      case ScalarType.UINT32:
      case ScalarType.SINT32:
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
        return parseInt(value, 10);
    }
  }
  function unescapeBytesDefaultValue(str) {
    const b = [];
    const input = {
      tail: str,
      c: "",
      next() {
        if (this.tail.length == 0) {
          return false;
        }
        this.c = this.tail[0];
        this.tail = this.tail.substring(1);
        return true;
      },
      take(n) {
        if (this.tail.length >= n) {
          const r = this.tail.substring(0, n);
          this.tail = this.tail.substring(n);
          return r;
        }
        return false;
      }
    };
    while (input.next()) {
      switch (input.c) {
        case "\\":
          if (input.next()) {
            switch (input.c) {
              case "\\":
                b.push(input.c.charCodeAt(0));
                break;
              case "b":
                b.push(8);
                break;
              case "f":
                b.push(12);
                break;
              case "n":
                b.push(10);
                break;
              case "r":
                b.push(13);
                break;
              case "t":
                b.push(9);
                break;
              case "v":
                b.push(11);
                break;
              case "0":
              case "1":
              case "2":
              case "3":
              case "4":
              case "5":
              case "6":
              case "7": {
                const s = input.c;
                const t = input.take(2);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 8);
                if (Number.isNaN(n)) {
                  return false;
                }
                b.push(n);
                break;
              }
              case "x": {
                const s = input.c;
                const t = input.take(2);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 16);
                if (Number.isNaN(n)) {
                  return false;
                }
                b.push(n);
                break;
              }
              case "u": {
                const s = input.c;
                const t = input.take(4);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 16);
                if (Number.isNaN(n)) {
                  return false;
                }
                const chunk = new Uint8Array(4);
                const view = new DataView(chunk.buffer);
                view.setInt32(0, n, true);
                b.push(chunk[0], chunk[1], chunk[2], chunk[3]);
                break;
              }
              case "U": {
                const s = input.c;
                const t = input.take(8);
                if (t === false) {
                  return false;
                }
                const tc = protoInt64.uEnc(s + t);
                const chunk = new Uint8Array(8);
                const view = new DataView(chunk.buffer);
                view.setInt32(0, tc.lo, true);
                view.setInt32(4, tc.hi, true);
                b.push(chunk[0], chunk[1], chunk[2], chunk[3], chunk[4], chunk[5], chunk[6], chunk[7]);
                break;
              }
            }
          }
          break;
        default:
          b.push(input.c.charCodeAt(0));
      }
    }
    return new Uint8Array(b);
  }
  var init_text_format = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js"() {
      init_descriptors();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js
  function* nestedTypes(desc) {
    switch (desc.kind) {
      case "file":
        for (const message of desc.messages) {
          yield message;
          yield* nestedTypes(message);
        }
        yield* desc.enums;
        yield* desc.services;
        yield* desc.extensions;
        break;
      case "message":
        for (const message of desc.nestedMessages) {
          yield message;
          yield* nestedTypes(message);
        }
        yield* desc.nestedEnums;
        yield* desc.nestedExtensions;
        break;
    }
  }
  var init_nested_types = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/registry.js
  function createFileRegistry(...args) {
    const registry = createBaseRegistry();
    if (!args.length) {
      return registry;
    }
    if ("$typeName" in args[0] && args[0].$typeName == "google.protobuf.FileDescriptorSet") {
      for (const file of args[0].file) {
        addFile(file, registry);
      }
      return registry;
    }
    if ("$typeName" in args[0]) {
      let recurseDeps = function(file) {
        const deps = [];
        for (const protoFileName of file.dependency) {
          if (registry.getFile(protoFileName) != void 0) {
            continue;
          }
          if (seen.has(protoFileName)) {
            continue;
          }
          const dep = resolve(protoFileName);
          if (!dep) {
            throw new Error(`Unable to resolve ${protoFileName}, imported by ${file.name}`);
          }
          if ("kind" in dep) {
            registry.addFile(dep, false, true);
          } else {
            seen.add(dep.name);
            deps.push(dep);
          }
        }
        return deps.concat(...deps.map(recurseDeps));
      };
      const input = args[0];
      const resolve = args[1];
      const seen = /* @__PURE__ */ new Set();
      for (const file of [input, ...recurseDeps(input)].reverse()) {
        addFile(file, registry);
      }
    } else {
      for (const fileReg of args) {
        for (const file of fileReg.files) {
          registry.addFile(file);
        }
      }
    }
    return registry;
  }
  function createBaseRegistry() {
    const types = /* @__PURE__ */ new Map();
    const extendees = /* @__PURE__ */ new Map();
    const files = /* @__PURE__ */ new Map();
    return {
      kind: "registry",
      types,
      extendees,
      [Symbol.iterator]() {
        return types.values();
      },
      get files() {
        return files.values();
      },
      addFile(file, skipTypes, withDeps) {
        files.set(file.proto.name, file);
        if (!skipTypes) {
          for (const type of nestedTypes(file)) {
            this.add(type);
          }
        }
        if (withDeps) {
          for (const f of file.dependencies) {
            this.addFile(f, skipTypes, withDeps);
          }
        }
      },
      add(desc) {
        if (desc.kind == "extension") {
          let numberToExt = extendees.get(desc.extendee.typeName);
          if (!numberToExt) {
            extendees.set(
              desc.extendee.typeName,
              // biome-ignore lint/suspicious/noAssignInExpressions: no
              numberToExt = /* @__PURE__ */ new Map()
            );
          }
          numberToExt.set(desc.number, desc);
        }
        types.set(desc.typeName, desc);
      },
      get(typeName) {
        return types.get(typeName);
      },
      getFile(fileName) {
        return files.get(fileName);
      },
      getMessage(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "message" ? t : void 0;
      },
      getEnum(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "enum" ? t : void 0;
      },
      getExtension(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "extension" ? t : void 0;
      },
      getExtensionFor(extendee, no) {
        var _a;
        return (_a = extendees.get(extendee.typeName)) === null || _a === void 0 ? void 0 : _a.get(no);
      },
      getService(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "service" ? t : void 0;
      }
    };
  }
  function addFile(proto, reg) {
    var _a, _b;
    const file = {
      kind: "file",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      edition: getFileEdition(proto),
      name: proto.name.replace(/\.proto$/, ""),
      dependencies: findFileDependencies(proto, reg),
      enums: [],
      messages: [],
      extensions: [],
      services: [],
      toString() {
        return `file ${proto.name}`;
      }
    };
    const mapEntriesStore = /* @__PURE__ */ new Map();
    const mapEntries = {
      get(typeName) {
        return mapEntriesStore.get(typeName);
      },
      add(desc) {
        var _a2;
        assert(((_a2 = desc.proto.options) === null || _a2 === void 0 ? void 0 : _a2.mapEntry) === true);
        mapEntriesStore.set(desc.typeName, desc);
      }
    };
    for (const enumProto of proto.enumType) {
      addEnum(enumProto, file, void 0, reg);
    }
    for (const messageProto of proto.messageType) {
      addMessage(messageProto, file, void 0, reg, mapEntries);
    }
    for (const serviceProto of proto.service) {
      addService(serviceProto, file, reg);
    }
    addExtensions(file, reg);
    for (const mapEntry of mapEntriesStore.values()) {
      addFields(mapEntry, reg, mapEntries);
    }
    for (const message of file.messages) {
      addFields(message, reg, mapEntries);
      addExtensions(message, reg);
    }
    reg.addFile(file, true);
  }
  function addExtensions(desc, reg) {
    switch (desc.kind) {
      case "file":
        for (const proto of desc.proto.extension) {
          const ext = newField(proto, desc, reg);
          desc.extensions.push(ext);
          reg.add(ext);
        }
        break;
      case "message":
        for (const proto of desc.proto.extension) {
          const ext = newField(proto, desc, reg);
          desc.nestedExtensions.push(ext);
          reg.add(ext);
        }
        for (const message of desc.nestedMessages) {
          addExtensions(message, reg);
        }
        break;
    }
  }
  function addFields(message, reg, mapEntries) {
    const allOneofs = message.proto.oneofDecl.map((proto) => newOneof(proto, message));
    const oneofsSeen = /* @__PURE__ */ new Set();
    for (const proto of message.proto.field) {
      const oneof = findOneof(proto, allOneofs);
      const field = newField(proto, message, reg, oneof, mapEntries);
      message.fields.push(field);
      message.field[field.localName] = field;
      if (oneof === void 0) {
        message.members.push(field);
      } else {
        oneof.fields.push(field);
        if (!oneofsSeen.has(oneof)) {
          oneofsSeen.add(oneof);
          message.members.push(oneof);
        }
      }
    }
    for (const oneof of allOneofs.filter((o) => oneofsSeen.has(o))) {
      message.oneofs.push(oneof);
    }
    for (const child of message.nestedMessages) {
      addFields(child, reg, mapEntries);
    }
  }
  function addEnum(proto, file, parent, reg) {
    var _a, _b, _c, _d, _e;
    const sharedPrefix = findEnumSharedPrefix(proto.name, proto.value);
    const desc = {
      kind: "enum",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      parent,
      open: true,
      name: proto.name,
      typeName: makeTypeName(proto, parent, file),
      value: {},
      values: [],
      sharedPrefix,
      toString() {
        return `enum ${this.typeName}`;
      }
    };
    desc.open = isEnumOpen(desc);
    reg.add(desc);
    for (const p of proto.value) {
      const name = p.name;
      desc.values.push(
        // biome-ignore lint/suspicious/noAssignInExpressions: no
        desc.value[p.number] = {
          kind: "enum_value",
          proto: p,
          deprecated: (_d = (_c = p.options) === null || _c === void 0 ? void 0 : _c.deprecated) !== null && _d !== void 0 ? _d : false,
          parent: desc,
          name,
          localName: safeObjectProperty(sharedPrefix == void 0 ? name : name.substring(sharedPrefix.length)),
          number: p.number,
          toString() {
            return `enum value ${desc.typeName}.${name}`;
          }
        }
      );
    }
    ((_e = parent === null || parent === void 0 ? void 0 : parent.nestedEnums) !== null && _e !== void 0 ? _e : file.enums).push(desc);
  }
  function addMessage(proto, file, parent, reg, mapEntries) {
    var _a, _b, _c, _d;
    const desc = {
      kind: "message",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      parent,
      name: proto.name,
      typeName: makeTypeName(proto, parent, file),
      fields: [],
      field: {},
      oneofs: [],
      members: [],
      nestedEnums: [],
      nestedMessages: [],
      nestedExtensions: [],
      toString() {
        return `message ${this.typeName}`;
      }
    };
    if (((_c = proto.options) === null || _c === void 0 ? void 0 : _c.mapEntry) === true) {
      mapEntries.add(desc);
    } else {
      ((_d = parent === null || parent === void 0 ? void 0 : parent.nestedMessages) !== null && _d !== void 0 ? _d : file.messages).push(desc);
      reg.add(desc);
    }
    for (const enumProto of proto.enumType) {
      addEnum(enumProto, file, desc, reg);
    }
    for (const messageProto of proto.nestedType) {
      addMessage(messageProto, file, desc, reg, mapEntries);
    }
  }
  function addService(proto, file, reg) {
    var _a, _b;
    const desc = {
      kind: "service",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      name: proto.name,
      typeName: makeTypeName(proto, void 0, file),
      methods: [],
      method: {},
      toString() {
        return `service ${this.typeName}`;
      }
    };
    file.services.push(desc);
    reg.add(desc);
    for (const methodProto of proto.method) {
      const method = newMethod(methodProto, desc, reg);
      desc.methods.push(method);
      desc.method[method.localName] = method;
    }
  }
  function newMethod(proto, parent, reg) {
    var _a, _b, _c, _d;
    let methodKind;
    if (proto.clientStreaming && proto.serverStreaming) {
      methodKind = "bidi_streaming";
    } else if (proto.clientStreaming) {
      methodKind = "client_streaming";
    } else if (proto.serverStreaming) {
      methodKind = "server_streaming";
    } else {
      methodKind = "unary";
    }
    const input = reg.getMessage(trimLeadingDot(proto.inputType));
    const output = reg.getMessage(trimLeadingDot(proto.outputType));
    assert(input, `invalid MethodDescriptorProto: input_type ${proto.inputType} not found`);
    assert(output, `invalid MethodDescriptorProto: output_type ${proto.inputType} not found`);
    const name = proto.name;
    return {
      kind: "rpc",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      parent,
      name,
      localName: safeObjectProperty(name.length ? safeObjectProperty(name[0].toLowerCase() + name.substring(1)) : name),
      methodKind,
      input,
      output,
      idempotency: (_d = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.idempotencyLevel) !== null && _d !== void 0 ? _d : IDEMPOTENCY_UNKNOWN,
      toString() {
        return `rpc ${parent.typeName}.${name}`;
      }
    };
  }
  function newOneof(proto, parent) {
    return {
      kind: "oneof",
      proto,
      deprecated: false,
      parent,
      fields: [],
      name: proto.name,
      localName: safeObjectProperty(protoCamelCase(proto.name)),
      toString() {
        return `oneof ${parent.typeName}.${this.name}`;
      }
    };
  }
  function newField(proto, parentOrFile, reg, oneof, mapEntries) {
    var _a, _b, _c;
    const isExtension = mapEntries === void 0;
    const field = {
      kind: "field",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      name: proto.name,
      number: proto.number,
      scalar: void 0,
      message: void 0,
      enum: void 0,
      presence: getFieldPresence(proto, oneof, isExtension, parentOrFile),
      listKind: void 0,
      mapKind: void 0,
      mapKey: void 0,
      delimitedEncoding: void 0,
      packed: void 0,
      longAsString: false,
      getDefaultValue: void 0
    };
    if (isExtension) {
      const file = parentOrFile.kind == "file" ? parentOrFile : parentOrFile.file;
      const parent = parentOrFile.kind == "file" ? void 0 : parentOrFile;
      const typeName = makeTypeName(proto, parent, file);
      field.kind = "extension";
      field.file = file;
      field.parent = parent;
      field.oneof = void 0;
      field.typeName = typeName;
      field.jsonName = `[${typeName}]`;
      field.toString = () => `extension ${typeName}`;
      const extendee = reg.getMessage(trimLeadingDot(proto.extendee));
      assert(extendee, `invalid FieldDescriptorProto: extendee ${proto.extendee} not found`);
      field.extendee = extendee;
    } else {
      const parent = parentOrFile;
      assert(parent.kind == "message");
      field.parent = parent;
      field.oneof = oneof;
      field.localName = oneof ? protoCamelCase(proto.name) : safeObjectProperty(protoCamelCase(proto.name));
      field.jsonName = proto.jsonName;
      field.toString = () => `field ${parent.typeName}.${proto.name}`;
    }
    const label = proto.label;
    const type = proto.type;
    const jstype = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.jstype;
    if (label === LABEL_REPEATED) {
      const mapEntry = type == TYPE_MESSAGE ? mapEntries === null || mapEntries === void 0 ? void 0 : mapEntries.get(trimLeadingDot(proto.typeName)) : void 0;
      if (mapEntry) {
        field.fieldKind = "map";
        const { key, value } = findMapEntryFields(mapEntry);
        field.mapKey = key.scalar;
        field.mapKind = value.fieldKind;
        field.message = value.message;
        field.delimitedEncoding = false;
        field.enum = value.enum;
        field.scalar = value.scalar;
        return field;
      }
      field.fieldKind = "list";
      switch (type) {
        case TYPE_MESSAGE:
        case TYPE_GROUP:
          field.listKind = "message";
          field.message = reg.getMessage(trimLeadingDot(proto.typeName));
          assert(field.message);
          field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);
          break;
        case TYPE_ENUM:
          field.listKind = "enum";
          field.enum = reg.getEnum(trimLeadingDot(proto.typeName));
          assert(field.enum);
          break;
        default:
          field.listKind = "scalar";
          field.scalar = type;
          field.longAsString = jstype == JS_STRING;
          break;
      }
      field.packed = isPackedField(proto, parentOrFile);
      return field;
    }
    switch (type) {
      case TYPE_MESSAGE:
      case TYPE_GROUP:
        field.fieldKind = "message";
        field.message = reg.getMessage(trimLeadingDot(proto.typeName));
        assert(field.message, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);
        field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);
        field.getDefaultValue = () => void 0;
        break;
      case TYPE_ENUM: {
        const enumeration = reg.getEnum(trimLeadingDot(proto.typeName));
        assert(enumeration !== void 0, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);
        field.fieldKind = "enum";
        field.enum = reg.getEnum(trimLeadingDot(proto.typeName));
        field.getDefaultValue = () => {
          return unsafeIsSetExplicit(proto, "defaultValue") ? parseTextFormatEnumValue(enumeration, proto.defaultValue) : void 0;
        };
        break;
      }
      default: {
        field.fieldKind = "scalar";
        field.scalar = type;
        field.longAsString = jstype == JS_STRING;
        field.getDefaultValue = () => {
          return unsafeIsSetExplicit(proto, "defaultValue") ? parseTextFormatScalarValue(type, proto.defaultValue) : void 0;
        };
        break;
      }
    }
    return field;
  }
  function getFileEdition(proto) {
    switch (proto.syntax) {
      case "":
      case "proto2":
        return EDITION_PROTO22;
      case "proto3":
        return EDITION_PROTO32;
      case "editions":
        if (proto.edition in featureDefaults) {
          return proto.edition;
        }
        throw new Error(`${proto.name}: unsupported edition`);
      default:
        throw new Error(`${proto.name}: unsupported syntax "${proto.syntax}"`);
    }
  }
  function findFileDependencies(proto, reg) {
    return proto.dependency.map((wantName) => {
      const dep = reg.getFile(wantName);
      if (!dep) {
        throw new Error(`Cannot find ${wantName}, imported by ${proto.name}`);
      }
      return dep;
    });
  }
  function findEnumSharedPrefix(enumName, values) {
    const prefix = camelToSnakeCase(enumName) + "_";
    for (const value of values) {
      if (!value.name.toLowerCase().startsWith(prefix)) {
        return void 0;
      }
      const shortName = value.name.substring(prefix.length);
      if (shortName.length == 0) {
        return void 0;
      }
      if (/^\d/.test(shortName)) {
        return void 0;
      }
    }
    return prefix;
  }
  function camelToSnakeCase(camel) {
    return (camel.substring(0, 1) + camel.substring(1).replace(/[A-Z]/g, (c) => "_" + c)).toLowerCase();
  }
  function makeTypeName(proto, parent, file) {
    let typeName;
    if (parent) {
      typeName = `${parent.typeName}.${proto.name}`;
    } else if (file.proto.package.length > 0) {
      typeName = `${file.proto.package}.${proto.name}`;
    } else {
      typeName = `${proto.name}`;
    }
    return typeName;
  }
  function trimLeadingDot(typeName) {
    return typeName.startsWith(".") ? typeName.substring(1) : typeName;
  }
  function findOneof(proto, allOneofs) {
    if (!unsafeIsSetExplicit(proto, "oneofIndex")) {
      return void 0;
    }
    if (proto.proto3Optional) {
      return void 0;
    }
    const oneof = allOneofs[proto.oneofIndex];
    assert(oneof, `invalid FieldDescriptorProto: oneof #${proto.oneofIndex} for field #${proto.number} not found`);
    return oneof;
  }
  function getFieldPresence(proto, oneof, isExtension, parent) {
    if (proto.label == LABEL_REQUIRED) {
      return LEGACY_REQUIRED;
    }
    if (proto.label == LABEL_REPEATED) {
      return IMPLICIT3;
    }
    if (!!oneof || proto.proto3Optional) {
      return EXPLICIT;
    }
    if (isExtension) {
      return EXPLICIT;
    }
    const resolved = resolveFeature("fieldPresence", { proto, parent });
    if (resolved == IMPLICIT3 && (proto.type == TYPE_MESSAGE || proto.type == TYPE_GROUP)) {
      return EXPLICIT;
    }
    return resolved;
  }
  function isPackedField(proto, parent) {
    if (proto.label != LABEL_REPEATED) {
      return false;
    }
    switch (proto.type) {
      case TYPE_STRING:
      case TYPE_BYTES:
      case TYPE_GROUP:
      case TYPE_MESSAGE:
        return false;
    }
    const o = proto.options;
    if (o && unsafeIsSetExplicit(o, "packed")) {
      return o.packed;
    }
    return PACKED == resolveFeature("repeatedFieldEncoding", {
      proto,
      parent
    });
  }
  function findMapEntryFields(mapEntry) {
    const key = mapEntry.fields.find((f) => f.number === 1);
    const value = mapEntry.fields.find((f) => f.number === 2);
    assert(key && key.fieldKind == "scalar" && key.scalar != ScalarType.BYTES && key.scalar != ScalarType.FLOAT && key.scalar != ScalarType.DOUBLE && value && value.fieldKind != "list" && value.fieldKind != "map");
    return { key, value };
  }
  function isEnumOpen(desc) {
    var _a;
    return OPEN == resolveFeature("enumType", {
      proto: desc.proto,
      parent: (_a = desc.parent) !== null && _a !== void 0 ? _a : desc.file
    });
  }
  function isDelimitedEncoding(proto, parent) {
    if (proto.type == TYPE_GROUP) {
      return true;
    }
    return DELIMITED == resolveFeature("messageEncoding", {
      proto,
      parent
    });
  }
  function resolveFeature(name, ref) {
    var _a, _b;
    const featureSet = (_a = ref.proto.options) === null || _a === void 0 ? void 0 : _a.features;
    if (featureSet) {
      const val = featureSet[name];
      if (val != 0) {
        return val;
      }
    }
    if ("kind" in ref) {
      if (ref.kind == "message") {
        return resolveFeature(name, (_b = ref.parent) !== null && _b !== void 0 ? _b : ref.file);
      }
      const editionDefaults = featureDefaults[ref.edition];
      if (!editionDefaults) {
        throw new Error(`feature default for edition ${ref.edition} not found`);
      }
      return editionDefaults[name];
    }
    return resolveFeature(name, ref.parent);
  }
  function assert(condition, msg) {
    if (!condition) {
      throw new Error(msg);
    }
  }
  var EDITION_PROTO22, EDITION_PROTO32, TYPE_STRING, TYPE_GROUP, TYPE_MESSAGE, TYPE_BYTES, TYPE_ENUM, LABEL_REPEATED, LABEL_REQUIRED, JS_STRING, IDEMPOTENCY_UNKNOWN, EXPLICIT, IMPLICIT3, LEGACY_REQUIRED, PACKED, DELIMITED, OPEN, featureDefaults;
  var init_registry = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/registry.js"() {
      init_descriptors();
      init_text_format();
      init_nested_types();
      init_unsafe();
      init_names();
      EDITION_PROTO22 = 998;
      EDITION_PROTO32 = 999;
      TYPE_STRING = 9;
      TYPE_GROUP = 10;
      TYPE_MESSAGE = 11;
      TYPE_BYTES = 12;
      TYPE_ENUM = 14;
      LABEL_REPEATED = 3;
      LABEL_REQUIRED = 2;
      JS_STRING = 1;
      IDEMPOTENCY_UNKNOWN = 0;
      EXPLICIT = 1;
      IMPLICIT3 = 2;
      LEGACY_REQUIRED = 3;
      PACKED = 1;
      DELIMITED = 2;
      OPEN = 1;
      featureDefaults = {
        // EDITION_PROTO2
        998: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 2,
          // CLOSED,
          repeatedFieldEncoding: 2,
          // EXPANDED,
          utf8Validation: 3,
          // NONE,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 2,
          // LEGACY_BEST_EFFORT,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_PROTO3
        999: {
          fieldPresence: 2,
          // IMPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_2023
        1e3: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_2024
        1001: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 1,
          // STYLE2024,
          defaultSymbolVisibility: 2
          // EXPORT_TOP_LEVEL,
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/boot.js
  function boot(boot2) {
    const root = bootFileDescriptorProto(boot2);
    root.messageType.forEach(restoreJsonNames);
    const reg = createFileRegistry(root, () => void 0);
    return reg.getFile(root.name);
  }
  function bootFileDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      syntax: "",
      edition: 0
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FileDescriptorProto", dependency: [], publicDependency: [], weakDependency: [], optionDependency: [], service: [], extension: [] }, init), { messageType: init.messageType.map(bootDescriptorProto), enumType: init.enumType.map(bootEnumDescriptorProto) }));
  }
  function bootDescriptorProto(init) {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    const proto = /* @__PURE__ */ Object.create({
      visibility: 0
    });
    return Object.assign(proto, {
      $typeName: "google.protobuf.DescriptorProto",
      name: init.name,
      field: (_b = (_a = init.field) === null || _a === void 0 ? void 0 : _a.map(bootFieldDescriptorProto)) !== null && _b !== void 0 ? _b : [],
      extension: [],
      nestedType: (_d = (_c = init.nestedType) === null || _c === void 0 ? void 0 : _c.map(bootDescriptorProto)) !== null && _d !== void 0 ? _d : [],
      enumType: (_f = (_e = init.enumType) === null || _e === void 0 ? void 0 : _e.map(bootEnumDescriptorProto)) !== null && _f !== void 0 ? _f : [],
      extensionRange: (_h = (_g = init.extensionRange) === null || _g === void 0 ? void 0 : _g.map((e) => Object.assign({ $typeName: "google.protobuf.DescriptorProto.ExtensionRange" }, e))) !== null && _h !== void 0 ? _h : [],
      oneofDecl: [],
      reservedRange: [],
      reservedName: []
    });
  }
  function bootFieldDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      label: 1,
      typeName: "",
      extendee: "",
      defaultValue: "",
      oneofIndex: 0,
      jsonName: "",
      proto3Optional: false
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FieldDescriptorProto" }, init), { options: init.options ? bootFieldOptions(init.options) : void 0 }));
  }
  function bootFieldOptions(init) {
    var _a, _b, _c;
    const proto = /* @__PURE__ */ Object.create({
      ctype: 0,
      packed: false,
      jstype: 0,
      lazy: false,
      unverifiedLazy: false,
      deprecated: false,
      weak: false,
      debugRedact: false,
      retention: 0
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FieldOptions" }, init), { targets: (_a = init.targets) !== null && _a !== void 0 ? _a : [], editionDefaults: (_c = (_b = init.editionDefaults) === null || _b === void 0 ? void 0 : _b.map((e) => Object.assign({ $typeName: "google.protobuf.FieldOptions.EditionDefault" }, e))) !== null && _c !== void 0 ? _c : [], uninterpretedOption: [] }));
  }
  function bootEnumDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      visibility: 0
    });
    return Object.assign(proto, {
      $typeName: "google.protobuf.EnumDescriptorProto",
      name: init.name,
      reservedName: [],
      reservedRange: [],
      value: init.value.map((e) => Object.assign({ $typeName: "google.protobuf.EnumValueDescriptorProto" }, e))
    });
  }
  var init_boot = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/boot.js"() {
      init_restore_json_names();
      init_registry();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/message.js
  function messageDesc(file, path, ...paths) {
    return paths.reduce((acc, cur) => acc.nestedMessages[cur], file.messages[path]);
  }
  var init_message = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/message.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/enum.js
  var init_enum = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/enum.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js
  var file_google_protobuf_descriptor, FileDescriptorProtoSchema, ExtensionRangeOptions_VerificationState, FieldDescriptorProto_Type, FieldDescriptorProto_Label, FileOptions_OptimizeMode, FieldOptions_CType, FieldOptions_JSType, FieldOptions_OptionRetention, FieldOptions_OptionTargetType, MethodOptions_IdempotencyLevel, FeatureSet_VisibilityFeature_DefaultSymbolVisibility, FeatureSet_FieldPresence, FeatureSet_EnumType, FeatureSet_RepeatedFieldEncoding, FeatureSet_Utf8Validation, FeatureSet_MessageEncoding, FeatureSet_JsonFormat, FeatureSet_EnforceNamingStyle, GeneratedCodeInfo_Annotation_Semantic, Edition, SymbolVisibility;
  var init_descriptor_pb = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js"() {
      init_boot();
      init_message();
      file_google_protobuf_descriptor = /* @__PURE__ */ boot({ "name": "google/protobuf/descriptor.proto", "package": "google.protobuf", "messageType": [{ "name": "FileDescriptorSet", "field": [{ "name": "file", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.FileDescriptorProto" }], "extensionRange": [{ "start": 536e6, "end": 536000001 }] }, { "name": "FileDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "package", "number": 2, "type": 9, "label": 1 }, { "name": "dependency", "number": 3, "type": 9, "label": 3 }, { "name": "public_dependency", "number": 10, "type": 5, "label": 3 }, { "name": "weak_dependency", "number": 11, "type": 5, "label": 3 }, { "name": "option_dependency", "number": 15, "type": 9, "label": 3 }, { "name": "message_type", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto" }, { "name": "enum_type", "number": 5, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto" }, { "name": "service", "number": 6, "type": 11, "label": 3, "typeName": ".google.protobuf.ServiceDescriptorProto" }, { "name": "extension", "number": 7, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "options", "number": 8, "type": 11, "label": 1, "typeName": ".google.protobuf.FileOptions" }, { "name": "source_code_info", "number": 9, "type": 11, "label": 1, "typeName": ".google.protobuf.SourceCodeInfo" }, { "name": "syntax", "number": 12, "type": 9, "label": 1 }, { "name": "edition", "number": 14, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }] }, { "name": "DescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "field", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "extension", "number": 6, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "nested_type", "number": 3, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto" }, { "name": "enum_type", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto" }, { "name": "extension_range", "number": 5, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto.ExtensionRange" }, { "name": "oneof_decl", "number": 8, "type": 11, "label": 3, "typeName": ".google.protobuf.OneofDescriptorProto" }, { "name": "options", "number": 7, "type": 11, "label": 1, "typeName": ".google.protobuf.MessageOptions" }, { "name": "reserved_range", "number": 9, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto.ReservedRange" }, { "name": "reserved_name", "number": 10, "type": 9, "label": 3 }, { "name": "visibility", "number": 11, "type": 14, "label": 1, "typeName": ".google.protobuf.SymbolVisibility" }], "nestedType": [{ "name": "ExtensionRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.ExtensionRangeOptions" }] }, { "name": "ReservedRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }] }] }, { "name": "ExtensionRangeOptions", "field": [{ "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }, { "name": "declaration", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.ExtensionRangeOptions.Declaration", "options": { "retention": 2 } }, { "name": "features", "number": 50, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "verification", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.ExtensionRangeOptions.VerificationState", "defaultValue": "UNVERIFIED", "options": { "retention": 2 } }], "nestedType": [{ "name": "Declaration", "field": [{ "name": "number", "number": 1, "type": 5, "label": 1 }, { "name": "full_name", "number": 2, "type": 9, "label": 1 }, { "name": "type", "number": 3, "type": 9, "label": 1 }, { "name": "reserved", "number": 5, "type": 8, "label": 1 }, { "name": "repeated", "number": 6, "type": 8, "label": 1 }] }], "enumType": [{ "name": "VerificationState", "value": [{ "name": "DECLARATION", "number": 0 }, { "name": "UNVERIFIED", "number": 1 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "FieldDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "number", "number": 3, "type": 5, "label": 1 }, { "name": "label", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldDescriptorProto.Label" }, { "name": "type", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldDescriptorProto.Type" }, { "name": "type_name", "number": 6, "type": 9, "label": 1 }, { "name": "extendee", "number": 2, "type": 9, "label": 1 }, { "name": "default_value", "number": 7, "type": 9, "label": 1 }, { "name": "oneof_index", "number": 9, "type": 5, "label": 1 }, { "name": "json_name", "number": 10, "type": 9, "label": 1 }, { "name": "options", "number": 8, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions" }, { "name": "proto3_optional", "number": 17, "type": 8, "label": 1 }], "enumType": [{ "name": "Type", "value": [{ "name": "TYPE_DOUBLE", "number": 1 }, { "name": "TYPE_FLOAT", "number": 2 }, { "name": "TYPE_INT64", "number": 3 }, { "name": "TYPE_UINT64", "number": 4 }, { "name": "TYPE_INT32", "number": 5 }, { "name": "TYPE_FIXED64", "number": 6 }, { "name": "TYPE_FIXED32", "number": 7 }, { "name": "TYPE_BOOL", "number": 8 }, { "name": "TYPE_STRING", "number": 9 }, { "name": "TYPE_GROUP", "number": 10 }, { "name": "TYPE_MESSAGE", "number": 11 }, { "name": "TYPE_BYTES", "number": 12 }, { "name": "TYPE_UINT32", "number": 13 }, { "name": "TYPE_ENUM", "number": 14 }, { "name": "TYPE_SFIXED32", "number": 15 }, { "name": "TYPE_SFIXED64", "number": 16 }, { "name": "TYPE_SINT32", "number": 17 }, { "name": "TYPE_SINT64", "number": 18 }] }, { "name": "Label", "value": [{ "name": "LABEL_OPTIONAL", "number": 1 }, { "name": "LABEL_REPEATED", "number": 3 }, { "name": "LABEL_REQUIRED", "number": 2 }] }] }, { "name": "OneofDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "options", "number": 2, "type": 11, "label": 1, "typeName": ".google.protobuf.OneofOptions" }] }, { "name": "EnumDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "value", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumValueDescriptorProto" }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.EnumOptions" }, { "name": "reserved_range", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto.EnumReservedRange" }, { "name": "reserved_name", "number": 5, "type": 9, "label": 3 }, { "name": "visibility", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.SymbolVisibility" }], "nestedType": [{ "name": "EnumReservedRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }] }] }, { "name": "EnumValueDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "number", "number": 2, "type": 5, "label": 1 }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.EnumValueOptions" }] }, { "name": "ServiceDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "method", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.MethodDescriptorProto" }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.ServiceOptions" }] }, { "name": "MethodDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "input_type", "number": 2, "type": 9, "label": 1 }, { "name": "output_type", "number": 3, "type": 9, "label": 1 }, { "name": "options", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.MethodOptions" }, { "name": "client_streaming", "number": 5, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "server_streaming", "number": 6, "type": 8, "label": 1, "defaultValue": "false" }] }, { "name": "FileOptions", "field": [{ "name": "java_package", "number": 1, "type": 9, "label": 1 }, { "name": "java_outer_classname", "number": 8, "type": 9, "label": 1 }, { "name": "java_multiple_files", "number": 10, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "java_generate_equals_and_hash", "number": 20, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "java_string_check_utf8", "number": 27, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "optimize_for", "number": 9, "type": 14, "label": 1, "typeName": ".google.protobuf.FileOptions.OptimizeMode", "defaultValue": "SPEED" }, { "name": "go_package", "number": 11, "type": 9, "label": 1 }, { "name": "cc_generic_services", "number": 16, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "java_generic_services", "number": 17, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "py_generic_services", "number": 18, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 23, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "cc_enable_arenas", "number": 31, "type": 8, "label": 1, "defaultValue": "true" }, { "name": "objc_class_prefix", "number": 36, "type": 9, "label": 1 }, { "name": "csharp_namespace", "number": 37, "type": 9, "label": 1 }, { "name": "swift_prefix", "number": 39, "type": 9, "label": 1 }, { "name": "php_class_prefix", "number": 40, "type": 9, "label": 1 }, { "name": "php_namespace", "number": 41, "type": 9, "label": 1 }, { "name": "php_metadata_namespace", "number": 44, "type": 9, "label": 1 }, { "name": "ruby_package", "number": 45, "type": 9, "label": 1 }, { "name": "features", "number": 50, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "enumType": [{ "name": "OptimizeMode", "value": [{ "name": "SPEED", "number": 1 }, { "name": "CODE_SIZE", "number": 2 }, { "name": "LITE_RUNTIME", "number": 3 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "MessageOptions", "field": [{ "name": "message_set_wire_format", "number": 1, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "no_standard_descriptor_accessor", "number": 2, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "map_entry", "number": 7, "type": 8, "label": 1 }, { "name": "deprecated_legacy_json_field_conflicts", "number": 11, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "features", "number": 12, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "FieldOptions", "field": [{ "name": "ctype", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.CType", "defaultValue": "STRING" }, { "name": "packed", "number": 2, "type": 8, "label": 1 }, { "name": "jstype", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.JSType", "defaultValue": "JS_NORMAL" }, { "name": "lazy", "number": 5, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "unverified_lazy", "number": 15, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "weak", "number": 10, "type": 8, "label": 1, "defaultValue": "false", "options": { "deprecated": true } }, { "name": "debug_redact", "number": 16, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "retention", "number": 17, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.OptionRetention" }, { "name": "targets", "number": 19, "type": 14, "label": 3, "typeName": ".google.protobuf.FieldOptions.OptionTargetType" }, { "name": "edition_defaults", "number": 20, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldOptions.EditionDefault" }, { "name": "features", "number": 21, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "feature_support", "number": 22, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions.FeatureSupport" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "nestedType": [{ "name": "EditionDefault", "field": [{ "name": "edition", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "value", "number": 2, "type": 9, "label": 1 }] }, { "name": "FeatureSupport", "field": [{ "name": "edition_introduced", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "edition_deprecated", "number": 2, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "deprecation_warning", "number": 3, "type": 9, "label": 1 }, { "name": "edition_removed", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }] }], "enumType": [{ "name": "CType", "value": [{ "name": "STRING", "number": 0 }, { "name": "CORD", "number": 1 }, { "name": "STRING_PIECE", "number": 2 }] }, { "name": "JSType", "value": [{ "name": "JS_NORMAL", "number": 0 }, { "name": "JS_STRING", "number": 1 }, { "name": "JS_NUMBER", "number": 2 }] }, { "name": "OptionRetention", "value": [{ "name": "RETENTION_UNKNOWN", "number": 0 }, { "name": "RETENTION_RUNTIME", "number": 1 }, { "name": "RETENTION_SOURCE", "number": 2 }] }, { "name": "OptionTargetType", "value": [{ "name": "TARGET_TYPE_UNKNOWN", "number": 0 }, { "name": "TARGET_TYPE_FILE", "number": 1 }, { "name": "TARGET_TYPE_EXTENSION_RANGE", "number": 2 }, { "name": "TARGET_TYPE_MESSAGE", "number": 3 }, { "name": "TARGET_TYPE_FIELD", "number": 4 }, { "name": "TARGET_TYPE_ONEOF", "number": 5 }, { "name": "TARGET_TYPE_ENUM", "number": 6 }, { "name": "TARGET_TYPE_ENUM_ENTRY", "number": 7 }, { "name": "TARGET_TYPE_SERVICE", "number": 8 }, { "name": "TARGET_TYPE_METHOD", "number": 9 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "OneofOptions", "field": [{ "name": "features", "number": 1, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "EnumOptions", "field": [{ "name": "allow_alias", "number": 2, "type": 8, "label": 1 }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated_legacy_json_field_conflicts", "number": 6, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "features", "number": 7, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "EnumValueOptions", "field": [{ "name": "deprecated", "number": 1, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "features", "number": 2, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "debug_redact", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "feature_support", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions.FeatureSupport" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "ServiceOptions", "field": [{ "name": "features", "number": 34, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "deprecated", "number": 33, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "MethodOptions", "field": [{ "name": "deprecated", "number": 33, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "idempotency_level", "number": 34, "type": 14, "label": 1, "typeName": ".google.protobuf.MethodOptions.IdempotencyLevel", "defaultValue": "IDEMPOTENCY_UNKNOWN" }, { "name": "features", "number": 35, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "enumType": [{ "name": "IdempotencyLevel", "value": [{ "name": "IDEMPOTENCY_UNKNOWN", "number": 0 }, { "name": "NO_SIDE_EFFECTS", "number": 1 }, { "name": "IDEMPOTENT", "number": 2 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "UninterpretedOption", "field": [{ "name": "name", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption.NamePart" }, { "name": "identifier_value", "number": 3, "type": 9, "label": 1 }, { "name": "positive_int_value", "number": 4, "type": 4, "label": 1 }, { "name": "negative_int_value", "number": 5, "type": 3, "label": 1 }, { "name": "double_value", "number": 6, "type": 1, "label": 1 }, { "name": "string_value", "number": 7, "type": 12, "label": 1 }, { "name": "aggregate_value", "number": 8, "type": 9, "label": 1 }], "nestedType": [{ "name": "NamePart", "field": [{ "name": "name_part", "number": 1, "type": 9, "label": 2 }, { "name": "is_extension", "number": 2, "type": 8, "label": 2 }] }] }, { "name": "FeatureSet", "field": [{ "name": "field_presence", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.FieldPresence", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "EXPLICIT", "edition": 900 }, { "value": "IMPLICIT", "edition": 999 }, { "value": "EXPLICIT", "edition": 1e3 }] } }, { "name": "enum_type", "number": 2, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.EnumType", "options": { "retention": 1, "targets": [6, 1], "editionDefaults": [{ "value": "CLOSED", "edition": 900 }, { "value": "OPEN", "edition": 999 }] } }, { "name": "repeated_field_encoding", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.RepeatedFieldEncoding", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "EXPANDED", "edition": 900 }, { "value": "PACKED", "edition": 999 }] } }, { "name": "utf8_validation", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.Utf8Validation", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "NONE", "edition": 900 }, { "value": "VERIFY", "edition": 999 }] } }, { "name": "message_encoding", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.MessageEncoding", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "LENGTH_PREFIXED", "edition": 900 }] } }, { "name": "json_format", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.JsonFormat", "options": { "retention": 1, "targets": [3, 6, 1], "editionDefaults": [{ "value": "LEGACY_BEST_EFFORT", "edition": 900 }, { "value": "ALLOW", "edition": 999 }] } }, { "name": "enforce_naming_style", "number": 7, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.EnforceNamingStyle", "options": { "retention": 2, "targets": [1, 2, 3, 4, 5, 6, 7, 8, 9], "editionDefaults": [{ "value": "STYLE_LEGACY", "edition": 900 }, { "value": "STYLE2024", "edition": 1001 }] } }, { "name": "default_symbol_visibility", "number": 8, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility", "options": { "retention": 2, "targets": [1], "editionDefaults": [{ "value": "EXPORT_ALL", "edition": 900 }, { "value": "EXPORT_TOP_LEVEL", "edition": 1001 }] } }], "nestedType": [{ "name": "VisibilityFeature", "enumType": [{ "name": "DefaultSymbolVisibility", "value": [{ "name": "DEFAULT_SYMBOL_VISIBILITY_UNKNOWN", "number": 0 }, { "name": "EXPORT_ALL", "number": 1 }, { "name": "EXPORT_TOP_LEVEL", "number": 2 }, { "name": "LOCAL_ALL", "number": 3 }, { "name": "STRICT", "number": 4 }] }] }], "enumType": [{ "name": "FieldPresence", "value": [{ "name": "FIELD_PRESENCE_UNKNOWN", "number": 0 }, { "name": "EXPLICIT", "number": 1 }, { "name": "IMPLICIT", "number": 2 }, { "name": "LEGACY_REQUIRED", "number": 3 }] }, { "name": "EnumType", "value": [{ "name": "ENUM_TYPE_UNKNOWN", "number": 0 }, { "name": "OPEN", "number": 1 }, { "name": "CLOSED", "number": 2 }] }, { "name": "RepeatedFieldEncoding", "value": [{ "name": "REPEATED_FIELD_ENCODING_UNKNOWN", "number": 0 }, { "name": "PACKED", "number": 1 }, { "name": "EXPANDED", "number": 2 }] }, { "name": "Utf8Validation", "value": [{ "name": "UTF8_VALIDATION_UNKNOWN", "number": 0 }, { "name": "VERIFY", "number": 2 }, { "name": "NONE", "number": 3 }] }, { "name": "MessageEncoding", "value": [{ "name": "MESSAGE_ENCODING_UNKNOWN", "number": 0 }, { "name": "LENGTH_PREFIXED", "number": 1 }, { "name": "DELIMITED", "number": 2 }] }, { "name": "JsonFormat", "value": [{ "name": "JSON_FORMAT_UNKNOWN", "number": 0 }, { "name": "ALLOW", "number": 1 }, { "name": "LEGACY_BEST_EFFORT", "number": 2 }] }, { "name": "EnforceNamingStyle", "value": [{ "name": "ENFORCE_NAMING_STYLE_UNKNOWN", "number": 0 }, { "name": "STYLE2024", "number": 1 }, { "name": "STYLE_LEGACY", "number": 2 }] }], "extensionRange": [{ "start": 1e3, "end": 9995 }, { "start": 9995, "end": 1e4 }, { "start": 1e4, "end": 10001 }] }, { "name": "FeatureSetDefaults", "field": [{ "name": "defaults", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault" }, { "name": "minimum_edition", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "maximum_edition", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }], "nestedType": [{ "name": "FeatureSetEditionDefault", "field": [{ "name": "edition", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "overridable_features", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "fixed_features", "number": 5, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }] }] }, { "name": "SourceCodeInfo", "field": [{ "name": "location", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.SourceCodeInfo.Location" }], "nestedType": [{ "name": "Location", "field": [{ "name": "path", "number": 1, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "span", "number": 2, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "leading_comments", "number": 3, "type": 9, "label": 1 }, { "name": "trailing_comments", "number": 4, "type": 9, "label": 1 }, { "name": "leading_detached_comments", "number": 6, "type": 9, "label": 3 }] }], "extensionRange": [{ "start": 536e6, "end": 536000001 }] }, { "name": "GeneratedCodeInfo", "field": [{ "name": "annotation", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.GeneratedCodeInfo.Annotation" }], "nestedType": [{ "name": "Annotation", "field": [{ "name": "path", "number": 1, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "source_file", "number": 2, "type": 9, "label": 1 }, { "name": "begin", "number": 3, "type": 5, "label": 1 }, { "name": "end", "number": 4, "type": 5, "label": 1 }, { "name": "semantic", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.GeneratedCodeInfo.Annotation.Semantic" }], "enumType": [{ "name": "Semantic", "value": [{ "name": "NONE", "number": 0 }, { "name": "SET", "number": 1 }, { "name": "ALIAS", "number": 2 }] }] }] }], "enumType": [{ "name": "Edition", "value": [{ "name": "EDITION_UNKNOWN", "number": 0 }, { "name": "EDITION_LEGACY", "number": 900 }, { "name": "EDITION_PROTO2", "number": 998 }, { "name": "EDITION_PROTO3", "number": 999 }, { "name": "EDITION_2023", "number": 1e3 }, { "name": "EDITION_2024", "number": 1001 }, { "name": "EDITION_1_TEST_ONLY", "number": 1 }, { "name": "EDITION_2_TEST_ONLY", "number": 2 }, { "name": "EDITION_99997_TEST_ONLY", "number": 99997 }, { "name": "EDITION_99998_TEST_ONLY", "number": 99998 }, { "name": "EDITION_99999_TEST_ONLY", "number": 99999 }, { "name": "EDITION_MAX", "number": 2147483647 }] }, { "name": "SymbolVisibility", "value": [{ "name": "VISIBILITY_UNSET", "number": 0 }, { "name": "VISIBILITY_LOCAL", "number": 1 }, { "name": "VISIBILITY_EXPORT", "number": 2 }] }] });
      FileDescriptorProtoSchema = /* @__PURE__ */ messageDesc(file_google_protobuf_descriptor, 1);
      (function(ExtensionRangeOptions_VerificationState2) {
        ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2["DECLARATION"] = 0] = "DECLARATION";
        ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2["UNVERIFIED"] = 1] = "UNVERIFIED";
      })(ExtensionRangeOptions_VerificationState || (ExtensionRangeOptions_VerificationState = {}));
      (function(FieldDescriptorProto_Type2) {
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["DOUBLE"] = 1] = "DOUBLE";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FLOAT"] = 2] = "FLOAT";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["INT64"] = 3] = "INT64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["UINT64"] = 4] = "UINT64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["INT32"] = 5] = "INT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FIXED64"] = 6] = "FIXED64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FIXED32"] = 7] = "FIXED32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["BOOL"] = 8] = "BOOL";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["STRING"] = 9] = "STRING";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["GROUP"] = 10] = "GROUP";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["MESSAGE"] = 11] = "MESSAGE";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["BYTES"] = 12] = "BYTES";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["UINT32"] = 13] = "UINT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["ENUM"] = 14] = "ENUM";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SFIXED32"] = 15] = "SFIXED32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SFIXED64"] = 16] = "SFIXED64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SINT32"] = 17] = "SINT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SINT64"] = 18] = "SINT64";
      })(FieldDescriptorProto_Type || (FieldDescriptorProto_Type = {}));
      (function(FieldDescriptorProto_Label2) {
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["OPTIONAL"] = 1] = "OPTIONAL";
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["REPEATED"] = 3] = "REPEATED";
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["REQUIRED"] = 2] = "REQUIRED";
      })(FieldDescriptorProto_Label || (FieldDescriptorProto_Label = {}));
      (function(FileOptions_OptimizeMode2) {
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["SPEED"] = 1] = "SPEED";
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["CODE_SIZE"] = 2] = "CODE_SIZE";
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["LITE_RUNTIME"] = 3] = "LITE_RUNTIME";
      })(FileOptions_OptimizeMode || (FileOptions_OptimizeMode = {}));
      (function(FieldOptions_CType2) {
        FieldOptions_CType2[FieldOptions_CType2["STRING"] = 0] = "STRING";
        FieldOptions_CType2[FieldOptions_CType2["CORD"] = 1] = "CORD";
        FieldOptions_CType2[FieldOptions_CType2["STRING_PIECE"] = 2] = "STRING_PIECE";
      })(FieldOptions_CType || (FieldOptions_CType = {}));
      (function(FieldOptions_JSType2) {
        FieldOptions_JSType2[FieldOptions_JSType2["JS_NORMAL"] = 0] = "JS_NORMAL";
        FieldOptions_JSType2[FieldOptions_JSType2["JS_STRING"] = 1] = "JS_STRING";
        FieldOptions_JSType2[FieldOptions_JSType2["JS_NUMBER"] = 2] = "JS_NUMBER";
      })(FieldOptions_JSType || (FieldOptions_JSType = {}));
      (function(FieldOptions_OptionRetention2) {
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_UNKNOWN"] = 0] = "RETENTION_UNKNOWN";
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_RUNTIME"] = 1] = "RETENTION_RUNTIME";
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_SOURCE"] = 2] = "RETENTION_SOURCE";
      })(FieldOptions_OptionRetention || (FieldOptions_OptionRetention = {}));
      (function(FieldOptions_OptionTargetType2) {
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_UNKNOWN"] = 0] = "TARGET_TYPE_UNKNOWN";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_FILE"] = 1] = "TARGET_TYPE_FILE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_EXTENSION_RANGE"] = 2] = "TARGET_TYPE_EXTENSION_RANGE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_MESSAGE"] = 3] = "TARGET_TYPE_MESSAGE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_FIELD"] = 4] = "TARGET_TYPE_FIELD";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ONEOF"] = 5] = "TARGET_TYPE_ONEOF";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ENUM"] = 6] = "TARGET_TYPE_ENUM";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ENUM_ENTRY"] = 7] = "TARGET_TYPE_ENUM_ENTRY";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_SERVICE"] = 8] = "TARGET_TYPE_SERVICE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_METHOD"] = 9] = "TARGET_TYPE_METHOD";
      })(FieldOptions_OptionTargetType || (FieldOptions_OptionTargetType = {}));
      (function(MethodOptions_IdempotencyLevel2) {
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["IDEMPOTENCY_UNKNOWN"] = 0] = "IDEMPOTENCY_UNKNOWN";
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["NO_SIDE_EFFECTS"] = 1] = "NO_SIDE_EFFECTS";
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["IDEMPOTENT"] = 2] = "IDEMPOTENT";
      })(MethodOptions_IdempotencyLevel || (MethodOptions_IdempotencyLevel = {}));
      (function(FeatureSet_VisibilityFeature_DefaultSymbolVisibility2) {
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["DEFAULT_SYMBOL_VISIBILITY_UNKNOWN"] = 0] = "DEFAULT_SYMBOL_VISIBILITY_UNKNOWN";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["EXPORT_ALL"] = 1] = "EXPORT_ALL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["EXPORT_TOP_LEVEL"] = 2] = "EXPORT_TOP_LEVEL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["LOCAL_ALL"] = 3] = "LOCAL_ALL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["STRICT"] = 4] = "STRICT";
      })(FeatureSet_VisibilityFeature_DefaultSymbolVisibility || (FeatureSet_VisibilityFeature_DefaultSymbolVisibility = {}));
      (function(FeatureSet_FieldPresence2) {
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["FIELD_PRESENCE_UNKNOWN"] = 0] = "FIELD_PRESENCE_UNKNOWN";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["EXPLICIT"] = 1] = "EXPLICIT";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["IMPLICIT"] = 2] = "IMPLICIT";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["LEGACY_REQUIRED"] = 3] = "LEGACY_REQUIRED";
      })(FeatureSet_FieldPresence || (FeatureSet_FieldPresence = {}));
      (function(FeatureSet_EnumType2) {
        FeatureSet_EnumType2[FeatureSet_EnumType2["ENUM_TYPE_UNKNOWN"] = 0] = "ENUM_TYPE_UNKNOWN";
        FeatureSet_EnumType2[FeatureSet_EnumType2["OPEN"] = 1] = "OPEN";
        FeatureSet_EnumType2[FeatureSet_EnumType2["CLOSED"] = 2] = "CLOSED";
      })(FeatureSet_EnumType || (FeatureSet_EnumType = {}));
      (function(FeatureSet_RepeatedFieldEncoding2) {
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["REPEATED_FIELD_ENCODING_UNKNOWN"] = 0] = "REPEATED_FIELD_ENCODING_UNKNOWN";
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["PACKED"] = 1] = "PACKED";
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["EXPANDED"] = 2] = "EXPANDED";
      })(FeatureSet_RepeatedFieldEncoding || (FeatureSet_RepeatedFieldEncoding = {}));
      (function(FeatureSet_Utf8Validation2) {
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["UTF8_VALIDATION_UNKNOWN"] = 0] = "UTF8_VALIDATION_UNKNOWN";
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["VERIFY"] = 2] = "VERIFY";
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["NONE"] = 3] = "NONE";
      })(FeatureSet_Utf8Validation || (FeatureSet_Utf8Validation = {}));
      (function(FeatureSet_MessageEncoding2) {
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["MESSAGE_ENCODING_UNKNOWN"] = 0] = "MESSAGE_ENCODING_UNKNOWN";
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["LENGTH_PREFIXED"] = 1] = "LENGTH_PREFIXED";
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["DELIMITED"] = 2] = "DELIMITED";
      })(FeatureSet_MessageEncoding || (FeatureSet_MessageEncoding = {}));
      (function(FeatureSet_JsonFormat2) {
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["JSON_FORMAT_UNKNOWN"] = 0] = "JSON_FORMAT_UNKNOWN";
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["ALLOW"] = 1] = "ALLOW";
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["LEGACY_BEST_EFFORT"] = 2] = "LEGACY_BEST_EFFORT";
      })(FeatureSet_JsonFormat || (FeatureSet_JsonFormat = {}));
      (function(FeatureSet_EnforceNamingStyle2) {
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["ENFORCE_NAMING_STYLE_UNKNOWN"] = 0] = "ENFORCE_NAMING_STYLE_UNKNOWN";
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["STYLE2024"] = 1] = "STYLE2024";
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["STYLE_LEGACY"] = 2] = "STYLE_LEGACY";
      })(FeatureSet_EnforceNamingStyle || (FeatureSet_EnforceNamingStyle = {}));
      (function(GeneratedCodeInfo_Annotation_Semantic2) {
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["NONE"] = 0] = "NONE";
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["SET"] = 1] = "SET";
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["ALIAS"] = 2] = "ALIAS";
      })(GeneratedCodeInfo_Annotation_Semantic || (GeneratedCodeInfo_Annotation_Semantic = {}));
      (function(Edition2) {
        Edition2[Edition2["EDITION_UNKNOWN"] = 0] = "EDITION_UNKNOWN";
        Edition2[Edition2["EDITION_LEGACY"] = 900] = "EDITION_LEGACY";
        Edition2[Edition2["EDITION_PROTO2"] = 998] = "EDITION_PROTO2";
        Edition2[Edition2["EDITION_PROTO3"] = 999] = "EDITION_PROTO3";
        Edition2[Edition2["EDITION_2023"] = 1e3] = "EDITION_2023";
        Edition2[Edition2["EDITION_2024"] = 1001] = "EDITION_2024";
        Edition2[Edition2["EDITION_1_TEST_ONLY"] = 1] = "EDITION_1_TEST_ONLY";
        Edition2[Edition2["EDITION_2_TEST_ONLY"] = 2] = "EDITION_2_TEST_ONLY";
        Edition2[Edition2["EDITION_99997_TEST_ONLY"] = 99997] = "EDITION_99997_TEST_ONLY";
        Edition2[Edition2["EDITION_99998_TEST_ONLY"] = 99998] = "EDITION_99998_TEST_ONLY";
        Edition2[Edition2["EDITION_99999_TEST_ONLY"] = 99999] = "EDITION_99999_TEST_ONLY";
        Edition2[Edition2["EDITION_MAX"] = 2147483647] = "EDITION_MAX";
      })(Edition || (Edition = {}));
      (function(SymbolVisibility2) {
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_UNSET"] = 0] = "VISIBILITY_UNSET";
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_LOCAL"] = 1] = "VISIBILITY_LOCAL";
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_EXPORT"] = 2] = "VISIBILITY_EXPORT";
      })(SymbolVisibility || (SymbolVisibility = {}));
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/from-binary.js
  function makeReadOptions(options) {
    return options ? Object.assign(Object.assign({}, readDefaults), options) : readDefaults;
  }
  function fromBinary(schema, bytes, options) {
    const msg = reflect(schema, void 0, false);
    readMessage(msg, new BinaryReader(bytes), makeReadOptions(options), false, bytes.byteLength);
    return msg.message;
  }
  function readMessage(message, reader, options, delimited, lengthOrDelimitedFieldNo) {
    var _a;
    const end = delimited ? reader.len : reader.pos + lengthOrDelimitedFieldNo;
    let fieldNo;
    let wireType;
    const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];
    while (reader.pos < end) {
      [fieldNo, wireType] = reader.tag();
      if (delimited && wireType == WireType.EndGroup) {
        break;
      }
      const field = message.findNumber(fieldNo);
      if (!field) {
        const data = reader.skip(wireType, fieldNo);
        if (options.readUnknownFields) {
          unknownFields.push({ no: fieldNo, wireType, data });
        }
        continue;
      }
      readField(message, reader, field, wireType, options);
    }
    if (delimited) {
      if (wireType != WireType.EndGroup || fieldNo !== lengthOrDelimitedFieldNo) {
        throw new Error("invalid end group tag");
      }
    }
    if (unknownFields.length > 0) {
      message.setUnknown(unknownFields);
    }
  }
  function readField(message, reader, field, wireType, options) {
    var _a;
    switch (field.fieldKind) {
      case "scalar":
        message.set(field, readScalar(reader, field.scalar));
        break;
      case "enum":
        const val = readScalar(reader, ScalarType.INT32);
        if (field.enum.open) {
          message.set(field, val);
        } else {
          const ok = field.enum.values.some((v) => v.number === val);
          if (ok) {
            message.set(field, val);
          } else if (options.readUnknownFields) {
            const bytes = [];
            varint32write(val, bytes);
            const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];
            unknownFields.push({
              no: field.number,
              wireType,
              data: new Uint8Array(bytes)
            });
            message.setUnknown(unknownFields);
          }
        }
        break;
      case "message":
        message.set(field, readMessageField(reader, options, field, message.get(field)));
        break;
      case "list":
        readListField(reader, wireType, message.get(field), options);
        break;
      case "map":
        readMapEntry(reader, message.get(field), options);
        break;
    }
  }
  function readMapEntry(reader, map, options) {
    const field = map.field();
    let key;
    let val;
    const len = reader.uint32();
    const end = reader.pos + len;
    while (reader.pos < end) {
      const [fieldNo] = reader.tag();
      switch (fieldNo) {
        case 1:
          key = readScalar(reader, field.mapKey);
          break;
        case 2:
          switch (field.mapKind) {
            case "scalar":
              val = readScalar(reader, field.scalar);
              break;
            case "enum":
              val = reader.int32();
              break;
            case "message":
              val = readMessageField(reader, options, field);
              break;
          }
          break;
      }
    }
    if (key === void 0) {
      key = scalarZeroValue(field.mapKey, false);
    }
    if (val === void 0) {
      switch (field.mapKind) {
        case "scalar":
          val = scalarZeroValue(field.scalar, false);
          break;
        case "enum":
          val = field.enum.values[0].number;
          break;
        case "message":
          val = reflect(field.message, void 0, false);
          break;
      }
    }
    map.set(key, val);
  }
  function readListField(reader, wireType, list, options) {
    var _a;
    const field = list.field();
    if (field.listKind === "message") {
      list.add(readMessageField(reader, options, field));
      return;
    }
    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;
    const packed = wireType == WireType.LengthDelimited && scalarType != ScalarType.STRING && scalarType != ScalarType.BYTES;
    if (!packed) {
      list.add(readScalar(reader, scalarType));
      return;
    }
    const e = reader.uint32() + reader.pos;
    while (reader.pos < e) {
      list.add(readScalar(reader, scalarType));
    }
  }
  function readMessageField(reader, options, field, mergeMessage) {
    const delimited = field.delimitedEncoding;
    const message = mergeMessage !== null && mergeMessage !== void 0 ? mergeMessage : reflect(field.message, void 0, false);
    readMessage(message, reader, options, delimited, delimited ? field.number : reader.uint32());
    return message;
  }
  function readScalar(reader, type) {
    switch (type) {
      case ScalarType.STRING:
        return reader.string();
      case ScalarType.BOOL:
        return reader.bool();
      case ScalarType.DOUBLE:
        return reader.double();
      case ScalarType.FLOAT:
        return reader.float();
      case ScalarType.INT32:
        return reader.int32();
      case ScalarType.INT64:
        return reader.int64();
      case ScalarType.UINT64:
        return reader.uint64();
      case ScalarType.FIXED64:
        return reader.fixed64();
      case ScalarType.BYTES:
        return reader.bytes();
      case ScalarType.FIXED32:
        return reader.fixed32();
      case ScalarType.SFIXED32:
        return reader.sfixed32();
      case ScalarType.SFIXED64:
        return reader.sfixed64();
      case ScalarType.SINT64:
        return reader.sint64();
      case ScalarType.UINT32:
        return reader.uint32();
      case ScalarType.SINT32:
        return reader.sint32();
    }
  }
  var readDefaults;
  var init_from_binary = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/from-binary.js"() {
      init_descriptors();
      init_scalar();
      init_reflect();
      init_binary_encoding();
      init_varint();
      readDefaults = {
        readUnknownFields: true
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/file.js
  function fileDesc(b64, imports) {
    var _a;
    const root = fromBinary(FileDescriptorProtoSchema, base64Decode(b64));
    root.messageType.forEach(restoreJsonNames);
    root.dependency = (_a = imports === null || imports === void 0 ? void 0 : imports.map((f) => f.proto.name)) !== null && _a !== void 0 ? _a : [];
    const reg = createFileRegistry(root, (protoFileName) => imports === null || imports === void 0 ? void 0 : imports.find((f) => f.proto.name === protoFileName));
    return reg.getFile(root.name);
  }
  var init_file = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/file.js"() {
      init_base64_encoding();
      init_descriptor_pb();
      init_registry();
      init_restore_json_names();
      init_from_binary();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/to-binary.js
  function makeWriteOptions(options) {
    return options ? Object.assign(Object.assign({}, writeDefaults), options) : writeDefaults;
  }
  function toBinary(schema, message, options) {
    return writeFields(new BinaryWriter(), makeWriteOptions(options), reflect(schema, message)).finish();
  }
  function writeFields(writer, opts, msg) {
    var _a;
    for (const f of msg.sortedFields) {
      if (!msg.isSet(f)) {
        if (f.presence == LEGACY_REQUIRED2) {
          throw new Error(`cannot encode ${f} to binary: required field not set`);
        }
        continue;
      }
      writeField(writer, opts, msg, f);
    }
    if (opts.writeUnknownFields) {
      for (const { no, wireType, data } of (_a = msg.getUnknown()) !== null && _a !== void 0 ? _a : []) {
        writer.tag(no, wireType).raw(data);
      }
    }
    return writer;
  }
  function writeField(writer, opts, msg, field) {
    var _a;
    switch (field.fieldKind) {
      case "scalar":
      case "enum":
        writeScalar(writer, msg.desc.typeName, field.name, (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32, field.number, msg.get(field));
        break;
      case "list":
        writeListField(writer, opts, field, msg.get(field));
        break;
      case "message":
        writeMessageField(writer, opts, field, msg.get(field));
        break;
      case "map":
        for (const [key, val] of msg.get(field)) {
          writeMapEntry(writer, opts, field, key, val);
        }
        break;
    }
  }
  function writeScalar(writer, msgName, fieldName, scalarType, fieldNo, value) {
    writeScalarValue(writer.tag(fieldNo, writeTypeOfScalar(scalarType)), msgName, fieldName, scalarType, value);
  }
  function writeMessageField(writer, opts, field, message) {
    if (field.delimitedEncoding) {
      writeFields(writer.tag(field.number, WireType.StartGroup), opts, message).tag(field.number, WireType.EndGroup);
    } else {
      writeFields(writer.tag(field.number, WireType.LengthDelimited).fork(), opts, message).join();
    }
  }
  function writeListField(writer, opts, field, list) {
    var _a;
    if (field.listKind == "message") {
      for (const item of list) {
        writeMessageField(writer, opts, field, item);
      }
      return;
    }
    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;
    if (field.packed) {
      if (!list.size) {
        return;
      }
      writer.tag(field.number, WireType.LengthDelimited).fork();
      for (const item of list) {
        writeScalarValue(writer, field.parent.typeName, field.name, scalarType, item);
      }
      writer.join();
      return;
    }
    for (const item of list) {
      writeScalar(writer, field.parent.typeName, field.name, scalarType, field.number, item);
    }
  }
  function writeMapEntry(writer, opts, field, key, value) {
    var _a;
    writer.tag(field.number, WireType.LengthDelimited).fork();
    writeScalar(writer, field.parent.typeName, field.name, field.mapKey, 1, key);
    switch (field.mapKind) {
      case "scalar":
      case "enum":
        writeScalar(writer, field.parent.typeName, field.name, (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32, 2, value);
        break;
      case "message":
        writeFields(writer.tag(2, WireType.LengthDelimited).fork(), opts, value).join();
        break;
    }
    writer.join();
  }
  function writeScalarValue(writer, msgName, fieldName, type, value) {
    try {
      switch (type) {
        case ScalarType.STRING:
          writer.string(value);
          break;
        case ScalarType.BOOL:
          writer.bool(value);
          break;
        case ScalarType.DOUBLE:
          writer.double(value);
          break;
        case ScalarType.FLOAT:
          writer.float(value);
          break;
        case ScalarType.INT32:
          writer.int32(value);
          break;
        case ScalarType.INT64:
          writer.int64(value);
          break;
        case ScalarType.UINT64:
          writer.uint64(value);
          break;
        case ScalarType.FIXED64:
          writer.fixed64(value);
          break;
        case ScalarType.BYTES:
          writer.bytes(value);
          break;
        case ScalarType.FIXED32:
          writer.fixed32(value);
          break;
        case ScalarType.SFIXED32:
          writer.sfixed32(value);
          break;
        case ScalarType.SFIXED64:
          writer.sfixed64(value);
          break;
        case ScalarType.SINT64:
          writer.sint64(value);
          break;
        case ScalarType.UINT32:
          writer.uint32(value);
          break;
        case ScalarType.SINT32:
          writer.sint32(value);
          break;
      }
    } catch (e) {
      if (e instanceof Error) {
        throw new Error(`cannot encode field ${msgName}.${fieldName} to binary: ${e.message}`);
      }
      throw e;
    }
  }
  function writeTypeOfScalar(type) {
    switch (type) {
      case ScalarType.BYTES:
      case ScalarType.STRING:
        return WireType.LengthDelimited;
      case ScalarType.DOUBLE:
      case ScalarType.FIXED64:
      case ScalarType.SFIXED64:
        return WireType.Bit64;
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
      case ScalarType.FLOAT:
        return WireType.Bit32;
      default:
        return WireType.Varint;
    }
  }
  var LEGACY_REQUIRED2, writeDefaults;
  var init_to_binary = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/to-binary.js"() {
      init_reflect();
      init_binary_encoding();
      init_descriptors();
      LEGACY_REQUIRED2 = 3;
      writeDefaults = {
        writeUnknownFields: true
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/extension.js
  var init_extension = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/extension.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/equals.js
  var init_equals = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/equals.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/fields.js
  var init_fields = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/fields.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/to-json.js
  var init_to_json = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/to-json.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/from-json.js
  var tokenIgnoredUnknownEnum, tokenNull;
  var init_from_json = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/from-json.js"() {
      tokenIgnoredUnknownEnum = Symbol();
      tokenNull = Symbol();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/merge.js
  var init_merge = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/merge.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/index.js
  var init_esm = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/index.js"() {
      init_types();
      init_is_message();
      init_create();
      init_clone();
      init_descriptors();
      init_equals();
      init_fields();
      init_registry();
      init_to_binary();
      init_from_binary();
      init_to_json();
      init_from_json();
      init_merge();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/embed.js
  var init_embed = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/embed.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/service.js
  var init_service = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/service.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/symbols.js
  var packageName, wktPublicImportPaths, symbols;
  var init_symbols = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/symbols.js"() {
      packageName = "@bufbuild/protobuf";
      wktPublicImportPaths = {
        "google/protobuf/compiler/plugin.proto": packageName + "/wkt",
        "google/protobuf/any.proto": packageName + "/wkt",
        "google/protobuf/api.proto": packageName + "/wkt",
        "google/protobuf/cpp_features.proto": packageName + "/wkt",
        "google/protobuf/descriptor.proto": packageName + "/wkt",
        "google/protobuf/duration.proto": packageName + "/wkt",
        "google/protobuf/empty.proto": packageName + "/wkt",
        "google/protobuf/field_mask.proto": packageName + "/wkt",
        "google/protobuf/go_features.proto": packageName + "/wkt",
        "google/protobuf/java_features.proto": packageName + "/wkt",
        "google/protobuf/source_context.proto": packageName + "/wkt",
        "google/protobuf/struct.proto": packageName + "/wkt",
        "google/protobuf/timestamp.proto": packageName + "/wkt",
        "google/protobuf/type.proto": packageName + "/wkt",
        "google/protobuf/wrappers.proto": packageName + "/wkt"
      };
      symbols = {
        isMessage: { typeOnly: false, bootstrapWktFrom: "../../is-message.js", from: packageName },
        Message: { typeOnly: true, bootstrapWktFrom: "../../types.js", from: packageName },
        create: { typeOnly: false, bootstrapWktFrom: "../../create.js", from: packageName },
        fromJson: { typeOnly: false, bootstrapWktFrom: "../../from-json.js", from: packageName },
        fromJsonString: { typeOnly: false, bootstrapWktFrom: "../../from-json.js", from: packageName },
        fromBinary: { typeOnly: false, bootstrapWktFrom: "../../from-binary.js", from: packageName },
        toBinary: { typeOnly: false, bootstrapWktFrom: "../../to-binary.js", from: packageName },
        toJson: { typeOnly: false, bootstrapWktFrom: "../../to-json.js", from: packageName },
        toJsonString: { typeOnly: false, bootstrapWktFrom: "../../to-json.js", from: packageName },
        protoInt64: { typeOnly: false, bootstrapWktFrom: "../../proto-int64.js", from: packageName },
        JsonValue: { typeOnly: true, bootstrapWktFrom: "../../json-value.js", from: packageName },
        JsonObject: { typeOnly: true, bootstrapWktFrom: "../../json-value.js", from: packageName },
        codegen: {
          boot: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/boot.js", from: packageName + "/codegenv2" },
          fileDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/file.js", from: packageName + "/codegenv2" },
          enumDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/enum.js", from: packageName + "/codegenv2" },
          extDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/extension.js", from: packageName + "/codegenv2" },
          messageDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/message.js", from: packageName + "/codegenv2" },
          serviceDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/service.js", from: packageName + "/codegenv2" },
          tsEnum: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/enum.js", from: packageName + "/codegenv2" },
          GenFile: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenEnum: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenExtension: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenMessage: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenService: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" }
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/scalar.js
  var init_scalar2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/scalar.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/types.js
  var init_types2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/index.js
  var init_codegenv2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/index.js"() {
      init_boot();
      init_embed();
      init_enum();
      init_extension();
      init_file();
      init_message();
      init_service();
      init_symbols();
      init_scalar2();
      init_types2();
    }
  });

  // web/src/proto/proto/ws_messages_pb.ts
  var file_proto_ws_messages, WsEnvelopeSchema;
  var init_ws_messages_pb = __esm({
    "web/src/proto/proto/ws_messages_pb.ts"() {
      "use strict";
      init_codegenv2();
      file_proto_ws_messages = /* @__PURE__ */ fileDesc("Chdwcm90by93c19tZXNzYWdlcy5wcm90bxIRbGlnaHRzcGVlZGR1ZWwud3Mi1A4KCldzRW52ZWxvcGUSNgoMc3RhdGVfdXBkYXRlGAEgASgLMh4ubGlnaHRzcGVlZGR1ZWwud3MuU3RhdGVVcGRhdGVIABI1Cglyb29tX2Z1bGwYAiABKAsyIC5saWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9ySAASLQoEam9pbhgKIAEoCzIdLmxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW5IABIwCglzcGF3bl9ib3QYCyABKAsyGy5saWdodHNwZWVkZHVlbC53cy5TcGF3bkJvdEgAEjYKDGFkZF93YXlwb2ludBgMIAEoCzIeLmxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50SAASPAoPdXBkYXRlX3dheXBvaW50GA0gASgLMiEubGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRIABI4Cg1tb3ZlX3dheXBvaW50GA4gASgLMh8ubGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50SAASPAoPZGVsZXRlX3dheXBvaW50GA8gASgLMiEubGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlV2F5cG9pbnRIABI8Cg9jbGVhcl93YXlwb2ludHMYECABKAsyIS5saWdodHNwZWVkZHVlbC53cy5DbGVhcldheXBvaW50c0gAEkAKEWNvbmZpZ3VyZV9taXNzaWxlGBEgASgLMiMubGlnaHRzcGVlZGR1ZWwud3MuQ29uZmlndXJlTWlzc2lsZUgAEkUKFGFkZF9taXNzaWxlX3dheXBvaW50GBIgASgLMiUubGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVdheXBvaW50SAASVgoddXBkYXRlX21pc3NpbGVfd2F5cG9pbnRfc3BlZWQYEyABKAsyLS5saWdodHNwZWVkZHVlbC53cy5VcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZEgAEkcKFW1vdmVfbWlzc2lsZV93YXlwb2ludBgUIAEoCzImLmxpZ2h0c3BlZWRkdWVsLndzLk1vdmVNaXNzaWxlV2F5cG9pbnRIABJLChdkZWxldGVfbWlzc2lsZV93YXlwb2ludBgVIAEoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVXYXlwb2ludEgAEkMKE2NsZWFyX21pc3NpbGVfcm91dGUYFiABKAsyJC5saWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZUgAEj8KEWFkZF9taXNzaWxlX3JvdXRlGBcgASgLMiIubGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVJvdXRlSAASRQoUcmVuYW1lX21pc3NpbGVfcm91dGUYGCABKAsyJS5saWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGVIABJFChRkZWxldGVfbWlzc2lsZV9yb3V0ZRgZIAEoCzIlLmxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVSb3V0ZUgAEkwKGHNldF9hY3RpdmVfbWlzc2lsZV9yb3V0ZRgaIAEoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZUgAEjoKDmxhdW5jaF9taXNzaWxlGBsgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZUgAEjAKCWRhZ19zdGFydBgeIAEoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0SAASMgoKZGFnX2NhbmNlbBgfIAEoCzIcLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ0NhbmNlbEgAEjcKDWRhZ19zdG9yeV9hY2sYICABKAsyHi5saWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFja0gAEi4KCGRhZ19saXN0GCEgASgLMhoubGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdEgAEkEKEm1pc3Npb25fc3Bhd25fd2F2ZRgoIAEoCzIjLmxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TcGF3bldhdmVIABJDChNtaXNzaW9uX3N0b3J5X2V2ZW50GCkgASgLMiQubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnRIABI/ChFkYWdfbGlzdF9yZXNwb25zZRgyIAEoCzIiLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZUgAEksKF21pc3Npb25fYmVhY29uX3NuYXBzaG90GDwgASgLMigubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblNuYXBzaG90SAASRQoUbWlzc2lvbl9iZWFjb25fZGVsdGEYPSABKAsyJS5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVsdGFIAEIJCgdwYXlsb2FkIrMFCgtTdGF0ZVVwZGF0ZRILCgNub3cYASABKAESJAoCbWUYAiABKAsyGC5saWdodHNwZWVkZHVlbC53cy5HaG9zdBIoCgZnaG9zdHMYAyADKAsyGC5saWdodHNwZWVkZHVlbC53cy5HaG9zdBIpCgRtZXRhGAQgASgLMhsubGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGESLAoIbWlzc2lsZXMYBSADKAsyGi5saWdodHNwZWVkZHVlbC53cy5NaXNzaWxlEjgKDm1pc3NpbGVfY29uZmlnGAYgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZUNvbmZpZxI2ChFtaXNzaWxlX3dheXBvaW50cxgHIAMoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLldheXBvaW50EjcKDm1pc3NpbGVfcm91dGVzGAggAygLMh8ubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlEhwKFGFjdGl2ZV9taXNzaWxlX3JvdXRlGAkgASgJEhoKEm5leHRfbWlzc2lsZV9yZWFkeRgKIAEoARItCgNkYWcYCyABKAsyGy5saWdodHNwZWVkZHVlbC53cy5EYWdTdGF0ZUgAiAEBEjQKCWludmVudG9yeRgMIAEoCzIcLmxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUgBiAEBEjEKBXN0b3J5GA0gASgLMh0ubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlTdGF0ZUgCiAEBEkAKDGNhcGFiaWxpdGllcxgOIAEoCzIlLmxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllc0gDiAEBQgYKBF9kYWdCDAoKX2ludmVudG9yeUIICgZfc3RvcnlCDwoNX2NhcGFiaWxpdGllcyIgCg1Sb29tRnVsbEVycm9yEg8KB21lc3NhZ2UYASABKAkiRgoKQ2xpZW50Sm9pbhIMCgRuYW1lGAEgASgJEgwKBHJvb20YAiABKAkSDQoFbWFw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IAEoARIJCgFvGAQgASgBEgoKAm1zGAUgASgBEgoKAnN1GAYgASgBEgoKAmt1GAcgASgBEgoKAmtkGAggASgBEgoKAmV4GAkgASgBIoABCgpIZWF0UGFyYW1zEgsKA21heBgBIAEoARIPCgd3YXJuX2F0GAIgASgBEhMKC292ZXJoZWF0X2F0GAMgASgBEhQKDG1hcmtlcl9zcGVlZBgEIAEoARIMCgRrX3VwGAUgASgBEg4KBmtfZG93bhgGIAEoARILCgNleHAYByABKAEidwoNVXBncmFkZUVmZmVjdBIyCgR0eXBlGAEgASgOMiQubGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFR5cGUSFAoKbXVsdGlwbGllchgCIAEoAUgAEhMKCXVubG9ja19pZBgDIAEoCUgAQgcKBXZhbHVlInkKElBsYXllckNhcGFiaWxpdGllcxIYChBzcGVlZF9tdWx0aXBsaWVyGAEgASgBEhkKEXVubG9ja2VkX21pc3NpbGVzGAIgAygJEhUKDWhlYXRfY2FwYWNpdHkYAyABKAESFwoPaGVhdF9lZmZpY2llbmN5GAQgASgBIvQBCgdEYWdOb2RlEgoKAmlkGAEgASgJEiwKBGtpbmQYAiABKA4yHi5saWdodHNwZWVkZHVlbC53cy5EYWdOb2RlS2luZBINCgVsYWJlbBgDIAEoCRIwCgZzdGF0dXMYBCABKA4yIC5saWdodHNwZWVkZHVlbC53cy5EYWdOb2RlU3RhdHVzEhMKC3JlbWFpbmluZ19zGAUgASgBEhIKCmR1cmF0aW9uX3MYBiABKAESEgoKcmVwZWF0YWJsZRgHIAEoCBIxCgdlZmZlY3RzGAggAygLMiAubGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdCI1CghEYWdTdGF0ZRIpCgVub2RlcxgBIAMoCzIaLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGUiGwoIRGFnU3RhcnQSDwoHbm9kZV9pZBgBIAEoCSIcCglEYWdDYW5jZWwSDwoHbm9kZV9pZBgBIAEoCSIxCgtEYWdTdG9yeUFjaxIPCgdub2RlX2lkGAEgASgJEhEKCWNob2ljZV9pZBgCIAEoCSIJCgdEYWdMaXN0IjsKD0RhZ0xpc3RSZXNwb25zZRIoCgNkYWcYASABKAsyGy5saWdodHNwZWVkZHVlbC53cy5EYWdTdGF0ZSJaCg1JbnZlbnRvcnlJdGVtEgwKBHR5cGUYASABKAkSEgoKdmFyaWFudF9pZBgCIAEoCRIVCg1oZWF0X2NhcGFjaXR5GAMgASgBEhAKCHF1YW50aXR5GAQgASgFIjwKCUludmVudG9yeRIvCgVpdGVtcxgBIAMoCzIgLmxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW0iLwoTU3RvcnlEaWFsb2d1ZUNob2ljZRIKCgJpZBgBIAEoCRIMCgR0ZXh0GAIgASgJIi8KEFN0b3J5VHV0b3JpYWxUaXASDQoFdGl0bGUYASABKAkSDAoEdGV4dBgCIAEoCSKAAgoNU3RvcnlEaWFsb2d1ZRIPCgdzcGVha2VyGAEgASgJEgwKBHRleHQYAiABKAkSLgoGaW50ZW50GAMgASgOMh4ubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlJbnRlbnQSFgoOY29udGludWVfbGFiZWwYBCABKAkSNwoHY2hvaWNlcxgFIAMoCzImLmxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2USPgoMdHV0b3JpYWxfdGlwGAYgASgLMiMubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlUdXRvcmlhbFRpcEgAiAEBQg8KDV90dXRvcmlhbF90aXAiRAoKU3RvcnlFdmVudBISCgpjaGFwdGVyX2lkGAEgASgJEg8KB25vZGVfaWQYAiABKAkSEQoJdGltZXN0YW1wGAMgASgBIpcCCgpTdG9yeVN0YXRlEhMKC2FjdGl2ZV9ub2RlGAEgASgJEjcKCGRpYWxvZ3VlGAIgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZUgAiAEBEhEKCWF2YWlsYWJsZRgDIAMoCRI3CgVmbGFncxgEIAMoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGUuRmxhZ3NFbnRyeRI0Cg1yZWNlbnRfZXZlbnRzGAUgAygLMh0ubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlFdmVudBosCgpGbGFnc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCDoCOAFCCwoJX2RpYWxvZ3VlIiYKEE1pc3Npb25TcGF3bldhdmUSEgoKd2F2ZV9pbmRleBgBIAEoBSIyChFNaXNzaW9uU3RvcnlFdmVudBINCgVldmVudBgBIAEoCRIOCgZiZWFjb24YAiABKAUiigIKFU1pc3Npb25CZWFjb25TbmFwc2hvdBISCgptaXNzaW9uX2lkGAEgASgJEhMKC2xheW91dF9zZWVkGAIgASgEEhMKC3NlcnZlcl90aW1lGAMgASgBEjsKB2JlYWNvbnMYBCADKAsyKi5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVmaW5pdGlvbhI3CgdwbGF5ZXJzGAUgAygLMiYubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllchI9CgplbmNvdW50ZXJzGAYgAygLMikubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlciJqChdNaXNzaW9uQmVhY29uRGVmaW5pdGlvbhIKCgJpZBgBIAEoCRIPCgdvcmRpbmFsGAIgASgFEgkKAXgYAyABKAESCQoBeRgEIAEoARIOCgZyYWRpdXMYBSABKAESDAoEc2VlZBgGIAEoAyKkAgoTTWlzc2lvbkJlYWNvblBsYXllchIRCglwbGF5ZXJfaWQYASABKAkSFQoNY3VycmVudF9pbmRleBgCIAEoBRISCgpob2xkX2FjY3VtGAMgASgBEhUKDWhvbGRfcmVxdWlyZWQYBCABKAESFQoNYWN0aXZlX2JlYWNvbhgFIAEoCRISCgpkaXNjb3ZlcmVkGAYgAygJEhEKCWNvbXBsZXRlZBgHIAMoCRJICgljb29sZG93bnMYCCADKAsyNS5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyLkNvb2xkb3duc0VudHJ5GjAKDkNvb2xkb3duc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoAToCOAEilgEKEk1pc3Npb25CZWFjb25EZWx0YRI8CgdwbGF5ZXJzGAEgAygLMisubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllckRlbHRhEkIKCmVuY291bnRlcnMYAiADKAsyLi5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnQi4gEKGE1pc3Npb25CZWFjb25QbGF5ZXJEZWx0YRI3CgR0eXBlGAEgASgOMikubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlbHRhVHlwZRIRCglwbGF5ZXJfaWQYAiABKAkSEQoJYmVhY29uX2lkGAMgASgJEg8KB29yZGluYWwYBCABKAUSEgoKaG9sZF9hY2N1bRgFIAEoARIVCg1ob2xkX3JlcXVpcmVkGAYgASgBEhYKDmNvb2xkb3duX3VudGlsGAcgASgBEhMKC3NlcnZlcl90aW1lGAggASgBIn0KFk1pc3Npb25CZWFjb25FbmNvdW50ZXISFAoMZW5jb3VudGVyX2lkGAEgASgJEhEKCWJlYWNvbl9pZBgCIAEoCRISCgp3YXZlX2luZGV4GAMgASgFEhIKCnNwYXduZWRfYXQYBCABKAESEgoKZXhwaXJlc19hdBgFIAEoASLOAQobTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50EjoKBHR5cGUYASABKA4yLC5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlEhQKDGVuY291bnRlcl9pZBgCIAEoCRIRCgliZWFjb25faWQYAyABKAkSEgoKd2F2ZV9pbmRleBgEIAEoBRISCgpzcGF3bmVkX2F0GAUgASgBEhIKCmV4cGlyZXNfYXQYBiABKAESDgoGcmVhc29uGAcgASgJKqsBCg1EYWdOb2RlU3RhdHVzEh8KG0RBR19OT0RFX1NUQVRVU19VTlNQRUNJRklFRBAAEhoKFkRBR19OT0RFX1NUQVRVU19MT0NLRUQQARIdChlEQUdfTk9ERV9TVEFUVVNfQVZBSUxBQkxFEAISHwobREFHX05PREVfU1RBVFVTX0lOX1BST0dSRVNTEAMSHQoZREFHX05PREVfU1RBVFVTX0NPTVBMRVRFRBAEKpEBCgtEYWdOb2RlS2luZBIdChlEQUdfTk9ERV9LSU5EX1VOU1BFQ0lGSUVEEAASGQoVREFHX05PREVfS0lORF9GQUNUT1JZEAESFgoSREFHX05PREVfS0lORF9VTklUEAISFwoTREFHX05PREVfS0lORF9TVE9SWRADEhcKE0RBR19OT0RFX0tJTkRfQ1JBRlQQBCraAQoRVXBncmFkZUVmZmVjdFR5cGUSIwofVVBHUkFERV9FRkZFQ1RfVFlQRV9VTlNQRUNJRklFRBAAEigKJFVQR1JBREVfRUZGRUNUX1RZUEVfU1BFRURfTVVMVElQTElFUhABEiYKIlVQR1JBREVfRUZGRUNUX1RZUEVfTUlTU0lMRV9VTkxPQ0sQAhIlCiFVUEdSQURFX0VGRkVDVF9UWVBFX0hFQVRfQ0FQQUNJVFkQAxInCiNVUEdSQURFX0VGRkVDVF9UWVBFX0hFQVRfRUZGSUNJRU5DWRAEKlwKC1N0b3J5SW50ZW50EhwKGFNUT1JZX0lOVEVOVF9VTlNQRUNJRklFRBAAEhgKFFNUT1JZX0lOVEVOVF9GQUNUT1JZEAESFQoRU1RPUllfSU5URU5UX1VOSVQQAiqgAgoWTWlzc2lvbkJlYWNvbkRlbHRhVHlwZRIkCiBNSVNTSU9OX0JFQUNPTl9ERUxUQV9VTlNQRUNJRklFRBAAEiMKH01JU1NJT05fQkVBQ09OX0RFTFRBX0RJU0NPVkVSRUQQARImCiJNSVNTSU9OX0JFQUNPTl9ERUxUQV9IT0xEX1BST0dSRVNTEAISIwofTUlTU0lPTl9CRUFDT05fREVMVEFfSE9MRF9SRVNFVBADEh8KG01JU1NJT05fQkVBQ09OX0RFTFRBX0xPQ0tFRBAEEiEKHU1JU1NJT05fQkVBQ09OX0RFTFRBX0NPT0xET1dOEAUSKgomTUlTU0lPTl9CRUFDT05fREVMVEFfTUlTU0lPTl9DT01QTEVURUQQBirXAQoZTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZRInCiNNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9VTlNQRUNJRklFRBAAEiMKH01JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1NQQVdORUQQARIjCh9NSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9DTEVBUkVEEAISIwofTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfVElNRU9VVBADEiIKHk1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1BVUkdFRBAEQiJaIExpZ2h0U3BlZWREdWVsL2ludGVybmFsL3Byb3RvL3dzYgZwcm90bzM");
      WsEnvelopeSchema = /* @__PURE__ */ messageDesc(file_proto_ws_messages, 0);
    }
  });

  // web/src/proto_helpers.ts
  function protoToGhost(proto) {
    var _a;
    return {
      id: proto.id,
      x: proto.x,
      y: proto.y,
      vx: proto.vx,
      vy: proto.vy,
      t: proto.t,
      self: proto.self,
      waypoints: (_a = proto.waypoints) == null ? void 0 : _a.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed })),
      currentWaypointIndex: proto.currentWaypointIndex,
      hp: proto.hp,
      kills: proto.kills,
      heat: proto.heat ? {
        v: proto.heat.v,
        m: proto.heat.m,
        w: proto.heat.w,
        o: proto.heat.o,
        ms: proto.heat.ms,
        su: proto.heat.su,
        ku: proto.heat.ku,
        kd: proto.heat.kd,
        ex: proto.heat.ex
      } : void 0
    };
  }
  function protoToMissile(proto) {
    return {
      id: proto.id,
      owner: proto.owner,
      self: proto.self,
      x: proto.x,
      y: proto.y,
      vx: proto.vx,
      vy: proto.vy,
      t: proto.t,
      agroRadius: proto.agroRadius,
      lifetime: proto.lifetime,
      launch: proto.launchTime,
      expires: proto.expiresAt,
      targetId: proto.targetId || void 0,
      heat: proto.heat ? {
        v: proto.heat.v,
        m: proto.heat.m,
        w: proto.heat.w,
        o: proto.heat.o,
        ms: proto.heat.ms,
        su: proto.heat.su,
        ku: proto.heat.ku,
        kd: proto.heat.kd,
        ex: proto.heat.ex
      } : void 0
    };
  }
  function protoToState(proto) {
    const base = {
      now: proto.now,
      me: proto.me ? protoToGhost(proto.me) : null,
      ghosts: proto.ghosts.map(protoToGhost),
      missiles: proto.missiles.map(protoToMissile),
      meta: proto.meta ? {
        c: proto.meta.c,
        w: proto.meta.w,
        h: proto.meta.h
      } : { c: 299, w: 16e3, h: 9e3 },
      missileConfig: proto.missileConfig ? {
        speed: proto.missileConfig.speed,
        speedMin: proto.missileConfig.speedMin,
        speedMax: proto.missileConfig.speedMax,
        agroMin: proto.missileConfig.agroMin,
        agroRadius: proto.missileConfig.agroRadius,
        lifetime: proto.missileConfig.lifetime,
        heatConfig: proto.missileConfig.heatConfig ? {
          max: proto.missileConfig.heatConfig.max,
          warnAt: proto.missileConfig.heatConfig.warnAt,
          overheatAt: proto.missileConfig.heatConfig.overheatAt,
          markerSpeed: proto.missileConfig.heatConfig.markerSpeed,
          kUp: proto.missileConfig.heatConfig.kUp,
          kDown: proto.missileConfig.heatConfig.kDown,
          exp: proto.missileConfig.heatConfig.exp
        } : void 0
      } : {
        speed: 0,
        speedMin: 0,
        speedMax: 0,
        agroMin: 0,
        agroRadius: 0,
        lifetime: 0
      },
      missileWaypoints: proto.missileWaypoints.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed })),
      missileRoutes: proto.missileRoutes.map((r) => ({
        id: r.id,
        name: r.name,
        waypoints: r.waypoints.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed }))
      })),
      activeMissileRoute: proto.activeMissileRoute,
      nextMissileReady: proto.nextMissileReady
    };
    return {
      ...base,
      dag: proto.dag ? protoToDagState(proto.dag) : void 0,
      inventory: proto.inventory ? protoToInventory(proto.inventory) : void 0,
      story: proto.story ? protoToStoryState(proto.story) : void 0,
      capabilities: proto.capabilities ? protoToPlayerCapabilities(proto.capabilities) : void 0
    };
  }
  function protoStatusToString(status) {
    switch (status) {
      case 1 /* LOCKED */:
        return "locked";
      case 2 /* AVAILABLE */:
        return "available";
      case 3 /* IN_PROGRESS */:
        return "in_progress";
      case 4 /* COMPLETED */:
        return "completed";
      default:
        return "unknown";
    }
  }
  function protoKindToString(kind) {
    switch (kind) {
      case 1 /* FACTORY */:
        return "factory";
      case 2 /* UNIT */:
        return "unit";
      case 3 /* STORY */:
        return "story";
      case 4 /* CRAFT */:
        return "craft";
      default:
        return "unknown";
    }
  }
  function protoIntentToString(intent) {
    switch (intent) {
      case 1 /* FACTORY */:
        return "factory";
      case 2 /* UNIT */:
        return "unit";
      default:
        return "";
    }
  }
  function protoEffectTypeToString(type) {
    const typeMap = {
      1: "speed_multiplier",
      2: "missile_unlock",
      3: "heat_capacity",
      4: "heat_efficiency"
    };
    return typeMap[type] || "unknown";
  }
  function protoToUpgradeEffect(proto) {
    return {
      type: protoEffectTypeToString(proto.type),
      value: proto.value.case === "multiplier" ? proto.value.value : proto.value.value
    };
  }
  function protoToPlayerCapabilities(proto) {
    return {
      speedMultiplier: proto.speedMultiplier,
      unlockedMissiles: proto.unlockedMissiles,
      heatCapacity: proto.heatCapacity,
      heatEfficiency: proto.heatEfficiency
    };
  }
  function protoToDagNode(proto) {
    var _a;
    return {
      id: proto.id,
      kind: protoKindToString(proto.kind),
      label: proto.label,
      status: protoStatusToString(proto.status),
      remainingS: proto.remainingS,
      durationS: proto.durationS,
      repeatable: proto.repeatable,
      effects: ((_a = proto.effects) == null ? void 0 : _a.map(protoToUpgradeEffect)) || []
    };
  }
  function protoToDagState(proto) {
    return {
      nodes: proto.nodes.map(protoToDagNode)
    };
  }
  function protoToInventoryItem(proto) {
    return {
      type: proto.type,
      variantId: proto.variantId,
      heatCapacity: proto.heatCapacity,
      quantity: proto.quantity
    };
  }
  function protoToInventory(proto) {
    return {
      items: proto.items.map(protoToInventoryItem)
    };
  }
  function protoToStoryDialogue(proto) {
    return {
      speaker: proto.speaker,
      text: proto.text,
      intent: protoIntentToString(proto.intent),
      continueLabel: proto.continueLabel,
      choices: proto.choices.map((c) => ({ id: c.id, text: c.text })),
      tutorialTip: proto.tutorialTip ? {
        title: proto.tutorialTip.title,
        text: proto.tutorialTip.text
      } : void 0
    };
  }
  function protoToStoryState(proto) {
    return {
      activeNode: proto.activeNode,
      dialogue: proto.dialogue ? protoToStoryDialogue(proto.dialogue) : void 0,
      available: proto.available,
      flags: proto.flags,
      recentEvents: proto.recentEvents.map((e) => ({
        chapterId: e.chapterId,
        nodeId: e.nodeId,
        timestamp: e.timestamp
      }))
    };
  }
  var init_proto_helpers = __esm({
    "web/src/proto_helpers.ts"() {
      "use strict";
      init_ws_messages_pb();
    }
  });

  // web/src/net.ts
  function sendProto(envelope) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    const bytes = toBinary(WsEnvelopeSchema, envelope);
    ws.send(bytes);
  }
  function sendMessage(payload) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    if (typeof payload === "object" && payload !== null && "type" in payload) {
      const msg = payload;
      switch (msg.type) {
        case "join":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "join",
              value: {
                name: msg.name || "",
                room: msg.room || "",
                mapW: msg.map_w || 0,
                mapH: msg.map_h || 0
              }
            }
          }));
          return;
        case "spawn_bot":
          sendProto(create(WsEnvelopeSchema, {
            payload: { case: "spawnBot", value: {} }
          }));
          return;
        case "add_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addWaypoint",
              value: { x: msg.x, y: msg.y, speed: msg.speed }
            }
          }));
          return;
        case "update_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "updateWaypoint",
              value: { index: msg.index, speed: msg.speed }
            }
          }));
          return;
        case "move_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "moveWaypoint",
              value: { index: msg.index, x: msg.x, y: msg.y }
            }
          }));
          return;
        case "delete_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteWaypoint",
              value: { index: msg.index }
            }
          }));
          return;
        case "clear_waypoints":
          sendProto(create(WsEnvelopeSchema, {
            payload: { case: "clearWaypoints", value: {} }
          }));
          return;
        case "configure_missile":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "configureMissile",
              value: { missileSpeed: msg.missile_speed, missileAgro: msg.missile_agro }
            }
          }));
          return;
        case "launch_missile":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "launchMissile",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "add_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addMissileWaypoint",
              value: { routeId: msg.route_id || "", x: msg.x, y: msg.y, speed: msg.speed }
            }
          }));
          return;
        case "update_missile_waypoint_speed":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "updateMissileWaypointSpeed",
              value: { routeId: msg.route_id || "", index: msg.index, speed: msg.speed }
            }
          }));
          return;
        case "move_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "moveMissileWaypoint",
              value: { routeId: msg.route_id || "", index: msg.index, x: msg.x, y: msg.y }
            }
          }));
          return;
        case "delete_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteMissileWaypoint",
              value: { routeId: msg.route_id || "", index: msg.index }
            }
          }));
          return;
        case "clear_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "clearMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "add_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addMissileRoute",
              value: { name: msg.name || "" }
            }
          }));
          return;
        case "rename_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "renameMissileRoute",
              value: { routeId: msg.route_id || "", name: msg.name || "" }
            }
          }));
          return;
        case "delete_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "set_active_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "setActiveMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "dag_start":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "dagStart",
              value: { nodeId: msg.node_id || "" }
            }
          }));
          return;
        case "clear_missile_waypoints":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "clearMissileWaypoints",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "mission:accept":
          if (ws && ws.readyState === WebSocket.OPEN) {
            ws.send(JSON.stringify(msg));
          }
          return;
      }
    }
  }
  function sendDagStart(nodeId) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    sendProto(create(WsEnvelopeSchema, {
      payload: {
        case: "dagStart",
        value: { nodeId }
      }
    }));
  }
  function acceptMission(missionId) {
    var _a, _b;
    if (!missionId) return;
    if (!ws || ws.readyState !== WebSocket.OPEN) {
      if (connectedState && connectedBus) {
        const mission = ensureMissionState(connectedState);
        mission.missionId = missionId;
        mission.status = "active";
        mission.startTime = (_a = mission.startTime) != null ? _a : getApproxServerNow(connectedState);
        connectedBus.emit("mission:start", { missionId });
      }
      return;
    }
    ws.send(JSON.stringify({ type: "mission:accept", payload: { missionId } }));
    if (connectedState && connectedBus) {
      const mission = ensureMissionState(connectedState);
      mission.missionId = missionId;
      mission.status = "active";
      mission.startTime = (_b = mission.startTime) != null ? _b : getApproxServerNow(connectedState);
      connectedBus.emit("mission:start", { missionId });
    }
  }
  function connectWebSocket({
    room,
    state,
    bus,
    onStateUpdated,
    onOpen,
    mapW,
    mapH,
    mode,
    missionId
  }) {
    const protocol = window.location.protocol === "https:" ? "wss://" : "ws://";
    let wsUrl = `${protocol}${window.location.host}/ws?room=${encodeURIComponent(room)}`;
    if (mapW && mapW > 0) {
      wsUrl += `&mapW=${mapW}`;
    }
    if (mapH && mapH > 0) {
      wsUrl += `&mapH=${mapH}`;
    }
    if (mode) {
      wsUrl += `&mode=${encodeURIComponent(mode)}`;
    }
    if (missionId) {
      wsUrl += `&mission=${encodeURIComponent(missionId)}`;
    }
    ws = new WebSocket(wsUrl);
    connectedState = state;
    connectedBus = bus;
    ws.binaryType = "arraybuffer";
    ws.addEventListener("open", () => {
      console.log("[ws] open");
      const socket = ws;
      if (socket && onOpen) {
        onOpen(socket);
      }
    });
    ws.addEventListener("close", () => {
      console.log("[ws] close");
      connectedState = null;
      connectedBus = null;
    });
    let prevRoutes = /* @__PURE__ */ new Map();
    let prevActiveRoute = null;
    let prevMissileCount = 0;
    ws.addEventListener("message", (event) => {
      if (event.data instanceof ArrayBuffer) {
        try {
          const envelope = fromBinary(WsEnvelopeSchema, new Uint8Array(event.data));
          if (envelope.payload.case === "stateUpdate") {
            const protoState = protoToState(envelope.payload.value);
            handleProtoStateMessage(state, protoState, bus, prevRoutes, prevActiveRoute, prevMissileCount);
            prevRoutes = new Map(state.missileRoutes.map((route) => [route.id, cloneRoute(route)]));
            prevActiveRoute = state.activeMissileRouteId;
            prevMissileCount = state.missiles.length;
            bus.emit("state:updated");
            onStateUpdated == null ? void 0 : onStateUpdated();
          } else if (envelope.payload.case === "roomFull") {
            console.error("[ws] Room full:", envelope.payload.value.message);
            bus.emit("connection:error", { message: envelope.payload.value.message });
          } else if (envelope.payload.case === "dagListResponse") {
            const dagData = envelope.payload.value.dag;
            if (dagData) {
              bus.emit("dag:list", protoToDagState(dagData));
            }
          } else if (envelope.payload.case === "missionBeaconSnapshot") {
            handleMissionSnapshot(state, envelope.payload.value, bus);
          } else if (envelope.payload.case === "missionBeaconDelta") {
            handleMissionDelta(state, envelope.payload.value, bus);
          } else {
            console.warn("[ws] Unknown protobuf message type:", envelope.payload.case);
          }
        } catch (err) {
          console.error("[ws] Failed to decode protobuf message:", err);
        }
        return;
      }
      if (typeof event.data === "string") {
        handleJsonMessage(state, bus, event.data);
        return;
      }
      if (event.data instanceof Blob) {
        event.data.text().then((text) => handleJsonMessage(state, bus, text)).catch((err) => console.error("[ws] Failed to read text message:", err));
        return;
      }
    });
  }
  function handleJsonMessage(state, bus, raw) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (!raw) {
      return;
    }
    let msg;
    try {
      msg = JSON.parse(raw);
    } catch (err) {
      console.error("[ws] Failed to parse JSON message:", err);
      return;
    }
    if (!msg || typeof msg.type !== "string") {
      return;
    }
    switch (msg.type) {
      case "mission:offer": {
        const payload = msg.payload;
        if (!payload) {
          return;
        }
        const mission = ensureMissionState(state);
        mission.missionId = (_b = (_a = payload.missionId) != null ? _a : mission.missionId) != null ? _b : "";
        mission.templateId = (_c = payload.templateId) != null ? _c : "";
        mission.displayName = (_e = (_d = payload.displayName) != null ? _d : mission.displayName) != null ? _e : "";
        mission.archetype = (_g = (_f = payload.archetype) != null ? _f : mission.archetype) != null ? _g : "";
        mission.timeout = Number.isFinite(payload.timeout) ? Number(payload.timeout) : 0;
        mission.status = "idle";
        mission.startTime = null;
        mission.completionTime = null;
        mission.progress = 0;
        mission.objectives = [];
        mission.objectiveSummaries = Array.isArray(payload.objectives) ? [...payload.objectives] : [];
        mission.serverTime = getApproxServerNow(state);
        bus.emit("mission:offered", {
          missionId: mission.missionId,
          templateId: mission.templateId,
          displayName: mission.displayName,
          archetype: mission.archetype,
          objectives: mission.objectiveSummaries,
          timeout: mission.timeout
        });
        break;
      }
      case "mission:update": {
        const payload = msg.payload;
        if (!payload) {
          return;
        }
        const mission = ensureMissionState(state);
        if (payload.missionId) {
          mission.missionId = payload.missionId;
        }
        if (Number.isFinite(payload.serverTime)) {
          mission.serverTime = Number(payload.serverTime);
        }
        if (typeof payload.status === "string") {
          mission.status = payload.status;
        }
        if (mission.status === "active" && mission.startTime == null) {
          mission.startTime = getApproxServerNow(state);
        }
        if (payload.objectives) {
          const objectives = updateMissionObjectives(state, bus, payload.objectives);
          bus.emit("mission:update", {
            missionId: mission.missionId,
            status: mission.status,
            objectives,
            serverTime: mission.serverTime
          });
        } else {
          bus.emit("mission:update", {
            missionId: mission.missionId,
            status: mission.status,
            objectives: mission.objectives,
            serverTime: mission.serverTime
          });
        }
        if (mission.status === "completed") {
          mission.completionTime = mission.serverTime;
          mission.progress = 1;
          bus.emit("mission:completed", { missionId: mission.missionId });
        } else if (mission.status === "failed") {
          mission.completionTime = mission.serverTime;
          bus.emit("mission:failed", { missionId: mission.missionId });
        }
        break;
      }
      default:
        break;
    }
  }
  function updateMissionObjectives(state, bus, objectiveDTOs) {
    const mission = ensureMissionState(state);
    const objectives = Array.isArray(objectiveDTOs) ? objectiveDTOs.map((obj) => {
      var _a, _b, _c, _d;
      return {
        id: (_a = obj.id) != null ? _a : "",
        type: (_b = obj.type) != null ? _b : "unknown",
        progress: clampProgress((_c = obj.progress) != null ? _c : 0),
        complete: Boolean(obj.complete),
        description: (_d = obj.description) != null ? _d : ""
      };
    }) : [];
    mission.objectives = objectives;
    mission.progress = calculateMissionProgress(objectives);
    bus.emit("mission:objectives-updated", { objectives });
    bus.emit("mission:progress-changed", { progress: mission.progress, objectives });
    return objectives;
  }
  function calculateMissionProgress(objectives) {
    if (!objectives || objectives.length === 0) {
      return 0;
    }
    const total = objectives.reduce((sum, obj) => sum + clampProgress(obj.progress), 0);
    const mean = total / objectives.length;
    return clampProgress(mean);
  }
  function handleProtoStateMessage(state, msg, bus, prevRoutes, prevActiveRoute, prevMissileCount) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t;
    state.now = msg.now;
    state.nowSyncedAt = monotonicNow();
    state.nextMissileReadyAt = msg.nextMissileReady;
    if (msg.me) {
      state.me = {
        x: msg.me.x,
        y: msg.me.y,
        vx: msg.me.vx,
        vy: msg.me.vy,
        hp: msg.me.hp,
        kills: msg.me.kills,
        waypoints: (_a = msg.me.waypoints) != null ? _a : [],
        currentWaypointIndex: (_b = msg.me.currentWaypointIndex) != null ? _b : 0,
        heat: msg.me.heat ? convertHeatView(msg.me.heat, state.nowSyncedAt, state.now) : void 0
      };
    } else {
      state.me = null;
    }
    state.ghosts = msg.ghosts;
    state.missiles = msg.missiles;
    const newRoutes = msg.missileRoutes;
    diffRoutes(prevRoutes, newRoutes, bus);
    state.missileRoutes = newRoutes;
    const nextActive = msg.activeMissileRoute || (newRoutes.length > 0 ? newRoutes[0].id : null);
    state.activeMissileRouteId = nextActive;
    if (nextActive !== prevActiveRoute) {
      bus.emit("missile:activeRouteChanged", { routeId: nextActive });
    }
    if (msg.missileConfig) {
      updateMissileLimits(state, {
        speedMin: msg.missileConfig.speedMin,
        speedMax: msg.missileConfig.speedMax,
        agroMin: msg.missileConfig.agroMin
      });
      const prevHeat = state.missileConfig.heatParams;
      let heatParams;
      if (msg.missileConfig.heatConfig) {
        const heatConfig = msg.missileConfig.heatConfig;
        heatParams = {
          max: (_d = (_c = heatConfig.max) != null ? _c : prevHeat == null ? void 0 : prevHeat.max) != null ? _d : 0,
          warnAt: (_f = (_e = heatConfig.warnAt) != null ? _e : prevHeat == null ? void 0 : prevHeat.warnAt) != null ? _f : 0,
          overheatAt: (_h = (_g = heatConfig.overheatAt) != null ? _g : prevHeat == null ? void 0 : prevHeat.overheatAt) != null ? _h : 0,
          markerSpeed: (_j = (_i = heatConfig.markerSpeed) != null ? _i : prevHeat == null ? void 0 : prevHeat.markerSpeed) != null ? _j : 0,
          kUp: (_l = (_k = heatConfig.kUp) != null ? _k : prevHeat == null ? void 0 : prevHeat.kUp) != null ? _l : 0,
          kDown: (_n = (_m = heatConfig.kDown) != null ? _m : prevHeat == null ? void 0 : prevHeat.kDown) != null ? _n : 0,
          exp: (_p = (_o = heatConfig.exp) != null ? _o : prevHeat == null ? void 0 : prevHeat.exp) != null ? _p : 1
        };
      }
      const sanitized = sanitizeMissileConfig({
        speed: msg.missileConfig.speed,
        agroRadius: msg.missileConfig.agroRadius,
        heatParams
      }, state.missileConfig, state.missileLimits);
      sanitized.lifetime = msg.missileConfig.lifetime;
      state.missileConfig = sanitized;
    }
    state.worldMeta = {
      c: msg.meta.c,
      w: msg.meta.w,
      h: msg.meta.h
    };
    if (msg.inventory) {
      state.inventory = {
        items: msg.inventory.items.map((item) => ({
          type: item.type,
          variant_id: item.variantId,
          heat_capacity: item.heatCapacity,
          quantity: item.quantity
        }))
      };
    }
    if (msg.dag) {
      state.dag = {
        nodes: msg.dag.nodes.map((n) => ({
          id: n.id,
          kind: n.kind,
          label: n.label,
          status: n.status,
          remaining_s: n.remainingS,
          duration_s: n.durationS,
          repeatable: n.repeatable,
          effects: n.effects
        }))
      };
    }
    if (msg.capabilities) {
      state.capabilities = {
        speedMultiplier: msg.capabilities.speedMultiplier,
        unlockedMissiles: msg.capabilities.unlockedMissiles,
        heatCapacity: msg.capabilities.heatCapacity,
        heatEfficiency: msg.capabilities.heatEfficiency
      };
    }
    if (msg.story) {
      const prevActiveNode = (_r = (_q = state.story) == null ? void 0 : _q.activeNode) != null ? _r : null;
      let dialogue = null;
      if (msg.story.dialogue) {
        const d = msg.story.dialogue;
        dialogue = {
          speaker: d.speaker,
          text: d.text,
          intent: d.intent,
          typingSpeedMs: 18,
          continueLabel: d.continueLabel,
          choices: (_s = d.choices) == null ? void 0 : _s.map((c) => ({ id: c.id, text: c.text })),
          tutorialTip: d.tutorialTip ? {
            title: d.tutorialTip.title,
            text: d.tutorialTip.text
          } : void 0
        };
      }
      state.story = {
        activeNode: msg.story.activeNode || null,
        dialogue,
        available: msg.story.available,
        flags: msg.story.flags,
        recentEvents: msg.story.recentEvents.map((evt) => ({
          chapter: evt.chapterId,
          node: evt.nodeId,
          timestamp: evt.timestamp
        }))
      };
      if (state.story.activeNode !== prevActiveNode && state.story.activeNode) {
        bus.emit("story:nodeActivated", {
          nodeId: state.story.activeNode,
          dialogue: (_t = state.story.dialogue) != null ? _t : void 0
        });
      }
    }
    const newMissileCount = state.missiles.length;
    if (newMissileCount > prevMissileCount) {
      for (let i = prevMissileCount; i < newMissileCount; i++) {
        const m = state.missiles[i];
        if (m && m.self) {
          bus.emit("missile:launched", { routeId: msg.activeMissileRoute || "" });
        }
      }
    }
    const cooldownRemaining = Math.max(0, state.nextMissileReadyAt - getApproxServerNow(state));
    bus.emit("missile:cooldownUpdated", { secondsRemaining: cooldownRemaining });
  }
  function handleMissionSnapshot(state, snapshot, bus) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
    const mission = ensureMissionState(state);
    const previousMissionId = mission.missionId;
    mission.missionId = snapshot.missionId || mission.missionId || "";
    mission.layoutSeed = Number((_b = (_a = snapshot.layoutSeed) != null ? _a : mission.layoutSeed) != null ? _b : 0);
    mission.serverTime = Number.isFinite(snapshot.serverTime) ? snapshot.serverTime : mission.serverTime;
    const previousBeacons = new Map(mission.beacons.map((b) => [b.id, b]));
    mission.beacons = snapshot.beacons.slice().sort((a, b) => a.ordinal - b.ordinal).map((def) => {
      var _a2, _b2, _c2;
      const prev = previousBeacons.get(def.id);
      return {
        id: def.id,
        ordinal: def.ordinal,
        x: def.x,
        y: def.y,
        radius: def.radius,
        seed: Number(def.seed || 0),
        discovered: (_a2 = prev == null ? void 0 : prev.discovered) != null ? _a2 : false,
        completed: (_b2 = prev == null ? void 0 : prev.completed) != null ? _b2 : false,
        cooldownUntil: (_c2 = prev == null ? void 0 : prev.cooldownUntil) != null ? _c2 : null
      };
    });
    const localPlayerId = getLocalPlayerId(state);
    let playerProto = localPlayerId ? snapshot.players.find((p) => p.playerId === localPlayerId) || null : null;
    if (!playerProto && snapshot.players.length === 1) {
      playerProto = snapshot.players[0];
    }
    if (playerProto) {
      const nowMs = monotonicNow();
      const discoveredSet = new Set((_c = playerProto.discovered) != null ? _c : []);
      const completedSet = new Set((_d = playerProto.completed) != null ? _d : []);
      for (const beacon of mission.beacons) {
        beacon.discovered = discoveredSet.has(beacon.id);
        beacon.completed = completedSet.has(beacon.id);
        const cooldown = (_e = playerProto.cooldowns) == null ? void 0 : _e[beacon.id];
        beacon.cooldownUntil = Number.isFinite(cooldown) ? cooldown : null;
      }
      let player = mission.player;
      if (!player || player.playerId !== playerProto.playerId) {
        player = {
          playerId: playerProto.playerId,
          currentIndex: (_f = playerProto.currentIndex) != null ? _f : 0,
          activeBeaconId: playerProto.activeBeacon || null,
          holdAccum: (_g = playerProto.holdAccum) != null ? _g : 0,
          holdRequired: Math.max(0, (_h = playerProto.holdRequired) != null ? _h : 0),
          displayHold: (_i = playerProto.holdAccum) != null ? _i : 0,
          lastServerUpdate: Number.isFinite(snapshot.serverTime) ? snapshot.serverTime : getApproxServerNow(state),
          lastDisplaySync: nowMs,
          insideActiveBeacon: false
        };
        mission.player = player;
      } else {
        player.currentIndex = (_j = playerProto.currentIndex) != null ? _j : player.currentIndex;
        player.activeBeaconId = playerProto.activeBeacon || null;
        player.holdAccum = (_k = playerProto.holdAccum) != null ? _k : player.holdAccum;
        player.holdRequired = Math.max(0, (_l = playerProto.holdRequired) != null ? _l : player.holdRequired);
        player.displayHold = (_n = (_m = playerProto.holdAccum) != null ? _m : player.displayHold) != null ? _n : 0;
        player.lastServerUpdate = Number.isFinite(snapshot.serverTime) ? snapshot.serverTime : getApproxServerNow(state);
        player.lastDisplaySync = nowMs;
      }
      mission.status = completedSet.size > 0 && completedSet.size >= mission.beacons.length && mission.beacons.length > 0 ? "completed" : "active";
    } else if (!mission.player || mission.player.playerId === "") {
      mission.player = null;
      mission.status = "idle";
      for (const beacon of mission.beacons) {
        beacon.discovered = false;
        beacon.completed = false;
        beacon.cooldownUntil = null;
      }
    }
    mission.encounters = snapshot.encounters.map((enc) => ({
      id: enc.encounterId,
      beaconId: enc.beaconId,
      waveIndex: enc.waveIndex,
      spawnedAt: enc.spawnedAt,
      expiresAt: enc.expiresAt,
      active: true
    }));
    if (mission.player && mission.missionId !== previousMissionId) {
      mission.player.displayHold = mission.player.holdAccum;
      mission.player.lastDisplaySync = monotonicNow();
      mission.player.insideActiveBeacon = false;
    }
    alignMissionProgress(mission);
    bus.emit("mission:update", { reason: "snapshot" });
  }
  function handleMissionDelta(state, delta, bus) {
    var _a, _b, _c, _d, _e;
    const mission = ensureMissionState(state);
    const nowMs = monotonicNow();
    const approxNow = getApproxServerNow(state);
    const localPlayerId = (_c = (_b = getLocalPlayerId(state)) != null ? _b : (_a = mission.player) == null ? void 0 : _a.playerId) != null ? _c : null;
    let changed = false;
    for (const entry of (_d = delta.players) != null ? _d : []) {
      if (localPlayerId && entry.playerId !== localPlayerId) {
        continue;
      }
      const player = ensureMissionPlayer(mission, entry.playerId);
      if (Number.isFinite(entry.holdRequired) && entry.holdRequired > 0) {
        player.holdRequired = entry.holdRequired;
      }
      if (Number.isFinite(entry.holdAccum)) {
        player.holdAccum = entry.holdAccum;
      }
      player.lastServerUpdate = Number.isFinite(entry.serverTime) ? entry.serverTime : approxNow;
      player.lastDisplaySync = nowMs;
      const beacon = findBeaconForDelta(mission, entry);
      switch (entry.type) {
        case 1 /* MISSION_BEACON_DELTA_DISCOVERED */:
          if (beacon) {
            beacon.discovered = true;
            changed = true;
          }
          break;
        case 2 /* MISSION_BEACON_DELTA_HOLD_PROGRESS */:
          changed = true;
          break;
        case 3 /* MISSION_BEACON_DELTA_HOLD_RESET */:
          player.holdAccum = 0;
          player.displayHold = Math.min(player.displayHold, 0);
          changed = true;
          break;
        case 4 /* MISSION_BEACON_DELTA_LOCKED */:
          if (beacon) {
            beacon.completed = true;
            const cooldown = Number.isFinite(entry.cooldownUntil) ? entry.cooldownUntil : null;
            beacon.cooldownUntil = cooldown;
            changed = true;
          }
          player.holdAccum = 0;
          player.displayHold = 0;
          break;
        case 5 /* MISSION_BEACON_DELTA_COOLDOWN */:
          if (beacon) {
            const cooldown = Number.isFinite(entry.cooldownUntil) ? entry.cooldownUntil : null;
            beacon.cooldownUntil = cooldown;
            changed = true;
          }
          break;
        case 6 /* MISSION_BEACON_DELTA_MISSION_COMPLETED */:
          mission.status = "completed";
          player.holdAccum = 0;
          player.displayHold = 0;
          player.activeBeaconId = null;
          changed = true;
          break;
        default:
          break;
      }
    }
    if (delta.encounters && delta.encounters.length > 0) {
      const encounterMap = /* @__PURE__ */ new Map();
      for (const enc of mission.encounters) {
        encounterMap.set(enc.id, { ...enc });
      }
      for (const event of delta.encounters) {
        let encounter = encounterMap.get(event.encounterId);
        if (!encounter) {
          encounter = {
            id: event.encounterId,
            beaconId: event.beaconId,
            waveIndex: event.waveIndex,
            spawnedAt: event.spawnedAt,
            expiresAt: event.expiresAt,
            active: false
          };
          encounterMap.set(event.encounterId, encounter);
        }
        encounter.beaconId = event.beaconId || encounter.beaconId;
        encounter.waveIndex = (_e = event.waveIndex) != null ? _e : encounter.waveIndex;
        encounter.spawnedAt = Number.isFinite(event.spawnedAt) ? event.spawnedAt : encounter.spawnedAt;
        encounter.expiresAt = Number.isFinite(event.expiresAt) ? event.expiresAt : encounter.expiresAt;
        switch (event.type) {
          case 1 /* MISSION_ENCOUNTER_EVENT_SPAWNED */:
            encounter.active = true;
            encounter.reason = void 0;
            break;
          case 2 /* MISSION_ENCOUNTER_EVENT_CLEARED */:
            encounter.active = false;
            encounter.reason = event.reason || "cleared";
            break;
          case 3 /* MISSION_ENCOUNTER_EVENT_TIMEOUT */:
            encounter.active = false;
            encounter.reason = event.reason || "timeout";
            break;
          case 4 /* MISSION_ENCOUNTER_EVENT_PURGED */:
            encounter.active = false;
            encounter.reason = event.reason || "purged";
            break;
          default:
            break;
        }
      }
      mission.encounters = Array.from(encounterMap.values()).sort((a, b) => a.spawnedAt - b.spawnedAt);
      changed = true;
    }
    if (mission.player) {
      mission.player.displayHold = Math.min(mission.player.displayHold, mission.player.holdAccum);
    }
    if (changed) {
      alignMissionProgress(mission);
      bus.emit("mission:update", { reason: "delta" });
    }
  }
  function ensureMissionState(state) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    if (!state.mission) {
      state.mission = {
        missionId: "",
        templateId: "",
        displayName: "",
        archetype: "",
        layoutSeed: 0,
        serverTime: 0,
        status: "idle",
        timeout: 0,
        startTime: null,
        completionTime: null,
        progress: 0,
        beacons: [],
        player: null,
        encounters: [],
        objectives: [],
        objectiveSummaries: []
      };
    } else {
      state.mission.templateId = (_a = state.mission.templateId) != null ? _a : "";
      state.mission.displayName = (_b = state.mission.displayName) != null ? _b : "";
      state.mission.archetype = (_c = state.mission.archetype) != null ? _c : "";
      state.mission.timeout = (_d = state.mission.timeout) != null ? _d : 0;
      state.mission.startTime = (_e = state.mission.startTime) != null ? _e : null;
      state.mission.completionTime = (_f = state.mission.completionTime) != null ? _f : null;
      state.mission.progress = (_g = state.mission.progress) != null ? _g : 0;
      state.mission.objectives = (_h = state.mission.objectives) != null ? _h : [];
      state.mission.objectiveSummaries = (_i = state.mission.objectiveSummaries) != null ? _i : [];
    }
    return state.mission;
  }
  function ensureMissionPlayer(mission, playerId) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
    const nowMs = monotonicNow();
    if (!mission.player || mission.player.playerId !== playerId) {
      mission.player = {
        playerId,
        currentIndex: (_b = (_a = mission.player) == null ? void 0 : _a.currentIndex) != null ? _b : 0,
        activeBeaconId: (_d = (_c = mission.player) == null ? void 0 : _c.activeBeaconId) != null ? _d : null,
        holdAccum: (_f = (_e = mission.player) == null ? void 0 : _e.holdAccum) != null ? _f : 0,
        holdRequired: (_h = (_g = mission.player) == null ? void 0 : _g.holdRequired) != null ? _h : 0,
        displayHold: (_j = (_i = mission.player) == null ? void 0 : _i.displayHold) != null ? _j : 0,
        lastServerUpdate: (_l = (_k = mission.player) == null ? void 0 : _k.lastServerUpdate) != null ? _l : 0,
        lastDisplaySync: nowMs,
        insideActiveBeacon: (_n = (_m = mission.player) == null ? void 0 : _m.insideActiveBeacon) != null ? _n : false
      };
    }
    return mission.player;
  }
  function getLocalPlayerId(state) {
    var _a, _b, _c;
    if ((_b = (_a = state.mission) == null ? void 0 : _a.player) == null ? void 0 : _b.playerId) {
      return state.mission.player.playerId;
    }
    const id = (_c = state.me) == null ? void 0 : _c.id;
    if (!id) return null;
    if (id.startsWith("ship-")) {
      return id.slice("ship-".length);
    }
    return id;
  }
  function findBeaconForDelta(mission, delta) {
    if (!mission.beacons.length) return void 0;
    if (delta.beaconId) {
      const beacon = mission.beacons.find((b) => b.id === delta.beaconId);
      if (beacon) return beacon;
    }
    return mission.beacons.find((b) => b.ordinal === delta.ordinal);
  }
  function alignMissionProgress(mission) {
    if (mission.objectives && mission.objectives.length > 0) {
      return;
    }
    const player = mission.player;
    if (!player) {
      mission.status = "idle";
      return;
    }
    const nextBeacon = mission.beacons.find((b) => !b.completed);
    if (!nextBeacon) {
      mission.status = "completed";
      player.currentIndex = mission.beacons.length;
      player.activeBeaconId = null;
      player.insideActiveBeacon = false;
      return;
    }
    mission.status = "active";
    player.currentIndex = nextBeacon.ordinal;
    player.activeBeaconId = nextBeacon.id;
  }
  function diffRoutes(prevRoutes, nextRoutes, bus) {
    const seen = /* @__PURE__ */ new Set();
    for (const route of nextRoutes) {
      seen.add(route.id);
      const prev = prevRoutes.get(route.id);
      if (!prev) {
        bus.emit("missile:routeAdded", { routeId: route.id });
        continue;
      }
      if (route.name !== prev.name) {
        bus.emit("missile:routeRenamed", { routeId: route.id, name: route.name });
      }
      if (route.waypoints.length > prev.waypoints.length) {
        bus.emit("missile:waypointAdded", { routeId: route.id, index: route.waypoints.length - 1 });
      } else if (route.waypoints.length < prev.waypoints.length) {
        bus.emit("missile:waypointDeleted", { routeId: route.id, index: prev.waypoints.length - 1 });
      }
      if (prev.waypoints.length > 0 && route.waypoints.length === 0) {
        bus.emit("missile:waypointsCleared", { routeId: route.id });
      }
    }
    for (const [routeId] of prevRoutes) {
      if (!seen.has(routeId)) {
        bus.emit("missile:routeDeleted", { routeId });
      }
    }
  }
  function cloneRoute(route) {
    return {
      id: route.id,
      name: route.name,
      waypoints: route.waypoints.map((wp) => ({ ...wp }))
    };
  }
  function getApproxServerNow(state) {
    if (!Number.isFinite(state.now)) {
      return 0;
    }
    const syncedAt = Number.isFinite(state.nowSyncedAt) ? state.nowSyncedAt : null;
    if (!syncedAt) {
      return state.now;
    }
    const elapsedMs = monotonicNow() - syncedAt;
    if (!Number.isFinite(elapsedMs) || elapsedMs < 0) {
      return state.now;
    }
    return state.now + elapsedMs / 1e3;
  }
  function convertHeatView(serverHeat, nowSyncedAtMs, serverNowSec) {
    const serverStallUntilSec = serverHeat.su;
    const offsetFromNowSec = serverStallUntilSec - serverNowSec;
    const stallUntilMs = nowSyncedAtMs + offsetFromNowSec * 1e3;
    const heatView = {
      value: serverHeat.v,
      max: serverHeat.m,
      warnAt: serverHeat.w,
      overheatAt: serverHeat.o,
      markerSpeed: serverHeat.ms,
      stallUntilMs,
      kUp: serverHeat.ku,
      kDown: serverHeat.kd,
      exp: serverHeat.ex
    };
    return heatView;
  }
  var ws, connectedState, connectedBus;
  var init_net = __esm({
    "web/src/net.ts"() {
      "use strict";
      init_state();
      init_esm();
      init_ws_messages_pb();
      init_proto_helpers();
      ws = null;
      connectedState = null;
      connectedBus = null;
    }
  });

  // web/src/game/constants.ts
  var MIN_ZOOM, MAX_ZOOM, HELP_TEXT;
  var init_constants = __esm({
    "web/src/game/constants.ts"() {
      "use strict";
      MIN_ZOOM = 1;
      MAX_ZOOM = 3;
      HELP_TEXT = [
        "Primary Modes",
        "  1 \u2013 Toggle ship navigation mode",
        "  2 \u2013 Toggle missile coordination mode",
        "",
        "Ship Navigation",
        "  T \u2013 Switch between set/select",
        "  C \u2013 Clear all waypoints",
        "  H \u2013 Hold (clear waypoints & stop)",
        "  R \u2013 Toggle show route",
        "  [ / ] \u2013 Adjust waypoint speed",
        "  Shift+[ / ] \u2013 Coarse speed adjust",
        "  Tab / Shift+Tab \u2013 Cycle waypoints",
        "  Delete \u2013 Delete from selected waypoint",
        "",
        "Missile Coordination",
        "  N \u2013 Add new missile route",
        "  L \u2013 Launch missiles",
        "  E \u2013 Switch between set/select",
        "  , / . \u2013 Adjust agro radius",
        "  ; / ' \u2013 Adjust missile speed",
        "  Shift+slider keys \u2013 Coarse adjust",
        "  Delete \u2013 Delete selected missile waypoint",
        "",
        "Map Controls",
        "  +/- \u2013 Zoom in/out",
        "  Ctrl+0 \u2013 Reset zoom",
        "  Mouse wheel \u2013 Zoom at cursor",
        "  Pinch \u2013 Zoom on touch devices",
        "",
        "General",
        "  ? \u2013 Toggle this overlay",
        "  Esc \u2013 Cancel selection or close overlay"
      ].join("\n");
    }
  });

  // web/src/game/camera.ts
  function createCamera({ canvas, state, uiState }) {
    const world = { w: 8e3, h: 4500 };
    function resolveCanvas() {
      return canvas != null ? canvas : null;
    }
    function setZoom(newZoom, centerX, centerY) {
      uiState.zoom = clamp(newZoom, MIN_ZOOM, MAX_ZOOM);
    }
    function getCameraPosition() {
      const cv = resolveCanvas();
      if (!cv) return { x: world.w / 2, y: world.h / 2 };
      const zoom = uiState.zoom;
      let cameraX = state.me ? state.me.x : world.w / 2;
      let cameraY = state.me ? state.me.y : world.h / 2;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      const viewportWidth = cv.width / scale;
      const viewportHeight = cv.height / scale;
      const minCameraX = viewportWidth / 2;
      const maxCameraX = world.w - viewportWidth / 2;
      const minCameraY = viewportHeight / 2;
      const maxCameraY = world.h - viewportHeight / 2;
      if (viewportWidth < world.w) {
        cameraX = clamp(cameraX, minCameraX, maxCameraX);
      } else {
        cameraX = world.w / 2;
      }
      if (viewportHeight < world.h) {
        cameraY = clamp(cameraY, minCameraY, maxCameraY);
      } else {
        cameraY = world.h / 2;
      }
      return { x: cameraX, y: cameraY };
    }
    function worldToCanvas(p) {
      const cv = resolveCanvas();
      if (!cv) return { x: p.x, y: p.y };
      const zoom = uiState.zoom;
      const camera = getCameraPosition();
      const worldX = p.x - camera.x;
      const worldY = p.y - camera.y;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      return {
        x: worldX * scale + cv.width / 2,
        y: worldY * scale + cv.height / 2
      };
    }
    function canvasToWorld(p) {
      const cv = resolveCanvas();
      if (!cv) return { x: p.x, y: p.y };
      const zoom = uiState.zoom;
      const camera = getCameraPosition();
      const canvasX = p.x - cv.width / 2;
      const canvasY = p.y - cv.height / 2;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      return {
        x: canvasX / scale + camera.x,
        y: canvasY / scale + camera.y
      };
    }
    function updateWorldFromMeta(meta) {
      if (!meta) return;
      if (typeof meta.w === "number" && Number.isFinite(meta.w)) {
        world.w = meta.w;
      }
      if (typeof meta.h === "number" && Number.isFinite(meta.h)) {
        world.h = meta.h;
      }
    }
    function getWorldSize() {
      return { ...world };
    }
    return {
      setZoom,
      getCameraPosition,
      worldToCanvas,
      canvasToWorld,
      updateWorldFromMeta,
      getWorldSize
    };
  }
  var init_camera = __esm({
    "web/src/game/camera.ts"() {
      "use strict";
      init_state();
      init_constants();
    }
  });

  // web/src/game/input.ts
  function createInput({
    canvas,
    ui,
    logic,
    camera,
    state,
    uiState,
    bus,
    sendMessage: sendMessage2
  }) {
    let lastTouchDistance = null;
    let pendingTouchTimeout = null;
    let isPinching = false;
    function getPointerCanvasPoint(event) {
      const rect = canvas.getBoundingClientRect();
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      return {
        x: (event.clientX - rect.left) * scaleX,
        y: (event.clientY - rect.top) * scaleY
      };
    }
    function handlePointerPlacement(canvasPoint, worldPoint) {
      const context = uiState.inputContext === "missile" ? "missile" : "ship";
      if (context === "missile") {
        logic.handleMissilePointer(canvasPoint, worldPoint);
        ui.renderMissileRouteControls();
      } else {
        logic.handleShipPointer(canvasPoint, worldPoint);
        ui.updatePlannedHeatBar();
      }
    }
    function onCanvasPointerDown(event) {
      var _a;
      const canvasPoint = getPointerCanvasPoint(event);
      const worldPoint = camera.canvasToWorld(canvasPoint);
      const context = uiState.inputContext === "missile" ? "missile" : "ship";
      if (context === "ship" && uiState.shipTool === "select" && ((_a = state.me) == null ? void 0 : _a.waypoints)) {
        const wpIndex = logic.findWaypointAtPosition(canvasPoint);
        if (wpIndex !== null) {
          logic.beginShipDrag(wpIndex, canvasPoint);
          canvas.setPointerCapture(event.pointerId);
          event.preventDefault();
          return;
        }
      }
      if (context === "missile" && uiState.missileTool === "select") {
        const hit = logic.hitTestMissileRoutes(canvasPoint);
        if (hit) {
          ui.setInputContext("missile");
          logic.setMissileSelection(hit.selection, hit.route.id);
          ui.renderMissileRouteControls();
          if (hit.selection.type === "waypoint") {
            logic.beginMissileDrag(hit.selection.index, canvasPoint);
            canvas.setPointerCapture(event.pointerId);
          }
          event.preventDefault();
          return;
        }
        logic.setMissileSelection(null);
        ui.renderMissileRouteControls();
      }
      if (event.pointerType === "touch") {
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
        }
        pendingTouchTimeout = setTimeout(() => {
          if (isPinching) return;
          handlePointerPlacement(canvasPoint, worldPoint);
          pendingTouchTimeout = null;
        }, 150);
      } else {
        handlePointerPlacement(canvasPoint, worldPoint);
      }
      event.preventDefault();
    }
    function onCanvasPointerMove(event) {
      const draggingShip = logic.getDraggedWaypoint() !== null;
      const draggingMissile = logic.getDraggedMissileWaypoint() !== null;
      if (!draggingShip && !draggingMissile) return;
      const canvasPoint = getPointerCanvasPoint(event);
      const worldPoint = camera.canvasToWorld(canvasPoint);
      if (draggingShip) {
        logic.updateShipDrag(worldPoint);
        event.preventDefault();
        return;
      }
      if (draggingMissile) {
        logic.updateMissileDrag(worldPoint);
        ui.renderMissileRouteControls();
        event.preventDefault();
      }
    }
    function onCanvasPointerUp(event) {
      logic.endDrag();
      if (canvas.hasPointerCapture(event.pointerId)) {
        canvas.releasePointerCapture(event.pointerId);
      }
      pendingTouchTimeout = null;
    }
    function onCanvasWheel(event) {
      event.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const centerX = event.clientX - rect.left;
      const centerY = event.clientY - rect.top;
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      const canvasCenterX = centerX * scaleX;
      const canvasCenterY = centerY * scaleY;
      const delta = event.deltaY;
      const zoomFactor = delta > 0 ? 0.9 : 1.1;
      const newZoom = uiState.zoom * zoomFactor;
      camera.setZoom(newZoom, canvasCenterX, canvasCenterY);
    }
    function getTouchDistance(touches) {
      if (touches.length < 2) return null;
      const dx = touches[0].clientX - touches[1].clientX;
      const dy = touches[0].clientY - touches[1].clientY;
      return Math.hypot(dx, dy);
    }
    function getTouchCenter(touches) {
      if (touches.length < 2) return null;
      return {
        x: (touches[0].clientX + touches[1].clientX) / 2,
        y: (touches[0].clientY + touches[1].clientY) / 2
      };
    }
    function onCanvasTouchStart(event) {
      if (event.touches.length === 2) {
        event.preventDefault();
        isPinching = true;
        lastTouchDistance = getTouchDistance(event.touches);
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
          pendingTouchTimeout = null;
        }
      }
    }
    function onCanvasTouchMove(event) {
      if (event.touches.length !== 2) {
        lastTouchDistance = null;
        return;
      }
      event.preventDefault();
      const currentDistance = getTouchDistance(event.touches);
      if (currentDistance === null || lastTouchDistance === null) return;
      const rect = canvas.getBoundingClientRect();
      const center = getTouchCenter(event.touches);
      if (!center) return;
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      const canvasCenterX = (center.x - rect.left) * scaleX;
      const canvasCenterY = (center.y - rect.top) * scaleY;
      const zoomFactor = currentDistance / lastTouchDistance;
      const newZoom = uiState.zoom * zoomFactor;
      camera.setZoom(newZoom, canvasCenterX, canvasCenterY);
      lastTouchDistance = currentDistance;
    }
    function onCanvasTouchEnd(event) {
      if (event.touches.length < 2) {
        lastTouchDistance = null;
        setTimeout(() => {
          isPinching = false;
        }, 100);
      }
    }
    function handleAddMissileRoute() {
      ui.setInputContext("missile");
      sendMessage2({ type: "add_missile_route" });
    }
    function onWindowKeyDown(event) {
      const target = document.activeElement;
      const isEditable = !!target && (target.tagName === "INPUT" || target.tagName === "TEXTAREA" || target.isContentEditable);
      if (uiState.helpVisible && event.key !== "Escape") {
        event.preventDefault();
        return;
      }
      if (isEditable) {
        if (event.key === "Escape") {
          target.blur();
          event.preventDefault();
        }
        return;
      }
      switch (event.code) {
        case "Digit1":
          ui.setInputContext("ship");
          event.preventDefault();
          return;
        case "Digit2":
          ui.setInputContext("missile");
          event.preventDefault();
          return;
        case "KeyT":
          if (uiState.activeTool === "ship-set") {
            ui.setActiveTool("ship-select");
          } else if (uiState.activeTool === "ship-select") {
            ui.setActiveTool("ship-set");
          } else {
            ui.setActiveTool("ship-set");
          }
          event.preventDefault();
          return;
        case "KeyC":
        case "KeyH":
          ui.setInputContext("ship");
          logic.clearShipRoute();
          event.preventDefault();
          return;
        case "BracketLeft":
          ui.setInputContext("ship");
          ui.adjustShipSpeed(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "BracketRight":
          ui.setInputContext("ship");
          ui.adjustShipSpeed(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Tab":
          ui.setInputContext("ship");
          logic.cycleShipSelection(event.shiftKey ? -1 : 1);
          event.preventDefault();
          return;
        case "KeyN":
          handleAddMissileRoute();
          event.preventDefault();
          return;
        case "KeyL":
          ui.setInputContext("missile");
          logic.launchActiveMissileRoute();
          event.preventDefault();
          return;
        case "KeyE":
          if (uiState.activeTool === "missile-set") {
            ui.setActiveTool("missile-select");
          } else if (uiState.activeTool === "missile-select") {
            ui.setActiveTool("missile-set");
          } else {
            ui.setActiveTool("missile-set");
          }
          event.preventDefault();
          return;
        case "Comma":
          ui.setInputContext("missile");
          ui.adjustMissileAgro(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "Period":
          ui.setInputContext("missile");
          ui.adjustMissileAgro(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Semicolon":
          ui.setInputContext("missile");
          ui.adjustMissileSpeed(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "Quote":
          ui.setInputContext("missile");
          ui.adjustMissileSpeed(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Delete":
        case "Backspace":
          if (uiState.inputContext === "missile" && logic.getMissileSelection()) {
            logic.deleteSelectedMissileWaypoint();
          } else if (logic.getSelection()) {
            logic.deleteSelectedShipWaypoint();
          }
          event.preventDefault();
          return;
        case "Escape": {
          if (uiState.helpVisible) {
            ui.setHelpVisible(false);
          } else if (logic.getMissileSelection()) {
            logic.setMissileSelection(null);
          } else if (logic.getSelection()) {
            logic.setSelection(null);
          } else if (uiState.inputContext === "missile") {
            ui.setInputContext("ship");
          }
          event.preventDefault();
          return;
        }
        case "Equal":
        case "NumpadAdd": {
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          camera.setZoom(uiState.zoom * 1.2, centerX, centerY);
          event.preventDefault();
          return;
        }
        case "Minus":
        case "NumpadSubtract": {
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          camera.setZoom(uiState.zoom / 1.2, centerX, centerY);
          event.preventDefault();
          return;
        }
        case "Digit0":
        case "Numpad0":
          if (event.ctrlKey || event.metaKey) {
            camera.setZoom(1);
            event.preventDefault();
          }
          return;
        default:
          break;
      }
      if (event.key === "?") {
        ui.setHelpVisible(!uiState.helpVisible);
        event.preventDefault();
      }
    }
    function bindInput() {
      canvas.addEventListener("pointerdown", onCanvasPointerDown);
      canvas.addEventListener("pointermove", onCanvasPointerMove);
      canvas.addEventListener("pointerup", onCanvasPointerUp);
      canvas.addEventListener("pointercancel", onCanvasPointerUp);
      canvas.addEventListener("wheel", onCanvasWheel, { passive: false });
      canvas.addEventListener("touchstart", onCanvasTouchStart, { passive: false });
      canvas.addEventListener("touchmove", onCanvasTouchMove, { passive: false });
      canvas.addEventListener("touchend", onCanvasTouchEnd, { passive: false });
      window.addEventListener("keydown", onWindowKeyDown, { capture: false });
      bus.on("context:changed", () => {
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
          pendingTouchTimeout = null;
        }
      });
    }
    return {
      bindInput
    };
  }
  var init_input = __esm({
    "web/src/game/input.ts"() {
      "use strict";
    }
  });

  // web/src/route.ts
  function buildRoutePoints(start, waypoints, world, camera, zoom, worldToCanvas) {
    const worldPoints = [{ x: start.x, y: start.y }];
    for (const wp of waypoints) {
      worldPoints.push({ x: wp.x, y: wp.y });
    }
    const canvasPoints = worldPoints.map((point) => worldToCanvas(point));
    return {
      waypoints: waypoints.slice(),
      worldPoints,
      canvasPoints
    };
  }
  function pointSegmentDistance(p, a, b) {
    const abx = b.x - a.x;
    const aby = b.y - a.y;
    const apx = p.x - a.x;
    const apy = p.y - a.y;
    const abLenSq = abx * abx + aby * aby;
    const t = abLenSq === 0 ? 0 : clamp(apx * abx + apy * aby, 0, abLenSq) / abLenSq;
    const projx = a.x + abx * t;
    const projy = a.y + aby * t;
    const dx = p.x - projx;
    const dy = p.y - projy;
    return Math.hypot(dx, dy);
  }
  function hitTestRouteGeneric(canvasPoint, routePoints, opts = {}) {
    var _a, _b, _c;
    const waypointHitRadius = (_a = opts.waypointHitRadius) != null ? _a : WAYPOINT_HIT_RADIUS;
    const legHitDistance = (_b = opts.legHitDistance) != null ? _b : LEG_HIT_DISTANCE;
    const skipLegs = (_c = opts.skipLegs) != null ? _c : false;
    const { waypoints, canvasPoints } = routePoints;
    if (waypoints.length === 0) {
      return null;
    }
    for (let i = 0; i < waypoints.length; i++) {
      const wpCanvas = canvasPoints[i + 1];
      const dx = canvasPoint.x - wpCanvas.x;
      const dy = canvasPoint.y - wpCanvas.y;
      if (Math.hypot(dx, dy) <= waypointHitRadius) {
        return { type: "waypoint", index: i };
      }
    }
    if (!skipLegs) {
      for (let i = 0; i < waypoints.length; i++) {
        const dist = pointSegmentDistance(canvasPoint, canvasPoints[i], canvasPoints[i + 1]);
        if (dist <= legHitDistance) {
          return { type: "leg", index: i };
        }
      }
    }
    return null;
  }
  function updateDashOffsetsForRoute(store, waypoints, worldPoints, canvasPoints, fallbackSpeed, dtSeconds, cycle = 64) {
    var _a;
    if (!Number.isFinite(dtSeconds) || dtSeconds < 0) {
      dtSeconds = 0;
    }
    for (let i = 0; i < waypoints.length; i++) {
      const wp = waypoints[i];
      const speed = typeof wp.speed === "number" && wp.speed > 0 ? wp.speed : fallbackSpeed;
      const aWorld = worldPoints[i];
      const bWorld = worldPoints[i + 1];
      const worldDist = Math.hypot(bWorld.x - aWorld.x, bWorld.y - aWorld.y);
      const aCanvas = canvasPoints[i];
      const bCanvas = canvasPoints[i + 1];
      const canvasDist = Math.hypot(bCanvas.x - aCanvas.x, bCanvas.y - aCanvas.y);
      if (!Number.isFinite(speed) || speed <= 1e-3 || !Number.isFinite(worldDist) || worldDist <= 1e-3 || canvasDist <= 1e-3) {
        store.set(i, 0);
        continue;
      }
      if (dtSeconds <= 0) {
        if (!store.has(i)) {
          store.set(i, 0);
        }
        continue;
      }
      const scale = canvasDist / worldDist;
      const dashSpeed = speed * scale;
      let next = ((_a = store.get(i)) != null ? _a : 0) - dashSpeed * dtSeconds;
      if (!Number.isFinite(next)) {
        next = 0;
      } else {
        next = (next % cycle + cycle) % cycle;
      }
      store.set(i, next);
    }
    for (const key of Array.from(store.keys())) {
      if (key >= waypoints.length) {
        store.delete(key);
      }
    }
  }
  function projectRouteHeat(route, initialHeat, params) {
    var _a;
    const result = {
      heatAtWaypoints: [],
      willOverheat: false
    };
    if (route.length === 0) {
      return result;
    }
    let heat = clamp(initialHeat, 0, params.max);
    let prevPoint = { x: route[0].x, y: route[0].y };
    result.heatAtWaypoints.push(heat);
    for (let i = 1; i < route.length; i++) {
      const targetPos = route[i];
      const dx = targetPos.x - prevPoint.x;
      const dy = targetPos.y - prevPoint.y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      if (distance < 1e-3) {
        result.heatAtWaypoints.push(heat);
        prevPoint = { x: targetPos.x, y: targetPos.y };
        continue;
      }
      const rawSpeed = (_a = targetPos.speed) != null ? _a : params.markerSpeed;
      const segmentSpeed = Math.max(rawSpeed, 1e-6);
      const segmentTime = distance / segmentSpeed;
      const Vn = Math.max(params.markerSpeed, 1e-6);
      const dev = segmentSpeed - params.markerSpeed;
      const p = params.exp;
      let hdot;
      if (dev >= 0) {
        hdot = params.kUp * Math.pow(dev / Vn, p);
      } else {
        hdot = -params.kDown * Math.pow(Math.abs(dev) / Vn, p);
      }
      heat += hdot * segmentTime;
      heat = clamp(heat, 0, params.max);
      result.heatAtWaypoints.push(heat);
      if (!result.willOverheat && heat >= params.overheatAt) {
        result.willOverheat = true;
        result.overheatAt = i;
      }
      prevPoint = { x: targetPos.x, y: targetPos.y };
    }
    return result;
  }
  function interpolateColor(color1, color2, t) {
    return [
      Math.round(color1[0] + (color2[0] - color1[0]) * t),
      Math.round(color1[1] + (color2[1] - color1[1]) * t),
      Math.round(color1[2] + (color2[2] - color1[2]) * t)
    ];
  }
  function drawPlannedRoute(ctx, opts) {
    var _a, _b;
    const {
      routePoints,
      selection,
      draggedWaypoint,
      dashStore,
      palette = SHIP_PALETTE,
      showLegs,
      heatParams,
      initialHeat = 0,
      defaultSpeed,
      worldPoints
    } = opts;
    const { waypoints, canvasPoints } = routePoints;
    if (waypoints.length === 0) {
      return;
    }
    let heatProjection = null;
    if (heatParams && worldPoints && worldPoints.length > 0) {
      const routeForHeat = worldPoints.map((pt, i) => {
        var _a2, _b2;
        return {
          x: pt.x,
          y: pt.y,
          speed: i === 0 ? void 0 : (_b2 = (_a2 = waypoints[i - 1]) == null ? void 0 : _a2.speed) != null ? _b2 : defaultSpeed
        };
      });
      heatProjection = projectRouteHeat(routeForHeat, initialHeat, heatParams);
    }
    if (showLegs) {
      let currentHeat = initialHeat;
      for (let i = 0; i < waypoints.length; i++) {
        const isFirstLeg = i === 0;
        const isSelected = (selection == null ? void 0 : selection.type) === "leg" && selection.index === i;
        let segmentHeat = currentHeat;
        if (heatProjection && i + 1 < heatProjection.heatAtWaypoints.length) {
          segmentHeat = heatProjection.heatAtWaypoints[i + 1];
        }
        let strokeStyle;
        let lineWidth;
        let lineDash = null;
        let alphaOverride = null;
        if (isSelected) {
          strokeStyle = palette.selection;
          lineWidth = 3.5;
          lineDash = [4, 4];
        } else if (heatProjection && heatParams && palette.heatCoolRgb && palette.heatHotRgb) {
          const heatRatio = clamp(segmentHeat / heatParams.overheatAt, 0, 1);
          const color = interpolateColor(palette.heatCoolRgb, palette.heatHotRgb, heatRatio);
          const baseWidth = isFirstLeg ? 3 : 1.5;
          lineWidth = baseWidth + heatRatio * 4;
          const alpha = isFirstLeg ? 1 : 0.4;
          strokeStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${alpha})`;
          lineDash = isFirstLeg ? [6, 6] : [8, 8];
        } else {
          const baseWidth = isFirstLeg ? 3 : 1.5;
          lineWidth = baseWidth;
          strokeStyle = palette.defaultLine;
          lineDash = isFirstLeg ? [6, 6] : [8, 8];
          alphaOverride = isFirstLeg ? 1 : 0.4;
        }
        ctx.save();
        if (lineDash) {
          ctx.setLineDash(lineDash);
        }
        if (alphaOverride !== null) {
          ctx.globalAlpha = alphaOverride;
        }
        ctx.strokeStyle = strokeStyle;
        ctx.lineWidth = lineWidth;
        ctx.beginPath();
        ctx.lineDashOffset = (_a = dashStore.get(i)) != null ? _a : 0;
        ctx.moveTo(canvasPoints[i].x, canvasPoints[i].y);
        ctx.lineTo(canvasPoints[i + 1].x, canvasPoints[i + 1].y);
        ctx.stroke();
        ctx.restore();
        currentHeat = segmentHeat;
      }
    }
    for (let i = 0; i < waypoints.length; i++) {
      const pt = canvasPoints[i + 1];
      const isSelected = (selection == null ? void 0 : selection.type) === "waypoint" && selection.index === i;
      const isDragging = draggedWaypoint === i;
      let fillColor;
      if (isSelected) {
        fillColor = palette.waypointSelected;
      } else if (isDragging && palette.waypointDragging) {
        fillColor = palette.waypointDragging;
      } else if (heatProjection && heatParams) {
        const heat = (_b = heatProjection.heatAtWaypoints[i + 1]) != null ? _b : 0;
        const heatRatio = heat / heatParams.max;
        const warnRatio = heatParams.warnAt / heatParams.max;
        const overheatRatio = heatParams.overheatAt / heatParams.max;
        if (heatRatio < warnRatio) {
          fillColor = "#33aa33";
        } else if (heatRatio < overheatRatio) {
          fillColor = "#ffaa33";
        } else {
          fillColor = "#ff3333";
        }
      } else {
        fillColor = palette.waypointDefault;
      }
      const strokeColor = isSelected && palette.waypointStrokeSelected ? palette.waypointStrokeSelected : palette.waypointStroke;
      ctx.save();
      ctx.beginPath();
      const radius = isSelected || isDragging ? 7 : 5;
      ctx.arc(pt.x, pt.y, radius, 0, Math.PI * 2);
      ctx.fillStyle = fillColor;
      ctx.globalAlpha = isSelected || isDragging ? 0.95 : 0.8;
      ctx.fill();
      ctx.globalAlpha = 1;
      ctx.lineWidth = isSelected ? 2 : 1.5;
      ctx.strokeStyle = strokeColor;
      ctx.stroke();
      ctx.restore();
    }
  }
  var WAYPOINT_HIT_RADIUS, LEG_HIT_DISTANCE, SHIP_PALETTE, MISSILE_PALETTE;
  var init_route = __esm({
    "web/src/route.ts"() {
      "use strict";
      init_state();
      WAYPOINT_HIT_RADIUS = 12;
      LEG_HIT_DISTANCE = 10;
      SHIP_PALETTE = {
        defaultLine: "#38bdf8",
        selection: "#f97316",
        waypointDefault: "#38bdf8",
        waypointSelected: "#f97316",
        waypointDragging: "#facc15",
        waypointStroke: "#0f172a",
        heatCoolRgb: [100, 150, 255],
        heatHotRgb: [255, 50, 50]
      };
      MISSILE_PALETTE = {
        defaultLine: "#f87171aa",
        selection: "#f97316",
        waypointDefault: "#f87171",
        waypointSelected: "#facc15",
        waypointStroke: "#7f1d1d",
        waypointStrokeSelected: "#854d0e",
        heatCoolRgb: [248, 129, 129],
        heatHotRgb: [220, 38, 38]
      };
    }
  });

  // web/src/game/logic.ts
  function createLogic({
    state,
    uiState,
    bus,
    sendMessage: sendMessage2,
    getApproxServerNow: getApproxServerNow2,
    camera
  }) {
    let selection = null;
    let missileSelection = null;
    let defaultSpeed = 150;
    let lastMissileLegSpeed = 0;
    const shipLegDashOffsets = /* @__PURE__ */ new Map();
    const missileLegDashOffsets = /* @__PURE__ */ new Map();
    let draggedWaypoint = null;
    let draggedMissileWaypoint = null;
    function getSelection() {
      return selection;
    }
    function setSelection(sel) {
      selection = sel;
      const index = selection ? selection.index : null;
      bus.emit("ship:legSelected", { index });
    }
    function getMissileSelection() {
      return missileSelection;
    }
    function setMissileSelection(sel, routeId) {
      missileSelection = sel;
      if (routeId) {
        state.activeMissileRouteId = routeId;
      }
      bus.emit("missile:selectionChanged", { selection: missileSelection });
    }
    function getDefaultShipSpeed() {
      return defaultSpeed;
    }
    function setDefaultShipSpeed(value) {
      defaultSpeed = value;
    }
    function getDefaultMissileLegSpeed() {
      var _a, _b;
      const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
      const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
      const base = lastMissileLegSpeed > 0 ? lastMissileLegSpeed : state.missileConfig.speed;
      return clamp(base, minSpeed, maxSpeed);
    }
    function recordMissileLegSpeed(value) {
      if (Number.isFinite(value) && value > 0) {
        lastMissileLegSpeed = value;
      }
    }
    function getShipWaypointOffset() {
      var _a;
      const currentIndex = (_a = state.me) == null ? void 0 : _a.currentWaypointIndex;
      if (typeof currentIndex === "number" && Number.isFinite(currentIndex) && currentIndex > 0) {
        return currentIndex;
      }
      return 0;
    }
    function displayIndexToActualIndex(displayIndex) {
      return displayIndex + getShipWaypointOffset();
    }
    function actualIndexToDisplayIndex(actualIndex) {
      const offset = getShipWaypointOffset();
      return actualIndex - offset;
    }
    function computeRoutePoints() {
      if (!state.me) return null;
      const allWaypoints = Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      const offset = getShipWaypointOffset();
      const visibleWaypoints = offset > 0 ? allWaypoints.slice(offset) : allWaypoints;
      if (!visibleWaypoints.length && !uiState.showShipRoute) {
        return null;
      }
      return buildRoutePoints(
        { x: state.me.x, y: state.me.y },
        visibleWaypoints,
        camera.getWorldSize(),
        camera.getCameraPosition,
        () => uiState.zoom,
        camera.worldToCanvas
      );
    }
    function computeMissileRoutePoints() {
      var _a, _b, _c, _d, _e;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints) || !route.waypoints.length) {
        return null;
      }
      const origin = (_e = route.origin) != null ? _e : { x: (_b = (_a = state.me) == null ? void 0 : _a.x) != null ? _b : 0, y: (_d = (_c = state.me) == null ? void 0 : _c.y) != null ? _d : 0 };
      return buildRoutePoints(
        origin,
        route.waypoints,
        camera.getWorldSize(),
        camera.getCameraPosition,
        () => uiState.zoom,
        camera.worldToCanvas
      );
    }
    function findWaypointAtPosition(canvasPoint) {
      const route = computeRoutePoints();
      if (!route) return null;
      const hit = hitTestRouteGeneric(canvasPoint, route, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 0
      });
      if (!hit || hit.type !== "waypoint") return null;
      return displayIndexToActualIndex(hit.index);
    }
    function hitTestRoute(canvasPoint) {
      const route = computeRoutePoints();
      if (!route) return null;
      return hitTestRouteGeneric(canvasPoint, route, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 6
      });
    }
    function hitTestMissileRoutes(canvasPoint) {
      const routePoints = computeMissileRoutePoints();
      const route = getActiveMissileRoute();
      if (!routePoints || !route) return null;
      const hit = hitTestRouteGeneric(canvasPoint, routePoints, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 6
      });
      if (!hit) return null;
      const selection2 = hit.type === "leg" ? { type: "leg", index: hit.index } : { type: "waypoint", index: hit.index };
      return { route, selection: selection2 };
    }
    function updateRouteAnimations(dtSeconds) {
      const shipRoute = computeRoutePoints();
      if (shipRoute && shipRoute.waypoints.length > 0 && uiState.showShipRoute) {
        updateDashOffsetsForRoute(
          shipLegDashOffsets,
          shipRoute.waypoints,
          shipRoute.worldPoints,
          shipRoute.canvasPoints,
          defaultSpeed,
          dtSeconds
        );
      } else {
        shipLegDashOffsets.clear();
      }
      const missileRoute = computeMissileRoutePoints();
      if (missileRoute) {
        updateDashOffsetsForRoute(
          missileLegDashOffsets,
          missileRoute.waypoints,
          missileRoute.worldPoints,
          missileRoute.canvasPoints,
          state.missileConfig.speed,
          dtSeconds
        );
      } else {
        missileLegDashOffsets.clear();
      }
    }
    function ensureActiveMissileRoute() {
      var _a, _b;
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) return null;
      if (!state.activeMissileRouteId) {
        state.activeMissileRouteId = routes[0].id;
      }
      let route = routes.find((r) => r.id === state.activeMissileRouteId) || null;
      if (!route) {
        route = (_a = routes[0]) != null ? _a : null;
        state.activeMissileRouteId = (_b = route == null ? void 0 : route.id) != null ? _b : null;
      }
      return route;
    }
    function getActiveMissileRoute() {
      var _a;
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) return null;
      if (!state.activeMissileRouteId) {
        return ensureActiveMissileRoute();
      }
      return (_a = routes.find((r) => r.id === state.activeMissileRouteId)) != null ? _a : ensureActiveMissileRoute();
    }
    function cycleMissileRoute(direction) {
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) {
        return;
      }
      const currentIndex = routes.findIndex(
        (route) => route.id === state.activeMissileRouteId
      );
      const baseIndex = currentIndex >= 0 ? currentIndex : 0;
      const nextIndex = ((baseIndex + direction) % routes.length + routes.length) % routes.length;
      const nextRoute = routes[nextIndex];
      if (!nextRoute) return;
      state.activeMissileRouteId = nextRoute.id;
      setMissileSelection(null);
      sendMessage2({
        type: "set_active_missile_route",
        route_id: nextRoute.id
      });
      bus.emit("missile:activeRouteChanged", { routeId: nextRoute.id });
    }
    function cycleShipSelection(direction) {
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      if (!wps.length) {
        setSelection(null);
        return;
      }
      let index = selection ? selection.index : direction > 0 ? -1 : wps.length;
      index += direction;
      if (index < 0) index = wps.length - 1;
      if (index >= wps.length) index = 0;
      setSelection({ type: "leg", index });
    }
    function clearShipRoute() {
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      if (!wps.length) return;
      sendMessage2({ type: "clear_waypoints" });
      if (state.me) {
        state.me.waypoints = [];
      }
      setSelection(null);
      bus.emit("ship:waypointsCleared");
    }
    function deleteSelectedShipWaypoint() {
      if (!selection) return;
      sendMessage2({ type: "delete_waypoint", index: selection.index });
      if (state.me && Array.isArray(state.me.waypoints)) {
        state.me.waypoints = state.me.waypoints.slice(0, selection.index);
      }
      bus.emit("ship:waypointDeleted", { index: selection.index });
      setSelection(null);
    }
    function deleteSelectedMissileWaypoint() {
      const route = getActiveMissileRoute();
      if (!route || !missileSelection) return;
      const index = missileSelection.index;
      if (!Array.isArray(route.waypoints) || index < 0 || index >= route.waypoints.length) {
        return;
      }
      sendMessage2({
        type: "delete_missile_waypoint",
        route_id: route.id,
        index
      });
      route.waypoints = [
        ...route.waypoints.slice(0, index),
        ...route.waypoints.slice(index + 1)
      ];
      bus.emit("missile:waypointDeleted", { routeId: route.id, index });
      setMissileSelection(null);
    }
    function launchActiveMissileRoute() {
      var _a;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints) || route.waypoints.length === 0) {
        return;
      }
      if (getMissileCooldownRemaining() > 0.05) {
        return;
      }
      let hasMissiles = false;
      if ((_a = state.inventory) == null ? void 0 : _a.items) {
        for (const item of state.inventory.items) {
          if (item.type === "missile" && item.quantity > 0) {
            hasMissiles = true;
            break;
          }
        }
      }
      if (!hasMissiles) {
        console.log("No missiles available - craft missiles first");
        return;
      }
      bus.emit("missile:launchRequested", { routeId: route.id });
      sendMessage2({
        type: "launch_missile",
        route_id: route.id
      });
    }
    function handleShipPointer(canvasPoint, worldPoint) {
      if (!state.me) return;
      if (uiState.shipTool === "select") {
        const hit = hitTestRoute(canvasPoint);
        if (hit) {
          const actualIndex = displayIndexToActualIndex(hit.index);
          setSelection({ type: hit.type, index: actualIndex });
        } else {
          setSelection(null);
        }
        return;
      }
      const wp = { x: worldPoint.x, y: worldPoint.y, speed: defaultSpeed };
      sendMessage2({
        type: "add_waypoint",
        x: wp.x,
        y: wp.y,
        speed: defaultSpeed
      });
      const wps = Array.isArray(state.me.waypoints) ? state.me.waypoints.slice() : [];
      wps.push(wp);
      state.me.waypoints = wps;
      bus.emit("ship:waypointAdded", { index: wps.length - 1 });
      setSelection(null);
    }
    function handleMissilePointer(canvasPoint, worldPoint) {
      const route = getActiveMissileRoute();
      if (!route) return;
      if (uiState.missileTool === "select") {
        const hit = hitTestMissileRoutes(canvasPoint);
        if (hit) {
          setMissileSelection(hit.selection, hit.route.id);
        } else {
          setMissileSelection(null);
        }
        return;
      }
      const speed = getDefaultMissileLegSpeed();
      const wp = { x: worldPoint.x, y: worldPoint.y, speed };
      sendMessage2({
        type: "add_missile_waypoint",
        route_id: route.id,
        x: wp.x,
        y: wp.y,
        speed: wp.speed
      });
      route.waypoints = route.waypoints ? [...route.waypoints, wp] : [wp];
      recordMissileLegSpeed(speed);
      setMissileSelection(null, route.id);
      bus.emit("missile:waypointAdded", {
        routeId: route.id,
        index: route.waypoints.length - 1
      });
    }
    function beginShipDrag(index, _origin) {
      draggedWaypoint = index;
    }
    function beginMissileDrag(index, _origin) {
      draggedMissileWaypoint = index;
    }
    function clampToWorld(point) {
      var _a, _b;
      const worldW = (_a = state.worldMeta.w) != null ? _a : 4e3;
      const worldH = (_b = state.worldMeta.h) != null ? _b : 4e3;
      return {
        x: clamp(point.x, 0, worldW),
        y: clamp(point.y, 0, worldH)
      };
    }
    function updateShipDrag(worldPoint) {
      if (draggedWaypoint === null) return;
      const clamped = clampToWorld(worldPoint);
      sendMessage2({
        type: "move_waypoint",
        index: draggedWaypoint,
        x: clamped.x,
        y: clamped.y
      });
      if (state.me && state.me.waypoints && draggedWaypoint < state.me.waypoints.length) {
        state.me.waypoints[draggedWaypoint].x = clamped.x;
        state.me.waypoints[draggedWaypoint].y = clamped.y;
      }
    }
    function updateMissileDrag(worldPoint) {
      if (draggedMissileWaypoint === null) return;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints)) return;
      const clamped = clampToWorld(worldPoint);
      if (draggedMissileWaypoint >= route.waypoints.length) return;
      sendMessage2({
        type: "move_missile_waypoint",
        route_id: route.id,
        index: draggedMissileWaypoint,
        x: clamped.x,
        y: clamped.y
      });
      route.waypoints = route.waypoints.map(
        (wp, idx) => idx === draggedMissileWaypoint ? { ...wp, x: clamped.x, y: clamped.y } : wp
      );
    }
    function endDrag() {
      var _a;
      if (draggedWaypoint !== null && ((_a = state.me) == null ? void 0 : _a.waypoints)) {
        const wp = state.me.waypoints[draggedWaypoint];
        if (wp) {
          bus.emit("ship:waypointMoved", {
            index: draggedWaypoint,
            x: wp.x,
            y: wp.y
          });
        }
      }
      if (draggedMissileWaypoint !== null) {
        const route = getActiveMissileRoute();
        if (route && route.waypoints && draggedMissileWaypoint < route.waypoints.length) {
          const wp = route.waypoints[draggedMissileWaypoint];
          bus.emit("missile:waypointMoved", {
            routeId: route.id,
            index: draggedMissileWaypoint,
            x: wp.x,
            y: wp.y
          });
        }
      }
      draggedWaypoint = null;
      draggedMissileWaypoint = null;
    }
    function getDraggedWaypoint() {
      return draggedWaypoint;
    }
    function getDraggedMissileWaypoint() {
      return draggedMissileWaypoint;
    }
    function getMissileCooldownRemaining() {
      const remaining = state.nextMissileReadyAt - getApproxServerNow2(state);
      return remaining > 0 ? remaining : 0;
    }
    return {
      getSelection,
      setSelection,
      getMissileSelection,
      setMissileSelection,
      getDefaultShipSpeed,
      setDefaultShipSpeed,
      getDefaultMissileLegSpeed,
      recordMissileLegSpeed,
      getShipWaypointOffset,
      displayIndexToActualIndex,
      actualIndexToDisplayIndex,
      computeRoutePoints,
      computeMissileRoutePoints,
      findWaypointAtPosition,
      hitTestRoute,
      hitTestMissileRoutes,
      shipLegDashOffsets,
      missileLegDashOffsets,
      updateRouteAnimations,
      ensureActiveMissileRoute,
      getActiveMissileRoute,
      cycleMissileRoute,
      cycleShipSelection,
      clearShipRoute,
      deleteSelectedShipWaypoint,
      deleteSelectedMissileWaypoint,
      launchActiveMissileRoute,
      handleShipPointer,
      handleMissilePointer,
      beginShipDrag,
      beginMissileDrag,
      updateShipDrag,
      updateMissileDrag,
      endDrag,
      getDraggedWaypoint,
      getDraggedMissileWaypoint,
      getMissileCooldownRemaining
    };
  }
  var init_logic = __esm({
    "web/src/game/logic.ts"() {
      "use strict";
      init_state();
      init_route();
    }
  });

  // web/src/game/render.ts
  function createRenderer({
    canvas,
    ctx,
    state,
    uiState,
    camera,
    logic
  }) {
    function drawShip(x, y, vx, vy, color, filled) {
      const p = camera.worldToCanvas({ x, y });
      const r = 10;
      ctx.save();
      ctx.translate(p.x, p.y);
      const angle = Math.atan2(vy, vx);
      ctx.rotate(angle);
      ctx.beginPath();
      ctx.moveTo(r, 0);
      ctx.lineTo(-r * 0.7, r * 0.6);
      ctx.lineTo(-r * 0.4, 0);
      ctx.lineTo(-r * 0.7, -r * 0.6);
      ctx.closePath();
      ctx.lineWidth = 2;
      ctx.strokeStyle = color;
      if (filled) {
        ctx.fillStyle = `${color}cc`;
        ctx.fill();
      }
      ctx.stroke();
      ctx.restore();
    }
    function drawGhostDot(x, y) {
      const p = camera.worldToCanvas({ x, y });
      ctx.beginPath();
      ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
      ctx.fillStyle = "#ccccccaa";
      ctx.fill();
    }
    function drawRoute() {
      var _a;
      if (!state.me) return;
      const route = logic.computeRoutePoints();
      if (!route || route.waypoints.length === 0) return;
      const heat = state.me.heat;
      const heatParams = heat ? {
        markerSpeed: heat.markerSpeed,
        kUp: heat.kUp,
        kDown: heat.kDown,
        exp: heat.exp,
        max: heat.max,
        overheatAt: heat.overheatAt,
        warnAt: heat.warnAt
      } : void 0;
      const currentSelection = logic.getSelection();
      const displaySelection = currentSelection ? {
        type: currentSelection.type,
        index: logic.actualIndexToDisplayIndex(currentSelection.index)
      } : null;
      const validSelection = displaySelection && displaySelection.index >= 0 ? displaySelection : null;
      const dragged = logic.getDraggedWaypoint();
      const displayDragged = dragged !== null ? logic.actualIndexToDisplayIndex(dragged) : null;
      const validDragged = displayDragged !== null && displayDragged >= 0 ? displayDragged : null;
      drawPlannedRoute(ctx, {
        routePoints: route,
        selection: validSelection,
        draggedWaypoint: validDragged,
        dashStore: logic.shipLegDashOffsets,
        palette: SHIP_PALETTE,
        showLegs: uiState.showShipRoute,
        heatParams,
        initialHeat: (_a = heat == null ? void 0 : heat.value) != null ? _a : 0,
        defaultSpeed: logic.getDefaultShipSpeed(),
        worldPoints: route.worldPoints
      });
    }
    function drawMissileRoute() {
      if (!state.me) return;
      if (uiState.inputContext !== "missile") return;
      const route = logic.computeMissileRoutePoints();
      if (!route || route.waypoints.length === 0) return;
      const heatParams = state.missileConfig.heatParams;
      const missileSelection = logic.getMissileSelection();
      const genericSelection = missileSelection && missileSelection.type === "leg" ? { type: "leg", index: missileSelection.index } : missileSelection && missileSelection.type === "waypoint" ? { type: "waypoint", index: missileSelection.index } : null;
      drawPlannedRoute(ctx, {
        routePoints: route,
        selection: genericSelection,
        draggedWaypoint: null,
        dashStore: logic.missileLegDashOffsets,
        palette: MISSILE_PALETTE,
        showLegs: true,
        heatParams,
        initialHeat: 0,
        defaultSpeed: state.missileConfig.speed,
        worldPoints: route.worldPoints
      });
    }
    function drawMissiles() {
      if (!state.missiles || state.missiles.length === 0) return;
      const world = camera.getWorldSize();
      const scaleX = canvas.width / world.w;
      const scaleY = canvas.height / world.h;
      const radiusScale = (scaleX + scaleY) / 2;
      for (const miss of state.missiles) {
        const p = camera.worldToCanvas({ x: miss.x, y: miss.y });
        const selfOwned = Boolean(miss.self);
        ctx.save();
        ctx.beginPath();
        ctx.arc(p.x, p.y, selfOwned ? 6 : 5, 0, Math.PI * 2);
        ctx.fillStyle = selfOwned ? "#f87171" : "#fca5a5";
        ctx.globalAlpha = selfOwned ? 0.95 : 0.8;
        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.lineWidth = 1.5;
        ctx.strokeStyle = "#111827";
        ctx.stroke();
        ctx.restore();
        if (selfOwned && miss.agro_radius > 0) {
          ctx.save();
          ctx.beginPath();
          const rCanvas = miss.agro_radius * radiusScale;
          ctx.setLineDash([14, 10]);
          ctx.strokeStyle = "rgba(248,113,113,0.35)";
          ctx.lineWidth = 1.2;
          ctx.arc(p.x, p.y, rCanvas, 0, Math.PI * 2);
          ctx.stroke();
          ctx.restore();
        }
      }
    }
    function drawGrid() {
      ctx.save();
      ctx.strokeStyle = "#234";
      ctx.lineWidth = 1;
      const zoom = uiState.zoom;
      let step = 1e3;
      if (zoom < 0.7) {
        step = 2e3;
      } else if (zoom > 1.5) {
        step = 500;
      } else if (zoom > 2.5) {
        step = 250;
      }
      const cameraPos = camera.getCameraPosition();
      const world = camera.getWorldSize();
      const scaleX = canvas.width / world.w;
      const scaleY = canvas.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      const viewportWidth = canvas.width / scale;
      const viewportHeight = canvas.height / scale;
      const minX = Math.max(0, cameraPos.x - viewportWidth / 2);
      const maxX = Math.min(world.w, cameraPos.x + viewportWidth / 2);
      const minY = Math.max(0, cameraPos.y - viewportHeight / 2);
      const maxY = Math.min(world.h, cameraPos.y + viewportHeight / 2);
      const startX = Math.floor(minX / step) * step;
      const endX = Math.ceil(maxX / step) * step;
      const startY = Math.floor(minY / step) * step;
      const endY = Math.ceil(maxY / step) * step;
      for (let x = startX; x <= endX; x += step) {
        const a = camera.worldToCanvas({ x, y: Math.max(0, minY) });
        const b = camera.worldToCanvas({ x, y: Math.min(world.h, maxY) });
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
      for (let y = startY; y <= endY; y += step) {
        const a = camera.worldToCanvas({ x: Math.max(0, minX), y });
        const b = camera.worldToCanvas({ x: Math.min(world.w, maxX), y });
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
      ctx.restore();
    }
    function drawBeacons() {
      var _a, _b, _c, _d;
      const mission = state.mission;
      if (!mission || mission.beacons.length === 0) {
        return;
      }
      const world = camera.getWorldSize();
      const scale = Math.min(canvas.width / world.w, canvas.height / world.h) * uiState.zoom;
      const me = state.me;
      const player = mission.player;
      const activeBeaconId = (_a = player == null ? void 0 : player.activeBeaconId) != null ? _a : null;
      const holdRequired = (_b = player == null ? void 0 : player.holdRequired) != null ? _b : 0;
      const holdAccum = (_d = (_c = player == null ? void 0 : player.displayHold) != null ? _c : player == null ? void 0 : player.holdAccum) != null ? _d : 0;
      mission.beacons.forEach((beacon) => {
        const center = camera.worldToCanvas({ x: beacon.x, y: beacon.y });
        const edge = camera.worldToCanvas({ x: beacon.x + beacon.radius, y: beacon.y });
        const radius = Math.hypot(edge.x - center.x, edge.y - center.y);
        if (!Number.isFinite(radius) || radius <= 0.5) {
          return;
        }
        const isLocked = beacon.completed;
        const isActive = activeBeaconId === beacon.id;
        const baseLineWidth = Math.max(1.5, 2.5 * Math.min(1, scale * 1.2));
        const strokeStyle = isLocked ? "rgba(74,222,128,0.85)" : isActive ? "rgba(56,189,248,0.95)" : "rgba(148,163,184,0.65)";
        ctx.save();
        ctx.beginPath();
        ctx.setLineDash(isActive ? [] : [10, 12]);
        ctx.lineWidth = isActive ? baseLineWidth * 1.4 : baseLineWidth;
        ctx.strokeStyle = strokeStyle;
        ctx.globalAlpha = isLocked ? 0.9 : 0.8;
        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
        ctx.stroke();
        const inside = isActive && me ? (() => {
          const dx = me.x - beacon.x;
          const dy = me.y - beacon.y;
          return dx * dx + dy * dy <= beacon.radius * beacon.radius;
        })() : false;
        if (inside) {
          ctx.beginPath();
          ctx.fillStyle = "rgba(56,189,248,0.12)";
          ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
          ctx.fill();
        }
        if (isActive) {
          const progress = holdRequired > 0 ? Math.max(0, Math.min(1, holdAccum / holdRequired)) : 0;
          if (progress > 0) {
            ctx.beginPath();
            ctx.strokeStyle = "rgba(56,189,248,0.95)";
            ctx.lineWidth = Math.max(baseLineWidth * 1.8, 2);
            ctx.setLineDash([]);
            ctx.arc(center.x, center.y, radius, -Math.PI / 2, -Math.PI / 2 + progress * Math.PI * 2);
            ctx.stroke();
          }
        }
        if (isLocked) {
          ctx.beginPath();
          ctx.fillStyle = "rgba(74,222,128,0.75)";
          ctx.arc(center.x, center.y, Math.max(4, radius * 0.05), 0, Math.PI * 2);
          ctx.fill();
        }
        ctx.restore();
      });
    }
    function drawScene() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawGrid();
      drawBeacons();
      drawRoute();
      drawMissileRoute();
      drawMissiles();
      for (const g of state.ghosts) {
        drawShip(g.x, g.y, g.vx, g.vy, "#9ca3af", false);
        drawGhostDot(g.x, g.y);
      }
      if (state.me) {
        drawShip(state.me.x, state.me.y, state.me.vx, state.me.vy, "#22d3ee", true);
      }
    }
    return {
      drawScene,
      drawGrid,
      drawBeacons,
      drawShip,
      drawGhostDot,
      drawRoute,
      drawMissileRoute,
      drawMissiles
    };
  }
  var init_render = __esm({
    "web/src/game/render.ts"() {
      "use strict";
      init_route();
    }
  });

  // web/src/game/ui.ts
  function createUI({
    state,
    uiState,
    bus,
    logic,
    camera,
    sendMessage: sendMessage2,
    getApproxServerNow: getApproxServerNow2
  }) {
    let canvas = null;
    let ctx = null;
    let HPspan = null;
    let killsSpan = null;
    let shipControlsCard = null;
    let shipClearBtn = null;
    let shipSetBtn = null;
    let shipSelectBtn = null;
    let shipRoutesContainer = null;
    let shipRouteLeg = null;
    let shipRouteSpeed = null;
    let shipDeleteBtn = null;
    let shipSpeedCard = null;
    let shipSpeedSlider = null;
    let shipSpeedValue = null;
    let missileSpeedMarker = null;
    let missileControlsCard = null;
    let missileAddRouteBtn = null;
    let missileLaunchBtn = null;
    let missileLaunchText = null;
    let missileLaunchInfo = null;
    let missileSetBtn = null;
    let missileSelectBtn = null;
    let missileDeleteBtn = null;
    let missileSpeedCard = null;
    let missileSpeedSlider = null;
    let missileSpeedValue = null;
    let missileAgroCard = null;
    let missileAgroSlider = null;
    let missileAgroValue = null;
    let missileHeatCapacityCard = null;
    let missileHeatCapacitySlider = null;
    let missileHeatCapacityValue = null;
    let missileCraftBtn = null;
    let missileCountSpan = null;
    let missileCraftTimerDiv = null;
    let craftTimeRemainingSpan = null;
    let spawnBotBtn = null;
    let spawnBotText = null;
    let routePrevBtn = null;
    let routeNextBtn = null;
    let routeMenuToggle = null;
    let routeMenu = null;
    let renameMissileRouteBtn = null;
    let deleteMissileRouteBtn = null;
    let clearMissileWaypointsBtn = null;
    let missileRouteNameLabel = null;
    let missileRouteCountLabel = null;
    let helpToggle = null;
    let helpOverlay = null;
    let helpCloseBtn = null;
    let helpText = null;
    let heatBarFill = null;
    let heatBarPlanned = null;
    let heatValueText = null;
    let speedMarker = null;
    let stallOverlay = null;
    let baseShipSpeedMax = null;
    let markerAligned = false;
    let heatWarnActive = false;
    let stallActive = false;
    let dualMeterAlert = false;
    let lastMissileLaunchTextHTML = "";
    let lastMissileLaunchInfoHTML = "";
    let lastMissileConfigSent = null;
    function cacheDom() {
      var _a, _b;
      canvas = document.getElementById("cv");
      ctx = (_a = canvas == null ? void 0 : canvas.getContext("2d")) != null ? _a : null;
      HPspan = document.getElementById("ship-hp");
      shipControlsCard = document.getElementById("ship-controls");
      shipClearBtn = document.getElementById("ship-clear");
      shipSetBtn = document.getElementById("ship-set");
      shipSelectBtn = document.getElementById("ship-select");
      shipRoutesContainer = document.getElementById("ship-routes");
      shipRouteLeg = document.getElementById("ship-route-leg");
      shipRouteSpeed = document.getElementById("ship-route-speed");
      shipDeleteBtn = document.getElementById("ship-delete");
      shipSpeedCard = document.getElementById("ship-speed-card");
      shipSpeedSlider = document.getElementById("ship-speed-slider");
      shipSpeedValue = document.getElementById("ship-speed-value");
      if (shipSpeedSlider && baseShipSpeedMax === null) {
        const parsed = parseFloat(shipSpeedSlider.max);
        baseShipSpeedMax = Number.isFinite(parsed) ? parsed : 250;
      }
      missileControlsCard = document.getElementById("missile-controls");
      missileAddRouteBtn = document.getElementById("missile-add-route");
      missileLaunchBtn = document.getElementById("missile-launch");
      missileLaunchText = document.getElementById("missile-launch-text");
      missileLaunchInfo = document.getElementById("missile-launch-info");
      missileSetBtn = document.getElementById("missile-set");
      missileSelectBtn = document.getElementById("missile-select");
      missileDeleteBtn = document.getElementById("missile-delete");
      missileSpeedCard = document.getElementById("missile-speed-card");
      missileSpeedSlider = document.getElementById("missile-speed-slider");
      missileSpeedValue = document.getElementById("missile-speed-value");
      missileAgroCard = document.getElementById("missile-agro-card");
      missileAgroSlider = document.getElementById("missile-agro-slider");
      missileAgroValue = document.getElementById("missile-agro-value");
      missileHeatCapacityCard = document.getElementById("missile-heat-capacity-card");
      missileHeatCapacitySlider = document.getElementById("missile-heat-capacity-slider");
      missileHeatCapacityValue = document.getElementById("missile-heat-capacity-value");
      missileCraftBtn = document.getElementById("missile-craft");
      missileCountSpan = document.getElementById("missile-count");
      missileCraftTimerDiv = document.getElementById("missile-craft-timer");
      craftTimeRemainingSpan = document.getElementById("craft-time-remaining");
      spawnBotBtn = document.getElementById("spawn-bot");
      spawnBotText = document.getElementById("spawn-bot-text");
      killsSpan = document.getElementById("ship-kills");
      routePrevBtn = document.getElementById("route-prev");
      routeNextBtn = document.getElementById("route-next");
      routeMenuToggle = document.getElementById("route-menu-toggle");
      routeMenu = document.getElementById("route-menu");
      renameMissileRouteBtn = document.getElementById("rename-missile-route");
      deleteMissileRouteBtn = document.getElementById("delete-missile-route");
      clearMissileWaypointsBtn = document.getElementById("clear-missile-waypoints");
      missileRouteNameLabel = document.getElementById("missile-route-name");
      missileRouteCountLabel = document.getElementById("missile-route-count");
      helpToggle = document.getElementById("help-toggle");
      helpOverlay = document.getElementById("help-overlay");
      helpCloseBtn = document.getElementById("help-close");
      helpText = document.getElementById("help-text");
      heatBarFill = document.getElementById("heat-bar-fill");
      heatBarPlanned = document.getElementById("heat-bar-planned");
      heatValueText = document.getElementById("heat-value-text");
      speedMarker = document.getElementById("speed-marker");
      missileSpeedMarker = document.getElementById("missile-speed-marker");
      stallOverlay = document.getElementById("stall-overlay");
      const sliderDefault = parseFloat((_b = shipSpeedSlider == null ? void 0 : shipSpeedSlider.value) != null ? _b : "150");
      logic.setDefaultShipSpeed(Number.isFinite(sliderDefault) ? sliderDefault : 150);
      if (missileSpeedSlider) {
        missileSpeedSlider.disabled = false;
      }
      return { canvas, ctx };
    }
    function bindUI() {
      spawnBotBtn == null ? void 0 : spawnBotBtn.addEventListener("click", () => {
        if (!spawnBotBtn || spawnBotBtn.disabled) return;
        sendMessage2({ type: "spawn_bot" });
        bus.emit("bot:spawnRequested");
        spawnBotBtn.disabled = true;
        if (spawnBotText) {
          spawnBotText.textContent = "Spawned";
        }
        setTimeout(() => {
          if (spawnBotBtn) {
            spawnBotBtn.disabled = false;
          }
          if (spawnBotText) {
            spawnBotText.textContent = "Bot";
          }
        }, 5e3);
      });
      shipClearBtn == null ? void 0 : shipClearBtn.addEventListener("click", () => {
        setInputContext("ship");
        logic.clearShipRoute();
        bus.emit("ship:clearInvoked");
      });
      shipSetBtn == null ? void 0 : shipSetBtn.addEventListener("click", () => {
        setActiveTool("ship-set");
      });
      shipSelectBtn == null ? void 0 : shipSelectBtn.addEventListener("click", () => {
        setActiveTool("ship-select");
      });
      shipSpeedSlider == null ? void 0 : shipSpeedSlider.addEventListener("input", (event) => {
        var _a;
        const value = parseFloat(event.target.value);
        if (!Number.isFinite(value)) return;
        updateSpeedLabel(value);
        logic.setDefaultShipSpeed(value);
        const selection = logic.getSelection();
        if (selection && state.me && Array.isArray(state.me.waypoints) && state.me.waypoints[selection.index]) {
          sendMessage2({ type: "update_waypoint", index: selection.index, speed: value });
          state.me.waypoints[selection.index].speed = value;
          refreshShipSelectionUI();
          updatePlannedHeatBar();
        }
        const heat = (_a = state.me) == null ? void 0 : _a.heat;
        if (heat) {
          const tolerance = Math.max(5, heat.markerSpeed * 0.02);
          const diff = Math.abs(value - heat.markerSpeed);
          const inRange = diff <= tolerance;
          if (inRange && !markerAligned) {
            markerAligned = true;
            bus.emit("heat:markerAligned", { value, marker: heat.markerSpeed });
          } else if (!inRange && markerAligned) {
            markerAligned = false;
          }
        } else {
          markerAligned = false;
        }
        bus.emit("ship:speedChanged", { value });
      });
      shipDeleteBtn == null ? void 0 : shipDeleteBtn.addEventListener("click", () => {
        setInputContext("ship");
        logic.deleteSelectedShipWaypoint();
      });
      missileAddRouteBtn == null ? void 0 : missileAddRouteBtn.addEventListener("click", () => {
        setInputContext("missile");
        sendMessage2({ type: "add_missile_route" });
      });
      missileLaunchBtn == null ? void 0 : missileLaunchBtn.addEventListener("click", () => {
        setInputContext("missile");
        logic.launchActiveMissileRoute();
      });
      missileSetBtn == null ? void 0 : missileSetBtn.addEventListener("click", () => {
        setActiveTool("missile-set");
      });
      missileSelectBtn == null ? void 0 : missileSelectBtn.addEventListener("click", () => {
        setActiveTool("missile-select");
      });
      missileDeleteBtn == null ? void 0 : missileDeleteBtn.addEventListener("click", () => {
        setInputContext("missile");
        logic.deleteSelectedMissileWaypoint();
        bus.emit("missile:deleteInvoked");
      });
      missileSpeedSlider == null ? void 0 : missileSpeedSlider.addEventListener("input", (event) => {
        var _a, _b;
        const slider = event.target;
        if (slider.disabled) {
          return;
        }
        const raw = parseFloat(slider.value);
        if (!Number.isFinite(raw)) return;
        const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
        const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
        const clampedValue = clamp(raw, minSpeed, maxSpeed);
        slider.value = clampedValue.toFixed(0);
        if (missileSpeedValue) {
          missileSpeedValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        const route = logic.getActiveMissileRoute();
        const missileSelection = logic.getMissileSelection();
        if (route && missileSelection && missileSelection.type === "leg" && Array.isArray(route.waypoints) && missileSelection.index >= 0 && missileSelection.index < route.waypoints.length) {
          route.waypoints = route.waypoints.map(
            (w, idx) => idx === missileSelection.index ? { ...w, speed: clampedValue } : w
          );
          sendMessage2({
            type: "update_missile_waypoint_speed",
            route_id: route.id,
            index: missileSelection.index,
            speed: clampedValue
          });
          bus.emit("missile:speedChanged", { value: clampedValue, index: missileSelection.index });
        } else {
          const cfg = sanitizeMissileConfig(
            {
              speed: clampedValue,
              agroRadius: state.missileConfig.agroRadius
            },
            state.missileConfig,
            state.missileLimits
          );
          state.missileConfig = cfg;
          sendMissileConfig(cfg);
          bus.emit("missile:speedChanged", { value: clampedValue, index: -1 });
        }
        logic.recordMissileLegSpeed(clampedValue);
      });
      missileAgroSlider == null ? void 0 : missileAgroSlider.addEventListener("input", (event) => {
        var _a;
        const slider = event.target;
        const raw = parseFloat(slider.value);
        if (!Number.isFinite(raw)) return;
        const minAgro = (_a = state.missileLimits.agroMin) != null ? _a : MISSILE_MIN_AGRO;
        const clampedValue = Math.max(minAgro, raw);
        slider.value = clampedValue.toFixed(0);
        if (missileAgroValue) {
          missileAgroValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        updateMissileConfigFromUI({ agroRadius: clampedValue });
        bus.emit("missile:agroChanged", { value: clampedValue });
      });
      missileHeatCapacitySlider == null ? void 0 : missileHeatCapacitySlider.addEventListener("input", (event) => {
        const raw = parseFloat(event.target.value);
        if (!Number.isFinite(raw)) return;
        const clampedValue = Math.max(80, Math.min(200, raw));
        missileHeatCapacitySlider.value = clampedValue.toFixed(0);
        if (missileHeatCapacityValue) {
          missileHeatCapacityValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        state.craftHeatCapacity = clampedValue;
      });
      missileCraftBtn == null ? void 0 : missileCraftBtn.addEventListener("click", () => {
        var _a;
        if (missileCraftBtn.disabled) return;
        const heatCap = state.craftHeatCapacity;
        let nodeId = "craft.missile.basic";
        if (state.dag) {
          const craftNodes = state.dag.nodes.filter((n) => n.kind === "craft" && n.id.includes("missile"));
          for (const node of craftNodes) {
            const nodeHeatCap = parseInt(((_a = node.id.match(/(\d+)/)) == null ? void 0 : _a[1]) || "80");
            if (Math.abs(nodeHeatCap - heatCap) < 5) {
              nodeId = node.id;
              break;
            }
          }
          if (heatCap >= 180) {
            nodeId = "craft.missile.extended";
          } else if (heatCap >= 140) {
            nodeId = "craft.missile.high_heat";
          } else if (heatCap >= 110) {
            nodeId = "craft.missile.long_range";
          } else {
            nodeId = "craft.missile.basic";
          }
        }
        sendMessage2({ type: "dag_start", node_id: nodeId });
        bus.emit("missile:craftRequested", { nodeId, heatCapacity: heatCap });
      });
      routePrevBtn == null ? void 0 : routePrevBtn.addEventListener("click", () => logic.cycleMissileRoute(-1));
      routeNextBtn == null ? void 0 : routeNextBtn.addEventListener("click", () => logic.cycleMissileRoute(1));
      routeMenuToggle == null ? void 0 : routeMenuToggle.addEventListener("click", () => {
        routeMenu == null ? void 0 : routeMenu.classList.toggle("visible");
      });
      renameMissileRouteBtn == null ? void 0 : renameMissileRouteBtn.addEventListener("click", () => {
        var _a, _b;
        const route = logic.getActiveMissileRoute();
        if (!route) return;
        const nextName = (_b = prompt("Rename route", (_a = route.name) != null ? _a : "")) != null ? _b : "";
        const trimmed = nextName.trim();
        if (trimmed === route.name) return;
        sendMessage2({
          type: "rename_missile_route",
          route_id: route.id,
          name: trimmed
        });
        route.name = trimmed;
        renderMissileRouteControls();
      });
      deleteMissileRouteBtn == null ? void 0 : deleteMissileRouteBtn.addEventListener("click", () => {
        const route = logic.getActiveMissileRoute();
        if (!route) return;
        sendMessage2({ type: "delete_missile_route", route_id: route.id });
      });
      clearMissileWaypointsBtn == null ? void 0 : clearMissileWaypointsBtn.addEventListener("click", () => {
        const route = logic.getActiveMissileRoute();
        if (!route || !Array.isArray(route.waypoints) || route.waypoints.length === 0) {
          return;
        }
        sendMessage2({ type: "clear_missile_waypoints", route_id: route.id });
        route.waypoints = [];
        logic.setMissileSelection(null);
        renderMissileRouteControls();
      });
      helpToggle == null ? void 0 : helpToggle.addEventListener("click", () => {
        setHelpVisible(true);
      });
      helpCloseBtn == null ? void 0 : helpCloseBtn.addEventListener("click", () => {
        setHelpVisible(false);
      });
      bus.on("ship:legSelected", () => {
        refreshShipSelectionUI();
      });
      bus.on("ship:waypointAdded", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("ship:waypointDeleted", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("ship:waypointsCleared", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("missile:selectionChanged", () => {
        refreshMissileSelectionUI();
        updateMissileSpeedControls();
      });
      bus.on("missile:waypointAdded", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:waypointDeleted", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:activeRouteChanged", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:craftRequested", () => {
        if (missileCraftBtn) {
          missileCraftBtn.disabled = true;
        }
        updateCraftTimer();
        setTimeout(() => {
          if (missileCraftBtn) {
            missileCraftBtn.disabled = false;
          }
        }, 500);
      });
    }
    function getCanvas() {
      return canvas;
    }
    function getContext() {
      return ctx;
    }
    function updateSpeedLabel(value) {
      if (!shipSpeedValue) return;
      shipSpeedValue.textContent = `${value.toFixed(0)} u/s`;
    }
    function adjustSliderValue(input, steps, coarse) {
      if (!input) return null;
      const step = Math.abs(parseFloat(input.step)) || 1;
      const multiplier = coarse ? 4 : 1;
      const min = Number.isFinite(parseFloat(input.min)) ? parseFloat(input.min) : -Infinity;
      const max = Number.isFinite(parseFloat(input.max)) ? parseFloat(input.max) : Infinity;
      const current = parseFloat(input.value) || 0;
      let next = current + steps * step * multiplier;
      if (Number.isFinite(min)) next = Math.max(min, next);
      if (Number.isFinite(max)) next = Math.min(max, next);
      if (Math.abs(next - current) < 1e-4) {
        return null;
      }
      input.value = String(next);
      input.dispatchEvent(new Event("input", { bubbles: true }));
      return next;
    }
    function adjustShipSpeed(steps, coarse) {
      adjustSliderValue(shipSpeedSlider, steps, coarse);
    }
    function adjustMissileAgro(steps, coarse) {
      adjustSliderValue(missileAgroSlider, steps, coarse);
    }
    function adjustMissileSpeed(steps, coarse) {
      if (missileSpeedSlider && !missileSpeedSlider.disabled) {
        adjustSliderValue(missileSpeedSlider, steps, coarse);
      }
    }
    function setShipSliderValue(value) {
      if (!shipSpeedSlider) return;
      shipSpeedSlider.value = value.toFixed(0);
      updateSpeedLabel(value);
    }
    function renderMissileRouteControls() {
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      const activeRoute = logic.getActiveMissileRoute();
      if (missileRouteNameLabel) {
        if (!activeRoute) {
          missileRouteNameLabel.textContent = routes.length === 0 ? "No route" : "Route";
        } else {
          missileRouteNameLabel.textContent = activeRoute.name || "Route";
        }
      }
      if (missileRouteCountLabel) {
        const count = activeRoute && Array.isArray(activeRoute.waypoints) ? activeRoute.waypoints.length : 0;
        missileRouteCountLabel.textContent = `${count} pts`;
      }
      if (deleteMissileRouteBtn) {
        deleteMissileRouteBtn.disabled = routes.length <= 1;
      }
      if (renameMissileRouteBtn) {
        renameMissileRouteBtn.disabled = !activeRoute;
      }
      if (clearMissileWaypointsBtn) {
        const count = activeRoute && Array.isArray(activeRoute.waypoints) ? activeRoute.waypoints.length : 0;
        clearMissileWaypointsBtn.disabled = !activeRoute || count === 0;
      }
      if (routePrevBtn) {
        routePrevBtn.disabled = routes.length <= 1;
      }
      if (routeNextBtn) {
        routeNextBtn.disabled = routes.length <= 1;
      }
      updateMissileLaunchButtonState();
      refreshMissileSelectionUI();
    }
    function syncMissileUIFromState() {
      logic.ensureActiveMissileRoute();
      const activeRoute = logic.getActiveMissileRoute();
      const missileSel = logic.getMissileSelection();
      const routeHasSelection = !!activeRoute && Array.isArray(activeRoute.waypoints) && !!missileSel && missileSel.index >= 0 && missileSel.index < activeRoute.waypoints.length;
      if (!routeHasSelection) {
        logic.setMissileSelection(null);
      }
      const cfg = state.missileConfig;
      applyMissileUI(cfg);
      renderMissileRouteControls();
      refreshMissileSelectionUI();
    }
    function applyMissileUI(cfg) {
      var _a;
      if (missileAgroSlider) {
        const minAgro = (_a = state.missileLimits.agroMin) != null ? _a : MISSILE_MIN_AGRO;
        const maxAgro = Math.max(5e3, Math.ceil((cfg.agroRadius + 500) / 500) * 500);
        missileAgroSlider.min = String(minAgro);
        missileAgroSlider.max = String(maxAgro);
        missileAgroSlider.value = cfg.agroRadius.toFixed(0);
      }
      if (missileAgroValue) {
        missileAgroValue.textContent = cfg.agroRadius.toFixed(0);
      }
      updateMissileSpeedControls();
      updateSpeedMarker();
    }
    function updateMissileConfigFromUI(overrides = {}) {
      var _a, _b;
      const current = state.missileConfig;
      const cfg = sanitizeMissileConfig(
        {
          speed: current.speed,
          agroRadius: (_a = overrides.agroRadius) != null ? _a : current.agroRadius
        },
        current,
        state.missileLimits
      );
      state.missileConfig = cfg;
      applyMissileUI(cfg);
      const last = lastMissileConfigSent;
      const needsSend = !last || Math.abs(((_b = last.agroRadius) != null ? _b : 0) - cfg.agroRadius) > 5;
      if (needsSend) {
        sendMissileConfig(cfg);
      }
      renderMissileRouteControls();
    }
    function sendMissileConfig(cfg) {
      lastMissileConfigSent = {
        speed: cfg.speed,
        agroRadius: cfg.agroRadius
      };
      sendMessage2({
        type: "configure_missile",
        missile_speed: cfg.speed,
        missile_agro: cfg.agroRadius
      });
    }
    function refreshShipSelectionUI() {
      if (!shipRoutesContainer || !shipRouteLeg || !shipRouteSpeed || !shipDeleteBtn) {
        return;
      }
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      const selection = logic.getSelection();
      const hasValidSelection = selection !== null && selection.index >= 0 && selection.index < wps.length;
      const isShipContext = uiState.inputContext === "ship";
      shipRoutesContainer.style.display = "flex";
      shipRoutesContainer.style.opacity = isShipContext ? "1" : "0.6";
      if (!state.me || !hasValidSelection || !selection) {
        shipRouteLeg.textContent = "";
        shipRouteSpeed.textContent = "";
        shipDeleteBtn.disabled = true;
        if (isShipContext) {
          setShipSliderValue(logic.getDefaultShipSpeed());
        }
        return;
      }
      const wp = wps[selection.index];
      const speed = wp && typeof wp.speed === "number" ? wp.speed : logic.getDefaultShipSpeed();
      if (isShipContext && shipSpeedSlider && Math.abs(parseFloat(shipSpeedSlider.value) - speed) > 0.25) {
        setShipSliderValue(speed);
      } else {
        updateSpeedLabel(speed);
      }
      const displayIndex = selection.index + 1;
      shipRouteLeg.textContent = `${displayIndex}`;
      shipRouteSpeed.textContent = `${speed.toFixed(0)} u/s`;
      shipDeleteBtn.disabled = !isShipContext;
    }
    function refreshMissileSelectionUI() {
      const route = logic.getActiveMissileRoute();
      const count = route && Array.isArray(route.waypoints) ? route.waypoints.length : 0;
      const missileSel = logic.getMissileSelection();
      const isWaypointSelection = missileSel !== null && missileSel !== void 0 && missileSel.type === "waypoint" && missileSel.index >= 0 && missileSel.index < count;
      if (missileDeleteBtn) {
        missileDeleteBtn.disabled = !isWaypointSelection;
      }
      updateMissileSpeedControls();
    }
    function updateMissileSpeedControls() {
      var _a, _b;
      if (!missileSpeedSlider || !missileSpeedValue) {
        return;
      }
      const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
      const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
      missileSpeedSlider.min = String(minSpeed);
      missileSpeedSlider.max = String(maxSpeed);
      const route = logic.getActiveMissileRoute();
      const missileSel = logic.getMissileSelection();
      const waypoints = route && Array.isArray(route.waypoints) ? route.waypoints : null;
      let selectedSpeed = null;
      let selectedType = null;
      if (waypoints && missileSel && missileSel.index >= 0 && missileSel.index < waypoints.length) {
        const wp = waypoints[missileSel.index];
        const value = typeof wp.speed === "number" && wp.speed > 0 ? wp.speed : logic.getDefaultMissileLegSpeed();
        selectedSpeed = clamp(value, minSpeed, maxSpeed);
        selectedType = missileSel.type;
      }
      const sliderDisabled = selectedType === "waypoint";
      let sliderValue;
      if (selectedSpeed !== null) {
        sliderValue = selectedSpeed;
      } else {
        const rawValue = parseFloat(missileSpeedSlider.value);
        const fallback = logic.getDefaultMissileLegSpeed();
        const targetValue = Number.isFinite(rawValue) ? rawValue : fallback;
        sliderValue = clamp(targetValue, minSpeed, maxSpeed);
      }
      missileSpeedSlider.disabled = sliderDisabled;
      missileSpeedSlider.value = sliderValue.toFixed(0);
      missileSpeedValue.textContent = `${sliderValue.toFixed(0)}`;
      if (!sliderDisabled) {
        logic.recordMissileLegSpeed(sliderValue);
      }
    }
    function setInputContext(context) {
      const next = context === "missile" ? "missile" : "ship";
      if (uiState.inputContext === next) {
        return;
      }
      uiState.inputContext = next;
      if (next === "ship") {
        const shipToolToUse = uiState.shipTool === "select" ? "ship-select" : "ship-set";
        if (uiState.activeTool !== shipToolToUse) {
          uiState.activeTool = shipToolToUse;
        }
      } else {
        const missileToolToUse = uiState.missileTool === "select" ? "missile-select" : "missile-set";
        if (uiState.activeTool !== missileToolToUse) {
          uiState.activeTool = missileToolToUse;
        }
      }
      bus.emit("context:changed", { context: next });
      updateControlHighlights();
      refreshShipSelectionUI();
      refreshMissileSelectionUI();
    }
    function setActiveTool(tool) {
      if (uiState.activeTool === tool) {
        return;
      }
      uiState.activeTool = tool;
      if (tool === "ship-set") {
        uiState.shipTool = "set";
        uiState.missileTool = null;
        setInputContext("ship");
        bus.emit("ship:toolChanged", { tool: "set" });
      } else if (tool === "ship-select") {
        uiState.shipTool = "select";
        uiState.missileTool = null;
        setInputContext("ship");
        bus.emit("ship:toolChanged", { tool: "select" });
      } else if (tool === "missile-set") {
        uiState.shipTool = null;
        uiState.missileTool = "set";
        setInputContext("missile");
        logic.setMissileSelection(null);
        bus.emit("missile:toolChanged", { tool: "set" });
      } else if (tool === "missile-select") {
        uiState.shipTool = null;
        uiState.missileTool = "select";
        setInputContext("missile");
        bus.emit("missile:toolChanged", { tool: "select" });
      }
      updateControlHighlights();
    }
    function setButtonState(btn, active) {
      if (!btn) return;
      if (active) {
        btn.dataset.state = "active";
        btn.setAttribute("aria-pressed", "true");
      } else {
        delete btn.dataset.state;
        btn.setAttribute("aria-pressed", "false");
      }
    }
    function updateControlHighlights() {
      setButtonState(shipSetBtn, uiState.activeTool === "ship-set");
      setButtonState(shipSelectBtn, uiState.activeTool === "ship-select");
      setButtonState(missileSetBtn, uiState.activeTool === "missile-set");
      setButtonState(missileSelectBtn, uiState.activeTool === "missile-select");
      if (shipControlsCard) {
        shipControlsCard.classList.toggle("active", uiState.inputContext === "ship");
      }
      if (missileControlsCard) {
        missileControlsCard.classList.toggle("active", uiState.inputContext === "missile");
      }
    }
    function setHelpVisible(flag) {
      uiState.helpVisible = flag;
      updateHelpOverlay();
      bus.emit("help:visibleChanged", { visible: uiState.helpVisible });
    }
    function updateHelpOverlay() {
      if (!helpOverlay || !helpText) return;
      helpOverlay.classList.toggle("visible", uiState.helpVisible);
      helpText.textContent = HELP_TEXT;
    }
    function updateMissileLaunchButtonState() {
      if (!missileLaunchBtn || !missileLaunchText || !missileLaunchInfo) return;
      const route = logic.getActiveMissileRoute();
      const count = route && Array.isArray(route.waypoints) ? route.waypoints.length : 0;
      const remaining = logic.getMissileCooldownRemaining();
      const coolingDown = remaining > 0.05;
      const shouldDisable = !route || count === 0 || coolingDown;
      missileLaunchBtn.disabled = shouldDisable;
      const launchTextHTML = '<span class="btn-text-full">Launch</span><span class="btn-text-short">Fire</span>';
      let launchInfoHTML = "";
      if (!route) {
        launchInfoHTML = "";
      } else if (coolingDown) {
        launchInfoHTML = `${remaining.toFixed(1)}s`;
      } else if (route.name) {
        const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
        const routeIndex = routes.findIndex((r) => r.id === route.id) + 1;
        launchInfoHTML = `<span class="btn-text-full">${route.name}</span><span class="btn-text-short">${routeIndex}</span>`;
      } else {
        launchInfoHTML = "";
      }
      if (lastMissileLaunchTextHTML !== launchTextHTML) {
        missileLaunchText.innerHTML = launchTextHTML;
        lastMissileLaunchTextHTML = launchTextHTML;
      }
      if (lastMissileLaunchInfoHTML !== launchInfoHTML) {
        missileLaunchInfo.innerHTML = launchInfoHTML;
        lastMissileLaunchInfoHTML = launchInfoHTML;
      }
    }
    function updateMissileCountDisplay() {
      if (!missileCountSpan) return;
      let count = 0;
      if (state.inventory && state.inventory.items) {
        for (const item of state.inventory.items) {
          if (item.type === "missile") {
            count += item.quantity;
          }
        }
      }
      missileCountSpan.textContent = count.toString();
    }
    function updateCraftTimer() {
      if (!missileCraftTimerDiv || !craftTimeRemainingSpan) return;
      let craftInProgress = false;
      let remainingTime = 0;
      if (state.dag && state.dag.nodes) {
        for (const node of state.dag.nodes) {
          if (node.kind === "craft" && node.status === "in_progress") {
            craftInProgress = true;
            remainingTime = node.remaining_s;
            break;
          }
        }
      }
      if (craftInProgress && remainingTime > 0) {
        missileCraftTimerDiv.style.display = "block";
        craftTimeRemainingSpan.textContent = Math.ceil(remainingTime).toString();
      } else {
        missileCraftTimerDiv.style.display = "none";
      }
    }
    function updateStatusIndicators() {
      var _a;
      const meta = (_a = state.worldMeta) != null ? _a : {};
      camera.updateWorldFromMeta(meta);
      if (shipSpeedSlider && baseShipSpeedMax) {
        let multiplier = 1;
        const dag = state.dag;
        if (dag && Array.isArray(dag.nodes)) {
          for (const n of dag.nodes) {
            if (n && n.status === "completed" && typeof n.id === "string" && n.id.startsWith("upgrade.ship.speed_")) {
              const eff = Array.isArray(n.effects) ? n.effects : [];
              for (const e of eff) {
                if (e && e.type === "speed_multiplier" && typeof e.value === "number") {
                  if (e.value > multiplier) multiplier = e.value;
                }
              }
            }
          }
        }
        const intendedMax = (baseShipSpeedMax * multiplier).toFixed(0);
        if (shipSpeedSlider.max !== intendedMax) {
          shipSpeedSlider.max = intendedMax;
        }
      }
      if (HPspan) {
        if (state.me && Number.isFinite(state.me.hp)) {
          HPspan.textContent = Number(state.me.hp).toString();
        } else {
          HPspan.textContent = "\u2013";
        }
      }
      if (killsSpan) {
        if (state.me && Number.isFinite(state.me.kills)) {
          killsSpan.textContent = Number(state.me.kills).toString();
        } else {
          killsSpan.textContent = "0";
        }
      }
      updateHeatBar();
      updatePlannedHeatBar();
      updateSpeedMarker();
      updateStallOverlay();
    }
    function updateHeatBar() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat || !heatBarFill || !heatValueText) {
        heatWarnActive = false;
        return;
      }
      const percent = heat.value / heat.max * 100;
      heatBarFill.style.width = `${percent}%`;
      heatValueText.textContent = `Heat ${Math.round(heat.value)}`;
      heatBarFill.classList.remove("warn", "overheat");
      if (heat.value >= heat.overheatAt) {
        heatBarFill.classList.add("overheat");
      } else if (heat.value >= heat.warnAt) {
        heatBarFill.classList.add("warn");
      }
      const nowWarn = heat.value >= heat.warnAt;
      if (nowWarn && !heatWarnActive) {
        heatWarnActive = true;
        bus.emit("heat:warnEntered", { value: heat.value, warnAt: heat.warnAt });
      } else if (!nowWarn && heatWarnActive) {
        const coolThreshold = Math.max(0, heat.warnAt - 5);
        if (heat.value <= coolThreshold) {
          heatWarnActive = false;
          bus.emit("heat:cooledBelowWarn", { value: heat.value, warnAt: heat.warnAt });
        }
      }
    }
    function projectPlannedHeat() {
      const ship = state.me;
      if (!ship || !Array.isArray(ship.waypoints) || ship.waypoints.length === 0 || !ship.heat) {
        return null;
      }
      const currentIndexRaw = ship.currentWaypointIndex;
      const currentIndex = typeof currentIndexRaw === "number" && Number.isFinite(currentIndexRaw) ? currentIndexRaw : 0;
      const clampedIndex = Math.max(0, Math.min(currentIndex, ship.waypoints.length));
      const remainingWaypoints = clampedIndex > 0 ? ship.waypoints.slice(clampedIndex) : ship.waypoints.slice();
      if (remainingWaypoints.length === 0) {
        return null;
      }
      const route = [{ x: ship.x, y: ship.y, speed: void 0 }, ...remainingWaypoints];
      const heatParams = {
        markerSpeed: ship.heat.markerSpeed,
        kUp: ship.heat.kUp,
        kDown: ship.heat.kDown,
        exp: ship.heat.exp,
        max: ship.heat.max,
        overheatAt: ship.heat.overheatAt,
        warnAt: ship.heat.warnAt
      };
      const projection = projectRouteHeat(route, ship.heat.value, heatParams);
      return Math.max(...projection.heatAtWaypoints);
    }
    function updatePlannedHeatBar() {
      if (!heatBarPlanned) return;
      const resetPlannedBar = () => {
        if (heatBarPlanned) {
          heatBarPlanned.style.width = "0%";
        }
      };
      const ship = state.me;
      if (!ship || !ship.heat) {
        resetPlannedBar();
        dualMeterAlert = false;
        return;
      }
      const planned = projectPlannedHeat();
      if (planned === null) {
        resetPlannedBar();
        dualMeterAlert = false;
        return;
      }
      const actual = ship.heat.value;
      const percent = planned / ship.heat.max * 100;
      heatBarPlanned.style.width = `${Math.max(0, Math.min(100, percent))}%`;
      const diff = planned - actual;
      const threshold = Math.max(8, ship.heat.warnAt * 0.1);
      if (diff >= threshold && !dualMeterAlert) {
        dualMeterAlert = true;
        bus.emit("heat:dualMeterDiverged", { planned, actual });
      } else if (diff < threshold * 0.6 && dualMeterAlert) {
        dualMeterAlert = false;
      }
    }
    function updateSpeedMarker() {
      var _a, _b;
      const shipHeat = (_a = state.me) == null ? void 0 : _a.heat;
      if (speedMarker && shipSpeedSlider && shipHeat && shipHeat.markerSpeed > 0) {
        const min = parseFloat(shipSpeedSlider.min);
        const max = parseFloat(shipSpeedSlider.max);
        const markerSpeed = shipHeat.markerSpeed;
        const percent = (markerSpeed - min) / (max - min) * 100;
        const clamped = Math.max(0, Math.min(100, percent));
        speedMarker.style.left = `${clamped}%`;
        speedMarker.title = `Heat neutral: ${Math.round(markerSpeed)} units/s`;
        speedMarker.style.display = "block";
      } else if (speedMarker) {
        speedMarker.style.display = "none";
      }
      if (missileSpeedMarker && missileSpeedSlider) {
        const heatParams = state.missileConfig.heatParams;
        const markerSpeed = (_b = heatParams && Number.isFinite(heatParams.markerSpeed) ? heatParams.markerSpeed : void 0) != null ? _b : shipHeat && shipHeat.markerSpeed > 0 ? shipHeat.markerSpeed : void 0;
        if (markerSpeed !== void 0 && markerSpeed > 0) {
          const min = parseFloat(missileSpeedSlider.min);
          const max = parseFloat(missileSpeedSlider.max);
          const percent = (markerSpeed - min) / (max - min) * 100;
          const clamped = Math.max(0, Math.min(100, percent));
          missileSpeedMarker.style.left = `${clamped}%`;
          missileSpeedMarker.title = `Heat neutral: ${Math.round(markerSpeed)} units/s`;
          missileSpeedMarker.style.display = "block";
        } else {
          missileSpeedMarker.style.display = "none";
        }
      }
    }
    function updateStallOverlay() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat || !stallOverlay) {
        stallActive = false;
        return;
      }
      const now = typeof performance !== "undefined" && typeof performance.now === "function" ? performance.now() : Date.now();
      const isStalled = now < heat.stallUntilMs;
      if (isStalled) {
        stallOverlay.classList.add("visible");
        if (!stallActive) {
          stallActive = true;
          bus.emit("heat:stallTriggered", { stallUntil: heat.stallUntilMs });
        }
      } else {
        stallOverlay.classList.remove("visible");
        if (stallActive) {
          stallActive = false;
          bus.emit("heat:stallRecovered", { value: heat.value });
        }
      }
    }
    return {
      cacheDom,
      bindUI,
      setActiveTool,
      setInputContext,
      updateControlHighlights,
      refreshShipSelectionUI,
      refreshMissileSelectionUI,
      renderMissileRouteControls,
      syncMissileUIFromState,
      updateHelpOverlay,
      setHelpVisible,
      updateMissileLaunchButtonState,
      updateMissileCountDisplay,
      updateCraftTimer,
      updateStatusIndicators,
      updatePlannedHeatBar,
      updateSpeedMarker,
      updateHeatBar,
      projectPlannedHeat,
      getCanvas,
      getContext,
      adjustShipSpeed,
      adjustMissileAgro,
      adjustMissileSpeed
    };
  }
  var init_ui = __esm({
    "web/src/game/ui.ts"() {
      "use strict";
      init_state();
      init_constants();
      init_route();
    }
  });

  // web/src/mission/hud.ts
  function mountMissionHud({ state, bus }) {
    const container = document.getElementById("mission-hud");
    if (!container) {
      return { destroy() {
      } };
    }
    const hudContainer = container;
    function render() {
      var _a;
      const mission = state.mission;
      if (!mission) {
        hudContainer.classList.add("hidden");
        hudContainer.classList.remove("inside");
        return;
      }
      const hasObjectives = mission.objectives.length > 0 || mission.objectiveSummaries.length > 0;
      if (!hasObjectives && !mission.displayName) {
        hudContainer.classList.add("hidden");
        hudContainer.classList.remove("inside");
        return;
      }
      const objectives = mission.objectives.length > 0 ? mission.objectives : mission.objectiveSummaries.map((description, index) => ({
        id: `summary-${index}`,
        type: "summary",
        progress: 0,
        complete: false,
        description
      }));
      const aggregateProgress = mission.progress && Number.isFinite(mission.progress) ? mission.progress : objectives.length > 0 ? objectives.reduce((sum, obj) => sum + obj.progress, 0) / objectives.length : 0;
      const statusLabel = (() => {
        switch (mission.status) {
          case "completed":
            return "Completed";
          case "failed":
            return "Failed";
          case "active":
            return "Active";
          default:
            return "Ready";
        }
      })();
      const archetypeLabel = mission.archetype ? mission.archetype.toUpperCase() : "";
      const now = getApproxServerNow(state);
      let timerMarkup = "";
      if (mission.timeout && mission.timeout > 0 && mission.startTime) {
        const elapsed = Math.max(0, now - mission.startTime);
        const remaining = Math.max(0, mission.timeout - elapsed);
        const minutes = Math.floor(remaining / 60);
        const seconds = Math.floor(remaining % 60);
        const warningClass = remaining < 30 ? "warning" : "";
        timerMarkup = `
        <div class="mission-timer ${warningClass}">
          Time Remaining: ${minutes}:${seconds.toString().padStart(2, "0")}
        </div>
      `;
      }
      const objectiveItems = objectives.map((obj) => {
        const percent = Math.round(obj.progress * 100);
        const complete = obj.complete || percent >= 100;
        return `
        <li class="mission-objective">
          <div class="mission-objective-label">
            <span>${obj.description}</span>
            <span class="mission-objective-progress">${percent}%</span>
          </div>
          <div class="mission-objective-bar">
            <div class="mission-objective-fill ${complete ? "complete" : ""}" style="width: ${Math.min(100, Math.max(0, percent))}%"></div>
          </div>
        </li>
      `;
      }).join("");
      let playerStatus = "";
      if (mission.player) {
        const player = mission.player;
        const total = mission.beacons.length;
        const completedCount = mission.beacons.filter((b) => b.completed).length;
        const activeBeacon = player.activeBeaconId ? mission.beacons.find((b) => b.id === player.activeBeaconId) : mission.beacons.find((b) => !b.completed);
        const displayIndex = activeBeacon ? Math.min(activeBeacon.ordinal + 1, total) : Math.min(completedCount, total);
        const holdRequired = player.holdRequired || 0;
        const holdSeconds = Math.max(0, (_a = player.displayHold) != null ? _a : player.holdAccum);
        playerStatus = `
        <div class="mission-player-status">
          <div>Beacon ${total > 0 ? `${displayIndex}/${total}` : "\u2013"}</div>
          <div>Hold: ${holdRequired > 0 ? `${holdSeconds.toFixed(1)}s / ${holdRequired.toFixed(1)}s` : `${holdSeconds.toFixed(1)}s`}</div>
        </div>
      `;
        if (player.insideActiveBeacon) {
          hudContainer.classList.add("inside");
        } else {
          hudContainer.classList.remove("inside");
        }
      } else {
        hudContainer.classList.remove("inside");
      }
      hudContainer.innerHTML = `
      <div class="mission-header">
        <h3>${mission.displayName || "Mission"}</h3>
        <span class="mission-status">${statusLabel}</span>
      </div>
      ${archetypeLabel ? `<div class="mission-archetype">${archetypeLabel}</div>` : ""}
      <div class="mission-progress">
        <div class="mission-progress-track">
          <div class="mission-progress-fill" style="width: ${Math.min(100, Math.max(0, aggregateProgress * 100))}%"></div>
        </div>
        <span class="mission-progress-value">${Math.round(aggregateProgress * 100)}%</span>
      </div>
      ${timerMarkup}
      ${objectiveItems ? `<ul class="mission-objectives">${objectiveItems}</ul>` : ""}
      ${playerStatus}
    `;
      hudContainer.classList.remove("hidden");
    }
    render();
    const unsubs = [
      bus.on("state:updated", () => render()),
      bus.on("mission:update", () => render()),
      bus.on("mission:start", () => render()),
      bus.on("mission:offered", () => render()),
      bus.on("mission:completed", () => render()),
      bus.on("mission:failed", () => render()),
      bus.on("mission:objectives-updated", () => render()),
      bus.on("mission:progress-changed", () => render()),
      bus.on("mission:beacon-locked", () => render())
    ];
    return {
      destroy() {
        for (const unsub of unsubs) {
          unsub();
        }
      }
    };
  }
  var init_hud = __esm({
    "web/src/mission/hud.ts"() {
      "use strict";
      init_net();
    }
  });

  // web/src/game.ts
  function initGame({ state, uiState, bus }) {
    const canvasEl = document.getElementById("cv");
    if (!canvasEl) {
      throw new Error("Canvas element #cv not found");
    }
    const camera = createCamera({ canvas: canvasEl, state, uiState });
    const logic = createLogic({
      state,
      uiState,
      bus,
      sendMessage,
      getApproxServerNow,
      camera
    });
    const ui = createUI({
      state,
      uiState,
      bus,
      logic,
      camera,
      sendMessage,
      getApproxServerNow
    });
    const { canvas: cachedCanvas, ctx: cachedCtx } = ui.cacheDom();
    const renderCanvas = cachedCanvas != null ? cachedCanvas : canvasEl;
    const renderCtx = cachedCtx != null ? cachedCtx : renderCanvas.getContext("2d");
    if (!renderCtx) {
      throw new Error("Unable to acquire 2D rendering context");
    }
    const renderer = createRenderer({
      canvas: renderCanvas,
      ctx: renderCtx,
      state,
      uiState,
      camera,
      logic
    });
    const input = createInput({
      canvas: renderCanvas,
      ui,
      logic,
      camera,
      state,
      uiState,
      bus,
      sendMessage
    });
    ui.bindUI();
    input.bindInput();
    logic.ensureActiveMissileRoute();
    ui.syncMissileUIFromState();
    ui.updateControlHighlights();
    ui.refreshShipSelectionUI();
    ui.refreshMissileSelectionUI();
    ui.updateHelpOverlay();
    ui.updateStatusIndicators();
    ui.updateMissileLaunchButtonState();
    ui.updateMissileCountDisplay();
    mountMissionHud({ state, bus });
    let lastLoopTs = null;
    function loop(timestamp) {
      if (!Number.isFinite(timestamp)) {
        timestamp = lastLoopTs != null ? lastLoopTs : 0;
      }
      let dtSeconds = 0;
      if (lastLoopTs !== null) {
        dtSeconds = (timestamp - lastLoopTs) / 1e3;
        if (!Number.isFinite(dtSeconds) || dtSeconds < 0) {
          dtSeconds = 0;
        }
      }
      lastLoopTs = timestamp;
      logic.updateRouteAnimations(dtSeconds);
      renderer.drawScene();
      ui.updateMissileLaunchButtonState();
      ui.updateCraftTimer();
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
    return {
      onStateUpdated() {
        logic.ensureActiveMissileRoute();
        ui.syncMissileUIFromState();
        ui.refreshShipSelectionUI();
        ui.refreshMissileSelectionUI();
        ui.updateMissileLaunchButtonState();
        ui.updateMissileCountDisplay();
        ui.updateCraftTimer();
        ui.updateStatusIndicators();
      }
    };
  }
  var init_game = __esm({
    "web/src/game.ts"() {
      "use strict";
      init_net();
      init_camera();
      init_input();
      init_logic();
      init_render();
      init_ui();
      init_hud();
    }
  });

  // web/src/tutorial/highlight.ts
  function createHighlighter() {
    ensureStyles();
    const overlay = document.createElement("div");
    overlay.className = "tutorial-overlay";
    overlay.setAttribute("aria-live", "polite");
    const scrim = document.createElement("div");
    scrim.className = "tutorial-overlay__scrim";
    const highlightBox = document.createElement("div");
    highlightBox.className = "tutorial-overlay__highlight";
    const tooltip = document.createElement("div");
    tooltip.className = "tutorial-overlay__tooltip";
    const progress = document.createElement("div");
    progress.className = "tutorial-overlay__progress";
    const title = document.createElement("h3");
    title.className = "tutorial-overlay__title";
    const body = document.createElement("p");
    body.className = "tutorial-overlay__body";
    const actions = document.createElement("div");
    actions.className = "tutorial-overlay__actions";
    const skipBtn = document.createElement("button");
    skipBtn.type = "button";
    skipBtn.className = "tutorial-overlay__btn tutorial-overlay__btn--ghost";
    skipBtn.textContent = "Skip";
    const nextBtn = document.createElement("button");
    nextBtn.type = "button";
    nextBtn.className = "tutorial-overlay__btn tutorial-overlay__btn--primary";
    nextBtn.textContent = "Next";
    actions.append(skipBtn, nextBtn);
    tooltip.append(progress, title, body, actions);
    overlay.append(scrim, highlightBox, tooltip);
    document.body.appendChild(overlay);
    let currentTarget = null;
    let visible = false;
    let resizeObserver = null;
    let frameHandle = null;
    let onNext = null;
    let onSkip = null;
    function scheduleUpdate() {
      if (!visible) return;
      if (frameHandle !== null) return;
      frameHandle = window.requestAnimationFrame(() => {
        frameHandle = null;
        updatePosition();
      });
    }
    function updatePosition() {
      if (!visible) return;
      if (currentTarget) {
        const rect = currentTarget.getBoundingClientRect();
        const padding = 12;
        const width = Math.max(0, rect.width + padding * 2);
        const height = Math.max(0, rect.height + padding * 2);
        const left = rect.left - padding;
        const top = rect.top - padding;
        highlightBox.style.opacity = "1";
        highlightBox.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;
        highlightBox.style.width = `${Math.round(width)}px`;
        highlightBox.style.height = `${Math.round(height)}px`;
        tooltip.style.opacity = "1";
        tooltip.style.visibility = "visible";
        tooltip.style.maxWidth = `min(340px, ${Math.max(260, window.innerWidth - 32)}px)`;
        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;
        let tooltipTop = rect.bottom + 18;
        if (tooltipTop + tooltipHeight > window.innerHeight - 20) {
          tooltipTop = Math.max(20, rect.top - tooltipHeight - 18);
        }
        let tooltipLeft = rect.left + rect.width / 2 - tooltipWidth / 2;
        tooltipLeft = clamp(tooltipLeft, 20, window.innerWidth - tooltipWidth - 20);
        tooltip.style.transform = `translate(${Math.round(tooltipLeft)}px, ${Math.round(tooltipTop)}px)`;
      } else {
        highlightBox.style.opacity = "0";
        highlightBox.style.width = "0px";
        highlightBox.style.height = "0px";
        highlightBox.style.transform = `translate(${Math.round(window.innerWidth / 2)}px, ${Math.round(window.innerHeight / 2)}px)`;
        tooltip.style.opacity = "1";
        tooltip.style.visibility = "visible";
        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;
        const tooltipLeft = clamp((window.innerWidth - tooltipWidth) / 2, 20, window.innerWidth - tooltipWidth - 20);
        const tooltipTop = clamp((window.innerHeight - tooltipHeight) / 2, 20, window.innerHeight - tooltipHeight - 20);
        tooltip.style.transform = `translate(${Math.round(tooltipLeft)}px, ${Math.round(tooltipTop)}px)`;
      }
    }
    function attachListeners() {
      window.addEventListener("resize", scheduleUpdate, { passive: true });
      window.addEventListener("scroll", scheduleUpdate, { passive: true });
    }
    function detachListeners() {
      window.removeEventListener("resize", scheduleUpdate);
      window.removeEventListener("scroll", scheduleUpdate);
      if (frameHandle !== null) {
        window.cancelAnimationFrame(frameHandle);
        frameHandle = null;
      }
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
    }
    skipBtn.addEventListener("click", (event) => {
      event.preventDefault();
      onSkip == null ? void 0 : onSkip();
    });
    nextBtn.addEventListener("click", (event) => {
      event.preventDefault();
      onNext == null ? void 0 : onNext();
    });
    function renderTooltip(options) {
      var _a, _b;
      const { stepCount, stepIndex, title: optionTitle, body: optionBody, showNext, nextLabel, showSkip, skipLabel } = options;
      if (Number.isFinite(stepCount) && stepCount > 0) {
        progress.textContent = `Step ${stepIndex + 1} of ${stepCount}`;
        progress.style.display = "block";
      } else {
        progress.textContent = "";
        progress.style.display = "none";
      }
      if (optionTitle && optionTitle.trim().length > 0) {
        title.textContent = optionTitle;
        title.style.display = "block";
      } else {
        title.textContent = "";
        title.style.display = "none";
      }
      body.textContent = optionBody;
      onNext = showNext ? (_a = options.onNext) != null ? _a : null : null;
      if (showNext) {
        nextBtn.textContent = nextLabel != null ? nextLabel : "Next";
        nextBtn.style.display = "inline-flex";
      } else {
        nextBtn.style.display = "none";
      }
      onSkip = showSkip ? (_b = options.onSkip) != null ? _b : null : null;
      if (showSkip) {
        skipBtn.textContent = skipLabel != null ? skipLabel : "Skip";
        skipBtn.style.display = "inline-flex";
      } else {
        skipBtn.style.display = "none";
      }
    }
    function show(options) {
      var _a;
      visible = true;
      currentTarget = (_a = options.target) != null ? _a : null;
      overlay.classList.add("visible");
      renderTooltip(options);
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
      if (currentTarget && typeof ResizeObserver !== "undefined") {
        resizeObserver = new ResizeObserver(() => scheduleUpdate());
        resizeObserver.observe(currentTarget);
      }
      attachListeners();
      scheduleUpdate();
    }
    function hide() {
      if (!visible) return;
      visible = false;
      overlay.classList.remove("visible");
      tooltip.style.visibility = "hidden";
      tooltip.style.opacity = "0";
      highlightBox.style.opacity = "0";
      detachListeners();
    }
    function destroy() {
      hide();
      overlay.remove();
    }
    return {
      show,
      hide,
      destroy
    };
  }
  function ensureStyles() {
    if (document.getElementById(STYLE_ID)) {
      return;
    }
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
    .tutorial-overlay {
      position: fixed;
      inset: 0;
      z-index: 50;
      pointer-events: none;
      display: none;
    }
    .tutorial-overlay.visible {
      display: block;
    }
    .tutorial-overlay__scrim {
      position: absolute;
      inset: 0;
    }
    .tutorial-overlay__highlight {
      position: absolute;
      border-radius: 14px;
      border: 2px solid rgba(56, 189, 248, 0.95);
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.25), 0 0 24px rgba(34, 211, 238, 0.25);
      transition: transform 0.18s ease, width 0.18s ease, height 0.18s ease, opacity 0.18s ease;
      pointer-events: none;
      opacity: 0;
    }
    .tutorial-overlay__tooltip {
      position: fixed;
      min-width: 240px;
      max-width: min(340px, calc(100vw - 32px));
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 16px;
      padding: 16px 18px;
      color: #e2e8f0;
      box-shadow: 0 12px 32px rgba(15, 23, 42, 0.55);
      pointer-events: auto;
      opacity: 0;
      visibility: hidden;
      transform: translate(0px, 0px);
      transition: transform 0.18s ease, opacity 0.18s ease;
    }
    .tutorial-overlay__progress {
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.75);
      margin: 0 0 8px;
    }
    .tutorial-overlay__title {
      margin: 0 0 8px;
      font-size: 15px;
      letter-spacing: 0.04em;
      color: #f1f5f9;
    }
    .tutorial-overlay__body {
      margin: 0 0 14px;
      font-size: 13px;
      line-height: 1.5;
      color: #cbd5f5;
    }
    .tutorial-overlay__actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
    .tutorial-overlay__btn {
      font: inherit;
      padding: 6px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
    }
    .tutorial-overlay__btn--primary {
      background: rgba(56, 189, 248, 0.25);
      border-color: rgba(56, 189, 248, 0.55);
      color: #f8fafc;
    }
    .tutorial-overlay__btn--primary:hover {
      background: rgba(56, 189, 248, 0.35);
    }
    .tutorial-overlay__btn--ghost {
      background: transparent;
      border-color: rgba(148, 163, 184, 0.35);
      color: rgba(203, 213, 225, 0.9);
    }
    .tutorial-overlay__btn--ghost:hover {
      border-color: rgba(203, 213, 225, 0.55);
    }
    @media (max-width: 768px) {
      .tutorial-overlay__tooltip {
        min-width: 200px;
        max-width: min(320px, calc(100vw - 24px));
        padding: 10px 12px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 12px;
      }
      .tutorial-overlay__progress {
        display: none !important;
      }
      .tutorial-overlay__title {
        display: none !important;
      }
      .tutorial-overlay__body {
        margin: 0;
        font-size: 12px;
        flex: 1;
        line-height: 1.4;
      }
      .tutorial-overlay__actions {
        flex-direction: column;
        gap: 6px;
        flex-shrink: 0;
      }
      .tutorial-overlay__btn {
        padding: 5px 10px;
        font-size: 10px;
        white-space: nowrap;
      }
    }
  `;
    document.head.appendChild(style);
  }
  var STYLE_ID;
  var init_highlight = __esm({
    "web/src/tutorial/highlight.ts"() {
      "use strict";
      init_state();
      STYLE_ID = "tutorial-overlay-style";
    }
  });

  // web/src/tutorial/storage.ts
  function getStorage() {
    try {
      if (typeof window === "undefined" || !window.localStorage) {
        return null;
      }
    } catch (err) {
      return null;
    }
    return window.localStorage;
  }
  function loadProgress(id) {
    const storage = getStorage();
    if (!storage) return null;
    try {
      const raw = storage.getItem(STORAGE_PREFIX + id);
      if (!raw) return null;
      const parsed = JSON.parse(raw);
      if (typeof parsed !== "object" || parsed === null || typeof parsed.stepIndex !== "number" || typeof parsed.completed !== "boolean" || typeof parsed.updatedAt !== "number") {
        return null;
      }
      return parsed;
    } catch (err) {
      return null;
    }
  }
  function saveProgress(id, progress) {
    const storage = getStorage();
    if (!storage) return;
    try {
      storage.setItem(STORAGE_PREFIX + id, JSON.stringify(progress));
    } catch (err) {
    }
  }
  function clearProgress(id) {
    const storage = getStorage();
    if (!storage) return;
    try {
      storage.removeItem(STORAGE_PREFIX + id);
    } catch (err) {
    }
  }
  var STORAGE_PREFIX;
  var init_storage = __esm({
    "web/src/tutorial/storage.ts"() {
      "use strict";
      STORAGE_PREFIX = "lsd:tutorial:";
    }
  });

  // web/src/tutorial/roles.ts
  function createRoles() {
    return {
      canvas: () => document.getElementById("cv"),
      shipSet: () => document.getElementById("ship-set"),
      shipSelect: () => document.getElementById("ship-select"),
      shipDelete: () => document.getElementById("ship-delete"),
      shipClear: () => document.getElementById("ship-clear"),
      shipSpeedSlider: () => document.getElementById("ship-speed-slider"),
      heatBar: () => document.getElementById("heat-bar-container"),
      speedMarker: () => document.getElementById("speed-marker"),
      missileSet: () => document.getElementById("missile-set"),
      missileSelect: () => document.getElementById("missile-select"),
      missileDelete: () => document.getElementById("missile-delete"),
      missileSpeedSlider: () => document.getElementById("missile-speed-slider"),
      missileAgroSlider: () => document.getElementById("missile-agro-slider"),
      missileAddRoute: () => document.getElementById("missile-add-route"),
      missileLaunch: () => document.getElementById("missile-launch"),
      routePrev: () => document.getElementById("route-prev"),
      routeNext: () => document.getElementById("route-next"),
      helpToggle: () => document.getElementById("help-toggle"),
      tutorialStart: () => document.getElementById("tutorial-start"),
      spawnBot: () => document.getElementById("spawn-bot")
    };
  }
  function getRoleElement(roles, role) {
    if (!role) return null;
    const resolver = roles[role];
    return resolver ? resolver() : null;
  }
  var init_roles = __esm({
    "web/src/tutorial/roles.ts"() {
      "use strict";
    }
  });

  // web/src/tutorial/engine.ts
  function createTutorialEngine({ id, bus, roles, steps }) {
    const highlighter = createHighlighter();
    let running = false;
    let paused = false;
    let currentIndex = -1;
    let currentStep = null;
    let cleanupCurrent = null;
    let renderCurrent = null;
    let lastSavedCompleted = false;
    let suppressPersistOnStop = false;
    const persistentListeners = [];
    persistentListeners.push(
      bus.on("help:visibleChanged", ({ visible }) => {
        if (!running) return;
        paused = Boolean(visible);
        if (paused) {
          highlighter.hide();
        } else {
          renderCurrent == null ? void 0 : renderCurrent();
        }
      })
    );
    function resolveTarget(step) {
      if (!step.target) {
        return null;
      }
      if (typeof step.target === "function") {
        return step.target();
      }
      return getRoleElement(roles, step.target);
    }
    function clampIndex(index) {
      if (steps.length === 0) return 0;
      if (!Number.isFinite(index) || index < 0) return 0;
      if (index >= steps.length) return steps.length - 1;
      return Math.floor(index);
    }
    function setStep(index) {
      var _a, _b;
      if (!running) return;
      if (steps.length === 0) {
        completeTutorial();
        return;
      }
      if (index < 0 || index >= steps.length) {
        completeTutorial();
        return;
      }
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      currentIndex = index;
      const step = steps[index];
      currentStep = step;
      persistProgress(index, false);
      bus.emit("tutorial:stepChanged", { id, stepIndex: index, total: steps.length });
      (_b = step.onEnter) == null ? void 0 : _b.call(step);
      const allowSkip = step.allowSkip !== false;
      const render = () => {
        var _a2;
        if (!running || paused) return;
        highlighter.show({
          target: resolveTarget(step),
          title: step.title,
          body: step.body,
          stepIndex: index,
          stepCount: steps.length,
          showNext: step.advance.kind === "manual",
          nextLabel: step.advance.kind === "manual" ? (_a2 = step.advance.nextLabel) != null ? _a2 : index === steps.length - 1 ? "Finish" : "Next" : void 0,
          onNext: step.advance.kind === "manual" ? advanceStep : void 0,
          showSkip: allowSkip,
          skipLabel: step.skipLabel,
          onSkip: allowSkip ? skipCurrentStep : void 0
        });
      };
      renderCurrent = render;
      render();
      if (step.advance.kind === "event") {
        const handler = (payload) => {
          if (!running || paused) return;
          if (step.advance.when && !step.advance.when(payload)) {
            return;
          }
          advanceTo(index + 1);
        };
        cleanupCurrent = bus.on(step.advance.event, handler);
        if (step.advance.check && step.advance.check()) {
          handler(void 0);
        }
      } else {
        cleanupCurrent = null;
      }
    }
    function advanceTo(nextIndex) {
      var _a;
      if (!running) return;
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      renderCurrent = null;
      if (nextIndex >= steps.length) {
        completeTutorial();
      } else {
        setStep(nextIndex);
      }
    }
    function advanceStep() {
      advanceTo(currentIndex + 1);
    }
    function skipCurrentStep() {
      if (!running) return;
      const nextIndex = currentIndex >= 0 ? currentIndex + 1 : 0;
      advanceTo(nextIndex);
    }
    function completeTutorial() {
      if (!running) return;
      suppressPersistOnStop = true;
      persistProgress(steps.length, true);
      bus.emit("tutorial:completed", { id });
      stop();
      suppressPersistOnStop = false;
    }
    function start(options) {
      const resume = (options == null ? void 0 : options.resume) !== false;
      if (running) {
        restart();
        return;
      }
      if (steps.length === 0) {
        return;
      }
      running = true;
      paused = false;
      suppressPersistOnStop = false;
      lastSavedCompleted = false;
      let startIndex = 0;
      if (resume) {
        const progress = loadProgress(id);
        if (progress && !progress.completed) {
          startIndex = clampIndex(progress.stepIndex);
        }
      } else {
        clearProgress(id);
      }
      bus.emit("tutorial:started", { id });
      setStep(startIndex);
    }
    function restart() {
      stop();
      start({ resume: false });
    }
    function stop() {
      var _a;
      const shouldPersist = !suppressPersistOnStop && running && !lastSavedCompleted && currentIndex >= 0 && currentIndex < steps.length;
      const indexToPersist = currentIndex;
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      if (shouldPersist) {
        persistProgress(indexToPersist, false);
      }
      running = false;
      paused = false;
      currentIndex = -1;
      renderCurrent = null;
      highlighter.hide();
    }
    function isRunning() {
      return running;
    }
    function destroy() {
      stop();
      for (const dispose of persistentListeners) {
        dispose();
      }
      highlighter.destroy();
    }
    function persistProgress(stepIndex, completed) {
      lastSavedCompleted = completed;
      saveProgress(id, {
        stepIndex,
        completed,
        updatedAt: Date.now()
      });
    }
    return {
      start,
      restart,
      stop,
      isRunning,
      destroy
    };
  }
  var init_engine = __esm({
    "web/src/tutorial/engine.ts"() {
      "use strict";
      init_highlight();
      init_storage();
      init_roles();
    }
  });

  // web/src/tutorial/steps_basic.ts
  function hasWaypointIndexAtLeast(payload, minIndex) {
    if (typeof payload !== "object" || payload === null) return false;
    const index = payload.index;
    if (typeof index !== "number" || !Number.isFinite(index)) return false;
    return index >= minIndex;
  }
  function extractRouteId(payload) {
    if (typeof payload !== "object" || payload === null) return null;
    const routeId = payload.routeId;
    return typeof routeId === "string" ? routeId : null;
  }
  function payloadToolEquals(target) {
    return (payload) => {
      if (typeof payload !== "object" || payload === null) return false;
      const tool = payload.tool;
      return typeof tool === "string" && tool === target;
    };
  }
  function getBasicTutorialSteps() {
    let routeSwitchesSinceEnter = 0;
    let initialRouteId = null;
    let newRouteId = null;
    return [
      {
        id: "ship-plot-route",
        target: "canvas",
        title: "Plot a route",
        body: "Click on the map to drop at least three waypoints and sketch your course.",
        advance: {
          kind: "event",
          event: "ship:waypointAdded",
          when: (payload) => hasWaypointIndexAtLeast(payload, 2)
        }
      },
      {
        id: "ship-change-speed",
        target: "shipSpeedSlider",
        title: "Adjust ship speed",
        body: "Use the Ship Speed slider (or press [ / ]) to fine-tune your travel speed.",
        advance: {
          kind: "event",
          event: "ship:speedChanged"
        }
      },
      {
        id: "ship-select-leg",
        target: "shipSelect",
        title: "Select a route leg",
        body: "Switch to Select mode (T key) and then click a waypoint on the map to highlight its leg.",
        advance: {
          kind: "event",
          event: "ship:legSelected",
          when: (payload) => hasWaypointIndexAtLeast(payload, 0)
        }
      },
      {
        id: "heat-match-marker",
        target: "speedMarker",
        title: "Match the marker",
        body: "Line up the Ship Speed slider with the tick to cruise at the neutral heat speed.",
        advance: {
          kind: "event",
          event: "heat:markerAligned"
        },
        allowSkip: false
      },
      {
        id: "heat-push-hot",
        target: "heatBar",
        title: "Sprint into the red",
        body: "Push the throttle above the marker and watch the heat bar reach the warning band.",
        advance: {
          kind: "event",
          event: "heat:warnEntered"
        },
        allowSkip: false
      },
      {
        id: "heat-cool-down",
        target: "heatBar",
        title: "Cool it back down",
        body: "Ease off below the marker until the bar drops out of the warning zone.",
        advance: {
          kind: "event",
          event: "heat:cooledBelowWarn"
        },
        allowSkip: false
      },
      {
        id: "heat-trigger-stall",
        target: "heatBar",
        title: "Trigger a stall",
        body: "Push well above the limit and hold it until the overheat stall overlay appears.",
        advance: {
          kind: "event",
          event: "heat:stallTriggered"
        },
        allowSkip: false
      },
      {
        id: "heat-recover-stall",
        target: "heatBar",
        title: "Recover from the stall",
        body: "Hold steady while systems cool. Once the overlay clears, you\u2019re back online.",
        advance: {
          kind: "event",
          event: "heat:stallRecovered"
        },
        allowSkip: false
      },
      {
        id: "heat-dual-bars",
        target: "heatBar",
        title: "Read both heat bars",
        body: "Adjust a waypoint to make the planned bar extend past live heat. Use it to predict future overloads.",
        advance: {
          kind: "event",
          event: "heat:dualMeterDiverged"
        },
        allowSkip: false
      },
      {
        id: "ship-delete-leg",
        target: "shipDelete",
        title: "Delete a route leg",
        body: "Remove the selected waypoint using the Delete control or the Delete key.",
        advance: {
          kind: "event",
          event: "ship:waypointDeleted"
        }
      },
      {
        id: "ship-clear-route",
        target: "shipClear",
        title: "Clear the route",
        body: "Clear remaining waypoints to reset your plotted course.",
        advance: {
          kind: "event",
          event: "ship:clearInvoked"
        }
      },
      {
        id: "missile-set-mode",
        target: "missileSet",
        title: "Switch to missile planning",
        body: "Tap Set so every click drops missile waypoints on the active route.",
        advance: {
          kind: "event",
          event: "missile:toolChanged",
          when: payloadToolEquals("set")
        }
      },
      {
        id: "missile-plot-initial",
        target: "canvas",
        title: "Plot missile waypoints",
        body: "Click the map to drop at least two guidance points for the current missile route.",
        advance: {
          kind: "event",
          event: "missile:waypointAdded",
          when: (payload) => {
            if (!hasWaypointIndexAtLeast(payload, 1)) return false;
            const routeId = extractRouteId(payload);
            if (routeId) {
              initialRouteId = routeId;
            }
            return true;
          }
        }
      },
      {
        id: "missile-launch-initial",
        target: "missileLaunch",
        title: "Launch the strike",
        body: "Send the planned missile route live with the Launch control (L key).",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!routeId) return true;
            if (!initialRouteId) {
              initialRouteId = routeId;
              return true;
            }
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "missile-add-route",
        target: "missileAddRoute",
        title: "Create a new missile route",
        body: "Press New to add a second missile route for another strike group.",
        advance: {
          kind: "event",
          event: "missile:routeAdded",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!routeId) return false;
            newRouteId = routeId;
            return true;
          }
        }
      },
      {
        id: "missile-plot-new-route",
        target: "canvas",
        title: "Plot the new missile route",
        body: "Drop at least two waypoints on the new route to define its path.",
        advance: {
          kind: "event",
          event: "missile:waypointAdded",
          when: (payload) => {
            if (!hasWaypointIndexAtLeast(payload, 1)) return false;
            const routeId = extractRouteId(payload);
            if (newRouteId && routeId && routeId !== newRouteId) {
              return false;
            }
            if (!newRouteId && routeId) {
              newRouteId = routeId;
            }
            return true;
          }
        }
      },
      {
        id: "missile-launch-new-route",
        target: "missileLaunch",
        title: "Launch the new route",
        body: "Launch the fresh missile route to confirm its pattern.",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!newRouteId || !routeId) return true;
            return routeId === newRouteId;
          }
        }
      },
      {
        id: "missile-switch-route",
        target: "routeNext",
        title: "Switch back to the original route",
        body: "Use the \u25C0 \u25B6 controls (or Tab/Shift+Tab) to select your first missile route again.",
        onEnter: () => {
          routeSwitchesSinceEnter = 0;
        },
        advance: {
          kind: "event",
          event: "missile:activeRouteChanged",
          when: (payload) => {
            routeSwitchesSinceEnter += 1;
            if (routeSwitchesSinceEnter < 1) return false;
            const routeId = extractRouteId(payload);
            if (!initialRouteId || !routeId) {
              return true;
            }
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "missile-launch-after-switch",
        target: "missileLaunch",
        title: "Launch from the other route",
        body: "Fire the original missile route to practice round-robin strikes.",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!initialRouteId || !routeId) return true;
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "tutorial-practice",
        target: "spawnBot",
        title: "Spawn a practice bot",
        body: "Use the Bot control to add a target and rehearse these maneuvers in real time.",
        advance: {
          kind: "event",
          event: "bot:spawnRequested"
        },
        allowSkip: false
      },
      {
        id: "tutorial-complete",
        target: null,
        title: "You\u2019re ready",
        body: "Great work. Reload the console or rejoin a room to revisit these drills.",
        advance: {
          kind: "manual",
          nextLabel: "Finish"
        },
        allowSkip: false
      }
    ];
  }
  var init_steps_basic = __esm({
    "web/src/tutorial/steps_basic.ts"() {
      "use strict";
    }
  });

  // web/src/tutorial/index.ts
  function mountTutorial(bus) {
    const roles = createRoles();
    const engine = createTutorialEngine({
      id: BASIC_TUTORIAL_ID,
      bus,
      roles,
      steps: getBasicTutorialSteps()
    });
    return {
      start(options) {
        engine.start(options);
      },
      restart() {
        engine.restart();
      },
      destroy() {
        engine.destroy();
      }
    };
  }
  var BASIC_TUTORIAL_ID;
  var init_tutorial = __esm({
    "web/src/tutorial/index.ts"() {
      "use strict";
      init_engine();
      init_roles();
      init_steps_basic();
      BASIC_TUTORIAL_ID = "ship-basics";
    }
  });

  // web/src/story/overlay.ts
  function createDialogueOverlay() {
    ensureStyles2();
    const overlay = document.createElement("div");
    overlay.className = "dialogue-overlay";
    overlay.setAttribute("aria-live", "polite");
    const consoleFrame = document.createElement("div");
    consoleFrame.className = "dialogue-console";
    const speakerLabel = document.createElement("div");
    speakerLabel.className = "dialogue-speaker";
    const textBlock = document.createElement("div");
    textBlock.className = "dialogue-text";
    const cursor = document.createElement("span");
    cursor.className = "dialogue-cursor";
    cursor.textContent = "_";
    const choicesList = document.createElement("ul");
    choicesList.className = "dialogue-choices hidden";
    const continueButton = document.createElement("button");
    continueButton.type = "button";
    continueButton.className = "dialogue-continue hidden";
    continueButton.textContent = "Continue";
    textBlock.append(cursor);
    consoleFrame.append(speakerLabel, textBlock, choicesList, continueButton);
    overlay.append(consoleFrame);
    document.body.appendChild(overlay);
    let visible = false;
    let typingHandle = null;
    let targetText = "";
    let renderedChars = 0;
    let activeContent = null;
    function clearTyping() {
      if (typingHandle !== null) {
        window.clearTimeout(typingHandle);
        typingHandle = null;
      }
    }
    function finishTyping(content) {
      var _a;
      renderedChars = targetText.length;
      updateText();
      clearTyping();
      (_a = content.onTextFullyRendered) == null ? void 0 : _a.call(content);
      if (!Array.isArray(content.choices) || content.choices.length === 0) {
        showContinue(content);
      }
    }
    function updateText() {
      const textToShow = targetText.slice(0, renderedChars);
      textBlock.innerHTML = "";
      const textNode = document.createElement("span");
      textNode.textContent = textToShow;
      textBlock.append(textNode, cursor);
      cursor.classList.toggle("hidden", !visible);
    }
    function renderChoices(content) {
      choicesList.innerHTML = "";
      const choices = Array.isArray(content.choices) ? content.choices : [];
      if (choices.length === 0) {
        choicesList.classList.add("hidden");
        return;
      }
      choicesList.classList.remove("hidden");
      choices.forEach((choice2, index) => {
        const item = document.createElement("li");
        const button = document.createElement("button");
        button.type = "button";
        button.dataset.choiceId = choice2.id;
        button.textContent = `${index + 1}. ${choice2.text}`;
        button.addEventListener("click", () => {
          var _a;
          (_a = content.onChoice) == null ? void 0 : _a.call(content, choice2.id);
        });
        item.append(button);
        choicesList.append(item);
      });
    }
    function showContinue(content) {
      var _a;
      if (!content.onContinue) {
        continueButton.classList.add("hidden");
        continueButton.onclick = null;
        return;
      }
      continueButton.textContent = (_a = content.continueLabel) != null ? _a : "Continue";
      continueButton.classList.remove("hidden");
      continueButton.onclick = () => {
        var _a2;
        (_a2 = content.onContinue) == null ? void 0 : _a2.call(content);
      };
    }
    function scheduleType(content) {
      clearTyping();
      const typingSpeed = clamp(Number(content.typingSpeedMs) || 18, 8, 64);
      const tick = () => {
        var _a;
        renderedChars = Math.min(renderedChars + 1, targetText.length);
        updateText();
        if (renderedChars >= targetText.length) {
          clearTyping();
          (_a = content.onTextFullyRendered) == null ? void 0 : _a.call(content);
          if (!Array.isArray(content.choices) || content.choices.length === 0) {
            showContinue(content);
          }
        } else {
          typingHandle = window.setTimeout(tick, typingSpeed);
        }
      };
      typingHandle = window.setTimeout(tick, typingSpeed);
    }
    function handleKeyDown(event) {
      var _a, _b;
      if (!visible || !activeContent) return;
      if (!Array.isArray(activeContent.choices) || activeContent.choices.length === 0) {
        if (event.key === " " || event.key === "Enter") {
          event.preventDefault();
          if (renderedChars < targetText.length) {
            finishTyping(activeContent);
          } else {
            (_a = activeContent.onContinue) == null ? void 0 : _a.call(activeContent);
          }
        }
        return;
      }
      const index = parseInt(event.key, 10);
      if (Number.isFinite(index) && index >= 1 && index <= activeContent.choices.length) {
        event.preventDefault();
        const choice2 = activeContent.choices[index - 1];
        (_b = activeContent.onChoice) == null ? void 0 : _b.call(activeContent, choice2.id);
        return;
      }
      if (event.key === "Enter" && renderedChars < targetText.length) {
        event.preventDefault();
        finishTyping(activeContent);
      }
    }
    function show(content) {
      var _a;
      activeContent = content;
      visible = true;
      overlay.classList.add("visible");
      overlay.dataset.intent = (_a = content.intent) != null ? _a : "factory";
      speakerLabel.textContent = content.speaker;
      targetText = content.text;
      renderedChars = 0;
      updateText();
      renderChoices(content);
      showContinue(content);
      scheduleType(content);
    }
    function hide() {
      visible = false;
      activeContent = null;
      overlay.classList.remove("visible");
      clearTyping();
      targetText = "";
      renderedChars = 0;
      textBlock.innerHTML = "";
      textBlock.append(cursor);
      choicesList.innerHTML = "";
      choicesList.classList.add("hidden");
      continueButton.classList.add("hidden");
      continueButton.onclick = null;
    }
    function destroy() {
      hide();
      document.removeEventListener("keydown", handleKeyDown);
      overlay.remove();
    }
    document.addEventListener("keydown", handleKeyDown);
    return {
      show,
      hide,
      destroy,
      isVisible() {
        return visible;
      }
    };
  }
  function ensureStyles2() {
    if (document.getElementById(STYLE_ID2)) {
      return;
    }
    const style = document.createElement("style");
    style.id = STYLE_ID2;
    style.textContent = `
    .dialogue-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      z-index: 60;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .dialogue-overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }
    .dialogue-console {
      min-width: 320px;
      max-width: min(520px, calc(100vw - 48px));
      background: rgba(6, 11, 16, 0.92);
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 12px;
      padding: 18px 20px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      box-shadow: 0 28px 64px rgba(2, 6, 16, 0.6);
      color: #e2e8f0;
      font-family: "IBM Plex Mono", "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .dialogue-overlay[data-intent="factory"] .dialogue-console {
      border-color: rgba(56, 189, 248, 0.45);
      box-shadow: 0 28px 64px rgba(13, 148, 136, 0.35);
    }
    .dialogue-overlay[data-intent="unit"] .dialogue-console {
      border-color: rgba(244, 114, 182, 0.45);
      box-shadow: 0 28px 64px rgba(236, 72, 153, 0.28);
    }
    .dialogue-speaker {
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.75);
    }
    .dialogue-text {
      min-height: 90px;
      font-size: 13px;
      line-height: 1.55;
      white-space: pre-wrap;
    }
    .dialogue-cursor {
      display: inline-block;
      margin-left: 4px;
      animation: dialogue-cursor-blink 1.2s steps(2, start) infinite;
    }
    .dialogue-cursor.hidden {
      display: none;
    }
    .dialogue-choices {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .dialogue-choices.hidden {
      display: none;
    }
    .dialogue-choices button,
    .dialogue-continue {
      font: inherit;
      text-align: left;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      background: rgba(24, 36, 48, 0.85);
      color: inherit;
      cursor: pointer;
      transition: background 0.18s ease, border-color 0.18s ease;
    }
    .dialogue-continue {
      text-align: center;
    }
    .dialogue-continue.hidden {
      display: none;
    }
    .dialogue-choices button:hover,
    .dialogue-choices button:focus-visible,
    .dialogue-continue:hover,
    .dialogue-continue:focus-visible {
      border-color: rgba(56, 189, 248, 0.55);
      background: rgba(30, 45, 60, 0.95);
      outline: none;
    }
    @keyframes dialogue-cursor-blink {
      0%, 50% { opacity: 1; }
      50.01%, 100% { opacity: 0; }
    }
  `;
    document.head.appendChild(style);
  }
  var STYLE_ID2;
  var init_overlay = __esm({
    "web/src/story/overlay.ts"() {
      "use strict";
      init_state();
      STYLE_ID2 = "dialogue-overlay-style";
    }
  });

  // web/src/story/controller.ts
  function createStoryController({ bus, overlay, state }) {
    const listeners = [];
    let tutorialTipElement = null;
    let missionStoryPromise = null;
    let missionStory = null;
    const missionStoryFlags = /* @__PURE__ */ new Set();
    const missionStoryQueue = [];
    const shownMissionNodes = /* @__PURE__ */ new Set();
    let activeMissionId = null;
    let activeMissionNodeId = null;
    let missionAutoAdvanceHandle = null;
    function handleNodeActivated({ nodeId, dialogue }) {
      console.log("[story] Node activated:", nodeId);
      if (!dialogue) {
        console.error("[story] No dialogue provided by server for:", nodeId);
        acknowledgeNode(nodeId, null);
        return;
      }
      const parts = nodeId.split(".");
      if (parts.length < 3 || parts[0] !== "story") {
        console.warn("[story] Invalid node ID format:", nodeId);
        return;
      }
      const chapter = parts[1];
      const node = parts.slice(2).join(".");
      showDialogueForNode(chapter, node, nodeId, dialogue);
    }
    function showDialogueForNode(chapter, node, fullNodeId, content) {
      if (content.tutorialTip) {
        showTutorialTip(content.tutorialTip);
      }
      const overlayContent = {
        speaker: content.speaker,
        text: content.text,
        intent: content.intent,
        continueLabel: content.continueLabel,
        typingSpeedMs: content.typingSpeedMs
      };
      if (content.choices && content.choices.length > 0) {
        overlayContent.choices = content.choices;
        overlayContent.onChoice = (choiceId) => {
          hideTutorialTip();
          overlay.hide();
          acknowledgeNode(fullNodeId, choiceId);
          bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
        };
      } else {
        overlayContent.onContinue = () => {
          hideTutorialTip();
          overlay.hide();
          acknowledgeNode(fullNodeId, null);
          bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
        };
      }
      if (content.autoAdvance) {
        overlayContent.onTextFullyRendered = () => {
          setTimeout(() => {
            hideTutorialTip();
            overlay.hide();
            acknowledgeNode(fullNodeId, null);
            bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
          }, content.autoAdvance.delayMs);
        };
      }
      overlay.show(overlayContent);
      bus.emit("dialogue:opened", { nodeId: node, chapterId: chapter });
    }
    async function loadMissionStory() {
      if (missionStory) {
        return missionStory;
      }
      if (missionStoryPromise) {
        return missionStoryPromise;
      }
      missionStoryPromise = fetch(MISSION_STORY_URL).then((res) => {
        if (!res.ok) {
          throw new Error(`Failed to load mission story: ${res.status}`);
        }
        return res.json();
      }).then((raw) => normalizeMissionStory(raw)).catch((err) => {
        console.error("[story] Unable to load mission story definition", err);
        return null;
      });
      const definition = await missionStoryPromise;
      missionStory = definition;
      return definition;
    }
    function normalizeMissionStory(raw) {
      if (!raw || typeof raw !== "object") {
        return null;
      }
      const record = raw;
      const chapterId = typeof record.chapterId === "string" ? record.chapterId : "campaign-1";
      const tutorialId = typeof record.tutorialId === "string" ? record.tutorialId : void 0;
      const startNode = typeof record.startNode === "string" ? record.startNode : void 0;
      const nodesInput = record.nodes;
      if (!nodesInput || typeof nodesInput !== "object") {
        return null;
      }
      const nodes = {};
      for (const [nodeKey, value] of Object.entries(nodesInput)) {
        if (!value || typeof value !== "object") {
          continue;
        }
        const nodeRecord = value;
        const id = typeof nodeRecord.id === "string" ? nodeRecord.id : nodeKey;
        const speaker = typeof nodeRecord.speaker === "string" ? nodeRecord.speaker : "Ship AI";
        const text = typeof nodeRecord.text === "string" ? nodeRecord.text : "";
        const intent = nodeRecord.intent === "unit" ? "unit" : "factory";
        const typingSpeedMs = typeof nodeRecord.typingSpeedMs === "number" ? nodeRecord.typingSpeedMs : void 0;
        const continueLabel = typeof nodeRecord.continueLabel === "string" ? nodeRecord.continueLabel : void 0;
        const autoAdvance = typeof nodeRecord.autoAdvance === "number" ? nodeRecord.autoAdvance : void 0;
        const next = typeof nodeRecord.next === "string" ? nodeRecord.next : nodeRecord.next === null ? null : void 0;
        const flags = Array.isArray(nodeRecord.flags) ? nodeRecord.flags.map(String) : void 0;
        const tutorialTip = normalizeTutorialTip(nodeRecord.tutorialTip);
        const trigger = normalizeMissionTrigger(nodeRecord.trigger);
        const choices = normalizeMissionChoices(id, nodeRecord.choices);
        nodes[id] = {
          id,
          speaker,
          text,
          intent,
          typingSpeedMs,
          continueLabel,
          autoAdvance,
          next,
          flags,
          tutorialTip,
          trigger,
          choices
        };
      }
      return {
        chapterId,
        tutorialId,
        startNode: startNode != null ? startNode : null,
        nodes
      };
    }
    function normalizeTutorialTip(input) {
      if (!input) {
        return void 0;
      }
      if (typeof input === "string") {
        return {
          title: "Mission Tip",
          text: input
        };
      }
      if (typeof input === "object") {
        const record = input;
        const text = typeof record.text === "string" ? record.text : "";
        const title = typeof record.title === "string" ? record.title : "Mission Tip";
        if (!text) {
          return void 0;
        }
        return { title, text };
      }
      return void 0;
    }
    function normalizeMissionTrigger(input) {
      if (!input || typeof input !== "object") {
        return void 0;
      }
      const trigger = input;
      if (trigger.kind !== "mission-event") {
        return void 0;
      }
      const event = typeof trigger.event === "string" ? trigger.event : "";
      if (!event) {
        return void 0;
      }
      const missionId = typeof trigger.missionId === "string" ? trigger.missionId : void 0;
      const beaconIndex = typeof trigger.beaconIndex === "number" ? trigger.beaconIndex : void 0;
      const delayMs = typeof trigger.delayMs === "number" ? trigger.delayMs : void 0;
      return {
        kind: "mission-event",
        event,
        missionId,
        beaconIndex,
        delayMs
      };
    }
    function normalizeMissionChoices(nodeId, input) {
      if (!Array.isArray(input)) {
        return void 0;
      }
      return input.map((choice2, index) => {
        if (!choice2 || typeof choice2 !== "object") {
          return null;
        }
        const record = choice2;
        const text = typeof record.text === "string" ? record.text : "";
        if (!text) {
          return null;
        }
        const id = typeof record.id === "string" ? record.id : `${nodeId}-choice-${index}`;
        let next = null;
        if (typeof record.next === "string") {
          next = record.next;
        } else if (record.next === null) {
          next = null;
        }
        return {
          id,
          text,
          next
        };
      }).filter((choice2) => Boolean(choice2));
    }
    function resetMissionStoryState() {
      missionStoryQueue.splice(0, missionStoryQueue.length);
      shownMissionNodes.clear();
      missionStoryFlags.clear();
      clearMissionAutoAdvance();
      if (activeMissionNodeId) {
        overlay.hide();
      }
      hideTutorialTip();
      activeMissionNodeId = null;
    }
    function enqueueMissionNode(nodeId, options = {}) {
      if (!missionStory || !missionStory.nodes[nodeId]) {
        return;
      }
      if (!options.force && shownMissionNodes.has(nodeId)) {
        return;
      }
      if (missionStoryQueue.some((pending) => pending.nodeId === nodeId)) {
        return;
      }
      missionStoryQueue.push({ nodeId });
      tryShowNextMissionNode();
    }
    function tryShowNextMissionNode() {
      if (activeMissionNodeId) {
        return;
      }
      if (!missionStoryQueue.length) {
        return;
      }
      if (overlay.isVisible()) {
        return;
      }
      const next = missionStoryQueue.shift();
      if (!next) {
        return;
      }
      displayMissionNode(next.nodeId);
    }
    function displayMissionNode(nodeId) {
      if (!missionStory) {
        return;
      }
      const node = missionStory.nodes[nodeId];
      if (!node) {
        tryShowNextMissionNode();
        return;
      }
      activeMissionNodeId = node.id;
      shownMissionNodes.add(node.id);
      if (node.tutorialTip) {
        showTutorialTip(node.tutorialTip);
      } else {
        hideTutorialTip();
      }
      const choices = Array.isArray(node.choices) ? node.choices.map((choice2) => ({
        id: choice2.id,
        text: choice2.text
      })) : void 0;
      const content = {
        speaker: node.speaker,
        text: node.text,
        intent: node.intent,
        typingSpeedMs: node.typingSpeedMs,
        choices,
        continueLabel: node.continueLabel
      };
      if (!choices || choices.length === 0) {
        content.onContinue = () => {
          finishMissionNode(node);
        };
      } else {
        content.onChoice = (choiceId) => {
          var _a, _b;
          const resolved = (_a = node.choices) == null ? void 0 : _a.find((choice2) => choice2.id === choiceId);
          const nextId = (_b = resolved == null ? void 0 : resolved.next) != null ? _b : null;
          finishMissionNode(node, nextId);
        };
      }
      if (typeof node.autoAdvance === "number" && (!choices || choices.length === 0)) {
        content.onTextFullyRendered = () => {
          var _a;
          clearMissionAutoAdvance();
          missionAutoAdvanceHandle = window.setTimeout(() => {
            finishMissionNode(node);
          }, Math.max(0, (_a = node.autoAdvance) != null ? _a : 0));
        };
      }
      overlay.show(content);
      bus.emit("dialogue:opened", { nodeId: node.id, chapterId: missionStory.chapterId });
    }
    function clearMissionAutoAdvance() {
      if (missionAutoAdvanceHandle !== null) {
        window.clearTimeout(missionAutoAdvanceHandle);
        missionAutoAdvanceHandle = null;
      }
    }
    function finishMissionNode(node, nextId) {
      var _a, _b;
      clearMissionAutoAdvance();
      hideTutorialTip();
      overlay.hide();
      bus.emit("dialogue:closed", { nodeId: node.id, chapterId: (_a = missionStory == null ? void 0 : missionStory.chapterId) != null ? _a : "campaign-1" });
      activeMissionNodeId = null;
      if (Array.isArray(node.flags)) {
        node.flags.forEach((flag) => missionStoryFlags.add(flag));
      }
      const targetNext = typeof nextId === "string" ? nextId : nextId === null ? null : (_b = node.next) != null ? _b : null;
      if (targetNext) {
        enqueueMissionNode(targetNext, { force: true });
      }
      tryShowNextMissionNode();
    }
    async function triggerMissionStory(event, params = {}, options = {}) {
      const definition = await loadMissionStory();
      if (!definition) {
        return;
      }
      const node = findNodeByTrigger(definition, event, params);
      if (!node) {
        return;
      }
      enqueueMissionNode(node.id, { force: options.force });
    }
    function findNodeByTrigger(definition, event, params) {
      var _a;
      for (const node of Object.values(definition.nodes)) {
        if (!node.trigger || node.trigger.kind !== "mission-event") {
          continue;
        }
        if (node.trigger.event !== event) {
          continue;
        }
        if (node.trigger.missionId) {
          const compareId = (_a = params.missionId) != null ? _a : activeMissionId;
          if (!compareId || node.trigger.missionId !== compareId) {
            continue;
          }
        }
        if (typeof node.trigger.beaconIndex === "number") {
          if (params.beaconIndex === void 0) {
            continue;
          }
          if (node.trigger.beaconIndex !== params.beaconIndex) {
            continue;
          }
        }
        return node;
      }
      return null;
    }
    function initMissionEventListeners() {
      listeners.push(bus.on("mission:start", ({ missionId }) => {
        activeMissionId = missionId != null ? missionId : activeMissionId;
        resetMissionStoryState();
        triggerMissionStory("mission:start", { missionId }, { force: true }).catch(() => {
        });
      }));
      listeners.push(bus.on("mission:beacon-locked", ({ index }) => {
        triggerMissionStory("mission:beacon-locked", { missionId: activeMissionId != null ? activeMissionId : void 0, beaconIndex: index }).catch(() => {
        });
      }));
      listeners.push(bus.on("mission:completed", ({ missionId }) => {
        var _a;
        triggerMissionStory("mission:completed", { missionId: (_a = missionId != null ? missionId : activeMissionId) != null ? _a : void 0 }, { force: true }).catch(() => {
        });
      }));
      listeners.push(bus.on("mission:failed", ({ missionId }) => {
        var _a;
        triggerMissionStory("mission:failed", { missionId: (_a = missionId != null ? missionId : activeMissionId) != null ? _a : void 0 }, { force: true }).catch(() => {
        });
      }));
    }
    function showTutorialTip(tip) {
      hideTutorialTip();
      const tipContainer = document.createElement("div");
      tipContainer.className = "story-tutorial-tip";
      tipContainer.innerHTML = `
      <div class="story-tutorial-tip-content">
        <div class="story-tutorial-tip-title">${escapeHtml(tip.title)}</div>
        <div class="story-tutorial-tip-text">${escapeHtml(tip.text)}</div>
      </div>
    `;
      document.body.appendChild(tipContainer);
      tutorialTipElement = tipContainer;
      ensureTutorialTipStyles();
    }
    function hideTutorialTip() {
      if (tutorialTipElement) {
        tutorialTipElement.remove();
        tutorialTipElement = null;
      }
    }
    function escapeHtml(text) {
      const div = document.createElement("div");
      div.textContent = text;
      return div.innerHTML;
    }
    function ensureTutorialTipStyles() {
      const styleId = "story-tutorial-tip-styles";
      if (document.getElementById(styleId)) {
        return;
      }
      const style = document.createElement("style");
      style.id = styleId;
      style.textContent = `
      .story-tutorial-tip {
        position: fixed;
        top: 80px;
        right: 20px;
        max-width: 320px;
        background: rgba(13, 148, 136, 0.95);
        border: 1px solid rgba(56, 189, 248, 0.6);
        border-radius: 8px;
        padding: 14px 16px;
        color: #e2e8f0;
        font-family: "IBM Plex Mono", "JetBrains Mono", ui-monospace, monospace;
        font-size: 12px;
        line-height: 1.5;
        z-index: 55;
        box-shadow: 0 8px 24px rgba(2, 6, 16, 0.5);
        animation: story-tip-slide-in 0.3s ease-out;
      }
      .story-tutorial-tip-title {
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #38bdf8;
        margin-bottom: 8px;
      }
      .story-tutorial-tip-text {
        color: #f1f5f9;
      }
      @keyframes story-tip-slide-in {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `;
      document.head.appendChild(style);
    }
    function acknowledgeNode(nodeId, choiceId) {
      const msg = {
        type: "dag_story_ack",
        node_id: nodeId
      };
      if (choiceId) {
        msg.choice_id = choiceId;
      }
      sendMessage(msg);
      console.log("[story] Acknowledged node:", nodeId, choiceId ? `(choice: ${choiceId})` : "");
    }
    function start() {
      var _a, _b;
      console.log("[story] Starting story controller");
      listeners.push(bus.on("story:nodeActivated", handleNodeActivated));
      listeners.push(bus.on("dialogue:closed", () => tryShowNextMissionNode()));
      initMissionEventListeners();
      void loadMissionStory();
      if ((_a = state.story) == null ? void 0 : _a.activeNode) {
        console.log("[story] Found active story node on startup:", state.story.activeNode);
        handleNodeActivated({
          nodeId: state.story.activeNode,
          dialogue: (_b = state.story.dialogue) != null ? _b : void 0
        });
      }
    }
    function destroy() {
      hideTutorialTip();
      clearMissionAutoAdvance();
      missionStoryQueue.splice(0, missionStoryQueue.length);
      activeMissionNodeId = null;
      listeners.forEach((unsub) => unsub());
      listeners.length = 0;
    }
    return {
      start,
      destroy
    };
  }
  var MISSION_STORY_URL;
  var init_controller = __esm({
    "web/src/story/controller.ts"() {
      "use strict";
      init_net();
      MISSION_STORY_URL = "/data/campaign-1-story.json";
    }
  });

  // web/src/story/index.ts
  function mountStory({ bus, state }) {
    const overlay = createDialogueOverlay();
    const controller = createStoryController({
      bus,
      overlay,
      state
    });
    controller.start();
    return {
      destroy() {
        controller.destroy();
        overlay.destroy();
      },
      reset() {
        console.warn("[story] reset() called but story is now server-driven");
      }
    };
  }
  var init_story = __esm({
    "web/src/story/index.ts"() {
      "use strict";
      init_overlay();
      init_controller();
    }
  });

  // web/src/start-gate.ts
  function getCtx() {
    const AC = window.AudioContext || window.webkitAudioContext;
    const ctx = window.LSD_AUDIO_CTX;
    return ctx instanceof AC ? ctx : null;
  }
  function ensureTopFrameMuteButton() {
    const topRight = document.getElementById("top-right");
    if (!topRight) return;
    if (topRight.querySelector("#mute-top")) return;
    const btn = document.createElement("button");
    btn.id = "mute-top";
    btn.className = "ghost-btn small";
    btn.setAttribute("aria-pressed", "false");
    btn.title = "Mute (M)";
    btn.textContent = "\u{1F507} Mute";
    topRight.appendChild(btn);
    muteMgr.attachButton(btn);
  }
  function waitForUserStart(opts = {}) {
    const { label = "Start Game", requestFullscreen = false, resumeAudio: resumeAudio2 } = opts;
    return new Promise((resolve) => {
      const overlay = document.createElement("div");
      overlay.id = "start-overlay";
      overlay.innerHTML = `
      <div id="start-container">
        <button id="start-btn" aria-label="${label}">${label}</button>
        <div style="margin-top:10px">
          <button id="mute-below-start" class="ghost-btn" aria-pressed="false" title="Mute (M)">\u{1F507} Mute</button>
        </div>
        <p> On mobile turn phone to landscape for best experience. </p>
      </div>
    `;
      document.body.appendChild(overlay);
      const style = document.createElement("style");
      style.textContent = `
      #start-overlay {
        position: fixed; inset: 0; display: flex; justify-content: center; align-items: center;
        background: radial-gradient(circle at center, rgba(0,0,0,0.6), rgba(0,0,0,0.9));
        z-index: 9999;
      }
      #start-container { text-align: center; }
      #start-btn {
        font-size: 2rem; padding: 1rem 2.5rem; border: 2px solid #fff; border-radius: 10px;
        background: transparent; color: #fff; cursor: pointer; transition: transform .12s ease, background .2s ease, color .2s ease;
      }
      #start-btn:hover { background: #fff; color: #000; transform: translateY(-1px); }
      #start-btn:active { transform: translateY(0); }
      #mute-below-start {
        font-size: 1rem; padding: .5rem 1rem; border-radius: 999px; border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(30, 41, 59, 0.72); color: #f8fafc;
      }
      .ghost-btn.small { padding: 4px 8px; font-size: 11px; }
    `;
      document.head.appendChild(style);
      const startBtn = overlay.querySelector("#start-btn");
      const muteBelowStart = overlay.querySelector("#mute-below-start");
      const topMute = document.getElementById("mute-top");
      if (topMute) muteMgr.attachButton(topMute);
      muteMgr.attachButton(muteBelowStart);
      muteMgr.enforceOnceWhenReady();
      const start = async () => {
        var _a, _b;
        try {
          await (resumeAudio2 == null ? void 0 : resumeAudio2());
        } catch (e) {
        }
        muteMgr.enforceOnceWhenReady();
        if (requestFullscreen) {
          try {
            await ((_b = (_a = document.documentElement).requestFullscreen) == null ? void 0 : _b.call(_a));
          } catch (e) {
          }
        }
        style.remove();
        overlay.remove();
        ensureTopFrameMuteButton();
        resolve();
      };
      startBtn.addEventListener("click", start, { once: true });
      overlay.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          start();
        }
      });
      startBtn.tabIndex = 0;
      startBtn.focus();
      ensureTopFrameMuteButton();
    });
  }
  var STORAGE_KEY, MuteManager, muteMgr;
  var init_start_gate = __esm({
    "web/src/start-gate.ts"() {
      "use strict";
      STORAGE_KEY = "lsd:muted";
      MuteManager = class {
        constructor() {
          this.buttons = [];
          this.enforcing = false;
          document.addEventListener("lsd:muteChanged", (e) => {
            var _a;
            const muted = !!((_a = e == null ? void 0 : e.detail) == null ? void 0 : _a.muted);
            this.applyUI(muted);
          });
        }
        isMuted() {
          return localStorage.getItem(STORAGE_KEY) === "1";
        }
        save(muted) {
          try {
            localStorage.setItem(STORAGE_KEY, muted ? "1" : "0");
          } catch (e) {
          }
        }
        label(btn, muted) {
          btn.setAttribute("aria-pressed", String(muted));
          btn.title = muted ? "Unmute (M)" : "Mute (M)";
          btn.textContent = muted ? "\u{1F508} Unmute" : "\u{1F507} Mute";
        }
        applyUI(muted) {
          this.buttons.forEach((b) => this.label(b, muted));
        }
        attachButton(btn) {
          this.buttons.push(btn);
          this.label(btn, this.isMuted());
          btn.addEventListener("click", () => this.toggle());
        }
        async setMuted(muted) {
          this.save(muted);
          this.applyUI(muted);
          const ctx = getCtx();
          if (ctx) {
            try {
              if (muted && ctx.state !== "suspended") {
                await ctx.suspend();
              } else if (!muted && ctx.state !== "running") {
                await ctx.resume();
              }
            } catch (e) {
              console.warn("[audio] mute toggle failed:", e);
            }
          }
          document.dispatchEvent(new CustomEvent("lsd:muteChanged", { detail: { muted } }));
        }
        toggle() {
          this.setMuted(!this.isMuted());
        }
        // If ctx isn't created until after Start, enforce persisted state once available
        enforceOnceWhenReady() {
          if (this.enforcing) return;
          this.enforcing = true;
          const tick = () => {
            const ctx = getCtx();
            if (!ctx) {
              requestAnimationFrame(tick);
              return;
            }
            this.setMuted(this.isMuted());
          };
          tick();
        }
      };
      muteMgr = new MuteManager();
      (function installMuteHotkey() {
        window.addEventListener("keydown", (e) => {
          var _a;
          if (((_a = e.key) == null ? void 0 : _a.toLowerCase()) === "m") {
            e.preventDefault();
            muteMgr.toggle();
          }
        });
      })();
    }
  });

  // web/src/audio/engine.ts
  function makePRNG(seed) {
    let s = seed >>> 0 || 1;
    return function() {
      s += 1831565813;
      let t = Math.imul(s ^ s >>> 15, 1 | s);
      t ^= t + Math.imul(t ^ t >>> 7, 61 | t);
      return ((t ^ t >>> 14) >>> 0) / 4294967296;
    };
  }
  var _AudioEngine, AudioEngine;
  var init_engine2 = __esm({
    "web/src/audio/engine.ts"() {
      "use strict";
      _AudioEngine = class _AudioEngine {
        constructor() {
          this._targetMaster = 0.9;
          this._targetMusic = 0.9;
          this._targetSfx = 0.9;
          this.ctx = new AudioContext();
          window.LSD_AUDIO_CTX = this.ctx;
          this.master = new GainNode(this.ctx, { gain: this._targetMaster });
          this.musicBus = new GainNode(this.ctx, { gain: this._targetMusic });
          this.sfxBus = new GainNode(this.ctx, { gain: this._targetSfx });
          this.musicBus.connect(this.master);
          this.sfxBus.connect(this.master);
          this.master.connect(this.ctx.destination);
        }
        static get() {
          if (!this._inst) this._inst = new _AudioEngine();
          return this._inst;
        }
        get now() {
          return this.ctx.currentTime;
        }
        getMusicBus() {
          return this.musicBus;
        }
        getSfxBus() {
          return this.sfxBus;
        }
        async resume() {
          if (this.ctx.state === "suspended") {
            await this.ctx.resume();
          }
        }
        async suspend() {
          if (this.ctx.state === "running") {
            await this.ctx.suspend();
          }
        }
        setMasterGain(v, t = this.now, ramp = 0.03) {
          this._targetMaster = v;
          this.master.gain.cancelScheduledValues(t);
          this.master.gain.linearRampToValueAtTime(v, t + ramp);
        }
        setMusicGain(v, t = this.now, ramp = 0.03) {
          this._targetMusic = v;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(v, t + ramp);
        }
        setSfxGain(v, t = this.now, ramp = 0.03) {
          this._targetSfx = v;
          this.sfxBus.gain.cancelScheduledValues(t);
          this.sfxBus.gain.linearRampToValueAtTime(v, t + ramp);
        }
        duckMusic(level = 0.4, attack = 0.05) {
          const t = this.now;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(level, t + attack);
        }
        unduckMusic(release = 0.25) {
          const t = this.now;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(this._targetMusic, t + release);
        }
      };
      _AudioEngine._inst = null;
      AudioEngine = _AudioEngine;
    }
  });

  // web/src/audio/graph.ts
  function osc(ctx, type, freq) {
    return new OscillatorNode(ctx, { type, frequency: freq });
  }
  function noise(ctx) {
    const buffer = ctx.createBuffer(1, ctx.sampleRate * 2, ctx.sampleRate);
    const data = buffer.getChannelData(0);
    for (let i = 0; i < data.length; i++) data[i] = Math.random() * 2 - 1;
    return new AudioBufferSourceNode(ctx, { buffer, loop: true });
  }
  function makePanner(ctx, pan = 0) {
    return new StereoPannerNode(ctx, { pan });
  }
  function adsr(ctx, param, t0, a = 0.01, d = 0.08, s = 0.5, r = 0.2, peak = 1) {
    param.cancelScheduledValues(t0);
    param.setValueAtTime(0, t0);
    param.linearRampToValueAtTime(peak, t0 + a);
    param.linearRampToValueAtTime(s * peak, t0 + a + d);
    return (releaseAt = ctx.currentTime) => {
      param.cancelScheduledValues(releaseAt);
      param.setValueAtTime(param.value, releaseAt);
      param.linearRampToValueAtTime(1e-4, releaseAt + r);
    };
  }
  var init_graph = __esm({
    "web/src/audio/graph.ts"() {
      "use strict";
    }
  });

  // web/src/audio/sfx.ts
  function playSfx(engine, name, opts = {}) {
    switch (name) {
      case "laser":
        return playLaser(engine, opts);
      case "thrust":
        return playThrust(engine, opts);
      case "explosion":
        return playExplosion(engine, opts);
      case "lock":
        return playLock(engine, opts);
      case "ui":
        return playUi(engine, opts);
      case "dialogue":
        return playDialogue(engine, opts);
    }
  }
  function playLaser(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const o = osc(ctx, "square", 680 + 160 * velocity);
    const f = new BiquadFilterNode(ctx, { type: "lowpass", frequency: 1200 });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 2e-3, 0.03, 0.25, 0.08, 0.65);
    o.start(now);
    release(now + 0.06);
    o.stop(now + 0.2);
  }
  function playThrust(engine, { velocity = 0.6, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const n = noise(ctx);
    const f = new BiquadFilterNode(ctx, {
      type: "bandpass",
      frequency: 180 + 360 * velocity,
      Q: 1.1
    });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    n.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 0.012, 0.15, 0.75, 0.25, 0.45 * velocity);
    n.start(now);
    release(now + 0.25);
    n.stop(now + 1);
  }
  function playExplosion(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const n = noise(ctx);
    const f = new BiquadFilterNode(ctx, {
      type: "lowpass",
      frequency: 2200 * Math.max(0.2, Math.min(velocity, 1)),
      Q: 0.2
    });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    n.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 5e-3, 0.08, 0.5, 0.35, 1.1 * velocity);
    n.start(now);
    release(now + 0.15 + 0.1 * velocity);
    n.stop(now + 1.2);
  }
  function playLock(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const base = 520 + 140 * velocity;
    const o1 = osc(ctx, "sine", base);
    const o2 = osc(ctx, "sine", base * 1.5);
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o1.connect(g);
    o2.connect(g);
    g.connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 1e-3, 0.02, 0, 0.12, 0.6);
    o1.start(now);
    o2.start(now + 0.02);
    release(now + 0.06);
    o1.stop(now + 0.2);
    o2.stop(now + 0.22);
  }
  function playUi(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const o = osc(ctx, "triangle", 880 - 120 * velocity);
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o.connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 1e-3, 0.04, 0, 0.08, 0.35);
    o.start(now);
    release(now + 0.05);
    o.stop(now + 0.18);
  }
  function playDialogue(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const freq = 480 + 160 * velocity;
    const o = osc(ctx, "sine", freq);
    const g = new GainNode(ctx, { gain: 1e-4 });
    const p = makePanner(ctx, pan);
    o.connect(g).connect(p).connect(out);
    g.gain.setValueAtTime(1e-4, now);
    g.gain.exponentialRampToValueAtTime(0.04, now + 0.02);
    g.gain.exponentialRampToValueAtTime(5e-4, now + 0.28);
    o.start(now);
    o.stop(now + 0.3);
  }
  var init_sfx = __esm({
    "web/src/audio/sfx.ts"() {
      "use strict";
      init_graph();
    }
  });

  // web/src/story/sfx.ts
  async function resumeAudio() {
    await AudioEngine.get().resume();
  }
  var init_sfx2 = __esm({
    "web/src/story/sfx.ts"() {
      "use strict";
      init_engine2();
      init_sfx();
    }
  });

  // web/src/audio/music/scenes/ambient.ts
  var MODES, ROOT_MAX_GAIN, ROOT_SWELL_TIME, DRONE_SHIFT_MIN_S, DRONE_SHIFT_MAX_S, DRONE_GLIDE_MIN_S, DRONE_GLIDE_MAX_S, CHORD_VOICES_MAX, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S, CHORD_HOLD_MIN_S, CHORD_HOLD_MAX_S, CHORD_GAP_MIN_S, CHORD_GAP_MAX_S, CHORD_ANCHOR_PROB, FILTER_BASE_HZ, FILTER_PEAK_HZ, SWEEP_SEG_S, LFO_RATE_HZ, LFO_DEPTH_HZ, DELAY_TIME_S, FEEDBACK_GAIN, WET_MIX, PREFERRED_DEGREE_ORDER, clamp01, rand, choice, midiToFreq, Voice, AmbientScene;
  var init_ambient = __esm({
    "web/src/audio/music/scenes/ambient.ts"() {
      "use strict";
      init_engine2();
      MODES = {
        Ionian: [0, 2, 4, 5, 7, 9, 11],
        Dorian: [0, 2, 3, 5, 7, 9, 10],
        Phrygian: [0, 1, 3, 5, 7, 8, 10],
        Lydian: [0, 2, 4, 6, 7, 9, 11],
        Mixolydian: [0, 2, 4, 5, 7, 9, 10],
        Aeolian: [0, 2, 3, 5, 7, 8, 10],
        Locrian: [0, 1, 3, 5, 6, 8, 10]
      };
      ROOT_MAX_GAIN = 0.33;
      ROOT_SWELL_TIME = 20;
      DRONE_SHIFT_MIN_S = 24;
      DRONE_SHIFT_MAX_S = 48;
      DRONE_GLIDE_MIN_S = 8;
      DRONE_GLIDE_MAX_S = 15;
      CHORD_VOICES_MAX = 5;
      CHORD_FADE_MIN_S = 8;
      CHORD_FADE_MAX_S = 16;
      CHORD_HOLD_MIN_S = 10;
      CHORD_HOLD_MAX_S = 22;
      CHORD_GAP_MIN_S = 4;
      CHORD_GAP_MAX_S = 9;
      CHORD_ANCHOR_PROB = 0.6;
      FILTER_BASE_HZ = 220;
      FILTER_PEAK_HZ = 4200;
      SWEEP_SEG_S = 30;
      LFO_RATE_HZ = 0.05;
      LFO_DEPTH_HZ = 900;
      DELAY_TIME_S = 0.45;
      FEEDBACK_GAIN = 0.35;
      WET_MIX = 0.28;
      PREFERRED_DEGREE_ORDER = [0, 4, 2, 5, 1, 3, 6];
      clamp01 = (x) => Math.max(0, Math.min(1, x));
      rand = (rng, a, b) => a + rng() * (b - a);
      choice = (rng, arr) => arr[Math.floor(rng() * arr.length)];
      midiToFreq = (m) => 440 * Math.pow(2, (m - 69) / 12);
      Voice = class {
        constructor(ctx, targetGain, waveform, freqHz, destination, rng) {
          this.ctx = ctx;
          this.targetGain = targetGain;
          this.killed = false;
          this.osc = new OscillatorNode(ctx, { type: waveform, frequency: freqHz });
          this.shimmer = new OscillatorNode(ctx, { type: "sine", frequency: rand(rng, 0.06, 0.18) });
          this.shimmerGain = new GainNode(ctx, { gain: rand(rng, 0.4, 1.2) });
          this.scale = new GainNode(ctx, { gain: 25 });
          this.shimmer.connect(this.shimmerGain).connect(this.scale).connect(this.osc.detune);
          this.g = new GainNode(ctx, { gain: 0 });
          this.osc.connect(this.g).connect(destination);
          this.osc.start();
          this.shimmer.start();
        }
        fadeIn(seconds) {
          const now = this.ctx.currentTime;
          this.g.gain.cancelScheduledValues(now);
          this.g.gain.setValueAtTime(this.g.gain.value, now);
          this.g.gain.linearRampToValueAtTime(this.targetGain, now + seconds);
        }
        fadeOutKill(seconds) {
          if (this.killed) return;
          this.killed = true;
          const now = this.ctx.currentTime;
          this.g.gain.cancelScheduledValues(now);
          this.g.gain.setValueAtTime(this.g.gain.value, now);
          this.g.gain.linearRampToValueAtTime(1e-4, now + seconds);
          setTimeout(() => this.stop(), seconds * 1e3 + 60);
        }
        setFreqGlide(targetHz, glideSeconds) {
          const now = this.ctx.currentTime;
          const current = Math.max(1e-4, this.osc.frequency.value);
          this.osc.frequency.cancelScheduledValues(now);
          try {
            this.osc.frequency.setValueAtTime(current, now);
            this.osc.frequency.exponentialRampToValueAtTime(targetHz, now + glideSeconds);
          } catch (e) {
            this.osc.frequency.linearRampToValueAtTime(targetHz, now + glideSeconds);
          }
        }
        stop() {
          try {
            this.osc.stop();
            this.shimmer.stop();
          } catch (e) {
          }
          try {
            this.osc.disconnect();
            this.shimmer.disconnect();
            this.g.disconnect();
            this.shimmerGain.disconnect();
            this.scale.disconnect();
          } catch (e) {
          }
        }
      };
      AmbientScene = class {
        constructor(ctx, out, seed = 1) {
          this.ctx = ctx;
          this.out = out;
          this.running = false;
          this.stopFns = [];
          this.timeouts = [];
          this.params = { intensity: 0.75, brightness: 0.5, density: 0.6 };
          // musical state
          this.keyRootMidi = 43;
          this.mode = "Ionian";
          this.droneDegreeIdx = 0;
          this.rootVoice = null;
          this.rng = makePRNG(seed);
        }
        setParam(k, v) {
          this.params[k] = clamp01(v);
          if (this.running && k === "intensity" && this.master) {
            this.master.gain.value = 0.15 + 0.85 * this.params.intensity;
          }
        }
        start() {
          if (this.running) return;
          this.running = true;
          this.master = new GainNode(this.ctx, { gain: 0.15 + 0.85 * this.params.intensity });
          this.filter = new BiquadFilterNode(this.ctx, { type: "lowpass", Q: 0.707 });
          this.dry = new GainNode(this.ctx, { gain: 1 });
          this.wet = new GainNode(this.ctx, { gain: WET_MIX });
          this.delay = new DelayNode(this.ctx, { delayTime: DELAY_TIME_S, maxDelayTime: 2 });
          this.feedback = new GainNode(this.ctx, { gain: FEEDBACK_GAIN });
          this.filter.connect(this.dry).connect(this.master);
          this.filter.connect(this.delay);
          this.delay.connect(this.feedback).connect(this.delay);
          this.delay.connect(this.wet).connect(this.master);
          this.master.connect(this.out);
          this.filter.frequency.setValueAtTime(FILTER_BASE_HZ, this.ctx.currentTime);
          const sweep = () => {
            const t = this.ctx.currentTime;
            this.filter.frequency.cancelScheduledValues(t);
            this.filter.frequency.setTargetAtTime(
              FILTER_BASE_HZ + (FILTER_PEAK_HZ - FILTER_BASE_HZ) * (0.4 + 0.6 * this.params.brightness),
              t,
              SWEEP_SEG_S / 3
            );
            this.filter.frequency.setTargetAtTime(
              FILTER_BASE_HZ * (0.7 + 0.3 * this.params.brightness),
              t + SWEEP_SEG_S,
              SWEEP_SEG_S / 3
            );
            this.timeouts.push(window.setTimeout(() => this.running && sweep(), SWEEP_SEG_S * 2 * 1e3));
          };
          sweep();
          this.lfoNode = new OscillatorNode(this.ctx, { type: "sine", frequency: LFO_RATE_HZ });
          this.lfoGain = new GainNode(this.ctx, { gain: LFO_DEPTH_HZ * (0.5 + 0.5 * this.params.brightness) });
          this.lfoNode.connect(this.lfoGain).connect(this.filter.frequency);
          this.lfoNode.start();
          this.spawnRootDrone();
          this.scheduleNextDroneMove();
          this.chordCycle();
          this.stopFns.push(() => {
            var _a;
            try {
              (_a = this.lfoNode) == null ? void 0 : _a.stop();
            } catch (e) {
            }
            [this.master, this.filter, this.dry, this.wet, this.delay, this.feedback, this.lfoNode, this.lfoGain].forEach((n) => {
              try {
                n == null ? void 0 : n.disconnect();
              } catch (e) {
              }
            });
          });
        }
        stop() {
          if (!this.running) return;
          this.running = false;
          this.timeouts.splice(0).forEach((id) => window.clearTimeout(id));
          if (this.rootVoice) this.rootVoice.fadeOutKill(1.2);
          this.stopFns.splice(0).forEach((fn) => fn());
        }
        /* ------------------------- Musical engine below ------------------------- */
        currentDegrees() {
          return MODES[this.mode] || MODES.Lydian;
        }
        /** Drone root voice */
        spawnRootDrone() {
          const baseMidi = this.keyRootMidi + this.currentDegrees()[this.droneDegreeIdx];
          const v = new Voice(
            this.ctx,
            ROOT_MAX_GAIN,
            "sine",
            midiToFreq(baseMidi),
            this.filter,
            this.rng
          );
          v.fadeIn(ROOT_SWELL_TIME);
          this.rootVoice = v;
        }
        scheduleNextDroneMove() {
          if (!this.running) return;
          const waitMs = rand(this.rng, DRONE_SHIFT_MIN_S, DRONE_SHIFT_MAX_S) * 1e3;
          const id = window.setTimeout(() => {
            if (!this.running || !this.rootVoice) return;
            const glide = rand(this.rng, DRONE_GLIDE_MIN_S, DRONE_GLIDE_MAX_S);
            const nextIdx = this.pickNextDroneDegreeIdx();
            const targetMidi = this.keyRootMidi + this.currentDegrees()[nextIdx];
            this.rootVoice.setFreqGlide(midiToFreq(targetMidi), glide);
            this.droneDegreeIdx = nextIdx;
            this.scheduleNextDroneMove();
          }, waitMs);
          this.timeouts.push(id);
        }
        pickNextDroneDegreeIdx() {
          const order = [...PREFERRED_DEGREE_ORDER];
          const i = order.indexOf(this.droneDegreeIdx);
          if (i >= 0) {
            const [cur] = order.splice(i, 1);
            order.push(cur);
          }
          return choice(this.rng, order);
        }
        /** Build diatonic stacked-third chord degrees with optional extensions */
        buildChordDegrees(modeDegs, rootIndex, size = 4, add9 = false, add11 = false, add13 = false) {
          const steps = [0, 2, 4, 6];
          const chordIdxs = steps.slice(0, Math.min(size, 4)).map((s) => (rootIndex + s) % 7);
          if (add9) chordIdxs.push((rootIndex + 8) % 7);
          if (add11) chordIdxs.push((rootIndex + 10) % 7);
          if (add13) chordIdxs.push((rootIndex + 12) % 7);
          return chordIdxs.map((i) => modeDegs[i]);
        }
        *endlessChords() {
          while (true) {
            const modeDegs = this.currentDegrees();
            const rootDegreeIndex = this.rng() < CHORD_ANCHOR_PROB ? this.droneDegreeIdx : Math.floor(this.rng() * 7);
            const r = this.rng();
            let size = 3;
            let add9 = false, add11 = false, add13 = false;
            if (r < 0.35) {
              size = 3;
            } else if (r < 0.75) {
              size = 4;
            } else if (r < 0.9) {
              size = 4;
              add9 = true;
            } else if (r < 0.97) {
              size = 4;
              add11 = true;
            } else {
              size = 4;
              add13 = true;
            }
            const chordSemis = this.buildChordDegrees(modeDegs, rootDegreeIndex, size, add9, add11, add13);
            const spread = chordSemis.map((semi) => semi + choice(this.rng, [-12, 0, 0, 12]));
            if (!spread.includes(0) && this.rng() < 0.5) spread.push(0);
            yield spread;
          }
        }
        async chordCycle() {
          var _a;
          const gen = this.endlessChords();
          const voices = /* @__PURE__ */ new Set();
          const sleep = (ms) => new Promise((r) => {
            const id = window.setTimeout(() => r(), ms);
            this.timeouts.push(id);
          });
          while (this.running) {
            const thickness = Math.round(2 + this.params.density * 3);
            const baseMidi = this.keyRootMidi;
            const degreesOff = (_a = gen.next().value) != null ? _a : [];
            for (const off of degreesOff) {
              if (!this.running) break;
              if (voices.size >= Math.min(CHORD_VOICES_MAX, thickness)) break;
              const midi = baseMidi + off;
              const freq = midiToFreq(midi);
              const waveform = choice(this.rng, ["sine", "triangle", "sawtooth"]);
              const gainTarget = rand(this.rng, 0.08, 0.22) * (0.85 + 0.3 * this.params.intensity) * (0.9 + 0.2 * this.params.brightness);
              const v = new Voice(this.ctx, gainTarget, waveform, freq, this.filter, this.rng);
              voices.add(v);
              v.fadeIn(rand(this.rng, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S));
            }
            await sleep(rand(this.rng, CHORD_HOLD_MIN_S, CHORD_HOLD_MAX_S) * 1e3);
            const outs = Array.from(voices);
            for (const v of outs) v.fadeOutKill(rand(this.rng, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S));
            voices.clear();
            await sleep(rand(this.rng, CHORD_GAP_MIN_S, CHORD_GAP_MAX_S) * 1e3);
          }
          for (const v of Array.from(voices)) v.fadeOutKill(0.8);
        }
      };
    }
  });

  // web/src/audio/music/index.ts
  var MusicDirector;
  var init_music = __esm({
    "web/src/audio/music/index.ts"() {
      "use strict";
      init_ambient();
      MusicDirector = class {
        constructor(engine) {
          this.engine = engine;
          this.busOut = new GainNode(engine.ctx, { gain: 0.9 });
          this.busOut.connect(engine.getMusicBus());
        }
        /** Crossfade to a new scene */
        setScene(name, opts) {
          var _a, _b;
          if (((_a = this.current) == null ? void 0 : _a.name) === name) return;
          const old = this.current;
          const t = this.engine.now;
          const fadeOut = new GainNode(this.engine.ctx, { gain: 0.9 });
          fadeOut.connect(this.engine.getMusicBus());
          if (old) {
            old.stop();
            fadeOut.gain.linearRampToValueAtTime(0, t + 0.6);
            setTimeout(() => fadeOut.disconnect(), 650);
          }
          const sceneOut = new GainNode(this.engine.ctx, { gain: 0 });
          sceneOut.connect(this.busOut);
          let stop = () => sceneOut.disconnect();
          if (name === "ambient") {
            const s = new AmbientScene(this.engine.ctx, sceneOut, (_b = opts == null ? void 0 : opts.seed) != null ? _b : 1);
            s.start();
            stop = () => {
              s.stop();
              sceneOut.disconnect();
            };
          }
          this.current = { name, stop };
          sceneOut.gain.linearRampToValueAtTime(0.9, t + 0.6);
        }
        stop() {
          if (!this.current) return;
          this.current.stop();
          this.current = void 0;
        }
      };
    }
  });

  // web/src/audio/cues.ts
  function registerAudioBusBindings(bus, engine, music) {
    bus.on("audio:resume", () => engine.resume());
    bus.on("audio:mute", () => engine.setMasterGain(0));
    bus.on("audio:unmute", () => engine.setMasterGain(0.9));
    bus.on(
      "audio:set-master-gain",
      ({ gain }) => engine.setMasterGain(Math.max(0, Math.min(1, gain)))
    );
    bus.on("audio:sfx", (msg) => {
      playSfx(engine, msg.name, { velocity: msg.velocity, pan: msg.pan });
    });
    bus.on("audio:music:set-scene", (msg) => {
      engine.resume();
      music.setScene(msg.scene, { seed: msg.seed });
    });
    bus.on("audio:music:param", (_msg) => {
    });
    bus.on("audio:music:transport", ({ cmd }) => {
      if (cmd === "stop" || cmd === "pause") music.stop();
    });
  }
  var init_cues = __esm({
    "web/src/audio/cues.ts"() {
      "use strict";
      init_sfx();
    }
  });

  // web/src/mission/controller.ts
  function mountMissionController({ state, bus, mode }) {
    if (mode !== "campaign") {
      return { destroy() {
      } };
    }
    let knownMissionId = null;
    let missionStarted = false;
    let activeBeaconId = null;
    const discoveredBeacons = /* @__PURE__ */ new Set();
    const completedBeacons = /* @__PURE__ */ new Set();
    function reset() {
      knownMissionId = null;
      missionStarted = false;
      activeBeaconId = null;
      discoveredBeacons.clear();
      completedBeacons.clear();
    }
    function handleMissionUpdate() {
      var _a;
      const mission = state.mission;
      if (!mission) {
        reset();
        return;
      }
      const player = mission.player;
      if (!player) {
        missionStarted = false;
        activeBeaconId = null;
        return;
      }
      if (mission.missionId !== knownMissionId) {
        knownMissionId = mission.missionId;
        missionStarted = false;
        activeBeaconId = null;
        discoveredBeacons.clear();
        completedBeacons.clear();
      }
      if (!missionStarted && mission.status !== "idle") {
        missionStarted = true;
      }
      for (const beacon of mission.beacons) {
        if (beacon.discovered && !discoveredBeacons.has(beacon.id)) {
          discoveredBeacons.add(beacon.id);
          bus.emit("beacon:discovered", { id: beacon.id, ordinal: beacon.ordinal });
        }
      }
      for (const beacon of mission.beacons) {
        if (beacon.completed && !completedBeacons.has(beacon.id)) {
          completedBeacons.add(beacon.id);
          bus.emit("mission:beacon-locked", { index: beacon.ordinal });
        }
      }
      if (player.activeBeaconId && player.activeBeaconId !== activeBeaconId) {
        activeBeaconId = player.activeBeaconId;
        const beacon = mission.beacons.find((b) => b.id === player.activeBeaconId);
        bus.emit("beacon:activated", {
          id: player.activeBeaconId,
          ordinal: (_a = beacon == null ? void 0 : beacon.ordinal) != null ? _a : player.currentIndex
        });
      } else if (!player.activeBeaconId) {
        activeBeaconId = null;
      }
      synchronizeHoldDisplay(player);
      updateInsideFlag(player);
    }
    function handleTick() {
      const mission = state.mission;
      if (!(mission == null ? void 0 : mission.player)) return;
      synchronizeHoldDisplay(mission.player);
      updateInsideFlag(mission.player);
    }
    function synchronizeHoldDisplay(player) {
      if (!Number.isFinite(player.holdAccum)) {
        player.holdAccum = 0;
      }
      if (!Number.isFinite(player.displayHold)) {
        player.displayHold = player.holdAccum;
      }
      const nowMs = monotonicNow();
      const previousSync = Number.isFinite(player.lastDisplaySync) ? player.lastDisplaySync : nowMs;
      const dt = Math.max(0, (nowMs - previousSync) / 1e3);
      player.lastDisplaySync = nowMs;
      const target = clamp(player.holdAccum, 0, Math.max(player.holdRequired, player.holdAccum));
      const smoothing = 1 - Math.exp(-dt * HOLD_SMOOTH_RATE);
      if (smoothing > 0) {
        player.displayHold = player.displayHold + (target - player.displayHold) * smoothing;
      }
      if (Math.abs(player.displayHold - target) < HOLD_EPSILON) {
        player.displayHold = target;
      }
      player.displayHold = clamp(player.displayHold, 0, Math.max(player.holdRequired, target));
    }
    function updateInsideFlag(player) {
      const mission = state.mission;
      if (!mission) {
        player.insideActiveBeacon = false;
        return;
      }
      if (!player.activeBeaconId || !state.me) {
        player.insideActiveBeacon = false;
        return;
      }
      const beacon = mission.beacons.find((b) => b.id === player.activeBeaconId);
      if (!beacon) {
        player.insideActiveBeacon = false;
        return;
      }
      const dx = state.me.x - beacon.x;
      const dy = state.me.y - beacon.y;
      player.insideActiveBeacon = dx * dx + dy * dy <= beacon.radius * beacon.radius;
    }
    const unsubMission = bus.on("mission:update", () => handleMissionUpdate());
    const unsubMissionStart = bus.on("mission:start", () => {
      missionStarted = true;
    });
    const unsubOffer = bus.on("mission:offered", ({ missionId }) => {
      if (missionId) {
        acceptMission(missionId);
      }
    });
    const unsubState = bus.on("state:updated", () => handleTick());
    return {
      destroy() {
        unsubMission();
        unsubState();
        unsubOffer();
        unsubMissionStart();
      }
    };
  }
  var HOLD_SMOOTH_RATE, HOLD_EPSILON;
  var init_controller2 = __esm({
    "web/src/mission/controller.ts"() {
      "use strict";
      init_state();
      init_net();
      HOLD_SMOOTH_RATE = 6;
      HOLD_EPSILON = 0.01;
    }
  });

  // web/src/upgrades.ts
  function initUpgradesPanel(state, bus) {
    const panel = createPanelElement();
    document.body.appendChild(panel);
    const container = panel.querySelector(".tech-tree-container");
    const closeBtn = panel.querySelector(".close-btn");
    const overlay = panel.querySelector(".panel-overlay");
    let lastSig = "";
    function computeSig(nodes) {
      return nodes.slice().sort((a, b) => a.id.localeCompare(b.id)).map((n) => `${n.id}:${n.status}`).join("|");
    }
    function renderUpgrades(force = false) {
      var _a;
      const all = ((_a = state.dag) == null ? void 0 : _a.nodes) || [];
      const upgradeNodes = all.filter((n) => n.kind === "unit" || n.id.startsWith("upgrade."));
      const sig = computeSig(upgradeNodes);
      if (!force && sig === lastSig) return;
      lastSig = sig;
      renderTechTree(upgradeNodes, container);
    }
    function togglePanel(visible) {
      panel.classList.toggle("visible", visible);
      if (visible) {
        renderUpgrades();
      }
    }
    bus.on("upgrades:toggle", () => {
      const next = !panel.classList.contains("visible");
      togglePanel(next);
      if (next) renderUpgrades(true);
    });
    bus.on("upgrades:show", () => {
      togglePanel(true);
      renderUpgrades(true);
    });
    bus.on("upgrades:hide", () => togglePanel(false));
    closeBtn.addEventListener("click", () => togglePanel(false));
    overlay.addEventListener("click", () => togglePanel(false));
    bus.on("state:updated", () => {
      if (panel.classList.contains("visible")) {
        renderUpgrades(false);
      }
    });
    container.addEventListener("click", (e) => {
      var _a;
      const nodeEl = e.target.closest("[data-node-id]");
      if (!nodeEl) return;
      const nodeId = nodeEl.getAttribute("data-node-id");
      const node = (_a = state.dag) == null ? void 0 : _a.nodes.find((n) => n.id === nodeId);
      if ((node == null ? void 0 : node.status) === "available") {
        sendDagStart(nodeId);
      }
    });
  }
  function createPanelElement() {
    const panel = document.createElement("div");
    panel.className = "upgrades-panel";
    panel.innerHTML = `
    <div class="panel-overlay"></div>
    <div class="panel-content">
      <div class="panel-header">
        <h2>Ship Upgrades</h2>
        <button class="close-btn">\xD7</button>
      </div>
      <div class="tech-tree-container"></div>
    </div>
  `;
    return panel;
  }
  function renderTechTree(nodes, container) {
    const sorted = nodes.slice().sort((a, b) => a.id.localeCompare(b.id));
    container.innerHTML = `
    <div class="tech-tree">
      ${sorted.length > 0 ? sorted.map(renderNode).join("") : '<div class="muted">No upgrades available</div>'}
    </div>
  `;
  }
  function effectTypeToString(t) {
    if (typeof t === "string") return t;
    if (typeof t === "number") {
      switch (t) {
        case 1 /* SPEED_MULTIPLIER */:
          return "speed_multiplier";
        case 2 /* MISSILE_UNLOCK */:
          return "missile_unlock";
        case 3 /* HEAT_CAPACITY */:
          return "heat_capacity";
        case 4 /* HEAT_EFFICIENCY */:
          return "heat_efficiency";
        default:
          return "unknown";
      }
    }
    return "unknown";
  }
  function renderNode(node) {
    var _a;
    const statusClass = `node-${node.status}`;
    const effectsHtml = ((_a = node.effects) == null ? void 0 : _a.map((e) => {
      const type = effectTypeToString(e.type);
      const value = e.value;
      const isShip = node.id.startsWith("upgrade.ship.");
      const isMissile = node.id.startsWith("upgrade.missile.");
      if (type === "missile_unlock") {
        return `Unlock ${value}`;
      }
      if (typeof value === "number") {
        const pct = (value - 1) * 100;
        const pctStr = Number.isFinite(pct) ? pct.toFixed(0) : "0";
        if (type === "speed_multiplier") {
          return isShip ? `+${pctStr}% Ship Speed` : isMissile ? `+${pctStr}% Missile Speed` : `+${pctStr}% Speed`;
        }
        if (type === "heat_capacity") {
          return isShip ? `+${pctStr}% Ship Heat` : isMissile ? `+${pctStr}% Missile Heat` : `+${pctStr}% Heat Capacity`;
        }
        if (type === "heat_efficiency") {
          return `+${pctStr}% Cooling`;
        }
      }
      return "";
    }).join(", ")) || "";
    const countdownHtml = node.status === "in_progress" ? `<div class="countdown">${formatTime(node.remaining_s)}</div>` : "";
    return `
    <div class="node ${statusClass}" data-node-id="${node.id}">
      <h3>${node.label}</h3>
      ${effectsHtml ? `<p class="effects">${effectsHtml}</p>` : ""}
      <p class="duration">Duration: ${formatTime(node.duration_s)}</p>
      ${countdownHtml}
      ${node.status === "available" ? "<button>Start</button>" : ""}
      ${node.status === "completed" ? '<div class="checkmark">\u2713</div>' : ""}
    </div>
  `;
  }
  function formatTime(seconds) {
    if (seconds < 60) return `${Math.floor(seconds)}s`;
    if (seconds < 3600) return `${Math.floor(seconds / 60)}m`;
    return `${Math.floor(seconds / 3600)}h ${Math.floor(seconds % 3600 / 60)}m`;
  }
  function startCountdownTimer(state, bus) {
    if (countdownInterval) {
      clearInterval(countdownInterval);
    }
    countdownInterval = window.setInterval(() => {
      var _a;
      const upgradeNodes = ((_a = state.dag) == null ? void 0 : _a.nodes.filter(
        (n) => n.kind === "unit" && n.status === "in_progress"
      )) || [];
      upgradeNodes.forEach((node) => {
        const el = document.querySelector(`[data-node-id="${node.id}"] .countdown`);
        if (el && node.remaining_s > 0) {
          el.textContent = formatTime(node.remaining_s);
        }
      });
      const inProgressCount = upgradeNodes.length;
      bus.emit("upgrades:countUpdated", { count: inProgressCount });
    }, 1e3);
  }
  var countdownInterval;
  var init_upgrades = __esm({
    "web/src/upgrades.ts"() {
      "use strict";
      init_ws_messages_pb();
      init_net();
      countdownInterval = null;
    }
  });

  // web/src/main.ts
  var require_main = __commonJS({
    "web/src/main.ts"() {
      init_bus();
      init_net();
      init_game();
      init_state();
      init_tutorial();
      init_storage();
      init_story();
      init_start_gate();
      init_sfx2();
      init_engine2();
      init_music();
      init_cues();
      init_controller2();
      init_upgrades();
      var CALL_SIGN_STORAGE_KEY = "lsd:callsign";
      (async function bootstrap() {
        const qs = new URLSearchParams(window.location.search);
        const room = qs.get("room") || "default";
        const mode = qs.get("mode") || "";
        const missionId = qs.get("mission") || (mode === "campaign" ? "1" : null);
        const nameParam = sanitizeCallSign(qs.get("name"));
        const storedName = sanitizeCallSign(readStoredCallSign());
        const callSign = nameParam || storedName;
        const mapW = parseFloat(qs.get("mapW") || "8000");
        const mapH = parseFloat(qs.get("mapH") || "4500");
        if (nameParam && nameParam !== storedName) {
          persistCallSign(nameParam);
        }
        await waitForUserStart({
          label: "Start Game",
          requestFullscreen: false,
          // flip to true if you want fullscreen
          resumeAudio
          // uses story/sfx.ts
        });
        const state = createInitialState();
        const uiState = createInitialUIState();
        const bus = createEventBus();
        const engine = AudioEngine.get();
        await engine.resume();
        const music = new MusicDirector(engine);
        registerAudioBusBindings(bus, engine, music);
        bus.emit("audio:music:set-scene", { scene: "ambient", seed: 42 });
        bus.on("ship:speedChanged", ({ value }) => {
          if (value > 0) bus.emit("audio:sfx", { name: "thrust", velocity: Math.min(1, value) });
        });
        const game = initGame({ state, uiState, bus });
        mountMissionController({ state, bus, mode, missionId });
        initUpgradesPanel(state, bus);
        startCountdownTimer(state, bus);
        window.addEventListener("keydown", (e) => {
          if (e.key === "u" || e.key === "U") {
            bus.emit("upgrades:toggle");
          }
        });
        const upgradesBtn = document.getElementById("game-upgrades-btn");
        upgradesBtn == null ? void 0 : upgradesBtn.addEventListener("click", () => {
          bus.emit("upgrades:toggle");
        });
        bus.on("upgrades:countUpdated", ({ count }) => {
          const badge = document.getElementById("game-upgrades-badge");
          if (badge) {
            badge.textContent = count > 0 ? `${count}` : "";
            badge.style.display = count > 0 ? "inline" : "none";
          }
        });
        const enableTutorial = mode === "campaign" || mode === "tutorial";
        const enableStory = mode === "campaign";
        let tutorial = null;
        let tutorialStarted = false;
        if (enableTutorial) {
          tutorial = mountTutorial(bus);
        }
        const startTutorial = () => {
          if (!tutorial || tutorialStarted) return;
          tutorialStarted = true;
          clearProgress(BASIC_TUTORIAL_ID);
          tutorial.start({ resume: false });
        };
        if (enableStory) {
          mountStory({ bus, state, roomId: room });
        } else if (mode === "tutorial") {
          startTutorial();
        }
        connectWebSocket({
          room,
          state,
          bus,
          mapW,
          mapH,
          mode,
          missionId: missionId != null ? missionId : void 0,
          onStateUpdated: () => game.onStateUpdated(),
          onOpen: () => {
            const nameToSend = callSign || sanitizeCallSign(readStoredCallSign());
            if (nameToSend) sendMessage({ type: "join", name: nameToSend });
          }
        });
        document.addEventListener("visibilitychange", () => {
          if (document.visibilityState === "hidden") {
            void engine.suspend();
          } else {
            void engine.resume();
          }
        });
      })();
      function sanitizeCallSign(value) {
        if (!value) return "";
        const trimmed = value.trim();
        if (!trimmed) return "";
        return trimmed.slice(0, 24);
      }
      function persistCallSign(name) {
        try {
          if (name) window.localStorage.setItem(CALL_SIGN_STORAGE_KEY, name);
          else window.localStorage.removeItem(CALL_SIGN_STORAGE_KEY);
        } catch (e) {
        }
      }
      function readStoredCallSign() {
        var _a;
        try {
          return (_a = window.localStorage.getItem(CALL_SIGN_STORAGE_KEY)) != null ? _a : "";
        } catch (e) {
          return "";
        }
      }
    }
  });
  require_main();
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2J1cy50cyIsICJzcmMvc3RhdGUudHMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS90eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2lzLW1lc3NhZ2UuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9kZXNjcmlwdG9ycy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3dpcmUvdmFyaW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vcHJvdG8taW50NjQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L3NjYWxhci5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvdW5zYWZlLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vcmVmbGVjdC9ndWFyZC5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3drdC93cmFwcGVycy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NyZWF0ZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvZXJyb3IuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS93aXJlL3RleHQtZW5jb2RpbmcuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS93aXJlL2JpbmFyeS1lbmNvZGluZy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvcmVmbGVjdC1jaGVjay5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvcmVmbGVjdC5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Nsb25lLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vd2lyZS9iYXNlNjQtZW5jb2RpbmcuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L25hbWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL3Jlc3RvcmUtanNvbi1uYW1lcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3dpcmUvdGV4dC1mb3JtYXQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L25lc3RlZC10eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZ2lzdHJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL2Jvb3QuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvbWVzc2FnZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9lbnVtLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vd2t0L2dlbi9nb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvcl9wYi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Zyb20tYmluYXJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL2ZpbGUuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS90by1iaW5hcnkuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvZXh0ZW5zaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vZXF1YWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vZmllbGRzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vdG8tanNvbi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Zyb20tanNvbi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL21lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvZW1iZWQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvc2VydmljZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9zeW1ib2xzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL3NjYWxhci5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi90eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9pbmRleC5qcyIsICJzcmMvcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGIudHMiLCAic3JjL3Byb3RvX2hlbHBlcnMudHMiLCAic3JjL25ldC50cyIsICJzcmMvZ2FtZS9jb25zdGFudHMudHMiLCAic3JjL2dhbWUvY2FtZXJhLnRzIiwgInNyYy9nYW1lL2lucHV0LnRzIiwgInNyYy9yb3V0ZS50cyIsICJzcmMvZ2FtZS9sb2dpYy50cyIsICJzcmMvZ2FtZS9yZW5kZXIudHMiLCAic3JjL2dhbWUvdWkudHMiLCAic3JjL21pc3Npb24vaHVkLnRzIiwgInNyYy9nYW1lLnRzIiwgInNyYy90dXRvcmlhbC9oaWdobGlnaHQudHMiLCAic3JjL3R1dG9yaWFsL3N0b3JhZ2UudHMiLCAic3JjL3R1dG9yaWFsL3JvbGVzLnRzIiwgInNyYy90dXRvcmlhbC9lbmdpbmUudHMiLCAic3JjL3R1dG9yaWFsL3N0ZXBzX2Jhc2ljLnRzIiwgInNyYy90dXRvcmlhbC9pbmRleC50cyIsICJzcmMvc3Rvcnkvb3ZlcmxheS50cyIsICJzcmMvc3RvcnkvY29udHJvbGxlci50cyIsICJzcmMvc3RvcnkvaW5kZXgudHMiLCAic3JjL3N0YXJ0LWdhdGUudHMiLCAic3JjL2F1ZGlvL2VuZ2luZS50cyIsICJzcmMvYXVkaW8vZ3JhcGgudHMiLCAic3JjL2F1ZGlvL3NmeC50cyIsICJzcmMvc3Rvcnkvc2Z4LnRzIiwgInNyYy9hdWRpby9tdXNpYy9zY2VuZXMvYW1iaWVudC50cyIsICJzcmMvYXVkaW8vbXVzaWMvaW5kZXgudHMiLCAic3JjL2F1ZGlvL2N1ZXMudHMiLCAic3JjL21pc3Npb24vY29udHJvbGxlci50cyIsICJzcmMvdXBncmFkZXMudHMiLCAic3JjL21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB0eXBlIHsgTWlzc2lsZVNlbGVjdGlvbiwgTWlzc2lvbk9iamVjdGl2ZVN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcbmltcG9ydCB0eXBlIHsgRGlhbG9ndWVDb250ZW50IH0gZnJvbSBcIi4vc3RvcnkvdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgU2hpcENvbnRleHQgPSBcInNoaXBcIiB8IFwibWlzc2lsZVwiO1xuZXhwb3J0IHR5cGUgU2hpcFRvb2wgPSBcInNldFwiIHwgXCJzZWxlY3RcIiB8IG51bGw7XG5leHBvcnQgdHlwZSBNaXNzaWxlVG9vbCA9IFwic2V0XCIgfCBcInNlbGVjdFwiIHwgbnVsbDtcblxuZXhwb3J0IGludGVyZmFjZSBFdmVudE1hcCB7XG4gIFwiY29udGV4dDpjaGFuZ2VkXCI6IHsgY29udGV4dDogU2hpcENvbnRleHQgfTtcbiAgXCJzaGlwOnRvb2xDaGFuZ2VkXCI6IHsgdG9vbDogU2hpcFRvb2wgfTtcbiAgXCJzaGlwOndheXBvaW50QWRkZWRcIjogeyBpbmRleDogbnVtYmVyIH07XG4gIFwic2hpcDp3YXlwb2ludE1vdmVkXCI6IHsgaW5kZXg6IG51bWJlcjsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgXCJzaGlwOmxlZ1NlbGVjdGVkXCI6IHsgaW5kZXg6IG51bWJlciB8IG51bGwgfTtcbiAgXCJzaGlwOndheXBvaW50RGVsZXRlZFwiOiB7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJzaGlwOndheXBvaW50c0NsZWFyZWRcIjogdm9pZDtcbiAgXCJzaGlwOmNsZWFySW52b2tlZFwiOiB2b2lkO1xuICBcInNoaXA6c3BlZWRDaGFuZ2VkXCI6IHsgdmFsdWU6IG51bWJlciB9O1xuICBcInNoaXA6aGVhdFByb2plY3Rpb25VcGRhdGVkXCI6IHsgaGVhdFZhbHVlczogbnVtYmVyW10gfTtcbiAgXCJoZWF0Om1hcmtlckFsaWduZWRcIjogeyB2YWx1ZTogbnVtYmVyOyBtYXJrZXI6IG51bWJlciB9O1xuICBcImhlYXQ6d2FybkVudGVyZWRcIjogeyB2YWx1ZTogbnVtYmVyOyB3YXJuQXQ6IG51bWJlciB9O1xuICBcImhlYXQ6Y29vbGVkQmVsb3dXYXJuXCI6IHsgdmFsdWU6IG51bWJlcjsgd2FybkF0OiBudW1iZXIgfTtcbiAgXCJoZWF0OnN0YWxsVHJpZ2dlcmVkXCI6IHsgc3RhbGxVbnRpbDogbnVtYmVyIH07XG4gIFwiaGVhdDpzdGFsbFJlY292ZXJlZFwiOiB7IHZhbHVlOiBudW1iZXIgfTtcbiAgXCJoZWF0OmR1YWxNZXRlckRpdmVyZ2VkXCI6IHsgcGxhbm5lZDogbnVtYmVyOyBhY3R1YWw6IG51bWJlciB9O1xuICBcInVpOndheXBvaW50SG92ZXJTdGFydFwiOiB7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJ1aTp3YXlwb2ludEhvdmVyRW5kXCI6IHsgaW5kZXg6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6cm91dGVBZGRlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6cm91dGVEZWxldGVkXCI6IHsgcm91dGVJZDogc3RyaW5nIH07XG4gIFwibWlzc2lsZTpyb3V0ZVJlbmFtZWRcIjogeyByb3V0ZUlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6YWN0aXZlUm91dGVDaGFuZ2VkXCI6IHsgcm91dGVJZDogc3RyaW5nIHwgbnVsbCB9O1xuICBcIm1pc3NpbGU6dG9vbENoYW5nZWRcIjogeyB0b29sOiBNaXNzaWxlVG9vbCB9O1xuICBcIm1pc3NpbGU6c2VsZWN0aW9uQ2hhbmdlZFwiOiB7IHNlbGVjdGlvbjogTWlzc2lsZVNlbGVjdGlvbiB8IG51bGwgfTtcbiAgXCJtaXNzaWxlOndheXBvaW50QWRkZWRcIjogeyByb3V0ZUlkOiBzdHJpbmc7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOndheXBvaW50TW92ZWRcIjogeyByb3V0ZUlkOiBzdHJpbmc7IGluZGV4OiBudW1iZXI7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludERlbGV0ZWRcIjogeyByb3V0ZUlkOiBzdHJpbmc7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOndheXBvaW50c0NsZWFyZWRcIjogeyByb3V0ZUlkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOnNwZWVkQ2hhbmdlZFwiOiB7IHZhbHVlOiBudW1iZXI7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOmFncm9DaGFuZ2VkXCI6IHsgdmFsdWU6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6bGF1bmNoUmVxdWVzdGVkXCI6IHsgcm91dGVJZDogc3RyaW5nIH07XG4gIFwibWlzc2lsZTpsYXVuY2hlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6Y29vbGRvd25VcGRhdGVkXCI6IHsgc2Vjb25kc1JlbWFpbmluZzogbnVtYmVyIH07XG4gIFwibWlzc2lsZTpkZWxldGVJbnZva2VkXCI6IHZvaWQ7XG4gIFwibWlzc2lsZTpwcmVzZXRTZWxlY3RlZFwiOiB7IHByZXNldE5hbWU6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6aGVhdFByb2plY3Rpb25VcGRhdGVkXCI6IHsgd2lsbE92ZXJoZWF0OiBib29sZWFuOyBvdmVyaGVhdEF0PzogbnVtYmVyIH07XG4gIFwibWlzc2lsZTpvdmVyaGVhdGVkXCI6IHsgbWlzc2lsZUlkOiBzdHJpbmc7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIFwibWlzc2lsZTpjcmFmdFJlcXVlc3RlZFwiOiB7IG5vZGVJZDogc3RyaW5nOyBoZWF0Q2FwYWNpdHk6IG51bWJlciB9O1xuICBcImhlbHA6dmlzaWJsZUNoYW5nZWRcIjogeyB2aXNpYmxlOiBib29sZWFuIH07XG4gIFwic3RhdGU6dXBkYXRlZFwiOiB2b2lkO1xuICBcImNvbm5lY3Rpb246ZXJyb3JcIjogeyBtZXNzYWdlOiBzdHJpbmcgfTtcbiAgXCJkYWc6bGlzdFwiOiB7IG5vZGVzOiBBcnJheTx7IGlkOiBzdHJpbmc7IGtpbmQ6IHN0cmluZzsgbGFiZWw6IHN0cmluZzsgc3RhdHVzOiBzdHJpbmc7IHJlbWFpbmluZ19zOiBudW1iZXI7IGR1cmF0aW9uX3M6IG51bWJlcjsgcmVwZWF0YWJsZTogYm9vbGVhbiB9PiB9O1xuICBcInR1dG9yaWFsOnN0YXJ0ZWRcIjogeyBpZDogc3RyaW5nIH07XG4gIFwidHV0b3JpYWw6c3RlcENoYW5nZWRcIjogeyBpZDogc3RyaW5nOyBzdGVwSW5kZXg6IG51bWJlcjsgdG90YWw6IG51bWJlciB9O1xuICBcInR1dG9yaWFsOmNvbXBsZXRlZFwiOiB7IGlkOiBzdHJpbmcgfTtcbiAgXCJ0dXRvcmlhbDpza2lwcGVkXCI6IHsgaWQ6IHN0cmluZzsgYXRTdGVwOiBudW1iZXIgfTtcbiAgXCJib3Q6c3Bhd25SZXF1ZXN0ZWRcIjogdm9pZDtcbiAgXCJkaWFsb2d1ZTpvcGVuZWRcIjogeyBub2RlSWQ6IHN0cmluZzsgY2hhcHRlcklkOiBzdHJpbmcgfTtcbiAgXCJkaWFsb2d1ZTpjbG9zZWRcIjogeyBub2RlSWQ6IHN0cmluZzsgY2hhcHRlcklkOiBzdHJpbmcgfTtcbiAgXCJkaWFsb2d1ZTpjaG9pY2VcIjogeyBub2RlSWQ6IHN0cmluZzsgY2hvaWNlSWQ6IHN0cmluZzsgY2hhcHRlcklkOiBzdHJpbmcgfTtcbiAgXCJzdG9yeTpmbGFnVXBkYXRlZFwiOiB7IGZsYWc6IHN0cmluZzsgdmFsdWU6IGJvb2xlYW4gfTtcbiAgXCJzdG9yeTpwcm9ncmVzc2VkXCI6IHsgY2hhcHRlcklkOiBzdHJpbmc7IG5vZGVJZDogc3RyaW5nIH07XG4gIFwic3Rvcnk6bm9kZUFjdGl2YXRlZFwiOiB7IG5vZGVJZDogc3RyaW5nOyBkaWFsb2d1ZT86IERpYWxvZ3VlQ29udGVudCB9O1xuICBcIm1pc3Npb246dXBkYXRlXCI6XG4gICAgfCB7IHJlYXNvbjogXCJzbmFwc2hvdFwiIHwgXCJkZWx0YVwiIH1cbiAgICB8IHtcbiAgICAgICAgbWlzc2lvbklkOiBzdHJpbmc7XG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xuICAgICAgICBvYmplY3RpdmVzOiBNaXNzaW9uT2JqZWN0aXZlU3RhdGVbXTtcbiAgICAgICAgc2VydmVyVGltZTogbnVtYmVyO1xuICAgICAgfTtcbiAgXCJtaXNzaW9uOm9mZmVyZWRcIjoge1xuICAgIG1pc3Npb25JZDogc3RyaW5nO1xuICAgIHRlbXBsYXRlSWQ6IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICAgIGFyY2hldHlwZTogc3RyaW5nO1xuICAgIG9iamVjdGl2ZXM6IHN0cmluZ1tdO1xuICAgIHRpbWVvdXQ6IG51bWJlcjtcbiAgfTtcbiAgXCJtaXNzaW9uOnN0YXJ0XCI6IHsgbWlzc2lvbklkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaW9uOm9iamVjdGl2ZXMtdXBkYXRlZFwiOiB7IG9iamVjdGl2ZXM6IE1pc3Npb25PYmplY3RpdmVTdGF0ZVtdIH07XG4gIFwibWlzc2lvbjpwcm9ncmVzcy1jaGFuZ2VkXCI6IHsgcHJvZ3Jlc3M6IG51bWJlcjsgb2JqZWN0aXZlczogTWlzc2lvbk9iamVjdGl2ZVN0YXRlW10gfTtcbiAgXCJtaXNzaW9uOmJlYWNvbi1sb2NrZWRcIjogeyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lvbjpjb21wbGV0ZWRcIjogeyBtaXNzaW9uSWQ6IHN0cmluZyB9O1xuICBcIm1pc3Npb246ZmFpbGVkXCI6IHsgbWlzc2lvbklkOiBzdHJpbmc7IHJlYXNvbj86IHN0cmluZyB9O1xuICBcImJlYWNvbjpkaXNjb3ZlcmVkXCI6IHsgaWQ6IHN0cmluZzsgb3JkaW5hbDogbnVtYmVyIH07XG4gIFwiYmVhY29uOmFjdGl2YXRlZFwiOiB7IGlkOiBzdHJpbmc7IG9yZGluYWw6IG51bWJlciB9O1xuICBcImF1ZGlvOnJlc3VtZVwiOiB2b2lkO1xuICBcImF1ZGlvOm11dGVcIjogdm9pZDtcbiAgXCJhdWRpbzp1bm11dGVcIjogdm9pZDtcbiAgXCJhdWRpbzpzZXQtbWFzdGVyLWdhaW5cIjogeyBnYWluOiBudW1iZXIgfTtcbiAgXCJhdWRpbzpzZnhcIjogeyBuYW1lOiBcInVpXCIgfCBcImxhc2VyXCIgfCBcInRocnVzdFwiIHwgXCJleHBsb3Npb25cIiB8IFwibG9ja1wiIHwgXCJkaWFsb2d1ZVwiOyB2ZWxvY2l0eT86IG51bWJlcjsgcGFuPzogbnVtYmVyIH07XG4gIFwiYXVkaW86bXVzaWM6c2V0LXNjZW5lXCI6IHsgc2NlbmU6IFwiYW1iaWVudFwiIHwgXCJjb21iYXRcIiB8IFwibG9iYnlcIjsgc2VlZD86IG51bWJlciB9O1xuICBcImF1ZGlvOm11c2ljOnBhcmFtXCI6IHsga2V5OiBzdHJpbmc7IHZhbHVlOiBudW1iZXIgfTtcbiAgXCJhdWRpbzptdXNpYzp0cmFuc3BvcnRcIjogeyBjbWQ6IFwic3RhcnRcIiB8IFwic3RvcFwiIHwgXCJwYXVzZVwiIH07XG4gIFwidXBncmFkZXM6dG9nZ2xlXCI6IHZvaWQ7XG4gIFwidXBncmFkZXM6c2hvd1wiOiB2b2lkO1xuICBcInVwZ3JhZGVzOmhpZGVcIjogdm9pZDtcbiAgXCJ1cGdyYWRlczpjb3VudFVwZGF0ZWRcIjogeyBjb3VudDogbnVtYmVyIH07XG59XG5cbmV4cG9ydCB0eXBlIEV2ZW50S2V5ID0ga2V5b2YgRXZlbnRNYXA7XG5leHBvcnQgdHlwZSBFdmVudFBheWxvYWQ8SyBleHRlbmRzIEV2ZW50S2V5PiA9IEV2ZW50TWFwW0tdO1xuZXhwb3J0IHR5cGUgSGFuZGxlcjxLIGV4dGVuZHMgRXZlbnRLZXk+ID0gKHBheWxvYWQ6IEV2ZW50UGF5bG9hZDxLPikgPT4gdm9pZDtcblxudHlwZSBWb2lkS2V5cyA9IHtcbiAgW0sgaW4gRXZlbnRLZXldOiBFdmVudE1hcFtLXSBleHRlbmRzIHZvaWQgPyBLIDogbmV2ZXJcbn1bRXZlbnRLZXldO1xuXG50eXBlIE5vblZvaWRLZXlzID0gRXhjbHVkZTxFdmVudEtleSwgVm9pZEtleXM+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50QnVzIHtcbiAgb248SyBleHRlbmRzIEV2ZW50S2V5PihldmVudDogSywgaGFuZGxlcjogSGFuZGxlcjxLPik6ICgpID0+IHZvaWQ7XG4gIGVtaXQ8SyBleHRlbmRzIE5vblZvaWRLZXlzPihldmVudDogSywgcGF5bG9hZDogRXZlbnRQYXlsb2FkPEs+KTogdm9pZDtcbiAgZW1pdDxLIGV4dGVuZHMgVm9pZEtleXM+KGV2ZW50OiBLKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50QnVzKCk6IEV2ZW50QnVzIHtcbiAgY29uc3QgaGFuZGxlcnMgPSBuZXcgTWFwPEV2ZW50S2V5LCBTZXQ8RnVuY3Rpb24+PigpO1xuICByZXR1cm4ge1xuICAgIG9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICBsZXQgc2V0ID0gaGFuZGxlcnMuZ2V0KGV2ZW50KTtcbiAgICAgIGlmICghc2V0KSB7XG4gICAgICAgIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgaGFuZGxlcnMuc2V0KGV2ZW50LCBzZXQpO1xuICAgICAgfVxuICAgICAgc2V0LmFkZChoYW5kbGVyKTtcbiAgICAgIHJldHVybiAoKSA9PiBzZXQhLmRlbGV0ZShoYW5kbGVyKTtcbiAgICB9LFxuICAgIGVtaXQoZXZlbnQ6IEV2ZW50S2V5LCBwYXlsb2FkPzogdW5rbm93bikge1xuICAgICAgY29uc3Qgc2V0ID0gaGFuZGxlcnMuZ2V0KGV2ZW50KTtcbiAgICAgIGlmICghc2V0IHx8IHNldC5zaXplID09PSAwKSByZXR1cm47XG4gICAgICBmb3IgKGNvbnN0IGZuIG9mIHNldCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIChmbiBhcyAodmFsdWU/OiB1bmtub3duKSA9PiB2b2lkKShwYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgW2J1c10gaGFuZGxlciBmb3IgJHtldmVudH0gZmFpbGVkYCwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBTaGlwQ29udGV4dCwgU2hpcFRvb2wsIE1pc3NpbGVUb29sIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IERpYWxvZ3VlQ29udGVudCB9IGZyb20gXCIuL3N0b3J5L3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBNSVNTSUxFX01JTl9TUEVFRCA9IDQwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTUFYX1NQRUVEID0gMjUwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTUlOX0FHUk8gPSAxMDA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9NQVhfTElGRVRJTUUgPSAxMjA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9NSU5fTElGRVRJTUUgPSAyMDtcbmV4cG9ydCBjb25zdCBNSVNTSUxFX0xJRkVUSU1FX1NQRUVEX1BFTkFMVFkgPSA4MDtcbmV4cG9ydCBjb25zdCBNSVNTSUxFX0xJRkVUSU1FX0FHUk9fUEVOQUxUWSA9IDQwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTElGRVRJTUVfQUdST19SRUYgPSAyMDAwO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVMaW1pdHMge1xuICBzcGVlZE1pbjogbnVtYmVyO1xuICBzcGVlZE1heDogbnVtYmVyO1xuICBhZ3JvTWluOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2F5cG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgc3BlZWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZWF0VmlldyB7XG4gIHZhbHVlOiBudW1iZXI7XG4gIG1heDogbnVtYmVyO1xuICB3YXJuQXQ6IG51bWJlcjtcbiAgb3ZlcmhlYXRBdDogbnVtYmVyO1xuICBtYXJrZXJTcGVlZDogbnVtYmVyO1xuICBzdGFsbFVudGlsTXM6IG51bWJlcjsgLy8gY2xpZW50LXN5bmNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICBrVXA6IG51bWJlcjtcbiAga0Rvd246IG51bWJlcjtcbiAgZXhwOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hpcFNuYXBzaG90IHtcbiAgaWQ/OiBzdHJpbmc7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB2eDogbnVtYmVyO1xuICB2eTogbnVtYmVyO1xuICBocD86IG51bWJlcjtcbiAga2lsbHM/OiBudW1iZXI7XG4gIHdheXBvaW50czogV2F5cG9pbnRbXTtcbiAgY3VycmVudFdheXBvaW50SW5kZXg/OiBudW1iZXI7XG4gIGhlYXQ/OiBIZWF0Vmlldztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHaG9zdFNuYXBzaG90IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVNuYXBzaG90IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG4gIHNlbGY/OiBib29sZWFuO1xuICBhZ3JvX3JhZGl1czogbnVtYmVyO1xuICBoZWF0PzogSGVhdFZpZXc7IC8vIE1pc3NpbGUgaGVhdCBkYXRhXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVJvdXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB3YXlwb2ludHM6IFdheXBvaW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhdFBhcmFtcyB7XG4gIG1heDogbnVtYmVyO1xuICB3YXJuQXQ6IG51bWJlcjtcbiAgb3ZlcmhlYXRBdDogbnVtYmVyO1xuICBtYXJrZXJTcGVlZDogbnVtYmVyO1xuICBrVXA6IG51bWJlcjtcbiAga0Rvd246IG51bWJlcjtcbiAgZXhwOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZUNvbmZpZyB7XG4gIHNwZWVkOiBudW1iZXI7XG4gIGFncm9SYWRpdXM6IG51bWJlcjtcbiAgbGlmZXRpbWU6IG51bWJlcjtcbiAgaGVhdFBhcmFtcz86IEhlYXRQYXJhbXM7IC8vIE9wdGlvbmFsIGN1c3RvbSBoZWF0IGNvbmZpZ3VyYXRpb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaWxlUHJlc2V0IHtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBzcGVlZDogbnVtYmVyO1xuICBhZ3JvUmFkaXVzOiBudW1iZXI7XG4gIGhlYXRQYXJhbXM6IEhlYXRQYXJhbXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52ZW50b3J5SXRlbSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdmFyaWFudF9pZDogc3RyaW5nO1xuICBoZWF0X2NhcGFjaXR5OiBudW1iZXI7XG4gIHF1YW50aXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52ZW50b3J5IHtcbiAgaXRlbXM6IEludmVudG9yeUl0ZW1bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGdyYWRlRWZmZWN0RGF0YSB7XG4gIHR5cGU6IHN0cmluZzsgLy8gJ3NwZWVkX211bHRpcGxpZXInLCAnbWlzc2lsZV91bmxvY2snLCBldGMuXG4gIHZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFnTm9kZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGtpbmQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7IC8vIFwibG9ja2VkXCIgfCBcImF2YWlsYWJsZVwiIHwgXCJpbl9wcm9ncmVzc1wiIHwgXCJjb21wbGV0ZWRcIlxuICByZW1haW5pbmdfczogbnVtYmVyO1xuICBkdXJhdGlvbl9zOiBudW1iZXI7XG4gIHJlcGVhdGFibGU6IGJvb2xlYW47XG4gIGVmZmVjdHM/OiBVcGdyYWRlRWZmZWN0RGF0YVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhZ1N0YXRlIHtcbiAgbm9kZXM6IERhZ05vZGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJDYXBhYmlsaXRpZXMge1xuICBzcGVlZE11bHRpcGxpZXI6IG51bWJlcjtcbiAgdW5sb2NrZWRNaXNzaWxlczogc3RyaW5nW107XG4gIGhlYXRDYXBhY2l0eTogbnVtYmVyO1xuICBoZWF0RWZmaWNpZW5jeTogbnVtYmVyO1xufVxuXG4vLyBNaXNzaWxlIHByZXNldCBkZWZpbml0aW9ucyBtYXRjaGluZyBiYWNrZW5kXG5leHBvcnQgY29uc3QgTUlTU0lMRV9QUkVTRVRTOiBNaXNzaWxlUHJlc2V0W10gPSBbXG4gIHtcbiAgICBuYW1lOiBcIlNjb3V0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2xvdywgZWZmaWNpZW50LCBsb25nLXJhbmdlLiBIaWdoIGhlYXQgY2FwYWNpdHkuXCIsXG4gICAgc3BlZWQ6IDgwLFxuICAgIGFncm9SYWRpdXM6IDE1MDAsXG4gICAgaGVhdFBhcmFtczoge1xuICAgICAgbWF4OiA2MCxcbiAgICAgIHdhcm5BdDogNDIsXG4gICAgICBvdmVyaGVhdEF0OiA2MCxcbiAgICAgIG1hcmtlclNwZWVkOiA3MCxcbiAgICAgIGtVcDogMjAsXG4gICAgICBrRG93bjogMTUsXG4gICAgICBleHA6IDEuNSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJIdW50ZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJCYWxhbmNlZCBzcGVlZCBhbmQgZGV0ZWN0aW9uLiBTdGFuZGFyZCBoZWF0LlwiLFxuICAgIHNwZWVkOiAxNTAsXG4gICAgYWdyb1JhZGl1czogODAwLFxuICAgIGhlYXRQYXJhbXM6IHtcbiAgICAgIG1heDogNTAsXG4gICAgICB3YXJuQXQ6IDM1LFxuICAgICAgb3ZlcmhlYXRBdDogNTAsXG4gICAgICBtYXJrZXJTcGVlZDogMTIwLFxuICAgICAga1VwOiAyOCxcbiAgICAgIGtEb3duOiAxMixcbiAgICAgIGV4cDogMS41LFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlNuaXBlclwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkZhc3QsIG5hcnJvdyBkZXRlY3Rpb24uIExvdyBoZWF0IGNhcGFjaXR5LlwiLFxuICAgIHNwZWVkOiAyMjAsXG4gICAgYWdyb1JhZGl1czogMzAwLFxuICAgIGhlYXRQYXJhbXM6IHtcbiAgICAgIG1heDogNDAsXG4gICAgICB3YXJuQXQ6IDI4LFxuICAgICAgb3ZlcmhlYXRBdDogNDAsXG4gICAgICBtYXJrZXJTcGVlZDogMTgwLFxuICAgICAga1VwOiAzNSxcbiAgICAgIGtEb3duOiA4LFxuICAgICAgZXhwOiAxLjUsXG4gICAgfSxcbiAgfSxcbl07XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ybGRNZXRhIHtcbiAgYz86IG51bWJlcjtcbiAgdz86IG51bWJlcjtcbiAgaD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCZWFjb25EZWZpbml0aW9uIHtcbiAgY3g6IG51bWJlcjtcbiAgY3k6IG51bWJlcjtcbiAgcmFkaXVzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lvbkJlYWNvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIG9yZGluYWw6IG51bWJlcjtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHJhZGl1czogbnVtYmVyO1xuICBzZWVkOiBudW1iZXI7XG4gIGRpc2NvdmVyZWQ6IGJvb2xlYW47XG4gIGNvbXBsZXRlZDogYm9vbGVhbjtcbiAgY29vbGRvd25VbnRpbDogbnVtYmVyIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uRW5jb3VudGVyU3RhdGUge1xuICBpZDogc3RyaW5nO1xuICBiZWFjb25JZDogc3RyaW5nO1xuICB3YXZlSW5kZXg6IG51bWJlcjtcbiAgc3Bhd25lZEF0OiBudW1iZXI7XG4gIGV4cGlyZXNBdDogbnVtYmVyO1xuICBhY3RpdmU6IGJvb2xlYW47XG4gIHJlYXNvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uUGxheWVyU3RhdGUge1xuICBwbGF5ZXJJZDogc3RyaW5nO1xuICBjdXJyZW50SW5kZXg6IG51bWJlcjtcbiAgYWN0aXZlQmVhY29uSWQ6IHN0cmluZyB8IG51bGw7XG4gIGhvbGRBY2N1bTogbnVtYmVyO1xuICBob2xkUmVxdWlyZWQ6IG51bWJlcjtcbiAgZGlzcGxheUhvbGQ6IG51bWJlcjtcbiAgbGFzdFNlcnZlclVwZGF0ZTogbnVtYmVyO1xuICBsYXN0RGlzcGxheVN5bmM6IG51bWJlcjtcbiAgaW5zaWRlQWN0aXZlQmVhY29uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3Npb25PYmplY3RpdmVTdGF0ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgY29tcGxldGU6IGJvb2xlYW47XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIE1pc3Npb25TdGF0dXMgPSBcImlkbGVcIiB8IFwiYWN0aXZlXCIgfCBcImNvbXBsZXRlZFwiIHwgXCJmYWlsZWRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uU3RhdGUge1xuICBtaXNzaW9uSWQ6IHN0cmluZztcbiAgdGVtcGxhdGVJZDogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICBhcmNoZXR5cGU6IHN0cmluZztcbiAgbGF5b3V0U2VlZDogbnVtYmVyO1xuICBzZXJ2ZXJUaW1lOiBudW1iZXI7XG4gIHN0YXR1czogTWlzc2lvblN0YXR1cztcbiAgdGltZW91dDogbnVtYmVyO1xuICBzdGFydFRpbWU6IG51bWJlciB8IG51bGw7XG4gIGNvbXBsZXRpb25UaW1lOiBudW1iZXIgfCBudWxsO1xuICBwcm9ncmVzczogbnVtYmVyO1xuICBiZWFjb25zOiBNaXNzaW9uQmVhY29uW107XG4gIHBsYXllcjogTWlzc2lvblBsYXllclN0YXRlIHwgbnVsbDtcbiAgZW5jb3VudGVyczogTWlzc2lvbkVuY291bnRlclN0YXRlW107XG4gIG9iamVjdGl2ZXM6IE1pc3Npb25PYmplY3RpdmVTdGF0ZVtdO1xuICBvYmplY3RpdmVTdW1tYXJpZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRNaXNzaW9uU3RhdGUobWlzc2lvbjogTWlzc2lvblN0YXRlKTogdm9pZCB7XG4gIG1pc3Npb24ubWlzc2lvbklkID0gXCJcIjtcbiAgbWlzc2lvbi50ZW1wbGF0ZUlkID0gXCJcIjtcbiAgbWlzc2lvbi5kaXNwbGF5TmFtZSA9IFwiXCI7XG4gIG1pc3Npb24uYXJjaGV0eXBlID0gXCJcIjtcbiAgbWlzc2lvbi5zdGF0dXMgPSBcImlkbGVcIjtcbiAgbWlzc2lvbi50aW1lb3V0ID0gMDtcbiAgbWlzc2lvbi5zdGFydFRpbWUgPSBudWxsO1xuICBtaXNzaW9uLmNvbXBsZXRpb25UaW1lID0gbnVsbDtcbiAgbWlzc2lvbi5wcm9ncmVzcyA9IDA7XG4gIG1pc3Npb24ub2JqZWN0aXZlcyA9IFtdO1xuICBtaXNzaW9uLm9iamVjdGl2ZVN1bW1hcmllcyA9IFtdO1xuICBtaXNzaW9uLnBsYXllciA9IG51bGw7XG4gIG1pc3Npb24uYmVhY29ucyA9IFtdO1xuICBtaXNzaW9uLmVuY291bnRlcnMgPSBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wUHJvZ3Jlc3ModmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmICh2YWx1ZSA8PSAwKSByZXR1cm4gMDtcbiAgaWYgKHZhbHVlID49IDEpIHJldHVybiAxO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlFdmVudCB7XG4gIGNoYXB0ZXI6IHN0cmluZztcbiAgbm9kZTogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeVN0YXRlIHtcbiAgYWN0aXZlTm9kZTogc3RyaW5nIHwgbnVsbDtcbiAgZGlhbG9ndWU6IERpYWxvZ3VlQ29udGVudCB8IG51bGw7XG4gIGF2YWlsYWJsZTogc3RyaW5nW107XG4gIGZsYWdzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbiAgcmVjZW50RXZlbnRzOiBTdG9yeUV2ZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwU3RhdGUge1xuICBub3c6IG51bWJlcjtcbiAgbm93U3luY2VkQXQ6IG51bWJlcjtcbiAgbWU6IFNoaXBTbmFwc2hvdCB8IG51bGw7XG4gIGdob3N0czogR2hvc3RTbmFwc2hvdFtdO1xuICBtaXNzaWxlczogTWlzc2lsZVNuYXBzaG90W107XG4gIG1pc3NpbGVSb3V0ZXM6IE1pc3NpbGVSb3V0ZVtdO1xuICBhY3RpdmVNaXNzaWxlUm91dGVJZDogc3RyaW5nIHwgbnVsbDtcbiAgbmV4dE1pc3NpbGVSZWFkeUF0OiBudW1iZXI7XG4gIG1pc3NpbGVDb25maWc6IE1pc3NpbGVDb25maWc7XG4gIG1pc3NpbGVMaW1pdHM6IE1pc3NpbGVMaW1pdHM7XG4gIHdvcmxkTWV0YTogV29ybGRNZXRhO1xuICBpbnZlbnRvcnk6IEludmVudG9yeSB8IG51bGw7XG4gIGRhZzogRGFnU3RhdGUgfCBudWxsO1xuICBtaXNzaW9uOiBNaXNzaW9uU3RhdGUgfCBudWxsO1xuICBzdG9yeTogU3RvcnlTdGF0ZSB8IG51bGw7XG4gIGNyYWZ0SGVhdENhcGFjaXR5OiBudW1iZXI7IC8vIEhlYXQgY2FwYWNpdHkgc2xpZGVyIHZhbHVlIGZvciBjcmFmdGluZ1xuICBjYXBhYmlsaXRpZXM6IFBsYXllckNhcGFiaWxpdGllcyB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0aW9uIHtcbiAgdHlwZTogXCJ3YXlwb2ludFwiIHwgXCJsZWdcIjtcbiAgaW5kZXg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaWxlU2VsZWN0aW9uIHtcbiAgdHlwZTogXCJ3YXlwb2ludFwiIHwgXCJsZWdcIjtcbiAgaW5kZXg6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQWN0aXZlVG9vbCA9XG4gIHwgXCJzaGlwLXNldFwiXG4gIHwgXCJzaGlwLXNlbGVjdFwiXG4gIHwgXCJtaXNzaWxlLXNldFwiXG4gIHwgXCJtaXNzaWxlLXNlbGVjdFwiXG4gIHwgbnVsbDtcblxuZXhwb3J0IGludGVyZmFjZSBVSVN0YXRlIHtcbiAgaW5wdXRDb250ZXh0OiBTaGlwQ29udGV4dDtcbiAgc2hpcFRvb2w6IFNoaXBUb29sO1xuICBtaXNzaWxlVG9vbDogTWlzc2lsZVRvb2w7XG4gIGFjdGl2ZVRvb2w6IEFjdGl2ZVRvb2w7XG4gIHNob3dTaGlwUm91dGU6IGJvb2xlYW47XG4gIGhlbHBWaXNpYmxlOiBib29sZWFuO1xuICB6b29tOiBudW1iZXI7XG4gIHBhblg6IG51bWJlcjtcbiAgcGFuWTogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFVJU3RhdGUoKTogVUlTdGF0ZSB7XG4gIHJldHVybiB7XG4gICAgaW5wdXRDb250ZXh0OiBcInNoaXBcIixcbiAgICBzaGlwVG9vbDogXCJzZXRcIixcbiAgICBtaXNzaWxlVG9vbDogbnVsbCxcbiAgICBhY3RpdmVUb29sOiBcInNoaXAtc2V0XCIsXG4gICAgc2hvd1NoaXBSb3V0ZTogdHJ1ZSxcbiAgICBoZWxwVmlzaWJsZTogZmFsc2UsXG4gICAgem9vbTogMS4wLFxuICAgIHBhblg6IDAsXG4gICAgcGFuWTogMCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTdGF0ZShsaW1pdHM6IE1pc3NpbGVMaW1pdHMgPSB7XG4gIHNwZWVkTWluOiBNSVNTSUxFX01JTl9TUEVFRCxcbiAgc3BlZWRNYXg6IE1JU1NJTEVfTUFYX1NQRUVELFxuICBhZ3JvTWluOiBNSVNTSUxFX01JTl9BR1JPLFxufSk6IEFwcFN0YXRlIHtcbiAgcmV0dXJuIHtcbiAgICBub3c6IDAsXG4gICAgbm93U3luY2VkQXQ6IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIDogRGF0ZS5ub3coKSxcbiAgICBtZTogbnVsbCxcbiAgICBnaG9zdHM6IFtdLFxuICAgIG1pc3NpbGVzOiBbXSxcbiAgICBtaXNzaWxlUm91dGVzOiBbXSxcbiAgICBhY3RpdmVNaXNzaWxlUm91dGVJZDogbnVsbCxcbiAgICBuZXh0TWlzc2lsZVJlYWR5QXQ6IDAsXG4gICAgbWlzc2lsZUNvbmZpZzoge1xuICAgICAgc3BlZWQ6IDE4MCxcbiAgICAgIGFncm9SYWRpdXM6IDgwMCxcbiAgICAgIGxpZmV0aW1lOiBtaXNzaWxlTGlmZXRpbWVGb3IoMTgwLCA4MDAsIGxpbWl0cyksXG4gICAgICBoZWF0UGFyYW1zOiBNSVNTSUxFX1BSRVNFVFNbMV0uaGVhdFBhcmFtcywgLy8gRGVmYXVsdCB0byBIdW50ZXIgcHJlc2V0XG4gICAgfSxcbiAgICBtaXNzaWxlTGltaXRzOiBsaW1pdHMsXG4gICAgd29ybGRNZXRhOiB7fSxcbiAgICBpbnZlbnRvcnk6IG51bGwsXG4gICAgZGFnOiBudWxsLFxuICAgIG1pc3Npb246IG51bGwsXG4gICAgc3Rvcnk6IG51bGwsXG4gICAgY3JhZnRIZWF0Q2FwYWNpdHk6IDgwLCAvLyBEZWZhdWx0IHRvIGJhc2ljIG1pc3NpbGUgaGVhdCBjYXBhY2l0eVxuICAgIGNhcGFiaWxpdGllczogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pc3NpbGVMaWZldGltZUZvcihzcGVlZDogbnVtYmVyLCBhZ3JvUmFkaXVzOiBudW1iZXIsIGxpbWl0czogTWlzc2lsZUxpbWl0cyA9IHtcbiAgc3BlZWRNaW46IE1JU1NJTEVfTUlOX1NQRUVELFxuICBzcGVlZE1heDogTUlTU0lMRV9NQVhfU1BFRUQsXG4gIGFncm9NaW46IE1JU1NJTEVfTUlOX0FHUk8sXG59KTogbnVtYmVyIHtcbiAgY29uc3QgbWluU3BlZWQgPSBOdW1iZXIuaXNGaW5pdGUobGltaXRzLnNwZWVkTWluKSA/IGxpbWl0cy5zcGVlZE1pbiA6IE1JU1NJTEVfTUlOX1NQRUVEO1xuICBjb25zdCBtYXhTcGVlZCA9IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuc3BlZWRNYXgpID8gbGltaXRzLnNwZWVkTWF4IDogTUlTU0lMRV9NQVhfU1BFRUQ7XG4gIGNvbnN0IG1pbkFncm8gPSBOdW1iZXIuaXNGaW5pdGUobGltaXRzLmFncm9NaW4pID8gbGltaXRzLmFncm9NaW4gOiBNSVNTSUxFX01JTl9BR1JPO1xuICBjb25zdCBzcGFuID0gbWF4U3BlZWQgLSBtaW5TcGVlZDtcbiAgY29uc3Qgc3BlZWROb3JtID0gc3BhbiA+IDAgPyBjbGFtcCgoc3BlZWQgLSBtaW5TcGVlZCkgLyBzcGFuLCAwLCAxKSA6IDA7XG4gIGNvbnN0IGFkanVzdGVkQWdybyA9IE1hdGgubWF4KDAsIGFncm9SYWRpdXMgLSBtaW5BZ3JvKTtcbiAgY29uc3QgYWdyb05vcm0gPSBjbGFtcChhZGp1c3RlZEFncm8gLyBNSVNTSUxFX0xJRkVUSU1FX0FHUk9fUkVGLCAwLCAxKTtcbiAgY29uc3QgcmVkdWN0aW9uID0gc3BlZWROb3JtICogTUlTU0lMRV9MSUZFVElNRV9TUEVFRF9QRU5BTFRZICsgYWdyb05vcm0gKiBNSVNTSUxFX0xJRkVUSU1FX0FHUk9fUEVOQUxUWTtcbiAgY29uc3QgYmFzZSA9IE1JU1NJTEVfTUFYX0xJRkVUSU1FO1xuICByZXR1cm4gY2xhbXAoYmFzZSAtIHJlZHVjdGlvbiwgTUlTU0lMRV9NSU5fTElGRVRJTUUsIE1JU1NJTEVfTUFYX0xJRkVUSU1FKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplTWlzc2lsZUNvbmZpZyhcbiAgY2ZnOiBQYXJ0aWFsPFBpY2s8TWlzc2lsZUNvbmZpZywgXCJzcGVlZFwiIHwgXCJhZ3JvUmFkaXVzXCIgfCBcImhlYXRQYXJhbXNcIj4+LFxuICBmYWxsYmFjazogTWlzc2lsZUNvbmZpZyxcbiAgbGltaXRzOiBNaXNzaWxlTGltaXRzLFxuKTogTWlzc2lsZUNvbmZpZyB7XG4gIGNvbnN0IG1pblNwZWVkID0gTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5zcGVlZE1pbikgPyBsaW1pdHMuc3BlZWRNaW4gOiBNSVNTSUxFX01JTl9TUEVFRDtcbiAgY29uc3QgbWF4U3BlZWQgPSBOdW1iZXIuaXNGaW5pdGUobGltaXRzLnNwZWVkTWF4KSA/IGxpbWl0cy5zcGVlZE1heCA6IE1JU1NJTEVfTUFYX1NQRUVEO1xuICBjb25zdCBtaW5BZ3JvID0gTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5hZ3JvTWluKSA/IGxpbWl0cy5hZ3JvTWluIDogTUlTU0lMRV9NSU5fQUdSTztcbiAgY29uc3QgYmFzZSA9IGZhbGxiYWNrID8/IHtcbiAgICBzcGVlZDogbWluU3BlZWQsXG4gICAgYWdyb1JhZGl1czogbWluQWdybyxcbiAgICBsaWZldGltZTogbWlzc2lsZUxpZmV0aW1lRm9yKG1pblNwZWVkLCBtaW5BZ3JvLCBsaW1pdHMpLFxuICB9O1xuICBjb25zdCBtZXJnZWRTcGVlZCA9IE51bWJlci5pc0Zpbml0ZShjZmcuc3BlZWQgPz8gYmFzZS5zcGVlZCkgPyAoY2ZnLnNwZWVkID8/IGJhc2Uuc3BlZWQpIDogYmFzZS5zcGVlZDtcbiAgY29uc3QgbWVyZ2VkQWdybyA9IE51bWJlci5pc0Zpbml0ZShjZmcuYWdyb1JhZGl1cyA/PyBiYXNlLmFncm9SYWRpdXMpID8gKGNmZy5hZ3JvUmFkaXVzID8/IGJhc2UuYWdyb1JhZGl1cykgOiBiYXNlLmFncm9SYWRpdXM7XG4gIGNvbnN0IHNwZWVkID0gY2xhbXAobWVyZ2VkU3BlZWQsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gIGNvbnN0IGFncm9SYWRpdXMgPSBNYXRoLm1heChtaW5BZ3JvLCBtZXJnZWRBZ3JvKTtcbiAgY29uc3QgaGVhdFBhcmFtcyA9IGNmZy5oZWF0UGFyYW1zID8geyAuLi5jZmcuaGVhdFBhcmFtcyB9IDogYmFzZS5oZWF0UGFyYW1zID8geyAuLi5iYXNlLmhlYXRQYXJhbXMgfSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIHtcbiAgICBzcGVlZCxcbiAgICBhZ3JvUmFkaXVzLFxuICAgIGxpZmV0aW1lOiBtaXNzaWxlTGlmZXRpbWVGb3Ioc3BlZWQsIGFncm9SYWRpdXMsIGxpbWl0cyksXG4gICAgaGVhdFBhcmFtcyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vbm90b25pY05vdygpOiBudW1iZXIge1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuICByZXR1cm4gRGF0ZS5ub3coKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lV2F5cG9pbnRMaXN0KGxpc3Q6IFdheXBvaW50W10gfCB1bmRlZmluZWQgfCBudWxsKTogV2F5cG9pbnRbXSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkgcmV0dXJuIFtdO1xuICByZXR1cm4gbGlzdC5tYXAoKHdwKSA9PiAoeyAuLi53cCB9KSk7XG59XG5cbi8vIFByb2plY3QgaGVhdCBhbG9uZyBhIG1pc3NpbGUgcm91dGVcbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVJvdXRlUHJvamVjdGlvbiB7XG4gIHdheXBvaW50czogV2F5cG9pbnRbXTtcbiAgaGVhdEF0V2F5cG9pbnRzOiBudW1iZXJbXTtcbiAgd2lsbE92ZXJoZWF0OiBib29sZWFuO1xuICBvdmVyaGVhdEF0PzogbnVtYmVyOyAvLyBJbmRleCB3aGVyZSBvdmVyaGVhdCBvY2N1cnNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RNaXNzaWxlSGVhdChcbiAgcm91dGU6IFdheXBvaW50W10sXG4gIGRlZmF1bHRTcGVlZDogbnVtYmVyLFxuICBoZWF0UGFyYW1zOiBIZWF0UGFyYW1zXG4pOiBNaXNzaWxlUm91dGVQcm9qZWN0aW9uIHtcbiAgY29uc3QgcHJvamVjdGlvbjogTWlzc2lsZVJvdXRlUHJvamVjdGlvbiA9IHtcbiAgICB3YXlwb2ludHM6IHJvdXRlLFxuICAgIGhlYXRBdFdheXBvaW50czogW10sXG4gICAgd2lsbE92ZXJoZWF0OiBmYWxzZSxcbiAgfTtcblxuICBpZiAocm91dGUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHByb2plY3Rpb247XG4gIH1cblxuICBsZXQgaGVhdCA9IDA7IC8vIE1pc3NpbGVzIHN0YXJ0IGF0IHplcm8gaGVhdFxuICBsZXQgcG9zID0geyB4OiByb3V0ZVswXS54LCB5OiByb3V0ZVswXS55IH07XG4gIGxldCBjdXJyZW50U3BlZWQgPSByb3V0ZVswXS5zcGVlZCA+IDAgPyByb3V0ZVswXS5zcGVlZCA6IGRlZmF1bHRTcGVlZDtcblxuICBwcm9qZWN0aW9uLmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcm91dGUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0YXJnZXRQb3MgPSByb3V0ZVtpXTtcbiAgICBjb25zdCB0YXJnZXRTcGVlZCA9IHRhcmdldFBvcy5zcGVlZCA+IDAgPyB0YXJnZXRQb3Muc3BlZWQgOiBkZWZhdWx0U3BlZWQ7XG5cbiAgICAvLyBDYWxjdWxhdGUgZGlzdGFuY2UgYW5kIHRpbWVcbiAgICBjb25zdCBkeCA9IHRhcmdldFBvcy54IC0gcG9zLng7XG4gICAgY29uc3QgZHkgPSB0YXJnZXRQb3MueSAtIHBvcy55O1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgIGlmIChkaXN0YW5jZSA8IDAuMDAxKSB7XG4gICAgICBwcm9qZWN0aW9uLmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gQXZlcmFnZSBzcGVlZCBkdXJpbmcgc2VnbWVudFxuICAgIGNvbnN0IGF2Z1NwZWVkID0gKGN1cnJlbnRTcGVlZCArIHRhcmdldFNwZWVkKSAqIDAuNTtcbiAgICBjb25zdCBzZWdtZW50VGltZSA9IGRpc3RhbmNlIC8gTWF0aC5tYXgoYXZnU3BlZWQsIDEpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGhlYXQgcmF0ZSAobWF0Y2ggc2VydmVyIGZvcm11bGEpXG4gICAgY29uc3QgVm4gPSBNYXRoLm1heChoZWF0UGFyYW1zLm1hcmtlclNwZWVkLCAwLjAwMDAwMSk7XG4gICAgY29uc3QgZGV2ID0gYXZnU3BlZWQgLSBoZWF0UGFyYW1zLm1hcmtlclNwZWVkO1xuICAgIGNvbnN0IHAgPSBoZWF0UGFyYW1zLmV4cDtcblxuICAgIGxldCBoZG90OiBudW1iZXI7XG4gICAgaWYgKGRldiA+PSAwKSB7XG4gICAgICAvLyBIZWF0aW5nXG4gICAgICBoZG90ID0gaGVhdFBhcmFtcy5rVXAgKiBNYXRoLnBvdyhkZXYgLyBWbiwgcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvb2xpbmdcbiAgICAgIGhkb3QgPSAtaGVhdFBhcmFtcy5rRG93biAqIE1hdGgucG93KE1hdGguYWJzKGRldikgLyBWbiwgcCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGhlYXRcbiAgICBoZWF0ICs9IGhkb3QgKiBzZWdtZW50VGltZTtcbiAgICBoZWF0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oaGVhdCwgaGVhdFBhcmFtcy5tYXgpKTtcblxuICAgIHByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzLnB1c2goaGVhdCk7XG4gICAgcG9zID0geyB4OiB0YXJnZXRQb3MueCwgeTogdGFyZ2V0UG9zLnkgfTtcbiAgICBjdXJyZW50U3BlZWQgPSB0YXJnZXRTcGVlZDtcblxuICAgIC8vIENoZWNrIGZvciBvdmVyaGVhdFxuICAgIGlmIChoZWF0ID49IGhlYXRQYXJhbXMub3ZlcmhlYXRBdCAmJiAhcHJvamVjdGlvbi53aWxsT3ZlcmhlYXQpIHtcbiAgICAgIHByb2plY3Rpb24ud2lsbE92ZXJoZWF0ID0gdHJ1ZTtcbiAgICAgIHByb2plY3Rpb24ub3ZlcmhlYXRBdCA9IGk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHBvc2l0aW9uIGFuZCBzcGVlZFxuICAgIHBvcyA9IHRhcmdldFBvcztcbiAgICBjdXJyZW50U3BlZWQgPSB0YXJnZXRTcGVlZDtcbiAgfVxuXG4gIHJldHVybiBwcm9qZWN0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWlzc2lsZUxpbWl0cyhzdGF0ZTogQXBwU3RhdGUsIGxpbWl0czogUGFydGlhbDxNaXNzaWxlTGltaXRzPik6IHZvaWQge1xuICBzdGF0ZS5taXNzaWxlTGltaXRzID0ge1xuICAgIHNwZWVkTWluOiBOdW1iZXIuaXNGaW5pdGUobGltaXRzLnNwZWVkTWluKSA/IGxpbWl0cy5zcGVlZE1pbiEgOiBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWluLFxuICAgIHNwZWVkTWF4OiBOdW1iZXIuaXNGaW5pdGUobGltaXRzLnNwZWVkTWF4KSA/IGxpbWl0cy5zcGVlZE1heCEgOiBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWF4LFxuICAgIGFncm9NaW46IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuYWdyb01pbikgPyBsaW1pdHMuYWdyb01pbiEgOiBzdGF0ZS5taXNzaWxlTGltaXRzLmFncm9NaW4sXG4gIH07XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmV4cG9ydCB7fTtcbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gYGFyZ2AgaXMgYSBtZXNzYWdlLlxuICogSWYgYGRlc2NgIGlzIHNldCwgZGV0ZXJtaW5lIHdoZXRoZXIgYGFyZ2AgaXMgdGhpcyBzcGVjaWZpYyBtZXNzYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNZXNzYWdlKGFyZywgc2NoZW1hKSB7XG4gICAgY29uc3QgaXNNZXNzYWdlID0gYXJnICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiBhcmcgPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBcIiR0eXBlTmFtZVwiIGluIGFyZyAmJlxuICAgICAgICB0eXBlb2YgYXJnLiR0eXBlTmFtZSA9PSBcInN0cmluZ1wiO1xuICAgIGlmICghaXNNZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hLnR5cGVOYW1lID09PSBhcmcuJHR5cGVOYW1lO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIFNjYWxhciB2YWx1ZSB0eXBlcy4gVGhpcyBpcyBhIHN1YnNldCBvZiBmaWVsZCB0eXBlcyBkZWNsYXJlZCBieSBwcm90b2J1ZlxuICogZW51bSBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZSBUaGUgdHlwZXMgR1JPVVAgYW5kIE1FU1NBR0VcbiAqIGFyZSBvbWl0dGVkLCBidXQgdGhlIG51bWVyaWNhbCB2YWx1ZXMgYXJlIGlkZW50aWNhbC5cbiAqL1xuZXhwb3J0IHZhciBTY2FsYXJUeXBlO1xuKGZ1bmN0aW9uIChTY2FsYXJUeXBlKSB7XG4gICAgLy8gMCBpcyByZXNlcnZlZCBmb3IgZXJyb3JzLlxuICAgIC8vIE9yZGVyIGlzIHdlaXJkIGZvciBoaXN0b3JpY2FsIHJlYXNvbnMuXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRE9VQkxFXCJdID0gMV0gPSBcIkRPVUJMRVwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkZMT0FUXCJdID0gMl0gPSBcIkZMT0FUXCI7XG4gICAgLy8gTm90IFppZ1phZyBlbmNvZGVkLiAgTmVnYXRpdmUgbnVtYmVycyB0YWtlIDEwIGJ5dGVzLiAgVXNlIFRZUEVfU0lOVDY0IGlmXG4gICAgLy8gbmVnYXRpdmUgdmFsdWVzIGFyZSBsaWtlbHkuXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiSU5UNjRcIl0gPSAzXSA9IFwiSU5UNjRcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJVSU5UNjRcIl0gPSA0XSA9IFwiVUlOVDY0XCI7XG4gICAgLy8gTm90IFppZ1phZyBlbmNvZGVkLiAgTmVnYXRpdmUgbnVtYmVycyB0YWtlIDEwIGJ5dGVzLiAgVXNlIFRZUEVfU0lOVDMyIGlmXG4gICAgLy8gbmVnYXRpdmUgdmFsdWVzIGFyZSBsaWtlbHkuXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiSU5UMzJcIl0gPSA1XSA9IFwiSU5UMzJcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJGSVhFRDY0XCJdID0gNl0gPSBcIkZJWEVENjRcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJGSVhFRDMyXCJdID0gN10gPSBcIkZJWEVEMzJcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJCT09MXCJdID0gOF0gPSBcIkJPT0xcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTVFJJTkdcIl0gPSA5XSA9IFwiU1RSSU5HXCI7XG4gICAgLy8gVGFnLWRlbGltaXRlZCBhZ2dyZWdhdGUuXG4gICAgLy8gR3JvdXAgdHlwZSBpcyBkZXByZWNhdGVkIGFuZCBub3Qgc3VwcG9ydGVkIGluIHByb3RvMy4gSG93ZXZlciwgUHJvdG8zXG4gICAgLy8gaW1wbGVtZW50YXRpb25zIHNob3VsZCBzdGlsbCBiZSBhYmxlIHRvIHBhcnNlIHRoZSBncm91cCB3aXJlIGZvcm1hdCBhbmRcbiAgICAvLyB0cmVhdCBncm91cCBmaWVsZHMgYXMgdW5rbm93biBmaWVsZHMuXG4gICAgLy8gVFlQRV9HUk9VUCA9IDEwLFxuICAgIC8vIFRZUEVfTUVTU0FHRSA9IDExLCAgLy8gTGVuZ3RoLWRlbGltaXRlZCBhZ2dyZWdhdGUuXG4gICAgLy8gTmV3IGluIHZlcnNpb24gMi5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJCWVRFU1wiXSA9IDEyXSA9IFwiQllURVNcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJVSU5UMzJcIl0gPSAxM10gPSBcIlVJTlQzMlwiO1xuICAgIC8vIFRZUEVfRU5VTSA9IDE0LFxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNGSVhFRDMyXCJdID0gMTVdID0gXCJTRklYRUQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNGSVhFRDY0XCJdID0gMTZdID0gXCJTRklYRUQ2NFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNJTlQzMlwiXSA9IDE3XSA9IFwiU0lOVDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0lOVDY0XCJdID0gMThdID0gXCJTSU5UNjRcIjtcbn0pKFNjYWxhclR5cGUgfHwgKFNjYWxhclR5cGUgPSB7fSkpO1xuIiwgIi8vIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIFByb3RvY29sIEJ1ZmZlciBjb21waWxlciBpcyBvd25lZCBieSB0aGUgb3duZXJcbi8vIG9mIHRoZSBpbnB1dCBmaWxlIHVzZWQgd2hlbiBnZW5lcmF0aW5nIGl0LiAgVGhpcyBjb2RlIGlzIG5vdFxuLy8gc3RhbmRhbG9uZSBhbmQgcmVxdWlyZXMgYSBzdXBwb3J0IGxpYnJhcnkgdG8gYmUgbGlua2VkIHdpdGggaXQuICBUaGlzXG4vLyBzdXBwb3J0IGxpYnJhcnkgaXMgaXRzZWxmIGNvdmVyZWQgYnkgdGhlIGFib3ZlIGxpY2Vuc2UuXG4vKipcbiAqIFJlYWQgYSA2NCBiaXQgdmFyaW50IGFzIHR3byBKUyBudW1iZXJzLlxuICpcbiAqIFJldHVybnMgdHVwbGU6XG4gKiBbMF06IGxvdyBiaXRzXG4gKiBbMV06IGhpZ2ggYml0c1xuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvYnVmZmVyX2RlY29kZXIuanMjTDE3NVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50NjRyZWFkKCkge1xuICAgIGxldCBsb3dCaXRzID0gMDtcbiAgICBsZXQgaGlnaEJpdHMgPSAwO1xuICAgIGZvciAobGV0IHNoaWZ0ID0gMDsgc2hpZnQgPCAyODsgc2hpZnQgKz0gNykge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgICAgICBsb3dCaXRzIHw9IChiICYgMHg3ZikgPDwgc2hpZnQ7XG4gICAgICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWlkZGxlQnl0ZSA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIC8vIGxhc3QgZm91ciBiaXRzIG9mIHRoZSBmaXJzdCAzMiBiaXQgbnVtYmVyXG4gICAgbG93Qml0cyB8PSAobWlkZGxlQnl0ZSAmIDB4MGYpIDw8IDI4O1xuICAgIC8vIDMgdXBwZXIgYml0cyBhcmUgcGFydCBvZiB0aGUgbmV4dCAzMiBiaXQgbnVtYmVyXG4gICAgaGlnaEJpdHMgPSAobWlkZGxlQnl0ZSAmIDB4NzApID4+IDQ7XG4gICAgaWYgKChtaWRkbGVCeXRlICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICB9XG4gICAgZm9yIChsZXQgc2hpZnQgPSAzOyBzaGlmdCA8PSAzMTsgc2hpZnQgKz0gNykge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgICAgICBoaWdoQml0cyB8PSAoYiAmIDB4N2YpIDw8IHNoaWZ0O1xuICAgICAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICAgICAgcmV0dXJuIFtsb3dCaXRzLCBoaWdoQml0c107XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2YXJpbnRcIik7XG59XG4vKipcbiAqIFdyaXRlIGEgNjQgYml0IHZhcmludCwgZ2l2ZW4gYXMgdHdvIEpTIG51bWJlcnMsIHRvIHRoZSBnaXZlbiBieXRlcyBhcnJheS5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iLzhhNzE5MjdkNzRhNGNlMzRlZmUyZDg3NjlmZGExOThmNTJkMjBkMTIvanMvZXhwZXJpbWVudGFsL3J1bnRpbWUva2VybmVsL3dyaXRlci5qcyNMMzQ0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YXJpbnQ2NHdyaXRlKGxvLCBoaSwgYnl0ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI4OyBpID0gaSArIDcpIHtcbiAgICAgICAgY29uc3Qgc2hpZnQgPSBsbyA+Pj4gaTtcbiAgICAgICAgY29uc3QgaGFzTmV4dCA9ICEoc2hpZnQgPj4+IDcgPT0gMCAmJiBoaSA9PSAwKTtcbiAgICAgICAgY29uc3QgYnl0ZSA9IChoYXNOZXh0ID8gc2hpZnQgfCAweDgwIDogc2hpZnQpICYgMHhmZjtcbiAgICAgICAgYnl0ZXMucHVzaChieXRlKTtcbiAgICAgICAgaWYgKCFoYXNOZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3BsaXRCaXRzID0gKChsbyA+Pj4gMjgpICYgMHgwZikgfCAoKGhpICYgMHgwNykgPDwgNCk7XG4gICAgY29uc3QgaGFzTW9yZUJpdHMgPSAhKGhpID4+IDMgPT0gMCk7XG4gICAgYnl0ZXMucHVzaCgoaGFzTW9yZUJpdHMgPyBzcGxpdEJpdHMgfCAweDgwIDogc3BsaXRCaXRzKSAmIDB4ZmYpO1xuICAgIGlmICghaGFzTW9yZUJpdHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMzsgaSA8IDMxOyBpID0gaSArIDcpIHtcbiAgICAgICAgY29uc3Qgc2hpZnQgPSBoaSA+Pj4gaTtcbiAgICAgICAgY29uc3QgaGFzTmV4dCA9ICEoc2hpZnQgPj4+IDcgPT0gMCk7XG4gICAgICAgIGNvbnN0IGJ5dGUgPSAoaGFzTmV4dCA/IHNoaWZ0IHwgMHg4MCA6IHNoaWZ0KSAmIDB4ZmY7XG4gICAgICAgIGJ5dGVzLnB1c2goYnl0ZSk7XG4gICAgICAgIGlmICghaGFzTmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJ5dGVzLnB1c2goKGhpID4+PiAzMSkgJiAweDAxKTtcbn1cbi8vIGNvbnN0YW50cyBmb3IgYmluYXJ5IG1hdGhcbmNvbnN0IFRXT19QV1JfMzJfREJMID0gMHgxMDAwMDAwMDA7XG4vKipcbiAqIFBhcnNlIGRlY2ltYWwgc3RyaW5nIG9mIDY0IGJpdCBpbnRlZ2VyIHZhbHVlIGFzIHR3byBKUyBudW1iZXJzLlxuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmLWphdmFzY3JpcHQvYmxvYi9hNDI4YzU4MjczYWJhZDA3YzY2MDcxZDk3NTNiYzRkMTI4OWRlNDI2L2V4cGVyaW1lbnRhbC9ydW50aW1lL2ludDY0LmpzI0wxMFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50NjRGcm9tU3RyaW5nKGRlYykge1xuICAgIC8vIENoZWNrIGZvciBtaW51cyBzaWduLlxuICAgIGNvbnN0IG1pbnVzID0gZGVjWzBdID09PSBcIi1cIjtcbiAgICBpZiAobWludXMpIHtcbiAgICAgICAgZGVjID0gZGVjLnNsaWNlKDEpO1xuICAgIH1cbiAgICAvLyBXb3JrIDYgZGVjaW1hbCBkaWdpdHMgYXQgYSB0aW1lLCBhY3RpbmcgbGlrZSB3ZSdyZSBjb252ZXJ0aW5nIGJhc2UgMWU2XG4gICAgLy8gZGlnaXRzIHRvIGJpbmFyeS4gVGhpcyBpcyBzYWZlIHRvIGRvIHdpdGggZmxvYXRpbmcgcG9pbnQgbWF0aCBiZWNhdXNlXG4gICAgLy8gTnVtYmVyLmlzU2FmZUludGVnZXIoQUxMXzMyX0JJVFMgKiAxZTYpID09IHRydWUuXG4gICAgY29uc3QgYmFzZSA9IDFlNjtcbiAgICBsZXQgbG93Qml0cyA9IDA7XG4gICAgbGV0IGhpZ2hCaXRzID0gMDtcbiAgICBmdW5jdGlvbiBhZGQxZTZkaWdpdChiZWdpbiwgZW5kKSB7XG4gICAgICAgIC8vIE5vdGU6IE51bWJlcignJykgaXMgMC5cbiAgICAgICAgY29uc3QgZGlnaXQxZTYgPSBOdW1iZXIoZGVjLnNsaWNlKGJlZ2luLCBlbmQpKTtcbiAgICAgICAgaGlnaEJpdHMgKj0gYmFzZTtcbiAgICAgICAgbG93Qml0cyA9IGxvd0JpdHMgKiBiYXNlICsgZGlnaXQxZTY7XG4gICAgICAgIC8vIENhcnJ5IGJpdHMgZnJvbSBsb3dCaXRzIHRvXG4gICAgICAgIGlmIChsb3dCaXRzID49IFRXT19QV1JfMzJfREJMKSB7XG4gICAgICAgICAgICBoaWdoQml0cyA9IGhpZ2hCaXRzICsgKChsb3dCaXRzIC8gVFdPX1BXUl8zMl9EQkwpIHwgMCk7XG4gICAgICAgICAgICBsb3dCaXRzID0gbG93Qml0cyAlIFRXT19QV1JfMzJfREJMO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZDFlNmRpZ2l0KC0yNCwgLTE4KTtcbiAgICBhZGQxZTZkaWdpdCgtMTgsIC0xMik7XG4gICAgYWRkMWU2ZGlnaXQoLTEyLCAtNik7XG4gICAgYWRkMWU2ZGlnaXQoLTYpO1xuICAgIHJldHVybiBtaW51cyA/IG5lZ2F0ZShsb3dCaXRzLCBoaWdoQml0cykgOiBuZXdCaXRzKGxvd0JpdHMsIGhpZ2hCaXRzKTtcbn1cbi8qKlxuICogTG9zc2xlc3NseSBjb252ZXJ0cyBhIDY0LWJpdCBzaWduZWQgaW50ZWdlciBpbiAzMjozMiBzcGxpdCByZXByZXNlbnRhdGlvblxuICogaW50byBhIGRlY2ltYWwgc3RyaW5nLlxuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmLWphdmFzY3JpcHQvYmxvYi9hNDI4YzU4MjczYWJhZDA3YzY2MDcxZDk3NTNiYzRkMTI4OWRlNDI2L2V4cGVyaW1lbnRhbC9ydW50aW1lL2ludDY0LmpzI0wxMFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50NjRUb1N0cmluZyhsbywgaGkpIHtcbiAgICBsZXQgYml0cyA9IG5ld0JpdHMobG8sIGhpKTtcbiAgICAvLyBJZiB3ZSdyZSB0cmVhdGluZyB0aGUgaW5wdXQgYXMgYSBzaWduZWQgdmFsdWUgYW5kIHRoZSBoaWdoIGJpdCBpcyBzZXQsIGRvXG4gICAgLy8gYSBtYW51YWwgdHdvJ3MgY29tcGxlbWVudCBjb252ZXJzaW9uIGJlZm9yZSB0aGUgZGVjaW1hbCBjb252ZXJzaW9uLlxuICAgIGNvbnN0IG5lZ2F0aXZlID0gYml0cy5oaSAmIDB4ODAwMDAwMDA7XG4gICAgaWYgKG5lZ2F0aXZlKSB7XG4gICAgICAgIGJpdHMgPSBuZWdhdGUoYml0cy5sbywgYml0cy5oaSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHVJbnQ2NFRvU3RyaW5nKGJpdHMubG8sIGJpdHMuaGkpO1xuICAgIHJldHVybiBuZWdhdGl2ZSA/IFwiLVwiICsgcmVzdWx0IDogcmVzdWx0O1xufVxuLyoqXG4gKiBMb3NzbGVzc2x5IGNvbnZlcnRzIGEgNjQtYml0IHVuc2lnbmVkIGludGVnZXIgaW4gMzI6MzIgc3BsaXQgcmVwcmVzZW50YXRpb25cbiAqIGludG8gYSBkZWNpbWFsIHN0cmluZy5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi1qYXZhc2NyaXB0L2Jsb2IvYTQyOGM1ODI3M2FiYWQwN2M2NjA3MWQ5NzUzYmM0ZDEyODlkZTQyNi9leHBlcmltZW50YWwvcnVudGltZS9pbnQ2NC5qcyNMMTBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVJbnQ2NFRvU3RyaW5nKGxvLCBoaSkge1xuICAgICh7IGxvLCBoaSB9ID0gdG9VbnNpZ25lZChsbywgaGkpKTtcbiAgICAvLyBTa2lwIHRoZSBleHBlbnNpdmUgY29udmVyc2lvbiBpZiB0aGUgbnVtYmVyIGlzIHNtYWxsIGVub3VnaCB0byB1c2UgdGhlXG4gICAgLy8gYnVpbHQtaW4gY29udmVyc2lvbnMuXG4gICAgLy8gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgPSAweDAwMUZGRkZGIEZGRkZGRkZGLCB0aHVzIGFueSBudW1iZXIgd2l0aFxuICAgIC8vIGhpZ2hCaXRzIDw9IDB4MUZGRkZGIGNhbiBiZSBzYWZlbHkgZXhwcmVzc2VkIHdpdGggYSBkb3VibGUgYW5kIHJldGFpblxuICAgIC8vIGludGVnZXIgcHJlY2lzaW9uLlxuICAgIC8vIFByb3ZlbiBieTogTnVtYmVyLmlzU2FmZUludGVnZXIoMHgxRkZGRkYgKiAyKiozMiArIDB4RkZGRkZGRkYpID09IHRydWUuXG4gICAgaWYgKGhpIDw9IDB4MWZmZmZmKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoVFdPX1BXUl8zMl9EQkwgKiBoaSArIGxvKTtcbiAgICB9XG4gICAgLy8gV2hhdCB0aGlzIGNvZGUgaXMgZG9pbmcgaXMgZXNzZW50aWFsbHkgY29udmVydGluZyB0aGUgaW5wdXQgbnVtYmVyIGZyb21cbiAgICAvLyBiYXNlLTIgdG8gYmFzZS0xZTcsIHdoaWNoIGFsbG93cyB1cyB0byByZXByZXNlbnQgdGhlIDY0LWJpdCByYW5nZSB3aXRoXG4gICAgLy8gb25seSAzICh2ZXJ5IGxhcmdlKSBkaWdpdHMuIFRob3NlIGRpZ2l0cyBhcmUgdGhlbiB0cml2aWFsIHRvIGNvbnZlcnQgdG9cbiAgICAvLyBhIGJhc2UtMTAgc3RyaW5nLlxuICAgIC8vIFRoZSBtYWdpYyBudW1iZXJzIHVzZWQgaGVyZSBhcmUgLVxuICAgIC8vIDJeMjQgPSAxNjc3NzIxNiA9ICgxLDY3NzcyMTYpIGluIGJhc2UtMWU3LlxuICAgIC8vIDJeNDggPSAyODE0NzQ5NzY3MTA2NTYgPSAoMiw4MTQ3NDk3LDY3MTA2NTYpIGluIGJhc2UtMWU3LlxuICAgIC8vIFNwbGl0IDMyOjMyIHJlcHJlc2VudGF0aW9uIGludG8gMTY6MjQ6MjQgcmVwcmVzZW50YXRpb24gc28gb3VyXG4gICAgLy8gaW50ZXJtZWRpYXRlIGRpZ2l0cyBkb24ndCBvdmVyZmxvdy5cbiAgICBjb25zdCBsb3cgPSBsbyAmIDB4ZmZmZmZmO1xuICAgIGNvbnN0IG1pZCA9ICgobG8gPj4+IDI0KSB8IChoaSA8PCA4KSkgJiAweGZmZmZmZjtcbiAgICBjb25zdCBoaWdoID0gKGhpID4+IDE2KSAmIDB4ZmZmZjtcbiAgICAvLyBBc3NlbWJsZSBvdXIgdGhyZWUgYmFzZS0xZTcgZGlnaXRzLCBpZ25vcmluZyBjYXJyaWVzLiBUaGUgbWF4aW11bVxuICAgIC8vIHZhbHVlIGluIGEgZGlnaXQgYXQgdGhpcyBzdGVwIGlzIHJlcHJlc2VudGFibGUgYXMgYSA0OC1iaXQgaW50ZWdlciwgd2hpY2hcbiAgICAvLyBjYW4gYmUgc3RvcmVkIGluIGEgNjQtYml0IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICBsZXQgZGlnaXRBID0gbG93ICsgbWlkICogNjc3NzIxNiArIGhpZ2ggKiA2NzEwNjU2O1xuICAgIGxldCBkaWdpdEIgPSBtaWQgKyBoaWdoICogODE0NzQ5NztcbiAgICBsZXQgZGlnaXRDID0gaGlnaCAqIDI7XG4gICAgLy8gQXBwbHkgY2FycmllcyBmcm9tIEEgdG8gQiBhbmQgZnJvbSBCIHRvIEMuXG4gICAgY29uc3QgYmFzZSA9IDEwMDAwMDAwO1xuICAgIGlmIChkaWdpdEEgPj0gYmFzZSkge1xuICAgICAgICBkaWdpdEIgKz0gTWF0aC5mbG9vcihkaWdpdEEgLyBiYXNlKTtcbiAgICAgICAgZGlnaXRBICU9IGJhc2U7XG4gICAgfVxuICAgIGlmIChkaWdpdEIgPj0gYmFzZSkge1xuICAgICAgICBkaWdpdEMgKz0gTWF0aC5mbG9vcihkaWdpdEIgLyBiYXNlKTtcbiAgICAgICAgZGlnaXRCICU9IGJhc2U7XG4gICAgfVxuICAgIC8vIElmIGRpZ2l0QyBpcyAwLCB0aGVuIHdlIHNob3VsZCBoYXZlIHJldHVybmVkIGluIHRoZSB0cml2aWFsIGNvZGUgcGF0aFxuICAgIC8vIGF0IHRoZSB0b3AgZm9yIG5vbi1zYWZlIGludGVnZXJzLiBHaXZlbiB0aGlzLCB3ZSBjYW4gYXNzdW1lIGJvdGggZGlnaXRCXG4gICAgLy8gYW5kIGRpZ2l0QSBuZWVkIGxlYWRpbmcgemVyb3MuXG4gICAgcmV0dXJuIChkaWdpdEMudG9TdHJpbmcoKSArXG4gICAgICAgIGRlY2ltYWxGcm9tMWU3V2l0aExlYWRpbmdaZXJvcyhkaWdpdEIpICtcbiAgICAgICAgZGVjaW1hbEZyb20xZTdXaXRoTGVhZGluZ1plcm9zKGRpZ2l0QSkpO1xufVxuZnVuY3Rpb24gdG9VbnNpZ25lZChsbywgaGkpIHtcbiAgICByZXR1cm4geyBsbzogbG8gPj4+IDAsIGhpOiBoaSA+Pj4gMCB9O1xufVxuZnVuY3Rpb24gbmV3Qml0cyhsbywgaGkpIHtcbiAgICByZXR1cm4geyBsbzogbG8gfCAwLCBoaTogaGkgfCAwIH07XG59XG4vKipcbiAqIFJldHVybnMgdHdvJ3MgY29tcGxpbWVudCBuZWdhdGlvbiBvZiBpbnB1dC5cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0JpdHdpc2VfT3BlcmF0b3JzI1NpZ25lZF8zMi1iaXRfaW50ZWdlcnNcbiAqL1xuZnVuY3Rpb24gbmVnYXRlKGxvd0JpdHMsIGhpZ2hCaXRzKSB7XG4gICAgaGlnaEJpdHMgPSB+aGlnaEJpdHM7XG4gICAgaWYgKGxvd0JpdHMpIHtcbiAgICAgICAgbG93Qml0cyA9IH5sb3dCaXRzICsgMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElmIGxvd0JpdHMgaXMgMCwgdGhlbiBiaXR3aXNlLW5vdCBpcyAweEZGRkZGRkZGLFxuICAgICAgICAvLyBhZGRpbmcgMSB0byB0aGF0LCByZXN1bHRzIGluIDB4MTAwMDAwMDAwLCB3aGljaCBsZWF2ZXNcbiAgICAgICAgLy8gdGhlIGxvdyBiaXRzIDB4MCBhbmQgc2ltcGx5IGFkZHMgb25lIHRvIHRoZSBoaWdoIGJpdHMuXG4gICAgICAgIGhpZ2hCaXRzICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBuZXdCaXRzKGxvd0JpdHMsIGhpZ2hCaXRzKTtcbn1cbi8qKlxuICogUmV0dXJucyBkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIGRpZ2l0MWU3IHdpdGggbGVhZGluZyB6ZXJvcy5cbiAqL1xuY29uc3QgZGVjaW1hbEZyb20xZTdXaXRoTGVhZGluZ1plcm9zID0gKGRpZ2l0MWU3KSA9PiB7XG4gICAgY29uc3QgcGFydGlhbCA9IFN0cmluZyhkaWdpdDFlNyk7XG4gICAgcmV0dXJuIFwiMDAwMDAwMFwiLnNsaWNlKHBhcnRpYWwubGVuZ3RoKSArIHBhcnRpYWw7XG59O1xuLyoqXG4gKiBXcml0ZSBhIDMyIGJpdCB2YXJpbnQsIHNpZ25lZCBvciB1bnNpZ25lZC4gU2FtZSBhcyBgdmFyaW50NjR3cml0ZSgwLCB2YWx1ZSwgYnl0ZXMpYFxuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvMWIxODgzM2Y0ZjJhMmY2ODFmNGU0YTI1Y2RmM2IwYTQzMTE1ZWMyNi9qcy9iaW5hcnkvZW5jb2Rlci5qcyNMMTQ0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YXJpbnQzMndyaXRlKHZhbHVlLCBieXRlcykge1xuICAgIGlmICh2YWx1ZSA+PSAwKSB7XG4gICAgICAgIC8vIHdyaXRlIHZhbHVlIGFzIHZhcmludCAzMlxuICAgICAgICB3aGlsZSAodmFsdWUgPiAweDdmKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKCh2YWx1ZSAmIDB4N2YpIHwgMHg4MCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+PiA3O1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgICAgIGJ5dGVzLnB1c2goKHZhbHVlICYgMTI3KSB8IDEyOCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDc7XG4gICAgICAgIH1cbiAgICAgICAgYnl0ZXMucHVzaCgxKTtcbiAgICB9XG59XG4vKipcbiAqIFJlYWQgYW4gdW5zaWduZWQgMzIgYml0IHZhcmludC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iLzhhNzE5MjdkNzRhNGNlMzRlZmUyZDg3NjlmZGExOThmNTJkMjBkMTIvanMvZXhwZXJpbWVudGFsL3J1bnRpbWUva2VybmVsL2J1ZmZlcl9kZWNvZGVyLmpzI0wyMjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhcmludDMycmVhZCgpIHtcbiAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIGxldCByZXN1bHQgPSBiICYgMHg3ZjtcbiAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICByZXN1bHQgfD0gKGIgJiAweDdmKSA8PCA3O1xuICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIHJlc3VsdCB8PSAoYiAmIDB4N2YpIDw8IDE0O1xuICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIHJlc3VsdCB8PSAoYiAmIDB4N2YpIDw8IDIxO1xuICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gRXh0cmFjdCBvbmx5IGxhc3QgNCBiaXRzXG4gICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIHJlc3VsdCB8PSAoYiAmIDB4MGYpIDw8IDI4O1xuICAgIGZvciAobGV0IHJlYWRCeXRlcyA9IDU7IChiICYgMHg4MCkgIT09IDAgJiYgcmVhZEJ5dGVzIDwgMTA7IHJlYWRCeXRlcysrKVxuICAgICAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgaWYgKChiICYgMHg4MCkgIT0gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2YXJpbnRcIik7XG4gICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAvLyBSZXN1bHQgY2FuIGhhdmUgMzIgYml0cywgY29udmVydCBpdCB0byB1bnNpZ25lZFxuICAgIHJldHVybiByZXN1bHQgPj4+IDA7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IGludDY0RnJvbVN0cmluZywgaW50NjRUb1N0cmluZywgdUludDY0VG9TdHJpbmcsIH0gZnJvbSBcIi4vd2lyZS92YXJpbnQuanNcIjtcbi8qKlxuICogSW50NjRTdXBwb3J0IGZvciB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb3RvSW50NjQgPSAvKkBfX1BVUkVfXyovIG1ha2VJbnQ2NFN1cHBvcnQoKTtcbmZ1bmN0aW9uIG1ha2VJbnQ2NFN1cHBvcnQoKSB7XG4gICAgY29uc3QgZHYgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDgpKTtcbiAgICAvLyBub3RlIHRoYXQgU2FmYXJpIDE0IGltcGxlbWVudHMgQmlnSW50LCBidXQgbm90IHRoZSBEYXRhVmlldyBtZXRob2RzXG4gICAgY29uc3Qgb2sgPSB0eXBlb2YgQmlnSW50ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgdHlwZW9mIGR2LmdldEJpZ0ludDY0ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgdHlwZW9mIGR2LmdldEJpZ1VpbnQ2NCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIHR5cGVvZiBkdi5zZXRCaWdJbnQ2NCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIHR5cGVvZiBkdi5zZXRCaWdVaW50NjQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAoISFnbG9iYWxUaGlzLkRlbm8gfHxcbiAgICAgICAgICAgIHR5cGVvZiBwcm9jZXNzICE9IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBwcm9jZXNzLmVudiAhPSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5CVUZfQklHSU5UX0RJU0FCTEUgIT09IFwiMVwiKTtcbiAgICBpZiAob2spIHtcbiAgICAgICAgY29uc3QgTUlOID0gQmlnSW50KFwiLTkyMjMzNzIwMzY4NTQ3NzU4MDhcIik7XG4gICAgICAgIGNvbnN0IE1BWCA9IEJpZ0ludChcIjkyMjMzNzIwMzY4NTQ3NzU4MDdcIik7XG4gICAgICAgIGNvbnN0IFVNSU4gPSBCaWdJbnQoXCIwXCIpO1xuICAgICAgICBjb25zdCBVTUFYID0gQmlnSW50KFwiMTg0NDY3NDQwNzM3MDk1NTE2MTVcIik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB6ZXJvOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBzdXBwb3J0ZWQ6IHRydWUsXG4gICAgICAgICAgICBwYXJzZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpID0gdHlwZW9mIHZhbHVlID09IFwiYmlnaW50XCIgPyB2YWx1ZSA6IEJpZ0ludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJpID4gTUFYIHx8IGJpIDwgTUlOKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbnQ2NDogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVQYXJzZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpID0gdHlwZW9mIHZhbHVlID09IFwiYmlnaW50XCIgPyB2YWx1ZSA6IEJpZ0ludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJpID4gVU1BWCB8fCBiaSA8IFVNSU4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHVpbnQ2NDogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuYyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGR2LnNldEJpZ0ludDY0KDAsIHRoaXMucGFyc2UodmFsdWUpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsbzogZHYuZ2V0SW50MzIoMCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGhpOiBkdi5nZXRJbnQzMig0LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVFbmModmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkdi5zZXRCaWdJbnQ2NCgwLCB0aGlzLnVQYXJzZSh2YWx1ZSksIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxvOiBkdi5nZXRJbnQzMigwLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgaGk6IGR2LmdldEludDMyKDQsIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVjKGxvLCBoaSkge1xuICAgICAgICAgICAgICAgIGR2LnNldEludDMyKDAsIGxvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBkdi5zZXRJbnQzMig0LCBoaSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR2LmdldEJpZ0ludDY0KDAsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVEZWMobG8sIGhpKSB7XG4gICAgICAgICAgICAgICAgZHYuc2V0SW50MzIoMCwgbG8sIHRydWUpO1xuICAgICAgICAgICAgICAgIGR2LnNldEludDMyKDQsIGhpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHYuZ2V0QmlnVWludDY0KDAsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgemVybzogXCIwXCIsXG4gICAgICAgIHN1cHBvcnRlZDogZmFsc2UsXG4gICAgICAgIHBhcnNlKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnRJbnQ2NFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHVQYXJzZSh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0VUludDY0U3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5jKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnRJbnQ2NFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW50NjRGcm9tU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdUVuYyh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0VUludDY0U3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBpbnQ2NEZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBkZWMobG8sIGhpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50NjRUb1N0cmluZyhsbywgaGkpO1xuICAgICAgICB9LFxuICAgICAgICB1RGVjKGxvLCBoaSkge1xuICAgICAgICAgICAgcmV0dXJuIHVJbnQ2NFRvU3RyaW5nKGxvLCBoaSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFzc2VydEludDY0U3RyaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEvXi0/WzAtOV0rJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBpbnQ2NDogXCIgKyB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VUludDY0U3RyaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEvXlswLTldKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdWludDY0OiBcIiArIHZhbHVlKTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHByb3RvSW50NjQgfSBmcm9tIFwiLi4vcHJvdG8taW50NjQuanNcIjtcbmltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi4vZGVzY3JpcHRvcnMuanNcIjtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJvdGggc2NhbGFyIHZhbHVlcyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsYXJFcXVhbHModHlwZSwgYSwgYikge1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIC8vIFRoaXMgY29ycmVjdGx5IG1hdGNoZXMgZXF1YWwgdmFsdWVzIGV4Y2VwdCBCWVRFUyBhbmQgKHBvc3NpYmx5KSA2NC1iaXQgaW50ZWdlcnMuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBTcGVjaWFsIGNhc2UgQllURVMgLSB3ZSBuZWVkIHRvIGNvbXBhcmUgZWFjaCBieXRlIGluZGl2aWR1YWxseVxuICAgIGlmICh0eXBlID09IFNjYWxhclR5cGUuQllURVMpIHtcbiAgICAgICAgaWYgKCEoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHx8ICEoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIFNwZWNpYWwgY2FzZSA2NC1iaXQgaW50ZWdlcnMgLSB3ZSBzdXBwb3J0IG51bWJlciwgc3RyaW5nIGFuZCBiaWdpbnQgcmVwcmVzZW50YXRpb24uXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIC8vIExvb3NlIGNvbXBhcmlzb24gd2lsbCBtYXRjaCBiZXR3ZWVuIDBuLCAwIGFuZCBcIjBcIi5cbiAgICAgICAgICAgIHJldHVybiBhID09IGI7XG4gICAgfVxuICAgIC8vIEFueXRoaW5nIHRoYXQgaGFzbid0IGJlZW4gY2F1Z2h0IGJ5IHN0cmljdCBjb21wYXJpc29uIG9yIHNwZWNpYWwgY2FzZWRcbiAgICAvLyBCWVRFUyBhbmQgNjQtYml0IGludGVnZXJzIGlzIG5vdCBlcXVhbC5cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHplcm8gdmFsdWUgZm9yIHRoZSBnaXZlbiBzY2FsYXIgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxhclplcm9WYWx1ZSh0eXBlLCBsb25nQXNTdHJpbmcpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIChsb25nQXNTdHJpbmcgPyBcIjBcIiA6IHByb3RvSW50NjQuemVybyk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIEhhbmRsZXMgSU5UMzIsIFVJTlQzMiwgU0lOVDMyLCBGSVhFRDMyLCBTRklYRUQzMi5cbiAgICAgICAgICAgIC8vIFdlIGRvIG5vdCB1c2UgaW5kaXZpZHVhbCBjYXNlcyB0byBzYXZlIGEgZmV3IGJ5dGVzIGNvZGUgc2l6ZS5cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGZvciBhIHplcm8tdmFsdWUuIEZvciBleGFtcGxlLCBhbiBpbnRlZ2VyIGhhcyB0aGUgemVyby12YWx1ZSBgMGAsXG4gKiBhIGJvb2xlYW4gaXMgYGZhbHNlYCwgYSBzdHJpbmcgaXMgYFwiXCJgLCBhbmQgYnl0ZXMgaXMgYW4gZW1wdHkgVWludDhBcnJheS5cbiAqXG4gKiBJbiBwcm90bzMsIHplcm8tdmFsdWVzIGFyZSBub3Qgd3JpdHRlbiB0byB0aGUgd2lyZSwgdW5sZXNzIHRoZSBmaWVsZCBpc1xuICogb3B0aW9uYWwgb3IgcmVwZWF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjYWxhclplcm9WYWx1ZSh0eXBlLCB2YWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2U7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IFwiXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgIXZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gMDsgLy8gTG9vc2UgY29tcGFyaXNvbiBtYXRjaGVzIDBuLCAwIGFuZCBcIjBcIlxuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgaXNTY2FsYXJaZXJvVmFsdWUsIHNjYWxhclplcm9WYWx1ZSB9IGZyb20gXCIuL3NjYWxhci5qc1wiO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLklNUExJQ0lUOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgSU1QTElDSVQgPSAyO1xuZXhwb3J0IGNvbnN0IHVuc2FmZUxvY2FsID0gU3ltYm9sLmZvcihcInJlZmxlY3QgdW5zYWZlIGxvY2FsXCIpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIHNlbGVjdGVkIGZpZWxkIG9mIGEgb25lb2YgZ3JvdXAuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZU9uZW9mQ2FzZShcbi8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogYGFueWAgaXMgdGhlIGJlc3QgY2hvaWNlIGZvciBkeW5hbWljIGFjY2Vzc1xudGFyZ2V0LCBvbmVvZikge1xuICAgIGNvbnN0IGMgPSB0YXJnZXRbb25lb2YubG9jYWxOYW1lXS5jYXNlO1xuICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIHJldHVybiBvbmVvZi5maWVsZHMuZmluZCgoZikgPT4gZi5sb2NhbE5hbWUgPT09IGMpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZpZWxkIGlzIHNldC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlSXNTZXQoXG4vLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IGBhbnlgIGlzIHRoZSBiZXN0IGNob2ljZSBmb3IgZHluYW1pYyBhY2Nlc3NcbnRhcmdldCwgZmllbGQpIHtcbiAgICBjb25zdCBuYW1lID0gZmllbGQubG9jYWxOYW1lO1xuICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2ZpZWxkLm9uZW9mLmxvY2FsTmFtZV0uY2FzZSA9PT0gbmFtZTtcbiAgICB9XG4gICAgaWYgKGZpZWxkLnByZXNlbmNlICE9IElNUExJQ0lUKSB7XG4gICAgICAgIC8vIEZpZWxkcyB3aXRoIGV4cGxpY2l0IHByZXNlbmNlIGhhdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIC8vIGZvciBkZWZhdWx0IC8gemVybyB2YWx1ZXMgKGV4Y2VwdCBmb3IgcHJvdG8zKS5cbiAgICAgICAgcmV0dXJuICh0YXJnZXRbbmFtZV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgbmFtZSkpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXS5sZW5ndGggPiAwO1xuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGFyZ2V0W25hbWVdKS5sZW5ndGggPiAwO1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICByZXR1cm4gIWlzU2NhbGFyWmVyb1ZhbHVlKGZpZWxkLnNjYWxhciwgdGFyZ2V0W25hbWVdKTtcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbbmFtZV0gIT09IGZpZWxkLmVudW0udmFsdWVzWzBdLm51bWJlcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWVzc2FnZSBmaWVsZCB3aXRoIGltcGxpY2l0IHByZXNlbmNlXCIpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZpZWxkIGlzIHNldCwgYnV0IG9ubHkgZm9yIHNpbmd1bGFyIGZpZWxkcyB3aXRoIGV4cGxpY2l0XG4gKiBwcmVzZW5jZSAocHJvdG8yKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlSXNTZXRFeHBsaWNpdCh0YXJnZXQsIGxvY2FsTmFtZSkge1xuICAgIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgbG9jYWxOYW1lKSAmJlxuICAgICAgICB0YXJnZXRbbG9jYWxOYW1lXSAhPT0gdW5kZWZpbmVkKTtcbn1cbi8qKlxuICogUmV0dXJuIGEgZmllbGQgdmFsdWUsIHJlc3BlY3Rpbmcgb25lb2YgZ3JvdXBzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVHZXQodGFyZ2V0LCBmaWVsZCkge1xuICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICBjb25zdCBvbmVvZiA9IHRhcmdldFtmaWVsZC5vbmVvZi5sb2NhbE5hbWVdO1xuICAgICAgICBpZiAob25lb2YuY2FzZSA9PT0gZmllbGQubG9jYWxOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gb25lb2YudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFtmaWVsZC5sb2NhbE5hbWVdO1xufVxuLyoqXG4gKiBTZXQgYSBmaWVsZCB2YWx1ZSwgcmVzcGVjdGluZyBvbmVvZiBncm91cHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVNldCh0YXJnZXQsIGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICB0YXJnZXRbZmllbGQub25lb2YubG9jYWxOYW1lXSA9IHtcbiAgICAgICAgICAgIGNhc2U6IGZpZWxkLmxvY2FsTmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldFtmaWVsZC5sb2NhbE5hbWVdID0gdmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNldHMgdGhlIGZpZWxkLCBzbyB0aGF0IHVuc2FmZUlzU2V0KCkgd2lsbCByZXR1cm4gZmFsc2UuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZUNsZWFyKFxuLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBgYW55YCBpcyB0aGUgYmVzdCBjaG9pY2UgZm9yIGR5bmFtaWMgYWNjZXNzXG50YXJnZXQsIGZpZWxkKSB7XG4gICAgY29uc3QgbmFtZSA9IGZpZWxkLmxvY2FsTmFtZTtcbiAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgY29uc3Qgb25lb2ZMb2NhbE5hbWUgPSBmaWVsZC5vbmVvZi5sb2NhbE5hbWU7XG4gICAgICAgIGlmICh0YXJnZXRbb25lb2ZMb2NhbE5hbWVdLmNhc2UgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHRhcmdldFtvbmVvZkxvY2FsTmFtZV0gPSB7IGNhc2U6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpZWxkLnByZXNlbmNlICE9IElNUExJQ0lUKSB7XG4gICAgICAgIC8vIEZpZWxkcyB3aXRoIGV4cGxpY2l0IHByZXNlbmNlIGhhdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIC8vIGZvciBkZWZhdWx0IC8gemVybyB2YWx1ZXMgKGV4Y2VwdCBmb3IgcHJvdG8zKS4gQnkgZGVsZXRpbmcgdGhlaXIgb3duXG4gICAgICAgIC8vIHByb3BlcnR5LCB0aGUgZmllbGQgaXMgcmVzZXQuXG4gICAgICAgIGRlbGV0ZSB0YXJnZXRbbmFtZV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHt9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBbXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gZmllbGQuZW51bS52YWx1ZXNbMF0ubnVtYmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHNjYWxhclplcm9WYWx1ZShmaWVsZC5zY2FsYXIsIGZpZWxkLmxvbmdBc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHVuc2FmZUxvY2FsIH0gZnJvbSBcIi4vdW5zYWZlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gICAgcmV0dXJuIGFyZyAhPT0gbnVsbCAmJiB0eXBlb2YgYXJnID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoYXJnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09uZW9mQURUKGFyZykge1xuICAgIHJldHVybiAoYXJnICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiBhcmcgPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBcImNhc2VcIiBpbiBhcmcgJiZcbiAgICAgICAgKCh0eXBlb2YgYXJnLmNhc2UgPT0gXCJzdHJpbmdcIiAmJiBcInZhbHVlXCIgaW4gYXJnICYmIGFyZy52YWx1ZSAhPSBudWxsKSB8fFxuICAgICAgICAgICAgKGFyZy5jYXNlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAoIShcInZhbHVlXCIgaW4gYXJnKSB8fCBhcmcudmFsdWUgPT09IHVuZGVmaW5lZCkpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWZsZWN0TGlzdChhcmcsIGZpZWxkKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGlmIChpc09iamVjdChhcmcpICYmXG4gICAgICAgIHVuc2FmZUxvY2FsIGluIGFyZyAmJlxuICAgICAgICBcImFkZFwiIGluIGFyZyAmJlxuICAgICAgICBcImZpZWxkXCIgaW4gYXJnICYmXG4gICAgICAgIHR5cGVvZiBhcmcuZmllbGQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmIChmaWVsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZmllbGQ7XG4gICAgICAgICAgICBjb25zdCBiID0gYXJnLmZpZWxkKCk7XG4gICAgICAgICAgICByZXR1cm4gKGEubGlzdEtpbmQgPT0gYi5saXN0S2luZCAmJlxuICAgICAgICAgICAgICAgIGEuc2NhbGFyID09PSBiLnNjYWxhciAmJlxuICAgICAgICAgICAgICAgICgoX2EgPSBhLm1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlTmFtZSkgPT09ICgoX2IgPSBiLm1lc3NhZ2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50eXBlTmFtZSkgJiZcbiAgICAgICAgICAgICAgICAoKF9jID0gYS5lbnVtKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHlwZU5hbWUpID09PSAoKF9kID0gYi5lbnVtKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHlwZU5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVmbGVjdE1hcChhcmcsIGZpZWxkKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGlmIChpc09iamVjdChhcmcpICYmXG4gICAgICAgIHVuc2FmZUxvY2FsIGluIGFyZyAmJlxuICAgICAgICBcImhhc1wiIGluIGFyZyAmJlxuICAgICAgICBcImZpZWxkXCIgaW4gYXJnICYmXG4gICAgICAgIHR5cGVvZiBhcmcuZmllbGQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmIChmaWVsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZmllbGQsIGIgPSBhcmcuZmllbGQoKTtcbiAgICAgICAgICAgIHJldHVybiAoYS5tYXBLZXkgPT09IGIubWFwS2V5ICYmXG4gICAgICAgICAgICAgICAgYS5tYXBLaW5kID09IGIubWFwS2luZCAmJlxuICAgICAgICAgICAgICAgIGEuc2NhbGFyID09PSBiLnNjYWxhciAmJlxuICAgICAgICAgICAgICAgICgoX2EgPSBhLm1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlTmFtZSkgPT09ICgoX2IgPSBiLm1lc3NhZ2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50eXBlTmFtZSkgJiZcbiAgICAgICAgICAgICAgICAoKF9jID0gYS5lbnVtKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHlwZU5hbWUpID09PSAoKF9kID0gYi5lbnVtKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHlwZU5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVmbGVjdE1lc3NhZ2UoYXJnLCBtZXNzYWdlRGVzYykge1xuICAgIHJldHVybiAoaXNPYmplY3QoYXJnKSAmJlxuICAgICAgICB1bnNhZmVMb2NhbCBpbiBhcmcgJiZcbiAgICAgICAgXCJkZXNjXCIgaW4gYXJnICYmXG4gICAgICAgIGlzT2JqZWN0KGFyZy5kZXNjKSAmJlxuICAgICAgICBhcmcuZGVzYy5raW5kID09PSBcIm1lc3NhZ2VcIiAmJlxuICAgICAgICAobWVzc2FnZURlc2MgPT09IHVuZGVmaW5lZCB8fCBhcmcuZGVzYy50eXBlTmFtZSA9PSBtZXNzYWdlRGVzYy50eXBlTmFtZSkpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5leHBvcnQgZnVuY3Rpb24gaXNXcmFwcGVyKGFyZykge1xuICAgIHJldHVybiBpc1dyYXBwZXJUeXBlTmFtZShhcmcuJHR5cGVOYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1dyYXBwZXJEZXNjKG1lc3NhZ2VEZXNjKSB7XG4gICAgY29uc3QgZiA9IG1lc3NhZ2VEZXNjLmZpZWxkc1swXTtcbiAgICByZXR1cm4gKGlzV3JhcHBlclR5cGVOYW1lKG1lc3NhZ2VEZXNjLnR5cGVOYW1lKSAmJlxuICAgICAgICBmICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgZi5maWVsZEtpbmQgPT0gXCJzY2FsYXJcIiAmJlxuICAgICAgICBmLm5hbWUgPT0gXCJ2YWx1ZVwiICYmXG4gICAgICAgIGYubnVtYmVyID09IDEpO1xufVxuZnVuY3Rpb24gaXNXcmFwcGVyVHlwZU5hbWUobmFtZSkge1xuICAgIHJldHVybiAobmFtZS5zdGFydHNXaXRoKFwiZ29vZ2xlLnByb3RvYnVmLlwiKSAmJlxuICAgICAgICBbXG4gICAgICAgICAgICBcIkRvdWJsZVZhbHVlXCIsXG4gICAgICAgICAgICBcIkZsb2F0VmFsdWVcIixcbiAgICAgICAgICAgIFwiSW50NjRWYWx1ZVwiLFxuICAgICAgICAgICAgXCJVSW50NjRWYWx1ZVwiLFxuICAgICAgICAgICAgXCJJbnQzMlZhbHVlXCIsXG4gICAgICAgICAgICBcIlVJbnQzMlZhbHVlXCIsXG4gICAgICAgICAgICBcIkJvb2xWYWx1ZVwiLFxuICAgICAgICAgICAgXCJTdHJpbmdWYWx1ZVwiLFxuICAgICAgICAgICAgXCJCeXRlc1ZhbHVlXCIsXG4gICAgICAgIF0uaW5jbHVkZXMobmFtZS5zdWJzdHJpbmcoMTYpKSk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IGlzTWVzc2FnZSB9IGZyb20gXCIuL2lzLW1lc3NhZ2UuanNcIjtcbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHNjYWxhclplcm9WYWx1ZSB9IGZyb20gXCIuL3JlZmxlY3Qvc2NhbGFyLmpzXCI7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gXCIuL3JlZmxlY3QvZ3VhcmQuanNcIjtcbmltcG9ydCB7IHVuc2FmZUdldCwgdW5zYWZlT25lb2ZDYXNlLCB1bnNhZmVTZXQgfSBmcm9tIFwiLi9yZWZsZWN0L3Vuc2FmZS5qc1wiO1xuaW1wb3J0IHsgaXNXcmFwcGVyRGVzYyB9IGZyb20gXCIuL3drdC93cmFwcGVycy5qc1wiO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRWRpdGlvbi5FRElUSU9OX1BST1RPMzogY29uc3QgJG5hbWU6IEVkaXRpb24uJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBFRElUSU9OX1BST1RPMyA9IDk5OTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkVkaXRpb24uRURJVElPTl9QUk9UTzI6IGNvbnN0ICRuYW1lOiBFZGl0aW9uLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgRURJVElPTl9QUk9UTzIgPSA5OTg7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuSU1QTElDSVQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBJTVBMSUNJVCA9IDI7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtZXNzYWdlIGluc3RhbmNlLlxuICpcbiAqIFRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYW4gb3B0aW9uYWwgaW5pdGlhbGl6ZXIgb2JqZWN0LCB3aGVyZSBhbGwgZmllbGRzIGFyZVxuICogb3B0aW9uYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoc2NoZW1hLCBpbml0KSB7XG4gICAgaWYgKGlzTWVzc2FnZShpbml0LCBzY2hlbWEpKSB7XG4gICAgICAgIHJldHVybiBpbml0O1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlWmVyb01lc3NhZ2Uoc2NoZW1hKTtcbiAgICBpZiAoaW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluaXRNZXNzYWdlKHNjaGVtYSwgbWVzc2FnZSwgaW5pdCk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuLyoqXG4gKiBTZXRzIGZpZWxkIHZhbHVlcyBmcm9tIGEgTWVzc2FnZUluaXRTaGFwZSBvbiBhIHplcm8gbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gaW5pdE1lc3NhZ2UobWVzc2FnZURlc2MsIG1lc3NhZ2UsIGluaXQpIHtcbiAgICBmb3IgKGNvbnN0IG1lbWJlciBvZiBtZXNzYWdlRGVzYy5tZW1iZXJzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGluaXRbbWVtYmVyLmxvY2FsTmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGlnbm9yZSB1bmRlZmluZWQgYW5kIG51bGxcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmaWVsZDtcbiAgICAgICAgaWYgKG1lbWJlci5raW5kID09IFwib25lb2ZcIikge1xuICAgICAgICAgICAgY29uc3Qgb25lb2ZGaWVsZCA9IHVuc2FmZU9uZW9mQ2FzZShpbml0LCBtZW1iZXIpO1xuICAgICAgICAgICAgaWYgKCFvbmVvZkZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWVsZCA9IG9uZW9mRmllbGQ7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuc2FmZUdldChpbml0LCBvbmVvZkZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkID0gbWVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdG9NZXNzYWdlKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpbml0U2NhbGFyKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gaW5pdExpc3QoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGluaXRNYXAoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB1bnNhZmVTZXQobWVzc2FnZSwgZmllbGQsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBpbml0U2NhbGFyKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5zY2FsYXIgPT0gU2NhbGFyVHlwZS5CWVRFUykge1xuICAgICAgICByZXR1cm4gdG9VOEFycih2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGluaXRNYXAoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoZmllbGQuc2NhbGFyID09IFNjYWxhclR5cGUuQllURVMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0T2JqZWN0VmFsdWVzKHZhbHVlLCB0b1U4QXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQubWFwS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRPYmplY3RWYWx1ZXModmFsdWUsICh2YWwpID0+IHRvTWVzc2FnZShmaWVsZCwgdmFsKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaW5pdExpc3QoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmIChmaWVsZC5zY2FsYXIgPT0gU2NhbGFyVHlwZS5CWVRFUykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCh0b1U4QXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQubGlzdEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHRvTWVzc2FnZShmaWVsZCwgaXRlbSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHRvTWVzc2FnZShmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQuZmllbGRLaW5kID09IFwibWVzc2FnZVwiICYmXG4gICAgICAgICFmaWVsZC5vbmVvZiAmJlxuICAgICAgICBpc1dyYXBwZXJEZXNjKGZpZWxkLm1lc3NhZ2UpKSB7XG4gICAgICAgIC8vIFR5cGVzIGZyb20gZ29vZ2xlL3Byb3RvYnVmL3dyYXBwZXJzLnByb3RvIGFyZSB1bndyYXBwZWQgd2hlbiB1c2VkIGluXG4gICAgICAgIC8vIGEgc2luZ3VsYXIgZmllbGQgdGhhdCBpcyBub3QgcGFydCBvZiBhIG9uZW9mIGdyb3VwLlxuICAgICAgICByZXR1cm4gaW5pdFNjYWxhcihmaWVsZC5tZXNzYWdlLmZpZWxkc1swXSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGlmIChmaWVsZC5tZXNzYWdlLnR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFwiICYmXG4gICAgICAgICAgICBmaWVsZC5wYXJlbnQudHlwZU5hbWUgIT09IFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCIpIHtcbiAgICAgICAgICAgIC8vIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgaXMgcmVwcmVzZW50ZWQgd2l0aCBKc29uT2JqZWN0IHdoZW4gdXNlZCBpbiBhXG4gICAgICAgICAgICAvLyBmaWVsZCwgZXhjZXB0IHdoZW4gdXNlZCBpbiBnb29nbGUucHJvdG9idWYuVmFsdWUuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc01lc3NhZ2UodmFsdWUsIGZpZWxkLm1lc3NhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlKGZpZWxkLm1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyBjb252ZXJ0cyBhbnkgQXJyYXlMaWtlPG51bWJlcj4gdG8gVWludDhBcnJheSBpZiBuZWNlc3NhcnkuXG5mdW5jdGlvbiB0b1U4QXJyKHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gbmV3IFVpbnQ4QXJyYXkodmFsdWUpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBjb252ZXJ0T2JqZWN0VmFsdWVzKG9iaiwgZm4pIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIE9iamVjdC5lbnRyaWVzKG9iaikpIHtcbiAgICAgICAgcmV0W2VudHJ5WzBdXSA9IGZuKGVudHJ5WzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IHRva2VuWmVyb01lc3NhZ2VGaWVsZCA9IFN5bWJvbCgpO1xuY29uc3QgbWVzc2FnZVByb3RvdHlwZXMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBDcmVhdGUgYSB6ZXJvIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVplcm9NZXNzYWdlKGRlc2MpIHtcbiAgICBsZXQgbXNnO1xuICAgIGlmICghbmVlZHNQcm90b3R5cGVDaGFpbihkZXNjKSkge1xuICAgICAgICBtc2cgPSB7XG4gICAgICAgICAgICAkdHlwZU5hbWU6IGRlc2MudHlwZU5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgbWVtYmVyIG9mIGRlc2MubWVtYmVycykge1xuICAgICAgICAgICAgaWYgKG1lbWJlci5raW5kID09IFwib25lb2ZcIiB8fCBtZW1iZXIucHJlc2VuY2UgPT0gSU1QTElDSVQpIHtcbiAgICAgICAgICAgICAgICBtc2dbbWVtYmVyLmxvY2FsTmFtZV0gPSBjcmVhdGVaZXJvRmllbGQobWVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gU3VwcG9ydCBkZWZhdWx0IHZhbHVlcyBhbmQgdHJhY2sgcHJlc2VuY2UgdmlhIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgY29uc3QgY2FjaGVkID0gbWVzc2FnZVByb3RvdHlwZXMuZ2V0KGRlc2MpO1xuICAgICAgICBsZXQgcHJvdG90eXBlO1xuICAgICAgICBsZXQgbWVtYmVycztcbiAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgKHsgcHJvdG90eXBlLCBtZW1iZXJzIH0gPSBjYWNoZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvdG90eXBlID0ge307XG4gICAgICAgICAgICBtZW1iZXJzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBtZW1iZXIgb2YgZGVzYy5tZW1iZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci5raW5kID09IFwib25lb2ZcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb25seSBwdXQgaW1tdXRhYmxlIHZhbHVlcyBvbiB0aGUgcHJvdG90eXBlLFxuICAgICAgICAgICAgICAgICAgICAvLyBvbmVvZiBBRFRzIGFyZSBtdXRhYmxlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLmZpZWxkS2luZCAhPSBcInNjYWxhclwiICYmIG1lbWJlci5maWVsZEtpbmQgIT0gXCJlbnVtXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBzY2FsYXIgYW5kIGVudW0gdmFsdWVzIGFyZSBpbW11dGFibGUsIG1hcCwgbGlzdCwgYW5kIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJlIG5vdFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci5wcmVzZW5jZSA9PSBJTVBMSUNJVCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbXBsaWNpdCBwcmVzZW5jZSB0cmFja3MgZmllbGQgcHJlc2VuY2UgYnkgemVybyB2YWx1ZXMgLSBlLmcuIDAsIGZhbHNlLCBcIlwiLCBhcmUgdW5zZXQsIDEsIHRydWUsIFwieFwiIGFyZSBzZXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2UsIG1hcCwgbGlzdCBmaWVsZHMgYXJlIG11dGFibGUsIGFuZCBhbHNvIGhhdmUgSU1QTElDSVQgcHJlc2VuY2UuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZW1iZXJzLmFkZChtZW1iZXIpO1xuICAgICAgICAgICAgICAgIHByb3RvdHlwZVttZW1iZXIubG9jYWxOYW1lXSA9IGNyZWF0ZVplcm9GaWVsZChtZW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVzc2FnZVByb3RvdHlwZXMuc2V0KGRlc2MsIHsgcHJvdG90eXBlLCBtZW1iZXJzIH0pO1xuICAgICAgICB9XG4gICAgICAgIG1zZyA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcbiAgICAgICAgbXNnLiR0eXBlTmFtZSA9IGRlc2MudHlwZU5hbWU7XG4gICAgICAgIGZvciAoY29uc3QgbWVtYmVyIG9mIGRlc2MubWVtYmVycykge1xuICAgICAgICAgICAgaWYgKG1lbWJlcnMuaGFzKG1lbWJlcikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZW1iZXIua2luZCA9PSBcImZpZWxkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLmZpZWxkS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci5maWVsZEtpbmQgPT0gXCJzY2FsYXJcIiB8fCBtZW1iZXIuZmllbGRLaW5kID09IFwiZW51bVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXIucHJlc2VuY2UgIT0gSU1QTElDSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXNnW21lbWJlci5sb2NhbE5hbWVdID0gY3JlYXRlWmVyb0ZpZWxkKG1lbWJlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1zZztcbn1cbi8qKlxuICogRG8gd2UgbmVlZCB0aGUgcHJvdG90eXBlIGNoYWluIHRvIHRyYWNrIGZpZWxkIHByZXNlbmNlP1xuICovXG5mdW5jdGlvbiBuZWVkc1Byb3RvdHlwZUNoYWluKGRlc2MpIHtcbiAgICBzd2l0Y2ggKGRlc2MuZmlsZS5lZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgRURJVElPTl9QUk9UTzM6XG4gICAgICAgICAgICAvLyBwcm90bzMgYWx3YXlzIHVzZXMgaW1wbGljaXQgcHJlc2VuY2UsIHdlIG5ldmVyIG5lZWQgdGhlIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBFRElUSU9OX1BST1RPMjpcbiAgICAgICAgICAgIC8vIHByb3RvMiBuZXZlciB1c2VzIGltcGxpY2l0IHByZXNlbmNlLCB3ZSBhbHdheXMgbmVlZCB0aGUgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBJZiBhIG1lc3NhZ2UgdXNlcyBzY2FsYXIgb3IgZW51bSBmaWVsZHMgd2l0aCBleHBsaWNpdCBwcmVzZW5jZSwgd2UgbmVlZFxuICAgICAgICAgICAgLy8gdGhlIHByb3RvdHlwZSBjaGFpbiB0byB0cmFjayBwcmVzZW5jZS4gVGhpcyBydWxlIGRvZXMgbm90IGFwcGx5IHRvIGZpZWxkc1xuICAgICAgICAgICAgLy8gaW4gYSBvbmVvZiBncm91cCAtIHRoZXkgdXNlIGEgZGlmZmVyZW50IG1lY2hhbmlzbSB0byB0cmFjayBwcmVzZW5jZS5cbiAgICAgICAgICAgIHJldHVybiBkZXNjLmZpZWxkcy5zb21lKChmKSA9PiBmLnByZXNlbmNlICE9IElNUExJQ0lUICYmIGYuZmllbGRLaW5kICE9IFwibWVzc2FnZVwiICYmICFmLm9uZW9mKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgYSB6ZXJvIHZhbHVlIGZvciBvbmVvZiBncm91cHMsIGFuZCBmb3IgZXZlcnkgZmllbGQga2luZCBleGNlcHRcbiAqIG1lc3NhZ2VzLiBTY2FsYXIgYW5kIGVudW0gZmllbGRzIGNhbiBoYXZlIGRlZmF1bHQgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVaZXJvRmllbGQoZmllbGQpIHtcbiAgICBpZiAoZmllbGQua2luZCA9PSBcIm9uZW9mXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgY2FzZTogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIGlmIChmaWVsZC5maWVsZEtpbmQgPT0gXCJsaXN0XCIpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoZmllbGQuZmllbGRLaW5kID09IFwibWFwXCIpIHtcbiAgICAgICAgcmV0dXJuIHt9OyAvLyBPYmplY3QuY3JlYXRlKG51bGwpIHdvdWxkIGJlIGRlc2lyYWJsZSBoZXJlLCBidXQgaXMgdW5zdXBwb3J0ZWQgYnkgcmVhY3QgaHR0cHM6Ly9yZWFjdC5kZXYvcmVmZXJlbmNlL3JlYWN0L3VzZS1zZXJ2ZXIjc2VyaWFsaXphYmxlLXBhcmFtZXRlcnMtYW5kLXJldHVybi12YWx1ZXNcbiAgICB9XG4gICAgaWYgKGZpZWxkLmZpZWxkS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICByZXR1cm4gdG9rZW5aZXJvTWVzc2FnZUZpZWxkO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBmaWVsZC5nZXREZWZhdWx0VmFsdWUoKTtcbiAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkLmZpZWxkS2luZCA9PSBcInNjYWxhclwiICYmIGZpZWxkLmxvbmdBc1N0cmluZ1xuICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBmaWVsZC5maWVsZEtpbmQgPT0gXCJzY2FsYXJcIlxuICAgICAgICA/IHNjYWxhclplcm9WYWx1ZShmaWVsZC5zY2FsYXIsIGZpZWxkLmxvbmdBc1N0cmluZylcbiAgICAgICAgOiBmaWVsZC5lbnVtLnZhbHVlc1swXS5udW1iZXI7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmNvbnN0IGVycm9yTmFtZXMgPSBbXG4gICAgXCJGaWVsZFZhbHVlSW52YWxpZEVycm9yXCIsXG4gICAgXCJGaWVsZExpc3RSYW5nZUVycm9yXCIsXG4gICAgXCJGb3JlaWduRmllbGRFcnJvclwiLFxuXTtcbmV4cG9ydCBjbGFzcyBGaWVsZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkT3JPbmVvZiwgbWVzc2FnZSwgbmFtZSA9IFwiRmllbGRWYWx1ZUludmFsaWRFcnJvclwiKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmZpZWxkID0gKCkgPT4gZmllbGRPck9uZW9mO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpZWxkRXJyb3IoYXJnKSB7XG4gICAgcmV0dXJuIChhcmcgaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICBlcnJvck5hbWVzLmluY2x1ZGVzKGFyZy5uYW1lKSAmJlxuICAgICAgICBcImZpZWxkXCIgaW4gYXJnICYmXG4gICAgICAgIHR5cGVvZiBhcmcuZmllbGQgPT0gXCJmdW5jdGlvblwiKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihcIkBidWZidWlsZC9wcm90b2J1Zi90ZXh0LWVuY29kaW5nXCIpO1xuLyoqXG4gKiBQcm90b2J1Zi1FUyByZXF1aXJlcyB0aGUgVGV4dCBFbmNvZGluZyBBUEkgdG8gY29udmVydCBVVEYtOCBmcm9tIGFuZCB0b1xuICogYmluYXJ5LiBUaGlzIFdIQVRXRyBBUEkgaXMgd2lkZWx5IGF2YWlsYWJsZSwgYnV0IGl0IGlzIG5vdCBwYXJ0IG9mIHRoZVxuICogRUNNQVNjcmlwdCBzdGFuZGFyZC4gT24gcnVudGltZXMgd2hlcmUgaXQgaXMgbm90IGF2YWlsYWJsZSwgdXNlIHRoaXNcbiAqIGZ1bmN0aW9uIHRvIHByb3ZpZGUgeW91ciBvd24gaW1wbGVtZW50YXRpb24uXG4gKlxuICogTm90ZSB0aGF0IHRoZSBUZXh0IEVuY29kaW5nIEFQSSBkb2VzIG5vdCBwcm92aWRlIGEgd2F5IHRvIHZhbGlkYXRlIFVURi04LlxuICogT3VyIGltcGxlbWVudGF0aW9uIGZhbGxzIGJhY2sgdG8gdXNlIGVuY29kZVVSSUNvbXBvbmVudCgpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlVGV4dEVuY29kaW5nKHRleHRFbmNvZGluZykge1xuICAgIGdsb2JhbFRoaXNbc3ltYm9sXSA9IHRleHRFbmNvZGluZztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0RW5jb2RpbmcoKSB7XG4gICAgaWYgKGdsb2JhbFRoaXNbc3ltYm9sXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdGUgPSBuZXcgZ2xvYmFsVGhpcy5UZXh0RW5jb2RlcigpO1xuICAgICAgICBjb25zdCB0ZCA9IG5ldyBnbG9iYWxUaGlzLlRleHREZWNvZGVyKCk7XG4gICAgICAgIGdsb2JhbFRoaXNbc3ltYm9sXSA9IHtcbiAgICAgICAgICAgIGVuY29kZVV0ZjgodGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZS5lbmNvZGUodGV4dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVjb2RlVXRmOChieXRlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZC5kZWNvZGUoYnl0ZXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoZWNrVXRmOCh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxUaGlzW3N5bWJvbF07XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHZhcmludDMycmVhZCwgdmFyaW50MzJ3cml0ZSwgdmFyaW50NjRyZWFkLCB2YXJpbnQ2NHdyaXRlLCB9IGZyb20gXCIuL3ZhcmludC5qc1wiO1xuaW1wb3J0IHsgcHJvdG9JbnQ2NCB9IGZyb20gXCIuLi9wcm90by1pbnQ2NC5qc1wiO1xuaW1wb3J0IHsgZ2V0VGV4dEVuY29kaW5nIH0gZnJvbSBcIi4vdGV4dC1lbmNvZGluZy5qc1wiO1xuLyoqXG4gKiBQcm90b2J1ZiBiaW5hcnkgZm9ybWF0IHdpcmUgdHlwZXMuXG4gKlxuICogQSB3aXJlIHR5cGUgcHJvdmlkZXMganVzdCBlbm91Z2ggaW5mb3JtYXRpb24gdG8gZmluZCB0aGUgbGVuZ3RoIG9mIHRoZVxuICogZm9sbG93aW5nIHZhbHVlLlxuICpcbiAqIFNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvZW5jb2Rpbmcjc3RydWN0dXJlXG4gKi9cbmV4cG9ydCB2YXIgV2lyZVR5cGU7XG4oZnVuY3Rpb24gKFdpcmVUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIlZhcmludFwiXSA9IDBdID0gXCJWYXJpbnRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBmaXhlZDY0LCBzZml4ZWQ2NCwgZG91YmxlLlxuICAgICAqIEFsd2F5cyA4IGJ5dGVzIHdpdGggbGl0dGxlLWVuZGlhbiBieXRlIG9yZGVyLlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiQml0NjRcIl0gPSAxXSA9IFwiQml0NjRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBzdHJpbmcsIGJ5dGVzLCBlbWJlZGRlZCBtZXNzYWdlcywgcGFja2VkIHJlcGVhdGVkIGZpZWxkc1xuICAgICAqXG4gICAgICogT25seSByZXBlYXRlZCBudW1lcmljIHR5cGVzICh0eXBlcyB3aGljaCB1c2UgdGhlIHZhcmludCwgMzItYml0LFxuICAgICAqIG9yIDY0LWJpdCB3aXJlIHR5cGVzKSBjYW4gYmUgcGFja2VkLiBJbiBwcm90bzMsIHN1Y2ggZmllbGRzIGFyZVxuICAgICAqIHBhY2tlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiTGVuZ3RoRGVsaW1pdGVkXCJdID0gMl0gPSBcIkxlbmd0aERlbGltaXRlZFwiO1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IG9mIGEgdGFnLWRlbGltaXRlZCBhZ2dyZWdhdGUsIHN1Y2ggYXMgYSBwcm90bzIgZ3JvdXAsIG9yIGEgbWVzc2FnZVxuICAgICAqIGluIGVkaXRpb25zIHdpdGggbWVzc2FnZV9lbmNvZGluZyA9IERFTElNSVRFRC5cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIlN0YXJ0R3JvdXBcIl0gPSAzXSA9IFwiU3RhcnRHcm91cFwiO1xuICAgIC8qKlxuICAgICAqIEVuZCBvZiBhIHRhZy1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiRW5kR3JvdXBcIl0gPSA0XSA9IFwiRW5kR3JvdXBcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBmaXhlZDMyLCBzZml4ZWQzMiwgZmxvYXQuXG4gICAgICogQWx3YXlzIDQgYnl0ZXMgd2l0aCBsaXR0bGUtZW5kaWFuIGJ5dGUgb3JkZXIuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJCaXQzMlwiXSA9IDVdID0gXCJCaXQzMlwiO1xufSkoV2lyZVR5cGUgfHwgKFdpcmVUeXBlID0ge30pKTtcbi8qKlxuICogTWF4aW11bSB2YWx1ZSBmb3IgYSAzMi1iaXQgZmxvYXRpbmcgcG9pbnQgdmFsdWUgKFByb3RvYnVmIEZMT0FUKS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZMT0FUMzJfTUFYID0gMy40MDI4MjM0NjYzODUyODg2ZTM4O1xuLyoqXG4gKiBNaW5pbXVtIHZhbHVlIGZvciBhIDMyLWJpdCBmbG9hdGluZyBwb2ludCB2YWx1ZSAoUHJvdG9idWYgRkxPQVQpLlxuICovXG5leHBvcnQgY29uc3QgRkxPQVQzMl9NSU4gPSAtMy40MDI4MjM0NjYzODUyODg2ZTM4O1xuLyoqXG4gKiBNYXhpbXVtIHZhbHVlIGZvciBhbiB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlciAoUHJvdG9idWYgVUlOVDMyLCBGSVhFRDMyKS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVJTlQzMl9NQVggPSAweGZmZmZmZmZmO1xuLyoqXG4gKiBNYXhpbXVtIHZhbHVlIGZvciBhIHNpZ25lZCAzMi1iaXQgaW50ZWdlciAoUHJvdG9idWYgSU5UMzIsIFNGSVhFRDMyLCBTSU5UMzIpLlxuICovXG5leHBvcnQgY29uc3QgSU5UMzJfTUFYID0gMHg3ZmZmZmZmZjtcbi8qKlxuICogTWluaW11bSB2YWx1ZSBmb3IgYSBzaWduZWQgMzItYml0IGludGVnZXIgKFByb3RvYnVmIElOVDMyLCBTRklYRUQzMiwgU0lOVDMyKS5cbiAqL1xuZXhwb3J0IGNvbnN0IElOVDMyX01JTiA9IC0weDgwMDAwMDAwO1xuZXhwb3J0IGNsYXNzIEJpbmFyeVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IoZW5jb2RlVXRmOCA9IGdldFRleHRFbmNvZGluZygpLmVuY29kZVV0ZjgpIHtcbiAgICAgICAgdGhpcy5lbmNvZGVVdGY4ID0gZW5jb2RlVXRmODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXZpb3VzIGZvcmsgc3RhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIGJ5dGVzIHdyaXR0ZW4gYW5kIHJlc2V0IHRoaXMgd3JpdGVyLlxuICAgICAqL1xuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaHVua3MucHVzaChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZikpOyAvLyBmbHVzaCB0aGUgYnVmZmVyXG4gICAgICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsZW4gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2h1bmtzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbGVuICs9IHRoaXMuY2h1bmtzW2ldLmxlbmd0aDtcbiAgICAgICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ5dGVzLnNldCh0aGlzLmNodW5rc1tpXSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSB0aGlzLmNodW5rc1tpXS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIG5ldyBmb3JrIGZvciBsZW5ndGgtZGVsaW1pdGVkIGRhdGEgbGlrZSBhIG1lc3NhZ2VcbiAgICAgKiBvciBhIHBhY2tlZCByZXBlYXRlZCBmaWVsZC5cbiAgICAgKlxuICAgICAqIE11c3QgYmUgam9pbmVkIGxhdGVyIHdpdGggYGpvaW4oKWAuXG4gICAgICovXG4gICAgZm9yaygpIHtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHsgY2h1bmtzOiB0aGlzLmNodW5rcywgYnVmOiB0aGlzLmJ1ZiB9KTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEpvaW4gdGhlIGxhc3QgZm9yay4gV3JpdGUgaXRzIGxlbmd0aCBhbmQgYnl0ZXMsIHRoZW5cbiAgICAgKiByZXR1cm4gdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICAgICAqL1xuICAgIGpvaW4oKSB7XG4gICAgICAgIC8vIGdldCBjaHVuayBvZiBmb3JrXG4gICAgICAgIGxldCBjaHVuayA9IHRoaXMuZmluaXNoKCk7XG4gICAgICAgIC8vIHJlc3RvcmUgcHJldmlvdXMgc3RhdGVcbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAoIXByZXYpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHN0YXRlLCBmb3JrIHN0YWNrIGVtcHR5XCIpO1xuICAgICAgICB0aGlzLmNodW5rcyA9IHByZXYuY2h1bmtzO1xuICAgICAgICB0aGlzLmJ1ZiA9IHByZXYuYnVmO1xuICAgICAgICAvLyB3cml0ZSBsZW5ndGggb2YgY2h1bmsgYXMgdmFyaW50XG4gICAgICAgIHRoaXMudWludDMyKGNodW5rLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSB0YWcgKGZpZWxkIG51bWJlciBhbmQgd2lyZSB0eXBlKS5cbiAgICAgKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYHVpbnQzMiggKGZpZWxkTm8gPDwgMyB8IHR5cGUpID4+PiAwIClgLlxuICAgICAqXG4gICAgICogR2VuZXJhdGVkIGNvZGUgc2hvdWxkIGNvbXB1dGUgdGhlIHRhZyBhaGVhZCBvZiB0aW1lIGFuZCBjYWxsIGB1aW50MzIoKWAuXG4gICAgICovXG4gICAgdGFnKGZpZWxkTm8sIHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWludDMyKCgoZmllbGRObyA8PCAzKSB8IHR5cGUpID4+PiAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBjaHVuayBvZiByYXcgYnl0ZXMuXG4gICAgICovXG4gICAgcmF3KGNodW5rKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzLnB1c2gobmV3IFVpbnQ4QXJyYXkodGhpcy5idWYpKTtcbiAgICAgICAgICAgIHRoaXMuYnVmID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGB1aW50MzJgIHZhbHVlLCBhbiB1bnNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHVpbnQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRVSW50MzIodmFsdWUpO1xuICAgICAgICAvLyB3cml0ZSB2YWx1ZSBhcyB2YXJpbnQgMzIsIGlubGluZWQgZm9yIHNwZWVkXG4gICAgICAgIHdoaWxlICh2YWx1ZSA+IDB4N2YpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2goKHZhbHVlICYgMHg3ZikgfCAweDgwKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4+IDc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBpbnQzMmAgdmFsdWUsIGEgc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50MzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0SW50MzIodmFsdWUpO1xuICAgICAgICB2YXJpbnQzMndyaXRlKHZhbHVlLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBib29sYCB2YWx1ZSwgYSB2YXJpYW50LlxuICAgICAqL1xuICAgIGJvb2wodmFsdWUpIHtcbiAgICAgICAgdGhpcy5idWYucHVzaCh2YWx1ZSA/IDEgOiAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGJ5dGVzYCB2YWx1ZSwgbGVuZ3RoLWRlbGltaXRlZCBhcmJpdHJhcnkgZGF0YS5cbiAgICAgKi9cbiAgICBieXRlcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnVpbnQzMih2YWx1ZS5ieXRlTGVuZ3RoKTsgLy8gd3JpdGUgbGVuZ3RoIG9mIGNodW5rIGFzIHZhcmludFxuICAgICAgICByZXR1cm4gdGhpcy5yYXcodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBzdHJpbmdgIHZhbHVlLCBsZW5ndGgtZGVsaW1pdGVkIGRhdGEgY29udmVydGVkIHRvIFVURi04IHRleHQuXG4gICAgICovXG4gICAgc3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IHRoaXMuZW5jb2RlVXRmOCh2YWx1ZSk7XG4gICAgICAgIHRoaXMudWludDMyKGNodW5rLmJ5dGVMZW5ndGgpOyAvLyB3cml0ZSBsZW5ndGggb2YgY2h1bmsgYXMgdmFyaW50XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZsb2F0YCB2YWx1ZSwgMzItYml0IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAgKi9cbiAgICBmbG9hdCh2YWx1ZSkge1xuICAgICAgICBhc3NlcnRGbG9hdDMyKHZhbHVlKTtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldEZsb2F0MzIoMCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBkb3VibGVgIHZhbHVlLCBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZG91YmxlKHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRGbG9hdDY0KDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZml4ZWQzMmAgdmFsdWUsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggMzItYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRVSW50MzIodmFsdWUpO1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcikuc2V0VWludDMyKDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc2ZpeGVkMzJgIHZhbHVlLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldEludDMyKDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc2ludDMyYCB2YWx1ZSwgYSBzaWduZWQsIHppZ3phZy1lbmNvZGVkIDMyLWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgLy8gemlnemFnIGVuY29kZVxuICAgICAgICB2YWx1ZSA9ICgodmFsdWUgPDwgMSkgXiAodmFsdWUgPj4gMzEpKSA+Pj4gMDtcbiAgICAgICAgdmFyaW50MzJ3cml0ZSh2YWx1ZSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZml4ZWQ2NGAgdmFsdWUsIGEgc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQtYml0IGludGVnZXIuXG4gICAgICovXG4gICAgc2ZpeGVkNjQodmFsdWUpIHtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoOCksIHZpZXcgPSBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKSwgdGMgPSBwcm90b0ludDY0LmVuYyh2YWx1ZSk7XG4gICAgICAgIHZpZXcuc2V0SW50MzIoMCwgdGMubG8sIHRydWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDQsIHRjLmhpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZml4ZWQ2NGAgdmFsdWUsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQgYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQ2NCh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg4KSwgdmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLCB0YyA9IHByb3RvSW50NjQudUVuYyh2YWx1ZSk7XG4gICAgICAgIHZpZXcuc2V0SW50MzIoMCwgdGMubG8sIHRydWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDQsIHRjLmhpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgaW50NjRgIHZhbHVlLCBhIHNpZ25lZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIGludDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCB0YyA9IHByb3RvSW50NjQuZW5jKHZhbHVlKTtcbiAgICAgICAgdmFyaW50NjR3cml0ZSh0Yy5sbywgdGMuaGksIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHNpbnQ2NGAgdmFsdWUsIGEgc2lnbmVkLCB6aWctemFnLWVuY29kZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBzaW50NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGMgPSBwcm90b0ludDY0LmVuYyh2YWx1ZSksIFxuICAgICAgICAvLyB6aWd6YWcgZW5jb2RlXG4gICAgICAgIHNpZ24gPSB0Yy5oaSA+PiAzMSwgbG8gPSAodGMubG8gPDwgMSkgXiBzaWduLCBoaSA9ICgodGMuaGkgPDwgMSkgfCAodGMubG8gPj4+IDMxKSkgXiBzaWduO1xuICAgICAgICB2YXJpbnQ2NHdyaXRlKGxvLCBoaSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgdWludDY0YCB2YWx1ZSwgYW4gdW5zaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICB1aW50NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGMgPSBwcm90b0ludDY0LnVFbmModmFsdWUpO1xuICAgICAgICB2YXJpbnQ2NHdyaXRlKHRjLmxvLCB0Yy5oaSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmluYXJ5UmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihidWYsIGRlY29kZVV0ZjggPSBnZXRUZXh0RW5jb2RpbmcoKS5kZWNvZGVVdGY4KSB7XG4gICAgICAgIHRoaXMuZGVjb2RlVXRmOCA9IGRlY29kZVV0Zjg7XG4gICAgICAgIHRoaXMudmFyaW50NjQgPSB2YXJpbnQ2NHJlYWQ7IC8vIGRpcnR5IGNhc3QgZm9yIGB0aGlzYFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZCBhIGB1aW50MzJgIGZpZWxkLCBhbiB1bnNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzIgPSB2YXJpbnQzMnJlYWQ7XG4gICAgICAgIHRoaXMuYnVmID0gYnVmO1xuICAgICAgICB0aGlzLmxlbiA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGEgdGFnIC0gZmllbGQgbnVtYmVyIGFuZCB3aXJlIHR5cGUuXG4gICAgICovXG4gICAgdGFnKCkge1xuICAgICAgICBsZXQgdGFnID0gdGhpcy51aW50MzIoKSwgZmllbGRObyA9IHRhZyA+Pj4gMywgd2lyZVR5cGUgPSB0YWcgJiA3O1xuICAgICAgICBpZiAoZmllbGRObyA8PSAwIHx8IHdpcmVUeXBlIDwgMCB8fCB3aXJlVHlwZSA+IDUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHRhZzogZmllbGQgbm8gXCIgKyBmaWVsZE5vICsgXCIgd2lyZSB0eXBlIFwiICsgd2lyZVR5cGUpO1xuICAgICAgICByZXR1cm4gW2ZpZWxkTm8sIHdpcmVUeXBlXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2tpcCBvbmUgZWxlbWVudCBhbmQgcmV0dXJuIHRoZSBza2lwcGVkIGRhdGEuXG4gICAgICpcbiAgICAgKiBXaGVuIHNraXBwaW5nIFN0YXJ0R3JvdXAsIHByb3ZpZGUgdGhlIHRhZ3MgZmllbGQgbnVtYmVyIHRvIGNoZWNrIGZvclxuICAgICAqIG1hdGNoaW5nIGZpZWxkIG51bWJlciBpbiB0aGUgRW5kR3JvdXAgdGFnLlxuICAgICAqL1xuICAgIHNraXAod2lyZVR5cGUsIGZpZWxkTm8pIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIHN3aXRjaCAod2lyZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgV2lyZVR5cGUuVmFyaW50OlxuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBUUzcwMjk6IEZhbGx0aHJvdWdoIGNhc2UgaW4gc3dpdGNoIC0tIGlnbm9yZSBpbnN0ZWFkIG9mIGV4cGVjdC1lcnJvciBmb3IgY29tcGlsZXIgc2V0dGluZ3Mgd2l0aG91dCBub0ZhbGx0aHJvdWdoQ2FzZXNJblN3aXRjaDogdHJ1ZVxuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5CaXQ2NDpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5CaXQzMjpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQ6XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMudWludDMyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5TdGFydEdyb3VwOlxuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2ZuLCB3dF0gPSB0aGlzLnRhZygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod3QgPT09IFdpcmVUeXBlLkVuZEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRObyAhPT0gdW5kZWZpbmVkICYmIGZuICE9PSBmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBlbmQgZ3JvdXAgdGFnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lwKHd0LCBmbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW50IHNraXAgd2lyZSB0eXBlIFwiICsgd2lyZVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheShzdGFydCwgdGhpcy5wb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaHJvd3MgZXJyb3IgaWYgcG9zaXRpb24gaW4gYnl0ZSBhcnJheSBpcyBvdXQgb2YgcmFuZ2UuXG4gICAgICovXG4gICAgYXNzZXJ0Qm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5wb3MgPiB0aGlzLmxlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwicHJlbWF0dXJlIEVPRlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBpbnQzMmAgZmllbGQsIGEgc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVpbnQzMigpIHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBzaW50MzJgIGZpZWxkLCBhIHNpZ25lZCwgemlnemFnLWVuY29kZWQgMzItYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBzaW50MzIoKSB7XG4gICAgICAgIGxldCB6emUgPSB0aGlzLnVpbnQzMigpO1xuICAgICAgICAvLyBkZWNvZGUgemlnemFnXG4gICAgICAgIHJldHVybiAoenplID4+PiAxKSBeIC0oenplICYgMSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgaW50NjRgIGZpZWxkLCBhIHNpZ25lZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIGludDY0KCkge1xuICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC5kZWMoLi4udGhpcy52YXJpbnQ2NCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGB1aW50NjRgIGZpZWxkLCBhbiB1bnNpZ25lZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHVpbnQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvSW50NjQudURlYyguLi50aGlzLnZhcmludDY0KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHNpbnQ2NGAgZmllbGQsIGEgc2lnbmVkLCB6aWctemFnLWVuY29kZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBzaW50NjQoKSB7XG4gICAgICAgIGxldCBbbG8sIGhpXSA9IHRoaXMudmFyaW50NjQoKTtcbiAgICAgICAgLy8gZGVjb2RlIHppZyB6YWdcbiAgICAgICAgbGV0IHMgPSAtKGxvICYgMSk7XG4gICAgICAgIGxvID0gKChsbyA+Pj4gMSkgfCAoKGhpICYgMSkgPDwgMzEpKSBeIHM7XG4gICAgICAgIGhpID0gKGhpID4+PiAxKSBeIHM7XG4gICAgICAgIHJldHVybiBwcm90b0ludDY0LmRlYyhsbywgaGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGJvb2xgIGZpZWxkLCBhIHZhcmlhbnQuXG4gICAgICovXG4gICAgYm9vbCgpIHtcbiAgICAgICAgbGV0IFtsbywgaGldID0gdGhpcy52YXJpbnQ2NCgpO1xuICAgICAgICByZXR1cm4gbG8gIT09IDAgfHwgaGkgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZml4ZWQzMmAgZmllbGQsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggMzItYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQzMigpIHtcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKCh0aGlzLnBvcyArPSA0KSAtIDQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHNmaXhlZDMyYCBmaWVsZCwgYSBzaWduZWQsIGZpeGVkLWxlbmd0aCAzMi1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBzZml4ZWQzMigpIHtcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50MzIoKHRoaXMucG9zICs9IDQpIC0gNCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZml4ZWQ2NGAgZmllbGQsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQgYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvSW50NjQudURlYyh0aGlzLnNmaXhlZDMyKCksIHRoaXMuc2ZpeGVkMzIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZml4ZWQ2NGAgZmllbGQsIGEgc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQtYml0IGludGVnZXIuXG4gICAgICovXG4gICAgc2ZpeGVkNjQoKSB7XG4gICAgICAgIHJldHVybiBwcm90b0ludDY0LmRlYyh0aGlzLnNmaXhlZDMyKCksIHRoaXMuc2ZpeGVkMzIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZmxvYXRgIGZpZWxkLCAzMi1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZsb2F0KCkge1xuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDMyKCh0aGlzLnBvcyArPSA0KSAtIDQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGRvdWJsZWAgZmllbGQsIGEgNjQtYml0IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAgKi9cbiAgICBkb3VibGUoKSB7XG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0NjQoKHRoaXMucG9zICs9IDgpIC0gOCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgYnl0ZXNgIGZpZWxkLCBsZW5ndGgtZGVsaW1pdGVkIGFyYml0cmFyeSBkYXRhLlxuICAgICAqL1xuICAgIGJ5dGVzKCkge1xuICAgICAgICBsZXQgbGVuID0gdGhpcy51aW50MzIoKSwgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBzdHJpbmdgIGZpZWxkLCBsZW5ndGgtZGVsaW1pdGVkIGRhdGEgY29udmVydGVkIHRvIFVURi04IHRleHQuXG4gICAgICovXG4gICAgc3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGVVdGY4KHRoaXMuYnl0ZXMoKSk7XG4gICAgfVxufVxuLyoqXG4gKiBBc3NlcnQgYSB2YWxpZCBzaWduZWQgcHJvdG9idWYgMzItYml0IGludGVnZXIgYXMgYSBudW1iZXIgb3Igc3RyaW5nLlxuICovXG5mdW5jdGlvbiBhc3NlcnRJbnQzMihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGFyZyA9IE51bWJlcihhcmcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYXJnICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBpbnQzMjogXCIgKyB0eXBlb2YgYXJnKTtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGFyZykgfHxcbiAgICAgICAgYXJnID4gSU5UMzJfTUFYIHx8XG4gICAgICAgIGFyZyA8IElOVDMyX01JTilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBpbnQzMjogXCIgKyBhcmcpO1xufVxuLyoqXG4gKiBBc3NlcnQgYSB2YWxpZCB1bnNpZ25lZCBwcm90b2J1ZiAzMi1iaXQgaW50ZWdlciBhcyBhIG51bWJlciBvciBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFVJbnQzMihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGFyZyA9IE51bWJlcihhcmcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYXJnICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB1aW50MzI6IFwiICsgdHlwZW9mIGFyZyk7XG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihhcmcpIHx8XG4gICAgICAgIGFyZyA+IFVJTlQzMl9NQVggfHxcbiAgICAgICAgYXJnIDwgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB1aW50MzI6IFwiICsgYXJnKTtcbn1cbi8qKlxuICogQXNzZXJ0IGEgdmFsaWQgcHJvdG9idWYgZmxvYXQgdmFsdWUgYXMgYSBudW1iZXIgb3Igc3RyaW5nLlxuICovXG5mdW5jdGlvbiBhc3NlcnRGbG9hdDMyKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3QgbyA9IGFyZztcbiAgICAgICAgYXJnID0gTnVtYmVyKGFyZyk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oYXJnKSAmJiBvICE9PSBcIk5hTlwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZsb2F0MzI6IFwiICsgbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFyZyAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmxvYXQzMjogXCIgKyB0eXBlb2YgYXJnKTtcbiAgICB9XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShhcmcpICYmXG4gICAgICAgIChhcmcgPiBGTE9BVDMyX01BWCB8fCBhcmcgPCBGTE9BVDMyX01JTikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmxvYXQzMjogXCIgKyBhcmcpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgaXNNZXNzYWdlIH0gZnJvbSBcIi4uL2lzLW1lc3NhZ2UuanNcIjtcbmltcG9ydCB7IEZpZWxkRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IHsgaXNSZWZsZWN0TGlzdCwgaXNSZWZsZWN0TWFwLCBpc1JlZmxlY3RNZXNzYWdlIH0gZnJvbSBcIi4vZ3VhcmQuanNcIjtcbmltcG9ydCB7IEZMT0FUMzJfTUFYLCBGTE9BVDMyX01JTiwgSU5UMzJfTUFYLCBJTlQzMl9NSU4sIFVJTlQzMl9NQVgsIH0gZnJvbSBcIi4uL3dpcmUvYmluYXJ5LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyBnZXRUZXh0RW5jb2RpbmcgfSBmcm9tIFwiLi4vd2lyZS90ZXh0LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyBwcm90b0ludDY0IH0gZnJvbSBcIi4uL3Byb3RvLWludDY0LmpzXCI7XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIGZpZWxkIHZhbHVlIGlzIHZhbGlkIGZvciB0aGUgcmVmbGVjdCBBUEkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkge1xuICAgIGNvbnN0IGNoZWNrID0gZmllbGQuZmllbGRLaW5kID09IFwibGlzdFwiXG4gICAgICAgID8gaXNSZWZsZWN0TGlzdCh2YWx1ZSwgZmllbGQpXG4gICAgICAgIDogZmllbGQuZmllbGRLaW5kID09IFwibWFwXCJcbiAgICAgICAgICAgID8gaXNSZWZsZWN0TWFwKHZhbHVlLCBmaWVsZClcbiAgICAgICAgICAgIDogY2hlY2tTaW5ndWxhcihmaWVsZCwgdmFsdWUpO1xuICAgIGlmIChjaGVjayA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsZXQgcmVhc29uO1xuICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICByZWFzb24gPSBgZXhwZWN0ZWQgJHtmb3JtYXRSZWZsZWN0TGlzdChmaWVsZCl9LCBnb3QgJHtmb3JtYXRWYWwodmFsdWUpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgcmVhc29uID0gYGV4cGVjdGVkICR7Zm9ybWF0UmVmbGVjdE1hcChmaWVsZCl9LCBnb3QgJHtmb3JtYXRWYWwodmFsdWUpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmVhc29uID0gcmVhc29uU2luZ3VsYXIoZmllbGQsIHZhbHVlLCBjaGVjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGaWVsZEVycm9yKGZpZWxkLCByZWFzb24pO1xufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBsaXN0IGl0ZW0gaXMgdmFsaWQgZm9yIHRoZSByZWZsZWN0IEFQSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTGlzdEl0ZW0oZmllbGQsIGluZGV4LCB2YWx1ZSkge1xuICAgIGNvbnN0IGNoZWNrID0gY2hlY2tTaW5ndWxhcihmaWVsZCwgdmFsdWUpO1xuICAgIGlmIChjaGVjayAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkRXJyb3IoZmllbGQsIGBsaXN0IGl0ZW0gIyR7aW5kZXggKyAxfTogJHtyZWFzb25TaW5ndWxhcihmaWVsZCwgdmFsdWUsIGNoZWNrKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gbWFwIGtleSBhbmQgdmFsdWUgYXJlIHZhbGlkIGZvciB0aGUgcmVmbGVjdCBBUEkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja01hcEVudHJ5KGZpZWxkLCBrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgY2hlY2tLZXkgPSBjaGVja1NjYWxhclZhbHVlKGtleSwgZmllbGQubWFwS2V5KTtcbiAgICBpZiAoY2hlY2tLZXkgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEVycm9yKGZpZWxkLCBgaW52YWxpZCBtYXAga2V5OiAke3JlYXNvblNpbmd1bGFyKHsgc2NhbGFyOiBmaWVsZC5tYXBLZXkgfSwga2V5LCBjaGVja0tleSl9YCk7XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrVmFsID0gY2hlY2tTaW5ndWxhcihmaWVsZCwgdmFsdWUpO1xuICAgIGlmIChjaGVja1ZhbCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkRXJyb3IoZmllbGQsIGBtYXAgZW50cnkgJHtmb3JtYXRWYWwoa2V5KX06ICR7cmVhc29uU2luZ3VsYXIoZmllbGQsIHZhbHVlLCBjaGVja1ZhbCl9YCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBjaGVja1Npbmd1bGFyKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5zY2FsYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY2hlY2tTY2FsYXJWYWx1ZSh2YWx1ZSwgZmllbGQuc2NhbGFyKTtcbiAgICB9XG4gICAgaWYgKGZpZWxkLmVudW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoZmllbGQuZW51bS5vcGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkLmVudW0udmFsdWVzLnNvbWUoKHYpID0+IHYubnVtYmVyID09PSB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpc1JlZmxlY3RNZXNzYWdlKHZhbHVlLCBmaWVsZC5tZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIGNoZWNrU2NhbGFyVmFsdWUodmFsdWUsIHNjYWxhcikge1xuICAgIHN3aXRjaCAoc2NhbGFyKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpIHx8ICFOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBGTE9BVDMyX01BWCB8fCB2YWx1ZSA8IEZMT0FUMzJfTUlOKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlLnRvRml4ZWQoKX0gb3V0IG9mIHJhbmdlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgIC8vIHNpZ25lZFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBJTlQzMl9NQVggfHwgdmFsdWUgPCBJTlQzMl9NSU4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWUudG9GaXhlZCgpfSBvdXQgb2YgcmFuZ2VgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgLy8gdW5zaWduZWRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID4gVUlOVDMyX01BWCB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWUudG9GaXhlZCgpfSBvdXQgb2YgcmFuZ2VgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRUZXh0RW5jb2RpbmcoKS5jaGVja1V0ZjgodmFsdWUpIHx8IFwiaW52YWxpZCBVVEY4XCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgLy8gc2lnbmVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwiYmlnaW50XCIgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3RvSW50NjQucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfSBvdXQgb2YgcmFuZ2VgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICAvLyB1bnNpZ25lZFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImJpZ2ludFwiIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgJiYgdmFsdWUubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwcm90b0ludDY0LnVQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWV9IG91dCBvZiByYW5nZWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYXNvblNpbmd1bGFyKGZpZWxkLCB2YWwsIGRldGFpbHMpIHtcbiAgICBkZXRhaWxzID1cbiAgICAgICAgdHlwZW9mIGRldGFpbHMgPT0gXCJzdHJpbmdcIiA/IGA6ICR7ZGV0YWlsc31gIDogYCwgZ290ICR7Zm9ybWF0VmFsKHZhbCl9YDtcbiAgICBpZiAoZmllbGQuc2NhbGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGBleHBlY3RlZCAke3NjYWxhclR5cGVEZXNjcmlwdGlvbihmaWVsZC5zY2FsYXIpfWAgKyBkZXRhaWxzO1xuICAgIH1cbiAgICBpZiAoZmllbGQuZW51bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBgZXhwZWN0ZWQgJHtmaWVsZC5lbnVtLnRvU3RyaW5nKCl9YCArIGRldGFpbHM7XG4gICAgfVxuICAgIHJldHVybiBgZXhwZWN0ZWQgJHtmb3JtYXRSZWZsZWN0TWVzc2FnZShmaWVsZC5tZXNzYWdlKX1gICsgZGV0YWlscztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRWYWwodmFsKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsKSB7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWludDhBcnJheSgke3ZhbC5sZW5ndGh9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBBcnJheSgke3ZhbC5sZW5ndGh9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZWZsZWN0TGlzdCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFJlZmxlY3RMaXN0KHZhbC5maWVsZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JlZmxlY3RNYXAodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRSZWZsZWN0TWFwKHZhbC5maWVsZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JlZmxlY3RNZXNzYWdlKHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0UmVmbGVjdE1lc3NhZ2UodmFsLmRlc2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTWVzc2FnZSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBtZXNzYWdlICR7dmFsLiR0eXBlTmFtZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCI7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiB2YWwubGVuZ3RoID4gMzAgPyBcInN0cmluZ1wiIDogYFwiJHt2YWwuc3BsaXQoJ1wiJykuam9pbignXFxcXFwiJyl9XCJgO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsKSArIFwiblwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gXCJzeW1ib2xcIiB8IFwidW5kZWZpbmVkXCIgfCBcIm9iamVjdFwiIHwgXCJmdW5jdGlvblwiXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbDtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRSZWZsZWN0TWVzc2FnZShkZXNjKSB7XG4gICAgcmV0dXJuIGBSZWZsZWN0TWVzc2FnZSAoJHtkZXNjLnR5cGVOYW1lfSlgO1xufVxuZnVuY3Rpb24gZm9ybWF0UmVmbGVjdExpc3QoZmllbGQpIHtcbiAgICBzd2l0Y2ggKGZpZWxkLmxpc3RLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZXR1cm4gYFJlZmxlY3RMaXN0ICgke2ZpZWxkLm1lc3NhZ2UudG9TdHJpbmcoKX0pYDtcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJldHVybiBgUmVmbGVjdExpc3QgKCR7ZmllbGQuZW51bS50b1N0cmluZygpfSlgO1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICByZXR1cm4gYFJlZmxlY3RMaXN0ICgke1NjYWxhclR5cGVbZmllbGQuc2NhbGFyXX0pYDtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRSZWZsZWN0TWFwKGZpZWxkKSB7XG4gICAgc3dpdGNoIChmaWVsZC5tYXBLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZXR1cm4gYFJlZmxlY3RNYXAgKCR7U2NhbGFyVHlwZVtmaWVsZC5tYXBLZXldfSwgJHtmaWVsZC5tZXNzYWdlLnRvU3RyaW5nKCl9KWA7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gYFJlZmxlY3RNYXAgKCR7U2NhbGFyVHlwZVtmaWVsZC5tYXBLZXldfSwgJHtmaWVsZC5lbnVtLnRvU3RyaW5nKCl9KWA7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIHJldHVybiBgUmVmbGVjdE1hcCAoJHtTY2FsYXJUeXBlW2ZpZWxkLm1hcEtleV19LCAke1NjYWxhclR5cGVbZmllbGQuc2NhbGFyXX0pYDtcbiAgICB9XG59XG5mdW5jdGlvbiBzY2FsYXJUeXBlRGVzY3JpcHRpb24oc2NhbGFyKSB7XG4gICAgc3dpdGNoIChzY2FsYXIpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgICAgICByZXR1cm4gXCJiaWdpbnQgKGludDY0KVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgIHJldHVybiBcImJpZ2ludCAodWludDY0KVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gXCJVaW50OEFycmF5XCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXIgKGZsb2F0NjQpXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlciAoZmxvYXQzMilcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXIgKHVpbnQzMilcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXIgKGludDMyKVwiO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IGNoZWNrRmllbGQsIGNoZWNrTGlzdEl0ZW0sIGNoZWNrTWFwRW50cnkgfSBmcm9tIFwiLi9yZWZsZWN0LWNoZWNrLmpzXCI7XG5pbXBvcnQgeyBGaWVsZEVycm9yIH0gZnJvbSBcIi4vZXJyb3IuanNcIjtcbmltcG9ydCB7IHVuc2FmZUNsZWFyLCB1bnNhZmVHZXQsIHVuc2FmZUlzU2V0LCB1bnNhZmVMb2NhbCwgdW5zYWZlT25lb2ZDYXNlLCB1bnNhZmVTZXQsIH0gZnJvbSBcIi4vdW5zYWZlLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwiLi4vY3JlYXRlLmpzXCI7XG5pbXBvcnQgeyBpc1dyYXBwZXIsIGlzV3JhcHBlckRlc2MgfSBmcm9tIFwiLi4vd2t0L3dyYXBwZXJzLmpzXCI7XG5pbXBvcnQgeyBzY2FsYXJaZXJvVmFsdWUgfSBmcm9tIFwiLi9zY2FsYXIuanNcIjtcbmltcG9ydCB7IHByb3RvSW50NjQgfSBmcm9tIFwiLi4vcHJvdG8taW50NjQuanNcIjtcbmltcG9ydCB7IGlzT2JqZWN0LCBpc1JlZmxlY3RMaXN0LCBpc1JlZmxlY3RNYXAsIGlzUmVmbGVjdE1lc3NhZ2UsIH0gZnJvbSBcIi4vZ3VhcmQuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgUmVmbGVjdE1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZsZWN0KG1lc3NhZ2VEZXNjLCBtZXNzYWdlLCBcbi8qKlxuICogQnkgZGVmYXVsdCwgZmllbGQgdmFsdWVzIGFyZSB2YWxpZGF0ZWQgd2hlbiBzZXR0aW5nIHRoZW0uIEZvciBleGFtcGxlLFxuICogYSB2YWx1ZSBmb3IgYW4gdWludDMyIGZpZWxkIG11c3QgYmUgYSBFQ01BU2NyaXB0IE51bWJlciA+PSAwLlxuICpcbiAqIFdoZW4gZmllbGQgdmFsdWVzIGFyZSB0cnVzdGVkLCBwZXJmb3JtYW5jZSBjYW4gYmUgaW1wcm92ZWQgYnkgZGlzYWJsaW5nXG4gKiBjaGVja3MuXG4gKi9cbmNoZWNrID0gdHJ1ZSkge1xuICAgIHJldHVybiBuZXcgUmVmbGVjdE1lc3NhZ2VJbXBsKG1lc3NhZ2VEZXNjLCBtZXNzYWdlLCBjaGVjayk7XG59XG5jbGFzcyBSZWZsZWN0TWVzc2FnZUltcGwge1xuICAgIGdldCBzb3J0ZWRGaWVsZHMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLl9zb3J0ZWRGaWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFxuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgKHRoaXMuX3NvcnRlZEZpZWxkcyA9IHRoaXMuZGVzYy5maWVsZHNcbiAgICAgICAgICAgIC5jb25jYXQoKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubnVtYmVyIC0gYi5udW1iZXIpKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2VEZXNjLCBtZXNzYWdlLCBjaGVjayA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5saXN0cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5tYXBzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNoZWNrID0gY2hlY2s7XG4gICAgICAgIHRoaXMuZGVzYyA9IG1lc3NhZ2VEZXNjO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzW3Vuc2FmZUxvY2FsXSA9IG1lc3NhZ2UgIT09IG51bGwgJiYgbWVzc2FnZSAhPT0gdm9pZCAwID8gbWVzc2FnZSA6IGNyZWF0ZShtZXNzYWdlRGVzYyk7XG4gICAgICAgIHRoaXMuZmllbGRzID0gbWVzc2FnZURlc2MuZmllbGRzO1xuICAgICAgICB0aGlzLm9uZW9mcyA9IG1lc3NhZ2VEZXNjLm9uZW9mcztcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gbWVzc2FnZURlc2MubWVtYmVycztcbiAgICB9XG4gICAgZmluZE51bWJlcihudW1iZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maWVsZHNCeU51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5fZmllbGRzQnlOdW1iZXIgPSBuZXcgTWFwKHRoaXMuZGVzYy5maWVsZHMubWFwKChmKSA9PiBbZi5udW1iZXIsIGZdKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkc0J5TnVtYmVyLmdldChudW1iZXIpO1xuICAgIH1cbiAgICBvbmVvZkNhc2Uob25lb2YpIHtcbiAgICAgICAgYXNzZXJ0T3duKHRoaXMubWVzc2FnZSwgb25lb2YpO1xuICAgICAgICByZXR1cm4gdW5zYWZlT25lb2ZDYXNlKHRoaXMubWVzc2FnZSwgb25lb2YpO1xuICAgIH1cbiAgICBpc1NldChmaWVsZCkge1xuICAgICAgICBhc3NlcnRPd24odGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgICAgIHJldHVybiB1bnNhZmVJc1NldCh0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICB9XG4gICAgY2xlYXIoZmllbGQpIHtcbiAgICAgICAgYXNzZXJ0T3duKHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgICAgICB1bnNhZmVDbGVhcih0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICB9XG4gICAgZ2V0KGZpZWxkKSB7XG4gICAgICAgIGFzc2VydE93bih0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB1bnNhZmVHZXQodGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gdGhpcy5saXN0cy5nZXQoZmllbGQpO1xuICAgICAgICAgICAgICAgIGlmICghbGlzdCB8fCBsaXN0W3Vuc2FmZUxvY2FsXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0cy5zZXQoZmllbGQsIFxuICAgICAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgICAgICAgICAgICAgKGxpc3QgPSBuZXcgUmVmbGVjdExpc3RJbXBsKGZpZWxkLCB2YWx1ZSwgdGhpcy5jaGVjaykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgbGV0IG1hcCA9IHRoaXMubWFwcy5nZXQoZmllbGQpO1xuICAgICAgICAgICAgICAgIGlmICghbWFwIHx8IG1hcFt1bnNhZmVMb2NhbF0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwcy5zZXQoZmllbGQsIFxuICAgICAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgICAgICAgICAgICAgKG1hcCA9IG5ldyBSZWZsZWN0TWFwSW1wbChmaWVsZCwgdmFsdWUsIHRoaXMuY2hlY2spKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSwgdGhpcy5jaGVjayk7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc2NhbGFyWmVyb1ZhbHVlKGZpZWxkLnNjYWxhciwgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIDogbG9uZ1RvUmVmbGVjdChmaWVsZCwgdmFsdWUpKTtcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwID8gdmFsdWUgOiBmaWVsZC5lbnVtLnZhbHVlc1swXS5udW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldChmaWVsZCwgdmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0T3duKHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgICAgICBpZiAodGhpcy5jaGVjaykge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgbG9jYWw7XG4gICAgICAgIGlmIChmaWVsZC5maWVsZEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgIGxvY2FsID0gbWVzc2FnZVRvTG9jYWwoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZmxlY3RNYXAodmFsdWUpIHx8IGlzUmVmbGVjdExpc3QodmFsdWUpKSB7XG4gICAgICAgICAgICBsb2NhbCA9IHZhbHVlW3Vuc2FmZUxvY2FsXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvY2FsID0gbG9uZ1RvTG9jYWwoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB1bnNhZmVTZXQodGhpcy5tZXNzYWdlLCBmaWVsZCwgbG9jYWwpO1xuICAgIH1cbiAgICBnZXRVbmtub3duKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlLiR1bmtub3duO1xuICAgIH1cbiAgICBzZXRVbmtub3duKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZS4kdW5rbm93biA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE93bihvd25lciwgbWVtYmVyKSB7XG4gICAgaWYgKG1lbWJlci5wYXJlbnQudHlwZU5hbWUgIT09IG93bmVyLiR0eXBlTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihtZW1iZXIsIGBjYW5ub3QgdXNlICR7bWVtYmVyLnRvU3RyaW5nKCl9IHdpdGggbWVzc2FnZSAke293bmVyLiR0eXBlTmFtZX1gLCBcIkZvcmVpZ25GaWVsZEVycm9yXCIpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgUmVmbGVjdExpc3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZsZWN0TGlzdChmaWVsZCwgdW5zYWZlSW5wdXQsIFxuLyoqXG4gKiBCeSBkZWZhdWx0LCBmaWVsZCB2YWx1ZXMgYXJlIHZhbGlkYXRlZCB3aGVuIHNldHRpbmcgdGhlbS4gRm9yIGV4YW1wbGUsXG4gKiBhIHZhbHVlIGZvciBhbiB1aW50MzIgZmllbGQgbXVzdCBiZSBhIEVDTUFTY3JpcHQgTnVtYmVyID49IDAuXG4gKlxuICogV2hlbiBmaWVsZCB2YWx1ZXMgYXJlIHRydXN0ZWQsIHBlcmZvcm1hbmNlIGNhbiBiZSBpbXByb3ZlZCBieSBkaXNhYmxpbmdcbiAqIGNoZWNrcy5cbiAqL1xuY2hlY2sgPSB0cnVlKSB7XG4gICAgcmV0dXJuIG5ldyBSZWZsZWN0TGlzdEltcGwoZmllbGQsIHVuc2FmZUlucHV0ICE9PSBudWxsICYmIHVuc2FmZUlucHV0ICE9PSB2b2lkIDAgPyB1bnNhZmVJbnB1dCA6IFtdLCBjaGVjayk7XG59XG5jbGFzcyBSZWZsZWN0TGlzdEltcGwge1xuICAgIGZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmllbGQ7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXJyLmxlbmd0aDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGQsIHVuc2FmZUlucHV0LCBjaGVjaykge1xuICAgICAgICB0aGlzLl9maWVsZCA9IGZpZWxkO1xuICAgICAgICB0aGlzLl9hcnIgPSB0aGlzW3Vuc2FmZUxvY2FsXSA9IHVuc2FmZUlucHV0O1xuICAgICAgICB0aGlzLmNoZWNrID0gY2hlY2s7XG4gICAgfVxuICAgIGdldChpbmRleCkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5fYXJyW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogbGlzdEl0ZW1Ub1JlZmxlY3QodGhpcy5fZmllbGQsIGl0ZW0sIHRoaXMuY2hlY2spO1xuICAgIH1cbiAgICBzZXQoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLl9hcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcih0aGlzLl9maWVsZCwgYGxpc3QgaXRlbSAjJHtpbmRleCArIDF9OiBvdXQgb2YgcmFuZ2VgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGVjaykge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hlY2tMaXN0SXRlbSh0aGlzLl9maWVsZCwgaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcnJbaW5kZXhdID0gbGlzdEl0ZW1Ub0xvY2FsKHRoaXMuX2ZpZWxkLCBpdGVtKTtcbiAgICB9XG4gICAgYWRkKGl0ZW0pIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNoZWNrTGlzdEl0ZW0odGhpcy5fZmllbGQsIHRoaXMuX2Fyci5sZW5ndGgsIGl0ZW0pO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcnIucHVzaChsaXN0SXRlbVRvTG9jYWwodGhpcy5fZmllbGQsIGl0ZW0pKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2Fyci5zcGxpY2UoMCwgdGhpcy5fYXJyLmxlbmd0aCk7XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Fyci5rZXlzKCk7XG4gICAgfVxuICAgICp2YWx1ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLl9hcnIpIHtcbiAgICAgICAgICAgIHlpZWxkIGxpc3RJdGVtVG9SZWZsZWN0KHRoaXMuX2ZpZWxkLCBpdGVtLCB0aGlzLmNoZWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqZW50cmllcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHlpZWxkIFtpLCBsaXN0SXRlbVRvUmVmbGVjdCh0aGlzLl9maWVsZCwgdGhpcy5fYXJyW2ldLCB0aGlzLmNoZWNrKV07XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIFJlZmxlY3RNYXAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZsZWN0TWFwKGZpZWxkLCB1bnNhZmVJbnB1dCwgXG4vKipcbiAqIEJ5IGRlZmF1bHQsIGZpZWxkIHZhbHVlcyBhcmUgdmFsaWRhdGVkIHdoZW4gc2V0dGluZyB0aGVtLiBGb3IgZXhhbXBsZSxcbiAqIGEgdmFsdWUgZm9yIGFuIHVpbnQzMiBmaWVsZCBtdXN0IGJlIGEgRUNNQVNjcmlwdCBOdW1iZXIgPj0gMC5cbiAqXG4gKiBXaGVuIGZpZWxkIHZhbHVlcyBhcmUgdHJ1c3RlZCwgcGVyZm9ybWFuY2UgY2FuIGJlIGltcHJvdmVkIGJ5IGRpc2FibGluZ1xuICogY2hlY2tzLlxuICovXG5jaGVjayA9IHRydWUpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RNYXBJbXBsKGZpZWxkLCB1bnNhZmVJbnB1dCwgY2hlY2spO1xufVxuY2xhc3MgUmVmbGVjdE1hcEltcGwge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkLCB1bnNhZmVJbnB1dCwgY2hlY2sgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMub2JqID0gdGhpc1t1bnNhZmVMb2NhbF0gPSB1bnNhZmVJbnB1dCAhPT0gbnVsbCAmJiB1bnNhZmVJbnB1dCAhPT0gdm9pZCAwID8gdW5zYWZlSW5wdXQgOiB7fTtcbiAgICAgICAgdGhpcy5jaGVjayA9IGNoZWNrO1xuICAgICAgICB0aGlzLl9maWVsZCA9IGZpZWxkO1xuICAgIH1cbiAgICBmaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5jaGVjaykge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hlY2tNYXBFbnRyeSh0aGlzLl9maWVsZCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqW21hcEtleVRvTG9jYWwoa2V5KV0gPSBtYXBWYWx1ZVRvTG9jYWwodGhpcy5fZmllbGQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgY29uc3QgayA9IG1hcEtleVRvTG9jYWwoa2V5KTtcbiAgICAgICAgY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMub2JqLCBrKTtcbiAgICAgICAgaWYgKGhhcykge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMub2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXM7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLm9iaikpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXMub2JqW21hcEtleVRvTG9jYWwoa2V5KV07XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFsID0gbWFwVmFsdWVUb1JlZmxlY3QodGhpcy5fZmllbGQsIHZhbCwgdGhpcy5jaGVjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgaGFzKGtleSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMub2JqLCBtYXBLZXlUb0xvY2FsKGtleSkpO1xuICAgIH1cbiAgICAqa2V5cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBvYmpLZXkgb2YgT2JqZWN0LmtleXModGhpcy5vYmopKSB7XG4gICAgICAgICAgICB5aWVsZCBtYXBLZXlUb1JlZmxlY3Qob2JqS2V5LCB0aGlzLl9maWVsZC5tYXBLZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgICplbnRyaWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG9iakVudHJ5IG9mIE9iamVjdC5lbnRyaWVzKHRoaXMub2JqKSkge1xuICAgICAgICAgICAgeWllbGQgW1xuICAgICAgICAgICAgICAgIG1hcEtleVRvUmVmbGVjdChvYmpFbnRyeVswXSwgdGhpcy5fZmllbGQubWFwS2V5KSxcbiAgICAgICAgICAgICAgICBtYXBWYWx1ZVRvUmVmbGVjdCh0aGlzLl9maWVsZCwgb2JqRW50cnlbMV0sIHRoaXMuY2hlY2spLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcygpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMub2JqKS5sZW5ndGg7XG4gICAgfVxuICAgICp2YWx1ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIE9iamVjdC52YWx1ZXModGhpcy5vYmopKSB7XG4gICAgICAgICAgICB5aWVsZCBtYXBWYWx1ZVRvUmVmbGVjdCh0aGlzLl9maWVsZCwgdmFsLCB0aGlzLmNoZWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiB0aGlzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY2FsbGJhY2tmbi5jYWxsKHRoaXNBcmcsIG1hcEVudHJ5WzFdLCBtYXBFbnRyeVswXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBtZXNzYWdlVG9Mb2NhbChmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoIWlzUmVmbGVjdE1lc3NhZ2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzV3JhcHBlcih2YWx1ZS5tZXNzYWdlKSAmJlxuICAgICAgICAhZmllbGQub25lb2YgJiZcbiAgICAgICAgZmllbGQuZmllbGRLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIC8vIFR5cGVzIGZyb20gZ29vZ2xlL3Byb3RvYnVmL3dyYXBwZXJzLnByb3RvIGFyZSB1bndyYXBwZWQgd2hlbiB1c2VkIGluXG4gICAgICAgIC8vIGEgc2luZ3VsYXIgZmllbGQgdGhhdCBpcyBub3QgcGFydCBvZiBhIG9uZW9mIGdyb3VwLlxuICAgICAgICByZXR1cm4gdmFsdWUubWVzc2FnZS52YWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmRlc2MudHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuU3RydWN0XCIgJiZcbiAgICAgICAgZmllbGQucGFyZW50LnR5cGVOYW1lICE9IFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCIpIHtcbiAgICAgICAgLy8gZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBpcyByZXByZXNlbnRlZCB3aXRoIEpzb25PYmplY3Qgd2hlbiB1c2VkIGluIGFcbiAgICAgICAgLy8gZmllbGQsIGV4Y2VwdCB3aGVuIHVzZWQgaW4gZ29vZ2xlLnByb3RvYnVmLlZhbHVlLlxuICAgICAgICByZXR1cm4gd2t0U3RydWN0VG9Mb2NhbCh2YWx1ZS5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLm1lc3NhZ2U7XG59XG5mdW5jdGlvbiBtZXNzYWdlVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSwgY2hlY2spIHtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNXcmFwcGVyRGVzYyhmaWVsZC5tZXNzYWdlKSAmJlxuICAgICAgICAgICAgIWZpZWxkLm9uZW9mICYmXG4gICAgICAgICAgICBmaWVsZC5maWVsZEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgIC8vIFR5cGVzIGZyb20gZ29vZ2xlL3Byb3RvYnVmL3dyYXBwZXJzLnByb3RvIGFyZSB1bndyYXBwZWQgd2hlbiB1c2VkIGluXG4gICAgICAgICAgICAvLyBhIHNpbmd1bGFyIGZpZWxkIHRoYXQgaXMgbm90IHBhcnQgb2YgYSBvbmVvZiBncm91cC5cbiAgICAgICAgICAgIHZhbHVlID0ge1xuICAgICAgICAgICAgICAgICR0eXBlTmFtZTogZmllbGQubWVzc2FnZS50eXBlTmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbG9uZ1RvUmVmbGVjdChmaWVsZC5tZXNzYWdlLmZpZWxkc1swXSwgdmFsdWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZC5tZXNzYWdlLnR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFwiICYmXG4gICAgICAgICAgICBmaWVsZC5wYXJlbnQudHlwZU5hbWUgIT0gXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIiAmJlxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBnb29nbGUucHJvdG9idWYuU3RydWN0IGlzIHJlcHJlc2VudGVkIHdpdGggSnNvbk9iamVjdCB3aGVuIHVzZWQgaW4gYVxuICAgICAgICAgICAgLy8gZmllbGQsIGV4Y2VwdCB3aGVuIHVzZWQgaW4gZ29vZ2xlLnByb3RvYnVmLlZhbHVlLlxuICAgICAgICAgICAgdmFsdWUgPSB3a3RTdHJ1Y3RUb1JlZmxlY3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVmbGVjdE1lc3NhZ2VJbXBsKGZpZWxkLm1lc3NhZ2UsIHZhbHVlLCBjaGVjayk7XG59XG5mdW5jdGlvbiBsaXN0SXRlbVRvTG9jYWwoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLmxpc3RLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlVG9Mb2NhbChmaWVsZCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbG9uZ1RvTG9jYWwoZmllbGQsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGxpc3RJdGVtVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSwgY2hlY2spIHtcbiAgICBpZiAoZmllbGQubGlzdEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VUb1JlZmxlY3QoZmllbGQsIHZhbHVlLCBjaGVjayk7XG4gICAgfVxuICAgIHJldHVybiBsb25nVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBtYXBWYWx1ZVRvTG9jYWwoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLm1hcEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VUb0xvY2FsKGZpZWxkLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsb25nVG9Mb2NhbChmaWVsZCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gbWFwVmFsdWVUb1JlZmxlY3QoZmllbGQsIHZhbHVlLCBjaGVjaykge1xuICAgIGlmIChmaWVsZC5tYXBLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSwgY2hlY2spO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBtYXBLZXlUb0xvY2FsKGtleSkge1xuICAgIHJldHVybiB0eXBlb2Yga2V5ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGtleSA9PSBcIm51bWJlclwiID8ga2V5IDogU3RyaW5nKGtleSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgbWFwIGtleSAoYW55IHNjYWxhciB2YWx1ZSBleGNlcHQgZmxvYXQsIGRvdWJsZSwgb3IgYnl0ZXMpIGZyb20gaXRzXG4gKiByZXByZXNlbnRhdGlvbiBpbiBhIG1lc3NhZ2UgKHN0cmluZyBvciBudW1iZXIsIHRoZSBvbmx5IHBvc3NpYmxlIG9iamVjdCBrZXlcbiAqIHR5cGVzKSB0byB0aGUgY2xvc2VzdCBwb3NzaWJsZSB0eXBlIGluIEVDTUFTY3JpcHQuXG4gKi9cbmZ1bmN0aW9uIG1hcEtleVRvUmVmbGVjdChrZXksIHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjoge1xuICAgICAgICAgICAgY29uc3QgbiA9IE51bWJlci5wYXJzZUludChrZXkpO1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm90b0ludDY0LnVQYXJzZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gSU5UNjQsIFNGSVhFRDY0LCBTSU5UNjRcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvSW50NjQucGFyc2Uoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYikge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbn1cbmZ1bmN0aW9uIGxvbmdUb1JlZmxlY3QoZmllbGQsIHZhbHVlKSB7XG4gICAgc3dpdGNoIChmaWVsZC5zY2FsYXIpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICBpZiAoXCJsb25nQXNTdHJpbmdcIiBpbiBmaWVsZCAmJlxuICAgICAgICAgICAgICAgIGZpZWxkLmxvbmdBc1N0cmluZyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm90b0ludDY0LnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgIGlmIChcImxvbmdBc1N0cmluZ1wiIGluIGZpZWxkICYmXG4gICAgICAgICAgICAgICAgZmllbGQubG9uZ0FzU3RyaW5nICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3RvSW50NjQudVBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBsb25nVG9Mb2NhbChmaWVsZCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkLnNjYWxhcikge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIGlmIChcImxvbmdBc1N0cmluZ1wiIGluIGZpZWxkICYmIGZpZWxkLmxvbmdBc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm90b0ludDY0LnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgIGlmIChcImxvbmdBc1N0cmluZ1wiIGluIGZpZWxkICYmIGZpZWxkLmxvbmdBc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm90b0ludDY0LnVQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gd2t0U3RydWN0VG9SZWZsZWN0KGpzb24pIHtcbiAgICBjb25zdCBzdHJ1Y3QgPSB7XG4gICAgICAgICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuU3RydWN0XCIsXG4gICAgICAgIGZpZWxkczoge30sXG4gICAgfTtcbiAgICBpZiAoaXNPYmplY3QoanNvbikpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoanNvbikpIHtcbiAgICAgICAgICAgIHN0cnVjdC5maWVsZHNba10gPSB3a3RWYWx1ZVRvUmVmbGVjdCh2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RydWN0O1xufVxuZnVuY3Rpb24gd2t0U3RydWN0VG9Mb2NhbCh2YWwpIHtcbiAgICBjb25zdCBqc29uID0ge307XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsLmZpZWxkcykpIHtcbiAgICAgICAganNvbltrXSA9IHdrdFZhbHVlVG9Mb2NhbCh2KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiB3a3RWYWx1ZVRvTG9jYWwodmFsKSB7XG4gICAgc3dpdGNoICh2YWwua2luZC5jYXNlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJ1Y3RWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHdrdFN0cnVjdFRvTG9jYWwodmFsLmtpbmQudmFsdWUpO1xuICAgICAgICBjYXNlIFwibGlzdFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmtpbmQudmFsdWUudmFsdWVzLm1hcCh3a3RWYWx1ZVRvTG9jYWwpO1xuICAgICAgICBjYXNlIFwibnVsbFZhbHVlXCI6XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmtpbmQudmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gd2t0VmFsdWVUb1JlZmxlY3QoanNvbikge1xuICAgIGNvbnN0IHZhbHVlID0ge1xuICAgICAgICAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCIsXG4gICAgICAgIGtpbmQ6IHsgY2FzZTogdW5kZWZpbmVkIH0sXG4gICAgfTtcbiAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgdmFsdWU6IGpzb24gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcInN0cmluZ1ZhbHVlXCIsIHZhbHVlOiBqc29uIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwiYm9vbFZhbHVlXCIsIHZhbHVlOiBqc29uIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudWxsVmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwibnVsbFZhbHVlXCIsIHZhbHVlOiBudWxsVmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0VmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YganNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFZhbHVlLnZhbHVlcy5wdXNoKHdrdFZhbHVlVG9SZWZsZWN0KGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZS5raW5kID0ge1xuICAgICAgICAgICAgICAgICAgICBjYXNlOiBcImxpc3RWYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbGlzdFZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5raW5kID0ge1xuICAgICAgICAgICAgICAgICAgICBjYXNlOiBcInN0cnVjdFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB3a3RTdHJ1Y3RUb1JlZmxlY3QoanNvbiksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuaW1wb3J0IHsgaXNSZWZsZWN0TWVzc2FnZSB9IGZyb20gXCIuL3JlZmxlY3QvZ3VhcmQuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgZGVlcCBjb3B5IG9mIGEgbWVzc2FnZSwgaW5jbHVkaW5nIGV4dGVuc2lvbnMgYW5kIHVua25vd24gZmllbGRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoc2NoZW1hLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGNsb25lUmVmbGVjdChyZWZsZWN0KHNjaGVtYSwgbWVzc2FnZSkpLm1lc3NhZ2U7XG59XG5mdW5jdGlvbiBjbG9uZVJlZmxlY3QoaSkge1xuICAgIGNvbnN0IG8gPSByZWZsZWN0KGkuZGVzYyk7XG4gICAgZm9yIChjb25zdCBmIG9mIGkuZmllbGRzKSB7XG4gICAgICAgIGlmICghaS5pc1NldChmKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChmLmZpZWxkS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ID0gby5nZXQoZik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGkuZ2V0KGYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGNsb25lU2luZ3VsYXIoZiwgaXRlbSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSBvLmdldChmKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGkuZ2V0KGYpLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXAuc2V0KGVudHJ5WzBdLCBjbG9uZVNpbmd1bGFyKGYsIGVudHJ5WzFdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIG8uc2V0KGYsIGNsb25lU2luZ3VsYXIoZiwgaS5nZXQoZikpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB1bmtub3duID0gaS5nZXRVbmtub3duKCk7XG4gICAgaWYgKHVua25vd24gJiYgdW5rbm93bi5sZW5ndGggPiAwKSB7XG4gICAgICAgIG8uc2V0VW5rbm93bihbLi4udW5rbm93bl0pO1xuICAgIH1cbiAgICByZXR1cm4gbztcbn1cbmZ1bmN0aW9uIGNsb25lU2luZ3VsYXIoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJiBpc1JlZmxlY3RNZXNzYWdlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gY2xvbmVSZWZsZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGZpZWxkLnNjYWxhciA9PSBTY2FsYXJUeXBlLkJZVEVTICYmIHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFQgY2Fubm90IGV4dGVuZCBVaW50OEFycmF5IGluIHByYWN0aWNlXG4gICAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogRGVjb2RlcyBhIGJhc2U2NCBzdHJpbmcgdG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gaWdub3JlcyB3aGl0ZS1zcGFjZSwgaW5jbHVkaW5nIGxpbmUgYnJlYWtzIGFuZCB0YWJzXG4gKiAtIGFsbG93cyBpbm5lciBwYWRkaW5nIChjYW4gZGVjb2RlIGNvbmNhdGVuYXRlZCBiYXNlNjQgc3RyaW5ncylcbiAqIC0gZG9lcyBub3QgcmVxdWlyZSBwYWRkaW5nXG4gKiAtIHVuZGVyc3RhbmRzIGJhc2U2NHVybCBlbmNvZGluZzpcbiAqICAgXCItXCIgaW5zdGVhZCBvZiBcIitcIixcbiAqICAgXCJfXCIgaW5zdGVhZCBvZiBcIi9cIixcbiAqICAgbm8gcGFkZGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0RGVjb2RlKGJhc2U2NFN0cikge1xuICAgIGNvbnN0IHRhYmxlID0gZ2V0RGVjb2RlVGFibGUoKTtcbiAgICAvLyBlc3RpbWF0ZSBieXRlIHNpemUsIG5vdCBhY2NvdW50aW5nIGZvciBpbm5lciBwYWRkaW5nIGFuZCB3aGl0ZXNwYWNlXG4gICAgbGV0IGVzID0gKGJhc2U2NFN0ci5sZW5ndGggKiAzKSAvIDQ7XG4gICAgaWYgKGJhc2U2NFN0cltiYXNlNjRTdHIubGVuZ3RoIC0gMl0gPT0gXCI9XCIpXG4gICAgICAgIGVzIC09IDI7XG4gICAgZWxzZSBpZiAoYmFzZTY0U3RyW2Jhc2U2NFN0ci5sZW5ndGggLSAxXSA9PSBcIj1cIilcbiAgICAgICAgZXMgLT0gMTtcbiAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheShlcyksIGJ5dGVQb3MgPSAwLCAvLyBwb3NpdGlvbiBpbiBieXRlIGFycmF5XG4gICAgZ3JvdXBQb3MgPSAwLCAvLyBwb3NpdGlvbiBpbiBiYXNlNjQgZ3JvdXBcbiAgICBiLCAvLyBjdXJyZW50IGJ5dGVcbiAgICBwID0gMDsgLy8gcHJldmlvdXMgYnl0ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzZTY0U3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGIgPSB0YWJsZVtiYXNlNjRTdHIuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGlmIChiID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYmFzZTY0U3RyW2ldKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBUUzcwMjk6IEZhbGx0aHJvdWdoIGNhc2UgaW4gc3dpdGNoIC0tIGlnbm9yZSBpbnN0ZWFkIG9mIGV4cGVjdC1lcnJvciBmb3IgY29tcGlsZXIgc2V0dGluZ3Mgd2l0aG91dCBub0ZhbGx0aHJvdWdoQ2FzZXNJblN3aXRjaDogdHJ1ZVxuICAgICAgICAgICAgICAgIGNhc2UgXCI9XCI6XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMDsgLy8gcmVzZXQgc3RhdGUgd2hlbiBwYWRkaW5nIGZvdW5kXG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHNraXAgd2hpdGUtc3BhY2UsIGFuZCBwYWRkaW5nXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGJhc2U2NCBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChncm91cFBvcykge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHAgPSBiO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBieXRlc1tieXRlUG9zKytdID0gKHAgPDwgMikgfCAoKGIgJiA0OCkgPj4gNCk7XG4gICAgICAgICAgICAgICAgcCA9IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGJ5dGVzW2J5dGVQb3MrK10gPSAoKHAgJiAxNSkgPDwgNCkgfCAoKGIgJiA2MCkgPj4gMik7XG4gICAgICAgICAgICAgICAgcCA9IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGJ5dGVzW2J5dGVQb3MrK10gPSAoKHAgJiAzKSA8PCA2KSB8IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChncm91cFBvcyA9PSAxKVxuICAgICAgICB0aHJvdyBFcnJvcihcImludmFsaWQgYmFzZTY0IHN0cmluZ1wiKTtcbiAgICByZXR1cm4gYnl0ZXMuc3ViYXJyYXkoMCwgYnl0ZVBvcyk7XG59XG4vKipcbiAqIEVuY29kZSBhIGJ5dGUgYXJyYXkgdG8gYSBiYXNlNjQgc3RyaW5nLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgc3RhbmRhcmQgYmFzZTY0IGVuY29kaW5nIHdpdGggcGFkZGluZy5cbiAqXG4gKiBUbyBlbmNvZGUgd2l0aG91dCBwYWRkaW5nLCB1c2UgZW5jb2RpbmcgPSBcInN0ZF9yYXdcIi5cbiAqXG4gKiBUbyBlbmNvZGUgd2l0aCB0aGUgVVJMIGVuY29kaW5nLCB1c2UgZW5jb2RpbmcgPSBcInVybFwiLCB3aGljaCByZXBsYWNlcyB0aGVcbiAqIGNoYXJhY3RlcnMgKy8gYnkgdGhlaXIgVVJMLXNhZmUgY291bnRlcnBhcnRzIC1fLCBhbmQgb21pdHMgcGFkZGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NEVuY29kZShieXRlcywgZW5jb2RpbmcgPSBcInN0ZFwiKSB7XG4gICAgY29uc3QgdGFibGUgPSBnZXRFbmNvZGVUYWJsZShlbmNvZGluZyk7XG4gICAgY29uc3QgcGFkID0gZW5jb2RpbmcgPT0gXCJzdGRcIjtcbiAgICBsZXQgYmFzZTY0ID0gXCJcIiwgZ3JvdXBQb3MgPSAwLCAvLyBwb3NpdGlvbiBpbiBiYXNlNjQgZ3JvdXBcbiAgICBiLCAvLyBjdXJyZW50IGJ5dGVcbiAgICBwID0gMDsgLy8gY2Fycnkgb3ZlciBmcm9tIHByZXZpb3VzIGJ5dGVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGIgPSBieXRlc1tpXTtcbiAgICAgICAgc3dpdGNoIChncm91cFBvcykge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGJhc2U2NCArPSB0YWJsZVtiID4+IDJdO1xuICAgICAgICAgICAgICAgIHAgPSAoYiAmIDMpIDw8IDQ7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGJhc2U2NCArPSB0YWJsZVtwIHwgKGIgPj4gNCldO1xuICAgICAgICAgICAgICAgIHAgPSAoYiAmIDE1KSA8PCAyO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gdGFibGVbcCB8IChiID4+IDYpXTtcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gdGFibGVbYiAmIDYzXTtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkIG91dHB1dCBwYWRkaW5nXG4gICAgaWYgKGdyb3VwUG9zKSB7XG4gICAgICAgIGJhc2U2NCArPSB0YWJsZVtwXTtcbiAgICAgICAgaWYgKHBhZCkge1xuICAgICAgICAgICAgYmFzZTY0ICs9IFwiPVwiO1xuICAgICAgICAgICAgaWYgKGdyb3VwUG9zID09IDEpXG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IFwiPVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjQ7XG59XG4vLyBsb29rdXAgdGFibGUgZnJvbSBiYXNlNjQgY2hhcmFjdGVyIHRvIGJ5dGVcbmxldCBlbmNvZGVUYWJsZVN0ZDtcbmxldCBlbmNvZGVUYWJsZVVybDtcbi8vIGxvb2t1cCB0YWJsZSBmcm9tIGJhc2U2NCBjaGFyYWN0ZXIgKmNvZGUqIHRvIGJ5dGUgYmVjYXVzZSBsb29rdXAgYnkgbnVtYmVyIGlzIGZhc3RcbmxldCBkZWNvZGVUYWJsZTtcbmZ1bmN0aW9uIGdldEVuY29kZVRhYmxlKGVuY29kaW5nKSB7XG4gICAgaWYgKCFlbmNvZGVUYWJsZVN0ZCkge1xuICAgICAgICBlbmNvZGVUYWJsZVN0ZCA9XG4gICAgICAgICAgICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIi5zcGxpdChcIlwiKTtcbiAgICAgICAgZW5jb2RlVGFibGVVcmwgPSBlbmNvZGVUYWJsZVN0ZC5zbGljZSgwLCAtMikuY29uY2F0KFwiLVwiLCBcIl9cIik7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGluZyA9PSBcInVybFwiXG4gICAgICAgID8gLy8gYmlvbWUtaWdub3JlIGxpbnQvc3R5bGUvbm9Ob25OdWxsQXNzZXJ0aW9uOiBUUyBmYWlscyB0byBuYXJyb3cgZG93blxuICAgICAgICAgICAgZW5jb2RlVGFibGVVcmxcbiAgICAgICAgOiBlbmNvZGVUYWJsZVN0ZDtcbn1cbmZ1bmN0aW9uIGdldERlY29kZVRhYmxlKCkge1xuICAgIGlmICghZGVjb2RlVGFibGUpIHtcbiAgICAgICAgZGVjb2RlVGFibGUgPSBbXTtcbiAgICAgICAgY29uc3QgZW5jb2RlVGFibGUgPSBnZXRFbmNvZGVUYWJsZShcInN0ZFwiKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVUYWJsZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGRlY29kZVRhYmxlW2VuY29kZVRhYmxlW2ldLmNoYXJDb2RlQXQoMCldID0gaTtcbiAgICAgICAgLy8gc3VwcG9ydCBiYXNlNjR1cmwgdmFyaWFudHNcbiAgICAgICAgZGVjb2RlVGFibGVbXCItXCIuY2hhckNvZGVBdCgwKV0gPSBlbmNvZGVUYWJsZS5pbmRleE9mKFwiK1wiKTtcbiAgICAgICAgZGVjb2RlVGFibGVbXCJfXCIuY2hhckNvZGVBdCgwKV0gPSBlbmNvZGVUYWJsZS5pbmRleE9mKFwiL1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZVRhYmxlO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIFJldHVybiBhIGZ1bGx5LXF1YWxpZmllZCBuYW1lIGZvciBhIFByb3RvYnVmIGRlc2NyaXB0b3IuXG4gKiBGb3IgYSBmaWxlIGRlc2NyaXB0b3IsIHJldHVybiB0aGUgb3JpZ2luYWwgZmlsZSBwYXRoLlxuICpcbiAqIFNlZSBodHRwczovL3Byb3RvYnVmLmNvbS9kb2NzL2xhbmd1YWdlLXNwZWMjZnVsbHktcXVhbGlmaWVkLW5hbWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFsaWZpZWROYW1lKGRlc2MpIHtcbiAgICBzd2l0Y2ggKGRlc2Mua2luZCkge1xuICAgICAgICBjYXNlIFwiZmllbGRcIjpcbiAgICAgICAgY2FzZSBcIm9uZW9mXCI6XG4gICAgICAgIGNhc2UgXCJycGNcIjpcbiAgICAgICAgICAgIHJldHVybiBkZXNjLnBhcmVudC50eXBlTmFtZSArIFwiLlwiICsgZGVzYy5uYW1lO1xuICAgICAgICBjYXNlIFwiZW51bV92YWx1ZVwiOiB7XG4gICAgICAgICAgICBjb25zdCBwID0gZGVzYy5wYXJlbnQucGFyZW50XG4gICAgICAgICAgICAgICAgPyBkZXNjLnBhcmVudC5wYXJlbnQudHlwZU5hbWVcbiAgICAgICAgICAgICAgICA6IGRlc2MucGFyZW50LmZpbGUucHJvdG8ucGFja2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHAubGVuZ3RoID4gMCA/IFwiLlwiIDogXCJcIikgKyBkZXNjLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNlcnZpY2VcIjpcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgY2FzZSBcImV4dGVuc2lvblwiOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2MudHlwZU5hbWU7XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICByZXR1cm4gZGVzYy5wcm90by5uYW1lO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgc25ha2VfY2FzZSB0byBwcm90b0NhbWVsQ2FzZSBhY2NvcmRpbmcgdG8gdGhlIGNvbnZlbnRpb25cbiAqIHVzZWQgYnkgcHJvdG9jIHRvIGNvbnZlcnQgYSBmaWVsZCBuYW1lIHRvIGEgSlNPTiBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9DYW1lbENhc2Uoc25ha2VDYXNlKSB7XG4gICAgbGV0IGNhcE5leHQgPSBmYWxzZTtcbiAgICBjb25zdCBiID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFrZUNhc2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGMgPSBzbmFrZUNhc2UuY2hhckF0KGkpO1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJfXCI6XG4gICAgICAgICAgICAgICAgY2FwTmV4dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgICAgICBjYXNlIFwiOVwiOlxuICAgICAgICAgICAgICAgIGIucHVzaChjKTtcbiAgICAgICAgICAgICAgICBjYXBOZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChjYXBOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcE5leHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYyA9IGMudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYi5wdXNoKGMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiLmpvaW4oXCJcIik7XG59XG4vKipcbiAqIE5hbWVzIHRoYXQgY2Fubm90IGJlIHVzZWQgZm9yIG9iamVjdCBwcm9wZXJ0aWVzIGJlY2F1c2UgdGhleSBhcmUgcmVzZXJ2ZWRcbiAqIGJ5IGJ1aWx0LWluIEphdmFTY3JpcHQgcHJvcGVydGllcy5cbiAqL1xuY29uc3QgcmVzZXJ2ZWRPYmplY3RQcm9wZXJ0aWVzID0gbmV3IFNldChbXG4gICAgLy8gbmFtZXMgcmVzZXJ2ZWQgYnkgSmF2YVNjcmlwdFxuICAgIFwiY29uc3RydWN0b3JcIixcbiAgICBcInRvU3RyaW5nXCIsXG4gICAgXCJ0b0pTT05cIixcbiAgICBcInZhbHVlT2ZcIixcbl0pO1xuLyoqXG4gKiBFc2NhcGVzIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGZvciBFQ01BU2NyaXB0IGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzLlxuICpcbiAqIEFsc28gc2VlIHNhZmVJZGVudGlmaWVyKCkgZnJvbSBAYnVmYnVpbGQvcHJvdG9wbHVnaW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlT2JqZWN0UHJvcGVydHkobmFtZSkge1xuICAgIHJldHVybiByZXNlcnZlZE9iamVjdFByb3BlcnRpZXMuaGFzKG5hbWUpID8gbmFtZSArIFwiJFwiIDogbmFtZTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcHJvdG9DYW1lbENhc2UgfSBmcm9tIFwiLi4vcmVmbGVjdC9uYW1lcy5qc1wiO1xuaW1wb3J0IHsgdW5zYWZlSXNTZXRFeHBsaWNpdCB9IGZyb20gXCIuLi9yZWZsZWN0L3Vuc2FmZS5qc1wiO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZUpzb25OYW1lcyhtZXNzYWdlKSB7XG4gICAgZm9yIChjb25zdCBmIG9mIG1lc3NhZ2UuZmllbGQpIHtcbiAgICAgICAgaWYgKCF1bnNhZmVJc1NldEV4cGxpY2l0KGYsIFwianNvbk5hbWVcIikpIHtcbiAgICAgICAgICAgIGYuanNvbk5hbWUgPSBwcm90b0NhbWVsQ2FzZShmLm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1lc3NhZ2UubmVzdGVkVHlwZS5mb3JFYWNoKHJlc3RvcmVKc29uTmFtZXMpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4uL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBwcm90b0ludDY0IH0gZnJvbSBcIi4uL3Byb3RvLWludDY0LmpzXCI7XG4vKipcbiAqIFBhcnNlIGFuIGVudW0gdmFsdWUgZnJvbSB0aGUgUHJvdG9idWYgdGV4dCBmb3JtYXQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGV4dEZvcm1hdEVudW1WYWx1ZShkZXNjRW51bSwgdmFsdWUpIHtcbiAgICBjb25zdCBlbnVtVmFsdWUgPSBkZXNjRW51bS52YWx1ZXMuZmluZCgodikgPT4gdi5uYW1lID09PSB2YWx1ZSk7XG4gICAgaWYgKCFlbnVtVmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgcGFyc2UgJHtkZXNjRW51bX0gZGVmYXVsdCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGVudW1WYWx1ZS5udW1iZXI7XG59XG4vKipcbiAqIFBhcnNlIGEgc2NhbGFyIHZhbHVlIGZyb20gdGhlIFByb3RvYnVmIHRleHQgZm9ybWF0LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRleHRGb3JtYXRTY2FsYXJWYWx1ZSh0eXBlLCB2YWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6IHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSB1bmVzY2FwZUJ5dGVzRGVmYXVsdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh1ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IHBhcnNlICR7U2NhbGFyVHlwZVt0eXBlXX0gZGVmYXVsdCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIHByb3RvSW50NjQucGFyc2UodmFsdWUpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgIHJldHVybiBwcm90b0ludDY0LnVQYXJzZSh2YWx1ZSk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5mXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi1pbmZcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFuXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IFwidHJ1ZVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9XG59XG4vKipcbiAqIFBhcnNlcyBhIHRleHQtZW5jb2RlZCBkZWZhdWx0IHZhbHVlIChwcm90bzIpIG9mIGEgQllURVMgZmllbGQuXG4gKi9cbmZ1bmN0aW9uIHVuZXNjYXBlQnl0ZXNEZWZhdWx0VmFsdWUoc3RyKSB7XG4gICAgY29uc3QgYiA9IFtdO1xuICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0YWlsOiBzdHIsXG4gICAgICAgIGM6IFwiXCIsXG4gICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YWlsLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jID0gdGhpcy50YWlsWzBdO1xuICAgICAgICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICB0YWtlKG4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhaWwubGVuZ3RoID49IG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy50YWlsLnN1YnN0cmluZygwLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwuc3Vic3RyaW5nKG4pO1xuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgd2hpbGUgKGlucHV0Lm5leHQoKSkge1xuICAgICAgICBzd2l0Y2ggKGlucHV0LmMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0Lm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlucHV0LmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKGlucHV0LmMuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgweDA4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDB4MGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMHgwYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgweDBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDB4MDkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMHgwYik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjdcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBpbnB1dC5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpbnB1dC50YWtlKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBwYXJzZUludChzICsgdCwgOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaChuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gaW5wdXQuYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gaW5wdXQudGFrZSgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gcGFyc2VJbnQocyArIHQsIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBpbnB1dC5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpbnB1dC50YWtlKDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBwYXJzZUludChzICsgdCwgMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldEludDMyKDAsIG4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaChjaHVua1swXSwgY2h1bmtbMV0sIGNodW5rWzJdLCBjaHVua1szXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGlucHV0LmM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGlucHV0LnRha2UoOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGMgPSBwcm90b0ludDY0LnVFbmMocyArIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0SW50MzIoMCwgdGMubG8sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0SW50MzIoNCwgdGMuaGksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaChjaHVua1swXSwgY2h1bmtbMV0sIGNodW5rWzJdLCBjaHVua1szXSwgY2h1bmtbNF0sIGNodW5rWzVdLCBjaHVua1s2XSwgY2h1bmtbN10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBiLnB1c2goaW5wdXQuYy5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYik7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0eXBlcyAtIGVudW1lcmF0aW9ucywgZXh0ZW5zaW9ucywgc2VydmljZXMsIG1lc3NhZ2VzIC1cbiAqIGFuZCBlbnVtZXJhdGlvbnMsIGV4dGVuc2lvbnMgYW5kIG1lc3NhZ2VzIG5lc3RlZCBpbiBtZXNzYWdlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBuZXN0ZWRUeXBlcyhkZXNjKSB7XG4gICAgc3dpdGNoIChkZXNjLmtpbmQpIHtcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBkZXNjLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB5aWVsZCogbmVzdGVkVHlwZXMobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCogZGVzYy5lbnVtcztcbiAgICAgICAgICAgIHlpZWxkKiBkZXNjLnNlcnZpY2VzO1xuICAgICAgICAgICAgeWllbGQqIGRlc2MuZXh0ZW5zaW9ucztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGRlc2MubmVzdGVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIHlpZWxkKiBuZXN0ZWRUeXBlcyhtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkKiBkZXNjLm5lc3RlZEVudW1zO1xuICAgICAgICAgICAgeWllbGQqIGRlc2MubmVzdGVkRXh0ZW5zaW9ucztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8qKlxuICogSXRlcmF0ZSBvdmVyIHR5cGVzIHJlZmVyZW5jZWQgYnkgZmllbGRzIG9mIHRoZSBnaXZlbiBtZXNzYWdlLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYHByb3RvXG4gKiBzeW50YXg9XCJwcm90bzNcIjtcbiAqXG4gKiBtZXNzYWdlIEV4YW1wbGUge1xuICogICBNc2cgc2luZ3VsYXIgPSAxO1xuICogICByZXBlYXRlZCBMZXZlbCBsaXN0ID0gMjtcbiAqIH1cbiAqXG4gKiBtZXNzYWdlIE1zZyB7fVxuICpcbiAqIGVudW0gTGV2ZWwge1xuICogICBMRVZFTF9VTlNQRUNJRklFRCA9IDA7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgbWVzc2FnZSBFeGFtcGxlIHJlZmVyZW5jZXMgdGhlIG1lc3NhZ2UgTXNnLCBhbmQgdGhlIGVudW0gTGV2ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VkVHlwZXMoZGVzY01lc3NhZ2UpIHtcbiAgICByZXR1cm4gdXNlZFR5cGVzSW50ZXJuYWwoZGVzY01lc3NhZ2UsIG5ldyBTZXQoKSk7XG59XG5mdW5jdGlvbiogdXNlZFR5cGVzSW50ZXJuYWwoZGVzY01lc3NhZ2UsIHNlZW4pIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgZGVzY01lc3NhZ2UuZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IChfYiA9IChfYSA9IGZpZWxkLmVudW0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpZWxkLm1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFyZWYgfHwgc2Vlbi5oYXMocmVmLnR5cGVOYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc2Vlbi5hZGQocmVmLnR5cGVOYW1lKTtcbiAgICAgICAgeWllbGQgcmVmO1xuICAgICAgICBpZiAocmVmLmtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgIHlpZWxkKiB1c2VkVHlwZXNJbnRlcm5hbChyZWYsIHNlZW4pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhbmNlc3RvcnMgb2YgYSBnaXZlbiBQcm90b2J1ZiBlbGVtZW50LCB1cCB0byB0aGUgZmlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcmVudFR5cGVzKGRlc2MpIHtcbiAgICBjb25zdCBwYXJlbnRzID0gW107XG4gICAgd2hpbGUgKGRlc2Mua2luZCAhPT0gXCJmaWxlXCIpIHtcbiAgICAgICAgY29uc3QgcCA9IHBhcmVudChkZXNjKTtcbiAgICAgICAgZGVzYyA9IHA7XG4gICAgICAgIHBhcmVudHMucHVzaChwKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudHM7XG59XG5mdW5jdGlvbiBwYXJlbnQoZGVzYykge1xuICAgIHZhciBfYTtcbiAgICBzd2l0Y2ggKGRlc2Mua2luZCkge1xuICAgICAgICBjYXNlIFwiZW51bV92YWx1ZVwiOlxuICAgICAgICBjYXNlIFwiZmllbGRcIjpcbiAgICAgICAgY2FzZSBcIm9uZW9mXCI6XG4gICAgICAgIGNhc2UgXCJycGNcIjpcbiAgICAgICAgICAgIHJldHVybiBkZXNjLnBhcmVudDtcbiAgICAgICAgY2FzZSBcInNlcnZpY2VcIjpcbiAgICAgICAgICAgIHJldHVybiBkZXNjLmZpbGU7XG4gICAgICAgIGNhc2UgXCJleHRlbnNpb25cIjpcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSBkZXNjLnBhcmVudCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVzYy5maWxlO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VUZXh0Rm9ybWF0RW51bVZhbHVlLCBwYXJzZVRleHRGb3JtYXRTY2FsYXJWYWx1ZSwgfSBmcm9tIFwiLi93aXJlL3RleHQtZm9ybWF0LmpzXCI7XG5pbXBvcnQgeyBuZXN0ZWRUeXBlcyB9IGZyb20gXCIuL3JlZmxlY3QvbmVzdGVkLXR5cGVzLmpzXCI7XG5pbXBvcnQgeyB1bnNhZmVJc1NldEV4cGxpY2l0IH0gZnJvbSBcIi4vcmVmbGVjdC91bnNhZmUuanNcIjtcbmltcG9ydCB7IHByb3RvQ2FtZWxDYXNlLCBzYWZlT2JqZWN0UHJvcGVydHkgfSBmcm9tIFwiLi9yZWZsZWN0L25hbWVzLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBhIHJlZ2lzdHJ5IGZyb20gdGhlIGdpdmVuIGlucHV0cy5cbiAqXG4gKiBBbiBpbnB1dCBjYW4gYmU6XG4gKiAtIEFueSBtZXNzYWdlLCBlbnVtLCBzZXJ2aWNlLCBvciBleHRlbnNpb24gZGVzY3JpcHRvciwgd2hpY2ggYWRkcyBqdXN0IHRoZVxuICogICBkZXNjcmlwdG9yIGZvciB0aGlzIHR5cGUuXG4gKiAtIEEgZmlsZSBkZXNjcmlwdG9yLCB3aGljaCBhZGRzIGFsbCB0eXBlZCBkZWZpbmVkIGluIHRoaXMgZmlsZS5cbiAqIC0gQSByZWdpc3RyeSwgd2hpY2ggYWRkcyBhbGwgdHlwZXMgZnJvbSB0aGUgcmVnaXN0cnkuXG4gKlxuICogRm9yIGR1cGxpY2F0ZSBkZXNjcmlwdG9ycyAoc2FtZSB0eXBlIG5hbWUpLCB0aGUgb25lIGdpdmVuIGxhc3Qgd2lucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZ2lzdHJ5KC4uLmlucHV0KSB7XG4gICAgcmV0dXJuIGluaXRCYXNlUmVnaXN0cnkoaW5wdXQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZWdpc3RyeSB0aGF0IGFsbG93cyBhZGRpbmcgYW5kIHJlbW92aW5nIGRlc2NyaXB0b3JzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXV0YWJsZVJlZ2lzdHJ5KC4uLmlucHV0KSB7XG4gICAgY29uc3QgcmVnID0gaW5pdEJhc2VSZWdpc3RyeShpbnB1dCk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVnKSwgeyByZW1vdmUoZGVzYykge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKGRlc2Mua2luZCA9PSBcImV4dGVuc2lvblwiKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gcmVnLmV4dGVuZGVlcy5nZXQoZGVzYy5leHRlbmRlZS50eXBlTmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWxldGUoZGVzYy5udW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnLnR5cGVzLmRlbGV0ZShkZXNjLnR5cGVOYW1lKTtcbiAgICAgICAgfSB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWxlUmVnaXN0cnkoLi4uYXJncykge1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gY3JlYXRlQmFzZVJlZ2lzdHJ5KCk7XG4gICAgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVnaXN0cnk7XG4gICAgfVxuICAgIGlmIChcIiR0eXBlTmFtZVwiIGluIGFyZ3NbMF0gJiZcbiAgICAgICAgYXJnc1swXS4kdHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXRcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgYXJnc1swXS5maWxlKSB7XG4gICAgICAgICAgICBhZGRGaWxlKGZpbGUsIHJlZ2lzdHJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVnaXN0cnk7XG4gICAgfVxuICAgIGlmIChcIiR0eXBlTmFtZVwiIGluIGFyZ3NbMF0pIHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBhcmdzWzBdO1xuICAgICAgICBjb25zdCByZXNvbHZlID0gYXJnc1sxXTtcbiAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgZnVuY3Rpb24gcmVjdXJzZURlcHMoZmlsZSkge1xuICAgICAgICAgICAgY29uc3QgZGVwcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm90b0ZpbGVOYW1lIG9mIGZpbGUuZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyeS5nZXRGaWxlKHByb3RvRmlsZU5hbWUpICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlZW4uaGFzKHByb3RvRmlsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkZXAgPSByZXNvbHZlKHByb3RvRmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICghZGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlc29sdmUgJHtwcm90b0ZpbGVOYW1lfSwgaW1wb3J0ZWQgYnkgJHtmaWxlLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcImtpbmRcIiBpbiBkZXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0cnkuYWRkRmlsZShkZXAsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKGRlcC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KC4uLmRlcHMubWFwKHJlY3Vyc2VEZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIFtpbnB1dCwgLi4ucmVjdXJzZURlcHMoaW5wdXQpXS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgIGFkZEZpbGUoZmlsZSwgcmVnaXN0cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGVSZWcgb2YgYXJncykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVSZWcuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGRGaWxlKGZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWdpc3RyeTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlZ2lzdHJ5KCkge1xuICAgIGNvbnN0IHR5cGVzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGV4dGVuZGVlcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBmaWxlcyA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcInJlZ2lzdHJ5XCIsXG4gICAgICAgIHR5cGVzLFxuICAgICAgICBleHRlbmRlZXMsXG4gICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnZhbHVlcygpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZmlsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsZXMudmFsdWVzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEZpbGUoZmlsZSwgc2tpcFR5cGVzLCB3aXRoRGVwcykge1xuICAgICAgICAgICAgZmlsZXMuc2V0KGZpbGUucHJvdG8ubmFtZSwgZmlsZSk7XG4gICAgICAgICAgICBpZiAoIXNraXBUeXBlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBuZXN0ZWRUeXBlcyhmaWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZCh0eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2l0aERlcHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgZmlsZS5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRGaWxlKGYsIHNraXBUeXBlcywgd2l0aERlcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWRkKGRlc2MpIHtcbiAgICAgICAgICAgIGlmIChkZXNjLmtpbmQgPT0gXCJleHRlbnNpb25cIikge1xuICAgICAgICAgICAgICAgIGxldCBudW1iZXJUb0V4dCA9IGV4dGVuZGVlcy5nZXQoZGVzYy5leHRlbmRlZS50eXBlTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFudW1iZXJUb0V4dCkge1xuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZXMuc2V0KGRlc2MuZXh0ZW5kZWUudHlwZU5hbWUsIFxuICAgICAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgICAgICAgICAgICAgKG51bWJlclRvRXh0ID0gbmV3IE1hcCgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG51bWJlclRvRXh0LnNldChkZXNjLm51bWJlciwgZGVzYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0eXBlcy5zZXQoZGVzYy50eXBlTmFtZSwgZGVzYyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCh0eXBlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVzLmdldCh0eXBlTmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEZpbGUoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxlcy5nZXQoZmlsZU5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRNZXNzYWdlKHR5cGVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdHlwZXMuZ2V0KHR5cGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiAodCA9PT0gbnVsbCB8fCB0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0LmtpbmQpID09IFwibWVzc2FnZVwiID8gdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RW51bSh0eXBlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHR5cGVzLmdldCh0eXBlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gKHQgPT09IG51bGwgfHwgdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdC5raW5kKSA9PSBcImVudW1cIiA/IHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEV4dGVuc2lvbih0eXBlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHR5cGVzLmdldCh0eXBlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gKHQgPT09IG51bGwgfHwgdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdC5raW5kKSA9PSBcImV4dGVuc2lvblwiID8gdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RXh0ZW5zaW9uRm9yKGV4dGVuZGVlLCBubykge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChfYSA9IGV4dGVuZGVlcy5nZXQoZXh0ZW5kZWUudHlwZU5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0KG5vKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U2VydmljZSh0eXBlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHR5cGVzLmdldCh0eXBlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gKHQgPT09IG51bGwgfHwgdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdC5raW5kKSA9PSBcInNlcnZpY2VcIiA/IHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaW5pdEJhc2VSZWdpc3RyeShpbnB1dHMpIHtcbiAgICBjb25zdCByZWdpc3RyeSA9IGNyZWF0ZUJhc2VSZWdpc3RyeSgpO1xuICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICAgIHN3aXRjaCAoaW5wdXQua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcInJlZ2lzdHJ5XCI6XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIGlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmFkZChuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmFkZEZpbGUoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGQoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWdpc3RyeTtcbn1cbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkVkaXRpb24uRURJVElPTl9QUk9UTzI6IGNvbnN0ICRuYW1lOiBFZGl0aW9uLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgRURJVElPTl9QUk9UTzIgPSA5OTg7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uLkVESVRJT05fUFJPVE8zOiBjb25zdCAkbmFtZTogRWRpdGlvbi4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IEVESVRJT05fUFJPVE8zID0gOTk5O1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZS5UWVBFX1NUUklORzogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBUWVBFX1NUUklORyA9IDk7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlLlRZUEVfR1JPVVA6IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgVFlQRV9HUk9VUCA9IDEwO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZS5UWVBFX01FU1NBR0U6IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgVFlQRV9NRVNTQUdFID0gMTE7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlLlRZUEVfQllURVM6IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgVFlQRV9CWVRFUyA9IDEyO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZS5UWVBFX0VOVU06IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgVFlQRV9FTlVNID0gMTQ7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbC5MQUJFTF9SRVBFQVRFRDogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgTEFCRUxfUkVQRUFURUQgPSAzO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWwuTEFCRUxfUkVRVUlSRUQ6IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbC4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IExBQkVMX1JFUVVJUkVEID0gMjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5KU1R5cGUuSlNfU1RSSU5HOiBjb25zdCAkbmFtZTogRmllbGRPcHRpb25zX0pTVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IEpTX1NUUklORyA9IDE7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWwuSURFTVBPVEVOQ1lfVU5LTk9XTjogY29uc3QgJG5hbWU6IE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbC4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IElERU1QT1RFTkNZX1VOS05PV04gPSAwO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLkVYUExJQ0lUOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgRVhQTElDSVQgPSAxO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLklNUExJQ0lUOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgSU1QTElDSVQgPSAyO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLkxFR0FDWV9SRVFVSVJFRDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IExFR0FDWV9SRVFVSVJFRCA9IDM7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlJlcGVhdGVkRmllbGRFbmNvZGluZy5QQUNLRUQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZy4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IFBBQ0tFRCA9IDE7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lk1lc3NhZ2VFbmNvZGluZy5ERUxJTUlURUQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZy4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IERFTElNSVRFRCA9IDI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVudW1UeXBlLk9QRU46IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0VudW1UeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgT1BFTiA9IDE7XG4vLyBiaW9tZS1pZ25vcmUgZm9ybWF0OiB3YW50IHRoaXMgdG8gcmVhZCB3ZWxsXG4vLyBib290c3RyYXAtaW5qZWN0IGRlZmF1bHRzOiBFRElUSU9OX1BST1RPMiB0byBFRElUSU9OXzIwMjQ6IGV4cG9ydCBjb25zdCBtaW5pbXVtRWRpdGlvbjogU3VwcG9ydGVkRWRpdGlvbiA9ICRtaW5pbXVtRWRpdGlvbiwgbWF4aW11bUVkaXRpb246IFN1cHBvcnRlZEVkaXRpb24gPSAkbWF4aW11bUVkaXRpb247XG4vLyBnZW5lcmF0ZWQgZnJvbSBwcm90b2MgdjMyLjBcbmV4cG9ydCBjb25zdCBtaW5pbXVtRWRpdGlvbiA9IDk5OCwgbWF4aW11bUVkaXRpb24gPSAxMDAxO1xuY29uc3QgZmVhdHVyZURlZmF1bHRzID0ge1xuICAgIC8vIEVESVRJT05fUFJPVE8yXG4gICAgOTk4OiB7XG4gICAgICAgIGZpZWxkUHJlc2VuY2U6IDEsIC8vIEVYUExJQ0lULFxuICAgICAgICBlbnVtVHlwZTogMiwgLy8gQ0xPU0VELFxuICAgICAgICByZXBlYXRlZEZpZWxkRW5jb2Rpbmc6IDIsIC8vIEVYUEFOREVELFxuICAgICAgICB1dGY4VmFsaWRhdGlvbjogMywgLy8gTk9ORSxcbiAgICAgICAgbWVzc2FnZUVuY29kaW5nOiAxLCAvLyBMRU5HVEhfUFJFRklYRUQsXG4gICAgICAgIGpzb25Gb3JtYXQ6IDIsIC8vIExFR0FDWV9CRVNUX0VGRk9SVCxcbiAgICAgICAgZW5mb3JjZU5hbWluZ1N0eWxlOiAyLCAvLyBTVFlMRV9MRUdBQ1ksXG4gICAgICAgIGRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5OiAxLCAvLyBFWFBPUlRfQUxMLFxuICAgIH0sXG4gICAgLy8gRURJVElPTl9QUk9UTzNcbiAgICA5OTk6IHtcbiAgICAgICAgZmllbGRQcmVzZW5jZTogMiwgLy8gSU1QTElDSVQsXG4gICAgICAgIGVudW1UeXBlOiAxLCAvLyBPUEVOLFxuICAgICAgICByZXBlYXRlZEZpZWxkRW5jb2Rpbmc6IDEsIC8vIFBBQ0tFRCxcbiAgICAgICAgdXRmOFZhbGlkYXRpb246IDIsIC8vIFZFUklGWSxcbiAgICAgICAgbWVzc2FnZUVuY29kaW5nOiAxLCAvLyBMRU5HVEhfUFJFRklYRUQsXG4gICAgICAgIGpzb25Gb3JtYXQ6IDEsIC8vIEFMTE9XLFxuICAgICAgICBlbmZvcmNlTmFtaW5nU3R5bGU6IDIsIC8vIFNUWUxFX0xFR0FDWSxcbiAgICAgICAgZGVmYXVsdFN5bWJvbFZpc2liaWxpdHk6IDEsIC8vIEVYUE9SVF9BTEwsXG4gICAgfSxcbiAgICAvLyBFRElUSU9OXzIwMjNcbiAgICAxMDAwOiB7XG4gICAgICAgIGZpZWxkUHJlc2VuY2U6IDEsIC8vIEVYUExJQ0lULFxuICAgICAgICBlbnVtVHlwZTogMSwgLy8gT1BFTixcbiAgICAgICAgcmVwZWF0ZWRGaWVsZEVuY29kaW5nOiAxLCAvLyBQQUNLRUQsXG4gICAgICAgIHV0ZjhWYWxpZGF0aW9uOiAyLCAvLyBWRVJJRlksXG4gICAgICAgIG1lc3NhZ2VFbmNvZGluZzogMSwgLy8gTEVOR1RIX1BSRUZJWEVELFxuICAgICAgICBqc29uRm9ybWF0OiAxLCAvLyBBTExPVyxcbiAgICAgICAgZW5mb3JjZU5hbWluZ1N0eWxlOiAyLCAvLyBTVFlMRV9MRUdBQ1ksXG4gICAgICAgIGRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5OiAxLCAvLyBFWFBPUlRfQUxMLFxuICAgIH0sXG4gICAgLy8gRURJVElPTl8yMDI0XG4gICAgMTAwMToge1xuICAgICAgICBmaWVsZFByZXNlbmNlOiAxLCAvLyBFWFBMSUNJVCxcbiAgICAgICAgZW51bVR5cGU6IDEsIC8vIE9QRU4sXG4gICAgICAgIHJlcGVhdGVkRmllbGRFbmNvZGluZzogMSwgLy8gUEFDS0VELFxuICAgICAgICB1dGY4VmFsaWRhdGlvbjogMiwgLy8gVkVSSUZZLFxuICAgICAgICBtZXNzYWdlRW5jb2Rpbmc6IDEsIC8vIExFTkdUSF9QUkVGSVhFRCxcbiAgICAgICAganNvbkZvcm1hdDogMSwgLy8gQUxMT1csXG4gICAgICAgIGVuZm9yY2VOYW1pbmdTdHlsZTogMSwgLy8gU1RZTEUyMDI0LFxuICAgICAgICBkZWZhdWx0U3ltYm9sVmlzaWJpbGl0eTogMiwgLy8gRVhQT1JUX1RPUF9MRVZFTCxcbiAgICB9LFxufTtcbi8qKlxuICogQ3JlYXRlIGEgZGVzY3JpcHRvciBmb3IgYSBmaWxlLCBhZGQgaXQgdG8gdGhlIHJlZ2lzdHJ5LlxuICovXG5mdW5jdGlvbiBhZGRGaWxlKHByb3RvLCByZWcpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGZpbGUgPSB7XG4gICAgICAgIGtpbmQ6IFwiZmlsZVwiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogKF9iID0gKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgICBlZGl0aW9uOiBnZXRGaWxlRWRpdGlvbihwcm90byksXG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUucmVwbGFjZSgvXFwucHJvdG8kLywgXCJcIiksXG4gICAgICAgIGRlcGVuZGVuY2llczogZmluZEZpbGVEZXBlbmRlbmNpZXMocHJvdG8sIHJlZyksXG4gICAgICAgIGVudW1zOiBbXSxcbiAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICBleHRlbnNpb25zOiBbXSxcbiAgICAgICAgc2VydmljZXM6IFtdLFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtdGVtcGxhdGUtZXhwcmVzc2lvbnMgLS0gd2UgYXNzZXJ0ZWQgYWJvdmVcbiAgICAgICAgICAgIHJldHVybiBgZmlsZSAke3Byb3RvLm5hbWV9YDtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IG1hcEVudHJpZXNTdG9yZSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBtYXBFbnRyaWVzID0ge1xuICAgICAgICBnZXQodHlwZU5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBFbnRyaWVzU3RvcmUuZ2V0KHR5cGVOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkKGRlc2MpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGFzc2VydCgoKF9hID0gZGVzYy5wcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwRW50cnkpID09PSB0cnVlKTtcbiAgICAgICAgICAgIG1hcEVudHJpZXNTdG9yZS5zZXQoZGVzYy50eXBlTmFtZSwgZGVzYyk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGVudW1Qcm90byBvZiBwcm90by5lbnVtVHlwZSkge1xuICAgICAgICBhZGRFbnVtKGVudW1Qcm90bywgZmlsZSwgdW5kZWZpbmVkLCByZWcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2VQcm90byBvZiBwcm90by5tZXNzYWdlVHlwZSkge1xuICAgICAgICBhZGRNZXNzYWdlKG1lc3NhZ2VQcm90bywgZmlsZSwgdW5kZWZpbmVkLCByZWcsIG1hcEVudHJpZXMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHNlcnZpY2VQcm90byBvZiBwcm90by5zZXJ2aWNlKSB7XG4gICAgICAgIGFkZFNlcnZpY2Uoc2VydmljZVByb3RvLCBmaWxlLCByZWcpO1xuICAgIH1cbiAgICBhZGRFeHRlbnNpb25zKGZpbGUsIHJlZyk7XG4gICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiBtYXBFbnRyaWVzU3RvcmUudmFsdWVzKCkpIHtcbiAgICAgICAgLy8gdG8gY3JlYXRlIGEgbWFwIGZpZWxkLCB3ZSBuZWVkIGFjY2VzcyB0byB0aGUgbWFwIGVudHJ5J3MgZmllbGRzXG4gICAgICAgIGFkZEZpZWxkcyhtYXBFbnRyeSwgcmVnLCBtYXBFbnRyaWVzKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGZpbGUubWVzc2FnZXMpIHtcbiAgICAgICAgYWRkRmllbGRzKG1lc3NhZ2UsIHJlZywgbWFwRW50cmllcyk7XG4gICAgICAgIGFkZEV4dGVuc2lvbnMobWVzc2FnZSwgcmVnKTtcbiAgICB9XG4gICAgcmVnLmFkZEZpbGUoZmlsZSwgdHJ1ZSk7XG59XG4vKipcbiAqIENyZWF0ZSBkZXNjcmlwdG9ycyBmb3IgZXh0ZW5zaW9ucywgYW5kIGFkZCB0aGVtIHRvIHRoZSBtZXNzYWdlIC8gZmlsZSxcbiAqIGFuZCB0byBvdXIgY2FydC5cbiAqIFJlY3Vyc2VzIGludG8gbmVzdGVkIHR5cGVzLlxuICovXG5mdW5jdGlvbiBhZGRFeHRlbnNpb25zKGRlc2MsIHJlZykge1xuICAgIHN3aXRjaCAoZGVzYy5raW5kKSB7XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3RvIG9mIGRlc2MucHJvdG8uZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3RmllbGQocHJvdG8sIGRlc2MsIHJlZyk7XG4gICAgICAgICAgICAgICAgZGVzYy5leHRlbnNpb25zLnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICByZWcuYWRkKGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvdG8gb2YgZGVzYy5wcm90by5leHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBuZXdGaWVsZChwcm90bywgZGVzYywgcmVnKTtcbiAgICAgICAgICAgICAgICBkZXNjLm5lc3RlZEV4dGVuc2lvbnMucHVzaChleHQpO1xuICAgICAgICAgICAgICAgIHJlZy5hZGQoZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBkZXNjLm5lc3RlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgYWRkRXh0ZW5zaW9ucyhtZXNzYWdlLCByZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgZGVzY3JpcHRvcnMgZm9yIGZpZWxkcyBhbmQgb25lb2YgZ3JvdXBzLCBhbmQgYWRkIHRoZW0gdG8gdGhlIG1lc3NhZ2UuXG4gKiBSZWN1cnNlcyBpbnRvIG5lc3RlZCB0eXBlcy5cbiAqL1xuZnVuY3Rpb24gYWRkRmllbGRzKG1lc3NhZ2UsIHJlZywgbWFwRW50cmllcykge1xuICAgIGNvbnN0IGFsbE9uZW9mcyA9IG1lc3NhZ2UucHJvdG8ub25lb2ZEZWNsLm1hcCgocHJvdG8pID0+IG5ld09uZW9mKHByb3RvLCBtZXNzYWdlKSk7XG4gICAgY29uc3Qgb25lb2ZzU2VlbiA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IHByb3RvIG9mIG1lc3NhZ2UucHJvdG8uZmllbGQpIHtcbiAgICAgICAgY29uc3Qgb25lb2YgPSBmaW5kT25lb2YocHJvdG8sIGFsbE9uZW9mcyk7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gbmV3RmllbGQocHJvdG8sIG1lc3NhZ2UsIHJlZywgb25lb2YsIG1hcEVudHJpZXMpO1xuICAgICAgICBtZXNzYWdlLmZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgbWVzc2FnZS5maWVsZFtmaWVsZC5sb2NhbE5hbWVdID0gZmllbGQ7XG4gICAgICAgIGlmIChvbmVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlLm1lbWJlcnMucHVzaChmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvbmVvZi5maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgICAgICBpZiAoIW9uZW9mc1NlZW4uaGFzKG9uZW9mKSkge1xuICAgICAgICAgICAgICAgIG9uZW9mc1NlZW4uYWRkKG9uZW9mKTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLm1lbWJlcnMucHVzaChvbmVvZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBvbmVvZiBvZiBhbGxPbmVvZnMuZmlsdGVyKChvKSA9PiBvbmVvZnNTZWVuLmhhcyhvKSkpIHtcbiAgICAgICAgbWVzc2FnZS5vbmVvZnMucHVzaChvbmVvZik7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgbWVzc2FnZS5uZXN0ZWRNZXNzYWdlcykge1xuICAgICAgICBhZGRGaWVsZHMoY2hpbGQsIHJlZywgbWFwRW50cmllcyk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBkZXNjcmlwdG9yIGZvciBhbiBlbnVtZXJhdGlvbiwgYW5kIGFkZCBpdCBvdXIgY2FydCBhbmQgdG8gdGhlXG4gKiBwYXJlbnQgdHlwZSwgaWYgYW55LlxuICovXG5mdW5jdGlvbiBhZGRFbnVtKHByb3RvLCBmaWxlLCBwYXJlbnQsIHJlZykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3Qgc2hhcmVkUHJlZml4ID0gZmluZEVudW1TaGFyZWRQcmVmaXgocHJvdG8ubmFtZSwgcHJvdG8udmFsdWUpO1xuICAgIGNvbnN0IGRlc2MgPSB7XG4gICAgICAgIGtpbmQ6IFwiZW51bVwiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogKF9iID0gKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgICBmaWxlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIHR5cGVOYW1lOiBtYWtlVHlwZU5hbWUocHJvdG8sIHBhcmVudCwgZmlsZSksXG4gICAgICAgIHZhbHVlOiB7fSxcbiAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgc2hhcmVkUHJlZml4LFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgZW51bSAke3RoaXMudHlwZU5hbWV9YDtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGRlc2Mub3BlbiA9IGlzRW51bU9wZW4oZGVzYyk7XG4gICAgcmVnLmFkZChkZXNjKTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcHJvdG8udmFsdWUpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHAubmFtZTtcbiAgICAgICAgZGVzYy52YWx1ZXMucHVzaChcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgIChkZXNjLnZhbHVlW3AubnVtYmVyXSA9IHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW51bV92YWx1ZVwiLFxuICAgICAgICAgICAgcHJvdG86IHAsXG4gICAgICAgICAgICBkZXByZWNhdGVkOiAoX2QgPSAoX2MgPSBwLm9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBmYWxzZSxcbiAgICAgICAgICAgIHBhcmVudDogZGVzYyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBsb2NhbE5hbWU6IHNhZmVPYmplY3RQcm9wZXJ0eShzaGFyZWRQcmVmaXggPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBuYW1lXG4gICAgICAgICAgICAgICAgOiBuYW1lLnN1YnN0cmluZyhzaGFyZWRQcmVmaXgubGVuZ3RoKSksXG4gICAgICAgICAgICBudW1iZXI6IHAubnVtYmVyLFxuICAgICAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBlbnVtIHZhbHVlICR7ZGVzYy50eXBlTmFtZX0uJHtuYW1lfWA7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgICgoX2UgPSBwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQubmVzdGVkRW51bXMpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IGZpbGUuZW51bXMpLnB1c2goZGVzYyk7XG59XG4vKipcbiAqIENyZWF0ZSBhIGRlc2NyaXB0b3IgZm9yIGEgbWVzc2FnZSwgaW5jbHVkaW5nIG5lc3RlZCB0eXBlcywgYW5kIGFkZCBpdCB0byBvdXJcbiAqIGNhcnQuIE5vdGUgdGhhdCB0aGlzIGRvZXMgbm90IGNyZWF0ZSBkZXNjcmlwdG9ycyBmaWVsZHMuXG4gKi9cbmZ1bmN0aW9uIGFkZE1lc3NhZ2UocHJvdG8sIGZpbGUsIHBhcmVudCwgcmVnLCBtYXBFbnRyaWVzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGRlc2MgPSB7XG4gICAgICAgIGtpbmQ6IFwibWVzc2FnZVwiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogKF9iID0gKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgICBmaWxlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIHR5cGVOYW1lOiBtYWtlVHlwZU5hbWUocHJvdG8sIHBhcmVudCwgZmlsZSksXG4gICAgICAgIGZpZWxkczogW10sXG4gICAgICAgIGZpZWxkOiB7fSxcbiAgICAgICAgb25lb2ZzOiBbXSxcbiAgICAgICAgbWVtYmVyczogW10sXG4gICAgICAgIG5lc3RlZEVudW1zOiBbXSxcbiAgICAgICAgbmVzdGVkTWVzc2FnZXM6IFtdLFxuICAgICAgICBuZXN0ZWRFeHRlbnNpb25zOiBbXSxcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYG1lc3NhZ2UgJHt0aGlzLnR5cGVOYW1lfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBpZiAoKChfYyA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tYXBFbnRyeSkgPT09IHRydWUpIHtcbiAgICAgICAgbWFwRW50cmllcy5hZGQoZGVzYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAoKF9kID0gcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50Lm5lc3RlZE1lc3NhZ2VzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBmaWxlLm1lc3NhZ2VzKS5wdXNoKGRlc2MpO1xuICAgICAgICByZWcuYWRkKGRlc2MpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGVudW1Qcm90byBvZiBwcm90by5lbnVtVHlwZSkge1xuICAgICAgICBhZGRFbnVtKGVudW1Qcm90bywgZmlsZSwgZGVzYywgcmVnKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtZXNzYWdlUHJvdG8gb2YgcHJvdG8ubmVzdGVkVHlwZSkge1xuICAgICAgICBhZGRNZXNzYWdlKG1lc3NhZ2VQcm90bywgZmlsZSwgZGVzYywgcmVnLCBtYXBFbnRyaWVzKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIGRlc2NyaXB0b3IgZm9yIGEgc2VydmljZSwgaW5jbHVkaW5nIG1ldGhvZHMsIGFuZCBhZGQgaXQgdG8gb3VyXG4gKiBjYXJ0LlxuICovXG5mdW5jdGlvbiBhZGRTZXJ2aWNlKHByb3RvLCBmaWxlLCByZWcpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGRlc2MgPSB7XG4gICAgICAgIGtpbmQ6IFwic2VydmljZVwiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogKF9iID0gKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgICBmaWxlLFxuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICB0eXBlTmFtZTogbWFrZVR5cGVOYW1lKHByb3RvLCB1bmRlZmluZWQsIGZpbGUpLFxuICAgICAgICBtZXRob2RzOiBbXSxcbiAgICAgICAgbWV0aG9kOiB7fSxcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYHNlcnZpY2UgJHt0aGlzLnR5cGVOYW1lfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmaWxlLnNlcnZpY2VzLnB1c2goZGVzYyk7XG4gICAgcmVnLmFkZChkZXNjKTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZFByb3RvIG9mIHByb3RvLm1ldGhvZCkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSBuZXdNZXRob2QobWV0aG9kUHJvdG8sIGRlc2MsIHJlZyk7XG4gICAgICAgIGRlc2MubWV0aG9kcy5wdXNoKG1ldGhvZCk7XG4gICAgICAgIGRlc2MubWV0aG9kW21ldGhvZC5sb2NhbE5hbWVdID0gbWV0aG9kO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgZGVzY3JpcHRvciBmb3IgYSBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIG5ld01ldGhvZChwcm90bywgcGFyZW50LCByZWcpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgbGV0IG1ldGhvZEtpbmQ7XG4gICAgaWYgKHByb3RvLmNsaWVudFN0cmVhbWluZyAmJiBwcm90by5zZXJ2ZXJTdHJlYW1pbmcpIHtcbiAgICAgICAgbWV0aG9kS2luZCA9IFwiYmlkaV9zdHJlYW1pbmdcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdG8uY2xpZW50U3RyZWFtaW5nKSB7XG4gICAgICAgIG1ldGhvZEtpbmQgPSBcImNsaWVudF9zdHJlYW1pbmdcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdG8uc2VydmVyU3RyZWFtaW5nKSB7XG4gICAgICAgIG1ldGhvZEtpbmQgPSBcInNlcnZlcl9zdHJlYW1pbmdcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1ldGhvZEtpbmQgPSBcInVuYXJ5XCI7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0ID0gcmVnLmdldE1lc3NhZ2UodHJpbUxlYWRpbmdEb3QocHJvdG8uaW5wdXRUeXBlKSk7XG4gICAgY29uc3Qgb3V0cHV0ID0gcmVnLmdldE1lc3NhZ2UodHJpbUxlYWRpbmdEb3QocHJvdG8ub3V0cHV0VHlwZSkpO1xuICAgIGFzc2VydChpbnB1dCwgYGludmFsaWQgTWV0aG9kRGVzY3JpcHRvclByb3RvOiBpbnB1dF90eXBlICR7cHJvdG8uaW5wdXRUeXBlfSBub3QgZm91bmRgKTtcbiAgICBhc3NlcnQob3V0cHV0LCBgaW52YWxpZCBNZXRob2REZXNjcmlwdG9yUHJvdG86IG91dHB1dF90eXBlICR7cHJvdG8uaW5wdXRUeXBlfSBub3QgZm91bmRgKTtcbiAgICBjb25zdCBuYW1lID0gcHJvdG8ubmFtZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcInJwY1wiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogKF9iID0gKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxvY2FsTmFtZTogc2FmZU9iamVjdFByb3BlcnR5KG5hbWUubGVuZ3RoXG4gICAgICAgICAgICA/IHNhZmVPYmplY3RQcm9wZXJ0eShuYW1lWzBdLnRvTG93ZXJDYXNlKCkgKyBuYW1lLnN1YnN0cmluZygxKSlcbiAgICAgICAgICAgIDogbmFtZSksXG4gICAgICAgIG1ldGhvZEtpbmQsXG4gICAgICAgIGlucHV0LFxuICAgICAgICBvdXRwdXQsXG4gICAgICAgIGlkZW1wb3RlbmN5OiAoX2QgPSAoX2MgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaWRlbXBvdGVuY3lMZXZlbCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogSURFTVBPVEVOQ1lfVU5LTk9XTixcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYHJwYyAke3BhcmVudC50eXBlTmFtZX0uJHtuYW1lfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgZGVzY3JpcHRvciBmb3IgYSBvbmVvZiBncm91cC5cbiAqL1xuZnVuY3Rpb24gbmV3T25lb2YocHJvdG8sIHBhcmVudCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwib25lb2ZcIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIGZpZWxkczogW10sXG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIGxvY2FsTmFtZTogc2FmZU9iamVjdFByb3BlcnR5KHByb3RvQ2FtZWxDYXNlKHByb3RvLm5hbWUpKSxcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYG9uZW9mICR7cGFyZW50LnR5cGVOYW1lfS4ke3RoaXMubmFtZX1gO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBuZXdGaWVsZChwcm90bywgcGFyZW50T3JGaWxlLCByZWcsIG9uZW9mLCBtYXBFbnRyaWVzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgaXNFeHRlbnNpb24gPSBtYXBFbnRyaWVzID09PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgZmllbGQgPSB7XG4gICAgICAgIGtpbmQ6IFwiZmllbGRcIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IChfYiA9IChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgbnVtYmVyOiBwcm90by5udW1iZXIsXG4gICAgICAgIHNjYWxhcjogdW5kZWZpbmVkLFxuICAgICAgICBtZXNzYWdlOiB1bmRlZmluZWQsXG4gICAgICAgIGVudW06IHVuZGVmaW5lZCxcbiAgICAgICAgcHJlc2VuY2U6IGdldEZpZWxkUHJlc2VuY2UocHJvdG8sIG9uZW9mLCBpc0V4dGVuc2lvbiwgcGFyZW50T3JGaWxlKSxcbiAgICAgICAgbGlzdEtpbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbWFwS2luZDogdW5kZWZpbmVkLFxuICAgICAgICBtYXBLZXk6IHVuZGVmaW5lZCxcbiAgICAgICAgZGVsaW1pdGVkRW5jb2Rpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFja2VkOiB1bmRlZmluZWQsXG4gICAgICAgIGxvbmdBc1N0cmluZzogZmFsc2UsXG4gICAgICAgIGdldERlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgaWYgKGlzRXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIGV4dGVuc2lvbiBmaWVsZFxuICAgICAgICBjb25zdCBmaWxlID0gcGFyZW50T3JGaWxlLmtpbmQgPT0gXCJmaWxlXCIgPyBwYXJlbnRPckZpbGUgOiBwYXJlbnRPckZpbGUuZmlsZTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGFyZW50T3JGaWxlLmtpbmQgPT0gXCJmaWxlXCIgPyB1bmRlZmluZWQgOiBwYXJlbnRPckZpbGU7XG4gICAgICAgIGNvbnN0IHR5cGVOYW1lID0gbWFrZVR5cGVOYW1lKHByb3RvLCBwYXJlbnQsIGZpbGUpO1xuICAgICAgICBmaWVsZC5raW5kID0gXCJleHRlbnNpb25cIjtcbiAgICAgICAgZmllbGQuZmlsZSA9IGZpbGU7XG4gICAgICAgIGZpZWxkLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgZmllbGQub25lb2YgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZpZWxkLnR5cGVOYW1lID0gdHlwZU5hbWU7XG4gICAgICAgIGZpZWxkLmpzb25OYW1lID0gYFske3R5cGVOYW1lfV1gOyAvLyBvcHRpb24ganNvbl9uYW1lIGlzIG5vdCBhbGxvd2VkIG9uIGV4dGVuc2lvbiBmaWVsZHNcbiAgICAgICAgZmllbGQudG9TdHJpbmcgPSAoKSA9PiBgZXh0ZW5zaW9uICR7dHlwZU5hbWV9YDtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWUgPSByZWcuZ2V0TWVzc2FnZSh0cmltTGVhZGluZ0RvdChwcm90by5leHRlbmRlZSkpO1xuICAgICAgICBhc3NlcnQoZXh0ZW5kZWUsIGBpbnZhbGlkIEZpZWxkRGVzY3JpcHRvclByb3RvOiBleHRlbmRlZSAke3Byb3RvLmV4dGVuZGVlfSBub3QgZm91bmRgKTtcbiAgICAgICAgZmllbGQuZXh0ZW5kZWUgPSBleHRlbmRlZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHJlZ3VsYXIgZmllbGRcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGFyZW50T3JGaWxlO1xuICAgICAgICBhc3NlcnQocGFyZW50LmtpbmQgPT0gXCJtZXNzYWdlXCIpO1xuICAgICAgICBmaWVsZC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGZpZWxkLm9uZW9mID0gb25lb2Y7XG4gICAgICAgIGZpZWxkLmxvY2FsTmFtZSA9IG9uZW9mXG4gICAgICAgICAgICA/IHByb3RvQ2FtZWxDYXNlKHByb3RvLm5hbWUpXG4gICAgICAgICAgICA6IHNhZmVPYmplY3RQcm9wZXJ0eShwcm90b0NhbWVsQ2FzZShwcm90by5uYW1lKSk7XG4gICAgICAgIGZpZWxkLmpzb25OYW1lID0gcHJvdG8uanNvbk5hbWU7XG4gICAgICAgIGZpZWxkLnRvU3RyaW5nID0gKCkgPT4gYGZpZWxkICR7cGFyZW50LnR5cGVOYW1lfS4ke3Byb3RvLm5hbWV9YDtcbiAgICB9XG4gICAgY29uc3QgbGFiZWwgPSBwcm90by5sYWJlbDtcbiAgICBjb25zdCB0eXBlID0gcHJvdG8udHlwZTtcbiAgICBjb25zdCBqc3R5cGUgPSAoX2MgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuanN0eXBlO1xuICAgIGlmIChsYWJlbCA9PT0gTEFCRUxfUkVQRUFURUQpIHtcbiAgICAgICAgLy8gbGlzdCBvciBtYXAgZmllbGRcbiAgICAgICAgY29uc3QgbWFwRW50cnkgPSB0eXBlID09IFRZUEVfTUVTU0FHRVxuICAgICAgICAgICAgPyBtYXBFbnRyaWVzID09PSBudWxsIHx8IG1hcEVudHJpZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcEVudHJpZXMuZ2V0KHRyaW1MZWFkaW5nRG90KHByb3RvLnR5cGVOYW1lKSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAobWFwRW50cnkpIHtcbiAgICAgICAgICAgIC8vIG1hcCBmaWVsZFxuICAgICAgICAgICAgZmllbGQuZmllbGRLaW5kID0gXCJtYXBcIjtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gZmluZE1hcEVudHJ5RmllbGRzKG1hcEVudHJ5KTtcbiAgICAgICAgICAgIGZpZWxkLm1hcEtleSA9IGtleS5zY2FsYXI7XG4gICAgICAgICAgICBmaWVsZC5tYXBLaW5kID0gdmFsdWUuZmllbGRLaW5kO1xuICAgICAgICAgICAgZmllbGQubWVzc2FnZSA9IHZhbHVlLm1lc3NhZ2U7XG4gICAgICAgICAgICBmaWVsZC5kZWxpbWl0ZWRFbmNvZGluZyA9IGZhbHNlOyAvLyBtYXAgZmllbGRzIGFyZSBhbHdheXMgTEVOR1RIX1BSRUZJWEVEXG4gICAgICAgICAgICBmaWVsZC5lbnVtID0gdmFsdWUuZW51bTtcbiAgICAgICAgICAgIGZpZWxkLnNjYWxhciA9IHZhbHVlLnNjYWxhcjtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBsaXN0IGZpZWxkXG4gICAgICAgIGZpZWxkLmZpZWxkS2luZCA9IFwibGlzdFwiO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVFlQRV9NRVNTQUdFOlxuICAgICAgICAgICAgY2FzZSBUWVBFX0dST1VQOlxuICAgICAgICAgICAgICAgIGZpZWxkLmxpc3RLaW5kID0gXCJtZXNzYWdlXCI7XG4gICAgICAgICAgICAgICAgZmllbGQubWVzc2FnZSA9IHJlZy5nZXRNZXNzYWdlKHRyaW1MZWFkaW5nRG90KHByb3RvLnR5cGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZpZWxkLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGZpZWxkLmRlbGltaXRlZEVuY29kaW5nID0gaXNEZWxpbWl0ZWRFbmNvZGluZyhwcm90bywgcGFyZW50T3JGaWxlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVFlQRV9FTlVNOlxuICAgICAgICAgICAgICAgIGZpZWxkLmxpc3RLaW5kID0gXCJlbnVtXCI7XG4gICAgICAgICAgICAgICAgZmllbGQuZW51bSA9IHJlZy5nZXRFbnVtKHRyaW1MZWFkaW5nRG90KHByb3RvLnR5cGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZpZWxkLmVudW0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBmaWVsZC5saXN0S2luZCA9IFwic2NhbGFyXCI7XG4gICAgICAgICAgICAgICAgZmllbGQuc2NhbGFyID0gdHlwZTtcbiAgICAgICAgICAgICAgICBmaWVsZC5sb25nQXNTdHJpbmcgPSBqc3R5cGUgPT0gSlNfU1RSSU5HO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkLnBhY2tlZCA9IGlzUGFja2VkRmllbGQocHJvdG8sIHBhcmVudE9yRmlsZSk7XG4gICAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9XG4gICAgLy8gc2luZ3VsYXJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBUWVBFX01FU1NBR0U6XG4gICAgICAgIGNhc2UgVFlQRV9HUk9VUDpcbiAgICAgICAgICAgIGZpZWxkLmZpZWxkS2luZCA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgICAgZmllbGQubWVzc2FnZSA9IHJlZy5nZXRNZXNzYWdlKHRyaW1MZWFkaW5nRG90KHByb3RvLnR5cGVOYW1lKSk7XG4gICAgICAgICAgICBhc3NlcnQoZmllbGQubWVzc2FnZSwgYGludmFsaWQgRmllbGREZXNjcmlwdG9yUHJvdG86IHR5cGVfbmFtZSAke3Byb3RvLnR5cGVOYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIGZpZWxkLmRlbGltaXRlZEVuY29kaW5nID0gaXNEZWxpbWl0ZWRFbmNvZGluZyhwcm90bywgcGFyZW50T3JGaWxlKTtcbiAgICAgICAgICAgIGZpZWxkLmdldERlZmF1bHRWYWx1ZSA9ICgpID0+IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRZUEVfRU5VTToge1xuICAgICAgICAgICAgY29uc3QgZW51bWVyYXRpb24gPSByZWcuZ2V0RW51bSh0cmltTGVhZGluZ0RvdChwcm90by50eXBlTmFtZSkpO1xuICAgICAgICAgICAgYXNzZXJ0KGVudW1lcmF0aW9uICE9PSB1bmRlZmluZWQsIGBpbnZhbGlkIEZpZWxkRGVzY3JpcHRvclByb3RvOiB0eXBlX25hbWUgJHtwcm90by50eXBlTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICBmaWVsZC5maWVsZEtpbmQgPSBcImVudW1cIjtcbiAgICAgICAgICAgIGZpZWxkLmVudW0gPSByZWcuZ2V0RW51bSh0cmltTGVhZGluZ0RvdChwcm90by50eXBlTmFtZSkpO1xuICAgICAgICAgICAgZmllbGQuZ2V0RGVmYXVsdFZhbHVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bnNhZmVJc1NldEV4cGxpY2l0KHByb3RvLCBcImRlZmF1bHRWYWx1ZVwiKVxuICAgICAgICAgICAgICAgICAgICA/IHBhcnNlVGV4dEZvcm1hdEVudW1WYWx1ZShlbnVtZXJhdGlvbiwgcHJvdG8uZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBmaWVsZC5maWVsZEtpbmQgPSBcInNjYWxhclwiO1xuICAgICAgICAgICAgZmllbGQuc2NhbGFyID0gdHlwZTtcbiAgICAgICAgICAgIGZpZWxkLmxvbmdBc1N0cmluZyA9IGpzdHlwZSA9PSBKU19TVFJJTkc7XG4gICAgICAgICAgICBmaWVsZC5nZXREZWZhdWx0VmFsdWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuc2FmZUlzU2V0RXhwbGljaXQocHJvdG8sIFwiZGVmYXVsdFZhbHVlXCIpXG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VUZXh0Rm9ybWF0U2NhbGFyVmFsdWUodHlwZSwgcHJvdG8uZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmllbGQ7XG59XG4vKipcbiAqIFBhcnNlIHRoZSBcInN5bnRheFwiIGFuZCBcImVkaXRpb25cIiBmaWVsZHMsIHJldHVybmluZyBvbmUgb2YgdGhlIHN1cHBvcnRlZFxuICogZWRpdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGdldEZpbGVFZGl0aW9uKHByb3RvKSB7XG4gICAgc3dpdGNoIChwcm90by5zeW50YXgpIHtcbiAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICBjYXNlIFwicHJvdG8yXCI6XG4gICAgICAgICAgICByZXR1cm4gRURJVElPTl9QUk9UTzI7XG4gICAgICAgIGNhc2UgXCJwcm90bzNcIjpcbiAgICAgICAgICAgIHJldHVybiBFRElUSU9OX1BST1RPMztcbiAgICAgICAgY2FzZSBcImVkaXRpb25zXCI6XG4gICAgICAgICAgICBpZiAocHJvdG8uZWRpdGlvbiBpbiBmZWF0dXJlRGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG8uZWRpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtwcm90by5uYW1lfTogdW5zdXBwb3J0ZWQgZWRpdGlvbmApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3RvLm5hbWV9OiB1bnN1cHBvcnRlZCBzeW50YXggXCIke3Byb3RvLnN5bnRheH1cImApO1xuICAgIH1cbn1cbi8qKlxuICogUmVzb2x2ZSBkZXBlbmRlbmNpZXMgb2YgRmlsZURlc2NyaXB0b3JQcm90byB0byBEZXNjRmlsZS5cbiAqL1xuZnVuY3Rpb24gZmluZEZpbGVEZXBlbmRlbmNpZXMocHJvdG8sIHJlZykge1xuICAgIHJldHVybiBwcm90by5kZXBlbmRlbmN5Lm1hcCgod2FudE5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVwID0gcmVnLmdldEZpbGUod2FudE5hbWUpO1xuICAgICAgICBpZiAoIWRlcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCAke3dhbnROYW1lfSwgaW1wb3J0ZWQgYnkgJHtwcm90by5uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXA7XG4gICAgfSk7XG59XG4vKipcbiAqIEZpbmRzIGEgcHJlZml4IHNoYXJlZCBieSBlbnVtIHZhbHVlcywgZm9yIGV4YW1wbGUgYG15X2VudW1fYCBmb3JcbiAqIGBlbnVtIE15RW51bSB7TVlfRU5VTV9BPTA7IE1ZX0VOVU1fQj0xO31gLlxuICovXG5mdW5jdGlvbiBmaW5kRW51bVNoYXJlZFByZWZpeChlbnVtTmFtZSwgdmFsdWVzKSB7XG4gICAgY29uc3QgcHJlZml4ID0gY2FtZWxUb1NuYWtlQ2FzZShlbnVtTmFtZSkgKyBcIl9cIjtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBpZiAoIXZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2hvcnROYW1lID0gdmFsdWUubmFtZS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCk7XG4gICAgICAgIGlmIChzaG9ydE5hbWUubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9eXFxkLy50ZXN0KHNob3J0TmFtZSkpIHtcbiAgICAgICAgICAgIC8vIGlkZW50aWZpZXJzIG11c3Qgbm90IHN0YXJ0IHdpdGggbnVtYmVyc1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJlZml4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBsb3dlckNhbWVsQ2FzZSBvciBVcHBlckNhbWVsQ2FzZSBpbnRvIGxvd2VyX3NuYWtlX2Nhc2UuXG4gKiBUaGlzIGlzIHVzZWQgdG8gZmluZCBzaGFyZWQgcHJlZml4ZXMgaW4gYW4gZW51bS5cbiAqL1xuZnVuY3Rpb24gY2FtZWxUb1NuYWtlQ2FzZShjYW1lbCkge1xuICAgIHJldHVybiAoY2FtZWwuc3Vic3RyaW5nKDAsIDEpICsgY2FtZWwuc3Vic3RyaW5nKDEpLnJlcGxhY2UoL1tBLVpdL2csIChjKSA9PiBcIl9cIiArIGMpKS50b0xvd2VyQ2FzZSgpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBmdWxseSBxdWFsaWZpZWQgbmFtZSBmb3IgYSBwcm90b2J1ZiB0eXBlIG9yIGV4dGVuc2lvbiBmaWVsZC5cbiAqXG4gKiBUaGUgZnVsbHkgcXVhbGlmaWVkIG5hbWUgZm9yIG1lc3NhZ2VzLCBlbnVtZXJhdGlvbnMsIGFuZCBzZXJ2aWNlcyBpc1xuICogY29uc3RydWN0ZWQgYnkgY29uY2F0ZW5hdGluZyB0aGUgcGFja2FnZSBuYW1lIChpZiBwcmVzZW50KSwgcGFyZW50XG4gKiBtZXNzYWdlIG5hbWVzIChmb3IgbmVzdGVkIHR5cGVzKSwgYW5kIHRoZSB0eXBlIG5hbWUuIFdlIG9taXQgdGhlIGxlYWRpbmdcbiAqIGRvdCBhZGRlZCBieSBwcm90b2J1ZiBjb21waWxlcnMuIEV4YW1wbGVzOlxuICogLSBteXBhY2thZ2UuTXlNZXNzYWdlXG4gKiAtIG15cGFja2FnZS5NeU1lc3NhZ2UuTmVzdGVkTWVzc2FnZVxuICpcbiAqIFRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZSBmb3IgZXh0ZW5zaW9uIGZpZWxkcyBpcyBjb25zdHJ1Y3RlZCBieVxuICogY29uY2F0ZW5hdGluZyB0aGUgcGFja2FnZSBuYW1lIChpZiBwcmVzZW50KSwgcGFyZW50IG1lc3NhZ2UgbmFtZXMgKGZvclxuICogZXh0ZW5zaW9ucyBkZWNsYXJlZCB3aXRoaW4gYSBtZXNzYWdlKSwgYW5kIHRoZSBmaWVsZCBuYW1lLiBFeGFtcGxlczpcbiAqIC0gbXlwYWNrYWdlLmV4dGZpZWxkXG4gKiAtIG15cGFja2FnZS5NeU1lc3NhZ2UuZXh0ZmllbGRcbiAqL1xuZnVuY3Rpb24gbWFrZVR5cGVOYW1lKHByb3RvLCBwYXJlbnQsIGZpbGUpIHtcbiAgICBsZXQgdHlwZU5hbWU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICB0eXBlTmFtZSA9IGAke3BhcmVudC50eXBlTmFtZX0uJHtwcm90by5uYW1lfWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbGUucHJvdG8ucGFja2FnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHR5cGVOYW1lID0gYCR7ZmlsZS5wcm90by5wYWNrYWdlfS4ke3Byb3RvLm5hbWV9YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHR5cGVOYW1lID0gYCR7cHJvdG8ubmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZU5hbWU7XG59XG4vKipcbiAqIFJlbW92ZSB0aGUgbGVhZGluZyBkb3QgZnJvbSBhIGZ1bGx5IHF1YWxpZmllZCB0eXBlIG5hbWUuXG4gKi9cbmZ1bmN0aW9uIHRyaW1MZWFkaW5nRG90KHR5cGVOYW1lKSB7XG4gICAgcmV0dXJuIHR5cGVOYW1lLnN0YXJ0c1dpdGgoXCIuXCIpID8gdHlwZU5hbWUuc3Vic3RyaW5nKDEpIDogdHlwZU5hbWU7XG59XG4vKipcbiAqIERpZCB0aGUgdXNlciBwdXQgdGhlIGZpZWxkIGluIGEgb25lb2YgZ3JvdXA/XG4gKiBTeW50aGV0aWMgb25lb2ZzIGZvciBwcm90bzMgb3B0aW9uYWxzIGFyZSBpZ25vcmVkLlxuICovXG5mdW5jdGlvbiBmaW5kT25lb2YocHJvdG8sIGFsbE9uZW9mcykge1xuICAgIGlmICghdW5zYWZlSXNTZXRFeHBsaWNpdChwcm90bywgXCJvbmVvZkluZGV4XCIpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChwcm90by5wcm90bzNPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvbmVvZiA9IGFsbE9uZW9mc1twcm90by5vbmVvZkluZGV4XTtcbiAgICBhc3NlcnQob25lb2YsIGBpbnZhbGlkIEZpZWxkRGVzY3JpcHRvclByb3RvOiBvbmVvZiAjJHtwcm90by5vbmVvZkluZGV4fSBmb3IgZmllbGQgIyR7cHJvdG8ubnVtYmVyfSBub3QgZm91bmRgKTtcbiAgICByZXR1cm4gb25lb2Y7XG59XG4vKipcbiAqIFByZXNlbmNlIG9mIHRoZSBmaWVsZC5cbiAqIFNlZSBodHRwczovL3Byb3RvYnVmLmRldi9wcm9ncmFtbWluZy1ndWlkZXMvZmllbGRfcHJlc2VuY2UvXG4gKi9cbmZ1bmN0aW9uIGdldEZpZWxkUHJlc2VuY2UocHJvdG8sIG9uZW9mLCBpc0V4dGVuc2lvbiwgcGFyZW50KSB7XG4gICAgaWYgKHByb3RvLmxhYmVsID09IExBQkVMX1JFUVVJUkVEKSB7XG4gICAgICAgIC8vIHByb3RvMiByZXF1aXJlZCBpcyBMRUdBQ1lfUkVRVUlSRURcbiAgICAgICAgcmV0dXJuIExFR0FDWV9SRVFVSVJFRDtcbiAgICB9XG4gICAgaWYgKHByb3RvLmxhYmVsID09IExBQkVMX1JFUEVBVEVEKSB7XG4gICAgICAgIC8vIHJlcGVhdGVkIGZpZWxkcyAoaW5jbHVkaW5nIG1hcHMpIGRvIG5vdCB0cmFjayBwcmVzZW5jZVxuICAgICAgICByZXR1cm4gSU1QTElDSVQ7XG4gICAgfVxuICAgIGlmICghIW9uZW9mIHx8IHByb3RvLnByb3RvM09wdGlvbmFsKSB7XG4gICAgICAgIC8vIG9uZW9mIGlzIGFsd2F5cyBleHBsaWNpdFxuICAgICAgICByZXR1cm4gRVhQTElDSVQ7XG4gICAgfVxuICAgIGlmIChpc0V4dGVuc2lvbikge1xuICAgICAgICAvLyBleHRlbnNpb25zIGFsd2F5cyB0cmFjayBwcmVzZW5jZVxuICAgICAgICByZXR1cm4gRVhQTElDSVQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZUZlYXR1cmUoXCJmaWVsZFByZXNlbmNlXCIsIHsgcHJvdG8sIHBhcmVudCB9KTtcbiAgICBpZiAocmVzb2x2ZWQgPT0gSU1QTElDSVQgJiZcbiAgICAgICAgKHByb3RvLnR5cGUgPT0gVFlQRV9NRVNTQUdFIHx8IHByb3RvLnR5cGUgPT0gVFlQRV9HUk9VUCkpIHtcbiAgICAgICAgLy8gc2luZ3VsYXIgbWVzc2FnZSBmaWVsZCBjYW5ub3QgYmUgaW1wbGljaXRcbiAgICAgICAgcmV0dXJuIEVYUExJQ0lUO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG59XG4vKipcbiAqIFBhY2sgdGhpcyByZXBlYXRlZCBmaWVsZD9cbiAqL1xuZnVuY3Rpb24gaXNQYWNrZWRGaWVsZChwcm90bywgcGFyZW50KSB7XG4gICAgaWYgKHByb3RvLmxhYmVsICE9IExBQkVMX1JFUEVBVEVEKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3dpdGNoIChwcm90by50eXBlKSB7XG4gICAgICAgIGNhc2UgVFlQRV9TVFJJTkc6XG4gICAgICAgIGNhc2UgVFlQRV9CWVRFUzpcbiAgICAgICAgY2FzZSBUWVBFX0dST1VQOlxuICAgICAgICBjYXNlIFRZUEVfTUVTU0FHRTpcbiAgICAgICAgICAgIC8vIGxlbmd0aC1kZWxpbWl0ZWQgdHlwZXMgY2Fubm90IGJlIHBhY2tlZFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBvID0gcHJvdG8ub3B0aW9ucztcbiAgICBpZiAobyAmJiB1bnNhZmVJc1NldEV4cGxpY2l0KG8sIFwicGFja2VkXCIpKSB7XG4gICAgICAgIC8vIHByZWZlciB0aGUgZmllbGQgb3B0aW9uIG92ZXIgZWRpdGlvbiBmZWF0dXJlc1xuICAgICAgICByZXR1cm4gby5wYWNrZWQ7XG4gICAgfVxuICAgIHJldHVybiAoUEFDS0VEID09XG4gICAgICAgIHJlc29sdmVGZWF0dXJlKFwicmVwZWF0ZWRGaWVsZEVuY29kaW5nXCIsIHtcbiAgICAgICAgICAgIHByb3RvLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICB9KSk7XG59XG4vKipcbiAqIEZpbmQgdGhlIGtleSBhbmQgdmFsdWUgZmllbGRzIG9mIGEgc3ludGhldGljIG1hcCBlbnRyeSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBmaW5kTWFwRW50cnlGaWVsZHMobWFwRW50cnkpIHtcbiAgICBjb25zdCBrZXkgPSBtYXBFbnRyeS5maWVsZHMuZmluZCgoZikgPT4gZi5udW1iZXIgPT09IDEpO1xuICAgIGNvbnN0IHZhbHVlID0gbWFwRW50cnkuZmllbGRzLmZpbmQoKGYpID0+IGYubnVtYmVyID09PSAyKTtcbiAgICBhc3NlcnQoa2V5ICYmXG4gICAgICAgIGtleS5maWVsZEtpbmQgPT0gXCJzY2FsYXJcIiAmJlxuICAgICAgICBrZXkuc2NhbGFyICE9IFNjYWxhclR5cGUuQllURVMgJiZcbiAgICAgICAga2V5LnNjYWxhciAhPSBTY2FsYXJUeXBlLkZMT0FUICYmXG4gICAgICAgIGtleS5zY2FsYXIgIT0gU2NhbGFyVHlwZS5ET1VCTEUgJiZcbiAgICAgICAgdmFsdWUgJiZcbiAgICAgICAgdmFsdWUuZmllbGRLaW5kICE9IFwibGlzdFwiICYmXG4gICAgICAgIHZhbHVlLmZpZWxkS2luZCAhPSBcIm1hcFwiKTtcbiAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XG59XG4vKipcbiAqIEVudW1lcmF0aW9ucyBjYW4gYmUgb3BlbiBvciBjbG9zZWQuXG4gKiBTZWUgaHR0cHM6Ly9wcm90b2J1Zi5kZXYvcHJvZ3JhbW1pbmctZ3VpZGVzL2VudW0vXG4gKi9cbmZ1bmN0aW9uIGlzRW51bU9wZW4oZGVzYykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKE9QRU4gPT1cbiAgICAgICAgcmVzb2x2ZUZlYXR1cmUoXCJlbnVtVHlwZVwiLCB7XG4gICAgICAgICAgICBwcm90bzogZGVzYy5wcm90byxcbiAgICAgICAgICAgIHBhcmVudDogKF9hID0gZGVzYy5wYXJlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlc2MuZmlsZSxcbiAgICAgICAgfSkpO1xufVxuLyoqXG4gKiBFbmNvZGUgdGhlIG1lc3NhZ2UgZGVsaW1pdGVkIChhLmsuYS4gcHJvdG8yIGdyb3VwIGVuY29kaW5nKSwgb3JcbiAqIGxlbmd0aC1wcmVmaXhlZD9cbiAqL1xuZnVuY3Rpb24gaXNEZWxpbWl0ZWRFbmNvZGluZyhwcm90bywgcGFyZW50KSB7XG4gICAgaWYgKHByb3RvLnR5cGUgPT0gVFlQRV9HUk9VUCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIChERUxJTUlURUQgPT1cbiAgICAgICAgcmVzb2x2ZUZlYXR1cmUoXCJtZXNzYWdlRW5jb2RpbmdcIiwge1xuICAgICAgICAgICAgcHJvdG8sXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVGZWF0dXJlKG5hbWUsIHJlZikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgZmVhdHVyZVNldCA9IChfYSA9IHJlZi5wcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmVhdHVyZXM7XG4gICAgaWYgKGZlYXR1cmVTZXQpIHtcbiAgICAgICAgY29uc3QgdmFsID0gZmVhdHVyZVNldFtuYW1lXTtcbiAgICAgICAgaWYgKHZhbCAhPSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChcImtpbmRcIiBpbiByZWYpIHtcbiAgICAgICAgaWYgKHJlZi5raW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUZlYXR1cmUobmFtZSwgKF9iID0gcmVmLnBhcmVudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogcmVmLmZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVkaXRpb25EZWZhdWx0cyA9IGZlYXR1cmVEZWZhdWx0c1tyZWYuZWRpdGlvbl07XG4gICAgICAgIGlmICghZWRpdGlvbkRlZmF1bHRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGZlYXR1cmUgZGVmYXVsdCBmb3IgZWRpdGlvbiAke3JlZi5lZGl0aW9ufSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWRpdGlvbkRlZmF1bHRzW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZUZlYXR1cmUobmFtZSwgcmVmLnBhcmVudCk7XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IGNvbmRpdGlvbiBpcyB0cnV0aHkgb3IgdGhyb3cgZXJyb3IgKHdpdGggbWVzc2FnZSlcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbXNnKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyByZXN0b3JlSnNvbk5hbWVzIH0gZnJvbSBcIi4vcmVzdG9yZS1qc29uLW5hbWVzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVGaWxlUmVnaXN0cnkgfSBmcm9tIFwiLi4vcmVnaXN0cnkuanNcIjtcbi8qKlxuICogSHlkcmF0ZSBhIGZpbGUgZGVzY3JpcHRvciBmb3IgZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG8gZnJvbSBhIHBsYWluXG4gKiBvYmplY3QuXG4gKlxuICogU2VlIGNyZWF0ZUZpbGVEZXNjcmlwdG9yUHJvdG9Cb290KCkgZm9yIGRldGFpbHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb3QoYm9vdCkge1xuICAgIGNvbnN0IHJvb3QgPSBib290RmlsZURlc2NyaXB0b3JQcm90byhib290KTtcbiAgICByb290Lm1lc3NhZ2VUeXBlLmZvckVhY2gocmVzdG9yZUpzb25OYW1lcyk7XG4gICAgY29uc3QgcmVnID0gY3JlYXRlRmlsZVJlZ2lzdHJ5KHJvb3QsICgpID0+IHVuZGVmaW5lZCk7XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3R5bGUvbm9Ob25OdWxsQXNzZXJ0aW9uOiBub24tbnVsbCBhc3NlcnRpb24gYmVjYXVzZSB3ZSBqdXN0IGNyZWF0ZWQgdGhlIHJlZ2lzdHJ5IGZyb20gdGhlIGZpbGUgd2UgbG9vayB1cFxuICAgIHJldHVybiByZWcuZ2V0RmlsZShyb290Lm5hbWUpO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvIGZyb20gYW4gb2JqZWN0IGxpdGVyYWwuXG4gKlxuICogU2VlIGNyZWF0ZUZpbGVEZXNjcmlwdG9yUHJvdG9Cb290KCkgZm9yIGRldGFpbHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb3RGaWxlRGVzY3JpcHRvclByb3RvKGluaXQpIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5jcmVhdGUoe1xuICAgICAgICBzeW50YXg6IFwiXCIsXG4gICAgICAgIGVkaXRpb246IDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvdG8sIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7ICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90b1wiLCBkZXBlbmRlbmN5OiBbXSwgcHVibGljRGVwZW5kZW5jeTogW10sIHdlYWtEZXBlbmRlbmN5OiBbXSwgb3B0aW9uRGVwZW5kZW5jeTogW10sIHNlcnZpY2U6IFtdLCBleHRlbnNpb246IFtdIH0sIGluaXQpLCB7IG1lc3NhZ2VUeXBlOiBpbml0Lm1lc3NhZ2VUeXBlLm1hcChib290RGVzY3JpcHRvclByb3RvKSwgZW51bVR5cGU6IGluaXQuZW51bVR5cGUubWFwKGJvb3RFbnVtRGVzY3JpcHRvclByb3RvKSB9KSk7XG59XG5mdW5jdGlvbiBib290RGVzY3JpcHRvclByb3RvKGluaXQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIHZpc2liaWxpdHk6IDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvdG8sIHtcbiAgICAgICAgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG9cIixcbiAgICAgICAgbmFtZTogaW5pdC5uYW1lLFxuICAgICAgICBmaWVsZDogKF9iID0gKF9hID0gaW5pdC5maWVsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcChib290RmllbGREZXNjcmlwdG9yUHJvdG8pKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgZXh0ZW5zaW9uOiBbXSxcbiAgICAgICAgbmVzdGVkVHlwZTogKF9kID0gKF9jID0gaW5pdC5uZXN0ZWRUeXBlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubWFwKGJvb3REZXNjcmlwdG9yUHJvdG8pKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBbXSxcbiAgICAgICAgZW51bVR5cGU6IChfZiA9IChfZSA9IGluaXQuZW51bVR5cGUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5tYXAoYm9vdEVudW1EZXNjcmlwdG9yUHJvdG8pKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBbXSxcbiAgICAgICAgZXh0ZW5zaW9uUmFuZ2U6IChfaCA9IChfZyA9IGluaXQuZXh0ZW5zaW9uUmFuZ2UpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5tYXAoKGUpID0+IChPYmplY3QuYXNzaWduKHsgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2VcIiB9LCBlKSkpKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBbXSxcbiAgICAgICAgb25lb2ZEZWNsOiBbXSxcbiAgICAgICAgcmVzZXJ2ZWRSYW5nZTogW10sXG4gICAgICAgIHJlc2VydmVkTmFtZTogW10sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBib290RmllbGREZXNjcmlwdG9yUHJvdG8oaW5pdCkge1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIGxhYmVsOiAxLFxuICAgICAgICB0eXBlTmFtZTogXCJcIixcbiAgICAgICAgZXh0ZW5kZWU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogXCJcIixcbiAgICAgICAgb25lb2ZJbmRleDogMCxcbiAgICAgICAganNvbk5hbWU6IFwiXCIsXG4gICAgICAgIHByb3RvM09wdGlvbmFsOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90bywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90b1wiIH0sIGluaXQpLCB7IG9wdGlvbnM6IGluaXQub3B0aW9ucyA/IGJvb3RGaWVsZE9wdGlvbnMoaW5pdC5vcHRpb25zKSA6IHVuZGVmaW5lZCB9KSk7XG59XG5mdW5jdGlvbiBib290RmllbGRPcHRpb25zKGluaXQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5jcmVhdGUoe1xuICAgICAgICBjdHlwZTogMCxcbiAgICAgICAgcGFja2VkOiBmYWxzZSxcbiAgICAgICAganN0eXBlOiAwLFxuICAgICAgICBsYXp5OiBmYWxzZSxcbiAgICAgICAgdW52ZXJpZmllZExhenk6IGZhbHNlLFxuICAgICAgICBkZXByZWNhdGVkOiBmYWxzZSxcbiAgICAgICAgd2VhazogZmFsc2UsXG4gICAgICAgIGRlYnVnUmVkYWN0OiBmYWxzZSxcbiAgICAgICAgcmV0ZW50aW9uOiAwLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3RvLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9uc1wiIH0sIGluaXQpLCB7IHRhcmdldHM6IChfYSA9IGluaXQudGFyZ2V0cykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sIGVkaXRpb25EZWZhdWx0czogKF9jID0gKF9iID0gaW5pdC5lZGl0aW9uRGVmYXVsdHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tYXAoKGUpID0+IChPYmplY3QuYXNzaWduKHsgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuRWRpdGlvbkRlZmF1bHRcIiB9LCBlKSkpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBbXSwgdW5pbnRlcnByZXRlZE9wdGlvbjogW10gfSkpO1xufVxuZnVuY3Rpb24gYm9vdEVudW1EZXNjcmlwdG9yUHJvdG8oaW5pdCkge1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIHZpc2liaWxpdHk6IDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvdG8sIHtcbiAgICAgICAgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvXCIsXG4gICAgICAgIG5hbWU6IGluaXQubmFtZSxcbiAgICAgICAgcmVzZXJ2ZWROYW1lOiBbXSxcbiAgICAgICAgcmVzZXJ2ZWRSYW5nZTogW10sXG4gICAgICAgIHZhbHVlOiBpbml0LnZhbHVlLm1hcCgoZSkgPT4gKE9iamVjdC5hc3NpZ24oeyAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90b1wiIH0sIGUpKSksXG4gICAgfSk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogSHlkcmF0ZSBhIG1lc3NhZ2UgZGVzY3JpcHRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVzc2FnZURlc2MoZmlsZSwgcGF0aCwgLi4ucGF0aHMpIHtcbiAgICByZXR1cm4gcGF0aHMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjLm5lc3RlZE1lc3NhZ2VzW2N1cl0sIGZpbGUubWVzc2FnZXNbcGF0aF0pO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEh5ZHJhdGUgYW4gZW51bSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnVtRGVzYyhmaWxlLCBwYXRoLCAuLi5wYXRocykge1xuICAgIGlmIChwYXRocy5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm4gZmlsZS5lbnVtc1twYXRoXTtcbiAgICB9XG4gICAgY29uc3QgZSA9IHBhdGhzLnBvcCgpOyAvLyB3ZSBjaGVja2VkIGxlbmd0aCBhYm92ZVxuICAgIHJldHVybiBwYXRocy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MubmVzdGVkTWVzc2FnZXNbY3VyXSwgZmlsZS5tZXNzYWdlc1twYXRoXSkubmVzdGVkRW51bXNbZV07XG59XG4vKipcbiAqIENvbnN0cnVjdCBhIFR5cGVTY3JpcHQgZW51bSBvYmplY3QgYXQgcnVudGltZSBmcm9tIGEgZGVzY3JpcHRvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRzRW51bShkZXNjKSB7XG4gICAgY29uc3QgZW51bU9iamVjdCA9IHt9O1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGVzYy52YWx1ZXMpIHtcbiAgICAgICAgZW51bU9iamVjdFt2YWx1ZS5sb2NhbE5hbWVdID0gdmFsdWUubnVtYmVyO1xuICAgICAgICBlbnVtT2JqZWN0W3ZhbHVlLm51bWJlcl0gPSB2YWx1ZS5sb2NhbE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnVtT2JqZWN0O1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBib290IH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvZGVnZW52Mi9ib290LmpzXCI7XG5pbXBvcnQgeyBtZXNzYWdlRGVzYyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb2RlZ2VudjIvbWVzc2FnZS5qc1wiO1xuaW1wb3J0IHsgZW51bURlc2MgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29kZWdlbnYyL2VudW0uanNcIjtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBmaWxlIGdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvLlxuICovXG5leHBvcnQgY29uc3QgZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciA9IC8qQF9fUFVSRV9fKi8gYm9vdCh7IFwibmFtZVwiOiBcImdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvXCIsIFwicGFja2FnZVwiOiBcImdvb2dsZS5wcm90b2J1ZlwiLCBcIm1lc3NhZ2VUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkZpbGVEZXNjcmlwdG9yU2V0XCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZmlsZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90b1wiIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogNTM2MDAwMDAwLCBcImVuZFwiOiA1MzYwMDAwMDEgfV0gfSwgeyBcIm5hbWVcIjogXCJGaWxlRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicGFja2FnZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZGVwZW5kZW5jeVwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAzIH0sIHsgXCJuYW1lXCI6IFwicHVibGljX2RlcGVuZGVuY3lcIiwgXCJudW1iZXJcIjogMTAsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJ3ZWFrX2RlcGVuZGVuY3lcIiwgXCJudW1iZXJcIjogMTEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25fZGVwZW5kZW5jeVwiLCBcIm51bWJlclwiOiAxNSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMyB9LCB7IFwibmFtZVwiOiBcIm1lc3NhZ2VfdHlwZVwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJlbnVtX3R5cGVcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcInNlcnZpY2VcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcImV4dGVuc2lvblwiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogOCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zXCIgfSwgeyBcIm5hbWVcIjogXCJzb3VyY2VfY29kZV9pbmZvXCIsIFwibnVtYmVyXCI6IDksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mb1wiIH0sIHsgXCJuYW1lXCI6IFwic3ludGF4XCIsIFwibnVtYmVyXCI6IDEyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZWRpdGlvblwiLCBcIm51bWJlclwiOiAxNCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9XSB9LCB7IFwibmFtZVwiOiBcIkRlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImZpZWxkXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwiZXh0ZW5zaW9uXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwibmVzdGVkX3R5cGVcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwiZW51bV90eXBlXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJleHRlbnNpb25fcmFuZ2VcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZVwiIH0sIHsgXCJuYW1lXCI6IFwib25lb2ZfZGVjbFwiLCBcIm51bWJlclwiOiA4LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zXCIgfSwgeyBcIm5hbWVcIjogXCJyZXNlcnZlZF9yYW5nZVwiLCBcIm51bWJlclwiOiA5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2VcIiB9LCB7IFwibmFtZVwiOiBcInJlc2VydmVkX25hbWVcIiwgXCJudW1iZXJcIjogMTAsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJ2aXNpYmlsaXR5XCIsIFwibnVtYmVyXCI6IDExLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuU3ltYm9sVmlzaWJpbGl0eVwiIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRXh0ZW5zaW9uUmFuZ2VcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJzdGFydFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZW5kXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnNcIiB9XSB9LCB7IFwibmFtZVwiOiBcIlJlc2VydmVkUmFuZ2VcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJzdGFydFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZW5kXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfV0gfV0gfSwgeyBcIm5hbWVcIjogXCJFeHRlbnNpb25SYW5nZU9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJkZWNsYXJhdGlvblwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLkRlY2xhcmF0aW9uXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDIgfSB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDUwLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwidmVyaWZpY2F0aW9uXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuVmVyaWZpY2F0aW9uU3RhdGVcIiwgXCJkZWZhdWx0VmFsdWVcIjogXCJVTlZFUklGSUVEXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDIgfSB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkRlY2xhcmF0aW9uXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibnVtYmVyXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJmdWxsX25hbWVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInR5cGVcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInJlc2VydmVkXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJyZXBlYXRlZFwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxIH1dIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIlZlcmlmaWNhdGlvblN0YXRlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiREVDTEFSQVRJT05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlVOVkVSSUZJRURcIiwgXCJudW1iZXJcIjogMSB9XSB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIkZpZWxkRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwibnVtYmVyXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJsYWJlbFwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWxcIiB9LCB7IFwibmFtZVwiOiBcInR5cGVcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGVcIiB9LCB7IFwibmFtZVwiOiBcInR5cGVfbmFtZVwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZXh0ZW5kZWVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImRlZmF1bHRfdmFsdWVcIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm9uZW9mX2luZGV4XCIsIFwibnVtYmVyXCI6IDksIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJqc29uX25hbWVcIiwgXCJudW1iZXJcIjogMTAsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDgsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnNcIiB9LCB7IFwibmFtZVwiOiBcInByb3RvM19vcHRpb25hbFwiLCBcIm51bWJlclwiOiAxNywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJUeXBlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiVFlQRV9ET1VCTEVcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIlRZUEVfRkxPQVRcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIlRZUEVfSU5UNjRcIiwgXCJudW1iZXJcIjogMyB9LCB7IFwibmFtZVwiOiBcIlRZUEVfVUlOVDY0XCIsIFwibnVtYmVyXCI6IDQgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0lOVDMyXCIsIFwibnVtYmVyXCI6IDUgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0ZJWEVENjRcIiwgXCJudW1iZXJcIjogNiB9LCB7IFwibmFtZVwiOiBcIlRZUEVfRklYRUQzMlwiLCBcIm51bWJlclwiOiA3IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9CT09MXCIsIFwibnVtYmVyXCI6IDggfSwgeyBcIm5hbWVcIjogXCJUWVBFX1NUUklOR1wiLCBcIm51bWJlclwiOiA5IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9HUk9VUFwiLCBcIm51bWJlclwiOiAxMCB9LCB7IFwibmFtZVwiOiBcIlRZUEVfTUVTU0FHRVwiLCBcIm51bWJlclwiOiAxMSB9LCB7IFwibmFtZVwiOiBcIlRZUEVfQllURVNcIiwgXCJudW1iZXJcIjogMTIgfSwgeyBcIm5hbWVcIjogXCJUWVBFX1VJTlQzMlwiLCBcIm51bWJlclwiOiAxMyB9LCB7IFwibmFtZVwiOiBcIlRZUEVfRU5VTVwiLCBcIm51bWJlclwiOiAxNCB9LCB7IFwibmFtZVwiOiBcIlRZUEVfU0ZJWEVEMzJcIiwgXCJudW1iZXJcIjogMTUgfSwgeyBcIm5hbWVcIjogXCJUWVBFX1NGSVhFRDY0XCIsIFwibnVtYmVyXCI6IDE2IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9TSU5UMzJcIiwgXCJudW1iZXJcIjogMTcgfSwgeyBcIm5hbWVcIjogXCJUWVBFX1NJTlQ2NFwiLCBcIm51bWJlclwiOiAxOCB9XSB9LCB7IFwibmFtZVwiOiBcIkxhYmVsXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiTEFCRUxfT1BUSU9OQUxcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkxBQkVMX1JFUEVBVEVEXCIsIFwibnVtYmVyXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJMQUJFTF9SRVFVSVJFRFwiLCBcIm51bWJlclwiOiAyIH1dIH1dIH0sIHsgXCJuYW1lXCI6IFwiT25lb2ZEZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnNcIiB9XSB9LCB7IFwibmFtZVwiOiBcIkVudW1EZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJ2YWx1ZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9uc1wiIH0sIHsgXCJuYW1lXCI6IFwicmVzZXJ2ZWRfcmFuZ2VcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2VcIiB9LCB7IFwibmFtZVwiOiBcInJlc2VydmVkX25hbWVcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMyB9LCB7IFwibmFtZVwiOiBcInZpc2liaWxpdHlcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlN5bWJvbFZpc2liaWxpdHlcIiB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkVudW1SZXNlcnZlZFJhbmdlXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwic3RhcnRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImVuZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH1dIH1dIH0sIHsgXCJuYW1lXCI6IFwiRW51bVZhbHVlRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwibnVtYmVyXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zXCIgfV0gfSwgeyBcIm5hbWVcIjogXCJTZXJ2aWNlRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwibWV0aG9kXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zXCIgfV0gfSwgeyBcIm5hbWVcIjogXCJNZXRob2REZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJpbnB1dF90eXBlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvdXRwdXRfdHlwZVwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9uc1wiIH0sIHsgXCJuYW1lXCI6IFwiY2xpZW50X3N0cmVhbWluZ1wiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJzZXJ2ZXJfc3RyZWFtaW5nXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9XSB9LCB7IFwibmFtZVwiOiBcIkZpbGVPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiamF2YV9wYWNrYWdlXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJqYXZhX291dGVyX2NsYXNzbmFtZVwiLCBcIm51bWJlclwiOiA4LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiamF2YV9tdWx0aXBsZV9maWxlc1wiLCBcIm51bWJlclwiOiAxMCwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiamF2YV9nZW5lcmF0ZV9lcXVhbHNfYW5kX2hhc2hcIiwgXCJudW1iZXJcIjogMjAsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwib3B0aW9uc1wiOiB7IFwiZGVwcmVjYXRlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJqYXZhX3N0cmluZ19jaGVja191dGY4XCIsIFwibnVtYmVyXCI6IDI3LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJvcHRpbWl6ZV9mb3JcIiwgXCJudW1iZXJcIjogOSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLk9wdGltaXplTW9kZVwiLCBcImRlZmF1bHRWYWx1ZVwiOiBcIlNQRUVEXCIgfSwgeyBcIm5hbWVcIjogXCJnb19wYWNrYWdlXCIsIFwibnVtYmVyXCI6IDExLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiY2NfZ2VuZXJpY19zZXJ2aWNlc1wiLCBcIm51bWJlclwiOiAxNiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiamF2YV9nZW5lcmljX3NlcnZpY2VzXCIsIFwibnVtYmVyXCI6IDE3LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJweV9nZW5lcmljX3NlcnZpY2VzXCIsIFwibnVtYmVyXCI6IDE4LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDIzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJjY19lbmFibGVfYXJlbmFzXCIsIFwibnVtYmVyXCI6IDMxLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcInRydWVcIiB9LCB7IFwibmFtZVwiOiBcIm9iamNfY2xhc3NfcHJlZml4XCIsIFwibnVtYmVyXCI6IDM2LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiY3NoYXJwX25hbWVzcGFjZVwiLCBcIm51bWJlclwiOiAzNywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInN3aWZ0X3ByZWZpeFwiLCBcIm51bWJlclwiOiAzOSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInBocF9jbGFzc19wcmVmaXhcIiwgXCJudW1iZXJcIjogNDAsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJwaHBfbmFtZXNwYWNlXCIsIFwibnVtYmVyXCI6IDQxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicGhwX21ldGFkYXRhX25hbWVzcGFjZVwiLCBcIm51bWJlclwiOiA0NCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInJ1YnlfcGFja2FnZVwiLCBcIm51bWJlclwiOiA0NSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDUwLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIk9wdGltaXplTW9kZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlNQRUVEXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJDT0RFX1NJWkVcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIkxJVEVfUlVOVElNRVwiLCBcIm51bWJlclwiOiAzIH1dIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiTWVzc2FnZU9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJtZXNzYWdlX3NldF93aXJlX2Zvcm1hdFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJub19zdGFuZGFyZF9kZXNjcmlwdG9yX2FjY2Vzc29yXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwibWFwX2VudHJ5XCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkX2xlZ2FjeV9qc29uX2ZpZWxkX2NvbmZsaWN0c1wiLCBcIm51bWJlclwiOiAxMSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJvcHRpb25zXCI6IHsgXCJkZXByZWNhdGVkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDEyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmllbGRPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiY3R5cGVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5DVHlwZVwiLCBcImRlZmF1bHRWYWx1ZVwiOiBcIlNUUklOR1wiIH0sIHsgXCJuYW1lXCI6IFwicGFja2VkXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJqc3R5cGVcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5KU1R5cGVcIiwgXCJkZWZhdWx0VmFsdWVcIjogXCJKU19OT1JNQUxcIiB9LCB7IFwibmFtZVwiOiBcImxhenlcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwidW52ZXJpZmllZF9sYXp5XCIsIFwibnVtYmVyXCI6IDE1LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcIndlYWtcIiwgXCJudW1iZXJcIjogMTAsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiwgXCJvcHRpb25zXCI6IHsgXCJkZXByZWNhdGVkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcImRlYnVnX3JlZGFjdFwiLCBcIm51bWJlclwiOiAxNiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwicmV0ZW50aW9uXCIsIFwibnVtYmVyXCI6IDE3LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLk9wdGlvblJldGVudGlvblwiIH0sIHsgXCJuYW1lXCI6IFwidGFyZ2V0c1wiLCBcIm51bWJlclwiOiAxOSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5PcHRpb25UYXJnZXRUeXBlXCIgfSwgeyBcIm5hbWVcIjogXCJlZGl0aW9uX2RlZmF1bHRzXCIsIFwibnVtYmVyXCI6IDIwLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkVkaXRpb25EZWZhdWx0XCIgfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiAyMSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVfc3VwcG9ydFwiLCBcIm51bWJlclwiOiAyMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5GZWF0dXJlU3VwcG9ydFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRWRpdGlvbkRlZmF1bHRcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJlZGl0aW9uXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJ2YWx1ZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmVhdHVyZVN1cHBvcnRcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJlZGl0aW9uX2ludHJvZHVjZWRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9LCB7IFwibmFtZVwiOiBcImVkaXRpb25fZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRpb25fd2FybmluZ1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZWRpdGlvbl9yZW1vdmVkXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfV0gfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiQ1R5cGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJTVFJJTkdcIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkNPUkRcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIlNUUklOR19QSUVDRVwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiSlNUeXBlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiSlNfTk9STUFMXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJKU19TVFJJTkdcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkpTX05VTUJFUlwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiT3B0aW9uUmV0ZW50aW9uXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiUkVURU5USU9OX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlJFVEVOVElPTl9SVU5USU1FXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJSRVRFTlRJT05fU09VUkNFXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJPcHRpb25UYXJnZXRUeXBlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfRklMRVwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfRVhURU5TSU9OX1JBTkdFXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9NRVNTQUdFXCIsIFwibnVtYmVyXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9GSUVMRFwiLCBcIm51bWJlclwiOiA0IH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfT05FT0ZcIiwgXCJudW1iZXJcIjogNSB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX0VOVU1cIiwgXCJudW1iZXJcIjogNiB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX0VOVU1fRU5UUllcIiwgXCJudW1iZXJcIjogNyB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX1NFUlZJQ0VcIiwgXCJudW1iZXJcIjogOCB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX01FVEhPRFwiLCBcIm51bWJlclwiOiA5IH1dIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiT25lb2ZPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIkVudW1PcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiYWxsb3dfYWxpYXNcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZF9sZWdhY3lfanNvbl9maWVsZF9jb25mbGljdHNcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJvcHRpb25zXCI6IHsgXCJkZXByZWNhdGVkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJFbnVtVmFsdWVPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwiZGVidWdfcmVkYWN0XCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVfc3VwcG9ydFwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkZlYXR1cmVTdXBwb3J0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJTZXJ2aWNlT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDM0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAzMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiTWV0aG9kT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMzMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImlkZW1wb3RlbmN5X2xldmVsXCIsIFwibnVtYmVyXCI6IDM0LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5JZGVtcG90ZW5jeUxldmVsXCIsIFwiZGVmYXVsdFZhbHVlXCI6IFwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiIH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogMzUsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiSWRlbXBvdGVuY3lMZXZlbFwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIklERU1QT1RFTkNZX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIk5PX1NJREVfRUZGRUNUU1wiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiSURFTVBPVEVOVFwiLCBcIm51bWJlclwiOiAyIH1dIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiVW5pbnRlcnByZXRlZE9wdGlvblwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnRcIiB9LCB7IFwibmFtZVwiOiBcImlkZW50aWZpZXJfdmFsdWVcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInBvc2l0aXZlX2ludF92YWx1ZVwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogNCwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwibmVnYXRpdmVfaW50X3ZhbHVlXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAzLCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJkb3VibGVfdmFsdWVcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDEsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInN0cmluZ192YWx1ZVwiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogMTIsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImFnZ3JlZ2F0ZV92YWx1ZVwiLCBcIm51bWJlclwiOiA4LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiTmFtZVBhcnRcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lX3BhcnRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMiB9LCB7IFwibmFtZVwiOiBcImlzX2V4dGVuc2lvblwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAyIH1dIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmVhdHVyZVNldFwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImZpZWxkX3ByZXNlbmNlXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2VcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMSwgXCJ0YXJnZXRzXCI6IFs0LCAxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIkVYUExJQ0lUXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiSU1QTElDSVRcIiwgXCJlZGl0aW9uXCI6IDk5OSB9LCB7IFwidmFsdWVcIjogXCJFWFBMSUNJVFwiLCBcImVkaXRpb25cIjogMTAwMCB9XSB9IH0sIHsgXCJuYW1lXCI6IFwiZW51bV90eXBlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVudW1UeXBlXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDEsIFwidGFyZ2V0c1wiOiBbNiwgMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJDTE9TRURcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJPUEVOXCIsIFwiZWRpdGlvblwiOiA5OTkgfV0gfSB9LCB7IFwibmFtZVwiOiBcInJlcGVhdGVkX2ZpZWxkX2VuY29kaW5nXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlJlcGVhdGVkRmllbGRFbmNvZGluZ1wiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAxLCBcInRhcmdldHNcIjogWzQsIDFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiRVhQQU5ERURcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJQQUNLRURcIiwgXCJlZGl0aW9uXCI6IDk5OSB9XSB9IH0sIHsgXCJuYW1lXCI6IFwidXRmOF92YWxpZGF0aW9uXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlV0ZjhWYWxpZGF0aW9uXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDEsIFwidGFyZ2V0c1wiOiBbNCwgMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJOT05FXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiVkVSSUZZXCIsIFwiZWRpdGlvblwiOiA5OTkgfV0gfSB9LCB7IFwibmFtZVwiOiBcIm1lc3NhZ2VfZW5jb2RpbmdcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuTWVzc2FnZUVuY29kaW5nXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDEsIFwidGFyZ2V0c1wiOiBbNCwgMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJMRU5HVEhfUFJFRklYRURcIiwgXCJlZGl0aW9uXCI6IDkwMCB9XSB9IH0sIHsgXCJuYW1lXCI6IFwianNvbl9mb3JtYXRcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuSnNvbkZvcm1hdFwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAxLCBcInRhcmdldHNcIjogWzMsIDYsIDFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiTEVHQUNZX0JFU1RfRUZGT1JUXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiQUxMT1dcIiwgXCJlZGl0aW9uXCI6IDk5OSB9XSB9IH0sIHsgXCJuYW1lXCI6IFwiZW5mb3JjZV9uYW1pbmdfc3R5bGVcIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW5mb3JjZU5hbWluZ1N0eWxlXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDIsIFwidGFyZ2V0c1wiOiBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJTVFlMRV9MRUdBQ1lcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJTVFlMRTIwMjRcIiwgXCJlZGl0aW9uXCI6IDEwMDEgfV0gfSB9LCB7IFwibmFtZVwiOiBcImRlZmF1bHRfc3ltYm9sX3Zpc2liaWxpdHlcIiwgXCJudW1iZXJcIjogOCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVmlzaWJpbGl0eUZlYXR1cmUuRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMiwgXCJ0YXJnZXRzXCI6IFsxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIkVYUE9SVF9BTExcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJFWFBPUlRfVE9QX0xFVkVMXCIsIFwiZWRpdGlvblwiOiAxMDAxIH1dIH0gfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJWaXNpYmlsaXR5RmVhdHVyZVwiLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIkRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5XCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiREVGQVVMVF9TWU1CT0xfVklTSUJJTElUWV9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJFWFBPUlRfQUxMXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJFWFBPUlRfVE9QX0xFVkVMXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJMT0NBTF9BTExcIiwgXCJudW1iZXJcIjogMyB9LCB7IFwibmFtZVwiOiBcIlNUUklDVFwiLCBcIm51bWJlclwiOiA0IH1dIH1dIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIkZpZWxkUHJlc2VuY2VcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJGSUVMRF9QUkVTRU5DRV9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJFWFBMSUNJVFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiSU1QTElDSVRcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIkxFR0FDWV9SRVFVSVJFRFwiLCBcIm51bWJlclwiOiAzIH1dIH0sIHsgXCJuYW1lXCI6IFwiRW51bVR5cGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJFTlVNX1RZUEVfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiT1BFTlwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiQ0xPU0VEXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJSZXBlYXRlZEZpZWxkRW5jb2RpbmdcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJSRVBFQVRFRF9GSUVMRF9FTkNPRElOR19VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJQQUNLRURcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkVYUEFOREVEXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJVdGY4VmFsaWRhdGlvblwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlVURjhfVkFMSURBVElPTl9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJWRVJJRllcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIk5PTkVcIiwgXCJudW1iZXJcIjogMyB9XSB9LCB7IFwibmFtZVwiOiBcIk1lc3NhZ2VFbmNvZGluZ1wiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIk1FU1NBR0VfRU5DT0RJTkdfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiTEVOR1RIX1BSRUZJWEVEXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJERUxJTUlURURcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIkpzb25Gb3JtYXRcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJKU09OX0ZPUk1BVF9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJBTExPV1wiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiTEVHQUNZX0JFU1RfRUZGT1JUXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJFbmZvcmNlTmFtaW5nU3R5bGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJFTkZPUkNFX05BTUlOR19TVFlMRV9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJTVFlMRTIwMjRcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIlNUWUxFX0xFR0FDWVwiLCBcIm51bWJlclwiOiAyIH1dIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogOTk5NSB9LCB7IFwic3RhcnRcIjogOTk5NSwgXCJlbmRcIjogMTAwMDAgfSwgeyBcInN0YXJ0XCI6IDEwMDAwLCBcImVuZFwiOiAxMDAwMSB9XSB9LCB7IFwibmFtZVwiOiBcIkZlYXR1cmVTZXREZWZhdWx0c1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImRlZmF1bHRzXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0RGVmYXVsdHMuRmVhdHVyZVNldEVkaXRpb25EZWZhdWx0XCIgfSwgeyBcIm5hbWVcIjogXCJtaW5pbXVtX2VkaXRpb25cIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9LCB7IFwibmFtZVwiOiBcIm1heGltdW1fZWRpdGlvblwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRmVhdHVyZVNldEVkaXRpb25EZWZhdWx0XCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZWRpdGlvblwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH0sIHsgXCJuYW1lXCI6IFwib3ZlcnJpZGFibGVfZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcImZpeGVkX2ZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfV0gfV0gfSwgeyBcIm5hbWVcIjogXCJTb3VyY2VDb2RlSW5mb1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImxvY2F0aW9uXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvblwiIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiTG9jYXRpb25cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJwYXRoXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDMsIFwib3B0aW9uc1wiOiB7IFwicGFja2VkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcInNwYW5cIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMywgXCJvcHRpb25zXCI6IHsgXCJwYWNrZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwibGVhZGluZ19jb21tZW50c1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwidHJhaWxpbmdfY29tbWVudHNcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImxlYWRpbmdfZGV0YWNoZWRfY29tbWVudHNcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMyB9XSB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDUzNjAwMDAwMCwgXCJlbmRcIjogNTM2MDAwMDAxIH1dIH0sIHsgXCJuYW1lXCI6IFwiR2VuZXJhdGVkQ29kZUluZm9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJhbm5vdGF0aW9uXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uXCIgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJBbm5vdGF0aW9uXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwicGF0aFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAzLCBcIm9wdGlvbnNcIjogeyBcInBhY2tlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJzb3VyY2VfZmlsZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiYmVnaW5cIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImVuZFwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwic2VtYW50aWNcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uU2VtYW50aWNcIiB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJTZW1hbnRpY1wiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIk5PTkVcIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlNFVFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiQUxJQVNcIiwgXCJudW1iZXJcIjogMiB9XSB9XSB9XSB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJFZGl0aW9uXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiRURJVElPTl9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OX0xFR0FDWVwiLCBcIm51bWJlclwiOiA5MDAgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OX1BST1RPMlwiLCBcIm51bWJlclwiOiA5OTggfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OX1BST1RPM1wiLCBcIm51bWJlclwiOiA5OTkgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzIwMjNcIiwgXCJudW1iZXJcIjogMTAwMCB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fMjAyNFwiLCBcIm51bWJlclwiOiAxMDAxIH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl8xX1RFU1RfT05MWVwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl8yX1RFU1RfT05MWVwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl85OTk5N19URVNUX09OTFlcIiwgXCJudW1iZXJcIjogOTk5OTcgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzk5OTk4X1RFU1RfT05MWVwiLCBcIm51bWJlclwiOiA5OTk5OCB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fOTk5OTlfVEVTVF9PTkxZXCIsIFwibnVtYmVyXCI6IDk5OTk5IH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl9NQVhcIiwgXCJudW1iZXJcIjogMjE0NzQ4MzY0NyB9XSB9LCB7IFwibmFtZVwiOiBcIlN5bWJvbFZpc2liaWxpdHlcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJWSVNJQklMSVRZX1VOU0VUXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJWSVNJQklMSVRZX0xPQ0FMXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJWSVNJQklMSVRZX0VYUE9SVFwiLCBcIm51bWJlclwiOiAyIH1dIH1dIH0pO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0LlxuICogVXNlIGBjcmVhdGUoRmlsZURlc2NyaXB0b3JTZXRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVEZXNjcmlwdG9yU2V0U2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5cbiAqIFVzZSBgY3JlYXRlKERlc2NyaXB0b3JQcm90b19FeHRlbnNpb25SYW5nZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGVzY3JpcHRvclByb3RvX0V4dGVuc2lvblJhbmdlU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5cbiAqIFVzZSBgY3JlYXRlKERlc2NyaXB0b3JQcm90b19SZXNlcnZlZFJhbmdlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEZXNjcmlwdG9yUHJvdG9fUmVzZXJ2ZWRSYW5nZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMiwgMSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoRXh0ZW5zaW9uUmFuZ2VPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFeHRlbnNpb25SYW5nZU9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDMpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5EZWNsYXJhdGlvbi5cbiAqIFVzZSBgY3JlYXRlKEV4dGVuc2lvblJhbmdlT3B0aW9uc19EZWNsYXJhdGlvblNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX0RlY2xhcmF0aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAzLCAwKTtcbi8qKlxuICogVGhlIHZlcmlmaWNhdGlvbiBzdGF0ZSBvZiB0aGUgZXh0ZW5zaW9uIHJhbmdlLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuVmVyaWZpY2F0aW9uU3RhdGVcbiAqL1xuZXhwb3J0IHZhciBFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZSkge1xuICAgIC8qKlxuICAgICAqIEFsbCB0aGUgZXh0ZW5zaW9ucyBvZiB0aGUgcmFuZ2UgbXVzdCBiZSBkZWNsYXJlZC5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBERUNMQVJBVElPTiA9IDA7XG4gICAgICovXG4gICAgRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlW0V4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZVtcIkRFQ0xBUkFUSU9OXCJdID0gMF0gPSBcIkRFQ0xBUkFUSU9OXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVOVkVSSUZJRUQgPSAxO1xuICAgICAqL1xuICAgIEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZVtFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGVbXCJVTlZFUklGSUVEXCJdID0gMV0gPSBcIlVOVkVSSUZJRURcIjtcbn0pKEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZSB8fCAoRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuVmVyaWZpY2F0aW9uU3RhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCBFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDMsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA0KTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGVcbiAqL1xuZXhwb3J0IHZhciBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlO1xuKGZ1bmN0aW9uIChGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlKSB7XG4gICAgLyoqXG4gICAgICogMCBpcyByZXNlcnZlZCBmb3IgZXJyb3JzLlxuICAgICAqIE9yZGVyIGlzIHdlaXJkIGZvciBoaXN0b3JpY2FsIHJlYXNvbnMuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9ET1VCTEUgPSAxO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkRPVUJMRVwiXSA9IDFdID0gXCJET1VCTEVcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9GTE9BVCA9IDI7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiRkxPQVRcIl0gPSAyXSA9IFwiRkxPQVRcIjtcbiAgICAvKipcbiAgICAgKiBOb3QgWmlnWmFnIGVuY29kZWQuICBOZWdhdGl2ZSBudW1iZXJzIHRha2UgMTAgYnl0ZXMuICBVc2UgVFlQRV9TSU5UNjQgaWZcbiAgICAgKiBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGxpa2VseS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0lOVDY0ID0gMztcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJJTlQ2NFwiXSA9IDNdID0gXCJJTlQ2NFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1VJTlQ2NCA9IDQ7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiVUlOVDY0XCJdID0gNF0gPSBcIlVJTlQ2NFwiO1xuICAgIC8qKlxuICAgICAqIE5vdCBaaWdaYWcgZW5jb2RlZC4gIE5lZ2F0aXZlIG51bWJlcnMgdGFrZSAxMCBieXRlcy4gIFVzZSBUWVBFX1NJTlQzMiBpZlxuICAgICAqIG5lZ2F0aXZlIHZhbHVlcyBhcmUgbGlrZWx5LlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfSU5UMzIgPSA1O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIklOVDMyXCJdID0gNV0gPSBcIklOVDMyXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfRklYRUQ2NCA9IDY7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiRklYRUQ2NFwiXSA9IDZdID0gXCJGSVhFRDY0XCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfRklYRUQzMiA9IDc7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiRklYRUQzMlwiXSA9IDddID0gXCJGSVhFRDMyXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfQk9PTCA9IDg7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiQk9PTFwiXSA9IDhdID0gXCJCT09MXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfU1RSSU5HID0gOTtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJTVFJJTkdcIl0gPSA5XSA9IFwiU1RSSU5HXCI7XG4gICAgLyoqXG4gICAgICogVGFnLWRlbGltaXRlZCBhZ2dyZWdhdGUuXG4gICAgICogR3JvdXAgdHlwZSBpcyBkZXByZWNhdGVkIGFuZCBub3Qgc3VwcG9ydGVkIGFmdGVyIGdvb2dsZS5wcm90b2J1Zi4gSG93ZXZlciwgUHJvdG8zXG4gICAgICogaW1wbGVtZW50YXRpb25zIHNob3VsZCBzdGlsbCBiZSBhYmxlIHRvIHBhcnNlIHRoZSBncm91cCB3aXJlIGZvcm1hdCBhbmRcbiAgICAgKiB0cmVhdCBncm91cCBmaWVsZHMgYXMgdW5rbm93biBmaWVsZHMuICBJbiBFZGl0aW9ucywgdGhlIGdyb3VwIHdpcmUgZm9ybWF0XG4gICAgICogY2FuIGJlIGVuYWJsZWQgdmlhIHRoZSBgbWVzc2FnZV9lbmNvZGluZ2AgZmVhdHVyZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0dST1VQID0gMTA7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiR1JPVVBcIl0gPSAxMF0gPSBcIkdST1VQXCI7XG4gICAgLyoqXG4gICAgICogTGVuZ3RoLWRlbGltaXRlZCBhZ2dyZWdhdGUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9NRVNTQUdFID0gMTE7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiTUVTU0FHRVwiXSA9IDExXSA9IFwiTUVTU0FHRVwiO1xuICAgIC8qKlxuICAgICAqIE5ldyBpbiB2ZXJzaW9uIDIuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9CWVRFUyA9IDEyO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkJZVEVTXCJdID0gMTJdID0gXCJCWVRFU1wiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1VJTlQzMiA9IDEzO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlVJTlQzMlwiXSA9IDEzXSA9IFwiVUlOVDMyXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfRU5VTSA9IDE0O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkVOVU1cIl0gPSAxNF0gPSBcIkVOVU1cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9TRklYRUQzMiA9IDE1O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlNGSVhFRDMyXCJdID0gMTVdID0gXCJTRklYRUQzMlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1NGSVhFRDY0ID0gMTY7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiU0ZJWEVENjRcIl0gPSAxNl0gPSBcIlNGSVhFRDY0XCI7XG4gICAgLyoqXG4gICAgICogVXNlcyBaaWdaYWcgZW5jb2RpbmcuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9TSU5UMzIgPSAxNztcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJTSU5UMzJcIl0gPSAxN10gPSBcIlNJTlQzMlwiO1xuICAgIC8qKlxuICAgICAqIFVzZXMgWmlnWmFnIGVuY29kaW5nLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfU0lOVDY0ID0gMTg7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiU0lOVDY0XCJdID0gMThdID0gXCJTSU5UNjRcIjtcbn0pKEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUgfHwgKEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA0LCAwKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsXG4gKi9cbmV4cG9ydCB2YXIgRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWw7XG4oZnVuY3Rpb24gKEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsKSB7XG4gICAgLyoqXG4gICAgICogMCBpcyByZXNlcnZlZCBmb3IgZXJyb3JzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTEFCRUxfT1BUSU9OQUwgPSAxO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsW0ZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsW1wiT1BUSU9OQUxcIl0gPSAxXSA9IFwiT1BUSU9OQUxcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTEFCRUxfUkVQRUFURUQgPSAzO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsW0ZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsW1wiUkVQRUFURURcIl0gPSAzXSA9IFwiUkVQRUFURURcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVxdWlyZWQgbGFiZWwgaXMgb25seSBhbGxvd2VkIGluIGdvb2dsZS5wcm90b2J1Zi4gIEluIHByb3RvMyBhbmQgRWRpdGlvbnNcbiAgICAgKiBpdCdzIGV4cGxpY2l0bHkgcHJvaGliaXRlZC4gIEluIEVkaXRpb25zLCB0aGUgYGZpZWxkX3ByZXNlbmNlYCBmZWF0dXJlXG4gICAgICogY2FuIGJlIHVzZWQgdG8gZ2V0IHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTEFCRUxfUkVRVUlSRUQgPSAyO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsW0ZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsW1wiUkVRVUlSRURcIl0gPSAyXSA9IFwiUkVRVUlSRURcIjtcbn0pKEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsIHx8IChGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbCA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWwuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNCwgMSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShPbmVvZkRlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgT25lb2ZEZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDUpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShFbnVtRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFbnVtRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA2KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLlxuICogVXNlIGBjcmVhdGUoRW51bURlc2NyaXB0b3JQcm90b19FbnVtUmVzZXJ2ZWRSYW5nZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRW51bURlc2NyaXB0b3JQcm90b19FbnVtUmVzZXJ2ZWRSYW5nZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNiwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoRW51bVZhbHVlRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDcpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShTZXJ2aWNlRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXJ2aWNlRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA4KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShNZXRob2REZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1ldGhvZERlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgOSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShGaWxlT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmlsZU9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEwKTtcbi8qKlxuICogR2VuZXJhdGVkIGNsYXNzZXMgY2FuIGJlIG9wdGltaXplZCBmb3Igc3BlZWQgb3IgY29kZSBzaXplLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5PcHRpbWl6ZU1vZGVcbiAqL1xuZXhwb3J0IHZhciBGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGU7XG4oZnVuY3Rpb24gKEZpbGVPcHRpb25zX09wdGltaXplTW9kZSkge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGNvbXBsZXRlIGNvZGUgZm9yIHBhcnNpbmcsIHNlcmlhbGl6YXRpb24sXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1BFRUQgPSAxO1xuICAgICAqL1xuICAgIEZpbGVPcHRpb25zX09wdGltaXplTW9kZVtGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVbXCJTUEVFRFwiXSA9IDFdID0gXCJTUEVFRFwiO1xuICAgIC8qKlxuICAgICAqIGV0Yy5cbiAgICAgKlxuICAgICAqIFVzZSBSZWZsZWN0aW9uT3BzIHRvIGltcGxlbWVudCB0aGVzZSBtZXRob2RzLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IENPREVfU0laRSA9IDI7XG4gICAgICovXG4gICAgRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlW0ZpbGVPcHRpb25zX09wdGltaXplTW9kZVtcIkNPREVfU0laRVwiXSA9IDJdID0gXCJDT0RFX1NJWkVcIjtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBjb2RlIHVzaW5nIE1lc3NhZ2VMaXRlIGFuZCB0aGUgbGl0ZSBydW50aW1lLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExJVEVfUlVOVElNRSA9IDM7XG4gICAgICovXG4gICAgRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlW0ZpbGVPcHRpb25zX09wdGltaXplTW9kZVtcIkxJVEVfUlVOVElNRVwiXSA9IDNdID0gXCJMSVRFX1JVTlRJTUVcIjtcbn0pKEZpbGVPcHRpb25zX09wdGltaXplTW9kZSB8fCAoRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5PcHRpbWl6ZU1vZGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEwLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKE1lc3NhZ2VPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNZXNzYWdlT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTEpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKEZpZWxkT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMik7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkVkaXRpb25EZWZhdWx0LlxuICogVXNlIGBjcmVhdGUoRmllbGRPcHRpb25zX0VkaXRpb25EZWZhdWx0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNfRWRpdGlvbkRlZmF1bHRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuRmVhdHVyZVN1cHBvcnQuXG4gKiBVc2UgYGNyZWF0ZShGaWVsZE9wdGlvbnNfRmVhdHVyZVN1cHBvcnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc19GZWF0dXJlU3VwcG9ydFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIsIDEpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkNUeXBlXG4gKi9cbmV4cG9ydCB2YXIgRmllbGRPcHRpb25zX0NUeXBlO1xuKGZ1bmN0aW9uIChGaWVsZE9wdGlvbnNfQ1R5cGUpIHtcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IG1vZGUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RSSU5HID0gMDtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfQ1R5cGVbRmllbGRPcHRpb25zX0NUeXBlW1wiU1RSSU5HXCJdID0gMF0gPSBcIlNUUklOR1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSBvcHRpb24gW2N0eXBlPUNPUkRdIG1heSBiZSBhcHBsaWVkIHRvIGEgbm9uLXJlcGVhdGVkIGZpZWxkIG9mIHR5cGVcbiAgICAgKiBcImJ5dGVzXCIuIEl0IGluZGljYXRlcyB0aGF0IGluIEMrKywgdGhlIGRhdGEgc2hvdWxkIGJlIHN0b3JlZCBpbiBhIENvcmRcbiAgICAgKiBpbnN0ZWFkIG9mIGEgc3RyaW5nLiAgRm9yIHZlcnkgbGFyZ2Ugc3RyaW5ncywgdGhpcyBtYXkgcmVkdWNlIG1lbW9yeVxuICAgICAqIGZyYWdtZW50YXRpb24uIEl0IG1heSBhbHNvIGFsbG93IGJldHRlciBwZXJmb3JtYW5jZSB3aGVuIHBhcnNpbmcgZnJvbSBhXG4gICAgICogQ29yZCwgb3Igd2hlbiBwYXJzaW5nIHdpdGggYWxpYXNpbmcgZW5hYmxlZCwgYXMgdGhlIHBhcnNlZCBDb3JkIG1heSB0aGVuXG4gICAgICogYWxpYXMgdGhlIG9yaWdpbmFsIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBDT1JEID0gMTtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfQ1R5cGVbRmllbGRPcHRpb25zX0NUeXBlW1wiQ09SRFwiXSA9IDFdID0gXCJDT1JEXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUUklOR19QSUVDRSA9IDI7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX0NUeXBlW0ZpZWxkT3B0aW9uc19DVHlwZVtcIlNUUklOR19QSUVDRVwiXSA9IDJdID0gXCJTVFJJTkdfUElFQ0VcIjtcbn0pKEZpZWxkT3B0aW9uc19DVHlwZSB8fCAoRmllbGRPcHRpb25zX0NUeXBlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuQ1R5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNfQ1R5cGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyLCAwKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5KU1R5cGVcbiAqL1xuZXhwb3J0IHZhciBGaWVsZE9wdGlvbnNfSlNUeXBlO1xuKGZ1bmN0aW9uIChGaWVsZE9wdGlvbnNfSlNUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBkZWZhdWx0IHR5cGUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSlNfTk9STUFMID0gMDtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfSlNUeXBlW0ZpZWxkT3B0aW9uc19KU1R5cGVbXCJKU19OT1JNQUxcIl0gPSAwXSA9IFwiSlNfTk9STUFMXCI7XG4gICAgLyoqXG4gICAgICogVXNlIEphdmFTY3JpcHQgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBKU19TVFJJTkcgPSAxO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19KU1R5cGVbRmllbGRPcHRpb25zX0pTVHlwZVtcIkpTX1NUUklOR1wiXSA9IDFdID0gXCJKU19TVFJJTkdcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgSmF2YVNjcmlwdCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEpTX05VTUJFUiA9IDI7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX0pTVHlwZVtGaWVsZE9wdGlvbnNfSlNUeXBlW1wiSlNfTlVNQkVSXCJdID0gMl0gPSBcIkpTX05VTUJFUlwiO1xufSkoRmllbGRPcHRpb25zX0pTVHlwZSB8fCAoRmllbGRPcHRpb25zX0pTVHlwZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkpTVHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc19KU1R5cGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyLCAxKTtcbi8qKlxuICogSWYgc2V0IHRvIFJFVEVOVElPTl9TT1VSQ0UsIHRoZSBvcHRpb24gd2lsbCBiZSBvbWl0dGVkIGZyb20gdGhlIGJpbmFyeS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLk9wdGlvblJldGVudGlvblxuICovXG5leHBvcnQgdmFyIEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb247XG4oZnVuY3Rpb24gKEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb24pIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogUkVURU5USU9OX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25bRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbltcIlJFVEVOVElPTl9VTktOT1dOXCJdID0gMF0gPSBcIlJFVEVOVElPTl9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFJFVEVOVElPTl9SVU5USU1FID0gMTtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uW0ZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25bXCJSRVRFTlRJT05fUlVOVElNRVwiXSA9IDFdID0gXCJSRVRFTlRJT05fUlVOVElNRVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBSRVRFTlRJT05fU09VUkNFID0gMjtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uW0ZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25bXCJSRVRFTlRJT05fU09VUkNFXCJdID0gMl0gPSBcIlJFVEVOVElPTl9TT1VSQ0VcIjtcbn0pKEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb24gfHwgKEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb24gPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5PcHRpb25SZXRlbnRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMiwgMik7XG4vKipcbiAqIFRoaXMgaW5kaWNhdGVzIHRoZSB0eXBlcyBvZiBlbnRpdGllcyB0aGF0IHRoZSBmaWVsZCBtYXkgYXBwbHkgdG8gd2hlbiB1c2VkXG4gKiBhcyBhbiBvcHRpb24uIElmIGl0IGlzIHVuc2V0LCB0aGVuIHRoZSBmaWVsZCBtYXkgYmUgZnJlZWx5IHVzZWQgYXMgYW5cbiAqIG9wdGlvbiBvbiBhbnkga2luZCBvZiBlbnRpdHkuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5PcHRpb25UYXJnZXRUeXBlXG4gKi9cbmV4cG9ydCB2YXIgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGU7XG4oZnVuY3Rpb24gKEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfVU5LTk9XTlwiXSA9IDBdID0gXCJUQVJHRVRfVFlQRV9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX0ZJTEUgPSAxO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfRklMRVwiXSA9IDFdID0gXCJUQVJHRVRfVFlQRV9GSUxFXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX0VYVEVOU0lPTl9SQU5HRSA9IDI7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9FWFRFTlNJT05fUkFOR0VcIl0gPSAyXSA9IFwiVEFSR0VUX1RZUEVfRVhURU5TSU9OX1JBTkdFXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX01FU1NBR0UgPSAzO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfTUVTU0FHRVwiXSA9IDNdID0gXCJUQVJHRVRfVFlQRV9NRVNTQUdFXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX0ZJRUxEID0gNDtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX0ZJRUxEXCJdID0gNF0gPSBcIlRBUkdFVF9UWVBFX0ZJRUxEXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX09ORU9GID0gNTtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX09ORU9GXCJdID0gNV0gPSBcIlRBUkdFVF9UWVBFX09ORU9GXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX0VOVU0gPSA2O1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfRU5VTVwiXSA9IDZdID0gXCJUQVJHRVRfVFlQRV9FTlVNXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX0VOVU1fRU5UUlkgPSA3O1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfRU5VTV9FTlRSWVwiXSA9IDddID0gXCJUQVJHRVRfVFlQRV9FTlVNX0VOVFJZXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX1NFUlZJQ0UgPSA4O1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfU0VSVklDRVwiXSA9IDhdID0gXCJUQVJHRVRfVFlQRV9TRVJWSUNFXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRBUkdFVF9UWVBFX01FVEhPRCA9IDk7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9NRVRIT0RcIl0gPSA5XSA9IFwiVEFSR0VUX1RZUEVfTUVUSE9EXCI7XG59KShGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZSB8fCAoRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5PcHRpb25UYXJnZXRUeXBlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyLCAzKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShPbmVvZk9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uZW9mT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTMpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLlxuICogVXNlIGBjcmVhdGUoRW51bU9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1PcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxNCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKEVudW1WYWx1ZU9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1WYWx1ZU9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE1KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKFNlcnZpY2VPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXJ2aWNlT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTYpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShNZXRob2RPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNZXRob2RPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxNyk7XG4vKipcbiAqIElzIHRoaXMgbWV0aG9kIHNpZGUtZWZmZWN0LWZyZWUgKG9yIHNhZmUgaW4gSFRUUCBwYXJsYW5jZSksIG9yIGlkZW1wb3RlbnQsXG4gKiBvciBuZWl0aGVyPyBIVFRQIGJhc2VkIFJQQyBpbXBsZW1lbnRhdGlvbiBtYXkgY2hvb3NlIEdFVCB2ZXJiIGZvciBzYWZlXG4gKiBtZXRob2RzLCBhbmQgUFVUIHZlcmIgZm9yIGlkZW1wb3RlbnQgbWV0aG9kcyBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IFBPU1QuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuSWRlbXBvdGVuY3lMZXZlbFxuICovXG5leHBvcnQgdmFyIE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbDtcbihmdW5jdGlvbiAoTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IElERU1QT1RFTkNZX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFtNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxbXCJJREVNUE9URU5DWV9VTktOT1dOXCJdID0gMF0gPSBcIklERU1QT1RFTkNZX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBpbXBsaWVzIGlkZW1wb3RlbnRcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBOT19TSURFX0VGRkVDVFMgPSAxO1xuICAgICAqL1xuICAgIE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFtNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxbXCJOT19TSURFX0VGRkVDVFNcIl0gPSAxXSA9IFwiTk9fU0lERV9FRkZFQ1RTXCI7XG4gICAgLyoqXG4gICAgICogaWRlbXBvdGVudCwgYnV0IG1heSBoYXZlIHNpZGUgZWZmZWN0c1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IElERU1QT1RFTlQgPSAyO1xuICAgICAqL1xuICAgIE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFtNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxbXCJJREVNUE9URU5UXCJdID0gMl0gPSBcIklERU1QT1RFTlRcIjtcbn0pKE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbCB8fCAoTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWwuXG4gKi9cbmV4cG9ydCBjb25zdCBNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE3LCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLlxuICogVXNlIGBjcmVhdGUoVW5pbnRlcnByZXRlZE9wdGlvblNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgVW5pbnRlcnByZXRlZE9wdGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTgpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuXG4gKiBVc2UgYGNyZWF0ZShVbmludGVycHJldGVkT3B0aW9uX05hbWVQYXJ0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBVbmludGVycHJldGVkT3B0aW9uX05hbWVQYXJ0U2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOCwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5cbiAqIFVzZSBgY3JlYXRlKEZlYXR1cmVTZXRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlZpc2liaWxpdHlGZWF0dXJlLlxuICogVXNlIGBjcmVhdGUoRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDApO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5WaXNpYmlsaXR5RmVhdHVyZS5EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVxuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHk7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHkpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREVGQVVMVF9TWU1CT0xfVklTSUJJTElUWV9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W0ZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbXCJERUZBVUxUX1NZTUJPTF9WSVNJQklMSVRZX1VOS05PV05cIl0gPSAwXSA9IFwiREVGQVVMVF9TWU1CT0xfVklTSUJJTElUWV9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBwcmUtRURJVElPTl8yMDI0LCBhbGwgVU5TRVQgdmlzaWJpbGl0eSBhcmUgZXhwb3J0LlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVYUE9SVF9BTEwgPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtcIkVYUE9SVF9BTExcIl0gPSAxXSA9IFwiRVhQT1JUX0FMTFwiO1xuICAgIC8qKlxuICAgICAqIEFsbCB0b3AtbGV2ZWwgc3ltYm9scyBkZWZhdWx0IHRvIGV4cG9ydCwgbmVzdGVkIGRlZmF1bHQgdG8gbG9jYWwuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRVhQT1JUX1RPUF9MRVZFTCA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W1wiRVhQT1JUX1RPUF9MRVZFTFwiXSA9IDJdID0gXCJFWFBPUlRfVE9QX0xFVkVMXCI7XG4gICAgLyoqXG4gICAgICogQWxsIHN5bWJvbHMgZGVmYXVsdCB0byBsb2NhbC5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMT0NBTF9BTEwgPSAzO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtcIkxPQ0FMX0FMTFwiXSA9IDNdID0gXCJMT0NBTF9BTExcIjtcbiAgICAvKipcbiAgICAgKiBBbGwgc3ltYm9scyBsb2NhbCBieSBkZWZhdWx0LiBOZXN0ZWQgdHlwZXMgY2Fubm90IGJlIGV4cG9ydGVkLlxuICAgICAqIFdpdGggc3BlY2lhbCBjYXNlIGNhdmVhdCBmb3IgbWVzc2FnZSB7IGVudW0ge30gcmVzZXJ2ZWQgMSB0byBtYXg7IH1cbiAgICAgKiBUaGlzIGlzIHRoZSByZWNvbW1lbmRlZCBzZXR0aW5nIGZvciBuZXcgcHJvdG9zLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUUklDVCA9IDQ7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W1wiU1RSSUNUXCJdID0gNF0gPSBcIlNUUklDVFwiO1xufSkoRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eSB8fCAoRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5WaXNpYmlsaXR5RmVhdHVyZS5EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCAwLCAwKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZVxuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZTtcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEZJRUxEX1BSRVNFTkNFX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbXCJGSUVMRF9QUkVTRU5DRV9VTktOT1dOXCJdID0gMF0gPSBcIkZJRUxEX1BSRVNFTkNFX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRVhQTElDSVQgPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbXCJFWFBMSUNJVFwiXSA9IDFdID0gXCJFWFBMSUNJVFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBJTVBMSUNJVCA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW0ZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtcIklNUExJQ0lUXCJdID0gMl0gPSBcIklNUExJQ0lUXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExFR0FDWV9SRVFVSVJFRCA9IDM7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW0ZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtcIkxFR0FDWV9SRVFVSVJFRFwiXSA9IDNdID0gXCJMRUdBQ1lfUkVRVUlSRURcIjtcbn0pKEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZSB8fCAoRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCAwKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW51bVR5cGVcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X0VudW1UeXBlO1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X0VudW1UeXBlKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVOVU1fVFlQRV9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0VudW1UeXBlW0ZlYXR1cmVTZXRfRW51bVR5cGVbXCJFTlVNX1RZUEVfVU5LTk9XTlwiXSA9IDBdID0gXCJFTlVNX1RZUEVfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBPUEVOID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0VudW1UeXBlW0ZlYXR1cmVTZXRfRW51bVR5cGVbXCJPUEVOXCJdID0gMV0gPSBcIk9QRU5cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogQ0xPU0VEID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0VudW1UeXBlW0ZlYXR1cmVTZXRfRW51bVR5cGVbXCJDTE9TRURcIl0gPSAyXSA9IFwiQ0xPU0VEXCI7XG59KShGZWF0dXJlU2V0X0VudW1UeXBlIHx8IChGZWF0dXJlU2V0X0VudW1UeXBlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVudW1UeXBlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9FbnVtVHlwZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDEpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5SZXBlYXRlZEZpZWxkRW5jb2RpbmdcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZztcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmcpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogUkVQRUFURURfRklFTERfRU5DT0RJTkdfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdbRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdbXCJSRVBFQVRFRF9GSUVMRF9FTkNPRElOR19VTktOT1dOXCJdID0gMF0gPSBcIlJFUEVBVEVEX0ZJRUxEX0VOQ09ESU5HX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogUEFDS0VEID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1tGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1tcIlBBQ0tFRFwiXSA9IDFdID0gXCJQQUNLRURcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRVhQQU5ERUQgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nW0ZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nW1wiRVhQQU5ERURcIl0gPSAyXSA9IFwiRVhQQU5ERURcIjtcbn0pKEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nIHx8IChGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZyA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5SZXBlYXRlZEZpZWxkRW5jb2RpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDIpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5VdGY4VmFsaWRhdGlvblxuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb247XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVVRGOF9WQUxJREFUSU9OX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25bRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbltcIlVURjhfVkFMSURBVElPTl9VTktOT1dOXCJdID0gMF0gPSBcIlVURjhfVkFMSURBVElPTl9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFZFUklGWSA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbltGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uW1wiVkVSSUZZXCJdID0gMl0gPSBcIlZFUklGWVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBOT05FID0gMztcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uW0ZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25bXCJOT05FXCJdID0gM10gPSBcIk5PTkVcIjtcbn0pKEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb24gfHwgKEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVXRmOFZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgMyk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lk1lc3NhZ2VFbmNvZGluZ1xuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nO1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZykge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNRVNTQUdFX0VOQ09ESU5HX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nW0ZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nW1wiTUVTU0FHRV9FTkNPRElOR19VTktOT1dOXCJdID0gMF0gPSBcIk1FU1NBR0VfRU5DT0RJTkdfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMRU5HVEhfUFJFRklYRUQgPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nW0ZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nW1wiTEVOR1RIX1BSRUZJWEVEXCJdID0gMV0gPSBcIkxFTkdUSF9QUkVGSVhFRFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBERUxJTUlURUQgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nW0ZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nW1wiREVMSU1JVEVEXCJdID0gMl0gPSBcIkRFTElNSVRFRFwiO1xufSkoRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmcgfHwgKEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lk1lc3NhZ2VFbmNvZGluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgNCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lkpzb25Gb3JtYXRcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X0pzb25Gb3JtYXQ7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfSnNvbkZvcm1hdCkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBKU09OX0ZPUk1BVF9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0pzb25Gb3JtYXRbRmVhdHVyZVNldF9Kc29uRm9ybWF0W1wiSlNPTl9GT1JNQVRfVU5LTk9XTlwiXSA9IDBdID0gXCJKU09OX0ZPUk1BVF9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEFMTE9XID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0pzb25Gb3JtYXRbRmVhdHVyZVNldF9Kc29uRm9ybWF0W1wiQUxMT1dcIl0gPSAxXSA9IFwiQUxMT1dcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTEVHQUNZX0JFU1RfRUZGT1JUID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0pzb25Gb3JtYXRbRmVhdHVyZVNldF9Kc29uRm9ybWF0W1wiTEVHQUNZX0JFU1RfRUZGT1JUXCJdID0gMl0gPSBcIkxFR0FDWV9CRVNUX0VGRk9SVFwiO1xufSkoRmVhdHVyZVNldF9Kc29uRm9ybWF0IHx8IChGZWF0dXJlU2V0X0pzb25Gb3JtYXQgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuSnNvbkZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfSnNvbkZvcm1hdFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDUpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbmZvcmNlTmFtaW5nU3R5bGVcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZTtcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGUpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRU5GT1JDRV9OQU1JTkdfU1RZTEVfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVbRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVbXCJFTkZPUkNFX05BTUlOR19TVFlMRV9VTktOT1dOXCJdID0gMF0gPSBcIkVORk9SQ0VfTkFNSU5HX1NUWUxFX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RZTEUyMDI0ID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVtGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVtcIlNUWUxFMjAyNFwiXSA9IDFdID0gXCJTVFlMRTIwMjRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RZTEVfTEVHQUNZID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVtGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVtcIlNUWUxFX0xFR0FDWVwiXSA9IDJdID0gXCJTVFlMRV9MRUdBQ1lcIjtcbn0pKEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlIHx8IChGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbmZvcmNlTmFtaW5nU3R5bGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDYpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXREZWZhdWx0cy5cbiAqIFVzZSBgY3JlYXRlKEZlYXR1cmVTZXREZWZhdWx0c1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldERlZmF1bHRzU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldERlZmF1bHRzLkZlYXR1cmVTZXRFZGl0aW9uRGVmYXVsdC5cbiAqIFVzZSBgY3JlYXRlKEZlYXR1cmVTZXREZWZhdWx0c19GZWF0dXJlU2V0RWRpdGlvbkRlZmF1bHRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXREZWZhdWx0c19GZWF0dXJlU2V0RWRpdGlvbkRlZmF1bHRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIwLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5cbiAqIFVzZSBgY3JlYXRlKFNvdXJjZUNvZGVJbmZvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTb3VyY2VDb2RlSW5mb1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjEpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLlxuICogVXNlIGBjcmVhdGUoU291cmNlQ29kZUluZm9fTG9jYXRpb25TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNvdXJjZUNvZGVJbmZvX0xvY2F0aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMSwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uXG4gKiBVc2UgYGNyZWF0ZShHZW5lcmF0ZWRDb2RlSW5mb1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgR2VuZXJhdGVkQ29kZUluZm9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIyKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLlxuICogVXNlIGBjcmVhdGUoR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvblNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjIsIDApO1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBpZGVudGlmaWVkIG9iamVjdCdzIGVmZmVjdCBvbiB0aGUgZWxlbWVudCBpbiB0aGUgb3JpZ2luYWxcbiAqIC5wcm90byBmaWxlLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLlNlbWFudGljXG4gKi9cbmV4cG9ydCB2YXIgR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpYztcbihmdW5jdGlvbiAoR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpYykge1xuICAgIC8qKlxuICAgICAqIFRoZXJlIGlzIG5vIGVmZmVjdCBvciB0aGUgZWZmZWN0IGlzIGluZGVzY3JpYmFibGUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTk9ORSA9IDA7XG4gICAgICovXG4gICAgR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1tHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgaXMgc2V0IG9yIG90aGVyd2lzZSBtdXRhdGVkLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNFVCA9IDE7XG4gICAgICovXG4gICAgR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1tHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljW1wiU0VUXCJdID0gMV0gPSBcIlNFVFwiO1xuICAgIC8qKlxuICAgICAqIEFuIGFsaWFzIHRvIHRoZSBlbGVtZW50IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEFMSUFTID0gMjtcbiAgICAgKi9cbiAgICBHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljW0dlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNbXCJBTElBU1wiXSA9IDJdID0gXCJBTElBU1wiO1xufSkoR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpYyB8fCAoR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpYyA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5TZW1hbnRpYy5cbiAqL1xuZXhwb3J0IGNvbnN0IEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIyLCAwLCAwKTtcbi8qKlxuICogVGhlIGZ1bGwgc2V0IG9mIGtub3duIGVkaXRpb25zLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXG4gKi9cbmV4cG9ydCB2YXIgRWRpdGlvbjtcbihmdW5jdGlvbiAoRWRpdGlvbikge1xuICAgIC8qKlxuICAgICAqIEEgcGxhY2Vob2xkZXIgZm9yIGFuIHVua25vd24gZWRpdGlvbiB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fVU5LTk9XTlwiXSA9IDBdID0gXCJFRElUSU9OX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBBIHBsYWNlaG9sZGVyIGVkaXRpb24gZm9yIHNwZWNpZnlpbmcgZGVmYXVsdCBiZWhhdmlvcnMgKmJlZm9yZSogYSBmZWF0dXJlXG4gICAgICogd2FzIGZpcnN0IGludHJvZHVjZWQuICBUaGlzIGlzIGVmZmVjdGl2ZWx5IGFuIFwiaW5maW5pdGUgcGFzdFwiLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fTEVHQUNZID0gOTAwO1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fTEVHQUNZXCJdID0gOTAwXSA9IFwiRURJVElPTl9MRUdBQ1lcIjtcbiAgICAvKipcbiAgICAgKiBMZWdhY3kgc3ludGF4IFwiZWRpdGlvbnNcIi4gIFRoZXNlIHByZS1kYXRlIGVkaXRpb25zLCBidXQgYmVoYXZlIG11Y2ggbGlrZVxuICAgICAqIGRpc3RpbmN0IGVkaXRpb25zLiAgVGhlc2UgY2FuJ3QgYmUgdXNlZCB0byBzcGVjaWZ5IHRoZSBlZGl0aW9uIG9mIHByb3RvXG4gICAgICogZmlsZXMsIGJ1dCBmZWF0dXJlIGRlZmluaXRpb25zIG11c3Qgc3VwcGx5IHByb3RvMi9wcm90bzMgZGVmYXVsdHMgZm9yXG4gICAgICogYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl9QUk9UTzIgPSA5OTg7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl9QUk9UTzJcIl0gPSA5OThdID0gXCJFRElUSU9OX1BST1RPMlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OX1BST1RPMyA9IDk5OTtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OX1BST1RPM1wiXSA9IDk5OV0gPSBcIkVESVRJT05fUFJPVE8zXCI7XG4gICAgLyoqXG4gICAgICogRWRpdGlvbnMgdGhhdCBoYXZlIGJlZW4gcmVsZWFzZWQuICBUaGUgc3BlY2lmaWMgdmFsdWVzIGFyZSBhcmJpdHJhcnkgYW5kXG4gICAgICogc2hvdWxkIG5vdCBiZSBkZXBlbmRlZCBvbiwgYnV0IHRoZXkgd2lsbCBhbHdheXMgYmUgdGltZS1vcmRlcmVkIGZvciBlYXN5XG4gICAgICogY29tcGFyaXNvbi5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzIwMjMgPSAxMDAwO1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fMjAyM1wiXSA9IDEwMDBdID0gXCJFRElUSU9OXzIwMjNcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl8yMDI0ID0gMTAwMTtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzIwMjRcIl0gPSAxMDAxXSA9IFwiRURJVElPTl8yMDI0XCI7XG4gICAgLyoqXG4gICAgICogUGxhY2Vob2xkZXIgZWRpdGlvbnMgZm9yIHRlc3RpbmcgZmVhdHVyZSByZXNvbHV0aW9uLiAgVGhlc2Ugc2hvdWxkIG5vdCBiZVxuICAgICAqIHVzZWQgb3IgcmVsaWVkIG9uIG91dHNpZGUgb2YgdGVzdHMuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl8xX1RFU1RfT05MWSA9IDE7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl8xX1RFU1RfT05MWVwiXSA9IDFdID0gXCJFRElUSU9OXzFfVEVTVF9PTkxZXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fMl9URVNUX09OTFkgPSAyO1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fMl9URVNUX09OTFlcIl0gPSAyXSA9IFwiRURJVElPTl8yX1RFU1RfT05MWVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzk5OTk3X1RFU1RfT05MWSA9IDk5OTk3O1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fOTk5OTdfVEVTVF9PTkxZXCJdID0gOTk5OTddID0gXCJFRElUSU9OXzk5OTk3X1RFU1RfT05MWVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzk5OTk4X1RFU1RfT05MWSA9IDk5OTk4O1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fOTk5OThfVEVTVF9PTkxZXCJdID0gOTk5OThdID0gXCJFRElUSU9OXzk5OTk4X1RFU1RfT05MWVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzk5OTk5X1RFU1RfT05MWSA9IDk5OTk5O1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fOTk5OTlfVEVTVF9PTkxZXCJdID0gOTk5OTldID0gXCJFRElUSU9OXzk5OTk5X1RFU1RfT05MWVwiO1xuICAgIC8qKlxuICAgICAqIFBsYWNlaG9sZGVyIGZvciBzcGVjaWZ5aW5nIHVuYm91bmRlZCBlZGl0aW9uIHN1cHBvcnQuICBUaGlzIHNob3VsZCBvbmx5XG4gICAgICogZXZlciBiZSB1c2VkIGJ5IHBsdWdpbnMgdGhhdCBjYW4gZXhwZWN0IHRvIG5ldmVyIHJlcXVpcmUgYW55IGNoYW5nZXMgdG9cbiAgICAgKiBzdXBwb3J0IGEgbmV3IGVkaXRpb24uXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl9NQVggPSAyMTQ3NDgzNjQ3O1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fTUFYXCJdID0gMjE0NzQ4MzY0N10gPSBcIkVESVRJT05fTUFYXCI7XG59KShFZGl0aW9uIHx8IChFZGl0aW9uID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uLlxuICovXG5leHBvcnQgY29uc3QgRWRpdGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgJ3Zpc2liaWxpdHknIG9mIGEgc3ltYm9sIHdpdGggcmVzcGVjdCB0byB0aGUgcHJvdG8gaW1wb3J0XG4gKiBzeXN0ZW0uIFN5bWJvbHMgY2FuIG9ubHkgYmUgaW1wb3J0ZWQgd2hlbiB0aGUgdmlzaWJpbGl0eSBydWxlcyBkbyBub3QgcHJldmVudFxuICogaXQgKGV4OiBsb2NhbCBzeW1ib2xzIGNhbm5vdCBiZSBpbXBvcnRlZCkuICBWaXNpYmlsaXR5IG1vZGlmaWVycyBjYW4gb25seSBzZXRcbiAqIG9uIGBtZXNzYWdlYCBhbmQgYGVudW1gIGFzIHRoZXkgYXJlIHRoZSBvbmx5IHR5cGVzIGF2YWlsYWJsZSB0byBiZSByZWZlcmVuY2VkXG4gKiBmcm9tIG90aGVyIGZpbGVzLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5TeW1ib2xWaXNpYmlsaXR5XG4gKi9cbmV4cG9ydCB2YXIgU3ltYm9sVmlzaWJpbGl0eTtcbihmdW5jdGlvbiAoU3ltYm9sVmlzaWJpbGl0eSkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBWSVNJQklMSVRZX1VOU0VUID0gMDtcbiAgICAgKi9cbiAgICBTeW1ib2xWaXNpYmlsaXR5W1N5bWJvbFZpc2liaWxpdHlbXCJWSVNJQklMSVRZX1VOU0VUXCJdID0gMF0gPSBcIlZJU0lCSUxJVFlfVU5TRVRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVklTSUJJTElUWV9MT0NBTCA9IDE7XG4gICAgICovXG4gICAgU3ltYm9sVmlzaWJpbGl0eVtTeW1ib2xWaXNpYmlsaXR5W1wiVklTSUJJTElUWV9MT0NBTFwiXSA9IDFdID0gXCJWSVNJQklMSVRZX0xPQ0FMXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFZJU0lCSUxJVFlfRVhQT1JUID0gMjtcbiAgICAgKi9cbiAgICBTeW1ib2xWaXNpYmlsaXR5W1N5bWJvbFZpc2liaWxpdHlbXCJWSVNJQklMSVRZX0VYUE9SVFwiXSA9IDJdID0gXCJWSVNJQklMSVRZX0VYUE9SVFwiO1xufSkoU3ltYm9sVmlzaWJpbGl0eSB8fCAoU3ltYm9sVmlzaWJpbGl0eSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuU3ltYm9sVmlzaWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFN5bWJvbFZpc2liaWxpdHlTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEpO1xuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHNjYWxhclplcm9WYWx1ZSB9IGZyb20gXCIuL3JlZmxlY3Qvc2NhbGFyLmpzXCI7XG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG5pbXBvcnQgeyBCaW5hcnlSZWFkZXIsIFdpcmVUeXBlIH0gZnJvbSBcIi4vd2lyZS9iaW5hcnktZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IHZhcmludDMyd3JpdGUgfSBmcm9tIFwiLi93aXJlL3ZhcmludC5qc1wiO1xuLy8gRGVmYXVsdCBvcHRpb25zIGZvciBwYXJzaW5nIGJpbmFyeSBkYXRhLlxuY29uc3QgcmVhZERlZmF1bHRzID0ge1xuICAgIHJlYWRVbmtub3duRmllbGRzOiB0cnVlLFxufTtcbmZ1bmN0aW9uIG1ha2VSZWFkT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlYWREZWZhdWx0cyksIG9wdGlvbnMpIDogcmVhZERlZmF1bHRzO1xufVxuLyoqXG4gKiBQYXJzZSBzZXJpYWxpemVkIGJpbmFyeSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUJpbmFyeShzY2hlbWEsIGJ5dGVzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbXNnID0gcmVmbGVjdChzY2hlbWEsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIHJlYWRNZXNzYWdlKG1zZywgbmV3IEJpbmFyeVJlYWRlcihieXRlcyksIG1ha2VSZWFkT3B0aW9ucyhvcHRpb25zKSwgZmFsc2UsIGJ5dGVzLmJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiBtc2cubWVzc2FnZTtcbn1cbi8qKlxuICogUGFyc2UgZnJvbSBiaW5hcnkgZGF0YSwgbWVyZ2luZyBmaWVsZHMuXG4gKlxuICogUmVwZWF0ZWQgZmllbGRzIGFyZSBhcHBlbmRlZC4gTWFwIGVudHJpZXMgYXJlIGFkZGVkLCBvdmVyd3JpdGluZ1xuICogZXhpc3Rpbmcga2V5cy5cbiAqXG4gKiBJZiBhIG1lc3NhZ2UgZmllbGQgaXMgYWxyZWFkeSBwcmVzZW50LCBpdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZVxuICogbmV3IGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUZyb21CaW5hcnkoc2NoZW1hLCB0YXJnZXQsIGJ5dGVzLCBvcHRpb25zKSB7XG4gICAgcmVhZE1lc3NhZ2UocmVmbGVjdChzY2hlbWEsIHRhcmdldCwgZmFsc2UpLCBuZXcgQmluYXJ5UmVhZGVyKGJ5dGVzKSwgbWFrZVJlYWRPcHRpb25zKG9wdGlvbnMpLCBmYWxzZSwgYnl0ZXMuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8qKlxuICogSWYgYGRlbGltaXRlZGAgaXMgZmFsc2UsIHJlYWQgdGhlIGxlbmd0aCBnaXZlbiBpbiBgbGVuZ3RoT3JEZWxpbWl0ZWRGaWVsZE5vYC5cbiAqXG4gKiBJZiBgZGVsaW1pdGVkYCBpcyB0cnVlLCByZWFkIHVudGlsIGFuIEVuZEdyb3VwIHRhZy4gYGxlbmd0aE9yRGVsaW1pdGVkRmllbGROb2BcbiAqIGlzIHRoZSBleHBlY3RlZCBmaWVsZCBudW1iZXIuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVhZE1lc3NhZ2UobWVzc2FnZSwgcmVhZGVyLCBvcHRpb25zLCBkZWxpbWl0ZWQsIGxlbmd0aE9yRGVsaW1pdGVkRmllbGRObykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBlbmQgPSBkZWxpbWl0ZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aE9yRGVsaW1pdGVkRmllbGRObztcbiAgICBsZXQgZmllbGRObztcbiAgICBsZXQgd2lyZVR5cGU7XG4gICAgY29uc3QgdW5rbm93bkZpZWxkcyA9IChfYSA9IG1lc3NhZ2UuZ2V0VW5rbm93bigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICBpZiAoZGVsaW1pdGVkICYmIHdpcmVUeXBlID09IFdpcmVUeXBlLkVuZEdyb3VwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWVsZCA9IG1lc3NhZ2UuZmluZE51bWJlcihmaWVsZE5vKTtcbiAgICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlYWRlci5za2lwKHdpcmVUeXBlLCBmaWVsZE5vKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJlYWRVbmtub3duRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgdW5rbm93bkZpZWxkcy5wdXNoKHsgbm86IGZpZWxkTm8sIHdpcmVUeXBlLCBkYXRhIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVhZEZpZWxkKG1lc3NhZ2UsIHJlYWRlciwgZmllbGQsIHdpcmVUeXBlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGRlbGltaXRlZCkge1xuICAgICAgICBpZiAod2lyZVR5cGUgIT0gV2lyZVR5cGUuRW5kR3JvdXAgfHwgZmllbGRObyAhPT0gbGVuZ3RoT3JEZWxpbWl0ZWRGaWVsZE5vKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGVuZCBncm91cCB0YWdcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVua25vd25GaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBtZXNzYWdlLnNldFVua25vd24odW5rbm93bkZpZWxkcyk7XG4gICAgfVxufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpZWxkKG1lc3NhZ2UsIHJlYWRlciwgZmllbGQsIHdpcmVUeXBlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2V0KGZpZWxkLCByZWFkU2NhbGFyKHJlYWRlciwgZmllbGQuc2NhbGFyKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IHJlYWRTY2FsYXIocmVhZGVyLCBTY2FsYXJUeXBlLklOVDMyKTtcbiAgICAgICAgICAgIGlmIChmaWVsZC5lbnVtLm9wZW4pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldChmaWVsZCwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9rID0gZmllbGQuZW51bS52YWx1ZXMuc29tZSgodikgPT4gdi5udW1iZXIgPT09IHZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2V0KGZpZWxkLCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLnJlYWRVbmtub3duRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhcmludDMyd3JpdGUodmFsLCBieXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVua25vd25GaWVsZHMgPSAoX2EgPSBtZXNzYWdlLmdldFVua25vd24oKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICAgICAgICAgIHVua25vd25GaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBubzogZmllbGQubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lyZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBuZXcgVWludDhBcnJheShieXRlcyksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNldFVua25vd24odW5rbm93bkZpZWxkcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICBtZXNzYWdlLnNldChmaWVsZCwgcmVhZE1lc3NhZ2VGaWVsZChyZWFkZXIsIG9wdGlvbnMsIGZpZWxkLCBtZXNzYWdlLmdldChmaWVsZCkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgcmVhZExpc3RGaWVsZChyZWFkZXIsIHdpcmVUeXBlLCBtZXNzYWdlLmdldChmaWVsZCksIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgIHJlYWRNYXBFbnRyeShyZWFkZXIsIG1lc3NhZ2UuZ2V0KGZpZWxkKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4vLyBSZWFkIGEgbWFwIGZpZWxkLCBleHBlY3Rpbmcga2V5IGZpZWxkID0gMSwgdmFsdWUgZmllbGQgPSAyXG5mdW5jdGlvbiByZWFkTWFwRW50cnkocmVhZGVyLCBtYXAsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmaWVsZCA9IG1hcC5maWVsZCgpO1xuICAgIGxldCBrZXk7XG4gICAgbGV0IHZhbDtcbiAgICAvLyBSZWFkIHRoZSBsZW5ndGggb2YgdGhlIG1hcCBlbnRyeSwgd2hpY2ggaXMgYSB2YXJpbnQuXG4gICAgY29uc3QgbGVuID0gcmVhZGVyLnVpbnQzMigpO1xuICAgIC8vIFdBUk5JTkc6IENhbGN1bGF0ZSBlbmQgQUZURVIgYWR2YW5jaW5nIHJlYWRlci5wb3MgKGFib3ZlKSwgc28gdGhhdFxuICAgIC8vICAgICAgICAgIHJlYWRlci5wb3MgaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBtYXAgZW50cnkuXG4gICAgY29uc3QgZW5kID0gcmVhZGVyLnBvcyArIGxlbjtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICBjb25zdCBbZmllbGROb10gPSByZWFkZXIudGFnKCk7XG4gICAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGtleSA9IHJlYWRTY2FsYXIocmVhZGVyLCBmaWVsZC5tYXBLZXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQubWFwS2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSByZWFkU2NhbGFyKHJlYWRlciwgZmllbGQuc2NhbGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHJlYWRNZXNzYWdlRmllbGQocmVhZGVyLCBvcHRpb25zLCBmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleSA9IHNjYWxhclplcm9WYWx1ZShmaWVsZC5tYXBLZXksIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN3aXRjaCAoZmllbGQubWFwS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IHNjYWxhclplcm9WYWx1ZShmaWVsZC5zY2FsYXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgdmFsID0gZmllbGQuZW51bS52YWx1ZXNbMF0ubnVtYmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICB2YWwgPSByZWZsZWN0KGZpZWxkLm1lc3NhZ2UsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hcC5zZXQoa2V5LCB2YWwpO1xufVxuZnVuY3Rpb24gcmVhZExpc3RGaWVsZChyZWFkZXIsIHdpcmVUeXBlLCBsaXN0LCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGZpZWxkID0gbGlzdC5maWVsZCgpO1xuICAgIGlmIChmaWVsZC5saXN0S2luZCA9PT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgbGlzdC5hZGQocmVhZE1lc3NhZ2VGaWVsZChyZWFkZXIsIG9wdGlvbnMsIGZpZWxkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NhbGFyVHlwZSA9IChfYSA9IGZpZWxkLnNjYWxhcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU2NhbGFyVHlwZS5JTlQzMjtcbiAgICBjb25zdCBwYWNrZWQgPSB3aXJlVHlwZSA9PSBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQgJiZcbiAgICAgICAgc2NhbGFyVHlwZSAhPSBTY2FsYXJUeXBlLlNUUklORyAmJlxuICAgICAgICBzY2FsYXJUeXBlICE9IFNjYWxhclR5cGUuQllURVM7XG4gICAgaWYgKCFwYWNrZWQpIHtcbiAgICAgICAgbGlzdC5hZGQocmVhZFNjYWxhcihyZWFkZXIsIHNjYWxhclR5cGUpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGUpIHtcbiAgICAgICAgbGlzdC5hZGQocmVhZFNjYWxhcihyZWFkZXIsIHNjYWxhclR5cGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWFkTWVzc2FnZUZpZWxkKHJlYWRlciwgb3B0aW9ucywgZmllbGQsIG1lcmdlTWVzc2FnZSkge1xuICAgIGNvbnN0IGRlbGltaXRlZCA9IGZpZWxkLmRlbGltaXRlZEVuY29kaW5nO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXJnZU1lc3NhZ2UgIT09IG51bGwgJiYgbWVyZ2VNZXNzYWdlICE9PSB2b2lkIDAgPyBtZXJnZU1lc3NhZ2UgOiByZWZsZWN0KGZpZWxkLm1lc3NhZ2UsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIHJlYWRNZXNzYWdlKG1lc3NhZ2UsIHJlYWRlciwgb3B0aW9ucywgZGVsaW1pdGVkLCBkZWxpbWl0ZWQgPyBmaWVsZC5udW1iZXIgOiByZWFkZXIudWludDMyKCkpO1xuICAgIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gcmVhZFNjYWxhcihyZWFkZXIsIHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5ib29sKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5pbnQ2NCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci51aW50NjQoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmZpeGVkNjQoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5ieXRlcygpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuZml4ZWQzMigpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnNmaXhlZDMyKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuc2ZpeGVkNjQoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuc2ludDY0KCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zaW50MzIoKTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gXCIuLi93aXJlL2Jhc2U2NC1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSB9IGZyb20gXCIuLi93a3QvZ2VuL2dvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yX3BiLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVGaWxlUmVnaXN0cnkgfSBmcm9tIFwiLi4vcmVnaXN0cnkuanNcIjtcbmltcG9ydCB7IHJlc3RvcmVKc29uTmFtZXMgfSBmcm9tIFwiLi9yZXN0b3JlLWpzb24tbmFtZXMuanNcIjtcbmltcG9ydCB7IGZyb21CaW5hcnkgfSBmcm9tIFwiLi4vZnJvbS1iaW5hcnkuanNcIjtcbi8qKlxuICogSHlkcmF0ZSBhIGZpbGUgZGVzY3JpcHRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsZURlc2MoYjY0LCBpbXBvcnRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJvb3QgPSBmcm9tQmluYXJ5KEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEsIGJhc2U2NERlY29kZShiNjQpKTtcbiAgICByb290Lm1lc3NhZ2VUeXBlLmZvckVhY2gocmVzdG9yZUpzb25OYW1lcyk7XG4gICAgcm9vdC5kZXBlbmRlbmN5ID0gKF9hID0gaW1wb3J0cyA9PT0gbnVsbCB8fCBpbXBvcnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbXBvcnRzLm1hcCgoZikgPT4gZi5wcm90by5uYW1lKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgY29uc3QgcmVnID0gY3JlYXRlRmlsZVJlZ2lzdHJ5KHJvb3QsIChwcm90b0ZpbGVOYW1lKSA9PiBpbXBvcnRzID09PSBudWxsIHx8IGltcG9ydHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltcG9ydHMuZmluZCgoZikgPT4gZi5wcm90by5uYW1lID09PSBwcm90b0ZpbGVOYW1lKSk7XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3R5bGUvbm9Ob25OdWxsQXNzZXJ0aW9uOiBub24tbnVsbCBhc3NlcnRpb24gYmVjYXVzZSB3ZSBqdXN0IGNyZWF0ZWQgdGhlIHJlZ2lzdHJ5IGZyb20gdGhlIGZpbGUgd2UgbG9vayB1cFxuICAgIHJldHVybiByZWcuZ2V0RmlsZShyb290Lm5hbWUpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG5pbXBvcnQgeyBCaW5hcnlXcml0ZXIsIFdpcmVUeXBlIH0gZnJvbSBcIi4vd2lyZS9iaW5hcnktZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLkxFR0FDWV9SRVFVSVJFRDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IExFR0FDWV9SRVFVSVJFRCA9IDM7XG4vLyBEZWZhdWx0IG9wdGlvbnMgZm9yIHNlcmlhbGl6aW5nIGJpbmFyeSBkYXRhLlxuY29uc3Qgd3JpdGVEZWZhdWx0cyA9IHtcbiAgICB3cml0ZVVua25vd25GaWVsZHM6IHRydWUsXG59O1xuZnVuY3Rpb24gbWFrZVdyaXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHdyaXRlRGVmYXVsdHMpLCBvcHRpb25zKSA6IHdyaXRlRGVmYXVsdHM7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9CaW5hcnkoc2NoZW1hLCBtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHdyaXRlRmllbGRzKG5ldyBCaW5hcnlXcml0ZXIoKSwgbWFrZVdyaXRlT3B0aW9ucyhvcHRpb25zKSwgcmVmbGVjdChzY2hlbWEsIG1lc3NhZ2UpKS5maW5pc2goKTtcbn1cbmZ1bmN0aW9uIHdyaXRlRmllbGRzKHdyaXRlciwgb3B0cywgbXNnKSB7XG4gICAgdmFyIF9hO1xuICAgIGZvciAoY29uc3QgZiBvZiBtc2cuc29ydGVkRmllbGRzKSB7XG4gICAgICAgIGlmICghbXNnLmlzU2V0KGYpKSB7XG4gICAgICAgICAgICBpZiAoZi5wcmVzZW5jZSA9PSBMRUdBQ1lfUkVRVUlSRUQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmfSB0byBiaW5hcnk6IHJlcXVpcmVkIGZpZWxkIG5vdCBzZXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlRmllbGQod3JpdGVyLCBvcHRzLCBtc2csIGYpO1xuICAgIH1cbiAgICBpZiAob3B0cy53cml0ZVVua25vd25GaWVsZHMpIHtcbiAgICAgICAgZm9yIChjb25zdCB7IG5vLCB3aXJlVHlwZSwgZGF0YSB9IG9mIChfYSA9IG1zZy5nZXRVbmtub3duKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSB7XG4gICAgICAgICAgICB3cml0ZXIudGFnKG5vLCB3aXJlVHlwZSkucmF3KGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUZpZWxkKHdyaXRlciwgb3B0cywgbXNnLCBmaWVsZCkge1xuICAgIHZhciBfYTtcbiAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICB3cml0ZVNjYWxhcih3cml0ZXIsIG1zZy5kZXNjLnR5cGVOYW1lLCBmaWVsZC5uYW1lLCAoX2EgPSBmaWVsZC5zY2FsYXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFNjYWxhclR5cGUuSU5UMzIsIGZpZWxkLm51bWJlciwgbXNnLmdldChmaWVsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICB3cml0ZUxpc3RGaWVsZCh3cml0ZXIsIG9wdHMsIGZpZWxkLCBtc2cuZ2V0KGZpZWxkKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHdyaXRlTWVzc2FnZUZpZWxkKHdyaXRlciwgb3B0cywgZmllbGQsIG1zZy5nZXQoZmllbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgbXNnLmdldChmaWVsZCkpIHtcbiAgICAgICAgICAgICAgICB3cml0ZU1hcEVudHJ5KHdyaXRlciwgb3B0cywgZmllbGQsIGtleSwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyaXRlU2NhbGFyKHdyaXRlciwgbXNnTmFtZSwgZmllbGROYW1lLCBzY2FsYXJUeXBlLCBmaWVsZE5vLCB2YWx1ZSkge1xuICAgIHdyaXRlU2NhbGFyVmFsdWUod3JpdGVyLnRhZyhmaWVsZE5vLCB3cml0ZVR5cGVPZlNjYWxhcihzY2FsYXJUeXBlKSksIG1zZ05hbWUsIGZpZWxkTmFtZSwgc2NhbGFyVHlwZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gd3JpdGVNZXNzYWdlRmllbGQod3JpdGVyLCBvcHRzLCBmaWVsZCwgbWVzc2FnZSkge1xuICAgIGlmIChmaWVsZC5kZWxpbWl0ZWRFbmNvZGluZykge1xuICAgICAgICB3cml0ZUZpZWxkcyh3cml0ZXIudGFnKGZpZWxkLm51bWJlciwgV2lyZVR5cGUuU3RhcnRHcm91cCksIG9wdHMsIG1lc3NhZ2UpLnRhZyhmaWVsZC5udW1iZXIsIFdpcmVUeXBlLkVuZEdyb3VwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdyaXRlRmllbGRzKHdyaXRlci50YWcoZmllbGQubnVtYmVyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0cywgbWVzc2FnZSkuam9pbigpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyaXRlTGlzdEZpZWxkKHdyaXRlciwgb3B0cywgZmllbGQsIGxpc3QpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGZpZWxkLmxpc3RLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgICAgICAgICB3cml0ZU1lc3NhZ2VGaWVsZCh3cml0ZXIsIG9wdHMsIGZpZWxkLCBpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjYWxhclR5cGUgPSAoX2EgPSBmaWVsZC5zY2FsYXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFNjYWxhclR5cGUuSU5UMzI7XG4gICAgaWYgKGZpZWxkLnBhY2tlZCkge1xuICAgICAgICBpZiAoIWxpc3Quc2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci50YWcoZmllbGQubnVtYmVyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgICAgIHdyaXRlU2NhbGFyVmFsdWUod3JpdGVyLCBmaWVsZC5wYXJlbnQudHlwZU5hbWUsIGZpZWxkLm5hbWUsIHNjYWxhclR5cGUsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci5qb2luKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgd3JpdGVTY2FsYXIod3JpdGVyLCBmaWVsZC5wYXJlbnQudHlwZU5hbWUsIGZpZWxkLm5hbWUsIHNjYWxhclR5cGUsIGZpZWxkLm51bWJlciwgaXRlbSk7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JpdGVNYXBFbnRyeSh3cml0ZXIsIG9wdHMsIGZpZWxkLCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIF9hO1xuICAgIHdyaXRlci50YWcoZmllbGQubnVtYmVyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKTtcbiAgICAvLyB3cml0ZSBrZXksIGV4cGVjdGluZyBrZXkgZmllbGQgbnVtYmVyID0gMVxuICAgIHdyaXRlU2NhbGFyKHdyaXRlciwgZmllbGQucGFyZW50LnR5cGVOYW1lLCBmaWVsZC5uYW1lLCBmaWVsZC5tYXBLZXksIDEsIGtleSk7XG4gICAgLy8gd3JpdGUgdmFsdWUsIGV4cGVjdGluZyB2YWx1ZSBmaWVsZCBudW1iZXIgPSAyXG4gICAgc3dpdGNoIChmaWVsZC5tYXBLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHdyaXRlU2NhbGFyKHdyaXRlciwgZmllbGQucGFyZW50LnR5cGVOYW1lLCBmaWVsZC5uYW1lLCAoX2EgPSBmaWVsZC5zY2FsYXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFNjYWxhclR5cGUuSU5UMzIsIDIsIHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgd3JpdGVGaWVsZHMod3JpdGVyLnRhZygyLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0cywgdmFsdWUpLmpvaW4oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB3cml0ZXIuam9pbigpO1xufVxuZnVuY3Rpb24gd3JpdGVTY2FsYXJWYWx1ZSh3cml0ZXIsIG1zZ05hbWUsIGZpZWxkTmFtZSwgdHlwZSwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICB3cml0ZXIuYm9vbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgICAgIHdyaXRlci5kb3VibGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmludDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgICAgICB3cml0ZXIuaW50NjQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDY0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgICAgIHdyaXRlci5maXhlZDY0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgICAgICB3cml0ZXIuYnl0ZXModmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmZpeGVkMzIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgICAgIHdyaXRlci5zZml4ZWQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnNmaXhlZDY0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnNpbnQ2NCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgICAgICB3cml0ZXIuc2ludDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgZmllbGQgJHttc2dOYW1lfS4ke2ZpZWxkTmFtZX0gdG8gYmluYXJ5OiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyaXRlVHlwZU9mU2NhbGFyKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZDtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgIHJldHVybiBXaXJlVHlwZS5CaXQ2NDtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgcmV0dXJuIFdpcmVUeXBlLkJpdDMyO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFdpcmVUeXBlLlZhcmludDtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogSHlkcmF0ZSBhbiBleHRlbnNpb24gZGVzY3JpcHRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0RGVzYyhmaWxlLCBwYXRoLCAuLi5wYXRocykge1xuICAgIGlmIChwYXRocy5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm4gZmlsZS5leHRlbnNpb25zW3BhdGhdO1xuICAgIH1cbiAgICBjb25zdCBlID0gcGF0aHMucG9wKCk7IC8vIHdlIGNoZWNrZWQgbGVuZ3RoIGFib3ZlXG4gICAgcmV0dXJuIHBhdGhzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYy5uZXN0ZWRNZXNzYWdlc1tjdXJdLCBmaWxlLm1lc3NhZ2VzW3BhdGhdKS5uZXN0ZWRFeHRlbnNpb25zW2VdO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBzY2FsYXJFcXVhbHMgfSBmcm9tIFwiLi9yZWZsZWN0L3NjYWxhci5qc1wiO1xuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgYW55VW5wYWNrIH0gZnJvbSBcIi4vd2t0L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVFeHRlbnNpb25Db250YWluZXIsIGdldEV4dGVuc2lvbiB9IGZyb20gXCIuL2V4dGVuc2lvbnMuanNcIjtcbi8qKlxuICogQ29tcGFyZSB0d28gbWVzc2FnZXMgb2YgdGhlIHNhbWUgdHlwZS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBkaXNyZWdhcmRzIGV4dGVuc2lvbnMgYW5kIHVua25vd24gZmllbGRzLCBhbmQgdGhhdFxuICogTmFOIGlzIG5vdCBlcXVhbCBOYU4sIGZvbGxvd2luZyB0aGUgSUVFRSBzdGFuZGFyZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhzY2hlbWEsIGEsIGIsIG9wdGlvbnMpIHtcbiAgICBpZiAoYS4kdHlwZU5hbWUgIT0gc2NoZW1hLnR5cGVOYW1lIHx8IGIuJHR5cGVOYW1lICE9IHNjaGVtYS50eXBlTmFtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVmbGVjdEVxdWFscyhyZWZsZWN0KHNjaGVtYSwgYSksIHJlZmxlY3Qoc2NoZW1hLCBiKSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZWZsZWN0RXF1YWxzKGEsIGIsIG9wdHMpIHtcbiAgICBpZiAoYS5kZXNjLnR5cGVOYW1lID09PSBcImdvb2dsZS5wcm90b2J1Zi5BbnlcIiAmJiAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLnVucGFja0FueSkgPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gYW55VW5wYWNrZWRFcXVhbHMoYS5tZXNzYWdlLCBiLm1lc3NhZ2UsIG9wdHMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGYgb2YgYS5maWVsZHMpIHtcbiAgICAgICAgaWYgKCFmaWVsZEVxdWFscyhmLCBhLCBiLCBvcHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLnVua25vd24pID09IHRydWUgJiYgIXVua25vd25FcXVhbHMoYSwgYiwgb3B0cy5yZWdpc3RyeSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5leHRlbnNpb25zKSA9PSB0cnVlICYmICFleHRlbnNpb25zRXF1YWxzKGEsIGIsIG9wdHMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBUT0RPKHRzdGFtbSkgYWRkIGFuIG9wdGlvbiB0byBjb25zaWRlciBOYU4gZXF1YWwgdG8gTmFOP1xuZnVuY3Rpb24gZmllbGRFcXVhbHMoZiwgYSwgYiwgb3B0cykge1xuICAgIGlmICghYS5pc1NldChmKSAmJiAhYi5pc1NldChmKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhLmlzU2V0KGYpIHx8ICFiLmlzU2V0KGYpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3dpdGNoIChmLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICByZXR1cm4gc2NhbGFyRXF1YWxzKGYuc2NhbGFyLCBhLmdldChmKSwgYi5nZXQoZikpO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmV0dXJuIGEuZ2V0KGYpID09PSBiLmdldChmKTtcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJldHVybiByZWZsZWN0RXF1YWxzKGEuZ2V0KGYpLCBiLmdldChmKSwgb3B0cyk7XG4gICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgLy8gVE9ETyh0c3RhbW0pIGNhbid0IHdlIGNvbXBhcmUgc2l6ZXMgZmlyc3Q/XG4gICAgICAgICAgICBjb25zdCBtYXBBID0gYS5nZXQoZik7XG4gICAgICAgICAgICBjb25zdCBtYXBCID0gYi5nZXQoZik7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbWFwQS5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1hcEIuaGFzKGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrIG9mIG1hcEIua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXBBLmhhcyhrKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhID0gbWFwQS5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YiA9IG1hcEIuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhID09PSB2Yikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmLm1hcEtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVmbGVjdEVxdWFscyh2YSwgdmIsIG9wdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2NhbGFyRXF1YWxzKGYuc2NhbGFyLCB2YSwgdmIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImxpc3RcIjoge1xuICAgICAgICAgICAgY29uc3QgbGlzdEEgPSBhLmdldChmKTtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RCID0gYi5nZXQoZik7XG4gICAgICAgICAgICBpZiAobGlzdEEuc2l6ZSAhPSBsaXN0Qi5zaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0QS5zaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YSA9IGxpc3RBLmdldChpKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YiA9IGxpc3RCLmdldChpKTtcbiAgICAgICAgICAgICAgICBpZiAodmEgPT09IHZiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGYubGlzdEtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVmbGVjdEVxdWFscyh2YSwgdmIsIG9wdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2NhbGFyRXF1YWxzKGYuc2NhbGFyLCB2YSwgdmIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBhbnlVbnBhY2tlZEVxdWFscyhhLCBiLCBvcHRzKSB7XG4gICAgaWYgKGEudHlwZVVybCAhPT0gYi50eXBlVXJsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdW5wYWNrZWRBID0gYW55VW5wYWNrKGEsIG9wdHMucmVnaXN0cnkpO1xuICAgIGNvbnN0IHVucGFja2VkQiA9IGFueVVucGFjayhiLCBvcHRzLnJlZ2lzdHJ5KTtcbiAgICBpZiAodW5wYWNrZWRBICYmIHVucGFja2VkQikge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBvcHRzLnJlZ2lzdHJ5LmdldE1lc3NhZ2UodW5wYWNrZWRBLiR0eXBlTmFtZSk7XG4gICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbHMoc2NoZW1hLCB1bnBhY2tlZEEsIHVucGFja2VkQiwgb3B0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjYWxhckVxdWFscyhTY2FsYXJUeXBlLkJZVEVTLCBhLnZhbHVlLCBiLnZhbHVlKTtcbn1cbmZ1bmN0aW9uIHVua25vd25FcXVhbHMoYSwgYiwgcmVnaXN0cnkpIHtcbiAgICBmdW5jdGlvbiBnZXRUcnVseVVua25vd24obXNnLCByZWdpc3RyeSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHUgPSAoX2EgPSBtc2cuZ2V0VW5rbm93bigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJ5XG4gICAgICAgICAgICA/IHUuZmlsdGVyKCh1ZikgPT4gIXJlZ2lzdHJ5LmdldEV4dGVuc2lvbkZvcihtc2cuZGVzYywgdWYubm8pKVxuICAgICAgICAgICAgOiB1O1xuICAgIH1cbiAgICBjb25zdCB1bmtub3duQSA9IGdldFRydWx5VW5rbm93bihhLCByZWdpc3RyeSk7XG4gICAgY29uc3QgdW5rbm93bkIgPSBnZXRUcnVseVVua25vd24oYiwgcmVnaXN0cnkpO1xuICAgIGlmICh1bmtub3duQS5sZW5ndGggIT0gdW5rbm93bkIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmtub3duQS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhID0gdW5rbm93bkFbaV07XG4gICAgICAgIGNvbnN0IGIgPSB1bmtub3duQltpXTtcbiAgICAgICAgaWYgKGEubm8gIT0gYi5ubykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLndpcmVUeXBlICE9IGIud2lyZVR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNjYWxhckVxdWFscyhTY2FsYXJUeXBlLkJZVEVTLCBhLmRhdGEsIGIuZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGV4dGVuc2lvbnNFcXVhbHMoYSwgYiwgb3B0cykge1xuICAgIGZ1bmN0aW9uIGdldFNldEV4dGVuc2lvbnMobXNnLCByZWdpc3RyeSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gbXNnLmdldFVua25vd24oKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pXG4gICAgICAgICAgICAubWFwKCh1ZikgPT4gcmVnaXN0cnkuZ2V0RXh0ZW5zaW9uRm9yKG1zZy5kZXNjLCB1Zi5ubykpXG4gICAgICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5maWx0ZXIoKGUsIGluZGV4LCBhcnIpID0+IGFyci5pbmRleE9mKGUpID09PSBpbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IGV4dGVuc2lvbnNBID0gZ2V0U2V0RXh0ZW5zaW9ucyhhLCBvcHRzLnJlZ2lzdHJ5KTtcbiAgICBjb25zdCBleHRlbnNpb25zQiA9IGdldFNldEV4dGVuc2lvbnMoYiwgb3B0cy5yZWdpc3RyeSk7XG4gICAgaWYgKGV4dGVuc2lvbnNBLmxlbmd0aCAhPSBleHRlbnNpb25zQi5sZW5ndGggfHxcbiAgICAgICAgZXh0ZW5zaW9uc0Euc29tZSgoZSkgPT4gIWV4dGVuc2lvbnNCLmluY2x1ZGVzKGUpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZXh0ZW5zaW9uIG9mIGV4dGVuc2lvbnNBKSB7XG4gICAgICAgIGNvbnN0IFtjb250YWluZXJBLCBmaWVsZF0gPSBjcmVhdGVFeHRlbnNpb25Db250YWluZXIoZXh0ZW5zaW9uLCBnZXRFeHRlbnNpb24oYS5tZXNzYWdlLCBleHRlbnNpb24pKTtcbiAgICAgICAgY29uc3QgW2NvbnRhaW5lckJdID0gY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGV4dGVuc2lvbiwgZ2V0RXh0ZW5zaW9uKGIubWVzc2FnZSwgZXh0ZW5zaW9uKSk7XG4gICAgICAgIGlmICghZmllbGRFcXVhbHMoZmllbGQsIGNvbnRhaW5lckEsIGNvbnRhaW5lckIsIG9wdHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHVuc2FmZUNsZWFyLCB1bnNhZmVJc1NldCB9IGZyb20gXCIuL3JlZmxlY3QvdW5zYWZlLmpzXCI7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmllbGQgaXMgc2V0LlxuICpcbiAqIC0gU2NhbGFyIGFuZCBlbnVtIGZpZWxkcyB3aXRoIGltcGxpY2l0IHByZXNlbmNlIChwcm90bzMpOlxuICogICBTZXQgaWYgbm90IGEgemVybyB2YWx1ZS5cbiAqXG4gKiAtIFNjYWxhciBhbmQgZW51bSBmaWVsZHMgd2l0aCBleHBsaWNpdCBwcmVzZW5jZSAocHJvdG8yLCBvbmVvZik6XG4gKiAgIFNldCBpZiBhIHZhbHVlIHdhcyBzZXQgd2hlbiBjcmVhdGluZyBvciBwYXJzaW5nIHRoZSBtZXNzYWdlLCBvciB3aGVuIGFcbiAqICAgdmFsdWUgd2FzIGFzc2lnbmVkIHRvIHRoZSBmaWVsZCdzIHByb3BlcnR5LlxuICpcbiAqIC0gTWVzc2FnZSBmaWVsZHM6XG4gKiAgIFNldCBpZiB0aGUgcHJvcGVydHkgaXMgbm90IHVuZGVmaW5lZC5cbiAqXG4gKiAtIExpc3QgYW5kIG1hcCBmaWVsZHM6XG4gKiAgIFNldCBpZiBub3QgZW1wdHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpZWxkU2V0KG1lc3NhZ2UsIGZpZWxkKSB7XG4gICAgcmV0dXJuIChmaWVsZC5wYXJlbnQudHlwZU5hbWUgPT0gbWVzc2FnZS4kdHlwZU5hbWUgJiYgdW5zYWZlSXNTZXQobWVzc2FnZSwgZmllbGQpKTtcbn1cbi8qKlxuICogUmVzZXRzIHRoZSBmaWVsZCwgc28gdGhhdCBpc0ZpZWxkU2V0KCkgd2lsbCByZXR1cm4gZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckZpZWxkKG1lc3NhZ2UsIGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnBhcmVudC50eXBlTmFtZSA9PSBtZXNzYWdlLiR0eXBlTmFtZSkge1xuICAgICAgICB1bnNhZmVDbGVhcihtZXNzYWdlLCBmaWVsZCk7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBwcm90b0NhbWVsQ2FzZSB9IGZyb20gXCIuL3JlZmxlY3QvbmFtZXMuanNcIjtcbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbmltcG9ydCB7IGFueVVucGFjayB9IGZyb20gXCIuL3drdC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgaXNXcmFwcGVyRGVzYyB9IGZyb20gXCIuL3drdC93cmFwcGVycy5qc1wiO1xuaW1wb3J0IHsgYmFzZTY0RW5jb2RlIH0gZnJvbSBcIi4vd2lyZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyLCBnZXRFeHRlbnNpb24gfSBmcm9tIFwiLi9leHRlbnNpb25zLmpzXCI7XG5pbXBvcnQgeyBjaGVja0ZpZWxkLCBmb3JtYXRWYWwgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QtY2hlY2suanNcIjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5MRUdBQ1lfUkVRVUlSRUQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBMRUdBQ1lfUkVRVUlSRUQgPSAzO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLklNUExJQ0lUOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgSU1QTElDSVQgPSAyO1xuLy8gRGVmYXVsdCBvcHRpb25zIGZvciBzZXJpYWxpemluZyB0byBKU09OLlxuY29uc3QganNvbldyaXRlRGVmYXVsdHMgPSB7XG4gICAgYWx3YXlzRW1pdEltcGxpY2l0OiBmYWxzZSxcbiAgICBlbnVtQXNJbnRlZ2VyOiBmYWxzZSxcbiAgICB1c2VQcm90b0ZpZWxkTmFtZTogZmFsc2UsXG59O1xuZnVuY3Rpb24gbWFrZVdyaXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGpzb25Xcml0ZURlZmF1bHRzKSwgb3B0aW9ucykgOiBqc29uV3JpdGVEZWZhdWx0cztcbn1cbi8qKlxuICogU2VyaWFsaXplIHRoZSBtZXNzYWdlIHRvIGEgSlNPTiB2YWx1ZSwgYSBKYXZhU2NyaXB0IHZhbHVlIHRoYXQgY2FuIGJlXG4gKiBwYXNzZWQgdG8gSlNPTi5zdHJpbmdpZnkoKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSnNvbihzY2hlbWEsIG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcmVmbGVjdFRvSnNvbihyZWZsZWN0KHNjaGVtYSwgbWVzc2FnZSksIG1ha2VXcml0ZU9wdGlvbnMob3B0aW9ucykpO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIG1lc3NhZ2UgdG8gYSBKU09OIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSnNvblN0cmluZyhzY2hlbWEsIG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QganNvblZhbHVlID0gdG9Kc29uKHNjaGVtYSwgbWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb25WYWx1ZSwgbnVsbCwgKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZXR0eVNwYWNlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCk7XG59XG4vKipcbiAqIFNlcmlhbGl6ZSBhIHNpbmdsZSBlbnVtIHZhbHVlIHRvIEpTT04uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnVtVG9Kc29uKGRlc2NFbnVtLCB2YWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoZGVzY0VudW0udHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBkZXNjRW51bS52YWx1ZVt2YWx1ZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lO1xuICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3ZhbHVlfSBpcyBub3QgYSB2YWx1ZSBpbiAke2Rlc2NFbnVtfWApO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIHJlZmxlY3RUb0pzb24obXNnLCBvcHRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHdrdEpzb24gPSB0cnlXa3RUb0pzb24obXNnLCBvcHRzKTtcbiAgICBpZiAod2t0SnNvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gd2t0SnNvbjtcbiAgICBjb25zdCBqc29uID0ge307XG4gICAgZm9yIChjb25zdCBmIG9mIG1zZy5zb3J0ZWRGaWVsZHMpIHtcbiAgICAgICAgaWYgKCFtc2cuaXNTZXQoZikpIHtcbiAgICAgICAgICAgIGlmIChmLnByZXNlbmNlID09IExFR0FDWV9SRVFVSVJFRCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2Z9IHRvIEpTT046IHJlcXVpcmVkIGZpZWxkIG5vdCBzZXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghb3B0cy5hbHdheXNFbWl0SW1wbGljaXQgfHwgZi5wcmVzZW5jZSAhPT0gSU1QTElDSVQpIHtcbiAgICAgICAgICAgICAgICAvLyBGaWVsZHMgd2l0aCBpbXBsaWNpdCBwcmVzZW5jZSBvbWl0IHplcm8gdmFsdWVzIChlLmcuIGVtcHR5IHN0cmluZykgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpzb25WYWx1ZSA9IGZpZWxkVG9Kc29uKGYsIG1zZy5nZXQoZiksIG9wdHMpO1xuICAgICAgICBpZiAoanNvblZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGpzb25banNvbk5hbWUoZiwgb3B0cyldID0ganNvblZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRzLnJlZ2lzdHJ5KSB7XG4gICAgICAgIGNvbnN0IHRhZ1NlZW4gPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgeyBubyB9IG9mIChfYSA9IG1zZy5nZXRVbmtub3duKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSB7XG4gICAgICAgICAgICAvLyBTYW1lIHRhZyBjYW4gYXBwZWFyIG11bHRpcGxlIHRpbWVzLCBzbyB3ZVxuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBhbmQgc2tpcCBpZGVudGljYWwgb25lcy5cbiAgICAgICAgICAgIGlmICghdGFnU2Vlbi5oYXMobm8pKSB7XG4gICAgICAgICAgICAgICAgdGFnU2Vlbi5hZGQobm8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IG9wdHMucmVnaXN0cnkuZ2V0RXh0ZW5zaW9uRm9yKG1zZy5kZXNjLCBubyk7XG4gICAgICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0RXh0ZW5zaW9uKG1zZy5tZXNzYWdlLCBleHRlbnNpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtjb250YWluZXIsIGZpZWxkXSA9IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lcihleHRlbnNpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uVmFsdWUgPSBmaWVsZFRvSnNvbihmaWVsZCwgY29udGFpbmVyLmdldChmaWVsZCksIG9wdHMpO1xuICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBqc29uW2V4dGVuc2lvbi5qc29uTmFtZV0gPSBqc29uVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gZmllbGRUb0pzb24oZiwgdmFsLCBvcHRzKSB7XG4gICAgc3dpdGNoIChmLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICByZXR1cm4gc2NhbGFyVG9Kc29uKGYsIHZhbCk7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZXR1cm4gcmVmbGVjdFRvSnNvbih2YWwsIG9wdHMpO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmV0dXJuIGVudW1Ub0pzb25JbnRlcm5hbChmLmVudW0sIHZhbCwgb3B0cy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIHJldHVybiBsaXN0VG9Kc29uKHZhbCwgb3B0cyk7XG4gICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgIHJldHVybiBtYXBUb0pzb24odmFsLCBvcHRzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXBUb0pzb24obWFwLCBvcHRzKSB7XG4gICAgY29uc3QgZiA9IG1hcC5maWVsZCgpO1xuICAgIGNvbnN0IGpzb25PYmogPSB7fTtcbiAgICBzd2l0Y2ggKGYubWFwS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRyeUtleSwgZW50cnlWYWx1ZV0gb2YgbWFwKSB7XG4gICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleV0gPSBzY2FsYXJUb0pzb24oZiwgZW50cnlWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBtYXApIHtcbiAgICAgICAgICAgICAgICBqc29uT2JqW2VudHJ5S2V5XSA9IHJlZmxlY3RUb0pzb24oZW50cnlWYWx1ZSwgb3B0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBtYXApIHtcbiAgICAgICAgICAgICAgICBqc29uT2JqW2VudHJ5S2V5XSA9IGVudW1Ub0pzb25JbnRlcm5hbChmLmVudW0sIGVudHJ5VmFsdWUsIG9wdHMuZW51bUFzSW50ZWdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG9wdHMuYWx3YXlzRW1pdEltcGxpY2l0IHx8IG1hcC5zaXplID4gMCA/IGpzb25PYmogOiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBsaXN0VG9Kc29uKGxpc3QsIG9wdHMpIHtcbiAgICBjb25zdCBmID0gbGlzdC5maWVsZCgpO1xuICAgIGNvbnN0IGpzb25BcnIgPSBbXTtcbiAgICBzd2l0Y2ggKGYubGlzdEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2goc2NhbGFyVG9Kc29uKGYsIGl0ZW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2goZW51bVRvSnNvbkludGVybmFsKGYuZW51bSwgaXRlbSwgb3B0cy5lbnVtQXNJbnRlZ2VyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgICAgICAgICAgICAganNvbkFyci5wdXNoKHJlZmxlY3RUb0pzb24oaXRlbSwgb3B0cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBvcHRzLmFsd2F5c0VtaXRJbXBsaWNpdCB8fCBqc29uQXJyLmxlbmd0aCA+IDAgPyBqc29uQXJyIDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZW51bVRvSnNvbkludGVybmFsKGRlc2MsIHZhbHVlLCBlbnVtQXNJbnRlZ2VyKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtkZXNjfSB0byBKU09OOiBleHBlY3RlZCBudW1iZXIsIGdvdCAke2Zvcm1hdFZhbCh2YWx1ZSl9YCk7XG4gICAgfVxuICAgIGlmIChkZXNjLnR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZVwiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZW51bUFzSW50ZWdlcikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IGRlc2MudmFsdWVbdmFsdWVdO1xuICAgIHJldHVybiAoX2EgPSB2YWwgPT09IG51bGwgfHwgdmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWwubmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdmFsdWU7IC8vIGlmIHdlIGRvbid0IGtub3cgdGhlIGVudW0gdmFsdWUsIGp1c3QgcmV0dXJuIHRoZSBudW1iZXJcbn1cbmZ1bmN0aW9uIHNjYWxhclRvSnNvbihmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICBzd2l0Y2ggKGZpZWxkLnNjYWxhcikge1xuICAgICAgICAvLyBpbnQzMiwgZml4ZWQzMiwgdWludDMyOiBKU09OIHZhbHVlIHdpbGwgYmUgYSBkZWNpbWFsIG51bWJlci4gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2ZpZWxkfSB0byBKU09OOiAkeyhfYSA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIC8vIGZsb2F0LCBkb3VibGU6IEpTT04gdmFsdWUgd2lsbCBiZSBhIG51bWJlciBvciBvbmUgb2YgdGhlIHNwZWNpYWwgc3RyaW5nIHZhbHVlcyBcIk5hTlwiLCBcIkluZmluaXR5XCIsIGFuZCBcIi1JbmZpbml0eVwiLlxuICAgICAgICAvLyBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC4gRXhwb25lbnQgbm90YXRpb24gaXMgYWxzbyBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmaWVsZH0gdG8gSlNPTjogJHsoX2IgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTih2YWx1ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmFOXCI7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbmZpbml0eVwiO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiLUluZmluaXR5XCI7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIC8vIHN0cmluZzpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2ZpZWxkfSB0byBKU09OOiAkeyhfYyA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIC8vIGJvb2w6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2ZpZWxkfSB0byBKU09OOiAkeyhfZCA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIC8vIEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgc3RyaW5nLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcImJpZ2ludFwiICYmIHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZmllbGR9IHRvIEpTT046ICR7KF9lID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAvLyBieXRlczogSlNPTiB2YWx1ZSB3aWxsIGJlIHRoZSBkYXRhIGVuY29kZWQgYXMgYSBzdHJpbmcgdXNpbmcgc3RhbmRhcmQgYmFzZTY0IGVuY29kaW5nIHdpdGggcGFkZGluZ3MuXG4gICAgICAgIC8vIEVpdGhlciBzdGFuZGFyZCBvciBVUkwtc2FmZSBiYXNlNjQgZW5jb2Rpbmcgd2l0aC93aXRob3V0IHBhZGRpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlNjRFbmNvZGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZmllbGR9IHRvIEpTT046ICR7KF9mID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YubWVzc2FnZX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBqc29uTmFtZShmLCBvcHRzKSB7XG4gICAgcmV0dXJuIG9wdHMudXNlUHJvdG9GaWVsZE5hbWUgPyBmLm5hbWUgOiBmLmpzb25OYW1lO1xufVxuLy8gcmV0dXJucyBhIGpzb24gdmFsdWUgaWYgd2t0LCBvdGhlcndpc2UgcmV0dXJucyB1bmRlZmluZWQuXG5mdW5jdGlvbiB0cnlXa3RUb0pzb24obXNnLCBvcHRzKSB7XG4gICAgaWYgKCFtc2cuZGVzYy50eXBlTmFtZS5zdGFydHNXaXRoKFwiZ29vZ2xlLnByb3RvYnVmLlwiKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzd2l0Y2ggKG1zZy5kZXNjLnR5cGVOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuQW55XCI6XG4gICAgICAgICAgICByZXR1cm4gYW55VG9Kc29uKG1zZy5tZXNzYWdlLCBvcHRzKTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcIjpcbiAgICAgICAgICAgIHJldHVybiB0aW1lc3RhbXBUb0pzb24obXNnLm1lc3NhZ2UpO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gZHVyYXRpb25Ub0pzb24obXNnLm1lc3NhZ2UpO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkZpZWxkTWFza1wiOlxuICAgICAgICAgICAgcmV0dXJuIGZpZWxkTWFza1RvSnNvbihtc2cubWVzc2FnZSk7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuU3RydWN0XCI6XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0VG9Kc29uKG1zZy5tZXNzYWdlKTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlVG9Kc29uKG1zZy5tZXNzYWdlKTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiBsaXN0VmFsdWVUb0pzb24obXNnLm1lc3NhZ2UpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKGlzV3JhcHBlckRlc2MobXNnLmRlc2MpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVGaWVsZCA9IG1zZy5kZXNjLmZpZWxkc1swXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NhbGFyVG9Kc29uKHZhbHVlRmllbGQsIG1zZy5nZXQodmFsdWVGaWVsZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBhbnlUb0pzb24odmFsLCBvcHRzKSB7XG4gICAgaWYgKHZhbC50eXBlVXJsID09PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgeyByZWdpc3RyeSB9ID0gb3B0cztcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBsZXQgZGVzYztcbiAgICBpZiAocmVnaXN0cnkpIHtcbiAgICAgICAgbWVzc2FnZSA9IGFueVVucGFjayh2YWwsIHJlZ2lzdHJ5KTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGRlc2MgPSByZWdpc3RyeS5nZXRNZXNzYWdlKG1lc3NhZ2UuJHR5cGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWRlc2MgfHwgIW1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlIG1lc3NhZ2UgJHt2YWwuJHR5cGVOYW1lfSB0byBKU09OOiBcIiR7dmFsLnR5cGVVcmx9XCIgaXMgbm90IGluIHRoZSB0eXBlIHJlZ2lzdHJ5YCk7XG4gICAgfVxuICAgIGxldCBqc29uID0gcmVmbGVjdFRvSnNvbihyZWZsZWN0KGRlc2MsIG1lc3NhZ2UpLCBvcHRzKTtcbiAgICBpZiAoZGVzYy50eXBlTmFtZS5zdGFydHNXaXRoKFwiZ29vZ2xlLnByb3RvYnVmLlwiKSB8fFxuICAgICAgICBqc29uID09PSBudWxsIHx8XG4gICAgICAgIEFycmF5LmlzQXJyYXkoanNvbikgfHxcbiAgICAgICAgdHlwZW9mIGpzb24gIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAganNvbiA9IHsgdmFsdWU6IGpzb24gfTtcbiAgICB9XG4gICAganNvbltcIkB0eXBlXCJdID0gdmFsLnR5cGVVcmw7XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBkdXJhdGlvblRvSnNvbih2YWwpIHtcbiAgICBpZiAoTnVtYmVyKHZhbC5zZWNvbmRzKSA+IDMxNTU3NjAwMDAwMCB8fFxuICAgICAgICBOdW1iZXIodmFsLnNlY29uZHMpIDwgLTMxNTU3NjAwMDAwMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgbWVzc2FnZSAke3ZhbC4kdHlwZU5hbWV9IHRvIEpTT046IHZhbHVlIG91dCBvZiByYW5nZWApO1xuICAgIH1cbiAgICBsZXQgdGV4dCA9IHZhbC5zZWNvbmRzLnRvU3RyaW5nKCk7XG4gICAgaWYgKHZhbC5uYW5vcyAhPT0gMCkge1xuICAgICAgICBsZXQgbmFub3NTdHIgPSBNYXRoLmFicyh2YWwubmFub3MpLnRvU3RyaW5nKCk7XG4gICAgICAgIG5hbm9zU3RyID0gXCIwXCIucmVwZWF0KDkgLSBuYW5vc1N0ci5sZW5ndGgpICsgbmFub3NTdHI7XG4gICAgICAgIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoMykgPT09IFwiMDAwMDAwXCIpIHtcbiAgICAgICAgICAgIG5hbm9zU3RyID0gbmFub3NTdHIuc3Vic3RyaW5nKDAsIDMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5hbm9zU3RyLnN1YnN0cmluZyg2KSA9PT0gXCIwMDBcIikge1xuICAgICAgICAgICAgbmFub3NTdHIgPSBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgNik7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCArPSBcIi5cIiArIG5hbm9zU3RyO1xuICAgICAgICBpZiAodmFsLm5hbm9zIDwgMCAmJiBOdW1iZXIodmFsLnNlY29uZHMpID09IDApIHtcbiAgICAgICAgICAgIHRleHQgPSBcIi1cIiArIHRleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQgKyBcInNcIjtcbn1cbmZ1bmN0aW9uIGZpZWxkTWFza1RvSnNvbih2YWwpIHtcbiAgICByZXR1cm4gdmFsLnBhdGhzXG4gICAgICAgIC5tYXAoKHApID0+IHtcbiAgICAgICAgaWYgKHAubWF0Y2goL19bMC05XT9fL2cpIHx8IHAubWF0Y2goL1tBLVpdL2cpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgbWVzc2FnZSAke3ZhbC4kdHlwZU5hbWV9IHRvIEpTT046IGxvd2VyQ2FtZWxDYXNlIG9mIHBhdGggbmFtZSBcImAgK1xuICAgICAgICAgICAgICAgIHAgK1xuICAgICAgICAgICAgICAgICdcIiBpcyBpcnJldmVyc2libGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvdG9DYW1lbENhc2UocCk7XG4gICAgfSlcbiAgICAgICAgLmpvaW4oXCIsXCIpO1xufVxuZnVuY3Rpb24gc3RydWN0VG9Kc29uKHZhbCkge1xuICAgIGNvbnN0IGpzb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh2YWwuZmllbGRzKSkge1xuICAgICAgICBqc29uW2tdID0gdmFsdWVUb0pzb24odik7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gdmFsdWVUb0pzb24odmFsKSB7XG4gICAgc3dpdGNoICh2YWwua2luZC5jYXNlKSB7XG4gICAgICAgIGNhc2UgXCJudWxsVmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwibnVtYmVyVmFsdWVcIjpcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbC5raW5kLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt2YWwuJHR5cGVOYW1lfSBjYW5ub3QgYmUgTmFOIG9yIEluZmluaXR5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsLmtpbmQudmFsdWU7XG4gICAgICAgIGNhc2UgXCJib29sVmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiB2YWwua2luZC52YWx1ZTtcbiAgICAgICAgY2FzZSBcInN0cmluZ1ZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmtpbmQudmFsdWU7XG4gICAgICAgIGNhc2UgXCJzdHJ1Y3RWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdFRvSnNvbih2YWwua2luZC52YWx1ZSk7XG4gICAgICAgIGNhc2UgXCJsaXN0VmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiBsaXN0VmFsdWVUb0pzb24odmFsLmtpbmQudmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3ZhbC4kdHlwZU5hbWV9IG11c3QgaGF2ZSBhIHZhbHVlYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbGlzdFZhbHVlVG9Kc29uKHZhbCkge1xuICAgIHJldHVybiB2YWwudmFsdWVzLm1hcCh2YWx1ZVRvSnNvbik7XG59XG5mdW5jdGlvbiB0aW1lc3RhbXBUb0pzb24odmFsKSB7XG4gICAgY29uc3QgbXMgPSBOdW1iZXIodmFsLnNlY29uZHMpICogMTAwMDtcbiAgICBpZiAobXMgPCBEYXRlLnBhcnNlKFwiMDAwMS0wMS0wMVQwMDowMDowMFpcIikgfHxcbiAgICAgICAgbXMgPiBEYXRlLnBhcnNlKFwiOTk5OS0xMi0zMVQyMzo1OTo1OVpcIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlIG1lc3NhZ2UgJHt2YWwuJHR5cGVOYW1lfSB0byBKU09OOiBtdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlYCk7XG4gICAgfVxuICAgIGlmICh2YWwubmFub3MgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSBtZXNzYWdlICR7dmFsLiR0eXBlTmFtZX0gdG8gSlNPTjogbmFub3MgbXVzdCBub3QgYmUgbmVnYXRpdmVgKTtcbiAgICB9XG4gICAgbGV0IHogPSBcIlpcIjtcbiAgICBpZiAodmFsLm5hbm9zID4gMCkge1xuICAgICAgICBjb25zdCBuYW5vc1N0ciA9ICh2YWwubmFub3MgKyAxMDAwMDAwMDAwKS50b1N0cmluZygpLnN1YnN0cmluZygxKTtcbiAgICAgICAgaWYgKG5hbm9zU3RyLnN1YnN0cmluZygzKSA9PT0gXCIwMDAwMDBcIikge1xuICAgICAgICAgICAgeiA9IFwiLlwiICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDMpICsgXCJaXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDYpID09PSBcIjAwMFwiKSB7XG4gICAgICAgICAgICB6ID0gXCIuXCIgKyBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgNikgKyBcIlpcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHogPSBcIi5cIiArIG5hbm9zU3RyICsgXCJaXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKG1zKS50b0lTT1N0cmluZygpLnJlcGxhY2UoXCIuMDAwWlwiLCB6KTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgcHJvdG9JbnQ2NCB9IGZyb20gXCIuL3Byb3RvLWludDY0LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwiLi9jcmVhdGUuanNcIjtcbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbmltcG9ydCB7IEZpZWxkRXJyb3IsIGlzRmllbGRFcnJvciB9IGZyb20gXCIuL3JlZmxlY3QvZXJyb3IuanNcIjtcbmltcG9ydCB7IGZvcm1hdFZhbCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC1jaGVjay5qc1wiO1xuaW1wb3J0IHsgc2NhbGFyWmVyb1ZhbHVlIH0gZnJvbSBcIi4vcmVmbGVjdC9zY2FsYXIuanNcIjtcbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gXCIuL3dpcmUvYmFzZTY0LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyBpc1dyYXBwZXJEZXNjLCBhbnlQYWNrLCBMaXN0VmFsdWVTY2hlbWEsIE51bGxWYWx1ZSwgU3RydWN0U2NoZW1hLCBWYWx1ZVNjaGVtYSwgfSBmcm9tIFwiLi93a3QvaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lciwgc2V0RXh0ZW5zaW9uIH0gZnJvbSBcIi4vZXh0ZW5zaW9ucy5qc1wiO1xuLy8gRGVmYXVsdCBvcHRpb25zIGZvciBwYXJzaW5nIEpTT04uXG5jb25zdCBqc29uUmVhZERlZmF1bHRzID0ge1xuICAgIGlnbm9yZVVua25vd25GaWVsZHM6IGZhbHNlLFxufTtcbmZ1bmN0aW9uIG1ha2VSZWFkT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGpzb25SZWFkRGVmYXVsdHMpLCBvcHRpb25zKSA6IGpzb25SZWFkRGVmYXVsdHM7XG59XG4vKipcbiAqIFBhcnNlIGEgbWVzc2FnZSBmcm9tIGEgSlNPTiBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSnNvblN0cmluZyhzY2hlbWEsIGpzb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZnJvbUpzb24oc2NoZW1hLCBwYXJzZUpzb25TdHJpbmcoanNvbiwgc2NoZW1hLnR5cGVOYW1lKSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIFBhcnNlIGEgbWVzc2FnZSBmcm9tIGEgSlNPTiBzdHJpbmcsIG1lcmdpbmcgZmllbGRzLlxuICpcbiAqIFJlcGVhdGVkIGZpZWxkcyBhcmUgYXBwZW5kZWQuIE1hcCBlbnRyaWVzIGFyZSBhZGRlZCwgb3ZlcndyaXRpbmdcbiAqIGV4aXN0aW5nIGtleXMuXG4gKlxuICogSWYgYSBtZXNzYWdlIGZpZWxkIGlzIGFscmVhZHkgcHJlc2VudCwgaXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGVcbiAqIG5ldyBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VGcm9tSnNvblN0cmluZyhzY2hlbWEsIHRhcmdldCwganNvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBtZXJnZUZyb21Kc29uKHNjaGVtYSwgdGFyZ2V0LCBwYXJzZUpzb25TdHJpbmcoanNvbiwgc2NoZW1hLnR5cGVOYW1lKSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIFBhcnNlIGEgbWVzc2FnZSBmcm9tIGEgSlNPTiB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Kc29uKHNjaGVtYSwganNvbiwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1zZyA9IHJlZmxlY3Qoc2NoZW1hKTtcbiAgICB0cnkge1xuICAgICAgICByZWFkTWVzc2FnZShtc2csIGpzb24sIG1ha2VSZWFkT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChpc0ZpZWxkRXJyb3IoZSkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igd2UgdXNlIHRoZSBFUzIwMjIgZXJyb3IgQ1RPUiBvcHRpb24gXCJjYXVzZVwiIGZvciBiZXR0ZXIgc3RhY2sgdHJhY2VzXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgJHtlLmZpZWxkKCl9IGZyb20gSlNPTjogJHtlLm1lc3NhZ2V9YCwge1xuICAgICAgICAgICAgICAgIGNhdXNlOiBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIG1zZy5tZXNzYWdlO1xufVxuLyoqXG4gKiBQYXJzZSBhIG1lc3NhZ2UgZnJvbSBhIEpTT04gdmFsdWUsIG1lcmdpbmcgZmllbGRzLlxuICpcbiAqIFJlcGVhdGVkIGZpZWxkcyBhcmUgYXBwZW5kZWQuIE1hcCBlbnRyaWVzIGFyZSBhZGRlZCwgb3ZlcndyaXRpbmdcbiAqIGV4aXN0aW5nIGtleXMuXG4gKlxuICogSWYgYSBtZXNzYWdlIGZpZWxkIGlzIGFscmVhZHkgcHJlc2VudCwgaXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGVcbiAqIG5ldyBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VGcm9tSnNvbihzY2hlbWEsIHRhcmdldCwganNvbiwgb3B0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICAgIHJlYWRNZXNzYWdlKHJlZmxlY3Qoc2NoZW1hLCB0YXJnZXQpLCBqc29uLCBtYWtlUmVhZE9wdGlvbnMob3B0aW9ucykpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNGaWVsZEVycm9yKGUpKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHdlIHVzZSB0aGUgRVMyMDIyIGVycm9yIENUT1Igb3B0aW9uIFwiY2F1c2VcIiBmb3IgYmV0dGVyIHN0YWNrIHRyYWNlc1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlICR7ZS5maWVsZCgpfSBmcm9tIEpTT046ICR7ZS5tZXNzYWdlfWAsIHtcbiAgICAgICAgICAgICAgICBjYXVzZTogZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIFBhcnNlcyBhbiBlbnVtIHZhbHVlIGZyb20gSlNPTi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVudW1Gcm9tSnNvbihkZXNjRW51bSwganNvbikge1xuICAgIGNvbnN0IHZhbCA9IHJlYWRFbnVtKGRlc2NFbnVtLCBqc29uLCBmYWxzZSwgZmFsc2UpO1xuICAgIGlmICh2YWwgPT09IHRva2VuSWdub3JlZFVua25vd25FbnVtKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSAke2Rlc2NFbnVtfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuLyoqXG4gKiBJcyB0aGUgZ2l2ZW4gdmFsdWUgYSBKU09OIGVudW0gdmFsdWU/XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VudW1Kc29uKGRlc2NFbnVtLCB2YWx1ZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQgIT09IGRlc2NFbnVtLnZhbHVlcy5maW5kKCh2KSA9PiB2Lm5hbWUgPT09IHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHJlYWRNZXNzYWdlKG1zZywganNvbiwgb3B0cykge1xuICAgIHZhciBfYTtcbiAgICBpZiAodHJ5V2t0RnJvbUpzb24obXNnLCBqc29uLCBvcHRzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChqc29uID09IG51bGwgfHwgQXJyYXkuaXNBcnJheShqc29uKSB8fCB0eXBlb2YganNvbiAhPSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSAke21zZy5kZXNjfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBjb25zdCBvbmVvZlNlZW4gPSBuZXcgTWFwKCk7XG4gICAgY29uc3QganNvbk5hbWVzID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgbXNnLmRlc2MuZmllbGRzKSB7XG4gICAgICAgIGpzb25OYW1lcy5zZXQoZmllbGQubmFtZSwgZmllbGQpLnNldChmaWVsZC5qc29uTmFtZSwgZmllbGQpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtqc29uS2V5LCBqc29uVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24pKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0ganNvbk5hbWVzLmdldChqc29uS2V5KTtcbiAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvblZhbHVlID09PSBudWxsICYmIGZpZWxkLmZpZWxkS2luZCA9PSBcInNjYWxhclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZSBjb25mb3JtYW5jZSB0ZXN0IFJlcXVpcmVkLlByb3RvMy5Kc29uSW5wdXQuT25lb2ZGaWVsZE51bGx7Rmlyc3QsU2Vjb25kfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG9uZW9mU2Vlbi5nZXQoZmllbGQub25lb2YpO1xuICAgICAgICAgICAgICAgIGlmIChzZWVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQub25lb2YsIGBvbmVvZiBzZXQgbXVsdGlwbGUgdGltZXMgYnkgJHtzZWVuLm5hbWV9IGFuZCAke2ZpZWxkLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uZW9mU2Vlbi5zZXQoZmllbGQub25lb2YsIGZpZWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRGaWVsZChtc2csIGZpZWxkLCBqc29uVmFsdWUsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGV4dGVuc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChqc29uS2V5LnN0YXJ0c1dpdGgoXCJbXCIpICYmXG4gICAgICAgICAgICAgICAganNvbktleS5lbmRzV2l0aChcIl1cIikgJiZcbiAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgICAgICAgICAoZXh0ZW5zaW9uID0gKF9hID0gb3B0cy5yZWdpc3RyeSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEV4dGVuc2lvbihqc29uS2V5LnN1YnN0cmluZygxLCBqc29uS2V5Lmxlbmd0aCAtIDEpKSkgJiZcbiAgICAgICAgICAgICAgICBleHRlbnNpb24uZXh0ZW5kZWUudHlwZU5hbWUgPT09IG1zZy5kZXNjLnR5cGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2NvbnRhaW5lciwgZmllbGQsIGdldF0gPSBjcmVhdGVFeHRlbnNpb25Db250YWluZXIoZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgICAgICByZWFkRmllbGQoY29udGFpbmVyLCBmaWVsZCwganNvblZhbHVlLCBvcHRzKTtcbiAgICAgICAgICAgICAgICBzZXRFeHRlbnNpb24obXNnLm1lc3NhZ2UsIGV4dGVuc2lvbiwgZ2V0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFleHRlbnNpb24gJiYgIW9wdHMuaWdub3JlVW5rbm93bkZpZWxkcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSAke21zZy5kZXNjfSBmcm9tIEpTT046IGtleSBcIiR7anNvbktleX1cIiBpcyB1bmtub3duYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiByZWFkRmllbGQobXNnLCBmaWVsZCwganNvbiwgb3B0cykge1xuICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIHJlYWRTY2FsYXJGaWVsZChtc2csIGZpZWxkLCBqc29uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmVhZEVudW1GaWVsZChtc2csIGZpZWxkLCBqc29uLCBvcHRzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmVhZE1lc3NhZ2VGaWVsZChtc2csIGZpZWxkLCBqc29uLCBvcHRzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgcmVhZExpc3RGaWVsZChtc2cuZ2V0KGZpZWxkKSwganNvbiwgb3B0cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgcmVhZE1hcEZpZWxkKG1zZy5nZXQoZmllbGQpLCBqc29uLCBvcHRzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRNYXBGaWVsZChtYXAsIGpzb24sIG9wdHMpIHtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkID0gbWFwLmZpZWxkKCk7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgXCJleHBlY3RlZCBvYmplY3QsIGdvdCBcIiArIGZvcm1hdFZhbChqc29uKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2pzb25NYXBLZXksIGpzb25NYXBWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoanNvbikpIHtcbiAgICAgICAgaWYgKGpzb25NYXBWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIFwibWFwIHZhbHVlIG11c3Qgbm90IGJlIG51bGxcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLm1hcEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVmFsdWUgPSByZWZsZWN0KGZpZWxkLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlYWRNZXNzYWdlKG1zZ1ZhbHVlLCBqc29uTWFwVmFsdWUsIG9wdHMpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbXNnVmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVhZEVudW0oZmllbGQuZW51bSwganNvbk1hcFZhbHVlLCBvcHRzLmlnbm9yZVVua25vd25GaWVsZHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdG9rZW5JZ25vcmVkVW5rbm93bkVudW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNjYWxhckZyb21Kc29uKGZpZWxkLCBqc29uTWFwVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IG1hcEtleUZyb21Kc29uKGZpZWxkLm1hcEtleSwganNvbk1hcEtleSk7XG4gICAgICAgIG1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZExpc3RGaWVsZChsaXN0LCBqc29uLCBvcHRzKSB7XG4gICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGQoKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIFwiZXhwZWN0ZWQgQXJyYXksIGdvdCBcIiArIGZvcm1hdFZhbChqc29uKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QganNvbkl0ZW0gb2YganNvbikge1xuICAgICAgICBpZiAoanNvbkl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBcImxpc3QgaXRlbSBtdXN0IG5vdCBiZSBudWxsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZmllbGQubGlzdEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVmFsdWUgPSByZWZsZWN0KGZpZWxkLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlYWRNZXNzYWdlKG1zZ1ZhbHVlLCBqc29uSXRlbSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgbGlzdC5hZGQobXNnVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICBjb25zdCBlbnVtVmFsdWUgPSByZWFkRW51bShmaWVsZC5lbnVtLCBqc29uSXRlbSwgb3B0cy5pZ25vcmVVbmtub3duRmllbGRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZW51bVZhbHVlICE9PSB0b2tlbklnbm9yZWRVbmtub3duRW51bSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0LmFkZChlbnVtVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICBsaXN0LmFkZChzY2FsYXJGcm9tSnNvbihmaWVsZCwganNvbkl0ZW0sIHRydWUpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRNZXNzYWdlRmllbGQobXNnLCBmaWVsZCwganNvbiwgb3B0cykge1xuICAgIGlmIChqc29uID09PSBudWxsICYmIGZpZWxkLm1lc3NhZ2UudHlwZU5hbWUgIT0gXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIikge1xuICAgICAgICBtc2cuY2xlYXIoZmllbGQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1zZ1ZhbHVlID0gbXNnLmlzU2V0KGZpZWxkKSA/IG1zZy5nZXQoZmllbGQpIDogcmVmbGVjdChmaWVsZC5tZXNzYWdlKTtcbiAgICByZWFkTWVzc2FnZShtc2dWYWx1ZSwganNvbiwgb3B0cyk7XG4gICAgbXNnLnNldChmaWVsZCwgbXNnVmFsdWUpO1xufVxuZnVuY3Rpb24gcmVhZEVudW1GaWVsZChtc2csIGZpZWxkLCBqc29uLCBvcHRzKSB7XG4gICAgY29uc3QgZW51bVZhbHVlID0gcmVhZEVudW0oZmllbGQuZW51bSwganNvbiwgb3B0cy5pZ25vcmVVbmtub3duRmllbGRzLCBmYWxzZSk7XG4gICAgaWYgKGVudW1WYWx1ZSA9PT0gdG9rZW5OdWxsKSB7XG4gICAgICAgIG1zZy5jbGVhcihmaWVsZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVudW1WYWx1ZSAhPT0gdG9rZW5JZ25vcmVkVW5rbm93bkVudW0pIHtcbiAgICAgICAgbXNnLnNldChmaWVsZCwgZW51bVZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWFkU2NhbGFyRmllbGQobXNnLCBmaWVsZCwganNvbikge1xuICAgIGNvbnN0IHNjYWxhclZhbHVlID0gc2NhbGFyRnJvbUpzb24oZmllbGQsIGpzb24sIGZhbHNlKTtcbiAgICBpZiAoc2NhbGFyVmFsdWUgPT09IHRva2VuTnVsbCkge1xuICAgICAgICBtc2cuY2xlYXIoZmllbGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbXNnLnNldChmaWVsZCwgc2NhbGFyVmFsdWUpO1xuICAgIH1cbn1cbmNvbnN0IHRva2VuSWdub3JlZFVua25vd25FbnVtID0gU3ltYm9sKCk7XG5mdW5jdGlvbiByZWFkRW51bShkZXNjLCBqc29uLCBpZ25vcmVVbmtub3duRmllbGRzLCBudWxsQXNaZXJvVmFsdWUpIHtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoZGVzYy50eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIDA7IC8vIGdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUuTlVMTF9WQUxVRSA9IDBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbEFzWmVyb1ZhbHVlID8gZGVzYy52YWx1ZXNbMF0ubnVtYmVyIDogdG9rZW5OdWxsO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkZXNjLnZhbHVlcy5maW5kKChldikgPT4gZXYubmFtZSA9PT0ganNvbik7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5udW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaWdub3JlVW5rbm93bkZpZWxkcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbklnbm9yZWRVbmtub3duRW51bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgJHtkZXNjfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xufVxuY29uc3QgdG9rZW5OdWxsID0gU3ltYm9sKCk7XG5mdW5jdGlvbiBzY2FsYXJGcm9tSnNvbihmaWVsZCwganNvbiwgbnVsbEFzWmVyb1ZhbHVlKSB7XG4gICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG51bGxBc1plcm9WYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjYWxhclplcm9WYWx1ZShmaWVsZC5zY2FsYXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5OdWxsO1xuICAgIH1cbiAgICAvLyBpbnQ2NCwgc2ZpeGVkNjQsIHNpbnQ2NCwgZml4ZWQ2NCwgdWludDY0OiBSZWZsZWN0IHN1cHBvcnRzIHN0cmluZyBhbmQgbnVtYmVyLlxuICAgIC8vIHN0cmluZywgYm9vbDogU3VwcG9ydGVkIGJ5IHJlZmxlY3QuXG4gICAgc3dpdGNoIChmaWVsZC5zY2FsYXIpIHtcbiAgICAgICAgLy8gZmxvYXQsIGRvdWJsZTogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCBzdHJpbmcgdmFsdWVzIFwiTmFOXCIsIFwiSW5maW5pdHlcIiwgYW5kIFwiLUluZmluaXR5XCIuXG4gICAgICAgIC8vIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLiBFeHBvbmVudCBub3RhdGlvbiBpcyBhbHNvIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJOYU5cIilcbiAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiSW5maW5pdHlcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiLUluZmluaXR5XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOYU4gbXVzdCBiZSBlbmNvZGVkIHdpdGggc3RyaW5nIGNvbnN0YW50c1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgXCJ1bmV4cGVjdGVkIE5hTiBudW1iZXJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluZmluaXR5IG11c3QgYmUgZW5jb2RlZCB3aXRoIHN0cmluZyBjb25zdGFudHNcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIFwidW5leHBlY3RlZCBpbmZpbml0ZSBudW1iZXJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBzdHJpbmcgaXMgbm90IGEgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoanNvbi50cmltKCkubGVuZ3RoICE9PSBqc29uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBleHRyYSB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmbG9hdCA9IE51bWJlcihqc29uKTtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShmbG9hdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5maW5pdHkgYW5kIE5hTiBtdXN0IGJlIGVuY29kZWQgd2l0aCBzdHJpbmcgY29uc3RhbnRzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmxvYXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gaW50MzIsIGZpeGVkMzIsIHVpbnQzMjogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBudW1iZXIuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gaW50MzJGcm9tSnNvbihqc29uKTtcbiAgICAgICAgLy8gYnl0ZXM6IEpTT04gdmFsdWUgd2lsbCBiZSB0aGUgZGF0YSBlbmNvZGVkIGFzIGEgc3RyaW5nIHVzaW5nIHN0YW5kYXJkIGJhc2U2NCBlbmNvZGluZyB3aXRoIHBhZGRpbmdzLlxuICAgICAgICAvLyBFaXRoZXIgc3RhbmRhcmQgb3IgVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nIHdpdGgvd2l0aG91dCBwYWRkaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0RGVjb2RlKGpzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuLyoqXG4gKiBUcnkgdG8gcGFyc2UgYSBKU09OIHZhbHVlIHRvIGEgbWFwIGtleSBmb3IgdGhlIHJlZmxlY3QgQVBJLlxuICpcbiAqIFJldHVybnMgdGhlIGlucHV0IGlmIHRoZSBKU09OIHZhbHVlIGNhbm5vdCBiZSBjb252ZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIG1hcEtleUZyb21Kc29uKHR5cGUsIGpzb24pIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICBzd2l0Y2ggKGpzb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidHJ1ZVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmFsc2VcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiBpbnQzMkZyb21Kc29uKGpzb24pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxufVxuLyoqXG4gKiBUcnkgdG8gcGFyc2UgYSBKU09OIHZhbHVlIHRvIGEgMzItYml0IGludGVnZXIgZm9yIHRoZSByZWZsZWN0IEFQSS5cbiAqXG4gKiBSZXR1cm5zIHRoZSBpbnB1dCBpZiB0aGUgSlNPTiB2YWx1ZSBjYW5ub3QgYmUgY29udmVydGVkLlxuICovXG5mdW5jdGlvbiBpbnQzMkZyb21Kc29uKGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoanNvbiA9PT0gXCJcIikge1xuICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCBhIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb24udHJpbSgpLmxlbmd0aCAhPT0ganNvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGV4dHJhIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bSA9IE51bWJlcihqc29uKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihudW0pKSB7XG4gICAgICAgICAgICAvLyBub3QgYSBudW1iZXJcbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gcGFyc2VKc29uU3RyaW5nKGpzb25TdHJpbmcsIHR5cGVOYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7dHlwZU5hbWV9IGZyb20gSlNPTjogJHttZXNzYWdlfWAsIFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHdlIHVzZSB0aGUgRVMyMDIyIGVycm9yIENUT1Igb3B0aW9uIFwiY2F1c2VcIiBmb3IgYmV0dGVyIHN0YWNrIHRyYWNlc1xuICAgICAgICB7IGNhdXNlOiBlIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyeVdrdEZyb21Kc29uKG1zZywganNvblZhbHVlLCBvcHRzKSB7XG4gICAgaWYgKCFtc2cuZGVzYy50eXBlTmFtZS5zdGFydHNXaXRoKFwiZ29vZ2xlLnByb3RvYnVmLlwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAobXNnLmRlc2MudHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5BbnlcIjpcbiAgICAgICAgICAgIGFueUZyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUsIG9wdHMpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuVGltZXN0YW1wXCI6XG4gICAgICAgICAgICB0aW1lc3RhbXBGcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uXCI6XG4gICAgICAgICAgICBkdXJhdGlvbkZyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuRmllbGRNYXNrXCI6XG4gICAgICAgICAgICBmaWVsZE1hc2tGcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFwiOlxuICAgICAgICAgICAgc3RydWN0RnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiOlxuICAgICAgICAgICAgdmFsdWVGcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVwiOlxuICAgICAgICAgICAgbGlzdFZhbHVlRnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChpc1dyYXBwZXJEZXNjKG1zZy5kZXNjKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlRmllbGQgPSBtc2cuZGVzYy5maWVsZHNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtc2cuY2xlYXIodmFsdWVGaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtc2cuc2V0KHZhbHVlRmllbGQsIHNjYWxhckZyb21Kc29uKHZhbHVlRmllbGQsIGpzb25WYWx1ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBhbnlGcm9tSnNvbihhbnksIGpzb24sIG9wdHMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGpzb24gPT09IG51bGwgfHwgQXJyYXkuaXNBcnJheShqc29uKSB8fCB0eXBlb2YganNvbiAhPSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7YW55LiR0eXBlTmFtZX0gZnJvbSBKU09OOiBleHBlY3RlZCBvYmplY3QgYnV0IGdvdCAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKGpzb24pLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHlwZVVybCA9IGpzb25bXCJAdHlwZVwiXTtcbiAgICBpZiAodHlwZW9mIHR5cGVVcmwgIT0gXCJzdHJpbmdcIiB8fCB0eXBlVXJsID09IFwiXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHthbnkuJHR5cGVOYW1lfSBmcm9tIEpTT046IFwiQHR5cGVcIiBpcyBlbXB0eWApO1xuICAgIH1cbiAgICBjb25zdCB0eXBlTmFtZSA9IHR5cGVVcmwuaW5jbHVkZXMoXCIvXCIpXG4gICAgICAgID8gdHlwZVVybC5zdWJzdHJpbmcodHlwZVVybC5sYXN0SW5kZXhPZihcIi9cIikgKyAxKVxuICAgICAgICA6IHR5cGVVcmw7XG4gICAgaWYgKCF0eXBlTmFtZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHthbnkuJHR5cGVOYW1lfSBmcm9tIEpTT046IFwiQHR5cGVcIiBpcyBpbnZhbGlkYCk7XG4gICAgfVxuICAgIGNvbnN0IGRlc2MgPSAoX2EgPSBvcHRzLnJlZ2lzdHJ5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0TWVzc2FnZSh0eXBlTmFtZSk7XG4gICAgaWYgKCFkZXNjKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7YW55LiR0eXBlTmFtZX0gZnJvbSBKU09OOiAke3R5cGVVcmx9IGlzIG5vdCBpbiB0aGUgdHlwZSByZWdpc3RyeWApO1xuICAgIH1cbiAgICBjb25zdCBtc2cgPSByZWZsZWN0KGRlc2MpO1xuICAgIGlmICh0eXBlTmFtZS5zdGFydHNXaXRoKFwiZ29vZ2xlLnByb3RvYnVmLlwiKSAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoanNvbiwgXCJ2YWx1ZVwiKSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGpzb24udmFsdWU7XG4gICAgICAgIHJlYWRNZXNzYWdlKG1zZywgdmFsdWUsIG9wdHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIGpzb24pO1xuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9wZXJmb3JtYW5jZS9ub0RlbGV0ZTogPGV4cGxhbmF0aW9uPlxuICAgICAgICBkZWxldGUgY29weVtcIkB0eXBlXCJdO1xuICAgICAgICByZWFkTWVzc2FnZShtc2csIGNvcHksIG9wdHMpO1xuICAgIH1cbiAgICBhbnlQYWNrKG1zZy5kZXNjLCBtc2cubWVzc2FnZSwgYW55KTtcbn1cbmZ1bmN0aW9uIHRpbWVzdGFtcEZyb21Kc29uKHRpbWVzdGFtcCwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3RpbWVzdGFtcC4kdHlwZU5hbWV9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoZXMgPSBqc29uLm1hdGNoKC9eKFswLTldezR9KS0oWzAtOV17Mn0pLShbMC05XXsyfSlUKFswLTldezJ9KTooWzAtOV17Mn0pOihbMC05XXsyfSkoPzpcXC4oWzAtOV17MSw5fSkpPyg/Olp8KFsrLV1bMC05XVswLTldOlswLTldWzAtOV0pKSQvKTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHt0aW1lc3RhbXAuJHR5cGVOYW1lfSBmcm9tIEpTT046IGludmFsaWQgUkZDIDMzMzkgc3RyaW5nYCk7XG4gICAgfVxuICAgIGNvbnN0IG1zID0gRGF0ZS5wYXJzZShcbiAgICAvLyBiaW9tZS1pZ25vcmUgZm9ybWF0OiB3YW50IHRoaXMgdG8gcmVhZCB3ZWxsXG4gICAgbWF0Y2hlc1sxXSArIFwiLVwiICsgbWF0Y2hlc1syXSArIFwiLVwiICsgbWF0Y2hlc1szXSArIFwiVFwiICsgbWF0Y2hlc1s0XSArIFwiOlwiICsgbWF0Y2hlc1s1XSArIFwiOlwiICsgbWF0Y2hlc1s2XSArIChtYXRjaGVzWzhdID8gbWF0Y2hlc1s4XSA6IFwiWlwiKSk7XG4gICAgaWYgKE51bWJlci5pc05hTihtcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHt0aW1lc3RhbXAuJHR5cGVOYW1lfSBmcm9tIEpTT046IGludmFsaWQgUkZDIDMzMzkgc3RyaW5nYCk7XG4gICAgfVxuICAgIGlmIChtcyA8IERhdGUucGFyc2UoXCIwMDAxLTAxLTAxVDAwOjAwOjAwWlwiKSB8fFxuICAgICAgICBtcyA+IERhdGUucGFyc2UoXCI5OTk5LTEyLTMxVDIzOjU5OjU5WlwiKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3RpbWVzdGFtcC4kdHlwZU5hbWV9IGZyb20gSlNPTjogbXVzdCBiZSBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvIDk5OTktMTItMzFUMjM6NTk6NTlaIGluY2x1c2l2ZWApO1xuICAgIH1cbiAgICB0aW1lc3RhbXAuc2Vjb25kcyA9IHByb3RvSW50NjQucGFyc2UobXMgLyAxMDAwKTtcbiAgICB0aW1lc3RhbXAubmFub3MgPSAwO1xuICAgIGlmIChtYXRjaGVzWzddKSB7XG4gICAgICAgIHRpbWVzdGFtcC5uYW5vcyA9XG4gICAgICAgICAgICBwYXJzZUludChcIjFcIiArIG1hdGNoZXNbN10gKyBcIjBcIi5yZXBlYXQoOSAtIG1hdGNoZXNbN10ubGVuZ3RoKSkgLVxuICAgICAgICAgICAgICAgIDEwMDAwMDAwMDA7XG4gICAgfVxufVxuZnVuY3Rpb24gZHVyYXRpb25Gcm9tSnNvbihkdXJhdGlvbiwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2R1cmF0aW9uLiR0eXBlTmFtZX0gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSBqc29uLm1hdGNoKC9eKC0/WzAtOV0rKSg/OlxcLihbMC05XSspKT9zLyk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7ZHVyYXRpb24uJHR5cGVOYW1lfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBjb25zdCBsb25nU2Vjb25kcyA9IE51bWJlcihtYXRjaFsxXSk7XG4gICAgaWYgKGxvbmdTZWNvbmRzID4gMzE1NTc2MDAwMDAwIHx8IGxvbmdTZWNvbmRzIDwgLTMxNTU3NjAwMDAwMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2R1cmF0aW9uLiR0eXBlTmFtZX0gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgZHVyYXRpb24uc2Vjb25kcyA9IHByb3RvSW50NjQucGFyc2UobG9uZ1NlY29uZHMpO1xuICAgIGlmICh0eXBlb2YgbWF0Y2hbMl0gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuYW5vc1N0ciA9IG1hdGNoWzJdICsgXCIwXCIucmVwZWF0KDkgLSBtYXRjaFsyXS5sZW5ndGgpO1xuICAgIGR1cmF0aW9uLm5hbm9zID0gcGFyc2VJbnQobmFub3NTdHIpO1xuICAgIGlmIChsb25nU2Vjb25kcyA8IDAgfHwgT2JqZWN0LmlzKGxvbmdTZWNvbmRzLCAtMCkpIHtcbiAgICAgICAgZHVyYXRpb24ubmFub3MgPSAtZHVyYXRpb24ubmFub3M7XG4gICAgfVxufVxuZnVuY3Rpb24gZmllbGRNYXNrRnJvbUpzb24oZmllbGRNYXNrLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7ZmllbGRNYXNrLiR0eXBlTmFtZX0gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgaWYgKGpzb24gPT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW1lbFRvU25ha2Uoc3RyKSB7XG4gICAgICAgIGlmIChzdHIuaW5jbHVkZXMoXCJfXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2ZpZWxkTWFzay4kdHlwZU5hbWV9IGZyb20gSlNPTjogcGF0aCBuYW1lcyBtdXN0IGJlIGxvd2VyQ2FtZWxDYXNlYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2MgPSBzdHIucmVwbGFjZSgvW0EtWl0vZywgKGxldHRlcikgPT4gXCJfXCIgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIHJldHVybiBzY1swXSA9PT0gXCJfXCIgPyBzYy5zdWJzdHJpbmcoMSkgOiBzYztcbiAgICB9XG4gICAgZmllbGRNYXNrLnBhdGhzID0ganNvbi5zcGxpdChcIixcIikubWFwKGNhbWVsVG9TbmFrZSk7XG59XG5mdW5jdGlvbiBzdHJ1Y3RGcm9tSnNvbihzdHJ1Y3QsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT0gXCJvYmplY3RcIiB8fCBqc29uID09IG51bGwgfHwgQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3N0cnVjdC4kdHlwZU5hbWV9IGZyb20gSlNPTiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoanNvbikpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkViA9IGNyZWF0ZShWYWx1ZVNjaGVtYSk7XG4gICAgICAgIHZhbHVlRnJvbUpzb24ocGFyc2VkViwgdik7XG4gICAgICAgIHN0cnVjdC5maWVsZHNba10gPSBwYXJzZWRWO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbHVlRnJvbUpzb24odmFsdWUsIGpzb24pIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgdmFsdWU6IGpzb24gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcInN0cmluZ1ZhbHVlXCIsIHZhbHVlOiBqc29uIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwiYm9vbFZhbHVlXCIsIHZhbHVlOiBqc29uIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcIm51bGxWYWx1ZVwiLCB2YWx1ZTogTnVsbFZhbHVlLk5VTExfVkFMVUUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0VmFsdWUgPSBjcmVhdGUoTGlzdFZhbHVlU2NoZW1hKTtcbiAgICAgICAgICAgICAgICBsaXN0VmFsdWVGcm9tSnNvbihsaXN0VmFsdWUsIGpzb24pO1xuICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwibGlzdFZhbHVlXCIsIHZhbHVlOiBsaXN0VmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCA9IGNyZWF0ZShTdHJ1Y3RTY2hlbWEpO1xuICAgICAgICAgICAgICAgIHN0cnVjdEZyb21Kc29uKHN0cnVjdCwganNvbik7XG4gICAgICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJzdHJ1Y3RWYWx1ZVwiLCB2YWx1ZTogc3RydWN0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7dmFsdWUuJHR5cGVOYW1lfSBmcm9tIEpTT04gJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGxpc3RWYWx1ZUZyb21Kc29uKGxpc3RWYWx1ZSwganNvbikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2xpc3RWYWx1ZS4kdHlwZU5hbWV9IGZyb20gSlNPTiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBlIG9mIGpzb24pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjcmVhdGUoVmFsdWVTY2hlbWEpO1xuICAgICAgICB2YWx1ZUZyb21Kc29uKHZhbHVlLCBlKTtcbiAgICAgICAgbGlzdFZhbHVlLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbi8qKlxuICogTWVyZ2UgbWVzc2FnZSBgc291cmNlYCBpbnRvIG1lc3NhZ2UgYHRhcmdldGAsIGZvbGxvd2luZyBQcm90b2J1ZiBzZW1hbnRpY3MuXG4gKlxuICogVGhpcyBpcyB0aGUgc2FtZSBhcyBzZXJpYWxpemluZyB0aGUgc291cmNlIG1lc3NhZ2UsIHRoZW4gZGVzZXJpYWxpemluZyBpdFxuICogaW50byB0aGUgdGFyZ2V0IG1lc3NhZ2UgdmlhIGBtZXJnZUZyb21CaW5hcnkoKWAsIHdpdGggb25lIGRpZmZlcmVuY2U6XG4gKiBXaGlsZSBzZXJpYWxpemF0aW9uIHdpbGwgY3JlYXRlIGEgY29weSBvZiBhbGwgdmFsdWVzLCBgbWVyZ2UoKWAgd2lsbCBjb3B5XG4gKiB0aGUgcmVmZXJlbmNlIGZvciBgYnl0ZXNgIGFuZCBtZXNzYWdlcy5cbiAqXG4gKiBBbHNvIHNlZSBodHRwczovL3Byb3RvYnVmLmNvbS9kb2NzL2xhbmd1YWdlLXNwZWMjbWVyZ2luZy1wcm90b2J1Zi1tZXNzYWdlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2Uoc2NoZW1hLCB0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJlZmxlY3RNZXJnZShyZWZsZWN0KHNjaGVtYSwgdGFyZ2V0KSwgcmVmbGVjdChzY2hlbWEsIHNvdXJjZSkpO1xufVxuZnVuY3Rpb24gcmVmbGVjdE1lcmdlKHRhcmdldCwgc291cmNlKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBfYjtcbiAgICBjb25zdCBzb3VyY2VVbmtub3duID0gc291cmNlLm1lc3NhZ2UuJHVua25vd247XG4gICAgaWYgKHNvdXJjZVVua25vd24gIT09IHVuZGVmaW5lZCAmJiBzb3VyY2VVbmtub3duLmxlbmd0aCA+IDApIHtcbiAgICAgICAgKF9hID0gKF9iID0gdGFyZ2V0Lm1lc3NhZ2UpLiR1bmtub3duKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoX2IuJHVua25vd24gPSBbXSk7XG4gICAgICAgIHRhcmdldC5tZXNzYWdlLiR1bmtub3duLnB1c2goLi4uc291cmNlVW5rbm93bik7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZiBvZiB0YXJnZXQuZmllbGRzKSB7XG4gICAgICAgIGlmICghc291cmNlLmlzU2V0KGYpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGYuZmllbGRLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIHRhcmdldC5zZXQoZiwgc291cmNlLmdldChmKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNTZXQoZikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmbGVjdE1lcmdlKHRhcmdldC5nZXQoZiksIHNvdXJjZS5nZXQoZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldChmLCBzb3VyY2UuZ2V0KGYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuZ2V0KGYpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBzb3VyY2UuZ2V0KGYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSB0YXJnZXQuZ2V0KGYpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHNvdXJjZS5nZXQoZikpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldChrLCB2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9pcy1tZXNzYWdlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jcmVhdGUuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Nsb25lLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXF1YWxzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9maWVsZHMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlZ2lzdHJ5LmpzXCI7XG5leHBvcnQgeyB0b0JpbmFyeSB9IGZyb20gXCIuL3RvLWJpbmFyeS5qc1wiO1xuZXhwb3J0IHsgZnJvbUJpbmFyeSwgbWVyZ2VGcm9tQmluYXJ5IH0gZnJvbSBcIi4vZnJvbS1iaW5hcnkuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3RvLWpzb24uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Zyb20tanNvbi5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmV4cG9ydCB7IGhhc0V4dGVuc2lvbiwgZ2V0RXh0ZW5zaW9uLCBzZXRFeHRlbnNpb24sIGNsZWFyRXh0ZW5zaW9uLCBoYXNPcHRpb24sIGdldE9wdGlvbiwgfSBmcm9tIFwiLi9leHRlbnNpb25zLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9wcm90by1pbnQ2NC5qc1wiO1xuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBwcm90b0NhbWVsQ2FzZSB9IGZyb20gXCIuLi9yZWZsZWN0L25hbWVzLmpzXCI7XG5pbXBvcnQgeyBpc0ZpZWxkU2V0LCBjbGVhckZpZWxkIH0gZnJvbSBcIi4uL2ZpZWxkcy5qc1wiO1xuaW1wb3J0IHsgYmFzZTY0RW5jb2RlIH0gZnJvbSBcIi4uL3dpcmUvYmFzZTY0LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyB0b0JpbmFyeSB9IGZyb20gXCIuLi90by1iaW5hcnkuanNcIjtcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcIi4uL2Nsb25lLmpzXCI7XG5pbXBvcnQgeyBFZGl0aW9uLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYSwgRmllbGRPcHRpb25zU2NoZW1hLCBGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hLCBEZXNjcmlwdG9yUHJvdG9TY2hlbWEsIEVudW1EZXNjcmlwdG9yUHJvdG9TY2hlbWEsIH0gZnJvbSBcIi4uL3drdC9nZW4vZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3JfcGIuanNcIjtcbi8qKlxuICogQ3JlYXRlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBlbWJlZCBhIGZpbGUgZGVzY3JpcHRvciBpblxuICogZ2VuZXJhdGVkIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkRmlsZURlc2MoZmlsZSkge1xuICAgIGNvbnN0IGVtYmVkID0ge1xuICAgICAgICBib290YWJsZTogZmFsc2UsXG4gICAgICAgIHByb3RvKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWQgPSBjbG9uZShGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hLCBmaWxlKTtcbiAgICAgICAgICAgIGNsZWFyRmllbGQoc3RyaXBwZWQsIEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQuZGVwZW5kZW5jeSk7XG4gICAgICAgICAgICBjbGVhckZpZWxkKHN0cmlwcGVkLCBGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLnNvdXJjZUNvZGVJbmZvKTtcbiAgICAgICAgICAgIHN0cmlwcGVkLm1lc3NhZ2VUeXBlLm1hcChzdHJpcEpzb25OYW1lcyk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaXBwZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGJhc2U2NCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gdG9CaW5hcnkoRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSwgdGhpcy5wcm90bygpKTtcbiAgICAgICAgICAgIHJldHVybiBiYXNlNjRFbmNvZGUoYnl0ZXMsIFwic3RkX3Jhd1wiKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBmaWxlLm5hbWUgPT0gXCJnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90b1wiXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBlbWJlZCksIHsgYm9vdGFibGU6IHRydWUsIGJvb3QoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpbGVEZXNjcmlwdG9yUHJvdG9Cb290KHRoaXMucHJvdG8oKSk7XG4gICAgICAgICAgICB9IH0pIDogZW1iZWQ7XG59XG5mdW5jdGlvbiBzdHJpcEpzb25OYW1lcyhkKSB7XG4gICAgZm9yIChjb25zdCBmIG9mIGQuZmllbGQpIHtcbiAgICAgICAgaWYgKGYuanNvbk5hbWUgPT09IHByb3RvQ2FtZWxDYXNlKGYubmFtZSkpIHtcbiAgICAgICAgICAgIGNsZWFyRmllbGQoZiwgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQuanNvbk5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgbiBvZiBkLm5lc3RlZFR5cGUpIHtcbiAgICAgICAgc3RyaXBKc29uTmFtZXMobik7XG4gICAgfVxufVxuLyoqXG4gKiBDb21wdXRlIHRoZSBwYXRoIHRvIGEgbWVzc2FnZSwgZW51bWVyYXRpb24sIGV4dGVuc2lvbiwgb3Igc2VydmljZSBpbiBhXG4gKiBmaWxlIGRlc2NyaXB0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhdGhJbkZpbGVEZXNjKGRlc2MpIHtcbiAgICBpZiAoZGVzYy5raW5kID09IFwic2VydmljZVwiKSB7XG4gICAgICAgIHJldHVybiBbZGVzYy5maWxlLnNlcnZpY2VzLmluZGV4T2YoZGVzYyldO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnQgPSBkZXNjLnBhcmVudDtcbiAgICBpZiAocGFyZW50ID09IHVuZGVmaW5lZCkge1xuICAgICAgICBzd2l0Y2ggKGRlc2Mua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gW2Rlc2MuZmlsZS5lbnVtcy5pbmRleE9mKGRlc2MpXTtcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtkZXNjLmZpbGUubWVzc2FnZXMuaW5kZXhPZihkZXNjKV07XG4gICAgICAgICAgICBjYXNlIFwiZXh0ZW5zaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtkZXNjLmZpbGUuZXh0ZW5zaW9ucy5pbmRleE9mKGRlc2MpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kUGF0aChjdXIpIHtcbiAgICAgICAgY29uc3QgbmVzdGVkID0gW107XG4gICAgICAgIGZvciAobGV0IHBhcmVudCA9IGN1ci5wYXJlbnQ7IHBhcmVudDspIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHBhcmVudC5uZXN0ZWRNZXNzYWdlcy5pbmRleE9mKGN1cik7XG4gICAgICAgICAgICBuZXN0ZWQudW5zaGlmdChpZHgpO1xuICAgICAgICAgICAgY3VyID0gcGFyZW50O1xuICAgICAgICAgICAgcGFyZW50ID0gY3VyLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBuZXN0ZWQudW5zaGlmdChjdXIuZmlsZS5tZXNzYWdlcy5pbmRleE9mKGN1cikpO1xuICAgICAgICByZXR1cm4gbmVzdGVkO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gZmluZFBhdGgocGFyZW50KTtcbiAgICBzd2l0Y2ggKGRlc2Mua2luZCkge1xuICAgICAgICBjYXNlIFwiZXh0ZW5zaW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhdGgsIHBhcmVudC5uZXN0ZWRFeHRlbnNpb25zLmluZGV4T2YoZGVzYyldO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFsuLi5wYXRoLCBwYXJlbnQubmVzdGVkTWVzc2FnZXMuaW5kZXhPZihkZXNjKV07XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhdGgsIHBhcmVudC5uZXN0ZWRFbnVtcy5pbmRleE9mKGRlc2MpXTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBmaWxlIGRlc2NyaXB0b3IgZm9yIGdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvIGNhbm5vdCBiZSBlbWJlZGRlZFxuICogaW4gc2VyaWFsaXplZCBmb3JtLCBzaW5jZSBpdCBpcyByZXF1aXJlZCB0byBwYXJzZSBpdHNlbGYuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiBpbnN0YW5jZSBvZiB0aGUgbWVzc2FnZSwgYW5kIHJldHVybnMgYSBwbGFpbiBvYmplY3RcbiAqIHRoYXQgY2FuIGJlIGh5ZHJhdGVkIHRvIHRoZSBtZXNzYWdlIGFnYWluIHZpYSBib290RmlsZURlc2NyaXB0b3JQcm90bygpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gb25seSB3b3JrcyB3aXRoIGEgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90b1xuICogZm9yIGdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvLCBhbmQgb25seSBzdXBwb3J0cyBmZWF0dXJlcyB0aGF0IGFyZVxuICogcmVsZXZhbnQgZm9yIHRoZSBzcGVjaWZpYyB1c2UgY2FzZS4gRm9yIGV4YW1wbGUsIGl0IGRpc2NhcmRzIGZpbGUgb3B0aW9ucyxcbiAqIHJlc2VydmVkIHJhbmdlcyBhbmQgcmVzZXJ2ZWQgbmFtZXMsIGFuZCBmaWVsZCBvcHRpb25zIHRoYXQgYXJlIHVudXNlZCBpblxuICogZGVzY3JpcHRvci5wcm90by5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZURlc2NyaXB0b3JQcm90b0Jvb3QocHJvdG8pIHtcbiAgICB2YXIgX2E7XG4gICAgYXNzZXJ0KHByb3RvLm5hbWUgPT0gXCJnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90b1wiKTtcbiAgICBhc3NlcnQocHJvdG8ucGFja2FnZSA9PSBcImdvb2dsZS5wcm90b2J1ZlwiKTtcbiAgICBhc3NlcnQoIXByb3RvLmRlcGVuZGVuY3kubGVuZ3RoKTtcbiAgICBhc3NlcnQoIXByb3RvLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoKTtcbiAgICBhc3NlcnQoIXByb3RvLndlYWtEZXBlbmRlbmN5Lmxlbmd0aCk7XG4gICAgYXNzZXJ0KCFwcm90by5vcHRpb25EZXBlbmRlbmN5Lmxlbmd0aCk7XG4gICAgYXNzZXJ0KCFwcm90by5zZXJ2aWNlLmxlbmd0aCk7XG4gICAgYXNzZXJ0KCFwcm90by5leHRlbnNpb24ubGVuZ3RoKTtcbiAgICBhc3NlcnQocHJvdG8uc291cmNlQ29kZUluZm8gPT09IHVuZGVmaW5lZCk7XG4gICAgYXNzZXJ0KHByb3RvLnN5bnRheCA9PSBcIlwiIHx8IHByb3RvLnN5bnRheCA9PSBcInByb3RvMlwiKTtcbiAgICBhc3NlcnQoISgoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmVhdHVyZXMpKTsgLy8gd2UncmUgZHJvcHBpbmcgZmlsZSBvcHRpb25zXG4gICAgYXNzZXJ0KHByb3RvLmVkaXRpb24gPT09IEVkaXRpb24uRURJVElPTl9VTktOT1dOKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICBwYWNrYWdlOiBwcm90by5wYWNrYWdlLFxuICAgICAgICBtZXNzYWdlVHlwZTogcHJvdG8ubWVzc2FnZVR5cGUubWFwKGNyZWF0ZURlc2NyaXB0b3JCb290KSxcbiAgICAgICAgZW51bVR5cGU6IHByb3RvLmVudW1UeXBlLm1hcChjcmVhdGVFbnVtRGVzY3JpcHRvckJvb3QpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVEZXNjcmlwdG9yQm9vdChwcm90bykge1xuICAgIGFzc2VydChwcm90by5leHRlbnNpb24ubGVuZ3RoID09IDApO1xuICAgIGFzc2VydCghcHJvdG8ub25lb2ZEZWNsLmxlbmd0aCk7XG4gICAgYXNzZXJ0KCFwcm90by5vcHRpb25zKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC52aXNpYmlsaXR5KSk7XG4gICAgY29uc3QgYiA9IHtcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICB9O1xuICAgIGlmIChwcm90by5maWVsZC5sZW5ndGgpIHtcbiAgICAgICAgYi5maWVsZCA9IHByb3RvLmZpZWxkLm1hcChjcmVhdGVGaWVsZERlc2NyaXB0b3JCb290KTtcbiAgICB9XG4gICAgaWYgKHByb3RvLm5lc3RlZFR5cGUubGVuZ3RoKSB7XG4gICAgICAgIGIubmVzdGVkVHlwZSA9IHByb3RvLm5lc3RlZFR5cGUubWFwKGNyZWF0ZURlc2NyaXB0b3JCb290KTtcbiAgICB9XG4gICAgaWYgKHByb3RvLmVudW1UeXBlLmxlbmd0aCkge1xuICAgICAgICBiLmVudW1UeXBlID0gcHJvdG8uZW51bVR5cGUubWFwKGNyZWF0ZUVudW1EZXNjcmlwdG9yQm9vdCk7XG4gICAgfVxuICAgIGlmIChwcm90by5leHRlbnNpb25SYW5nZS5sZW5ndGgpIHtcbiAgICAgICAgYi5leHRlbnNpb25SYW5nZSA9IHByb3RvLmV4dGVuc2lvblJhbmdlLm1hcCgocikgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0KCFyLm9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHIuc3RhcnQsIGVuZDogci5lbmQgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBiO1xufVxuZnVuY3Rpb24gY3JlYXRlRmllbGREZXNjcmlwdG9yQm9vdChwcm90bykge1xuICAgIGFzc2VydChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5uYW1lKSk7XG4gICAgYXNzZXJ0KGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLm51bWJlcikpO1xuICAgIGFzc2VydChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC50eXBlKSk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5vbmVvZkluZGV4KSk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5qc29uTmFtZSkgfHxcbiAgICAgICAgcHJvdG8uanNvbk5hbWUgPT09IHByb3RvQ2FtZWxDYXNlKHByb3RvLm5hbWUpKTtcbiAgICBjb25zdCBiID0ge1xuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICBudW1iZXI6IHByb3RvLm51bWJlcixcbiAgICAgICAgdHlwZTogcHJvdG8udHlwZSxcbiAgICB9O1xuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5sYWJlbCkpIHtcbiAgICAgICAgYi5sYWJlbCA9IHByb3RvLmxhYmVsO1xuICAgIH1cbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQudHlwZU5hbWUpKSB7XG4gICAgICAgIGIudHlwZU5hbWUgPSBwcm90by50eXBlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLmV4dGVuZGVlKSkge1xuICAgICAgICBiLmV4dGVuZGVlID0gcHJvdG8uZXh0ZW5kZWU7XG4gICAgfVxuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5kZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIGIuZGVmYXVsdFZhbHVlID0gcHJvdG8uZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICBpZiAocHJvdG8ub3B0aW9ucykge1xuICAgICAgICBiLm9wdGlvbnMgPSBjcmVhdGVGaWVsZE9wdGlvbnNCb290KHByb3RvLm9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gYjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkT3B0aW9uc0Jvb3QocHJvdG8pIHtcbiAgICBjb25zdCBiID0ge307XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQuY3R5cGUpKTtcbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLnBhY2tlZCkpIHtcbiAgICAgICAgYi5wYWNrZWQgPSBwcm90by5wYWNrZWQ7XG4gICAgfVxuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLmpzdHlwZSkpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLmxhenkpKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC51bnZlcmlmaWVkTGF6eSkpO1xuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQuZGVwcmVjYXRlZCkpIHtcbiAgICAgICAgYi5kZXByZWNhdGVkID0gcHJvdG8uZGVwcmVjYXRlZDtcbiAgICB9XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQud2VhaykpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLmRlYnVnUmVkYWN0KSk7XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5yZXRlbnRpb24pKSB7XG4gICAgICAgIGIucmV0ZW50aW9uID0gcHJvdG8ucmV0ZW50aW9uO1xuICAgIH1cbiAgICBpZiAocHJvdG8udGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgICAgYi50YXJnZXRzID0gcHJvdG8udGFyZ2V0cztcbiAgICB9XG4gICAgaWYgKHByb3RvLmVkaXRpb25EZWZhdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgYi5lZGl0aW9uRGVmYXVsdHMgPSBwcm90by5lZGl0aW9uRGVmYXVsdHMubWFwKChkKSA9PiAoe1xuICAgICAgICAgICAgdmFsdWU6IGQudmFsdWUsXG4gICAgICAgICAgICBlZGl0aW9uOiBkLmVkaXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQuZmVhdHVyZXMpKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC51bmludGVycHJldGVkT3B0aW9uKSk7XG4gICAgcmV0dXJuIGI7XG59XG5mdW5jdGlvbiBjcmVhdGVFbnVtRGVzY3JpcHRvckJvb3QocHJvdG8pIHtcbiAgICBhc3NlcnQoIXByb3RvLm9wdGlvbnMpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRW51bURlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC52aXNpYmlsaXR5KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgdmFsdWU6IHByb3RvLnZhbHVlLm1hcCgodikgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0KCF2Lm9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB2Lm5hbWUsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiB2Lm51bWJlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IGNvbmRpdGlvbiBpcyB0cnV0aHkgb3IgdGhyb3cgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24pIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogSHlkcmF0ZSBhIHNlcnZpY2UgZGVzY3JpcHRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VydmljZURlc2MoZmlsZSwgcGF0aCwgLi4ucGF0aHMpIHtcbiAgICBpZiAocGF0aHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGUuc2VydmljZXNbcGF0aF07XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IHBhY2thZ2VOYW1lID0gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IHdrdFB1YmxpY0ltcG9ydFBhdGhzID0ge1xuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2NvbXBpbGVyL3BsdWdpbi5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2FueS5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2FwaS5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2NwcF9mZWF0dXJlcy5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2VtcHR5LnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvZmllbGRfbWFzay5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2dvX2ZlYXR1cmVzLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvamF2YV9mZWF0dXJlcy5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL3NvdXJjZV9jb250ZXh0LnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvdHlwZS5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL3dyYXBwZXJzLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG4vLyBiaW9tZS1pZ25vcmUgZm9ybWF0OiB3YW50IHRoaXMgdG8gcmVhZCB3ZWxsXG5leHBvcnQgY29uc3Qgc3ltYm9scyA9IHtcbiAgICBpc01lc3NhZ2U6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2lzLW1lc3NhZ2UuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBNZXNzYWdlOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL3R5cGVzLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgY3JlYXRlOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jcmVhdGUuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBmcm9tSnNvbjogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vZnJvbS1qc29uLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgZnJvbUpzb25TdHJpbmc6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2Zyb20tanNvbi5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIGZyb21CaW5hcnk6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2Zyb20tYmluYXJ5LmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgdG9CaW5hcnk6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL3RvLWJpbmFyeS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIHRvSnNvbjogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vdG8tanNvbi5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIHRvSnNvblN0cmluZzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vdG8tanNvbi5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIHByb3RvSW50NjQ6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL3Byb3RvLWludDY0LmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgSnNvblZhbHVlOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2pzb24tdmFsdWUuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBKc29uT2JqZWN0OiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2pzb24tdmFsdWUuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBjb2RlZ2VuOiB7XG4gICAgICAgIGJvb3Q6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9ib290LmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgZmlsZURlc2M6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9maWxlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgZW51bURlc2M6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9lbnVtLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgZXh0RGVzYzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL2V4dGVuc2lvbi5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIG1lc3NhZ2VEZXNjOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvbWVzc2FnZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIHNlcnZpY2VEZXNjOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvc2VydmljZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIHRzRW51bTogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL2VudW0uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBHZW5GaWxlOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi90eXBlcy5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIEdlbkVudW06IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL3R5cGVzLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgR2VuRXh0ZW5zaW9uOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi90eXBlcy5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIEdlbk1lc3NhZ2U6IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL3R5cGVzLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgR2VuU2VydmljZTogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvdHlwZXMuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgIH0sXG59O1xuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4uL2Rlc2NyaXB0b3JzLmpzXCI7XG4vKipcbiAqIFJldHVybiB0aGUgVHlwZVNjcmlwdCB0eXBlIChhcyBhIHN0cmluZykgZm9yIHRoZSBnaXZlbiBzY2FsYXIgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxhclR5cGVTY3JpcHRUeXBlKHNjYWxhciwgbG9uZ0FzU3RyaW5nKSB7XG4gICAgc3dpdGNoIChzY2FsYXIpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIGxvbmdBc1N0cmluZyA/IFwic3RyaW5nXCIgOiBcImJpZ2ludFwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gXCJVaW50OEFycmF5XCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiB0aGUgSlNPTiB0eXBlIChhcyBhIHN0cmluZykgZm9yIHRoZSBnaXZlbiBzY2FsYXIgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxhckpzb25UeXBlKHNjYWxhcikge1xuICAgIHN3aXRjaCAoc2NhbGFyKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiBgbnVtYmVyIHwgXCJOYU5cIiB8IFwiSW5maW5pdHlcIiB8IFwiLUluZmluaXR5XCJgO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuY2xhc3MgYnJhbmR2MiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudiA9IFwiY29kZWdlbnYyXCI7XG4gICAgICAgIHRoaXMuYSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmIgPSBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQge307XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gXCIuL2Jvb3QuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2VtYmVkLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lbnVtLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9leHRlbnNpb24uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2ZpbGUuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21lc3NhZ2UuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NlcnZpY2UuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3N5bWJvbHMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NjYWxhci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXMuanNcIjtcbiIsICIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYy1nZW4tZXMgdjIuOS4wIHdpdGggcGFyYW1ldGVyIFwidGFyZ2V0PXRzXCJcbi8vIEBnZW5lcmF0ZWQgZnJvbSBmaWxlIHByb3RvL3dzX21lc3NhZ2VzLnByb3RvIChwYWNrYWdlIGxpZ2h0c3BlZWRkdWVsLndzLCBzeW50YXggcHJvdG8zKVxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuaW1wb3J0IHR5cGUgeyBHZW5FbnVtLCBHZW5GaWxlLCBHZW5NZXNzYWdlIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1Zi9jb2RlZ2VudjJcIjtcbmltcG9ydCB7IGVudW1EZXNjLCBmaWxlRGVzYywgbWVzc2FnZURlc2MgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmL2NvZGVnZW52MlwiO1xuaW1wb3J0IHR5cGUgeyBNZXNzYWdlIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZmlsZSBwcm90by93c19tZXNzYWdlcy5wcm90by5cbiAqL1xuZXhwb3J0IGNvbnN0IGZpbGVfcHJvdG9fd3NfbWVzc2FnZXM6IEdlbkZpbGUgPSAvKkBfX1BVUkVfXyovXG4gIGZpbGVEZXNjKFwiQ2hkd2NtOTBieTkzYzE5dFpYTnpZV2RsY3k1d2NtOTBieElSYkdsbmFIUnpjR1ZsWkdSMVpXd3VkM01pMUE0S0NsZHpSVzUyWld4dmNHVVNOZ29NYzNSaGRHVmZkWEJrWVhSbEdBRWdBU2dMTWg0dWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUzUmhkR1ZWY0dSaGRHVklBQkkxQ2dseWIyOXRYMloxYkd3WUFpQUJLQXN5SUM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1U2IyOXRSblZzYkVWeWNtOXlTQUFTTFFvRWFtOXBiaGdLSUFFb0N6SWRMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa05zYVdWdWRFcHZhVzVJQUJJd0NnbHpjR0YzYmw5aWIzUVlDeUFCS0FzeUd5NXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVRjR0YzYmtKdmRFZ0FFallLREdGa1pGOTNZWGx3YjJsdWRCZ01JQUVvQ3pJZUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrRmtaRmRoZVhCdmFXNTBTQUFTUEFvUGRYQmtZWFJsWDNkaGVYQnZhVzUwR0EwZ0FTZ0xNaUV1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VlhCa1lYUmxWMkY1Y0c5cGJuUklBQkk0Q2cxdGIzWmxYM2RoZVhCdmFXNTBHQTRnQVNnTE1oOHViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUVzkyWlZkaGVYQnZhVzUwU0FBU1BBb1BaR1ZzWlhSbFgzZGhlWEJ2YVc1MEdBOGdBU2dMTWlFdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVJHVnNaWFJsVjJGNWNHOXBiblJJQUJJOENnOWpiR1ZoY2w5M1lYbHdiMmx1ZEhNWUVDQUJLQXN5SVM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1RGJHVmhjbGRoZVhCdmFXNTBjMGdBRWtBS0VXTnZibVpwWjNWeVpWOXRhWE56YVd4bEdCRWdBU2dMTWlNdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVEyOXVabWxuZFhKbFRXbHpjMmxzWlVnQUVrVUtGR0ZrWkY5dGFYTnphV3hsWDNkaGVYQnZhVzUwR0JJZ0FTZ0xNaVV1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011UVdSa1RXbHpjMmxzWlZkaGVYQnZhVzUwU0FBU1Znb2RkWEJrWVhSbFgyMXBjM05wYkdWZmQyRjVjRzlwYm5SZmMzQmxaV1FZRXlBQktBc3lMUzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVWY0dSaGRHVk5hWE56YVd4bFYyRjVjRzlwYm5SVGNHVmxaRWdBRWtjS0ZXMXZkbVZmYldsemMybHNaVjkzWVhsd2IybHVkQmdVSUFFb0N6SW1MbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMazF2ZG1WTmFYTnphV3hsVjJGNWNHOXBiblJJQUJKTENoZGtaV3hsZEdWZmJXbHpjMmxzWlY5M1lYbHdiMmx1ZEJnVklBRW9DeklvTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtSbGJHVjBaVTFwYzNOcGJHVlhZWGx3YjJsdWRFZ0FFa01LRTJOc1pXRnlYMjFwYzNOcGJHVmZjbTkxZEdVWUZpQUJLQXN5SkM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1RGJHVmhjazFwYzNOcGJHVlNiM1YwWlVnQUVqOEtFV0ZrWkY5dGFYTnphV3hsWDNKdmRYUmxHQmNnQVNnTE1pSXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVRV1JrVFdsemMybHNaVkp2ZFhSbFNBQVNSUW9VY21WdVlXMWxYMjFwYzNOcGJHVmZjbTkxZEdVWUdDQUJLQXN5SlM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1U1pXNWhiV1ZOYVhOemFXeGxVbTkxZEdWSUFCSkZDaFJrWld4bGRHVmZiV2x6YzJsc1pWOXliM1YwWlJnWklBRW9DeklsTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtSbGJHVjBaVTFwYzNOcGJHVlNiM1YwWlVnQUVrd0tHSE5sZEY5aFkzUnBkbVZmYldsemMybHNaVjl5YjNWMFpSZ2FJQUVvQ3pJb0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxsTmxkRUZqZEdsMlpVMXBjM05wYkdWU2IzVjBaVWdBRWpvS0RteGhkVzVqYUY5dGFYTnphV3hsR0JzZ0FTZ0xNaUF1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VEdGMWJtTm9UV2x6YzJsc1pVZ0FFakFLQ1dSaFoxOXpkR0Z5ZEJnZUlBRW9DekliTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtSaFoxTjBZWEowU0FBU01nb0taR0ZuWDJOaGJtTmxiQmdmSUFFb0N6SWNMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JoWjBOaGJtTmxiRWdBRWpjS0RXUmhaMTl6ZEc5eWVWOWhZMnNZSUNBQktBc3lIaTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVFWVdkVGRHOXllVUZqYTBnQUVpNEtDR1JoWjE5c2FYTjBHQ0VnQVNnTE1ob3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVSR0ZuVEdsemRFZ0FFa0VLRW0xcGMzTnBiMjVmYzNCaGQyNWZkMkYyWlJnb0lBRW9DeklqTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGsxcGMzTnBiMjVUY0dGM2JsZGhkbVZJQUJKRENoTnRhWE56YVc5dVgzTjBiM0o1WDJWMlpXNTBHQ2tnQVNnTE1pUXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUV2x6YzJsdmJsTjBiM0o1UlhabGJuUklBQkkvQ2hGa1lXZGZiR2x6ZEY5eVpYTndiMjV6WlJneUlBRW9DeklpTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtSaFoweHBjM1JTWlhOd2IyNXpaVWdBRWtzS0YyMXBjM05wYjI1ZlltVmhZMjl1WDNOdVlYQnphRzkwR0R3Z0FTZ0xNaWd1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VFdsemMybHZia0psWVdOdmJsTnVZWEJ6YUc5MFNBQVNSUW9VYldsemMybHZibDlpWldGamIyNWZaR1ZzZEdFWVBTQUJLQXN5SlM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1TmFYTnphVzl1UW1WaFkyOXVSR1ZzZEdGSUFFSUpDZ2R3WVhsc2IyRmtJck1GQ2d0VGRHRjBaVlZ3WkdGMFpSSUxDZ051YjNjWUFTQUJLQUVTSkFvQ2JXVVlBaUFCS0FzeUdDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUhhRzl6ZEJJb0NnWm5hRzl6ZEhNWUF5QURLQXN5R0M1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1SGFHOXpkQklwQ2dSdFpYUmhHQVFnQVNnTE1oc3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVbTl2YlUxbGRHRVNMQW9JYldsemMybHNaWE1ZQlNBREtBc3lHaTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVOYVhOemFXeGxFamdLRG0xcGMzTnBiR1ZmWTI5dVptbG5HQVlnQVNnTE1pQXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUV2x6YzJsc1pVTnZibVpwWnhJMkNoRnRhWE56YVd4bFgzZGhlWEJ2YVc1MGN4Z0hJQU1vQ3pJYkxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxsZGhlWEJ2YVc1MEVqY0tEbTFwYzNOcGJHVmZjbTkxZEdWekdBZ2dBeWdMTWg4dWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmxzWlZKdmRYUmxFaHdLRkdGamRHbDJaVjl0YVhOemFXeGxYM0p2ZFhSbEdBa2dBU2dKRWhvS0VtNWxlSFJmYldsemMybHNaVjl5WldGa2VSZ0tJQUVvQVJJdENnTmtZV2NZQ3lBQktBc3lHeTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVFWVdkVGRHRjBaVWdBaUFFQkVqUUtDV2x1ZG1WdWRHOXllUmdNSUFFb0N6SWNMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa2x1ZG1WdWRHOXllVWdCaUFFQkVqRUtCWE4wYjNKNUdBMGdBU2dMTWgwdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUzUnZjbmxUZEdGMFpVZ0NpQUVCRWtBS0RHTmhjR0ZpYVd4cGRHbGxjeGdPSUFFb0N6SWxMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMbEJzWVhsbGNrTmhjR0ZpYVd4cGRHbGxjMGdEaUFFQlFnWUtCRjlrWVdkQ0RBb0tYMmx1ZG1WdWRHOXllVUlJQ2daZmMzUnZjbmxDRHdvTlgyTmhjR0ZpYVd4cGRHbGxjeUlnQ2cxU2IyOXRSblZzYkVWeWNtOXlFZzhLQjIxbGMzTmhaMlVZQVNBQktBa2lSZ29LUTJ4cFpXNTBTbTlwYmhJTUNnUnVZVzFsR0FFZ0FTZ0pFZ3dLQkhKdmIyMFlBaUFCS0FrU0RRb0ZiV0Z3WDNjWUF5QUJLQUVTRFFvRmJXRndYMmdZQkNBQktBRWlDZ29JVTNCaGQyNUNiM1FpTWdvTFFXUmtWMkY1Y0c5cGJuUVNDUW9CZUJnQklBRW9BUklKQ2dGNUdBSWdBU2dCRWcwS0JYTndaV1ZrR0FNZ0FTZ0JJaTRLRGxWd1pHRjBaVmRoZVhCdmFXNTBFZzBLQldsdVpHVjRHQUVnQVNnRkVnMEtCWE53WldWa0dBSWdBU2dCSWpNS0RFMXZkbVZYWVhsd2IybHVkQklOQ2dWcGJtUmxlQmdCSUFFb0JSSUpDZ0Y0R0FJZ0FTZ0JFZ2tLQVhrWUF5QUJLQUVpSHdvT1JHVnNaWFJsVjJGNWNHOXBiblFTRFFvRmFXNWtaWGdZQVNBQktBVWlFQW9PUTJ4bFlYSlhZWGx3YjJsdWRITWlQd29RUTI5dVptbG5kWEpsVFdsemMybHNaUklWQ2cxdGFYTnphV3hsWDNOd1pXVmtHQUVnQVNnQkVoUUtERzFwYzNOcGJHVmZZV2R5YnhnQ0lBRW9BU0pMQ2hKQlpHUk5hWE56YVd4bFYyRjVjRzlwYm5RU0VBb0ljbTkxZEdWZmFXUVlBU0FCS0FrU0NRb0JlQmdDSUFFb0FSSUpDZ0Y1R0FNZ0FTZ0JFZzBLQlhOd1pXVmtHQVFnQVNnQklrd0tHbFZ3WkdGMFpVMXBjM05wYkdWWFlYbHdiMmx1ZEZOd1pXVmtFaEFLQ0hKdmRYUmxYMmxrR0FFZ0FTZ0pFZzBLQldsdVpHVjRHQUlnQVNnRkVnMEtCWE53WldWa0dBTWdBU2dCSWt3S0UwMXZkbVZOYVhOemFXeGxWMkY1Y0c5cGJuUVNFQW9JY205MWRHVmZhV1FZQVNBQktBa1NEUW9GYVc1a1pYZ1lBaUFCS0FVU0NRb0JlQmdESUFFb0FSSUpDZ0Y1R0FRZ0FTZ0JJamdLRlVSbGJHVjBaVTFwYzNOcGJHVlhZWGx3YjJsdWRCSVFDZ2h5YjNWMFpWOXBaQmdCSUFFb0NSSU5DZ1ZwYm1SbGVCZ0NJQUVvQlNJbENoRkRiR1ZoY2sxcGMzTnBiR1ZTYjNWMFpSSVFDZ2h5YjNWMFpWOXBaQmdCSUFFb0NTSWZDZzlCWkdSTmFYTnphV3hsVW05MWRHVVNEQW9FYm1GdFpSZ0JJQUVvQ1NJMENoSlNaVzVoYldWTmFYTnphV3hsVW05MWRHVVNFQW9JY205MWRHVmZhV1FZQVNBQktBa1NEQW9FYm1GdFpSZ0NJQUVvQ1NJbUNoSkVaV3hsZEdWTmFYTnphV3hsVW05MWRHVVNFQW9JY205MWRHVmZhV1FZQVNBQktBa2lLUW9WVTJWMFFXTjBhWFpsVFdsemMybHNaVkp2ZFhSbEVoQUtDSEp2ZFhSbFgybGtHQUVnQVNnSklpRUtEVXhoZFc1amFFMXBjM05wYkdVU0VBb0ljbTkxZEdWZmFXUVlBU0FCS0FraWdnSUtCVWRvYjNOMEVnb0tBbWxrR0FFZ0FTZ0pFZ2tLQVhnWUFpQUJLQUVTQ1FvQmVSZ0RJQUVvQVJJS0NnSjJlQmdFSUFFb0FSSUtDZ0oyZVJnRklBRW9BUklKQ2dGMEdBWWdBU2dCRWd3S0JITmxiR1lZQnlBQktBZ1NMZ29KZDJGNWNHOXBiblJ6R0FnZ0F5Z0xNaHN1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VjJGNWNHOXBiblFTSGdvV1kzVnljbVZ1ZEY5M1lYbHdiMmx1ZEY5cGJtUmxlQmdKSUFFb0JSSUtDZ0pvY0JnS0lBRW9CUklOQ2dWcmFXeHNjeGdMSUFFb0JSSXlDZ1JvWldGMEdBd2dBU2dMTWg4dWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUyaHBjRWhsWVhSV2FXVjNTQUNJQVFGQ0J3b0ZYMmhsWVhRaUx3b0lWMkY1Y0c5cGJuUVNDUW9CZUJnQklBRW9BUklKQ2dGNUdBSWdBU2dCRWcwS0JYTndaV1ZrR0FNZ0FTZ0JJaXNLQ0ZKdmIyMU5aWFJoRWdrS0FXTVlBU0FCS0FFU0NRb0JkeGdDSUFFb0FSSUpDZ0ZvR0FNZ0FTZ0JJb3NDQ2dkTmFYTnphV3hsRWdvS0FtbGtHQUVnQVNnSkVnMEtCVzkzYm1WeUdBSWdBU2dKRWd3S0JITmxiR1lZQXlBQktBZ1NDUW9CZUJnRUlBRW9BUklKQ2dGNUdBVWdBU2dCRWdvS0FuWjRHQVlnQVNnQkVnb0tBblo1R0FjZ0FTZ0JFZ2tLQVhRWUNDQUJLQUVTRXdvTFlXZHliMTl5WVdScGRYTVlDU0FCS0FFU0VBb0liR2xtWlhScGJXVVlDaUFCS0FFU0V3b0xiR0YxYm1Ob1gzUnBiV1VZQ3lBQktBRVNFZ29LWlhod2FYSmxjMTloZEJnTUlBRW9BUklSQ2dsMFlYSm5aWFJmYVdRWURTQUJLQWtTTWdvRWFHVmhkQmdPSUFFb0N6SWZMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMbE5vYVhCSVpXRjBWbWxsZDBnQWlBRUJRZ2NLQlY5b1pXRjBJc1lCQ2cxTmFYTnphV3hsUTI5dVptbG5FZzBLQlhOd1pXVmtHQUVnQVNnQkVoRUtDWE53WldWa1gyMXBiaGdDSUFFb0FSSVJDZ2x6Y0dWbFpGOXRZWGdZQXlBQktBRVNFQW9JWVdkeWIxOXRhVzRZQkNBQktBRVNFd29MWVdkeWIxOXlZV1JwZFhNWUJTQUJLQUVTRUFvSWJHbG1aWFJwYldVWUJpQUJLQUVTTndvTGFHVmhkRjlqYjI1bWFXY1lCeUFCS0FzeUhTNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUlaV0YwVUdGeVlXMXpTQUNJQVFGQ0Rnb01YMmhsWVhSZlkyOXVabWxuSWxnS0RFMXBjM05wYkdWU2IzVjBaUklLQ2dKcFpCZ0JJQUVvQ1JJTUNnUnVZVzFsR0FJZ0FTZ0pFaTRLQ1hkaGVYQnZhVzUwY3hnRElBTW9DekliTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGxkaGVYQnZhVzUwSW5ZS0RGTm9hWEJJWldGMFZtbGxkeElKQ2dGMkdBRWdBU2dCRWdrS0FXMFlBaUFCS0FFU0NRb0JkeGdESUFFb0FSSUpDZ0Z2R0FRZ0FTZ0JFZ29LQW0xekdBVWdBU2dCRWdvS0FuTjFHQVlnQVNnQkVnb0tBbXQxR0FjZ0FTZ0JFZ29LQW10a0dBZ2dBU2dCRWdvS0FtVjRHQWtnQVNnQklvQUJDZ3BJWldGMFVHRnlZVzF6RWdzS0EyMWhlQmdCSUFFb0FSSVBDZ2QzWVhKdVgyRjBHQUlnQVNnQkVoTUtDMjkyWlhKb1pXRjBYMkYwR0FNZ0FTZ0JFaFFLREcxaGNtdGxjbDl6Y0dWbFpCZ0VJQUVvQVJJTUNnUnJYM1Z3R0FVZ0FTZ0JFZzRLQm10ZlpHOTNiaGdHSUFFb0FSSUxDZ05sZUhBWUJ5QUJLQUVpZHdvTlZYQm5jbUZrWlVWbVptVmpkQkl5Q2dSMGVYQmxHQUVnQVNnT01pUXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVWWEJuY21Ga1pVVm1abVZqZEZSNWNHVVNGQW9LYlhWc2RHbHdiR2xsY2hnQ0lBRW9BVWdBRWhNS0NYVnViRzlqYTE5cFpCZ0RJQUVvQ1VnQVFnY0tCWFpoYkhWbElua0tFbEJzWVhsbGNrTmhjR0ZpYVd4cGRHbGxjeElZQ2hCemNHVmxaRjl0ZFd4MGFYQnNhV1Z5R0FFZ0FTZ0JFaGtLRVhWdWJHOWphMlZrWDIxcGMzTnBiR1Z6R0FJZ0F5Z0pFaFVLRFdobFlYUmZZMkZ3WVdOcGRIa1lBeUFCS0FFU0Z3b1BhR1ZoZEY5bFptWnBZMmxsYm1ONUdBUWdBU2dCSXZRQkNnZEVZV2RPYjJSbEVnb0tBbWxrR0FFZ0FTZ0pFaXdLQkd0cGJtUVlBaUFCS0E0eUhpNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUVZV2RPYjJSbFMybHVaQklOQ2dWc1lXSmxiQmdESUFFb0NSSXdDZ1p6ZEdGMGRYTVlCQ0FCS0E0eUlDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUVZV2RPYjJSbFUzUmhkSFZ6RWhNS0MzSmxiV0ZwYm1sdVoxOXpHQVVnQVNnQkVoSUtDbVIxY21GMGFXOXVYM01ZQmlBQktBRVNFZ29LY21Wd1pXRjBZV0pzWlJnSElBRW9DQkl4Q2dkbFptWmxZM1J6R0FnZ0F5Z0xNaUF1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VlhCbmNtRmtaVVZtWm1WamRDSTFDZ2hFWVdkVGRHRjBaUklwQ2dWdWIyUmxjeGdCSUFNb0N6SWFMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JoWjA1dlpHVWlHd29JUkdGblUzUmhjblFTRHdvSGJtOWtaVjlwWkJnQklBRW9DU0ljQ2dsRVlXZERZVzVqWld3U0R3b0hibTlrWlY5cFpCZ0JJQUVvQ1NJeENndEVZV2RUZEc5eWVVRmpheElQQ2dkdWIyUmxYMmxrR0FFZ0FTZ0pFaEVLQ1dOb2IybGpaVjlwWkJnQ0lBRW9DU0lKQ2dkRVlXZE1hWE4wSWpzS0QwUmhaMHhwYzNSU1pYTndiMjV6WlJJb0NnTmtZV2NZQVNBQktBc3lHeTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVFWVdkVGRHRjBaU0phQ2cxSmJuWmxiblJ2Y25sSmRHVnRFZ3dLQkhSNWNHVVlBU0FCS0FrU0Vnb0tkbUZ5YVdGdWRGOXBaQmdDSUFFb0NSSVZDZzFvWldGMFgyTmhjR0ZqYVhSNUdBTWdBU2dCRWhBS0NIRjFZVzUwYVhSNUdBUWdBU2dGSWp3S0NVbHVkbVZ1ZEc5eWVSSXZDZ1ZwZEdWdGN4Z0JJQU1vQ3pJZ0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrbHVkbVZ1ZEc5eWVVbDBaVzBpTHdvVFUzUnZjbmxFYVdGc2IyZDFaVU5vYjJsalpSSUtDZ0pwWkJnQklBRW9DUklNQ2dSMFpYaDBHQUlnQVNnSklpOEtFRk4wYjNKNVZIVjBiM0pwWVd4VWFYQVNEUW9GZEdsMGJHVVlBU0FCS0FrU0RBb0VkR1Y0ZEJnQ0lBRW9DU0tBQWdvTlUzUnZjbmxFYVdGc2IyZDFaUklQQ2dkemNHVmhhMlZ5R0FFZ0FTZ0pFZ3dLQkhSbGVIUVlBaUFCS0FrU0xnb0dhVzUwWlc1MEdBTWdBU2dPTWg0dWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUzUnZjbmxKYm5SbGJuUVNGZ29PWTI5dWRHbHVkV1ZmYkdGaVpXd1lCQ0FCS0FrU053b0hZMmh2YVdObGN4Z0ZJQU1vQ3pJbUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxsTjBiM0o1UkdsaGJHOW5kV1ZEYUc5cFkyVVNQZ29NZEhWMGIzSnBZV3hmZEdsd0dBWWdBU2dMTWlNdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUzUnZjbmxVZFhSdmNtbGhiRlJwY0VnQWlBRUJRZzhLRFY5MGRYUnZjbWxoYkY5MGFYQWlSQW9LVTNSdmNubEZkbVZ1ZEJJU0NncGphR0Z3ZEdWeVgybGtHQUVnQVNnSkVnOEtCMjV2WkdWZmFXUVlBaUFCS0FrU0VRb0pkR2x0WlhOMFlXMXdHQU1nQVNnQklwY0NDZ3BUZEc5eWVWTjBZWFJsRWhNS0MyRmpkR2wyWlY5dWIyUmxHQUVnQVNnSkVqY0tDR1JwWVd4dlozVmxHQUlnQVNnTE1pQXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVM1J2Y25sRWFXRnNiMmQxWlVnQWlBRUJFaEVLQ1dGMllXbHNZV0pzWlJnRElBTW9DUkkzQ2dWbWJHRm5jeGdFSUFNb0N6SW9MbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMbE4wYjNKNVUzUmhkR1V1Um14aFozTkZiblJ5ZVJJMENnMXlaV05sYm5SZlpYWmxiblJ6R0FVZ0F5Z0xNaDB1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VTNSdmNubEZkbVZ1ZEJvc0NncEdiR0ZuYzBWdWRISjVFZ3NLQTJ0bGVSZ0JJQUVvQ1JJTkNnVjJZV3gxWlJnQ0lBRW9DRG9DT0FGQ0N3b0pYMlJwWVd4dlozVmxJaVlLRUUxcGMzTnBiMjVUY0dGM2JsZGhkbVVTRWdvS2QyRjJaVjlwYm1SbGVCZ0JJQUVvQlNJeUNoRk5hWE56YVc5dVUzUnZjbmxGZG1WdWRCSU5DZ1ZsZG1WdWRCZ0JJQUVvQ1JJT0NnWmlaV0ZqYjI0WUFpQUJLQVVpaWdJS0ZVMXBjM05wYjI1Q1pXRmpiMjVUYm1Gd2MyaHZkQklTQ2dwdGFYTnphVzl1WDJsa0dBRWdBU2dKRWhNS0MyeGhlVzkxZEY5elpXVmtHQUlnQVNnRUVoTUtDM05sY25abGNsOTBhVzFsR0FNZ0FTZ0JFanNLQjJKbFlXTnZibk1ZQkNBREtBc3lLaTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVOYVhOemFXOXVRbVZoWTI5dVJHVm1hVzVwZEdsdmJoSTNDZ2R3YkdGNVpYSnpHQVVnQXlnTE1pWXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUV2x6YzJsdmJrSmxZV052YmxCc1lYbGxjaEk5Q2dwbGJtTnZkVzUwWlhKekdBWWdBeWdMTWlrdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmx2YmtKbFlXTnZia1Z1WTI5MWJuUmxjaUpxQ2hkTmFYTnphVzl1UW1WaFkyOXVSR1ZtYVc1cGRHbHZiaElLQ2dKcFpCZ0JJQUVvQ1JJUENnZHZjbVJwYm1Gc0dBSWdBU2dGRWdrS0FYZ1lBeUFCS0FFU0NRb0JlUmdFSUFFb0FSSU9DZ1p5WVdScGRYTVlCU0FCS0FFU0RBb0VjMlZsWkJnR0lBRW9BeUtrQWdvVFRXbHpjMmx2YmtKbFlXTnZibEJzWVhsbGNoSVJDZ2x3YkdGNVpYSmZhV1FZQVNBQktBa1NGUW9OWTNWeWNtVnVkRjlwYm1SbGVCZ0NJQUVvQlJJU0NncG9iMnhrWDJGalkzVnRHQU1nQVNnQkVoVUtEV2h2YkdSZmNtVnhkV2x5WldRWUJDQUJLQUVTRlFvTllXTjBhWFpsWDJKbFlXTnZiaGdGSUFFb0NSSVNDZ3BrYVhOamIzWmxjbVZrR0FZZ0F5Z0pFaEVLQ1dOdmJYQnNaWFJsWkJnSElBTW9DUkpJQ2dsamIyOXNaRzkzYm5NWUNDQURLQXN5TlM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1TmFYTnphVzl1UW1WaFkyOXVVR3hoZVdWeUxrTnZiMnhrYjNkdWMwVnVkSEo1R2pBS0RrTnZiMnhrYjNkdWMwVnVkSEo1RWdzS0EydGxlUmdCSUFFb0NSSU5DZ1YyWVd4MVpSZ0NJQUVvQVRvQ09BRWlsZ0VLRWsxcGMzTnBiMjVDWldGamIyNUVaV3gwWVJJOENnZHdiR0Y1WlhKekdBRWdBeWdMTWlzdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmx2YmtKbFlXTnZibEJzWVhsbGNrUmxiSFJoRWtJS0NtVnVZMjkxYm5SbGNuTVlBaUFES0FzeUxpNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NU5hWE56YVc5dVFtVmhZMjl1Ulc1amIzVnVkR1Z5UlhabGJuUWk0Z0VLR0UxcGMzTnBiMjVDWldGamIyNVFiR0Y1WlhKRVpXeDBZUkkzQ2dSMGVYQmxHQUVnQVNnT01pa3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUV2x6YzJsdmJrSmxZV052YmtSbGJIUmhWSGx3WlJJUkNnbHdiR0Y1WlhKZmFXUVlBaUFCS0FrU0VRb0pZbVZoWTI5dVgybGtHQU1nQVNnSkVnOEtCMjl5WkdsdVlXd1lCQ0FCS0FVU0Vnb0thRzlzWkY5aFkyTjFiUmdGSUFFb0FSSVZDZzFvYjJ4a1gzSmxjWFZwY21Wa0dBWWdBU2dCRWhZS0RtTnZiMnhrYjNkdVgzVnVkR2xzR0FjZ0FTZ0JFaE1LQzNObGNuWmxjbDkwYVcxbEdBZ2dBU2dCSW4wS0ZrMXBjM05wYjI1Q1pXRmpiMjVGYm1OdmRXNTBaWElTRkFvTVpXNWpiM1Z1ZEdWeVgybGtHQUVnQVNnSkVoRUtDV0psWVdOdmJsOXBaQmdDSUFFb0NSSVNDZ3AzWVhabFgybHVaR1Y0R0FNZ0FTZ0ZFaElLQ25Od1lYZHVaV1JmWVhRWUJDQUJLQUVTRWdvS1pYaHdhWEpsYzE5aGRCZ0ZJQUVvQVNMT0FRb2JUV2x6YzJsdmJrSmxZV052YmtWdVkyOTFiblJsY2tWMlpXNTBFam9LQkhSNWNHVVlBU0FCS0E0eUxDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NU5hWE56YVc5dVJXNWpiM1Z1ZEdWeVJYWmxiblJVZVhCbEVoUUtER1Z1WTI5MWJuUmxjbDlwWkJnQ0lBRW9DUklSQ2dsaVpXRmpiMjVmYVdRWUF5QUJLQWtTRWdvS2QyRjJaVjlwYm1SbGVCZ0VJQUVvQlJJU0NncHpjR0YzYm1Wa1gyRjBHQVVnQVNnQkVoSUtDbVY0Y0dseVpYTmZZWFFZQmlBQktBRVNEZ29HY21WaGMyOXVHQWNnQVNnSktxc0JDZzFFWVdkT2IyUmxVM1JoZEhWekVoOEtHMFJCUjE5T1QwUkZYMU5VUVZSVlUxOVZUbE5RUlVOSlJrbEZSQkFBRWhvS0ZrUkJSMTlPVDBSRlgxTlVRVlJWVTE5TVQwTkxSVVFRQVJJZENobEVRVWRmVGs5RVJWOVRWRUZVVlZOZlFWWkJTVXhCUWt4RkVBSVNId29iUkVGSFgwNVBSRVZmVTFSQlZGVlRYMGxPWDFCU1QwZFNSVk5URUFNU0hRb1pSRUZIWDA1UFJFVmZVMVJCVkZWVFgwTlBUVkJNUlZSRlJCQUVLcEVCQ2d0RVlXZE9iMlJsUzJsdVpCSWRDaGxFUVVkZlRrOUVSVjlMU1U1RVgxVk9VMUJGUTBsR1NVVkVFQUFTR1FvVlJFRkhYMDVQUkVWZlMwbE9SRjlHUVVOVVQxSlpFQUVTRmdvU1JFRkhYMDVQUkVWZlMwbE9SRjlWVGtsVUVBSVNGd29UUkVGSFgwNVBSRVZmUzBsT1JGOVRWRTlTV1JBREVoY0tFMFJCUjE5T1QwUkZYMHRKVGtSZlExSkJSbFFRQkNyYUFRb1JWWEJuY21Ga1pVVm1abVZqZEZSNWNHVVNJd29mVlZCSFVrRkVSVjlGUmtaRlExUmZWRmxRUlY5VlRsTlFSVU5KUmtsRlJCQUFFaWdLSkZWUVIxSkJSRVZmUlVaR1JVTlVYMVJaVUVWZlUxQkZSVVJmVFZWTVZFbFFURWxGVWhBQkVpWUtJbFZRUjFKQlJFVmZSVVpHUlVOVVgxUlpVRVZmVFVsVFUwbE1SVjlWVGt4UFEwc1FBaElsQ2lGVlVFZFNRVVJGWDBWR1JrVkRWRjlVV1ZCRlgwaEZRVlJmUTBGUVFVTkpWRmtRQXhJbkNpTlZVRWRTUVVSRlgwVkdSa1ZEVkY5VVdWQkZYMGhGUVZSZlJVWkdTVU5KUlU1RFdSQUVLbHdLQzFOMGIzSjVTVzUwWlc1MEVod0tHRk5VVDFKWlgwbE9WRVZPVkY5VlRsTlFSVU5KUmtsRlJCQUFFaGdLRkZOVVQxSlpYMGxPVkVWT1ZGOUdRVU5VVDFKWkVBRVNGUW9SVTFSUFVsbGZTVTVVUlU1VVgxVk9TVlFRQWlxZ0Fnb1dUV2x6YzJsdmJrSmxZV052YmtSbGJIUmhWSGx3WlJJa0NpQk5TVk5UU1U5T1gwSkZRVU5QVGw5RVJVeFVRVjlWVGxOUVJVTkpSa2xGUkJBQUVpTUtIMDFKVTFOSlQwNWZRa1ZCUTA5T1gwUkZURlJCWDBSSlUwTlBWa1ZTUlVRUUFSSW1DaUpOU1ZOVFNVOU9YMEpGUVVOUFRsOUVSVXhVUVY5SVQweEVYMUJTVDBkU1JWTlRFQUlTSXdvZlRVbFRVMGxQVGw5Q1JVRkRUMDVmUkVWTVZFRmZTRTlNUkY5U1JWTkZWQkFERWg4S0cwMUpVMU5KVDA1ZlFrVkJRMDlPWDBSRlRGUkJYMHhQUTB0RlJCQUVFaUVLSFUxSlUxTkpUMDVmUWtWQlEwOU9YMFJGVEZSQlgwTlBUMHhFVDFkT0VBVVNLZ29tVFVsVFUwbFBUbDlDUlVGRFQwNWZSRVZNVkVGZlRVbFRVMGxQVGw5RFQwMVFURVZVUlVRUUJpclhBUW9aVFdsemMybHZia1Z1WTI5MWJuUmxja1YyWlc1MFZIbHdaUkluQ2lOTlNWTlRTVTlPWDBWT1EwOVZUbFJGVWw5RlZrVk9WRjlWVGxOUVJVTkpSa2xGUkJBQUVpTUtIMDFKVTFOSlQwNWZSVTVEVDFWT1ZFVlNYMFZXUlU1VVgxTlFRVmRPUlVRUUFSSWpDaDlOU1ZOVFNVOU9YMFZPUTA5VlRsUkZVbDlGVmtWT1ZGOURURVZCVWtWRUVBSVNJd29mVFVsVFUwbFBUbDlGVGtOUFZVNVVSVkpmUlZaRlRsUmZWRWxOUlU5VlZCQURFaUlLSGsxSlUxTkpUMDVmUlU1RFQxVk9WRVZTWDBWV1JVNVVYMUJWVWtkRlJCQUVRaUphSUV4cFoyaDBVM0JsWldSRWRXVnNMMmx1ZEdWeWJtRnNMM0J5YjNSdkwzZHpZZ1p3Y205MGJ6TVwiKTtcblxuLyoqXG4gKiBXc0VudmVsb3BlIHdyYXBzIGFsbCBXZWJTb2NrZXQgbWVzc2FnZXMgaW4gYSBkaXNjcmltaW5hdGVkIHVuaW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuV3NFbnZlbG9wZVxuICovXG5leHBvcnQgdHlwZSBXc0VudmVsb3BlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLldzRW52ZWxvcGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gb25lb2YgbGlnaHRzcGVlZGR1ZWwud3MuV3NFbnZlbG9wZS5wYXlsb2FkXG4gICAqL1xuICBwYXlsb2FkOiB7XG4gICAgLyoqXG4gICAgICogU2VydmVyIFx1MjE5MiBDbGllbnRcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuU3RhdGVVcGRhdGUgc3RhdGVfdXBkYXRlID0gMTtcbiAgICAgKi9cbiAgICB2YWx1ZTogU3RhdGVVcGRhdGU7XG4gICAgY2FzZTogXCJzdGF0ZVVwZGF0ZVwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuUm9vbUZ1bGxFcnJvciByb29tX2Z1bGwgPSAyO1xuICAgICAqL1xuICAgIHZhbHVlOiBSb29tRnVsbEVycm9yO1xuICAgIGNhc2U6IFwicm9vbUZ1bGxcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBDbGllbnQgXHUyMTkyIFNlcnZlclxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5DbGllbnRKb2luIGpvaW4gPSAxMDtcbiAgICAgKi9cbiAgICB2YWx1ZTogQ2xpZW50Sm9pbjtcbiAgICBjYXNlOiBcImpvaW5cIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlNwYXduQm90IHNwYXduX2JvdCA9IDExO1xuICAgICAqL1xuICAgIHZhbHVlOiBTcGF3bkJvdDtcbiAgICBjYXNlOiBcInNwYXduQm90XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5BZGRXYXlwb2ludCBhZGRfd2F5cG9pbnQgPSAxMjtcbiAgICAgKi9cbiAgICB2YWx1ZTogQWRkV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJhZGRXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnQgdXBkYXRlX3dheXBvaW50ID0gMTM7XG4gICAgICovXG4gICAgdmFsdWU6IFVwZGF0ZVdheXBvaW50O1xuICAgIGNhc2U6IFwidXBkYXRlV2F5cG9pbnRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1vdmVXYXlwb2ludCBtb3ZlX3dheXBvaW50ID0gMTQ7XG4gICAgICovXG4gICAgdmFsdWU6IE1vdmVXYXlwb2ludDtcbiAgICBjYXNlOiBcIm1vdmVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlV2F5cG9pbnQgZGVsZXRlX3dheXBvaW50ID0gMTU7XG4gICAgICovXG4gICAgdmFsdWU6IERlbGV0ZVdheXBvaW50O1xuICAgIGNhc2U6IFwiZGVsZXRlV2F5cG9pbnRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyV2F5cG9pbnRzIGNsZWFyX3dheXBvaW50cyA9IDE2O1xuICAgICAqL1xuICAgIHZhbHVlOiBDbGVhcldheXBvaW50cztcbiAgICBjYXNlOiBcImNsZWFyV2F5cG9pbnRzXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5Db25maWd1cmVNaXNzaWxlIGNvbmZpZ3VyZV9taXNzaWxlID0gMTc7XG4gICAgICovXG4gICAgdmFsdWU6IENvbmZpZ3VyZU1pc3NpbGU7XG4gICAgY2FzZTogXCJjb25maWd1cmVNaXNzaWxlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlV2F5cG9pbnQgYWRkX21pc3NpbGVfd2F5cG9pbnQgPSAxODtcbiAgICAgKi9cbiAgICB2YWx1ZTogQWRkTWlzc2lsZVdheXBvaW50O1xuICAgIGNhc2U6IFwiYWRkTWlzc2lsZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5VcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZCB1cGRhdGVfbWlzc2lsZV93YXlwb2ludF9zcGVlZCA9IDE5O1xuICAgICAqL1xuICAgIHZhbHVlOiBVcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZDtcbiAgICBjYXNlOiBcInVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5Nb3ZlTWlzc2lsZVdheXBvaW50IG1vdmVfbWlzc2lsZV93YXlwb2ludCA9IDIwO1xuICAgICAqL1xuICAgIHZhbHVlOiBNb3ZlTWlzc2lsZVdheXBvaW50O1xuICAgIGNhc2U6IFwibW92ZU1pc3NpbGVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVdheXBvaW50IGRlbGV0ZV9taXNzaWxlX3dheXBvaW50ID0gMjE7XG4gICAgICovXG4gICAgdmFsdWU6IERlbGV0ZU1pc3NpbGVXYXlwb2ludDtcbiAgICBjYXNlOiBcImRlbGV0ZU1pc3NpbGVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJNaXNzaWxlUm91dGUgY2xlYXJfbWlzc2lsZV9yb3V0ZSA9IDIyO1xuICAgICAqL1xuICAgIHZhbHVlOiBDbGVhck1pc3NpbGVSb3V0ZTtcbiAgICBjYXNlOiBcImNsZWFyTWlzc2lsZVJvdXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlUm91dGUgYWRkX21pc3NpbGVfcm91dGUgPSAyMztcbiAgICAgKi9cbiAgICB2YWx1ZTogQWRkTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwiYWRkTWlzc2lsZVJvdXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGUgcmVuYW1lX21pc3NpbGVfcm91dGUgPSAyNDtcbiAgICAgKi9cbiAgICB2YWx1ZTogUmVuYW1lTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwicmVuYW1lTWlzc2lsZVJvdXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlUm91dGUgZGVsZXRlX21pc3NpbGVfcm91dGUgPSAyNTtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGVsZXRlTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwiZGVsZXRlTWlzc2lsZVJvdXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5TZXRBY3RpdmVNaXNzaWxlUm91dGUgc2V0X2FjdGl2ZV9taXNzaWxlX3JvdXRlID0gMjY7XG4gICAgICovXG4gICAgdmFsdWU6IFNldEFjdGl2ZU1pc3NpbGVSb3V0ZTtcbiAgICBjYXNlOiBcInNldEFjdGl2ZU1pc3NpbGVSb3V0ZVwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZSBsYXVuY2hfbWlzc2lsZSA9IDI3O1xuICAgICAqL1xuICAgIHZhbHVlOiBMYXVuY2hNaXNzaWxlO1xuICAgIGNhc2U6IFwibGF1bmNoTWlzc2lsZVwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIFBoYXNlIDI6IERBRyBjb21tYW5kc1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdTdGFydCBkYWdfc3RhcnQgPSAzMDtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGFnU3RhcnQ7XG4gICAgY2FzZTogXCJkYWdTdGFydFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGFnQ2FuY2VsIGRhZ19jYW5jZWwgPSAzMTtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGFnQ2FuY2VsO1xuICAgIGNhc2U6IFwiZGFnQ2FuY2VsXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFjayBkYWdfc3RvcnlfYWNrID0gMzI7XG4gICAgICovXG4gICAgdmFsdWU6IERhZ1N0b3J5QWNrO1xuICAgIGNhc2U6IFwiZGFnU3RvcnlBY2tcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3QgZGFnX2xpc3QgPSAzMztcbiAgICAgKi9cbiAgICB2YWx1ZTogRGFnTGlzdDtcbiAgICBjYXNlOiBcImRhZ0xpc3RcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBQaGFzZSAyOiBNaXNzaW9uIGNvbW1hbmRzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TcGF3bldhdmUgbWlzc2lvbl9zcGF3bl93YXZlID0gNDA7XG4gICAgICovXG4gICAgdmFsdWU6IE1pc3Npb25TcGF3bldhdmU7XG4gICAgY2FzZTogXCJtaXNzaW9uU3Bhd25XYXZlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3RvcnlFdmVudCBtaXNzaW9uX3N0b3J5X2V2ZW50ID0gNDE7XG4gICAgICovXG4gICAgdmFsdWU6IE1pc3Npb25TdG9yeUV2ZW50O1xuICAgIGNhc2U6IFwibWlzc2lvblN0b3J5RXZlbnRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBQaGFzZSAyOiBTZXJ2ZXIgcmVzcG9uc2VzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZSBkYWdfbGlzdF9yZXNwb25zZSA9IDUwO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdMaXN0UmVzcG9uc2U7XG4gICAgY2FzZTogXCJkYWdMaXN0UmVzcG9uc2VcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25TbmFwc2hvdCBtaXNzaW9uX2JlYWNvbl9zbmFwc2hvdCA9IDYwO1xuICAgICAqL1xuICAgIHZhbHVlOiBNaXNzaW9uQmVhY29uU25hcHNob3Q7XG4gICAgY2FzZTogXCJtaXNzaW9uQmVhY29uU25hcHNob3RcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YSBtaXNzaW9uX2JlYWNvbl9kZWx0YSA9IDYxO1xuICAgICAqL1xuICAgIHZhbHVlOiBNaXNzaW9uQmVhY29uRGVsdGE7XG4gICAgY2FzZTogXCJtaXNzaW9uQmVhY29uRGVsdGFcIjtcbiAgfSB8IHsgY2FzZTogdW5kZWZpbmVkOyB2YWx1ZT86IHVuZGVmaW5lZCB9O1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuV3NFbnZlbG9wZS5cbiAqIFVzZSBgY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFdzRW52ZWxvcGVTY2hlbWE6IEdlbk1lc3NhZ2U8V3NFbnZlbG9wZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDApO1xuXG4vKipcbiAqIFNlcnZlciBcdTIxOTIgQ2xpZW50OiBGdWxsIGdhbWUgc3RhdGVcbiAqIFNlbnQgZXZlcnkgdGljayAofjIwSHopIGNvbnRhaW5pbmcgdGhlIHBsYXllcidzIHZpZXcgb2YgdGhlIGdhbWUgd29ybGRcbiAqIHdpdGggbGlnaHQtZGVsYXllZCBwb3NpdGlvbnMgb2Ygb3RoZXIgc2hpcHMgYW5kIG1pc3NpbGVzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RhdGVVcGRhdGVcbiAqL1xuZXhwb3J0IHR5cGUgU3RhdGVVcGRhdGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU3RhdGVVcGRhdGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBub3cgPSAxO1xuICAgKi9cbiAgbm93OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuR2hvc3QgbWUgPSAyO1xuICAgKi9cbiAgbWU/OiBHaG9zdDtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5HaG9zdCBnaG9zdHMgPSAzO1xuICAgKi9cbiAgZ2hvc3RzOiBHaG9zdFtdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlJvb21NZXRhIG1ldGEgPSA0O1xuICAgKi9cbiAgbWV0YT86IFJvb21NZXRhO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGUgbWlzc2lsZXMgPSA1O1xuICAgKi9cbiAgbWlzc2lsZXM6IE1pc3NpbGVbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlQ29uZmlnIG1pc3NpbGVfY29uZmlnID0gNjtcbiAgICovXG4gIG1pc3NpbGVDb25maWc/OiBNaXNzaWxlQ29uZmlnO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLldheXBvaW50IG1pc3NpbGVfd2F5cG9pbnRzID0gNztcbiAgICovXG4gIG1pc3NpbGVXYXlwb2ludHM6IFdheXBvaW50W107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlIG1pc3NpbGVfcm91dGVzID0gODtcbiAgICovXG4gIG1pc3NpbGVSb3V0ZXM6IE1pc3NpbGVSb3V0ZVtdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBhY3RpdmVfbWlzc2lsZV9yb3V0ZSA9IDk7XG4gICAqL1xuICBhY3RpdmVNaXNzaWxlUm91dGU6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbmV4dF9taXNzaWxlX3JlYWR5ID0gMTA7XG4gICAqL1xuICBuZXh0TWlzc2lsZVJlYWR5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFBoYXNlIDIgYWRkaXRpb25zOlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlIGRhZyA9IDExO1xuICAgKi9cbiAgZGFnPzogRGFnU3RhdGU7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5IGludmVudG9yeSA9IDEyO1xuICAgKi9cbiAgaW52ZW50b3J5PzogSW52ZW50b3J5O1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGUgc3RvcnkgPSAxMztcbiAgICovXG4gIHN0b3J5PzogU3RvcnlTdGF0ZTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5QbGF5ZXJDYXBhYmlsaXRpZXMgY2FwYWJpbGl0aWVzID0gMTQ7XG4gICAqL1xuICBjYXBhYmlsaXRpZXM/OiBQbGF5ZXJDYXBhYmlsaXRpZXM7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZS5cbiAqIFVzZSBgY3JlYXRlKFN0YXRlVXBkYXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0ZVVwZGF0ZVNjaGVtYTogR2VuTWVzc2FnZTxTdGF0ZVVwZGF0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDEpO1xuXG4vKipcbiAqIFNlcnZlciBcdTIxOTIgQ2xpZW50OiBSb29tIGZ1bGwgZXJyb3JcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yXG4gKi9cbmV4cG9ydCB0eXBlIFJvb21GdWxsRXJyb3IgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuUm9vbUZ1bGxFcnJvclwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG1lc3NhZ2UgPSAxO1xuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUm9vbUZ1bGxFcnJvci5cbiAqIFVzZSBgY3JlYXRlKFJvb21GdWxsRXJyb3JTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJvb21GdWxsRXJyb3JTY2hlbWE6IEdlbk1lc3NhZ2U8Um9vbUZ1bGxFcnJvcj4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBKb2luIGdhbWVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5DbGllbnRKb2luXG4gKi9cbmV4cG9ydCB0eXBlIENsaWVudEpvaW4gPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQ2xpZW50Sm9pblwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG5hbWUgPSAxO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb29tID0gMjtcbiAgICovXG4gIHJvb206IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWFwX3cgPSAzO1xuICAgKi9cbiAgbWFwVzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtYXBfaCA9IDQ7XG4gICAqL1xuICBtYXBIOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5DbGllbnRKb2luLlxuICogVXNlIGBjcmVhdGUoQ2xpZW50Sm9pblNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ2xpZW50Sm9pblNjaGVtYTogR2VuTWVzc2FnZTxDbGllbnRKb2luPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMyk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFNwYXduIEFJIGJvdFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlNwYXduQm90XG4gKi9cbmV4cG9ydCB0eXBlIFNwYXduQm90ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlNwYXduQm90XCI+ICYge1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3QuXG4gKiBVc2UgYGNyZWF0ZShTcGF3bkJvdFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU3Bhd25Cb3RTY2hlbWE6IEdlbk1lc3NhZ2U8U3Bhd25Cb3Q+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQWRkIHdheXBvaW50IHRvIHNoaXAgcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5BZGRXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBBZGRXYXlwb2ludCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5BZGRXYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAxO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMjtcbiAgICovXG4gIHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3BlZWQgPSAzO1xuICAgKi9cbiAgc3BlZWQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50LlxuICogVXNlIGBjcmVhdGUoQWRkV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEFkZFdheXBvaW50U2NoZW1hOiBHZW5NZXNzYWdlPEFkZFdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNSk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFVwZGF0ZSB3YXlwb2ludCBzcGVlZFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIFVwZGF0ZVdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDE7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZCA9IDI7XG4gICAqL1xuICBzcGVlZDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShVcGRhdGVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8VXBkYXRlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA2KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogTW92ZSB3YXlwb2ludCBwb3NpdGlvblxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1vdmVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBNb3ZlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDE7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMjtcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDM7XG4gICAqL1xuICB5OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Nb3ZlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShNb3ZlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1vdmVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxNb3ZlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA3KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogRGVsZXRlIHdheXBvaW50IGZyb20gcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBEZWxldGVXYXlwb2ludCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EZWxldGVXYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgaW5kZXggPSAxO1xuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZVdheXBvaW50LlxuICogVXNlIGBjcmVhdGUoRGVsZXRlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlbGV0ZVdheXBvaW50U2NoZW1hOiBHZW5NZXNzYWdlPERlbGV0ZVdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgOCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENsZWFyIGFsbCB3YXlwb2ludHNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5DbGVhcldheXBvaW50c1xuICovXG5leHBvcnQgdHlwZSBDbGVhcldheXBvaW50cyA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5DbGVhcldheXBvaW50c1wiPiAmIHtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyV2F5cG9pbnRzLlxuICogVXNlIGBjcmVhdGUoQ2xlYXJXYXlwb2ludHNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IENsZWFyV2F5cG9pbnRzU2NoZW1hOiBHZW5NZXNzYWdlPENsZWFyV2F5cG9pbnRzPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgOSk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENvbmZpZ3VyZSBtaXNzaWxlIHBhcmFtZXRlcnNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Db25maWd1cmVNaXNzaWxlXG4gKi9cbmV4cG9ydCB0eXBlIENvbmZpZ3VyZU1pc3NpbGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQ29uZmlndXJlTWlzc2lsZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1pc3NpbGVfc3BlZWQgPSAxO1xuICAgKi9cbiAgbWlzc2lsZVNwZWVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1pc3NpbGVfYWdybyA9IDI7XG4gICAqL1xuICBtaXNzaWxlQWdybzogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQ29uZmlndXJlTWlzc2lsZS5cbiAqIFVzZSBgY3JlYXRlKENvbmZpZ3VyZU1pc3NpbGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IENvbmZpZ3VyZU1pc3NpbGVTY2hlbWE6IEdlbk1lc3NhZ2U8Q29uZmlndXJlTWlzc2lsZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDEwKTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQWRkIHdheXBvaW50IHRvIG1pc3NpbGUgcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlV2F5cG9pbnRcbiAqL1xuZXhwb3J0IHR5cGUgQWRkTWlzc2lsZVdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVXYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDI7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSAzO1xuICAgKi9cbiAgeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZCA9IDQ7XG4gICAqL1xuICBzcGVlZDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVdheXBvaW50LlxuICogVXNlIGBjcmVhdGUoQWRkTWlzc2lsZVdheXBvaW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBBZGRNaXNzaWxlV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8QWRkTWlzc2lsZVdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTEpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBVcGRhdGUgbWlzc2lsZSB3YXlwb2ludCBzcGVlZFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkXG4gKi9cbmV4cG9ydCB0eXBlIFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMjtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gMztcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5VcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZC5cbiAqIFVzZSBgY3JlYXRlKFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBVcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZFNjaGVtYTogR2VuTWVzc2FnZTxVcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDEyKTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogTW92ZSBtaXNzaWxlIHdheXBvaW50IHBvc2l0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTW92ZU1pc3NpbGVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBNb3ZlTWlzc2lsZVdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1vdmVNaXNzaWxlV2F5cG9pbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgaW5kZXggPSAyO1xuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDM7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSA0O1xuICAgKi9cbiAgeTogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTW92ZU1pc3NpbGVXYXlwb2ludC5cbiAqIFVzZSBgY3JlYXRlKE1vdmVNaXNzaWxlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1vdmVNaXNzaWxlV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8TW92ZU1pc3NpbGVXYXlwb2ludD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDEzKTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogRGVsZXRlIG1pc3NpbGUgd2F5cG9pbnRcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlV2F5cG9pbnRcbiAqL1xuZXhwb3J0IHR5cGUgRGVsZXRlTWlzc2lsZVdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVXYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDI7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVdheXBvaW50LlxuICogVXNlIGBjcmVhdGUoRGVsZXRlTWlzc2lsZVdheXBvaW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEZWxldGVNaXNzaWxlV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8RGVsZXRlTWlzc2lsZVdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTQpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBDbGVhciBtaXNzaWxlIHJvdXRlIHdheXBvaW50c1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIENsZWFyTWlzc2lsZVJvdXRlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyTWlzc2lsZVJvdXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJNaXNzaWxlUm91dGUuXG4gKiBVc2UgYGNyZWF0ZShDbGVhck1pc3NpbGVSb3V0ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ2xlYXJNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8Q2xlYXJNaXNzaWxlUm91dGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxNSk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENyZWF0ZSBuZXcgbWlzc2lsZSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVSb3V0ZVxuICovXG5leHBvcnQgdHlwZSBBZGRNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVJvdXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlUm91dGUuXG4gKiBVc2UgYGNyZWF0ZShBZGRNaXNzaWxlUm91dGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEFkZE1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxBZGRNaXNzaWxlUm91dGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxNik7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFJlbmFtZSBtaXNzaWxlIHJvdXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUmVuYW1lTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIFJlbmFtZU1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG5hbWUgPSAyO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUmVuYW1lTWlzc2lsZVJvdXRlLlxuICogVXNlIGBjcmVhdGUoUmVuYW1lTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBSZW5hbWVNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8UmVuYW1lTWlzc2lsZVJvdXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTcpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBEZWxldGUgbWlzc2lsZSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVSb3V0ZVxuICovXG5leHBvcnQgdHlwZSBEZWxldGVNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVJvdXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVJvdXRlLlxuICogVXNlIGBjcmVhdGUoRGVsZXRlTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEZWxldGVNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8RGVsZXRlTWlzc2lsZVJvdXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTgpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBTZXQgYWN0aXZlIG1pc3NpbGUgcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TZXRBY3RpdmVNaXNzaWxlUm91dGVcbiAqL1xuZXhwb3J0IHR5cGUgU2V0QWN0aXZlTWlzc2lsZVJvdXRlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZS5cbiAqIFVzZSBgY3JlYXRlKFNldEFjdGl2ZU1pc3NpbGVSb3V0ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU2V0QWN0aXZlTWlzc2lsZVJvdXRlU2NoZW1hOiBHZW5NZXNzYWdlPFNldEFjdGl2ZU1pc3NpbGVSb3V0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDE5KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogTGF1bmNoIG1pc3NpbGUgb24gcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5MYXVuY2hNaXNzaWxlXG4gKi9cbmV4cG9ydCB0eXBlIExhdW5jaE1pc3NpbGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkxhdW5jaE1pc3NpbGUuXG4gKiBVc2UgYGNyZWF0ZShMYXVuY2hNaXNzaWxlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBMYXVuY2hNaXNzaWxlU2NoZW1hOiBHZW5NZXNzYWdlPExhdW5jaE1pc3NpbGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyMCk7XG5cbi8qKlxuICogU2hpcC9naG9zdCBzbmFwc2hvdCB3aXRoIHBvc2l0aW9uLCB2ZWxvY2l0eSwgYW5kIHN0YXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuR2hvc3RcbiAqL1xuZXhwb3J0IHR5cGUgR2hvc3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuR2hvc3RcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBpZCA9IDE7XG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMjtcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDM7XG4gICAqL1xuICB5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHZ4ID0gNDtcbiAgICovXG4gIHZ4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHZ5ID0gNTtcbiAgICovXG4gIHZ5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHQgPSA2O1xuICAgKi9cbiAgdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGJvb2wgc2VsZiA9IDc7XG4gICAqL1xuICBzZWxmOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLldheXBvaW50IHdheXBvaW50cyA9IDg7XG4gICAqL1xuICB3YXlwb2ludHM6IFdheXBvaW50W107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgY3VycmVudF93YXlwb2ludF9pbmRleCA9IDk7XG4gICAqL1xuICBjdXJyZW50V2F5cG9pbnRJbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGhwID0gMTA7XG4gICAqL1xuICBocDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGtpbGxzID0gMTE7XG4gICAqL1xuICBraWxsczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLlNoaXBIZWF0VmlldyBoZWF0ID0gMTI7XG4gICAqL1xuICBoZWF0PzogU2hpcEhlYXRWaWV3O1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuR2hvc3QuXG4gKiBVc2UgYGNyZWF0ZShHaG9zdFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgR2hvc3RTY2hlbWE6IEdlbk1lc3NhZ2U8R2hvc3Q+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyMSk7XG5cbi8qKlxuICogV2F5cG9pbnQgd2l0aCBwb3NpdGlvbiBhbmQgdGFyZ2V0IHNwZWVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnRcbiAqL1xuZXhwb3J0IHR5cGUgV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMTtcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDI7XG4gICAqL1xuICB5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gMztcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludC5cbiAqIFVzZSBgY3JlYXRlKFdheXBvaW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxXYXlwb2ludD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIyKTtcblxuLyoqXG4gKiBSb29tIGNvbnN0YW50cyAoc3BlZWQgb2YgbGlnaHQsIHdvcmxkIGRpbWVuc2lvbnMpXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGFcbiAqL1xuZXhwb3J0IHR5cGUgUm9vbU1ldGEgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGFcIj4gJiB7XG4gIC8qKlxuICAgKiBTcGVlZCBvZiBsaWdodFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBjID0gMTtcbiAgICovXG4gIGM6IG51bWJlcjtcblxuICAvKipcbiAgICogV29ybGQgd2lkdGhcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdyA9IDI7XG4gICAqL1xuICB3OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFdvcmxkIGhlaWdodFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBoID0gMztcbiAgICovXG4gIGg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlJvb21NZXRhLlxuICogVXNlIGBjcmVhdGUoUm9vbU1ldGFTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJvb21NZXRhU2NoZW1hOiBHZW5NZXNzYWdlPFJvb21NZXRhPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjMpO1xuXG4vKipcbiAqIE1pc3NpbGUgc25hcHNob3Qgd2l0aCBwb3NpdGlvbiwgdmVsb2NpdHksIGFuZCB0YXJnZXRpbmdcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3NpbGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGlkID0gMTtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG93bmVyID0gMjtcbiAgICovXG4gIG93bmVyOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogYm9vbCBzZWxmID0gMztcbiAgICovXG4gIHNlbGY6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSA0O1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gNTtcbiAgICovXG4gIHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdnggPSA2O1xuICAgKi9cbiAgdng6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdnkgPSA3O1xuICAgKi9cbiAgdnk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdCA9IDg7XG4gICAqL1xuICB0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGFncm9fcmFkaXVzID0gOTtcbiAgICovXG4gIGFncm9SYWRpdXM6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbGlmZXRpbWUgPSAxMDtcbiAgICovXG4gIGxpZmV0aW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGxhdW5jaF90aW1lID0gMTE7XG4gICAqL1xuICBsYXVuY2hUaW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGV4cGlyZXNfYXQgPSAxMjtcbiAgICovXG4gIGV4cGlyZXNBdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0YXJnZXRfaWQgPSAxMztcbiAgICovXG4gIHRhcmdldElkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3IGhlYXQgPSAxNDtcbiAgICovXG4gIGhlYXQ/OiBTaGlwSGVhdFZpZXc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlLlxuICogVXNlIGBjcmVhdGUoTWlzc2lsZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lsZVNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaWxlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjQpO1xuXG4vKipcbiAqIE1pc3NpbGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZUNvbmZpZ1xuICovXG5leHBvcnQgdHlwZSBNaXNzaWxlQ29uZmlnID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVDb25maWdcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZCA9IDE7XG4gICAqL1xuICBzcGVlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZF9taW4gPSAyO1xuICAgKi9cbiAgc3BlZWRNaW46IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3BlZWRfbWF4ID0gMztcbiAgICovXG4gIHNwZWVkTWF4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGFncm9fbWluID0gNDtcbiAgICovXG4gIGFncm9NaW46IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgYWdyb19yYWRpdXMgPSA1O1xuICAgKi9cbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBsaWZldGltZSA9IDY7XG4gICAqL1xuICBsaWZldGltZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLkhlYXRQYXJhbXMgaGVhdF9jb25maWcgPSA3O1xuICAgKi9cbiAgaGVhdENvbmZpZz86IEhlYXRQYXJhbXM7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlQ29uZmlnLlxuICogVXNlIGBjcmVhdGUoTWlzc2lsZUNvbmZpZ1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lsZUNvbmZpZ1NjaGVtYTogR2VuTWVzc2FnZTxNaXNzaWxlQ29uZmlnPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjUpO1xuXG4vKipcbiAqIE1pc3NpbGUgcm91dGUgZGVmaW5pdGlvblxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVSb3V0ZVxuICovXG5leHBvcnQgdHlwZSBNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDI7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnQgd2F5cG9pbnRzID0gMztcbiAgICovXG4gIHdheXBvaW50czogV2F5cG9pbnRbXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVSb3V0ZS5cbiAqIFVzZSBgY3JlYXRlKE1pc3NpbGVSb3V0ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lsZVJvdXRlU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3NpbGVSb3V0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDI2KTtcblxuLyoqXG4gKiBIZWF0IHZpZXcgKGFiYnJldmlhdGVkIGZpZWxkIG5hbWVzIG1hdGNoIEpTT04pXG4gKiBVc2VkIGZvciBib3RoIHNoaXBzIGFuZCBtaXNzaWxlc1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlNoaXBIZWF0Vmlld1xuICovXG5leHBvcnQgdHlwZSBTaGlwSGVhdFZpZXcgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3XCI+ICYge1xuICAvKipcbiAgICogdmFsdWVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdiA9IDE7XG4gICAqL1xuICB2OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIG1heFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtID0gMjtcbiAgICovXG4gIG06IG51bWJlcjtcblxuICAvKipcbiAgICogd2FybkF0XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHcgPSAzO1xuICAgKi9cbiAgdzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBvdmVyaGVhdEF0XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG8gPSA0O1xuICAgKi9cbiAgbzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBtYXJrZXJTcGVlZFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtcyA9IDU7XG4gICAqL1xuICBtczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBzdGFsbFVudGlsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHN1ID0gNjtcbiAgICovXG4gIHN1OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGtVcFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBrdSA9IDc7XG4gICAqL1xuICBrdTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBrRG93blxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBrZCA9IDg7XG4gICAqL1xuICBrZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBleHBcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZXggPSA5O1xuICAgKi9cbiAgZXg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlNoaXBIZWF0Vmlldy5cbiAqIFVzZSBgY3JlYXRlKFNoaXBIZWF0Vmlld1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU2hpcEhlYXRWaWV3U2NoZW1hOiBHZW5NZXNzYWdlPFNoaXBIZWF0Vmlldz4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDI3KTtcblxuLyoqXG4gKiBIZWF0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyc1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkhlYXRQYXJhbXNcbiAqL1xuZXhwb3J0IHR5cGUgSGVhdFBhcmFtcyA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5IZWF0UGFyYW1zXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWF4ID0gMTtcbiAgICovXG4gIG1heDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB3YXJuX2F0ID0gMjtcbiAgICovXG4gIHdhcm5BdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBvdmVyaGVhdF9hdCA9IDM7XG4gICAqL1xuICBvdmVyaGVhdEF0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1hcmtlcl9zcGVlZCA9IDQ7XG4gICAqL1xuICBtYXJrZXJTcGVlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBrX3VwID0gNTtcbiAgICovXG4gIGtVcDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBrX2Rvd24gPSA2O1xuICAgKi9cbiAga0Rvd246IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZXhwID0gNztcbiAgICovXG4gIGV4cDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSGVhdFBhcmFtcy5cbiAqIFVzZSBgY3JlYXRlKEhlYXRQYXJhbXNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEhlYXRQYXJhbXNTY2hlbWE6IEdlbk1lc3NhZ2U8SGVhdFBhcmFtcz4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDI4KTtcblxuLyoqXG4gKiBVcGdyYWRlIGVmZmVjdCBkZWZpbml0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFxuICovXG5leHBvcnQgdHlwZSBVcGdyYWRlRWZmZWN0ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3RcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3RUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogVXBncmFkZUVmZmVjdFR5cGU7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBvbmVvZiBsaWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0LnZhbHVlXG4gICAqL1xuICB2YWx1ZToge1xuICAgIC8qKlxuICAgICAqIEZvciBzcGVlZC9oZWF0IG11bHRpcGxpZXJzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtdWx0aXBsaWVyID0gMjtcbiAgICAgKi9cbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIGNhc2U6IFwibXVsdGlwbGllclwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEZvciBtaXNzaWxlIHVubG9ja3MgKGUuZy4sIFwic2NvdXRcIilcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHVubG9ja19pZCA9IDM7XG4gICAgICovXG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBjYXNlOiBcInVubG9ja0lkXCI7XG4gIH0gfCB7IGNhc2U6IHVuZGVmaW5lZDsgdmFsdWU/OiB1bmRlZmluZWQgfTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3QuXG4gKiBVc2UgYGNyZWF0ZShVcGdyYWRlRWZmZWN0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBVcGdyYWRlRWZmZWN0U2NoZW1hOiBHZW5NZXNzYWdlPFVwZ3JhZGVFZmZlY3Q+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyOSk7XG5cbi8qKlxuICogUGxheWVyIGNhcGFiaWxpdGllcyAoY29tcHV0ZWQgZnJvbSBjb21wbGV0ZWQgdXBncmFkZXMpXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUGxheWVyQ2FwYWJpbGl0aWVzXG4gKi9cbmV4cG9ydCB0eXBlIFBsYXllckNhcGFiaWxpdGllcyA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5QbGF5ZXJDYXBhYmlsaXRpZXNcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZF9tdWx0aXBsaWVyID0gMTtcbiAgICovXG4gIHNwZWVkTXVsdGlwbGllcjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIHN0cmluZyB1bmxvY2tlZF9taXNzaWxlcyA9IDI7XG4gICAqL1xuICB1bmxvY2tlZE1pc3NpbGVzOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaGVhdF9jYXBhY2l0eSA9IDM7XG4gICAqL1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaGVhdF9lZmZpY2llbmN5ID0gNDtcbiAgICovXG4gIGhlYXRFZmZpY2llbmN5OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5QbGF5ZXJDYXBhYmlsaXRpZXMuXG4gKiBVc2UgYGNyZWF0ZShQbGF5ZXJDYXBhYmlsaXRpZXNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFBsYXllckNhcGFiaWxpdGllc1NjaGVtYTogR2VuTWVzc2FnZTxQbGF5ZXJDYXBhYmlsaXRpZXM+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzMCk7XG5cbi8qKlxuICogREFHIG5vZGUgc3RhdGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlXG4gKi9cbmV4cG9ydCB0eXBlIERhZ05vZGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGlkID0gMTtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZUtpbmQga2luZCA9IDI7XG4gICAqL1xuICBraW5kOiBEYWdOb2RlS2luZDtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbGFiZWwgPSAzO1xuICAgKi9cbiAgbGFiZWw6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlU3RhdHVzIHN0YXR1cyA9IDQ7XG4gICAqL1xuICBzdGF0dXM6IERhZ05vZGVTdGF0dXM7XG5cbiAgLyoqXG4gICAqIFRpbWUgcmVtYWluaW5nIGZvciBpbi1wcm9ncmVzcyBqb2JzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHJlbWFpbmluZ19zID0gNTtcbiAgICovXG4gIHJlbWFpbmluZ1M6IG51bWJlcjtcblxuICAvKipcbiAgICogVG90YWwgZHVyYXRpb25cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZHVyYXRpb25fcyA9IDY7XG4gICAqL1xuICBkdXJhdGlvblM6IG51bWJlcjtcblxuICAvKipcbiAgICogQ2FuIGJlIHJlcGVhdGVkIGFmdGVyIGNvbXBsZXRpb25cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBib29sIHJlcGVhdGFibGUgPSA3O1xuICAgKi9cbiAgcmVwZWF0YWJsZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogT25seSBwb3B1bGF0ZWQgZm9yIHVwZ3JhZGUgbm9kZXNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0IGVmZmVjdHMgPSA4O1xuICAgKi9cbiAgZWZmZWN0czogVXBncmFkZUVmZmVjdFtdO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZS5cbiAqIFVzZSBgY3JlYXRlKERhZ05vZGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ05vZGVTY2hlbWE6IEdlbk1lc3NhZ2U8RGFnTm9kZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDMxKTtcblxuLyoqXG4gKiBGdWxsIERBRyBzdGF0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlXG4gKi9cbmV4cG9ydCB0eXBlIERhZ1N0YXRlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlIG5vZGVzID0gMTtcbiAgICovXG4gIG5vZGVzOiBEYWdOb2RlW107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdTdGF0ZS5cbiAqIFVzZSBgY3JlYXRlKERhZ1N0YXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdTdGF0ZVNjaGVtYTogR2VuTWVzc2FnZTxEYWdTdGF0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDMyKTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogU3RhcnQgYSBEQUcgbm9kZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0XG4gKi9cbmV4cG9ydCB0eXBlIERhZ1N0YXJ0ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbm9kZV9pZCA9IDE7XG4gICAqL1xuICBub2RlSWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0LlxuICogVXNlIGBjcmVhdGUoRGFnU3RhcnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ1N0YXJ0U2NoZW1hOiBHZW5NZXNzYWdlPERhZ1N0YXJ0PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzMpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBDYW5jZWwgYSBEQUcgbm9kZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0NhbmNlbFxuICovXG5leHBvcnQgdHlwZSBEYWdDYW5jZWwgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnQ2FuY2VsXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbm9kZV9pZCA9IDE7XG4gICAqL1xuICBub2RlSWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0NhbmNlbC5cbiAqIFVzZSBgY3JlYXRlKERhZ0NhbmNlbFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnQ2FuY2VsU2NoZW1hOiBHZW5NZXNzYWdlPERhZ0NhbmNlbD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM0KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQWNrbm93bGVkZ2Ugc3RvcnkgZGlhbG9ndWVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFja1xuICovXG5leHBvcnQgdHlwZSBEYWdTdG9yeUFjayA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFja1wiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG5vZGVfaWQgPSAxO1xuICAgKi9cbiAgbm9kZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEVtcHR5IGlmIGp1c3QgY29udGludWUgKG5vIGNob2ljZSlcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgY2hvaWNlX2lkID0gMjtcbiAgICovXG4gIGNob2ljZUlkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFjay5cbiAqIFVzZSBgY3JlYXRlKERhZ1N0b3J5QWNrU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdTdG9yeUFja1NjaGVtYTogR2VuTWVzc2FnZTxEYWdTdG9yeUFjaz4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM1KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogUmVxdWVzdCBmdWxsIERBRyBsaXN0XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFxuICovXG5leHBvcnQgdHlwZSBEYWdMaXN0ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RcIj4gJiB7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdMaXN0LlxuICogVXNlIGBjcmVhdGUoRGFnTGlzdFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnTGlzdFNjaGVtYTogR2VuTWVzc2FnZTxEYWdMaXN0PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzYpO1xuXG4vKipcbiAqIFNlcnZlciBcdTIxOTIgQ2xpZW50OiBEQUcgbGlzdCByZXNwb25zZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZVxuICovXG5leHBvcnQgdHlwZSBEYWdMaXN0UmVzcG9uc2UgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFJlc3BvbnNlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdTdGF0ZSBkYWcgPSAxO1xuICAgKi9cbiAgZGFnPzogRGFnU3RhdGU7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdMaXN0UmVzcG9uc2UuXG4gKiBVc2UgYGNyZWF0ZShEYWdMaXN0UmVzcG9uc2VTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ0xpc3RSZXNwb25zZVNjaGVtYTogR2VuTWVzc2FnZTxEYWdMaXN0UmVzcG9uc2U+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzNyk7XG5cbi8qKlxuICogSW52ZW50b3J5IGl0ZW1cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnlJdGVtXG4gKi9cbmV4cG9ydCB0eXBlIEludmVudG9yeUl0ZW0gPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5SXRlbVwiPiAmIHtcbiAgLyoqXG4gICAqIFwibWlzc2lsZVwiLCBcImNvbXBvbmVudFwiLCBldGMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpYyB2YXJpYW50IGlkZW50aWZpZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdmFyaWFudF9pZCA9IDI7XG4gICAqL1xuICB2YXJpYW50SWQ6IHN0cmluZztcblxuICAvKipcbiAgICogSGVhdCBjYXBhY2l0eSBmb3IgdGhpcyBpdGVtXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGhlYXRfY2FwYWNpdHkgPSAzO1xuICAgKi9cbiAgaGVhdENhcGFjaXR5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFN0YWNrIHF1YW50aXR5XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgcXVhbnRpdHkgPSA0O1xuICAgKi9cbiAgcXVhbnRpdHk6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW0uXG4gKiBVc2UgYGNyZWF0ZShJbnZlbnRvcnlJdGVtU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBJbnZlbnRvcnlJdGVtU2NoZW1hOiBHZW5NZXNzYWdlPEludmVudG9yeUl0ZW0+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzOCk7XG5cbi8qKlxuICogUGxheWVyIGludmVudG9yeVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeVxuICovXG5leHBvcnQgdHlwZSBJbnZlbnRvcnkgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnlJdGVtIGl0ZW1zID0gMTtcbiAgICovXG4gIGl0ZW1zOiBJbnZlbnRvcnlJdGVtW107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnkuXG4gKiBVc2UgYGNyZWF0ZShJbnZlbnRvcnlTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEludmVudG9yeVNjaGVtYTogR2VuTWVzc2FnZTxJbnZlbnRvcnk+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzOSk7XG5cbi8qKlxuICogU3RvcnkgZGlhbG9ndWUgY2hvaWNlIG9wdGlvblxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2VcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlEaWFsb2d1ZUNob2ljZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlQ2hvaWNlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdGV4dCA9IDI7XG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlQ2hvaWNlLlxuICogVXNlIGBjcmVhdGUoU3RvcnlEaWFsb2d1ZUNob2ljZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU3RvcnlEaWFsb2d1ZUNob2ljZVNjaGVtYTogR2VuTWVzc2FnZTxTdG9yeURpYWxvZ3VlQ2hvaWNlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDApO1xuXG4vKipcbiAqIFN0b3J5IHR1dG9yaWFsIHRpcFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5VHV0b3JpYWxUaXBcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlUdXRvcmlhbFRpcCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeVR1dG9yaWFsVGlwXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdGl0bGUgPSAxO1xuICAgKi9cbiAgdGl0bGU6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdGV4dCA9IDI7XG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeVR1dG9yaWFsVGlwLlxuICogVXNlIGBjcmVhdGUoU3RvcnlUdXRvcmlhbFRpcFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU3RvcnlUdXRvcmlhbFRpcFNjaGVtYTogR2VuTWVzc2FnZTxTdG9yeVR1dG9yaWFsVGlwPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDEpO1xuXG4vKipcbiAqIFN0b3J5IGRpYWxvZ3VlIGNvbnRlbnRcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlXG4gKi9cbmV4cG9ydCB0eXBlIFN0b3J5RGlhbG9ndWUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHNwZWFrZXIgPSAxO1xuICAgKi9cbiAgc3BlYWtlcjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0ZXh0ID0gMjtcbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5TdG9yeUludGVudCBpbnRlbnQgPSAzO1xuICAgKi9cbiAgaW50ZW50OiBTdG9yeUludGVudDtcblxuICAvKipcbiAgICogRW1wdHkgPSBkZWZhdWx0IFwiQ29udGludWVcIlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBjb250aW51ZV9sYWJlbCA9IDQ7XG4gICAqL1xuICBjb250aW51ZUxhYmVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEVtcHR5ID0gc2hvdyBjb250aW51ZSBidXR0b25cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlQ2hvaWNlIGNob2ljZXMgPSA1O1xuICAgKi9cbiAgY2hvaWNlczogU3RvcnlEaWFsb2d1ZUNob2ljZVtdO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBnYW1lcGxheSBoaW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlUdXRvcmlhbFRpcCB0dXRvcmlhbF90aXAgPSA2O1xuICAgKi9cbiAgdHV0b3JpYWxUaXA/OiBTdG9yeVR1dG9yaWFsVGlwO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZS5cbiAqIFVzZSBgY3JlYXRlKFN0b3J5RGlhbG9ndWVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3J5RGlhbG9ndWVTY2hlbWE6IEdlbk1lc3NhZ2U8U3RvcnlEaWFsb2d1ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQyKTtcblxuLyoqXG4gKiBTdG9yeSBldmVudCAoaGlzdG9yeSBlbnRyeSlcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeUV2ZW50XG4gKi9cbmV4cG9ydCB0eXBlIFN0b3J5RXZlbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlFdmVudFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGNoYXB0ZXJfaWQgPSAxO1xuICAgKi9cbiAgY2hhcHRlcklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG5vZGVfaWQgPSAyO1xuICAgKi9cbiAgbm9kZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHRpbWVzdGFtcCA9IDM7XG4gICAqL1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RXZlbnQuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeUV2ZW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeUV2ZW50U2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5RXZlbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0Myk7XG5cbi8qKlxuICogU3Rvcnkgc3RhdGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeVN0YXRlXG4gKi9cbmV4cG9ydCB0eXBlIFN0b3J5U3RhdGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlTdGF0ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEN1cnJlbnRseSBhY3RpdmUgc3Rvcnkgbm9kZSBJRFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBhY3RpdmVfbm9kZSA9IDE7XG4gICAqL1xuICBhY3RpdmVOb2RlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZ1bGwgZGlhbG9ndWUgY29udGVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWUgZGlhbG9ndWUgPSAyO1xuICAgKi9cbiAgZGlhbG9ndWU/OiBTdG9yeURpYWxvZ3VlO1xuXG4gIC8qKlxuICAgKiBBdmFpbGFibGUgc3Rvcnkgbm9kZSBJRHNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgYXZhaWxhYmxlID0gMztcbiAgICovXG4gIGF2YWlsYWJsZTogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFN0b3J5IGZsYWdzIGZvciBicmFuY2hpbmdcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBtYXA8c3RyaW5nLCBib29sPiBmbGFncyA9IDQ7XG4gICAqL1xuICBmbGFnczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XG5cbiAgLyoqXG4gICAqIFJlY2VudCBzdG9yeSBldmVudHNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5TdG9yeUV2ZW50IHJlY2VudF9ldmVudHMgPSA1O1xuICAgKi9cbiAgcmVjZW50RXZlbnRzOiBTdG9yeUV2ZW50W107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeVN0YXRlLlxuICogVXNlIGBjcmVhdGUoU3RvcnlTdGF0ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU3RvcnlTdGF0ZVNjaGVtYTogR2VuTWVzc2FnZTxTdG9yeVN0YXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDQpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBTcGF3biBtaXNzaW9uIHdhdmVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3Bhd25XYXZlXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3Npb25TcGF3bldhdmUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblNwYXduV2F2ZVwiPiAmIHtcbiAgLyoqXG4gICAqIDEsIDIsIG9yIDNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiB3YXZlX2luZGV4ID0gMTtcbiAgICovXG4gIHdhdmVJbmRleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblNwYXduV2F2ZS5cbiAqIFVzZSBgY3JlYXRlKE1pc3Npb25TcGF3bldhdmVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25TcGF3bldhdmVTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvblNwYXduV2F2ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQ1KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogVHJpZ2dlciBtaXNzaW9uIHN0b3J5IGV2ZW50XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnRcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvblN0b3J5RXZlbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBlLmcuIFwibWlzc2lvbjpzdGFydFwiLCBcIm1pc3Npb246YmVhY29uLWxvY2tlZFwiXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGV2ZW50ID0gMTtcbiAgICovXG4gIGV2ZW50OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEJlYWNvbiBpbmRleCBmb3IgYmVhY29uLXNwZWNpZmljIGV2ZW50c1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGJlYWNvbiA9IDI7XG4gICAqL1xuICBiZWFjb246IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TdG9yeUV2ZW50LlxuICogVXNlIGBjcmVhdGUoTWlzc2lvblN0b3J5RXZlbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25TdG9yeUV2ZW50U2NoZW1hOiBHZW5NZXNzYWdlPE1pc3Npb25TdG9yeUV2ZW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDYpO1xuXG4vKipcbiAqIFNlcnZlciBcdTIxOTIgQ2xpZW50OiBNaXNzaW9uIGJlYWNvbiBhdXRob3JpdGF0aXZlIHNuYXBzaG90XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblNuYXBzaG90XG4gKi9cbmV4cG9ydCB0eXBlIE1pc3Npb25CZWFjb25TbmFwc2hvdCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uU25hcHNob3RcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBtaXNzaW9uX2lkID0gMTtcbiAgICovXG4gIG1pc3Npb25JZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHVpbnQ2NCBsYXlvdXRfc2VlZCA9IDI7XG4gICAqL1xuICBsYXlvdXRTZWVkOiBiaWdpbnQ7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNlcnZlcl90aW1lID0gMztcbiAgICovXG4gIHNlcnZlclRpbWU6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVmaW5pdGlvbiBiZWFjb25zID0gNDtcbiAgICovXG4gIGJlYWNvbnM6IE1pc3Npb25CZWFjb25EZWZpbml0aW9uW107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllciBwbGF5ZXJzID0gNTtcbiAgICovXG4gIHBsYXllcnM6IE1pc3Npb25CZWFjb25QbGF5ZXJbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyIGVuY291bnRlcnMgPSA2O1xuICAgKi9cbiAgZW5jb3VudGVyczogTWlzc2lvbkJlYWNvbkVuY291bnRlcltdO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblNuYXBzaG90LlxuICogVXNlIGBjcmVhdGUoTWlzc2lvbkJlYWNvblNuYXBzaG90U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uU25hcHNob3RTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvbkJlYWNvblNuYXBzaG90PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDcpO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWZpbml0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3Npb25CZWFjb25EZWZpbml0aW9uID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWZpbml0aW9uXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBvcmRpbmFsID0gMjtcbiAgICovXG4gIG9yZGluYWw6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDM7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSA0O1xuICAgKi9cbiAgeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSByYWRpdXMgPSA1O1xuICAgKi9cbiAgcmFkaXVzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50NjQgc2VlZCA9IDY7XG4gICAqL1xuICBzZWVkOiBiaWdpbnQ7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVmaW5pdGlvbi5cbiAqIFVzZSBgY3JlYXRlKE1pc3Npb25CZWFjb25EZWZpbml0aW9uU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uRGVmaW5pdGlvblNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uQmVhY29uRGVmaW5pdGlvbj4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQ4KTtcblxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3Npb25CZWFjb25QbGF5ZXIgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllclwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHBsYXllcl9pZCA9IDE7XG4gICAqL1xuICBwbGF5ZXJJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGN1cnJlbnRfaW5kZXggPSAyO1xuICAgKi9cbiAgY3VycmVudEluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGhvbGRfYWNjdW0gPSAzO1xuICAgKi9cbiAgaG9sZEFjY3VtOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGhvbGRfcmVxdWlyZWQgPSA0O1xuICAgKi9cbiAgaG9sZFJlcXVpcmVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGFjdGl2ZV9iZWFjb24gPSA1O1xuICAgKi9cbiAgYWN0aXZlQmVhY29uOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGRpc2NvdmVyZWQgPSA2O1xuICAgKi9cbiAgZGlzY292ZXJlZDogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGNvbXBsZXRlZCA9IDc7XG4gICAqL1xuICBjb21wbGV0ZWQ6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG1hcDxzdHJpbmcsIGRvdWJsZT4gY29vbGRvd25zID0gODtcbiAgICovXG4gIGNvb2xkb3duczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25QbGF5ZXIuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uQmVhY29uUGxheWVyU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uUGxheWVyU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3Npb25CZWFjb25QbGF5ZXI+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0OSk7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IGluY3JlbWVudGFsIG1pc3Npb24gYmVhY29uIHVwZGF0ZXNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVsdGFcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvbkJlYWNvbkRlbHRhID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllckRlbHRhIHBsYXllcnMgPSAxO1xuICAgKi9cbiAgcGxheWVyczogTWlzc2lvbkJlYWNvblBsYXllckRlbHRhW107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50IGVuY291bnRlcnMgPSAyO1xuICAgKi9cbiAgZW5jb3VudGVyczogTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50W107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVsdGEuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uQmVhY29uRGVsdGFTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25CZWFjb25EZWx0YVNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uQmVhY29uRGVsdGE+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA1MCk7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllckRlbHRhXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3Npb25CZWFjb25QbGF5ZXJEZWx0YSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyRGVsdGFcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YVR5cGUgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBNaXNzaW9uQmVhY29uRGVsdGFUeXBlO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBwbGF5ZXJfaWQgPSAyO1xuICAgKi9cbiAgcGxheWVySWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgYmVhY29uX2lkID0gMztcbiAgICovXG4gIGJlYWNvbklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgb3JkaW5hbCA9IDQ7XG4gICAqL1xuICBvcmRpbmFsOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGhvbGRfYWNjdW0gPSA1O1xuICAgKi9cbiAgaG9sZEFjY3VtOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGhvbGRfcmVxdWlyZWQgPSA2O1xuICAgKi9cbiAgaG9sZFJlcXVpcmVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGNvb2xkb3duX3VudGlsID0gNztcbiAgICovXG4gIGNvb2xkb3duVW50aWw6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc2VydmVyX3RpbWUgPSA4O1xuICAgKi9cbiAgc2VydmVyVGltZTogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllckRlbHRhLlxuICogVXNlIGBjcmVhdGUoTWlzc2lvbkJlYWNvblBsYXllckRlbHRhU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uUGxheWVyRGVsdGFTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvbkJlYWNvblBsYXllckRlbHRhPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNTEpO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25FbmNvdW50ZXJcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvbkJlYWNvbkVuY291bnRlciA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgZW5jb3VudGVyX2lkID0gMTtcbiAgICovXG4gIGVuY291bnRlcklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGJlYWNvbl9pZCA9IDI7XG4gICAqL1xuICBiZWFjb25JZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIHdhdmVfaW5kZXggPSAzO1xuICAgKi9cbiAgd2F2ZUluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwYXduZWRfYXQgPSA0O1xuICAgKi9cbiAgc3Bhd25lZEF0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGV4cGlyZXNfYXQgPSA1O1xuICAgKi9cbiAgZXhwaXJlc0F0OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyLlxuICogVXNlIGBjcmVhdGUoTWlzc2lvbkJlYWNvbkVuY291bnRlclNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvbkJlYWNvbkVuY291bnRlclNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uQmVhY29uRW5jb3VudGVyPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNTIpO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25FbmNvdW50ZXJFdmVudFxuICovXG5leHBvcnQgdHlwZSBNaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgZW5jb3VudGVyX2lkID0gMjtcbiAgICovXG4gIGVuY291bnRlcklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGJlYWNvbl9pZCA9IDM7XG4gICAqL1xuICBiZWFjb25JZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIHdhdmVfaW5kZXggPSA0O1xuICAgKi9cbiAgd2F2ZUluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwYXduZWRfYXQgPSA1O1xuICAgKi9cbiAgc3Bhd25lZEF0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGV4cGlyZXNfYXQgPSA2O1xuICAgKi9cbiAgZXhwaXJlc0F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJlYXNvbiA9IDc7XG4gICAqL1xuICByZWFzb246IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25FbmNvdW50ZXJFdmVudC5cbiAqIFVzZSBgY3JlYXRlKE1pc3Npb25CZWFjb25FbmNvdW50ZXJFdmVudFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50U2NoZW1hOiBHZW5NZXNzYWdlPE1pc3Npb25CZWFjb25FbmNvdW50ZXJFdmVudD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDUzKTtcblxuLyoqXG4gKiBEQUcgbm9kZSBzdGF0dXMgZW51bVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVTdGF0dXNcbiAqL1xuZXhwb3J0IGVudW0gRGFnTm9kZVN0YXR1cyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfU1RBVFVTX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX1NUQVRVU19MT0NLRUQgPSAxO1xuICAgKi9cbiAgTE9DS0VEID0gMSxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX1NUQVRVU19BVkFJTEFCTEUgPSAyO1xuICAgKi9cbiAgQVZBSUxBQkxFID0gMixcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX1NUQVRVU19JTl9QUk9HUkVTUyA9IDM7XG4gICAqL1xuICBJTl9QUk9HUkVTUyA9IDMsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9TVEFUVVNfQ09NUExFVEVEID0gNDtcbiAgICovXG4gIENPTVBMRVRFRCA9IDQsXG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVTdGF0dXMuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdOb2RlU3RhdHVzU2NoZW1hOiBHZW5FbnVtPERhZ05vZGVTdGF0dXM+ID0gLypAX19QVVJFX18qL1xuICBlbnVtRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAwKTtcblxuLyoqXG4gKiBEQUcgbm9kZSBraW5kIGVudW1cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlS2luZFxuICovXG5leHBvcnQgZW51bSBEYWdOb2RlS2luZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfS0lORF9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9LSU5EX0ZBQ1RPUlkgPSAxO1xuICAgKi9cbiAgRkFDVE9SWSA9IDEsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9LSU5EX1VOSVQgPSAyO1xuICAgKi9cbiAgVU5JVCA9IDIsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9LSU5EX1NUT1JZID0gMztcbiAgICovXG4gIFNUT1JZID0gMyxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX0tJTkRfQ1JBRlQgPSA0O1xuICAgKi9cbiAgQ1JBRlQgPSA0LFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlS2luZC5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ05vZGVLaW5kU2NoZW1hOiBHZW5FbnVtPERhZ05vZGVLaW5kPiA9IC8qQF9fUFVSRV9fKi9cbiAgZW51bURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMSk7XG5cbi8qKlxuICogVXBncmFkZSBlZmZlY3QgdHlwZSBlbnVtXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFR5cGVcbiAqL1xuZXhwb3J0IGVudW0gVXBncmFkZUVmZmVjdFR5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVQR1JBREVfRUZGRUNUX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVVBHUkFERV9FRkZFQ1RfVFlQRV9TUEVFRF9NVUxUSVBMSUVSID0gMTtcbiAgICovXG4gIFNQRUVEX01VTFRJUExJRVIgPSAxLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVVBHUkFERV9FRkZFQ1RfVFlQRV9NSVNTSUxFX1VOTE9DSyA9IDI7XG4gICAqL1xuICBNSVNTSUxFX1VOTE9DSyA9IDIsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVUEdSQURFX0VGRkVDVF9UWVBFX0hFQVRfQ0FQQUNJVFkgPSAzO1xuICAgKi9cbiAgSEVBVF9DQVBBQ0lUWSA9IDMsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVUEdSQURFX0VGRkVDVF9UWVBFX0hFQVRfRUZGSUNJRU5DWSA9IDQ7XG4gICAqL1xuICBIRUFUX0VGRklDSUVOQ1kgPSA0LFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBsaWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0VHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVwZ3JhZGVFZmZlY3RUeXBlU2NoZW1hOiBHZW5FbnVtPFVwZ3JhZGVFZmZlY3RUeXBlPiA9IC8qQF9fUFVSRV9fKi9cbiAgZW51bURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMik7XG5cbi8qKlxuICogU3RvcnkgaW50ZW50IGVudW1cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeUludGVudFxuICovXG5leHBvcnQgZW51bSBTdG9yeUludGVudCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RPUllfSU5URU5UX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUT1JZX0lOVEVOVF9GQUNUT1JZID0gMTtcbiAgICovXG4gIEZBQ1RPUlkgPSAxLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RPUllfSU5URU5UX1VOSVQgPSAyO1xuICAgKi9cbiAgVU5JVCA9IDIsXG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5SW50ZW50LlxuICovXG5leHBvcnQgY29uc3QgU3RvcnlJbnRlbnRTY2hlbWE6IEdlbkVudW08U3RvcnlJbnRlbnQ+ID0gLypAX19QVVJFX18qL1xuICBlbnVtRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzKTtcblxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVsdGFUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIE1pc3Npb25CZWFjb25EZWx0YVR5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fQkVBQ09OX0RFTFRBX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIE1JU1NJT05fQkVBQ09OX0RFTFRBX1VOU1BFQ0lGSUVEID0gMCxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fQkVBQ09OX0RFTFRBX0RJU0NPVkVSRUQgPSAxO1xuICAgKi9cbiAgTUlTU0lPTl9CRUFDT05fREVMVEFfRElTQ09WRVJFRCA9IDEsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0JFQUNPTl9ERUxUQV9IT0xEX1BST0dSRVNTID0gMjtcbiAgICovXG4gIE1JU1NJT05fQkVBQ09OX0RFTFRBX0hPTERfUFJPR1JFU1MgPSAyLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9CRUFDT05fREVMVEFfSE9MRF9SRVNFVCA9IDM7XG4gICAqL1xuICBNSVNTSU9OX0JFQUNPTl9ERUxUQV9IT0xEX1JFU0VUID0gMyxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fQkVBQ09OX0RFTFRBX0xPQ0tFRCA9IDQ7XG4gICAqL1xuICBNSVNTSU9OX0JFQUNPTl9ERUxUQV9MT0NLRUQgPSA0LFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9CRUFDT05fREVMVEFfQ09PTERPV04gPSA1O1xuICAgKi9cbiAgTUlTU0lPTl9CRUFDT05fREVMVEFfQ09PTERPV04gPSA1LFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9CRUFDT05fREVMVEFfTUlTU0lPTl9DT01QTEVURUQgPSA2O1xuICAgKi9cbiAgTUlTU0lPTl9CRUFDT05fREVMVEFfTUlTU0lPTl9DT01QTEVURUQgPSA2LFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVsdGFUeXBlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvbkJlYWNvbkRlbHRhVHlwZVNjaGVtYTogR2VuRW51bTxNaXNzaW9uQmVhY29uRGVsdGFUeXBlPiA9IC8qQF9fUFVSRV9fKi9cbiAgZW51bURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNCk7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZVxuICovXG5leHBvcnQgZW51bSBNaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9VTlNQRUNJRklFRCA9IDAsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9TUEFXTkVEID0gMTtcbiAgICovXG4gIE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1NQQVdORUQgPSAxLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfQ0xFQVJFRCA9IDI7XG4gICAqL1xuICBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9DTEVBUkVEID0gMixcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1RJTUVPVVQgPSAzO1xuICAgKi9cbiAgTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfVElNRU9VVCA9IDMsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9QVVJHRUQgPSA0O1xuICAgKi9cbiAgTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfUFVSR0VEID0gNCxcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGVTY2hlbWE6IEdlbkVudW08TWlzc2lvbkVuY291bnRlckV2ZW50VHlwZT4gPSAvKkBfX1BVUkVfXyovXG4gIGVudW1EZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDUpO1xuXG4iLCAiLy8gUHJvdG9idWYgY29udmVyc2lvbiBoZWxwZXJzXG5pbXBvcnQgdHlwZSB7XG4gIEdob3N0LFxuICBNaXNzaWxlLFxuICBTdGF0ZVVwZGF0ZSxcbiAgRGFnTm9kZSxcbiAgRGFnU3RhdGUsXG4gIEludmVudG9yeUl0ZW0sXG4gIEludmVudG9yeSxcbiAgU3RvcnlTdGF0ZSxcbiAgU3RvcnlEaWFsb2d1ZSxcbiAgU3RvcnlFdmVudCxcbiAgU3RvcnlEaWFsb2d1ZUNob2ljZSxcbiAgU3RvcnlUdXRvcmlhbFRpcCxcbiAgVXBncmFkZUVmZmVjdCxcbiAgUGxheWVyQ2FwYWJpbGl0aWVzLFxufSBmcm9tICcuL3Byb3RvL3Byb3RvL3dzX21lc3NhZ2VzX3BiJztcbi8vIEltcG9ydCBlbnVtcyBhcyB2YWx1ZXMsIG5vdCB0eXBlc1xuaW1wb3J0IHtcbiAgRGFnTm9kZVN0YXR1cyxcbiAgRGFnTm9kZUtpbmQsXG4gIFN0b3J5SW50ZW50LFxufSBmcm9tICcuL3Byb3RvL3Byb3RvL3dzX21lc3NhZ2VzX3BiJztcblxuLy8gQWRhcHRlciB0eXBlcyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGV4aXN0aW5nIGNvZGVcbmV4cG9ydCBpbnRlcmZhY2UgR2hvc3RTbmFwc2hvdCB7XG4gIGlkOiBzdHJpbmc7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB2eDogbnVtYmVyO1xuICB2eTogbnVtYmVyO1xuICB0OiBudW1iZXI7XG4gIHNlbGY6IGJvb2xlYW47XG4gIHdheXBvaW50cz86IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IHNwZWVkOiBudW1iZXIgfVtdO1xuICBjdXJyZW50V2F5cG9pbnRJbmRleD86IG51bWJlcjtcbiAgaHA6IG51bWJlcjtcbiAga2lsbHM6IG51bWJlcjtcbiAgaGVhdD86IHtcbiAgICB2OiBudW1iZXI7XG4gICAgbTogbnVtYmVyO1xuICAgIHc6IG51bWJlcjtcbiAgICBvOiBudW1iZXI7XG4gICAgbXM6IG51bWJlcjtcbiAgICBzdTogbnVtYmVyO1xuICAgIGt1OiBudW1iZXI7XG4gICAga2Q6IG51bWJlcjtcbiAgICBleDogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVTbmFwc2hvdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG93bmVyOiBzdHJpbmc7XG4gIHNlbGY6IGJvb2xlYW47XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB2eDogbnVtYmVyO1xuICB2eTogbnVtYmVyO1xuICB0OiBudW1iZXI7XG4gIGFncm9SYWRpdXM6IG51bWJlcjtcbiAgbGlmZXRpbWU6IG51bWJlcjtcbiAgbGF1bmNoOiBudW1iZXI7XG4gIGV4cGlyZXM6IG51bWJlcjtcbiAgdGFyZ2V0SWQ/OiBzdHJpbmc7XG4gIGhlYXQ/OiB7XG4gICAgdjogbnVtYmVyO1xuICAgIG06IG51bWJlcjtcbiAgICB3OiBudW1iZXI7XG4gICAgbzogbnVtYmVyO1xuICAgIG1zOiBudW1iZXI7XG4gICAgc3U6IG51bWJlcjtcbiAgICBrdTogbnVtYmVyO1xuICAgIGtkOiBudW1iZXI7XG4gICAgZXg6IG51bWJlcjtcbiAgfTtcbn1cblxuLy8gQ29udmVydCBwcm90byBHaG9zdCB0byBHaG9zdFNuYXBzaG90XG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub0dob3N0KHByb3RvOiBHaG9zdCk6IEdob3N0U25hcHNob3Qge1xuICByZXR1cm4ge1xuICAgIGlkOiBwcm90by5pZCxcbiAgICB4OiBwcm90by54LFxuICAgIHk6IHByb3RvLnksXG4gICAgdng6IHByb3RvLnZ4LFxuICAgIHZ5OiBwcm90by52eSxcbiAgICB0OiBwcm90by50LFxuICAgIHNlbGY6IHByb3RvLnNlbGYsXG4gICAgd2F5cG9pbnRzOiBwcm90by53YXlwb2ludHM/Lm1hcCh3cCA9PiAoeyB4OiB3cC54LCB5OiB3cC55LCBzcGVlZDogd3Auc3BlZWQgfSkpLFxuICAgIGN1cnJlbnRXYXlwb2ludEluZGV4OiBwcm90by5jdXJyZW50V2F5cG9pbnRJbmRleCxcbiAgICBocDogcHJvdG8uaHAsXG4gICAga2lsbHM6IHByb3RvLmtpbGxzLFxuICAgIGhlYXQ6IHByb3RvLmhlYXQgPyB7XG4gICAgICB2OiBwcm90by5oZWF0LnYsXG4gICAgICBtOiBwcm90by5oZWF0Lm0sXG4gICAgICB3OiBwcm90by5oZWF0LncsXG4gICAgICBvOiBwcm90by5oZWF0Lm8sXG4gICAgICBtczogcHJvdG8uaGVhdC5tcyxcbiAgICAgIHN1OiBwcm90by5oZWF0LnN1LFxuICAgICAga3U6IHByb3RvLmhlYXQua3UsXG4gICAgICBrZDogcHJvdG8uaGVhdC5rZCxcbiAgICAgIGV4OiBwcm90by5oZWF0LmV4LFxuICAgIH0gOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbi8vIENvbnZlcnQgcHJvdG8gTWlzc2lsZSB0byBNaXNzaWxlU25hcHNob3RcbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvTWlzc2lsZShwcm90bzogTWlzc2lsZSk6IE1pc3NpbGVTbmFwc2hvdCB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHByb3RvLmlkLFxuICAgIG93bmVyOiBwcm90by5vd25lcixcbiAgICBzZWxmOiBwcm90by5zZWxmLFxuICAgIHg6IHByb3RvLngsXG4gICAgeTogcHJvdG8ueSxcbiAgICB2eDogcHJvdG8udngsXG4gICAgdnk6IHByb3RvLnZ5LFxuICAgIHQ6IHByb3RvLnQsXG4gICAgYWdyb1JhZGl1czogcHJvdG8uYWdyb1JhZGl1cyxcbiAgICBsaWZldGltZTogcHJvdG8ubGlmZXRpbWUsXG4gICAgbGF1bmNoOiBwcm90by5sYXVuY2hUaW1lLFxuICAgIGV4cGlyZXM6IHByb3RvLmV4cGlyZXNBdCxcbiAgICB0YXJnZXRJZDogcHJvdG8udGFyZ2V0SWQgfHwgdW5kZWZpbmVkLFxuICAgIGhlYXQ6IHByb3RvLmhlYXQgPyB7XG4gICAgICB2OiBwcm90by5oZWF0LnYsXG4gICAgICBtOiBwcm90by5oZWF0Lm0sXG4gICAgICB3OiBwcm90by5oZWF0LncsXG4gICAgICBvOiBwcm90by5oZWF0Lm8sXG4gICAgICBtczogcHJvdG8uaGVhdC5tcyxcbiAgICAgIHN1OiBwcm90by5oZWF0LnN1LFxuICAgICAga3U6IHByb3RvLmhlYXQua3UsXG4gICAgICBrZDogcHJvdG8uaGVhdC5rZCxcbiAgICAgIGV4OiBwcm90by5oZWF0LmV4LFxuICAgIH0gOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbi8vIENvbnZlcnQgcHJvdG8gU3RhdGVVcGRhdGUgdG8gQXBwU3RhdGUgZm9ybWF0XG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub1N0YXRlKHByb3RvOiBTdGF0ZVVwZGF0ZSkge1xuICBjb25zdCBiYXNlID0ge1xuICAgIG5vdzogcHJvdG8ubm93LFxuICAgIG1lOiBwcm90by5tZSA/IHByb3RvVG9HaG9zdChwcm90by5tZSkgOiBudWxsLFxuICAgIGdob3N0czogcHJvdG8uZ2hvc3RzLm1hcChwcm90b1RvR2hvc3QpLFxuICAgIG1pc3NpbGVzOiBwcm90by5taXNzaWxlcy5tYXAocHJvdG9Ub01pc3NpbGUpLFxuICAgIG1ldGE6IHByb3RvLm1ldGEgPyB7XG4gICAgICBjOiBwcm90by5tZXRhLmMsXG4gICAgICB3OiBwcm90by5tZXRhLncsXG4gICAgICBoOiBwcm90by5tZXRhLmgsXG4gICAgfSA6IHsgYzogMjk5LCB3OiAxNjAwMCwgaDogOTAwMCB9LFxuICAgIG1pc3NpbGVDb25maWc6IHByb3RvLm1pc3NpbGVDb25maWcgPyB7XG4gICAgICBzcGVlZDogcHJvdG8ubWlzc2lsZUNvbmZpZy5zcGVlZCxcbiAgICAgIHNwZWVkTWluOiBwcm90by5taXNzaWxlQ29uZmlnLnNwZWVkTWluLFxuICAgICAgc3BlZWRNYXg6IHByb3RvLm1pc3NpbGVDb25maWcuc3BlZWRNYXgsXG4gICAgICBhZ3JvTWluOiBwcm90by5taXNzaWxlQ29uZmlnLmFncm9NaW4sXG4gICAgICBhZ3JvUmFkaXVzOiBwcm90by5taXNzaWxlQ29uZmlnLmFncm9SYWRpdXMsXG4gICAgICBsaWZldGltZTogcHJvdG8ubWlzc2lsZUNvbmZpZy5saWZldGltZSxcbiAgICAgIGhlYXRDb25maWc6IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZyA/IHtcbiAgICAgICAgbWF4OiBwcm90by5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcubWF4LFxuICAgICAgICB3YXJuQXQ6IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy53YXJuQXQsXG4gICAgICAgIG92ZXJoZWF0QXQ6IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy5vdmVyaGVhdEF0LFxuICAgICAgICBtYXJrZXJTcGVlZDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLm1hcmtlclNwZWVkLFxuICAgICAgICBrVXA6IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy5rVXAsXG4gICAgICAgIGtEb3duOiBwcm90by5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcua0Rvd24sXG4gICAgICAgIGV4cDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLmV4cCxcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgfSA6IHtcbiAgICAgIHNwZWVkOiAwLFxuICAgICAgc3BlZWRNaW46IDAsXG4gICAgICBzcGVlZE1heDogMCxcbiAgICAgIGFncm9NaW46IDAsXG4gICAgICBhZ3JvUmFkaXVzOiAwLFxuICAgICAgbGlmZXRpbWU6IDAsXG4gICAgfSxcbiAgICBtaXNzaWxlV2F5cG9pbnRzOiBwcm90by5taXNzaWxlV2F5cG9pbnRzLm1hcCh3cCA9PiAoeyB4OiB3cC54LCB5OiB3cC55LCBzcGVlZDogd3Auc3BlZWQgfSkpLFxuICAgIG1pc3NpbGVSb3V0ZXM6IHByb3RvLm1pc3NpbGVSb3V0ZXMubWFwKHIgPT4gKHtcbiAgICAgIGlkOiByLmlkLFxuICAgICAgbmFtZTogci5uYW1lLFxuICAgICAgd2F5cG9pbnRzOiByLndheXBvaW50cy5tYXAod3AgPT4gKHsgeDogd3AueCwgeTogd3AueSwgc3BlZWQ6IHdwLnNwZWVkIH0pKSxcbiAgICB9KSksXG4gICAgYWN0aXZlTWlzc2lsZVJvdXRlOiBwcm90by5hY3RpdmVNaXNzaWxlUm91dGUsXG4gICAgbmV4dE1pc3NpbGVSZWFkeTogcHJvdG8ubmV4dE1pc3NpbGVSZWFkeSxcbiAgfTtcblxuICAvLyBQaGFzZSAyIGFkZGl0aW9uc1xuICByZXR1cm4ge1xuICAgIC4uLmJhc2UsXG4gICAgZGFnOiBwcm90by5kYWcgPyBwcm90b1RvRGFnU3RhdGUocHJvdG8uZGFnKSA6IHVuZGVmaW5lZCxcbiAgICBpbnZlbnRvcnk6IHByb3RvLmludmVudG9yeSA/IHByb3RvVG9JbnZlbnRvcnkocHJvdG8uaW52ZW50b3J5KSA6IHVuZGVmaW5lZCxcbiAgICBzdG9yeTogcHJvdG8uc3RvcnkgPyBwcm90b1RvU3RvcnlTdGF0ZShwcm90by5zdG9yeSkgOiB1bmRlZmluZWQsXG4gICAgY2FwYWJpbGl0aWVzOiBwcm90by5jYXBhYmlsaXRpZXMgPyBwcm90b1RvUGxheWVyQ2FwYWJpbGl0aWVzKHByb3RvLmNhcGFiaWxpdGllcykgOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbi8vID09PT09PT09PT0gUGhhc2UgMjogRW51bSBDb252ZXJ0ZXJzID09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvU3RhdHVzVG9TdHJpbmcoc3RhdHVzOiBEYWdOb2RlU3RhdHVzKTogc3RyaW5nIHtcbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIERhZ05vZGVTdGF0dXMuTE9DS0VEOiByZXR1cm4gJ2xvY2tlZCc7XG4gICAgY2FzZSBEYWdOb2RlU3RhdHVzLkFWQUlMQUJMRTogcmV0dXJuICdhdmFpbGFibGUnO1xuICAgIGNhc2UgRGFnTm9kZVN0YXR1cy5JTl9QUk9HUkVTUzogcmV0dXJuICdpbl9wcm9ncmVzcyc7XG4gICAgY2FzZSBEYWdOb2RlU3RhdHVzLkNPTVBMRVRFRDogcmV0dXJuICdjb21wbGV0ZWQnO1xuICAgIGRlZmF1bHQ6IHJldHVybiAndW5rbm93bic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvS2luZFRvU3RyaW5nKGtpbmQ6IERhZ05vZGVLaW5kKTogc3RyaW5nIHtcbiAgc3dpdGNoIChraW5kKSB7XG4gICAgY2FzZSBEYWdOb2RlS2luZC5GQUNUT1JZOiByZXR1cm4gJ2ZhY3RvcnknO1xuICAgIGNhc2UgRGFnTm9kZUtpbmQuVU5JVDogcmV0dXJuICd1bml0JztcbiAgICBjYXNlIERhZ05vZGVLaW5kLlNUT1JZOiByZXR1cm4gJ3N0b3J5JztcbiAgICBjYXNlIERhZ05vZGVLaW5kLkNSQUZUOiByZXR1cm4gJ2NyYWZ0JztcbiAgICBkZWZhdWx0OiByZXR1cm4gJ3Vua25vd24nO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b0ludGVudFRvU3RyaW5nKGludGVudDogU3RvcnlJbnRlbnQpOiBzdHJpbmcge1xuICBzd2l0Y2ggKGludGVudCkge1xuICAgIGNhc2UgU3RvcnlJbnRlbnQuRkFDVE9SWTogcmV0dXJuICdmYWN0b3J5JztcbiAgICBjYXNlIFN0b3J5SW50ZW50LlVOSVQ6IHJldHVybiAndW5pdCc7XG4gICAgZGVmYXVsdDogcmV0dXJuICcnO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b0VmZmVjdFR5cGVUb1N0cmluZyh0eXBlOiBhbnkpOiBzdHJpbmcge1xuICAvLyBNYXAgcHJvdG8gZW51bSB2YWx1ZXMgdG8gc3RyaW5nc1xuICAvLyBUT0RPOiBVc2UgcHJvcGVyIGVudW0gd2hlbiBwcm90byBpcyByZWdlbmVyYXRlZFxuICBjb25zdCB0eXBlTWFwOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge1xuICAgIDE6ICdzcGVlZF9tdWx0aXBsaWVyJyxcbiAgICAyOiAnbWlzc2lsZV91bmxvY2snLFxuICAgIDM6ICdoZWF0X2NhcGFjaXR5JyxcbiAgICA0OiAnaGVhdF9lZmZpY2llbmN5JyxcbiAgfTtcbiAgcmV0dXJuIHR5cGVNYXBbdHlwZV0gfHwgJ3Vua25vd24nO1xufVxuXG4vLyA9PT09PT09PT09IFBoYXNlIDI6IFR5cGUgRGVmaW5pdGlvbnMgPT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZ3JhZGVFZmZlY3REYXRhIHtcbiAgdHlwZTogc3RyaW5nO1xuICB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhZ05vZGVEYXRhIHtcbiAgaWQ6IHN0cmluZztcbiAga2luZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgcmVtYWluaW5nUzogbnVtYmVyO1xuICBkdXJhdGlvblM6IG51bWJlcjtcbiAgcmVwZWF0YWJsZTogYm9vbGVhbjtcbiAgZWZmZWN0cz86IFVwZ3JhZGVFZmZlY3REYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyQ2FwYWJpbGl0aWVzRGF0YSB7XG4gIHNwZWVkTXVsdGlwbGllcjogbnVtYmVyO1xuICB1bmxvY2tlZE1pc3NpbGVzOiBzdHJpbmdbXTtcbiAgaGVhdENhcGFjaXR5OiBudW1iZXI7XG4gIGhlYXRFZmZpY2llbmN5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFnU3RhdGVEYXRhIHtcbiAgbm9kZXM6IERhZ05vZGVEYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52ZW50b3J5SXRlbURhdGEge1xuICB0eXBlOiBzdHJpbmc7XG4gIHZhcmlhbnRJZDogc3RyaW5nO1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcbiAgcXVhbnRpdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnlEYXRhIHtcbiAgaXRlbXM6IEludmVudG9yeUl0ZW1EYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlEaWFsb2d1ZUNob2ljZURhdGEge1xuICBpZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlUdXRvcmlhbFRpcERhdGEge1xuICB0aXRsZTogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlEaWFsb2d1ZURhdGEge1xuICBzcGVha2VyOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgaW50ZW50OiBzdHJpbmc7XG4gIGNvbnRpbnVlTGFiZWw6IHN0cmluZztcbiAgY2hvaWNlczogU3RvcnlEaWFsb2d1ZUNob2ljZURhdGFbXTtcbiAgdHV0b3JpYWxUaXA/OiBTdG9yeVR1dG9yaWFsVGlwRGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeUV2ZW50RGF0YSB7XG4gIGNoYXB0ZXJJZDogc3RyaW5nO1xuICBub2RlSWQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlTdGF0ZURhdGEge1xuICBhY3RpdmVOb2RlOiBzdHJpbmc7XG4gIGRpYWxvZ3VlPzogU3RvcnlEaWFsb2d1ZURhdGE7XG4gIGF2YWlsYWJsZTogc3RyaW5nW107XG4gIGZsYWdzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbiAgcmVjZW50RXZlbnRzOiBTdG9yeUV2ZW50RGF0YVtdO1xufVxuXG4vLyA9PT09PT09PT09IFBoYXNlIDI6IENvbnZlcnNpb24gRnVuY3Rpb25zID09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9VcGdyYWRlRWZmZWN0KHByb3RvOiBVcGdyYWRlRWZmZWN0KTogVXBncmFkZUVmZmVjdERhdGEge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHByb3RvRWZmZWN0VHlwZVRvU3RyaW5nKHByb3RvLnR5cGUpLFxuICAgIHZhbHVlOiBwcm90by52YWx1ZS5jYXNlID09PSAnbXVsdGlwbGllcicgPyBwcm90by52YWx1ZS52YWx1ZSA6IHByb3RvLnZhbHVlLnZhbHVlLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub1BsYXllckNhcGFiaWxpdGllcyhwcm90bzogUGxheWVyQ2FwYWJpbGl0aWVzKTogUGxheWVyQ2FwYWJpbGl0aWVzRGF0YSB7XG4gIHJldHVybiB7XG4gICAgc3BlZWRNdWx0aXBsaWVyOiBwcm90by5zcGVlZE11bHRpcGxpZXIsXG4gICAgdW5sb2NrZWRNaXNzaWxlczogcHJvdG8udW5sb2NrZWRNaXNzaWxlcyxcbiAgICBoZWF0Q2FwYWNpdHk6IHByb3RvLmhlYXRDYXBhY2l0eSxcbiAgICBoZWF0RWZmaWNpZW5jeTogcHJvdG8uaGVhdEVmZmljaWVuY3ksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvRGFnTm9kZShwcm90bzogRGFnTm9kZSk6IERhZ05vZGVEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcHJvdG8uaWQsXG4gICAga2luZDogcHJvdG9LaW5kVG9TdHJpbmcocHJvdG8ua2luZCksXG4gICAgbGFiZWw6IHByb3RvLmxhYmVsLFxuICAgIHN0YXR1czogcHJvdG9TdGF0dXNUb1N0cmluZyhwcm90by5zdGF0dXMpLFxuICAgIHJlbWFpbmluZ1M6IHByb3RvLnJlbWFpbmluZ1MsXG4gICAgZHVyYXRpb25TOiBwcm90by5kdXJhdGlvblMsXG4gICAgcmVwZWF0YWJsZTogcHJvdG8ucmVwZWF0YWJsZSxcbiAgICBlZmZlY3RzOiBwcm90by5lZmZlY3RzPy5tYXAocHJvdG9Ub1VwZ3JhZGVFZmZlY3QpIHx8IFtdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub0RhZ1N0YXRlKHByb3RvOiBEYWdTdGF0ZSk6IERhZ1N0YXRlRGF0YSB7XG4gIHJldHVybiB7XG4gICAgbm9kZXM6IHByb3RvLm5vZGVzLm1hcChwcm90b1RvRGFnTm9kZSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvSW52ZW50b3J5SXRlbShwcm90bzogSW52ZW50b3J5SXRlbSk6IEludmVudG9yeUl0ZW1EYXRhIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBwcm90by50eXBlLFxuICAgIHZhcmlhbnRJZDogcHJvdG8udmFyaWFudElkLFxuICAgIGhlYXRDYXBhY2l0eTogcHJvdG8uaGVhdENhcGFjaXR5LFxuICAgIHF1YW50aXR5OiBwcm90by5xdWFudGl0eSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9JbnZlbnRvcnkocHJvdG86IEludmVudG9yeSk6IEludmVudG9yeURhdGEge1xuICByZXR1cm4ge1xuICAgIGl0ZW1zOiBwcm90by5pdGVtcy5tYXAocHJvdG9Ub0ludmVudG9yeUl0ZW0pLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub1N0b3J5RGlhbG9ndWUocHJvdG86IFN0b3J5RGlhbG9ndWUpOiBTdG9yeURpYWxvZ3VlRGF0YSB7XG4gIHJldHVybiB7XG4gICAgc3BlYWtlcjogcHJvdG8uc3BlYWtlcixcbiAgICB0ZXh0OiBwcm90by50ZXh0LFxuICAgIGludGVudDogcHJvdG9JbnRlbnRUb1N0cmluZyhwcm90by5pbnRlbnQpLFxuICAgIGNvbnRpbnVlTGFiZWw6IHByb3RvLmNvbnRpbnVlTGFiZWwsXG4gICAgY2hvaWNlczogcHJvdG8uY2hvaWNlcy5tYXAoYyA9PiAoeyBpZDogYy5pZCwgdGV4dDogYy50ZXh0IH0pKSxcbiAgICB0dXRvcmlhbFRpcDogcHJvdG8udHV0b3JpYWxUaXAgPyB7XG4gICAgICB0aXRsZTogcHJvdG8udHV0b3JpYWxUaXAudGl0bGUsXG4gICAgICB0ZXh0OiBwcm90by50dXRvcmlhbFRpcC50ZXh0LFxuICAgIH0gOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvU3RvcnlTdGF0ZShwcm90bzogU3RvcnlTdGF0ZSk6IFN0b3J5U3RhdGVEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBhY3RpdmVOb2RlOiBwcm90by5hY3RpdmVOb2RlLFxuICAgIGRpYWxvZ3VlOiBwcm90by5kaWFsb2d1ZSA/IHByb3RvVG9TdG9yeURpYWxvZ3VlKHByb3RvLmRpYWxvZ3VlKSA6IHVuZGVmaW5lZCxcbiAgICBhdmFpbGFibGU6IHByb3RvLmF2YWlsYWJsZSxcbiAgICBmbGFnczogcHJvdG8uZmxhZ3MsXG4gICAgcmVjZW50RXZlbnRzOiBwcm90by5yZWNlbnRFdmVudHMubWFwKGUgPT4gKHtcbiAgICAgIGNoYXB0ZXJJZDogZS5jaGFwdGVySWQsXG4gICAgICBub2RlSWQ6IGUubm9kZUlkLFxuICAgICAgdGltZXN0YW1wOiBlLnRpbWVzdGFtcCxcbiAgICB9KSksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgdHlwZSBFdmVudEJ1cyB9IGZyb20gXCIuL2J1c1wiO1xuaW1wb3J0IHtcbiAgdHlwZSBBcHBTdGF0ZSxcbiAgdHlwZSBNaXNzaWxlUm91dGUsXG4gIHR5cGUgTWlzc2lvblN0YXRlLFxuICB0eXBlIE1pc3Npb25CZWFjb24sXG4gIHR5cGUgTWlzc2lvbkVuY291bnRlclN0YXRlLFxuICB0eXBlIE1pc3Npb25QbGF5ZXJTdGF0ZSxcbiAgdHlwZSBNaXNzaW9uT2JqZWN0aXZlU3RhdGUsXG4gIG1vbm90b25pY05vdyxcbiAgc2FuaXRpemVNaXNzaWxlQ29uZmlnLFxuICB1cGRhdGVNaXNzaWxlTGltaXRzLFxuICBjbGFtcFByb2dyZXNzLFxufSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBEaWFsb2d1ZUNvbnRlbnQgfSBmcm9tIFwiLi9zdG9yeS90eXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlLCB0b0JpbmFyeSwgZnJvbUJpbmFyeSB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbmltcG9ydCB7XG4gIFdzRW52ZWxvcGVTY2hlbWEsXG4gIHR5cGUgV3NFbnZlbG9wZSxcbiAgTWlzc2lvbkJlYWNvbkRlbHRhVHlwZSxcbiAgTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZSxcbn0gZnJvbSBcIi4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGJcIjtcbmltcG9ydCB0eXBlIHsgTWlzc2lvbkJlYWNvblNuYXBzaG90LCBNaXNzaW9uQmVhY29uRGVsdGEgfSBmcm9tIFwiLi9wcm90by9wcm90by93c19tZXNzYWdlc19wYlwiO1xuaW1wb3J0IHsgcHJvdG9Ub1N0YXRlLCBwcm90b1RvRGFnU3RhdGUgfSBmcm9tIFwiLi9wcm90b19oZWxwZXJzXCI7XG5pbXBvcnQgdHlwZSB7IE1pc3Npb25PZmZlckRUTywgTWlzc2lvblVwZGF0ZURUTywgT2JqZWN0aXZlU3RhdGVEVE8gfSBmcm9tIFwiLi9taXNzaW9uL3R5cGVzXCI7XG5cbmludGVyZmFjZSBDb25uZWN0T3B0aW9ucyB7XG4gIHJvb206IHN0cmluZztcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICBidXM6IEV2ZW50QnVzO1xuICBvblN0YXRlVXBkYXRlZD86ICgpID0+IHZvaWQ7XG4gIG9uT3Blbj86IChzb2NrZXQ6IFdlYlNvY2tldCkgPT4gdm9pZDtcbiAgbWFwVz86IG51bWJlcjtcbiAgbWFwSD86IG51bWJlcjtcbiAgbW9kZT86IHN0cmluZztcbiAgbWlzc2lvbklkPzogc3RyaW5nO1xufVxuXG5sZXQgd3M6IFdlYlNvY2tldCB8IG51bGwgPSBudWxsO1xubGV0IGNvbm5lY3RlZFN0YXRlOiBBcHBTdGF0ZSB8IG51bGwgPSBudWxsO1xubGV0IGNvbm5lY3RlZEJ1czogRXZlbnRCdXMgfCBudWxsID0gbnVsbDtcblxuLy8gSGVscGVyIHRvIHNlbmQgcHJvdG9idWYgbWVzc2FnZXNcbmZ1bmN0aW9uIHNlbmRQcm90byhlbnZlbG9wZTogV3NFbnZlbG9wZSkge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gIGNvbnN0IGJ5dGVzID0gdG9CaW5hcnkoV3NFbnZlbG9wZVNjaGVtYSwgZW52ZWxvcGUpO1xuICB3cy5zZW5kKGJ5dGVzKTtcbn1cblxuLy8gTGVnYWN5IEpTT04gbWVzc2FnZSBzZW5kZXIgKGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYW5kIERBRyBtZXNzYWdlcylcbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZShwYXlsb2FkOiB1bmtub3duKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcblxuICAvLyBJZiBwYXlsb2FkIGhhcyBhIFwidHlwZVwiIGZpZWxkLCBjb252ZXJ0IHRvIHByb3RvYnVmXG4gIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkICE9PSBudWxsICYmIFwidHlwZVwiIGluIHBheWxvYWQpIHtcbiAgICBjb25zdCBtc2cgPSBwYXlsb2FkIGFzIGFueTtcblxuICAgIC8vIENvbnZlcnQgY29tbW9uIG1lc3NhZ2UgdHlwZXMgdG8gcHJvdG9idWZcbiAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XG4gICAgICBjYXNlIFwiam9pblwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImpvaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgIG5hbWU6IG1zZy5uYW1lIHx8IFwiXCIsXG4gICAgICAgICAgICAgIHJvb206IG1zZy5yb29tIHx8IFwiXCIsXG4gICAgICAgICAgICAgIG1hcFc6IG1zZy5tYXBfdyB8fCAwLFxuICAgICAgICAgICAgICBtYXBIOiBtc2cubWFwX2ggfHwgMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJzcGF3bl9ib3RcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDogeyBjYXNlOiBcInNwYXduQm90XCIsIHZhbHVlOiB7fSB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImFkZF93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImFkZFdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyB4OiBtc2cueCwgeTogbXNnLnksIHNwZWVkOiBtc2cuc3BlZWQgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcInVwZGF0ZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcInVwZGF0ZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBpbmRleDogbXNnLmluZGV4LCBzcGVlZDogbXNnLnNwZWVkIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJtb3ZlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwibW92ZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBpbmRleDogbXNnLmluZGV4LCB4OiBtc2cueCwgeTogbXNnLnkgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImRlbGV0ZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImRlbGV0ZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBpbmRleDogbXNnLmluZGV4IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJjbGVhcl93YXlwb2ludHNcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDogeyBjYXNlOiBcImNsZWFyV2F5cG9pbnRzXCIsIHZhbHVlOiB7fSB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImNvbmZpZ3VyZV9taXNzaWxlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiY29uZmlndXJlTWlzc2lsZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgbWlzc2lsZVNwZWVkOiBtc2cubWlzc2lsZV9zcGVlZCwgbWlzc2lsZUFncm86IG1zZy5taXNzaWxlX2Fncm8gfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImxhdW5jaF9taXNzaWxlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwibGF1bmNoTWlzc2lsZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImFkZF9taXNzaWxlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiYWRkTWlzc2lsZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiwgeDogbXNnLngsIHk6IG1zZy55LCBzcGVlZDogbXNnLnNwZWVkIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJ1cGRhdGVfbWlzc2lsZV93YXlwb2ludF9zcGVlZFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcInVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiwgaW5kZXg6IG1zZy5pbmRleCwgc3BlZWQ6IG1zZy5zcGVlZCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwibW92ZV9taXNzaWxlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwibW92ZU1pc3NpbGVXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIsIGluZGV4OiBtc2cuaW5kZXgsIHg6IG1zZy54LCB5OiBtc2cueSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiZGVsZXRlX21pc3NpbGVfd2F5cG9pbnRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJkZWxldGVNaXNzaWxlV2F5cG9pbnRcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiLCBpbmRleDogbXNnLmluZGV4IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJjbGVhcl9taXNzaWxlX3JvdXRlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiY2xlYXJNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJhZGRfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImFkZE1pc3NpbGVSb3V0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgbmFtZTogbXNnLm5hbWUgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwicmVuYW1lX21pc3NpbGVfcm91dGVcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJyZW5hbWVNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiLCBuYW1lOiBtc2cubmFtZSB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJkZWxldGVfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImRlbGV0ZU1pc3NpbGVSb3V0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcInNldF9hY3RpdmVfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcInNldEFjdGl2ZU1pc3NpbGVSb3V0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImRhZ19zdGFydFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImRhZ1N0YXJ0XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBub2RlSWQ6IG1zZy5ub2RlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImNsZWFyX21pc3NpbGVfd2F5cG9pbnRzXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiY2xlYXJNaXNzaWxlV2F5cG9pbnRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwibWlzc2lvbjphY2NlcHRcIjpcbiAgICAgICAgaWYgKHdzICYmIHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5cbi8vID09PT09PT09PT0gUGhhc2UgMjogREFHIENvbW1hbmQgRnVuY3Rpb25zID09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmREYWdTdGFydChub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhc2U6IFwiZGFnU3RhcnRcIixcbiAgICAgIHZhbHVlOiB7IG5vZGVJZCB9LFxuICAgIH0sXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmREYWdDYW5jZWwobm9kZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXNlOiBcImRhZ0NhbmNlbFwiLFxuICAgICAgdmFsdWU6IHsgbm9kZUlkIH0sXG4gICAgfSxcbiAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZERhZ1N0b3J5QWNrKG5vZGVJZDogc3RyaW5nLCBjaG9pY2VJZDogc3RyaW5nID0gXCJcIik6IHZvaWQge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhc2U6IFwiZGFnU3RvcnlBY2tcIixcbiAgICAgIHZhbHVlOiB7IG5vZGVJZCwgY2hvaWNlSWQgfSxcbiAgICB9LFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kRGFnTGlzdCgpOiB2b2lkIHtcbiAgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXNlOiBcImRhZ0xpc3RcIixcbiAgICAgIHZhbHVlOiB7fSxcbiAgICB9LFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2NlcHRNaXNzaW9uKG1pc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghbWlzc2lvbklkKSByZXR1cm47XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAvLyBBbGxvdyBsb2NhbCBzdGF0ZSB1cGRhdGUgZXZlbiBpZiBzb2NrZXQgbm90IHJlYWR5IGZvciByZXNpbGllbmNlXG4gICAgaWYgKGNvbm5lY3RlZFN0YXRlICYmIGNvbm5lY3RlZEJ1cykge1xuICAgICAgY29uc3QgbWlzc2lvbiA9IGVuc3VyZU1pc3Npb25TdGF0ZShjb25uZWN0ZWRTdGF0ZSk7XG4gICAgICBtaXNzaW9uLm1pc3Npb25JZCA9IG1pc3Npb25JZDtcbiAgICAgIG1pc3Npb24uc3RhdHVzID0gXCJhY3RpdmVcIjtcbiAgICAgIG1pc3Npb24uc3RhcnRUaW1lID0gbWlzc2lvbi5zdGFydFRpbWUgPz8gZ2V0QXBwcm94U2VydmVyTm93KGNvbm5lY3RlZFN0YXRlKTtcbiAgICAgIGNvbm5lY3RlZEJ1cy5lbWl0KFwibWlzc2lvbjpzdGFydFwiLCB7IG1pc3Npb25JZCB9KTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwibWlzc2lvbjphY2NlcHRcIiwgcGF5bG9hZDogeyBtaXNzaW9uSWQgfSB9KSk7XG5cbiAgaWYgKGNvbm5lY3RlZFN0YXRlICYmIGNvbm5lY3RlZEJ1cykge1xuICAgIGNvbnN0IG1pc3Npb24gPSBlbnN1cmVNaXNzaW9uU3RhdGUoY29ubmVjdGVkU3RhdGUpO1xuICAgIG1pc3Npb24ubWlzc2lvbklkID0gbWlzc2lvbklkO1xuICAgIG1pc3Npb24uc3RhdHVzID0gXCJhY3RpdmVcIjtcbiAgICBtaXNzaW9uLnN0YXJ0VGltZSA9IG1pc3Npb24uc3RhcnRUaW1lID8/IGdldEFwcHJveFNlcnZlck5vdyhjb25uZWN0ZWRTdGF0ZSk7XG4gICAgY29ubmVjdGVkQnVzLmVtaXQoXCJtaXNzaW9uOnN0YXJ0XCIsIHsgbWlzc2lvbklkIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0V2ViU29ja2V0KHtcbiAgcm9vbSxcbiAgc3RhdGUsXG4gIGJ1cyxcbiAgb25TdGF0ZVVwZGF0ZWQsXG4gIG9uT3BlbixcbiAgbWFwVyxcbiAgbWFwSCxcbiAgbW9kZSxcbiAgbWlzc2lvbklkLFxufTogQ29ubmVjdE9wdGlvbnMpOiB2b2lkIHtcbiAgY29uc3QgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIgPyBcIndzczovL1wiIDogXCJ3czovL1wiO1xuICBsZXQgd3NVcmwgPSBgJHtwcm90b2NvbH0ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fS93cz9yb29tPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJvb20pfWA7XG4gIGlmIChtYXBXICYmIG1hcFcgPiAwKSB7XG4gICAgd3NVcmwgKz0gYCZtYXBXPSR7bWFwV31gO1xuICB9XG4gIGlmIChtYXBIICYmIG1hcEggPiAwKSB7XG4gICAgd3NVcmwgKz0gYCZtYXBIPSR7bWFwSH1gO1xuICB9XG4gIGlmIChtb2RlKSB7XG4gICAgd3NVcmwgKz0gYCZtb2RlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG1vZGUpfWA7XG4gIH1cbiAgaWYgKG1pc3Npb25JZCkge1xuICAgIHdzVXJsICs9IGAmbWlzc2lvbj0ke2VuY29kZVVSSUNvbXBvbmVudChtaXNzaW9uSWQpfWA7XG4gIH1cbiAgd3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcbiAgY29ubmVjdGVkU3RhdGUgPSBzdGF0ZTtcbiAgY29ubmVjdGVkQnVzID0gYnVzO1xuICAvLyBTZXQgYmluYXJ5IHR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2VzXG4gIHdzLmJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlt3c10gb3BlblwiKTtcbiAgICBjb25zdCBzb2NrZXQgPSB3cztcbiAgICBpZiAoc29ja2V0ICYmIG9uT3Blbikge1xuICAgICAgb25PcGVuKHNvY2tldCk7XG4gICAgfVxuICB9KTtcbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlt3c10gY2xvc2VcIik7XG4gICAgY29ubmVjdGVkU3RhdGUgPSBudWxsO1xuICAgIGNvbm5lY3RlZEJ1cyA9IG51bGw7XG4gIH0pO1xuXG4gIGxldCBwcmV2Um91dGVzID0gbmV3IE1hcDxzdHJpbmcsIE1pc3NpbGVSb3V0ZT4oKTtcbiAgbGV0IHByZXZBY3RpdmVSb3V0ZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGxldCBwcmV2TWlzc2lsZUNvdW50ID0gMDtcblxuICB3cy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICAvLyBIYW5kbGUgYmluYXJ5IHByb3RvYnVmIG1lc3NhZ2VzXG4gICAgaWYgKGV2ZW50LmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZW52ZWxvcGUgPSBmcm9tQmluYXJ5KFdzRW52ZWxvcGVTY2hlbWEsIG5ldyBVaW50OEFycmF5KGV2ZW50LmRhdGEpKTtcblxuICAgICAgICBpZiAoZW52ZWxvcGUucGF5bG9hZC5jYXNlID09PSBcInN0YXRlVXBkYXRlXCIpIHtcbiAgICAgICAgICBjb25zdCBwcm90b1N0YXRlID0gcHJvdG9Ub1N0YXRlKGVudmVsb3BlLnBheWxvYWQudmFsdWUpO1xuICAgICAgICAgIGhhbmRsZVByb3RvU3RhdGVNZXNzYWdlKHN0YXRlLCBwcm90b1N0YXRlLCBidXMsIHByZXZSb3V0ZXMsIHByZXZBY3RpdmVSb3V0ZSwgcHJldk1pc3NpbGVDb3VudCk7XG4gICAgICAgICAgcHJldlJvdXRlcyA9IG5ldyBNYXAoc3RhdGUubWlzc2lsZVJvdXRlcy5tYXAoKHJvdXRlKSA9PiBbcm91dGUuaWQsIGNsb25lUm91dGUocm91dGUpXSkpO1xuICAgICAgICAgIHByZXZBY3RpdmVSb3V0ZSA9IHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkO1xuICAgICAgICAgIHByZXZNaXNzaWxlQ291bnQgPSBzdGF0ZS5taXNzaWxlcy5sZW5ndGg7XG4gICAgICAgICAgYnVzLmVtaXQoXCJzdGF0ZTp1cGRhdGVkXCIpO1xuICAgICAgICAgIG9uU3RhdGVVcGRhdGVkPy4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwicm9vbUZ1bGxcIikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbd3NdIFJvb20gZnVsbDpcIiwgZW52ZWxvcGUucGF5bG9hZC52YWx1ZS5tZXNzYWdlKTtcbiAgICAgICAgICBidXMuZW1pdChcImNvbm5lY3Rpb246ZXJyb3JcIiwgeyBtZXNzYWdlOiBlbnZlbG9wZS5wYXlsb2FkLnZhbHVlLm1lc3NhZ2UgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZW52ZWxvcGUucGF5bG9hZC5jYXNlID09PSBcImRhZ0xpc3RSZXNwb25zZVwiKSB7XG4gICAgICAgICAgLy8gSGFuZGxlIERBRyBsaXN0IHJlc3BvbnNlIGZyb20gUGhhc2UgMlxuICAgICAgICAgIGNvbnN0IGRhZ0RhdGEgPSBlbnZlbG9wZS5wYXlsb2FkLnZhbHVlLmRhZztcbiAgICAgICAgICBpZiAoZGFnRGF0YSkge1xuICAgICAgICAgICAgYnVzLmVtaXQoXCJkYWc6bGlzdFwiLCBwcm90b1RvRGFnU3RhdGUoZGFnRGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwibWlzc2lvbkJlYWNvblNuYXBzaG90XCIpIHtcbiAgICAgICAgICBoYW5kbGVNaXNzaW9uU25hcHNob3Qoc3RhdGUsIGVudmVsb3BlLnBheWxvYWQudmFsdWUsIGJ1cyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZW52ZWxvcGUucGF5bG9hZC5jYXNlID09PSBcIm1pc3Npb25CZWFjb25EZWx0YVwiKSB7XG4gICAgICAgICAgaGFuZGxlTWlzc2lvbkRlbHRhKHN0YXRlLCBlbnZlbG9wZS5wYXlsb2FkLnZhbHVlLCBidXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlt3c10gVW5rbm93biBwcm90b2J1ZiBtZXNzYWdlIHR5cGU6XCIsIGVudmVsb3BlLnBheWxvYWQuY2FzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW3dzXSBGYWlsZWQgdG8gZGVjb2RlIHByb3RvYnVmIG1lc3NhZ2U6XCIsIGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBoYW5kbGVKc29uTWVzc2FnZShzdGF0ZSwgYnVzLCBldmVudC5kYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgIGV2ZW50LmRhdGEudGV4dCgpXG4gICAgICAgIC50aGVuKCh0ZXh0KSA9PiBoYW5kbGVKc29uTWVzc2FnZShzdGF0ZSwgYnVzLCB0ZXh0KSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJbd3NdIEZhaWxlZCB0byByZWFkIHRleHQgbWVzc2FnZTpcIiwgZXJyKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcbn1cblxuXG4vLyBIYW5kbGUgcHJvdG9idWYgc3RhdGUgbWVzc2FnZXMgKHNpbXBsaWZpZWQgdmVyc2lvbiBvZiBoYW5kbGVTdGF0ZU1lc3NhZ2UpXG5mdW5jdGlvbiBoYW5kbGVKc29uTWVzc2FnZShzdGF0ZTogQXBwU3RhdGUsIGJ1czogRXZlbnRCdXMsIHJhdzogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghcmF3KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBtc2c6IHsgdHlwZT86IHN0cmluZzsgcGF5bG9hZD86IHVua25vd24gfTtcbiAgdHJ5IHtcbiAgICBtc2cgPSBKU09OLnBhcnNlKHJhdyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbd3NdIEZhaWxlZCB0byBwYXJzZSBKU09OIG1lc3NhZ2U6XCIsIGVycik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghbXNnIHx8IHR5cGVvZiBtc2cudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAobXNnLnR5cGUpIHtcbiAgICBjYXNlIFwibWlzc2lvbjpvZmZlclwiOiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gbXNnLnBheWxvYWQgYXMgUGFydGlhbDxNaXNzaW9uT2ZmZXJEVE8+IHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1pc3Npb24gPSBlbnN1cmVNaXNzaW9uU3RhdGUoc3RhdGUpO1xuICAgICAgbWlzc2lvbi5taXNzaW9uSWQgPSBwYXlsb2FkLm1pc3Npb25JZCA/PyBtaXNzaW9uLm1pc3Npb25JZCA/PyBcIlwiO1xuICAgICAgbWlzc2lvbi50ZW1wbGF0ZUlkID0gcGF5bG9hZC50ZW1wbGF0ZUlkID8/IFwiXCI7XG4gICAgICBtaXNzaW9uLmRpc3BsYXlOYW1lID0gcGF5bG9hZC5kaXNwbGF5TmFtZSA/PyBtaXNzaW9uLmRpc3BsYXlOYW1lID8/IFwiXCI7XG4gICAgICBtaXNzaW9uLmFyY2hldHlwZSA9IHBheWxvYWQuYXJjaGV0eXBlID8/IG1pc3Npb24uYXJjaGV0eXBlID8/IFwiXCI7XG4gICAgICBtaXNzaW9uLnRpbWVvdXQgPSBOdW1iZXIuaXNGaW5pdGUocGF5bG9hZC50aW1lb3V0KSA/IE51bWJlcihwYXlsb2FkLnRpbWVvdXQpIDogMDtcbiAgICAgIG1pc3Npb24uc3RhdHVzID0gXCJpZGxlXCI7XG4gICAgICBtaXNzaW9uLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICBtaXNzaW9uLmNvbXBsZXRpb25UaW1lID0gbnVsbDtcbiAgICAgIG1pc3Npb24ucHJvZ3Jlc3MgPSAwO1xuICAgICAgbWlzc2lvbi5vYmplY3RpdmVzID0gW107XG4gICAgICBtaXNzaW9uLm9iamVjdGl2ZVN1bW1hcmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5vYmplY3RpdmVzKSA/IFsuLi5wYXlsb2FkLm9iamVjdGl2ZXNdIDogW107XG4gICAgICBtaXNzaW9uLnNlcnZlclRpbWUgPSBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGUpO1xuXG4gICAgICBidXMuZW1pdChcIm1pc3Npb246b2ZmZXJlZFwiLCB7XG4gICAgICAgIG1pc3Npb25JZDogbWlzc2lvbi5taXNzaW9uSWQsXG4gICAgICAgIHRlbXBsYXRlSWQ6IG1pc3Npb24udGVtcGxhdGVJZCxcbiAgICAgICAgZGlzcGxheU5hbWU6IG1pc3Npb24uZGlzcGxheU5hbWUsXG4gICAgICAgIGFyY2hldHlwZTogbWlzc2lvbi5hcmNoZXR5cGUsXG4gICAgICAgIG9iamVjdGl2ZXM6IG1pc3Npb24ub2JqZWN0aXZlU3VtbWFyaWVzLFxuICAgICAgICB0aW1lb3V0OiBtaXNzaW9uLnRpbWVvdXQsXG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNhc2UgXCJtaXNzaW9uOnVwZGF0ZVwiOiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gbXNnLnBheWxvYWQgYXMgUGFydGlhbDxNaXNzaW9uVXBkYXRlRFRPPiB8IHVuZGVmaW5lZDtcbiAgICAgIGlmICghcGF5bG9hZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtaXNzaW9uID0gZW5zdXJlTWlzc2lvblN0YXRlKHN0YXRlKTtcbiAgICAgIGlmIChwYXlsb2FkLm1pc3Npb25JZCkge1xuICAgICAgICBtaXNzaW9uLm1pc3Npb25JZCA9IHBheWxvYWQubWlzc2lvbklkO1xuICAgICAgfVxuICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShwYXlsb2FkLnNlcnZlclRpbWUpKSB7XG4gICAgICAgIG1pc3Npb24uc2VydmVyVGltZSA9IE51bWJlcihwYXlsb2FkLnNlcnZlclRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnN0YXR1cyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBtaXNzaW9uLnN0YXR1cyA9IHBheWxvYWQuc3RhdHVzIGFzIE1pc3Npb25TdGF0dXM7XG4gICAgICB9XG4gICAgICBpZiAobWlzc2lvbi5zdGF0dXMgPT09IFwiYWN0aXZlXCIgJiYgbWlzc2lvbi5zdGFydFRpbWUgPT0gbnVsbCkge1xuICAgICAgICBtaXNzaW9uLnN0YXJ0VGltZSA9IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZC5vYmplY3RpdmVzKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdGl2ZXMgPSB1cGRhdGVNaXNzaW9uT2JqZWN0aXZlcyhzdGF0ZSwgYnVzLCBwYXlsb2FkLm9iamVjdGl2ZXMpO1xuICAgICAgICBidXMuZW1pdChcIm1pc3Npb246dXBkYXRlXCIsIHtcbiAgICAgICAgICBtaXNzaW9uSWQ6IG1pc3Npb24ubWlzc2lvbklkLFxuICAgICAgICAgIHN0YXR1czogbWlzc2lvbi5zdGF0dXMsXG4gICAgICAgICAgb2JqZWN0aXZlcyxcbiAgICAgICAgICBzZXJ2ZXJUaW1lOiBtaXNzaW9uLnNlcnZlclRpbWUsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVzLmVtaXQoXCJtaXNzaW9uOnVwZGF0ZVwiLCB7XG4gICAgICAgICAgbWlzc2lvbklkOiBtaXNzaW9uLm1pc3Npb25JZCxcbiAgICAgICAgICBzdGF0dXM6IG1pc3Npb24uc3RhdHVzLFxuICAgICAgICAgIG9iamVjdGl2ZXM6IG1pc3Npb24ub2JqZWN0aXZlcyxcbiAgICAgICAgICBzZXJ2ZXJUaW1lOiBtaXNzaW9uLnNlcnZlclRpbWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobWlzc2lvbi5zdGF0dXMgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgbWlzc2lvbi5jb21wbGV0aW9uVGltZSA9IG1pc3Npb24uc2VydmVyVGltZTtcbiAgICAgICAgbWlzc2lvbi5wcm9ncmVzcyA9IDE7XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjpjb21wbGV0ZWRcIiwgeyBtaXNzaW9uSWQ6IG1pc3Npb24ubWlzc2lvbklkIH0pO1xuICAgICAgfSBlbHNlIGlmIChtaXNzaW9uLnN0YXR1cyA9PT0gXCJmYWlsZWRcIikge1xuICAgICAgICBtaXNzaW9uLmNvbXBsZXRpb25UaW1lID0gbWlzc2lvbi5zZXJ2ZXJUaW1lO1xuICAgICAgICBidXMuZW1pdChcIm1pc3Npb246ZmFpbGVkXCIsIHsgbWlzc2lvbklkOiBtaXNzaW9uLm1pc3Npb25JZCB9KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVNaXNzaW9uT2JqZWN0aXZlcyhzdGF0ZTogQXBwU3RhdGUsIGJ1czogRXZlbnRCdXMsIG9iamVjdGl2ZURUT3M6IE9iamVjdGl2ZVN0YXRlRFRPW10pOiBNaXNzaW9uT2JqZWN0aXZlU3RhdGVbXSB7XG4gIGNvbnN0IG1pc3Npb24gPSBlbnN1cmVNaXNzaW9uU3RhdGUoc3RhdGUpO1xuICBjb25zdCBvYmplY3RpdmVzID0gQXJyYXkuaXNBcnJheShvYmplY3RpdmVEVE9zKVxuICAgID8gb2JqZWN0aXZlRFRPcy5tYXAoKG9iaikgPT4gKHtcbiAgICAgIGlkOiBvYmouaWQgPz8gXCJcIixcbiAgICAgIHR5cGU6IG9iai50eXBlID8/IFwidW5rbm93blwiLFxuICAgICAgcHJvZ3Jlc3M6IGNsYW1wUHJvZ3Jlc3Mob2JqLnByb2dyZXNzID8/IDApLFxuICAgICAgY29tcGxldGU6IEJvb2xlYW4ob2JqLmNvbXBsZXRlKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBvYmouZGVzY3JpcHRpb24gPz8gXCJcIixcbiAgICB9KSlcbiAgICA6IFtdO1xuXG4gIG1pc3Npb24ub2JqZWN0aXZlcyA9IG9iamVjdGl2ZXM7XG4gIG1pc3Npb24ucHJvZ3Jlc3MgPSBjYWxjdWxhdGVNaXNzaW9uUHJvZ3Jlc3Mob2JqZWN0aXZlcyk7XG5cbiAgYnVzLmVtaXQoXCJtaXNzaW9uOm9iamVjdGl2ZXMtdXBkYXRlZFwiLCB7IG9iamVjdGl2ZXMgfSk7XG4gIGJ1cy5lbWl0KFwibWlzc2lvbjpwcm9ncmVzcy1jaGFuZ2VkXCIsIHsgcHJvZ3Jlc3M6IG1pc3Npb24ucHJvZ3Jlc3MsIG9iamVjdGl2ZXMgfSk7XG5cbiAgcmV0dXJuIG9iamVjdGl2ZXM7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU1pc3Npb25Qcm9ncmVzcyhvYmplY3RpdmVzOiBNaXNzaW9uT2JqZWN0aXZlU3RhdGVbXSk6IG51bWJlciB7XG4gIGlmICghb2JqZWN0aXZlcyB8fCBvYmplY3RpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IHRvdGFsID0gb2JqZWN0aXZlcy5yZWR1Y2UoKHN1bSwgb2JqKSA9PiBzdW0gKyBjbGFtcFByb2dyZXNzKG9iai5wcm9ncmVzcyksIDApO1xuICBjb25zdCBtZWFuID0gdG90YWwgLyBvYmplY3RpdmVzLmxlbmd0aDtcbiAgcmV0dXJuIGNsYW1wUHJvZ3Jlc3MobWVhbik7XG59XG5cbi8vIEhhbmRsZSBwcm90b2J1ZiBzdGF0ZSBtZXNzYWdlcyAoc2ltcGxpZmllZCB2ZXJzaW9uIG9mIGhhbmRsZVN0YXRlTWVzc2FnZSlcbmZ1bmN0aW9uIGhhbmRsZVByb3RvU3RhdGVNZXNzYWdlKFxuICBzdGF0ZTogQXBwU3RhdGUsXG4gIG1zZzogUmV0dXJuVHlwZTx0eXBlb2YgcHJvdG9Ub1N0YXRlPixcbiAgYnVzOiBFdmVudEJ1cyxcbiAgcHJldlJvdXRlczogTWFwPHN0cmluZywgTWlzc2lsZVJvdXRlPixcbiAgcHJldkFjdGl2ZVJvdXRlOiBzdHJpbmcgfCBudWxsLFxuICBwcmV2TWlzc2lsZUNvdW50OiBudW1iZXIsXG4pOiB2b2lkIHtcbiAgc3RhdGUubm93ID0gbXNnLm5vdztcbiAgc3RhdGUubm93U3luY2VkQXQgPSBtb25vdG9uaWNOb3coKTtcbiAgc3RhdGUubmV4dE1pc3NpbGVSZWFkeUF0ID0gbXNnLm5leHRNaXNzaWxlUmVhZHk7XG5cbiAgLy8gVXBkYXRlIHBsYXllciBzaGlwXG4gIGlmIChtc2cubWUpIHtcbiAgICBzdGF0ZS5tZSA9IHtcbiAgICAgIHg6IG1zZy5tZS54LFxuICAgICAgeTogbXNnLm1lLnksXG4gICAgICB2eDogbXNnLm1lLnZ4LFxuICAgICAgdnk6IG1zZy5tZS52eSxcbiAgICAgIGhwOiBtc2cubWUuaHAsXG4gICAgICBraWxsczogbXNnLm1lLmtpbGxzLFxuICAgICAgd2F5cG9pbnRzOiBtc2cubWUud2F5cG9pbnRzID8/IFtdLFxuICAgICAgY3VycmVudFdheXBvaW50SW5kZXg6IG1zZy5tZS5jdXJyZW50V2F5cG9pbnRJbmRleCA/PyAwLFxuICAgICAgaGVhdDogbXNnLm1lLmhlYXQgPyBjb252ZXJ0SGVhdFZpZXcobXNnLm1lLmhlYXQsIHN0YXRlLm5vd1N5bmNlZEF0LCBzdGF0ZS5ub3cpIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUubWUgPSBudWxsO1xuICB9XG5cbiAgLy8gVXBkYXRlIGdob3N0cyBhbmQgbWlzc2lsZXMgKGFscmVhZHkgaW4gY29ycmVjdCBmb3JtYXQgZnJvbSBwcm90b19oZWxwZXJzKVxuICBzdGF0ZS5naG9zdHMgPSBtc2cuZ2hvc3RzO1xuICBzdGF0ZS5taXNzaWxlcyA9IG1zZy5taXNzaWxlcztcblxuICAvLyBVcGRhdGUgbWlzc2lsZSByb3V0ZXNcbiAgY29uc3QgbmV3Um91dGVzOiBNaXNzaWxlUm91dGVbXSA9IG1zZy5taXNzaWxlUm91dGVzO1xuICBkaWZmUm91dGVzKHByZXZSb3V0ZXMsIG5ld1JvdXRlcywgYnVzKTtcbiAgc3RhdGUubWlzc2lsZVJvdXRlcyA9IG5ld1JvdXRlcztcblxuICAvLyBVcGRhdGUgYWN0aXZlIHJvdXRlXG4gIGNvbnN0IG5leHRBY3RpdmUgPSBtc2cuYWN0aXZlTWlzc2lsZVJvdXRlIHx8IChuZXdSb3V0ZXMubGVuZ3RoID4gMCA/IG5ld1JvdXRlc1swXS5pZCA6IG51bGwpO1xuICBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCA9IG5leHRBY3RpdmU7XG4gIGlmIChuZXh0QWN0aXZlICE9PSBwcmV2QWN0aXZlUm91dGUpIHtcbiAgICBidXMuZW1pdChcIm1pc3NpbGU6YWN0aXZlUm91dGVDaGFuZ2VkXCIsIHsgcm91dGVJZDogbmV4dEFjdGl2ZSB9KTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBtaXNzaWxlIGNvbmZpZ1xuICBpZiAobXNnLm1pc3NpbGVDb25maWcpIHtcbiAgICB1cGRhdGVNaXNzaWxlTGltaXRzKHN0YXRlLCB7XG4gICAgICBzcGVlZE1pbjogbXNnLm1pc3NpbGVDb25maWcuc3BlZWRNaW4sXG4gICAgICBzcGVlZE1heDogbXNnLm1pc3NpbGVDb25maWcuc3BlZWRNYXgsXG4gICAgICBhZ3JvTWluOiBtc2cubWlzc2lsZUNvbmZpZy5hZ3JvTWluLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcHJldkhlYXQgPSBzdGF0ZS5taXNzaWxlQ29uZmlnLmhlYXRQYXJhbXM7XG4gICAgbGV0IGhlYXRQYXJhbXM6IHsgbWF4OiBudW1iZXI7IHdhcm5BdDogbnVtYmVyOyBvdmVyaGVhdEF0OiBudW1iZXI7IG1hcmtlclNwZWVkOiBudW1iZXI7IGtVcDogbnVtYmVyOyBrRG93bjogbnVtYmVyOyBleHA6IG51bWJlciB9IHwgdW5kZWZpbmVkO1xuICAgIGlmIChtc2cubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnKSB7XG4gICAgICBjb25zdCBoZWF0Q29uZmlnID0gbXNnLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZztcbiAgICAgIGhlYXRQYXJhbXMgPSB7XG4gICAgICAgIG1heDogaGVhdENvbmZpZy5tYXggPz8gcHJldkhlYXQ/Lm1heCA/PyAwLFxuICAgICAgICB3YXJuQXQ6IGhlYXRDb25maWcud2FybkF0ID8/IHByZXZIZWF0Py53YXJuQXQgPz8gMCxcbiAgICAgICAgb3ZlcmhlYXRBdDogaGVhdENvbmZpZy5vdmVyaGVhdEF0ID8/IHByZXZIZWF0Py5vdmVyaGVhdEF0ID8/IDAsXG4gICAgICAgIG1hcmtlclNwZWVkOiBoZWF0Q29uZmlnLm1hcmtlclNwZWVkID8/IHByZXZIZWF0Py5tYXJrZXJTcGVlZCA/PyAwLFxuICAgICAgICBrVXA6IGhlYXRDb25maWcua1VwID8/IHByZXZIZWF0Py5rVXAgPz8gMCxcbiAgICAgICAga0Rvd246IGhlYXRDb25maWcua0Rvd24gPz8gcHJldkhlYXQ/LmtEb3duID8/IDAsXG4gICAgICAgIGV4cDogaGVhdENvbmZpZy5leHAgPz8gcHJldkhlYXQ/LmV4cCA/PyAxLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZU1pc3NpbGVDb25maWcoe1xuICAgICAgc3BlZWQ6IG1zZy5taXNzaWxlQ29uZmlnLnNwZWVkLFxuICAgICAgYWdyb1JhZGl1czogbXNnLm1pc3NpbGVDb25maWcuYWdyb1JhZGl1cyxcbiAgICAgIGhlYXRQYXJhbXMsXG4gICAgfSwgc3RhdGUubWlzc2lsZUNvbmZpZywgc3RhdGUubWlzc2lsZUxpbWl0cyk7XG4gICAgc2FuaXRpemVkLmxpZmV0aW1lID0gbXNnLm1pc3NpbGVDb25maWcubGlmZXRpbWU7XG4gICAgc3RhdGUubWlzc2lsZUNvbmZpZyA9IHNhbml0aXplZDtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB3b3JsZCBtZXRhXG4gIHN0YXRlLndvcmxkTWV0YSA9IHtcbiAgICBjOiBtc2cubWV0YS5jLFxuICAgIHc6IG1zZy5tZXRhLncsXG4gICAgaDogbXNnLm1ldGEuaCxcbiAgfTtcblxuICAvLyBQaGFzZSAyOiBVcGRhdGUgaW52ZW50b3J5XG4gIGlmIChtc2cuaW52ZW50b3J5KSB7XG4gICAgc3RhdGUuaW52ZW50b3J5ID0ge1xuICAgICAgaXRlbXM6IG1zZy5pbnZlbnRvcnkuaXRlbXMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgIHZhcmlhbnRfaWQ6IGl0ZW0udmFyaWFudElkLFxuICAgICAgICBoZWF0X2NhcGFjaXR5OiBpdGVtLmhlYXRDYXBhY2l0eSxcbiAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksXG4gICAgICB9KSksXG4gICAgfTtcbiAgfVxuXG4gIC8vIFBoYXNlIDI6IFVwZGF0ZSBEQUcgKHByb3RvVG9TdGF0ZSBhbHJlYWR5IG5vcm1hbGl6ZWQgdmlhIHByb3RvX2hlbHBlcnMpXG4gIGlmIChtc2cuZGFnKSB7XG4gICAgc3RhdGUuZGFnID0ge1xuICAgICAgbm9kZXM6IG1zZy5kYWcubm9kZXMubWFwKChuKSA9PiAoe1xuICAgICAgICBpZDogbi5pZCxcbiAgICAgICAga2luZDogbi5raW5kLFxuICAgICAgICBsYWJlbDogbi5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBuLnN0YXR1cyxcbiAgICAgICAgcmVtYWluaW5nX3M6IG4ucmVtYWluaW5nUyxcbiAgICAgICAgZHVyYXRpb25fczogbi5kdXJhdGlvblMsXG4gICAgICAgIHJlcGVhdGFibGU6IG4ucmVwZWF0YWJsZSxcbiAgICAgICAgZWZmZWN0czogbi5lZmZlY3RzLFxuICAgICAgfSkpLFxuICAgIH07XG4gIH1cblxuICAvLyBQaGFzZSAyOiBVcGRhdGUgY2FwYWJpbGl0aWVzXG4gIGlmIChtc2cuY2FwYWJpbGl0aWVzKSB7XG4gICAgc3RhdGUuY2FwYWJpbGl0aWVzID0ge1xuICAgICAgc3BlZWRNdWx0aXBsaWVyOiBtc2cuY2FwYWJpbGl0aWVzLnNwZWVkTXVsdGlwbGllcixcbiAgICAgIHVubG9ja2VkTWlzc2lsZXM6IG1zZy5jYXBhYmlsaXRpZXMudW5sb2NrZWRNaXNzaWxlcyxcbiAgICAgIGhlYXRDYXBhY2l0eTogbXNnLmNhcGFiaWxpdGllcy5oZWF0Q2FwYWNpdHksXG4gICAgICBoZWF0RWZmaWNpZW5jeTogbXNnLmNhcGFiaWxpdGllcy5oZWF0RWZmaWNpZW5jeSxcbiAgICB9O1xuICB9XG5cbiAgLy8gUGhhc2UgMjogVXBkYXRlIHN0b3J5XG4gIGlmIChtc2cuc3RvcnkpIHtcbiAgICBjb25zdCBwcmV2QWN0aXZlTm9kZSA9IHN0YXRlLnN0b3J5Py5hY3RpdmVOb2RlID8/IG51bGw7XG5cbiAgICAvLyBDb252ZXJ0IHN0b3J5IGRpYWxvZ3VlIHRvIERpYWxvZ3VlQ29udGVudCBmb3JtYXRcbiAgICBsZXQgZGlhbG9ndWU6IERpYWxvZ3VlQ29udGVudCB8IG51bGwgPSBudWxsO1xuICAgIGlmIChtc2cuc3RvcnkuZGlhbG9ndWUpIHtcbiAgICAgIGNvbnN0IGQgPSBtc2cuc3RvcnkuZGlhbG9ndWU7XG4gICAgICBkaWFsb2d1ZSA9IHtcbiAgICAgICAgc3BlYWtlcjogZC5zcGVha2VyLFxuICAgICAgICB0ZXh0OiBkLnRleHQsXG4gICAgICAgIGludGVudDogZC5pbnRlbnQgYXMgXCJmYWN0b3J5XCIgfCBcInVuaXRcIixcbiAgICAgICAgdHlwaW5nU3BlZWRNczogMTgsXG4gICAgICAgIGNvbnRpbnVlTGFiZWw6IGQuY29udGludWVMYWJlbCxcbiAgICAgICAgY2hvaWNlczogZC5jaG9pY2VzPy5tYXAoYyA9PiAoeyBpZDogYy5pZCwgdGV4dDogYy50ZXh0IH0pKSxcbiAgICAgICAgdHV0b3JpYWxUaXA6IGQudHV0b3JpYWxUaXAgPyB7XG4gICAgICAgICAgdGl0bGU6IGQudHV0b3JpYWxUaXAudGl0bGUsXG4gICAgICAgICAgdGV4dDogZC50dXRvcmlhbFRpcC50ZXh0LFxuICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0ZS5zdG9yeSA9IHtcbiAgICAgIGFjdGl2ZU5vZGU6IG1zZy5zdG9yeS5hY3RpdmVOb2RlIHx8IG51bGwsXG4gICAgICBkaWFsb2d1ZSxcbiAgICAgIGF2YWlsYWJsZTogbXNnLnN0b3J5LmF2YWlsYWJsZSxcbiAgICAgIGZsYWdzOiBtc2cuc3RvcnkuZmxhZ3MsXG4gICAgICByZWNlbnRFdmVudHM6IG1zZy5zdG9yeS5yZWNlbnRFdmVudHMubWFwKChldnQpID0+ICh7XG4gICAgICAgIGNoYXB0ZXI6IGV2dC5jaGFwdGVySWQsXG4gICAgICAgIG5vZGU6IGV2dC5ub2RlSWQsXG4gICAgICAgIHRpbWVzdGFtcDogZXZ0LnRpbWVzdGFtcCxcbiAgICAgIH0pKSxcbiAgICB9O1xuXG4gICAgLy8gRW1pdCBldmVudCB3aGVuIGFjdGl2ZSBzdG9yeSBub2RlIGNoYW5nZXNcbiAgICBpZiAoc3RhdGUuc3RvcnkuYWN0aXZlTm9kZSAhPT0gcHJldkFjdGl2ZU5vZGUgJiYgc3RhdGUuc3RvcnkuYWN0aXZlTm9kZSkge1xuICAgICAgYnVzLmVtaXQoXCJzdG9yeTpub2RlQWN0aXZhdGVkXCIsIHtcbiAgICAgICAgbm9kZUlkOiBzdGF0ZS5zdG9yeS5hY3RpdmVOb2RlLFxuICAgICAgICBkaWFsb2d1ZTogc3RhdGUuc3RvcnkuZGlhbG9ndWUgPz8gdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRW1pdCBtaXNzaWxlIGNvdW50IGNoYW5nZSBpZiBuZWVkZWRcbiAgY29uc3QgbmV3TWlzc2lsZUNvdW50ID0gc3RhdGUubWlzc2lsZXMubGVuZ3RoO1xuICBpZiAobmV3TWlzc2lsZUNvdW50ID4gcHJldk1pc3NpbGVDb3VudCkge1xuICAgIGZvciAobGV0IGkgPSBwcmV2TWlzc2lsZUNvdW50OyBpIDwgbmV3TWlzc2lsZUNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IG0gPSBzdGF0ZS5taXNzaWxlc1tpXTtcbiAgICAgIGlmIChtICYmIG0uc2VsZikge1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6bGF1bmNoZWRcIiwgeyByb3V0ZUlkOiBtc2cuYWN0aXZlTWlzc2lsZVJvdXRlIHx8IFwiXCIgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRW1pdCBjb29sZG93biB1cGRhdGVcbiAgY29uc3QgY29vbGRvd25SZW1haW5pbmcgPSBNYXRoLm1heCgwLCBzdGF0ZS5uZXh0TWlzc2lsZVJlYWR5QXQgLSBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGUpKTtcbiAgYnVzLmVtaXQoXCJtaXNzaWxlOmNvb2xkb3duVXBkYXRlZFwiLCB7IHNlY29uZHNSZW1haW5pbmc6IGNvb2xkb3duUmVtYWluaW5nIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVNaXNzaW9uU25hcHNob3Qoc3RhdGU6IEFwcFN0YXRlLCBzbmFwc2hvdDogTWlzc2lvbkJlYWNvblNuYXBzaG90LCBidXM6IEV2ZW50QnVzKTogdm9pZCB7XG4gIGNvbnN0IG1pc3Npb24gPSBlbnN1cmVNaXNzaW9uU3RhdGUoc3RhdGUpO1xuICBjb25zdCBwcmV2aW91c01pc3Npb25JZCA9IG1pc3Npb24ubWlzc2lvbklkO1xuICBtaXNzaW9uLm1pc3Npb25JZCA9IHNuYXBzaG90Lm1pc3Npb25JZCB8fCBtaXNzaW9uLm1pc3Npb25JZCB8fCBcIlwiO1xuICBtaXNzaW9uLmxheW91dFNlZWQgPSBOdW1iZXIoc25hcHNob3QubGF5b3V0U2VlZCA/PyBtaXNzaW9uLmxheW91dFNlZWQgPz8gMCk7XG4gIG1pc3Npb24uc2VydmVyVGltZSA9IE51bWJlci5pc0Zpbml0ZShzbmFwc2hvdC5zZXJ2ZXJUaW1lKSA/IHNuYXBzaG90LnNlcnZlclRpbWUgOiBtaXNzaW9uLnNlcnZlclRpbWU7XG5cbiAgY29uc3QgcHJldmlvdXNCZWFjb25zID0gbmV3IE1hcChtaXNzaW9uLmJlYWNvbnMubWFwKChiKSA9PiBbYi5pZCwgYl0pKTtcbiAgbWlzc2lvbi5iZWFjb25zID0gc25hcHNob3QuYmVhY29uc1xuICAgIC5zbGljZSgpXG4gICAgLnNvcnQoKGEsIGIpID0+IGEub3JkaW5hbCAtIGIub3JkaW5hbClcbiAgICAubWFwKChkZWYpOiBNaXNzaW9uQmVhY29uID0+IHtcbiAgICAgIGNvbnN0IHByZXYgPSBwcmV2aW91c0JlYWNvbnMuZ2V0KGRlZi5pZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogZGVmLmlkLFxuICAgICAgICBvcmRpbmFsOiBkZWYub3JkaW5hbCxcbiAgICAgICAgeDogZGVmLngsXG4gICAgICAgIHk6IGRlZi55LFxuICAgICAgICByYWRpdXM6IGRlZi5yYWRpdXMsXG4gICAgICAgIHNlZWQ6IE51bWJlcihkZWYuc2VlZCB8fCAwKSxcbiAgICAgICAgZGlzY292ZXJlZDogcHJldj8uZGlzY292ZXJlZCA/PyBmYWxzZSxcbiAgICAgICAgY29tcGxldGVkOiBwcmV2Py5jb21wbGV0ZWQgPz8gZmFsc2UsXG4gICAgICAgIGNvb2xkb3duVW50aWw6IHByZXY/LmNvb2xkb3duVW50aWwgPz8gbnVsbCxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgY29uc3QgbG9jYWxQbGF5ZXJJZCA9IGdldExvY2FsUGxheWVySWQoc3RhdGUpO1xuICBsZXQgcGxheWVyUHJvdG8gPSBsb2NhbFBsYXllcklkXG4gICAgPyBzbmFwc2hvdC5wbGF5ZXJzLmZpbmQoKHApID0+IHAucGxheWVySWQgPT09IGxvY2FsUGxheWVySWQpIHx8IG51bGxcbiAgICA6IG51bGw7XG4gIGlmICghcGxheWVyUHJvdG8gJiYgc25hcHNob3QucGxheWVycy5sZW5ndGggPT09IDEpIHtcbiAgICBwbGF5ZXJQcm90byA9IHNuYXBzaG90LnBsYXllcnNbMF07XG4gIH1cblxuICBpZiAocGxheWVyUHJvdG8pIHtcbiAgICBjb25zdCBub3dNcyA9IG1vbm90b25pY05vdygpO1xuICAgIGNvbnN0IGRpc2NvdmVyZWRTZXQgPSBuZXcgU2V0KHBsYXllclByb3RvLmRpc2NvdmVyZWQgPz8gW10pO1xuICAgIGNvbnN0IGNvbXBsZXRlZFNldCA9IG5ldyBTZXQocGxheWVyUHJvdG8uY29tcGxldGVkID8/IFtdKTtcbiAgICBmb3IgKGNvbnN0IGJlYWNvbiBvZiBtaXNzaW9uLmJlYWNvbnMpIHtcbiAgICAgIGJlYWNvbi5kaXNjb3ZlcmVkID0gZGlzY292ZXJlZFNldC5oYXMoYmVhY29uLmlkKTtcbiAgICAgIGJlYWNvbi5jb21wbGV0ZWQgPSBjb21wbGV0ZWRTZXQuaGFzKGJlYWNvbi5pZCk7XG4gICAgICBjb25zdCBjb29sZG93biA9IHBsYXllclByb3RvLmNvb2xkb3ducz8uW2JlYWNvbi5pZF07XG4gICAgICBiZWFjb24uY29vbGRvd25VbnRpbCA9IE51bWJlci5pc0Zpbml0ZShjb29sZG93bikgPyBjb29sZG93biA6IG51bGw7XG4gICAgfVxuXG4gICAgbGV0IHBsYXllciA9IG1pc3Npb24ucGxheWVyO1xuICAgIGlmICghcGxheWVyIHx8IHBsYXllci5wbGF5ZXJJZCAhPT0gcGxheWVyUHJvdG8ucGxheWVySWQpIHtcbiAgICAgIHBsYXllciA9IHtcbiAgICAgICAgcGxheWVySWQ6IHBsYXllclByb3RvLnBsYXllcklkLFxuICAgICAgICBjdXJyZW50SW5kZXg6IHBsYXllclByb3RvLmN1cnJlbnRJbmRleCA/PyAwLFxuICAgICAgICBhY3RpdmVCZWFjb25JZDogcGxheWVyUHJvdG8uYWN0aXZlQmVhY29uIHx8IG51bGwsXG4gICAgICAgIGhvbGRBY2N1bTogcGxheWVyUHJvdG8uaG9sZEFjY3VtID8/IDAsXG4gICAgICAgIGhvbGRSZXF1aXJlZDogTWF0aC5tYXgoMCwgcGxheWVyUHJvdG8uaG9sZFJlcXVpcmVkID8/IDApLFxuICAgICAgICBkaXNwbGF5SG9sZDogcGxheWVyUHJvdG8uaG9sZEFjY3VtID8/IDAsXG4gICAgICAgIGxhc3RTZXJ2ZXJVcGRhdGU6IE51bWJlci5pc0Zpbml0ZShzbmFwc2hvdC5zZXJ2ZXJUaW1lKSA/IHNuYXBzaG90LnNlcnZlclRpbWUgOiBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGUpLFxuICAgICAgICBsYXN0RGlzcGxheVN5bmM6IG5vd01zLFxuICAgICAgICBpbnNpZGVBY3RpdmVCZWFjb246IGZhbHNlLFxuICAgICAgfTtcbiAgICAgIG1pc3Npb24ucGxheWVyID0gcGxheWVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbGF5ZXIuY3VycmVudEluZGV4ID0gcGxheWVyUHJvdG8uY3VycmVudEluZGV4ID8/IHBsYXllci5jdXJyZW50SW5kZXg7XG4gICAgICBwbGF5ZXIuYWN0aXZlQmVhY29uSWQgPSBwbGF5ZXJQcm90by5hY3RpdmVCZWFjb24gfHwgbnVsbDtcbiAgICAgIHBsYXllci5ob2xkQWNjdW0gPSBwbGF5ZXJQcm90by5ob2xkQWNjdW0gPz8gcGxheWVyLmhvbGRBY2N1bTtcbiAgICAgIHBsYXllci5ob2xkUmVxdWlyZWQgPSBNYXRoLm1heCgwLCBwbGF5ZXJQcm90by5ob2xkUmVxdWlyZWQgPz8gcGxheWVyLmhvbGRSZXF1aXJlZCk7XG4gICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSBwbGF5ZXJQcm90by5ob2xkQWNjdW0gPz8gcGxheWVyLmRpc3BsYXlIb2xkID8/IDA7XG4gICAgICBwbGF5ZXIubGFzdFNlcnZlclVwZGF0ZSA9IE51bWJlci5pc0Zpbml0ZShzbmFwc2hvdC5zZXJ2ZXJUaW1lKSA/IHNuYXBzaG90LnNlcnZlclRpbWUgOiBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGUpO1xuICAgICAgcGxheWVyLmxhc3REaXNwbGF5U3luYyA9IG5vd01zO1xuICAgIH1cblxuICAgIG1pc3Npb24uc3RhdHVzID0gY29tcGxldGVkU2V0LnNpemUgPiAwICYmIGNvbXBsZXRlZFNldC5zaXplID49IG1pc3Npb24uYmVhY29ucy5sZW5ndGggJiYgbWlzc2lvbi5iZWFjb25zLmxlbmd0aCA+IDBcbiAgICAgID8gXCJjb21wbGV0ZWRcIlxuICAgICAgOiBcImFjdGl2ZVwiO1xuICB9IGVsc2UgaWYgKCFtaXNzaW9uLnBsYXllciB8fCBtaXNzaW9uLnBsYXllci5wbGF5ZXJJZCA9PT0gXCJcIikge1xuICAgIG1pc3Npb24ucGxheWVyID0gbnVsbDtcbiAgICBtaXNzaW9uLnN0YXR1cyA9IFwiaWRsZVwiO1xuICAgIGZvciAoY29uc3QgYmVhY29uIG9mIG1pc3Npb24uYmVhY29ucykge1xuICAgICAgYmVhY29uLmRpc2NvdmVyZWQgPSBmYWxzZTtcbiAgICAgIGJlYWNvbi5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIGJlYWNvbi5jb29sZG93blVudGlsID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBtaXNzaW9uLmVuY291bnRlcnMgPSBzbmFwc2hvdC5lbmNvdW50ZXJzLm1hcCgoZW5jKTogTWlzc2lvbkVuY291bnRlclN0YXRlID0+ICh7XG4gICAgaWQ6IGVuYy5lbmNvdW50ZXJJZCxcbiAgICBiZWFjb25JZDogZW5jLmJlYWNvbklkLFxuICAgIHdhdmVJbmRleDogZW5jLndhdmVJbmRleCxcbiAgICBzcGF3bmVkQXQ6IGVuYy5zcGF3bmVkQXQsXG4gICAgZXhwaXJlc0F0OiBlbmMuZXhwaXJlc0F0LFxuICAgIGFjdGl2ZTogdHJ1ZSxcbiAgfSkpO1xuXG4gIC8vIElmIHRoaXMgaXMgYSBuZXcgbWlzc2lvbiBpZCwgcmVzZXQgdHJhbnNpZW50IHBsYXllciBzdGF0ZVxuICBpZiAobWlzc2lvbi5wbGF5ZXIgJiYgbWlzc2lvbi5taXNzaW9uSWQgIT09IHByZXZpb3VzTWlzc2lvbklkKSB7XG4gICAgbWlzc2lvbi5wbGF5ZXIuZGlzcGxheUhvbGQgPSBtaXNzaW9uLnBsYXllci5ob2xkQWNjdW07XG4gICAgbWlzc2lvbi5wbGF5ZXIubGFzdERpc3BsYXlTeW5jID0gbW9ub3RvbmljTm93KCk7XG4gICAgbWlzc2lvbi5wbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uID0gZmFsc2U7XG4gIH1cblxuICBhbGlnbk1pc3Npb25Qcm9ncmVzcyhtaXNzaW9uKTtcbiAgYnVzLmVtaXQoXCJtaXNzaW9uOnVwZGF0ZVwiLCB7IHJlYXNvbjogXCJzbmFwc2hvdFwiIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVNaXNzaW9uRGVsdGEoc3RhdGU6IEFwcFN0YXRlLCBkZWx0YTogTWlzc2lvbkJlYWNvbkRlbHRhLCBidXM6IEV2ZW50QnVzKTogdm9pZCB7XG4gIGNvbnN0IG1pc3Npb24gPSBlbnN1cmVNaXNzaW9uU3RhdGUoc3RhdGUpO1xuICBjb25zdCBub3dNcyA9IG1vbm90b25pY05vdygpO1xuICBjb25zdCBhcHByb3hOb3cgPSBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGUpO1xuICBjb25zdCBsb2NhbFBsYXllcklkID0gZ2V0TG9jYWxQbGF5ZXJJZChzdGF0ZSkgPz8gbWlzc2lvbi5wbGF5ZXI/LnBsYXllcklkID8/IG51bGw7XG4gIGxldCBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgZm9yIChjb25zdCBlbnRyeSBvZiBkZWx0YS5wbGF5ZXJzID8/IFtdKSB7XG4gICAgaWYgKGxvY2FsUGxheWVySWQgJiYgZW50cnkucGxheWVySWQgIT09IGxvY2FsUGxheWVySWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBwbGF5ZXIgPSBlbnN1cmVNaXNzaW9uUGxheWVyKG1pc3Npb24sIGVudHJ5LnBsYXllcklkKTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGVudHJ5LmhvbGRSZXF1aXJlZCkgJiYgZW50cnkuaG9sZFJlcXVpcmVkID4gMCkge1xuICAgICAgcGxheWVyLmhvbGRSZXF1aXJlZCA9IGVudHJ5LmhvbGRSZXF1aXJlZDtcbiAgICB9XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShlbnRyeS5ob2xkQWNjdW0pKSB7XG4gICAgICBwbGF5ZXIuaG9sZEFjY3VtID0gZW50cnkuaG9sZEFjY3VtO1xuICAgIH1cbiAgICBwbGF5ZXIubGFzdFNlcnZlclVwZGF0ZSA9IE51bWJlci5pc0Zpbml0ZShlbnRyeS5zZXJ2ZXJUaW1lKSA/IGVudHJ5LnNlcnZlclRpbWUgOiBhcHByb3hOb3c7XG4gICAgcGxheWVyLmxhc3REaXNwbGF5U3luYyA9IG5vd01zO1xuXG4gICAgY29uc3QgYmVhY29uID0gZmluZEJlYWNvbkZvckRlbHRhKG1pc3Npb24sIGVudHJ5KTtcblxuICAgIHN3aXRjaCAoZW50cnkudHlwZSkge1xuICAgICAgY2FzZSBNaXNzaW9uQmVhY29uRGVsdGFUeXBlLk1JU1NJT05fQkVBQ09OX0RFTFRBX0RJU0NPVkVSRUQ6XG4gICAgICAgIGlmIChiZWFjb24pIHtcbiAgICAgICAgICBiZWFjb24uZGlzY292ZXJlZCA9IHRydWU7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1pc3Npb25CZWFjb25EZWx0YVR5cGUuTUlTU0lPTl9CRUFDT05fREVMVEFfSE9MRF9QUk9HUkVTUzpcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNaXNzaW9uQmVhY29uRGVsdGFUeXBlLk1JU1NJT05fQkVBQ09OX0RFTFRBX0hPTERfUkVTRVQ6XG4gICAgICAgIHBsYXllci5ob2xkQWNjdW0gPSAwO1xuICAgICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSBNYXRoLm1pbihwbGF5ZXIuZGlzcGxheUhvbGQsIDApO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1pc3Npb25CZWFjb25EZWx0YVR5cGUuTUlTU0lPTl9CRUFDT05fREVMVEFfTE9DS0VEOlxuICAgICAgICBpZiAoYmVhY29uKSB7XG4gICAgICAgICAgYmVhY29uLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgY29vbGRvd24gPSBOdW1iZXIuaXNGaW5pdGUoZW50cnkuY29vbGRvd25VbnRpbCkgPyBlbnRyeS5jb29sZG93blVudGlsIDogbnVsbDtcbiAgICAgICAgICBiZWFjb24uY29vbGRvd25VbnRpbCA9IGNvb2xkb3duO1xuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllci5ob2xkQWNjdW0gPSAwO1xuICAgICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTWlzc2lvbkJlYWNvbkRlbHRhVHlwZS5NSVNTSU9OX0JFQUNPTl9ERUxUQV9DT09MRE9XTjpcbiAgICAgICAgaWYgKGJlYWNvbikge1xuICAgICAgICAgIGNvbnN0IGNvb2xkb3duID0gTnVtYmVyLmlzRmluaXRlKGVudHJ5LmNvb2xkb3duVW50aWwpID8gZW50cnkuY29vbGRvd25VbnRpbCA6IG51bGw7XG4gICAgICAgICAgYmVhY29uLmNvb2xkb3duVW50aWwgPSBjb29sZG93bjtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTWlzc2lvbkJlYWNvbkRlbHRhVHlwZS5NSVNTSU9OX0JFQUNPTl9ERUxUQV9NSVNTSU9OX0NPTVBMRVRFRDpcbiAgICAgICAgbWlzc2lvbi5zdGF0dXMgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBwbGF5ZXIuaG9sZEFjY3VtID0gMDtcbiAgICAgICAgcGxheWVyLmRpc3BsYXlIb2xkID0gMDtcbiAgICAgICAgcGxheWVyLmFjdGl2ZUJlYWNvbklkID0gbnVsbDtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRlbHRhLmVuY291bnRlcnMgJiYgZGVsdGEuZW5jb3VudGVycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZW5jb3VudGVyTWFwID0gbmV3IE1hcDxzdHJpbmcsIE1pc3Npb25FbmNvdW50ZXJTdGF0ZT4oKTtcbiAgICBmb3IgKGNvbnN0IGVuYyBvZiBtaXNzaW9uLmVuY291bnRlcnMpIHtcbiAgICAgIGVuY291bnRlck1hcC5zZXQoZW5jLmlkLCB7IC4uLmVuYyB9KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBldmVudCBvZiBkZWx0YS5lbmNvdW50ZXJzKSB7XG4gICAgICBsZXQgZW5jb3VudGVyID0gZW5jb3VudGVyTWFwLmdldChldmVudC5lbmNvdW50ZXJJZCk7XG4gICAgICBpZiAoIWVuY291bnRlcikge1xuICAgICAgICBlbmNvdW50ZXIgPSB7XG4gICAgICAgICAgaWQ6IGV2ZW50LmVuY291bnRlcklkLFxuICAgICAgICAgIGJlYWNvbklkOiBldmVudC5iZWFjb25JZCxcbiAgICAgICAgICB3YXZlSW5kZXg6IGV2ZW50LndhdmVJbmRleCxcbiAgICAgICAgICBzcGF3bmVkQXQ6IGV2ZW50LnNwYXduZWRBdCxcbiAgICAgICAgICBleHBpcmVzQXQ6IGV2ZW50LmV4cGlyZXNBdCxcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBlbmNvdW50ZXJNYXAuc2V0KGV2ZW50LmVuY291bnRlcklkLCBlbmNvdW50ZXIpO1xuICAgICAgfVxuICAgICAgZW5jb3VudGVyLmJlYWNvbklkID0gZXZlbnQuYmVhY29uSWQgfHwgZW5jb3VudGVyLmJlYWNvbklkO1xuICAgICAgZW5jb3VudGVyLndhdmVJbmRleCA9IGV2ZW50LndhdmVJbmRleCA/PyBlbmNvdW50ZXIud2F2ZUluZGV4O1xuICAgICAgZW5jb3VudGVyLnNwYXduZWRBdCA9IE51bWJlci5pc0Zpbml0ZShldmVudC5zcGF3bmVkQXQpID8gZXZlbnQuc3Bhd25lZEF0IDogZW5jb3VudGVyLnNwYXduZWRBdDtcbiAgICAgIGVuY291bnRlci5leHBpcmVzQXQgPSBOdW1iZXIuaXNGaW5pdGUoZXZlbnQuZXhwaXJlc0F0KSA/IGV2ZW50LmV4cGlyZXNBdCA6IGVuY291bnRlci5leHBpcmVzQXQ7XG4gICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSBNaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlLk1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1NQQVdORUQ6XG4gICAgICAgICAgZW5jb3VudGVyLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgZW5jb3VudGVyLnJlYXNvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlLk1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX0NMRUFSRUQ6XG4gICAgICAgICAgZW5jb3VudGVyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIGVuY291bnRlci5yZWFzb24gPSBldmVudC5yZWFzb24gfHwgXCJjbGVhcmVkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZS5NSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9USU1FT1VUOlxuICAgICAgICAgIGVuY291bnRlci5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICBlbmNvdW50ZXIucmVhc29uID0gZXZlbnQucmVhc29uIHx8IFwidGltZW91dFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGUuTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfUFVSR0VEOlxuICAgICAgICAgIGVuY291bnRlci5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICBlbmNvdW50ZXIucmVhc29uID0gZXZlbnQucmVhc29uIHx8IFwicHVyZ2VkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIG1pc3Npb24uZW5jb3VudGVycyA9IEFycmF5LmZyb20oZW5jb3VudGVyTWFwLnZhbHVlcygpKS5zb3J0KChhLCBiKSA9PiBhLnNwYXduZWRBdCAtIGIuc3Bhd25lZEF0KTtcbiAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChtaXNzaW9uLnBsYXllcikge1xuICAgIG1pc3Npb24ucGxheWVyLmRpc3BsYXlIb2xkID0gTWF0aC5taW4obWlzc2lvbi5wbGF5ZXIuZGlzcGxheUhvbGQsIG1pc3Npb24ucGxheWVyLmhvbGRBY2N1bSk7XG4gIH1cblxuICBpZiAoY2hhbmdlZCkge1xuICAgIGFsaWduTWlzc2lvblByb2dyZXNzKG1pc3Npb24pO1xuICAgIGJ1cy5lbWl0KFwibWlzc2lvbjp1cGRhdGVcIiwgeyByZWFzb246IFwiZGVsdGFcIiB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVNaXNzaW9uU3RhdGUoc3RhdGU6IEFwcFN0YXRlKTogTWlzc2lvblN0YXRlIHtcbiAgaWYgKCFzdGF0ZS5taXNzaW9uKSB7XG4gICAgc3RhdGUubWlzc2lvbiA9IHtcbiAgICAgIG1pc3Npb25JZDogXCJcIixcbiAgICAgIHRlbXBsYXRlSWQ6IFwiXCIsXG4gICAgICBkaXNwbGF5TmFtZTogXCJcIixcbiAgICAgIGFyY2hldHlwZTogXCJcIixcbiAgICAgIGxheW91dFNlZWQ6IDAsXG4gICAgICBzZXJ2ZXJUaW1lOiAwLFxuICAgICAgc3RhdHVzOiBcImlkbGVcIixcbiAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgICBjb21wbGV0aW9uVGltZTogbnVsbCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgYmVhY29uczogW10sXG4gICAgICBwbGF5ZXI6IG51bGwsXG4gICAgICBlbmNvdW50ZXJzOiBbXSxcbiAgICAgIG9iamVjdGl2ZXM6IFtdLFxuICAgICAgb2JqZWN0aXZlU3VtbWFyaWVzOiBbXSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLm1pc3Npb24udGVtcGxhdGVJZCA9IHN0YXRlLm1pc3Npb24udGVtcGxhdGVJZCA/PyBcIlwiO1xuICAgIHN0YXRlLm1pc3Npb24uZGlzcGxheU5hbWUgPSBzdGF0ZS5taXNzaW9uLmRpc3BsYXlOYW1lID8/IFwiXCI7XG4gICAgc3RhdGUubWlzc2lvbi5hcmNoZXR5cGUgPSBzdGF0ZS5taXNzaW9uLmFyY2hldHlwZSA/PyBcIlwiO1xuICAgIHN0YXRlLm1pc3Npb24udGltZW91dCA9IHN0YXRlLm1pc3Npb24udGltZW91dCA/PyAwO1xuICAgIHN0YXRlLm1pc3Npb24uc3RhcnRUaW1lID0gc3RhdGUubWlzc2lvbi5zdGFydFRpbWUgPz8gbnVsbDtcbiAgICBzdGF0ZS5taXNzaW9uLmNvbXBsZXRpb25UaW1lID0gc3RhdGUubWlzc2lvbi5jb21wbGV0aW9uVGltZSA/PyBudWxsO1xuICAgIHN0YXRlLm1pc3Npb24ucHJvZ3Jlc3MgPSBzdGF0ZS5taXNzaW9uLnByb2dyZXNzID8/IDA7XG4gICAgc3RhdGUubWlzc2lvbi5vYmplY3RpdmVzID0gc3RhdGUubWlzc2lvbi5vYmplY3RpdmVzID8/IFtdO1xuICAgIHN0YXRlLm1pc3Npb24ub2JqZWN0aXZlU3VtbWFyaWVzID0gc3RhdGUubWlzc2lvbi5vYmplY3RpdmVTdW1tYXJpZXMgPz8gW107XG4gIH1cbiAgcmV0dXJuIHN0YXRlLm1pc3Npb247XG59XG5cbmZ1bmN0aW9uIGVuc3VyZU1pc3Npb25QbGF5ZXIobWlzc2lvbjogTWlzc2lvblN0YXRlLCBwbGF5ZXJJZDogc3RyaW5nKTogTWlzc2lvblBsYXllclN0YXRlIHtcbiAgY29uc3Qgbm93TXMgPSBtb25vdG9uaWNOb3coKTtcbiAgaWYgKCFtaXNzaW9uLnBsYXllciB8fCBtaXNzaW9uLnBsYXllci5wbGF5ZXJJZCAhPT0gcGxheWVySWQpIHtcbiAgICBtaXNzaW9uLnBsYXllciA9IHtcbiAgICAgIHBsYXllcklkLFxuICAgICAgY3VycmVudEluZGV4OiBtaXNzaW9uLnBsYXllcj8uY3VycmVudEluZGV4ID8/IDAsXG4gICAgICBhY3RpdmVCZWFjb25JZDogbWlzc2lvbi5wbGF5ZXI/LmFjdGl2ZUJlYWNvbklkID8/IG51bGwsXG4gICAgICBob2xkQWNjdW06IG1pc3Npb24ucGxheWVyPy5ob2xkQWNjdW0gPz8gMCxcbiAgICAgIGhvbGRSZXF1aXJlZDogbWlzc2lvbi5wbGF5ZXI/LmhvbGRSZXF1aXJlZCA/PyAwLFxuICAgICAgZGlzcGxheUhvbGQ6IG1pc3Npb24ucGxheWVyPy5kaXNwbGF5SG9sZCA/PyAwLFxuICAgICAgbGFzdFNlcnZlclVwZGF0ZTogbWlzc2lvbi5wbGF5ZXI/Lmxhc3RTZXJ2ZXJVcGRhdGUgPz8gMCxcbiAgICAgIGxhc3REaXNwbGF5U3luYzogbm93TXMsXG4gICAgICBpbnNpZGVBY3RpdmVCZWFjb246IG1pc3Npb24ucGxheWVyPy5pbnNpZGVBY3RpdmVCZWFjb24gPz8gZmFsc2UsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbWlzc2lvbi5wbGF5ZXI7XG59XG5cbmZ1bmN0aW9uIGdldExvY2FsUGxheWVySWQoc3RhdGU6IEFwcFN0YXRlKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmIChzdGF0ZS5taXNzaW9uPy5wbGF5ZXI/LnBsYXllcklkKSB7XG4gICAgcmV0dXJuIHN0YXRlLm1pc3Npb24ucGxheWVyLnBsYXllcklkO1xuICB9XG4gIGNvbnN0IGlkID0gc3RhdGUubWU/LmlkO1xuICBpZiAoIWlkKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlkLnN0YXJ0c1dpdGgoXCJzaGlwLVwiKSkge1xuICAgIHJldHVybiBpZC5zbGljZShcInNoaXAtXCIubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gaWQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRCZWFjb25Gb3JEZWx0YShtaXNzaW9uOiBNaXNzaW9uU3RhdGUsIGRlbHRhOiB7IGJlYWNvbklkOiBzdHJpbmc7IG9yZGluYWw6IG51bWJlciB9KTogTWlzc2lvbkJlYWNvbiB8IHVuZGVmaW5lZCB7XG4gIGlmICghbWlzc2lvbi5iZWFjb25zLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKGRlbHRhLmJlYWNvbklkKSB7XG4gICAgY29uc3QgYmVhY29uID0gbWlzc2lvbi5iZWFjb25zLmZpbmQoKGIpID0+IGIuaWQgPT09IGRlbHRhLmJlYWNvbklkKTtcbiAgICBpZiAoYmVhY29uKSByZXR1cm4gYmVhY29uO1xuICB9XG4gIHJldHVybiBtaXNzaW9uLmJlYWNvbnMuZmluZCgoYikgPT4gYi5vcmRpbmFsID09PSBkZWx0YS5vcmRpbmFsKTtcbn1cblxuZnVuY3Rpb24gYWxpZ25NaXNzaW9uUHJvZ3Jlc3MobWlzc2lvbjogTWlzc2lvblN0YXRlKTogdm9pZCB7XG4gIGlmIChtaXNzaW9uLm9iamVjdGl2ZXMgJiYgbWlzc2lvbi5vYmplY3RpdmVzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGxheWVyID0gbWlzc2lvbi5wbGF5ZXI7XG4gIGlmICghcGxheWVyKSB7XG4gICAgbWlzc2lvbi5zdGF0dXMgPSBcImlkbGVcIjtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbmV4dEJlYWNvbiA9IG1pc3Npb24uYmVhY29ucy5maW5kKChiKSA9PiAhYi5jb21wbGV0ZWQpO1xuICBpZiAoIW5leHRCZWFjb24pIHtcbiAgICBtaXNzaW9uLnN0YXR1cyA9IFwiY29tcGxldGVkXCI7XG4gICAgcGxheWVyLmN1cnJlbnRJbmRleCA9IG1pc3Npb24uYmVhY29ucy5sZW5ndGg7XG4gICAgcGxheWVyLmFjdGl2ZUJlYWNvbklkID0gbnVsbDtcbiAgICBwbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG4gIG1pc3Npb24uc3RhdHVzID0gXCJhY3RpdmVcIjtcbiAgcGxheWVyLmN1cnJlbnRJbmRleCA9IG5leHRCZWFjb24ub3JkaW5hbDtcbiAgcGxheWVyLmFjdGl2ZUJlYWNvbklkID0gbmV4dEJlYWNvbi5pZDtcbn1cblxuZnVuY3Rpb24gZGlmZlJvdXRlcyhwcmV2Um91dGVzOiBNYXA8c3RyaW5nLCBNaXNzaWxlUm91dGU+LCBuZXh0Um91dGVzOiBNaXNzaWxlUm91dGVbXSwgYnVzOiBFdmVudEJ1cyk6IHZvaWQge1xuICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGZvciAoY29uc3Qgcm91dGUgb2YgbmV4dFJvdXRlcykge1xuICAgIHNlZW4uYWRkKHJvdXRlLmlkKTtcbiAgICBjb25zdCBwcmV2ID0gcHJldlJvdXRlcy5nZXQocm91dGUuaWQpO1xuICAgIGlmICghcHJldikge1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOnJvdXRlQWRkZWRcIiwgeyByb3V0ZUlkOiByb3V0ZS5pZCB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAocm91dGUubmFtZSAhPT0gcHJldi5uYW1lKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6cm91dGVSZW5hbWVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQsIG5hbWU6IHJvdXRlLm5hbWUgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS53YXlwb2ludHMubGVuZ3RoID4gcHJldi53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkLCBpbmRleDogcm91dGUud2F5cG9pbnRzLmxlbmd0aCAtIDEgfSk7XG4gICAgfSBlbHNlIGlmIChyb3V0ZS53YXlwb2ludHMubGVuZ3RoIDwgcHJldi53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnREZWxldGVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQsIGluZGV4OiBwcmV2LndheXBvaW50cy5sZW5ndGggLSAxIH0pO1xuICAgIH1cbiAgICBpZiAocHJldi53YXlwb2ludHMubGVuZ3RoID4gMCAmJiByb3V0ZS53YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRzQ2xlYXJlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkIH0pO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IFtyb3V0ZUlkXSBvZiBwcmV2Um91dGVzKSB7XG4gICAgaWYgKCFzZWVuLmhhcyhyb3V0ZUlkKSkge1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOnJvdXRlRGVsZXRlZFwiLCB7IHJvdXRlSWQgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lUm91dGUocm91dGU6IE1pc3NpbGVSb3V0ZSk6IE1pc3NpbGVSb3V0ZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJvdXRlLmlkLFxuICAgIG5hbWU6IHJvdXRlLm5hbWUsXG4gICAgd2F5cG9pbnRzOiByb3V0ZS53YXlwb2ludHMubWFwKCh3cCkgPT4gKHsgLi4ud3AgfSkpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlOiBBcHBTdGF0ZSk6IG51bWJlciB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHN0YXRlLm5vdykpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBzeW5jZWRBdCA9IE51bWJlci5pc0Zpbml0ZShzdGF0ZS5ub3dTeW5jZWRBdCkgPyBzdGF0ZS5ub3dTeW5jZWRBdCA6IG51bGw7XG4gIGlmICghc3luY2VkQXQpIHtcbiAgICByZXR1cm4gc3RhdGUubm93O1xuICB9XG4gIGNvbnN0IGVsYXBzZWRNcyA9IG1vbm90b25pY05vdygpIC0gc3luY2VkQXQ7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGVsYXBzZWRNcykgfHwgZWxhcHNlZE1zIDwgMCkge1xuICAgIHJldHVybiBzdGF0ZS5ub3c7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLm5vdyArIGVsYXBzZWRNcyAvIDEwMDA7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRIZWF0VmlldyhzZXJ2ZXJIZWF0OiB7IHY6IG51bWJlcjsgbTogbnVtYmVyOyB3OiBudW1iZXI7IG86IG51bWJlcjsgbXM6IG51bWJlcjsgc3U6IG51bWJlcjsga3U6IG51bWJlcjsga2Q6IG51bWJlcjsgZXg6IG51bWJlciB9LCBub3dTeW5jZWRBdE1zOiBudW1iZXIsIHNlcnZlck5vd1NlYzogbnVtYmVyKTogaW1wb3J0KFwiLi9zdGF0ZVwiKS5IZWF0VmlldyB7XG4gIC8vIENvbnZlcnQgc2VydmVyIHRpbWUgKHN0YWxsVW50aWwgaW4gc2Vjb25kcykgdG8gY2xpZW50IHRpbWUgKG1pbGxpc2Vjb25kcylcbiAgLy8gc3RhbGxVbnRpbCBpcyBhYnNvbHV0ZSBzZXJ2ZXIgdGltZSwgc28gd2UgbmVlZCB0byBjb252ZXJ0IGl0IHRvIGNsaWVudCB0aW1lXG4gIGNvbnN0IHNlcnZlclN0YWxsVW50aWxTZWMgPSBzZXJ2ZXJIZWF0LnN1O1xuICBjb25zdCBvZmZzZXRGcm9tTm93U2VjID0gc2VydmVyU3RhbGxVbnRpbFNlYyAtIHNlcnZlck5vd1NlYztcbiAgY29uc3Qgc3RhbGxVbnRpbE1zID0gbm93U3luY2VkQXRNcyArIChvZmZzZXRGcm9tTm93U2VjICogMTAwMCk7XG5cbiAgY29uc3QgaGVhdFZpZXcgPSB7XG4gICAgdmFsdWU6IHNlcnZlckhlYXQudixcbiAgICBtYXg6IHNlcnZlckhlYXQubSxcbiAgICB3YXJuQXQ6IHNlcnZlckhlYXQudyxcbiAgICBvdmVyaGVhdEF0OiBzZXJ2ZXJIZWF0Lm8sXG4gICAgbWFya2VyU3BlZWQ6IHNlcnZlckhlYXQubXMsXG4gICAgc3RhbGxVbnRpbE1zOiBzdGFsbFVudGlsTXMsXG4gICAga1VwOiBzZXJ2ZXJIZWF0Lmt1LFxuICAgIGtEb3duOiBzZXJ2ZXJIZWF0LmtkLFxuICAgIGV4cDogc2VydmVySGVhdC5leCxcbiAgfTtcbiAgcmV0dXJuIGhlYXRWaWV3O1xufVxuIiwgImV4cG9ydCBjb25zdCBNSU5fWk9PTSA9IDEuMDtcbmV4cG9ydCBjb25zdCBNQVhfWk9PTSA9IDMuMDtcblxuZXhwb3J0IGNvbnN0IEhFTFBfVEVYVCA9IFtcbiAgXCJQcmltYXJ5IE1vZGVzXCIsXG4gIFwiICAxIFx1MjAxMyBUb2dnbGUgc2hpcCBuYXZpZ2F0aW9uIG1vZGVcIixcbiAgXCIgIDIgXHUyMDEzIFRvZ2dsZSBtaXNzaWxlIGNvb3JkaW5hdGlvbiBtb2RlXCIsXG4gIFwiXCIsXG4gIFwiU2hpcCBOYXZpZ2F0aW9uXCIsXG4gIFwiICBUIFx1MjAxMyBTd2l0Y2ggYmV0d2VlbiBzZXQvc2VsZWN0XCIsXG4gIFwiICBDIFx1MjAxMyBDbGVhciBhbGwgd2F5cG9pbnRzXCIsXG4gIFwiICBIIFx1MjAxMyBIb2xkIChjbGVhciB3YXlwb2ludHMgJiBzdG9wKVwiLFxuICBcIiAgUiBcdTIwMTMgVG9nZ2xlIHNob3cgcm91dGVcIixcbiAgXCIgIFsgLyBdIFx1MjAxMyBBZGp1c3Qgd2F5cG9pbnQgc3BlZWRcIixcbiAgXCIgIFNoaWZ0K1sgLyBdIFx1MjAxMyBDb2Fyc2Ugc3BlZWQgYWRqdXN0XCIsXG4gIFwiICBUYWIgLyBTaGlmdCtUYWIgXHUyMDEzIEN5Y2xlIHdheXBvaW50c1wiLFxuICBcIiAgRGVsZXRlIFx1MjAxMyBEZWxldGUgZnJvbSBzZWxlY3RlZCB3YXlwb2ludFwiLFxuICBcIlwiLFxuICBcIk1pc3NpbGUgQ29vcmRpbmF0aW9uXCIsXG4gIFwiICBOIFx1MjAxMyBBZGQgbmV3IG1pc3NpbGUgcm91dGVcIixcbiAgXCIgIEwgXHUyMDEzIExhdW5jaCBtaXNzaWxlc1wiLFxuICBcIiAgRSBcdTIwMTMgU3dpdGNoIGJldHdlZW4gc2V0L3NlbGVjdFwiLFxuICBcIiAgLCAvIC4gXHUyMDEzIEFkanVzdCBhZ3JvIHJhZGl1c1wiLFxuICBcIiAgOyAvICcgXHUyMDEzIEFkanVzdCBtaXNzaWxlIHNwZWVkXCIsXG4gIFwiICBTaGlmdCtzbGlkZXIga2V5cyBcdTIwMTMgQ29hcnNlIGFkanVzdFwiLFxuICBcIiAgRGVsZXRlIFx1MjAxMyBEZWxldGUgc2VsZWN0ZWQgbWlzc2lsZSB3YXlwb2ludFwiLFxuICBcIlwiLFxuICBcIk1hcCBDb250cm9sc1wiLFxuICBcIiAgKy8tIFx1MjAxMyBab29tIGluL291dFwiLFxuICBcIiAgQ3RybCswIFx1MjAxMyBSZXNldCB6b29tXCIsXG4gIFwiICBNb3VzZSB3aGVlbCBcdTIwMTMgWm9vbSBhdCBjdXJzb3JcIixcbiAgXCIgIFBpbmNoIFx1MjAxMyBab29tIG9uIHRvdWNoIGRldmljZXNcIixcbiAgXCJcIixcbiAgXCJHZW5lcmFsXCIsXG4gIFwiICA/IFx1MjAxMyBUb2dnbGUgdGhpcyBvdmVybGF5XCIsXG4gIFwiICBFc2MgXHUyMDEzIENhbmNlbCBzZWxlY3Rpb24gb3IgY2xvc2Ugb3ZlcmxheVwiLFxuXS5qb2luKFwiXFxuXCIpO1xuIiwgImltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIFVJU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgeyBNQVhfWk9PTSwgTUlOX1pPT00gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFEZXBlbmRlbmNpZXMge1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICB1aVN0YXRlOiBVSVN0YXRlO1xufVxuXG5pbnRlcmZhY2UgV29ybGRTaXplIHtcbiAgdzogbnVtYmVyO1xuICBoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhIHtcbiAgc2V0Wm9vbShuZXdab29tOiBudW1iZXIsIGNlbnRlclg/OiBudW1iZXIsIGNlbnRlclk/OiBudW1iZXIpOiB2b2lkO1xuICBnZXRDYW1lcmFQb3NpdGlvbigpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHdvcmxkVG9DYW52YXMocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBjYW52YXNUb1dvcmxkKHA6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgdXBkYXRlV29ybGRGcm9tTWV0YShtZXRhOiBQYXJ0aWFsPFdvcmxkU2l6ZSB8IHVuZGVmaW5lZD4pOiB2b2lkO1xuICBnZXRXb3JsZFNpemUoKTogV29ybGRTaXplO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FtZXJhKHsgY2FudmFzLCBzdGF0ZSwgdWlTdGF0ZSB9OiBDYW1lcmFEZXBlbmRlbmNpZXMpOiBDYW1lcmEge1xuICBjb25zdCB3b3JsZDogV29ybGRTaXplID0geyB3OiA4MDAwLCBoOiA0NTAwIH07XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUNhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiBjYW52YXMgPz8gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFpvb20obmV3Wm9vbTogbnVtYmVyLCBjZW50ZXJYPzogbnVtYmVyLCBjZW50ZXJZPzogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gY2VudGVyIHBhcmFtZXRlcnMgcmVzZXJ2ZWQgZm9yIHBvdGVudGlhbCBzbW9vdGggem9vbWluZyBsb2dpY1xuICAgIHZvaWQgY2VudGVyWDtcbiAgICB2b2lkIGNlbnRlclk7XG4gICAgdWlTdGF0ZS56b29tID0gY2xhbXAobmV3Wm9vbSwgTUlOX1pPT00sIE1BWF9aT09NKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENhbWVyYVBvc2l0aW9uKCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gICAgY29uc3QgY3YgPSByZXNvbHZlQ2FudmFzKCk7XG4gICAgaWYgKCFjdikgcmV0dXJuIHsgeDogd29ybGQudyAvIDIsIHk6IHdvcmxkLmggLyAyIH07XG5cbiAgICBjb25zdCB6b29tID0gdWlTdGF0ZS56b29tO1xuXG4gICAgbGV0IGNhbWVyYVggPSBzdGF0ZS5tZSA/IHN0YXRlLm1lLnggOiB3b3JsZC53IC8gMjtcbiAgICBsZXQgY2FtZXJhWSA9IHN0YXRlLm1lID8gc3RhdGUubWUueSA6IHdvcmxkLmggLyAyO1xuXG4gICAgY29uc3Qgc2NhbGVYID0gY3Yud2lkdGggLyB3b3JsZC53O1xuICAgIGNvbnN0IHNjYWxlWSA9IGN2LmhlaWdodCAvIHdvcmxkLmg7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkgKiB6b29tO1xuXG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IGN2LndpZHRoIC8gc2NhbGU7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBjdi5oZWlnaHQgLyBzY2FsZTtcblxuICAgIGNvbnN0IG1pbkNhbWVyYVggPSB2aWV3cG9ydFdpZHRoIC8gMjtcbiAgICBjb25zdCBtYXhDYW1lcmFYID0gd29ybGQudyAtIHZpZXdwb3J0V2lkdGggLyAyO1xuICAgIGNvbnN0IG1pbkNhbWVyYVkgPSB2aWV3cG9ydEhlaWdodCAvIDI7XG4gICAgY29uc3QgbWF4Q2FtZXJhWSA9IHdvcmxkLmggLSB2aWV3cG9ydEhlaWdodCAvIDI7XG5cbiAgICBpZiAodmlld3BvcnRXaWR0aCA8IHdvcmxkLncpIHtcbiAgICAgIGNhbWVyYVggPSBjbGFtcChjYW1lcmFYLCBtaW5DYW1lcmFYLCBtYXhDYW1lcmFYKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FtZXJhWCA9IHdvcmxkLncgLyAyO1xuICAgIH1cblxuICAgIGlmICh2aWV3cG9ydEhlaWdodCA8IHdvcmxkLmgpIHtcbiAgICAgIGNhbWVyYVkgPSBjbGFtcChjYW1lcmFZLCBtaW5DYW1lcmFZLCBtYXhDYW1lcmFZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FtZXJhWSA9IHdvcmxkLmggLyAyO1xuICAgIH1cblxuICAgIHJldHVybiB7IHg6IGNhbWVyYVgsIHk6IGNhbWVyYVkgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdvcmxkVG9DYW52YXMocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCBjdiA9IHJlc29sdmVDYW52YXMoKTtcbiAgICBpZiAoIWN2KSByZXR1cm4geyB4OiBwLngsIHk6IHAueSB9O1xuXG4gICAgY29uc3Qgem9vbSA9IHVpU3RhdGUuem9vbTtcbiAgICBjb25zdCBjYW1lcmEgPSBnZXRDYW1lcmFQb3NpdGlvbigpO1xuXG4gICAgY29uc3Qgd29ybGRYID0gcC54IC0gY2FtZXJhLng7XG4gICAgY29uc3Qgd29ybGRZID0gcC55IC0gY2FtZXJhLnk7XG5cbiAgICBjb25zdCBzY2FsZVggPSBjdi53aWR0aCAvIHdvcmxkLnc7XG4gICAgY29uc3Qgc2NhbGVZID0gY3YuaGVpZ2h0IC8gd29ybGQuaDtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIHpvb207XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogd29ybGRYICogc2NhbGUgKyBjdi53aWR0aCAvIDIsXG4gICAgICB5OiB3b3JsZFkgKiBzY2FsZSArIGN2LmhlaWdodCAvIDIsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbnZhc1RvV29ybGQocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCBjdiA9IHJlc29sdmVDYW52YXMoKTtcbiAgICBpZiAoIWN2KSByZXR1cm4geyB4OiBwLngsIHk6IHAueSB9O1xuXG4gICAgY29uc3Qgem9vbSA9IHVpU3RhdGUuem9vbTtcbiAgICBjb25zdCBjYW1lcmEgPSBnZXRDYW1lcmFQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgY2FudmFzWCA9IHAueCAtIGN2LndpZHRoIC8gMjtcbiAgICBjb25zdCBjYW52YXNZID0gcC55IC0gY3YuaGVpZ2h0IC8gMjtcblxuICAgIGNvbnN0IHNjYWxlWCA9IGN2LndpZHRoIC8gd29ybGQudztcbiAgICBjb25zdCBzY2FsZVkgPSBjdi5oZWlnaHQgLyB3b3JsZC5oO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpICogem9vbTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBjYW52YXNYIC8gc2NhbGUgKyBjYW1lcmEueCxcbiAgICAgIHk6IGNhbnZhc1kgLyBzY2FsZSArIGNhbWVyYS55LFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVXb3JsZEZyb21NZXRhKG1ldGE6IFBhcnRpYWw8V29ybGRTaXplIHwgdW5kZWZpbmVkPik6IHZvaWQge1xuICAgIGlmICghbWV0YSkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgbWV0YS53ID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShtZXRhLncpKSB7XG4gICAgICB3b3JsZC53ID0gbWV0YS53O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG1ldGEuaCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUobWV0YS5oKSkge1xuICAgICAgd29ybGQuaCA9IG1ldGEuaDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRXb3JsZFNpemUoKTogV29ybGRTaXplIHtcbiAgICByZXR1cm4geyAuLi53b3JsZCB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRab29tLFxuICAgIGdldENhbWVyYVBvc2l0aW9uLFxuICAgIHdvcmxkVG9DYW52YXMsXG4gICAgY2FudmFzVG9Xb3JsZCxcbiAgICB1cGRhdGVXb3JsZEZyb21NZXRhLFxuICAgIGdldFdvcmxkU2l6ZSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBDYW1lcmEgfSBmcm9tIFwiLi9jYW1lcmFcIjtcbmltcG9ydCB0eXBlIHsgTG9naWMsIFBvaW50ZXJQb2ludCB9IGZyb20gXCIuL2xvZ2ljXCI7XG5pbXBvcnQgdHlwZSB7IFVJQ29udHJvbGxlciB9IGZyb20gXCIuL3VpXCI7XG5cbmludGVyZmFjZSBJbnB1dERlcGVuZGVuY2llcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHVpOiBVSUNvbnRyb2xsZXI7XG4gIGxvZ2ljOiBMb2dpYztcbiAgY2FtZXJhOiBDYW1lcmE7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgdWlTdGF0ZTogVUlTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgc2VuZE1lc3NhZ2UocGF5bG9hZDogdW5rbm93bik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRDb250cm9sbGVyIHtcbiAgYmluZElucHV0KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnB1dCh7XG4gIGNhbnZhcyxcbiAgdWksXG4gIGxvZ2ljLFxuICBjYW1lcmEsXG4gIHN0YXRlLFxuICB1aVN0YXRlLFxuICBidXMsXG4gIHNlbmRNZXNzYWdlLFxufTogSW5wdXREZXBlbmRlbmNpZXMpOiBJbnB1dENvbnRyb2xsZXIge1xuICBsZXQgbGFzdFRvdWNoRGlzdGFuY2U6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBsZXQgcGVuZGluZ1RvdWNoVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcbiAgbGV0IGlzUGluY2hpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnZXRQb2ludGVyQ2FudmFzUG9pbnQoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IFBvaW50ZXJQb2ludCB7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzY2FsZVggPSByZWN0LndpZHRoICE9PSAwID8gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCA6IDE7XG4gICAgY29uc3Qgc2NhbGVZID0gcmVjdC5oZWlnaHQgIT09IDAgPyBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQgOiAxO1xuICAgIHJldHVybiB7XG4gICAgICB4OiAoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgKiBzY2FsZVgsXG4gICAgICB5OiAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxlWSxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9pbnRlclBsYWNlbWVudChjYW52YXNQb2ludDogUG9pbnRlclBvaW50LCB3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwibWlzc2lsZVwiID8gXCJtaXNzaWxlXCIgOiBcInNoaXBcIjtcbiAgICBpZiAoY29udGV4dCA9PT0gXCJtaXNzaWxlXCIpIHtcbiAgICAgIGxvZ2ljLmhhbmRsZU1pc3NpbGVQb2ludGVyKGNhbnZhc1BvaW50LCB3b3JsZFBvaW50KTtcbiAgICAgIHVpLnJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2ljLmhhbmRsZVNoaXBQb2ludGVyKGNhbnZhc1BvaW50LCB3b3JsZFBvaW50KTtcbiAgICAgIHVpLnVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DYW52YXNQb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgY2FudmFzUG9pbnQgPSBnZXRQb2ludGVyQ2FudmFzUG9pbnQoZXZlbnQpO1xuICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBjYW1lcmEuY2FudmFzVG9Xb3JsZChjYW52YXNQb2ludCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVpU3RhdGUuaW5wdXRDb250ZXh0ID09PSBcIm1pc3NpbGVcIiA/IFwibWlzc2lsZVwiIDogXCJzaGlwXCI7XG5cbiAgICBpZiAoY29udGV4dCA9PT0gXCJzaGlwXCIgJiYgdWlTdGF0ZS5zaGlwVG9vbCA9PT0gXCJzZWxlY3RcIiAmJiBzdGF0ZS5tZT8ud2F5cG9pbnRzKSB7XG4gICAgICBjb25zdCB3cEluZGV4ID0gbG9naWMuZmluZFdheXBvaW50QXRQb3NpdGlvbihjYW52YXNQb2ludCk7XG4gICAgICBpZiAod3BJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBsb2dpYy5iZWdpblNoaXBEcmFnKHdwSW5kZXgsIGNhbnZhc1BvaW50KTtcbiAgICAgICAgY2FudmFzLnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCA9PT0gXCJtaXNzaWxlXCIgJiYgdWlTdGF0ZS5taXNzaWxlVG9vbCA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgY29uc3QgaGl0ID0gbG9naWMuaGl0VGVzdE1pc3NpbGVSb3V0ZXMoY2FudmFzUG9pbnQpO1xuICAgICAgaWYgKGhpdCkge1xuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKGhpdC5zZWxlY3Rpb24sIGhpdC5yb3V0ZS5pZCk7XG4gICAgICAgIHVpLnJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgICAgIGlmIChoaXQuc2VsZWN0aW9uLnR5cGUgPT09IFwid2F5cG9pbnRcIikge1xuICAgICAgICAgIGxvZ2ljLmJlZ2luTWlzc2lsZURyYWcoaGl0LnNlbGVjdGlvbi5pbmRleCwgY2FudmFzUG9pbnQpO1xuICAgICAgICAgIGNhbnZhcy5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICB1aS5yZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIH1cblxuICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICBpZiAocGVuZGluZ1RvdWNoVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocGVuZGluZ1RvdWNoVGltZW91dCk7XG4gICAgICB9XG4gICAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChpc1BpbmNoaW5nKSByZXR1cm47XG4gICAgICAgIGhhbmRsZVBvaW50ZXJQbGFjZW1lbnQoY2FudmFzUG9pbnQsIHdvcmxkUG9pbnQpO1xuICAgICAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVBvaW50ZXJQbGFjZW1lbnQoY2FudmFzUG9pbnQsIHdvcmxkUG9pbnQpO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1BvaW50ZXJNb3ZlKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBkcmFnZ2luZ1NoaXAgPSBsb2dpYy5nZXREcmFnZ2VkV2F5cG9pbnQoKSAhPT0gbnVsbDtcbiAgICBjb25zdCBkcmFnZ2luZ01pc3NpbGUgPSBsb2dpYy5nZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50KCkgIT09IG51bGw7XG4gICAgaWYgKCFkcmFnZ2luZ1NoaXAgJiYgIWRyYWdnaW5nTWlzc2lsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2FudmFzUG9pbnQgPSBnZXRQb2ludGVyQ2FudmFzUG9pbnQoZXZlbnQpO1xuICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBjYW1lcmEuY2FudmFzVG9Xb3JsZChjYW52YXNQb2ludCk7XG5cbiAgICBpZiAoZHJhZ2dpbmdTaGlwKSB7XG4gICAgICBsb2dpYy51cGRhdGVTaGlwRHJhZyh3b3JsZFBvaW50KTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnaW5nTWlzc2lsZSkge1xuICAgICAgbG9naWMudXBkYXRlTWlzc2lsZURyYWcod29ybGRQb2ludCk7XG4gICAgICB1aS5yZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1BvaW50ZXJVcChldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgbG9naWMuZW5kRHJhZygpO1xuICAgIGlmIChjYW52YXMuaGFzUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgY2FudmFzLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgIH1cbiAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzV2hlZWwoZXZlbnQ6IFdoZWVsRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY2VudGVyWCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgY29uc3QgY2VudGVyWSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICBjb25zdCBzY2FsZVggPSByZWN0LndpZHRoICE9PSAwID8gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCA6IDE7XG4gICAgY29uc3Qgc2NhbGVZID0gcmVjdC5oZWlnaHQgIT09IDAgPyBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQgOiAxO1xuICAgIGNvbnN0IGNhbnZhc0NlbnRlclggPSBjZW50ZXJYICogc2NhbGVYO1xuICAgIGNvbnN0IGNhbnZhc0NlbnRlclkgPSBjZW50ZXJZICogc2NhbGVZO1xuICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGVsdGFZO1xuICAgIGNvbnN0IHpvb21GYWN0b3IgPSBkZWx0YSA+IDAgPyAwLjkgOiAxLjE7XG4gICAgY29uc3QgbmV3Wm9vbSA9IHVpU3RhdGUuem9vbSAqIHpvb21GYWN0b3I7XG4gICAgY2FtZXJhLnNldFpvb20obmV3Wm9vbSwgY2FudmFzQ2VudGVyWCwgY2FudmFzQ2VudGVyWSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUb3VjaERpc3RhbmNlKHRvdWNoZXM6IFRvdWNoTGlzdCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICh0b3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGR4ID0gdG91Y2hlc1swXS5jbGllbnRYIC0gdG91Y2hlc1sxXS5jbGllbnRYO1xuICAgIGNvbnN0IGR5ID0gdG91Y2hlc1swXS5jbGllbnRZIC0gdG91Y2hlc1sxXS5jbGllbnRZO1xuICAgIHJldHVybiBNYXRoLmh5cG90KGR4LCBkeSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUb3VjaENlbnRlcih0b3VjaGVzOiBUb3VjaExpc3QpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBpZiAodG91Y2hlcy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgeDogKHRvdWNoZXNbMF0uY2xpZW50WCArIHRvdWNoZXNbMV0uY2xpZW50WCkgLyAyLFxuICAgICAgeTogKHRvdWNoZXNbMF0uY2xpZW50WSArIHRvdWNoZXNbMV0uY2xpZW50WSkgLyAyLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1RvdWNoU3RhcnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpc1BpbmNoaW5nID0gdHJ1ZTtcbiAgICAgIGxhc3RUb3VjaERpc3RhbmNlID0gZ2V0VG91Y2hEaXN0YW5jZShldmVudC50b3VjaGVzKTtcbiAgICAgIGlmIChwZW5kaW5nVG91Y2hUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVG91Y2hUaW1lb3V0KTtcbiAgICAgICAgcGVuZGluZ1RvdWNoVGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DYW52YXNUb3VjaE1vdmUoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDIpIHtcbiAgICAgIGxhc3RUb3VjaERpc3RhbmNlID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBjdXJyZW50RGlzdGFuY2UgPSBnZXRUb3VjaERpc3RhbmNlKGV2ZW50LnRvdWNoZXMpO1xuICAgIGlmIChjdXJyZW50RGlzdGFuY2UgPT09IG51bGwgfHwgbGFzdFRvdWNoRGlzdGFuY2UgPT09IG51bGwpIHJldHVybjtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGNlbnRlciA9IGdldFRvdWNoQ2VudGVyKGV2ZW50LnRvdWNoZXMpO1xuICAgIGlmICghY2VudGVyKSByZXR1cm47XG4gICAgY29uc3Qgc2NhbGVYID0gcmVjdC53aWR0aCAhPT0gMCA/IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGggOiAxO1xuICAgIGNvbnN0IHNjYWxlWSA9IHJlY3QuaGVpZ2h0ICE9PSAwID8gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0IDogMTtcbiAgICBjb25zdCBjYW52YXNDZW50ZXJYID0gKGNlbnRlci54IC0gcmVjdC5sZWZ0KSAqIHNjYWxlWDtcbiAgICBjb25zdCBjYW52YXNDZW50ZXJZID0gKGNlbnRlci55IC0gcmVjdC50b3ApICogc2NhbGVZO1xuICAgIGNvbnN0IHpvb21GYWN0b3IgPSBjdXJyZW50RGlzdGFuY2UgLyBsYXN0VG91Y2hEaXN0YW5jZTtcbiAgICBjb25zdCBuZXdab29tID0gdWlTdGF0ZS56b29tICogem9vbUZhY3RvcjtcbiAgICBjYW1lcmEuc2V0Wm9vbShuZXdab29tLCBjYW52YXNDZW50ZXJYLCBjYW52YXNDZW50ZXJZKTtcbiAgICBsYXN0VG91Y2hEaXN0YW5jZSA9IGN1cnJlbnREaXN0YW5jZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzVG91Y2hFbmQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICBsYXN0VG91Y2hEaXN0YW5jZSA9IG51bGw7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaXNQaW5jaGluZyA9IGZhbHNlO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVBZGRNaXNzaWxlUm91dGUoKTogdm9pZCB7XG4gICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiYWRkX21pc3NpbGVfcm91dGVcIiB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uV2luZG93S2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGNvbnN0IGlzRWRpdGFibGUgPVxuICAgICAgISF0YXJnZXQgJiZcbiAgICAgICh0YXJnZXQudGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICAgIHRhcmdldC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIgfHxcbiAgICAgICAgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKTtcblxuICAgIGlmICh1aVN0YXRlLmhlbHBWaXNpYmxlICYmIGV2ZW50LmtleSAhPT0gXCJFc2NhcGVcIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0YXJnZXQuYmx1cigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgY2FzZSBcIkRpZ2l0MVwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiRGlnaXQyXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJLZXlUXCI6XG4gICAgICAgIGlmICh1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwic2hpcC1zZXRcIikge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJzaGlwLXNlbGVjdFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwic2hpcC1zZWxlY3RcIikge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJzaGlwLXNldFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1aS5zZXRBY3RpdmVUb29sKFwic2hpcC1zZXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIktleUNcIjpcbiAgICAgIGNhc2UgXCJLZXlIXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIGxvZ2ljLmNsZWFyU2hpcFJvdXRlKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJCcmFja2V0TGVmdFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICB1aS5hZGp1c3RTaGlwU3BlZWQoLTEsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIkJyYWNrZXRSaWdodFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICB1aS5hZGp1c3RTaGlwU3BlZWQoMSwgZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiVGFiXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIGxvZ2ljLmN5Y2xlU2hpcFNlbGVjdGlvbihldmVudC5zaGlmdEtleSA/IC0xIDogMSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJLZXlOXCI6XG4gICAgICAgIGhhbmRsZUFkZE1pc3NpbGVSb3V0ZSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiS2V5TFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICBsb2dpYy5sYXVuY2hBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIktleUVcIjpcbiAgICAgICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJtaXNzaWxlLXNldFwiKSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2VsZWN0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJtaXNzaWxlLXNlbGVjdFwiKSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2V0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJtaXNzaWxlLXNldFwiKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiQ29tbWFcIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgICAgdWkuYWRqdXN0TWlzc2lsZUFncm8oLTEsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlBlcmlvZFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICB1aS5hZGp1c3RNaXNzaWxlQWdybygxLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJTZW1pY29sb25cIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgICAgdWkuYWRqdXN0TWlzc2lsZVNwZWVkKC0xLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJRdW90ZVwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICB1aS5hZGp1c3RNaXNzaWxlU3BlZWQoMSwgZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiRGVsZXRlXCI6XG4gICAgICBjYXNlIFwiQmFja3NwYWNlXCI6XG4gICAgICAgIGlmICh1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJtaXNzaWxlXCIgJiYgbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpKSB7XG4gICAgICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2dpYy5nZXRTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGxvZ2ljLmRlbGV0ZVNlbGVjdGVkU2hpcFdheXBvaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIkVzY2FwZVwiOiB7XG4gICAgICAgIGlmICh1aVN0YXRlLmhlbHBWaXNpYmxlKSB7XG4gICAgICAgICAgdWkuc2V0SGVscFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9naWMuZ2V0U2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICBsb2dpYy5zZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwibWlzc2lsZVwiKSB7XG4gICAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIFwiRXF1YWxcIjpcbiAgICAgIGNhc2UgXCJOdW1wYWRBZGRcIjoge1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgICAgICBjYW1lcmEuc2V0Wm9vbSh1aVN0YXRlLnpvb20gKiAxLjIsIGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIFwiTWludXNcIjpcbiAgICAgIGNhc2UgXCJOdW1wYWRTdWJ0cmFjdFwiOiB7XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgICAgIGNhbWVyYS5zZXRab29tKHVpU3RhdGUuem9vbSAvIDEuMiwgY2VudGVyWCwgY2VudGVyWSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJEaWdpdDBcIjpcbiAgICAgIGNhc2UgXCJOdW1wYWQwXCI6XG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgICAgICBjYW1lcmEuc2V0Wm9vbSgxLjApO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCI/XCIpIHtcbiAgICAgIHVpLnNldEhlbHBWaXNpYmxlKCF1aVN0YXRlLmhlbHBWaXNpYmxlKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYmluZElucHV0KCk6IHZvaWQge1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgb25DYW52YXNQb2ludGVyRG93bik7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBvbkNhbnZhc1BvaW50ZXJNb3ZlKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBvbkNhbnZhc1BvaW50ZXJVcCk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsIG9uQ2FudmFzUG9pbnRlclVwKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIG9uQ2FudmFzV2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG9uQ2FudmFzVG91Y2hTdGFydCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvbkNhbnZhc1RvdWNoTW92ZSwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIG9uQ2FudmFzVG91Y2hFbmQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uV2luZG93S2V5RG93biwgeyBjYXB0dXJlOiBmYWxzZSB9KTtcblxuICAgIGJ1cy5vbihcImNvbnRleHQ6Y2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ1RvdWNoVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocGVuZGluZ1RvdWNoVGltZW91dCk7XG4gICAgICAgIHBlbmRpbmdUb3VjaFRpbWVvdXQgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiaW5kSW5wdXQsXG4gIH07XG59XG4iLCAiLy8gU2hhcmVkIHJvdXRlIHBsYW5uaW5nIG1vZHVsZSBmb3Igc2hpcHMgYW5kIG1pc3NpbGVzXG4vLyBQaGFzZSAxOiBTaGFyZWQgTW9kZWwgJiBIZWxwZXJzXG5cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4vc3RhdGVcIjtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVHlwZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZVdheXBvaW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHNwZWVkPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlUG9pbnRzIHtcbiAgd2F5cG9pbnRzOiBSb3V0ZVdheXBvaW50W107XG4gIHdvcmxkUG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXTtcbiAgY2FudmFzUG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29uc3RhbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBXQVlQT0lOVF9ISVRfUkFESVVTID0gMTI7XG5leHBvcnQgY29uc3QgTEVHX0hJVF9ESVNUQU5DRSA9IDEwO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBCdWlsZGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEJ1aWxkcyByb3V0ZSBwb2ludHMgZnJvbSBhIHN0YXJ0IHBvc2l0aW9uIGFuZCB3YXlwb2ludHMuXG4gKiBJbmNsdWRlcyB3b3JsZCBjb29yZGluYXRlcyAod3JhcHBpbmcpIGFuZCBjYW52YXMgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJvdXRlUG9pbnRzKFxuICBzdGFydDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuICB3YXlwb2ludHM6IFJvdXRlV2F5cG9pbnRbXSxcbiAgd29ybGQ6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSxcbiAgY2FtZXJhOiAoKSA9PiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG4gIHpvb206ICgpID0+IG51bWJlcixcbiAgd29ybGRUb0NhbnZhczogKHA6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4geyB4OiBudW1iZXI7IHk6IG51bWJlciB9XG4pOiBSb3V0ZVBvaW50cyB7XG4gIGNvbnN0IHdvcmxkUG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXSA9IFt7IHg6IHN0YXJ0LngsIHk6IHN0YXJ0LnkgfV07XG5cbiAgZm9yIChjb25zdCB3cCBvZiB3YXlwb2ludHMpIHtcbiAgICB3b3JsZFBvaW50cy5wdXNoKHsgeDogd3AueCwgeTogd3AueSB9KTtcbiAgfVxuXG4gIGNvbnN0IGNhbnZhc1BvaW50cyA9IHdvcmxkUG9pbnRzLm1hcCgocG9pbnQpID0+IHdvcmxkVG9DYW52YXMocG9pbnQpKTtcblxuICByZXR1cm4ge1xuICAgIHdheXBvaW50czogd2F5cG9pbnRzLnNsaWNlKCksXG4gICAgd29ybGRQb2ludHMsXG4gICAgY2FudmFzUG9pbnRzLFxuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBHZW9tZXRyeSAvIEhpdC10ZXN0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgZnJvbSBhIHBvaW50IHRvIGEgbGluZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRTZWdtZW50RGlzdGFuY2UoXG4gIHA6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgYTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuICBiOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1cbik6IG51bWJlciB7XG4gIGNvbnN0IGFieCA9IGIueCAtIGEueDtcbiAgY29uc3QgYWJ5ID0gYi55IC0gYS55O1xuICBjb25zdCBhcHggPSBwLnggLSBhLng7XG4gIGNvbnN0IGFweSA9IHAueSAtIGEueTtcbiAgY29uc3QgYWJMZW5TcSA9IGFieCAqIGFieCArIGFieSAqIGFieTtcbiAgY29uc3QgdCA9IGFiTGVuU3EgPT09IDAgPyAwIDogY2xhbXAoYXB4ICogYWJ4ICsgYXB5ICogYWJ5LCAwLCBhYkxlblNxKSAvIGFiTGVuU3E7XG4gIGNvbnN0IHByb2p4ID0gYS54ICsgYWJ4ICogdDtcbiAgY29uc3QgcHJvankgPSBhLnkgKyBhYnkgKiB0O1xuICBjb25zdCBkeCA9IHAueCAtIHByb2p4O1xuICBjb25zdCBkeSA9IHAueSAtIHByb2p5O1xuICByZXR1cm4gTWF0aC5oeXBvdChkeCwgZHkpO1xufVxuXG4vKipcbiAqIEhpdC10ZXN0cyBhIHJvdXRlIGFnYWluc3QgYSBjYW52YXMgcG9pbnQuXG4gKiBSZXR1cm5zIHRoZSBoaXQgdHlwZSBhbmQgaW5kZXgsIG9yIG51bGwgaWYgbm8gaGl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGl0VGVzdFJvdXRlR2VuZXJpYyhcbiAgY2FudmFzUG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgcm91dGVQb2ludHM6IFJvdXRlUG9pbnRzLFxuICBvcHRzOiB7XG4gICAgd2F5cG9pbnRIaXRSYWRpdXM/OiBudW1iZXI7XG4gICAgbGVnSGl0RGlzdGFuY2U/OiBudW1iZXI7XG4gICAgc2tpcExlZ3M/OiBib29sZWFuO1xuICB9ID0ge31cbik6IHsgdHlwZTogXCJ3YXlwb2ludFwiIHwgXCJsZWdcIjsgaW5kZXg6IG51bWJlciB9IHwgbnVsbCB7XG4gIGNvbnN0IHdheXBvaW50SGl0UmFkaXVzID0gb3B0cy53YXlwb2ludEhpdFJhZGl1cyA/PyBXQVlQT0lOVF9ISVRfUkFESVVTO1xuICBjb25zdCBsZWdIaXREaXN0YW5jZSA9IG9wdHMubGVnSGl0RGlzdGFuY2UgPz8gTEVHX0hJVF9ESVNUQU5DRTtcbiAgY29uc3Qgc2tpcExlZ3MgPSBvcHRzLnNraXBMZWdzID8/IGZhbHNlO1xuXG4gIGNvbnN0IHsgd2F5cG9pbnRzLCBjYW52YXNQb2ludHMgfSA9IHJvdXRlUG9pbnRzO1xuXG4gIGlmICh3YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayB3YXlwb2ludHMgZmlyc3QgKGhpZ2hlciBwcmlvcml0eSB0aGFuIGxlZ3MpXG4gIC8vIFNraXAgaW5kZXggMCB3aGljaCBpcyB0aGUgc3RhcnQgcG9zaXRpb25cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB3cENhbnZhcyA9IGNhbnZhc1BvaW50c1tpICsgMV07IC8vICsxIGJlY2F1c2UgZmlyc3QgcG9pbnQgaXMgc3RhcnQgcG9zaXRpb25cbiAgICBjb25zdCBkeCA9IGNhbnZhc1BvaW50LnggLSB3cENhbnZhcy54O1xuICAgIGNvbnN0IGR5ID0gY2FudmFzUG9pbnQueSAtIHdwQ2FudmFzLnk7XG4gICAgaWYgKE1hdGguaHlwb3QoZHgsIGR5KSA8PSB3YXlwb2ludEhpdFJhZGl1cykge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ3YXlwb2ludFwiLCBpbmRleDogaSB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGxlZ3MgKGxvd2VyIHByaW9yaXR5KVxuICBpZiAoIXNraXBMZWdzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGRpc3QgPSBwb2ludFNlZ21lbnREaXN0YW5jZShjYW52YXNQb2ludCwgY2FudmFzUG9pbnRzW2ldLCBjYW52YXNQb2ludHNbaSArIDFdKTtcbiAgICAgIGlmIChkaXN0IDw9IGxlZ0hpdERpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwibGVnXCIsIGluZGV4OiBpIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERhc2ggQW5pbWF0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogVXBkYXRlcyBkYXNoIG9mZnNldHMgZm9yIHJvdXRlIGxlZ3MgdG8gY3JlYXRlIG1hcmNoaW5nIGFudHMgYW5pbWF0aW9uLlxuICogTXV0YXRlcyB0aGUgcHJvdmlkZWQgc3RvcmUgbWFwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRGFzaE9mZnNldHNGb3JSb3V0ZShcbiAgc3RvcmU6IE1hcDxudW1iZXIsIG51bWJlcj4sXG4gIHdheXBvaW50czogQXJyYXk8eyBzcGVlZD86IG51bWJlciB9PixcbiAgd29ybGRQb2ludHM6IEFycmF5PHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4sXG4gIGNhbnZhc1BvaW50czogQXJyYXk8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9PixcbiAgZmFsbGJhY2tTcGVlZDogbnVtYmVyLFxuICBkdFNlY29uZHM6IG51bWJlcixcbiAgY3ljbGUgPSA2NFxuKTogdm9pZCB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGR0U2Vjb25kcykgfHwgZHRTZWNvbmRzIDwgMCkge1xuICAgIGR0U2Vjb25kcyA9IDA7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHdwID0gd2F5cG9pbnRzW2ldO1xuICAgIGNvbnN0IHNwZWVkID0gdHlwZW9mIHdwLnNwZWVkID09PSBcIm51bWJlclwiICYmIHdwLnNwZWVkID4gMCA/IHdwLnNwZWVkIDogZmFsbGJhY2tTcGVlZDtcbiAgICBjb25zdCBhV29ybGQgPSB3b3JsZFBvaW50c1tpXTtcbiAgICBjb25zdCBiV29ybGQgPSB3b3JsZFBvaW50c1tpICsgMV07XG4gICAgY29uc3Qgd29ybGREaXN0ID0gTWF0aC5oeXBvdChiV29ybGQueCAtIGFXb3JsZC54LCBiV29ybGQueSAtIGFXb3JsZC55KTtcbiAgICBjb25zdCBhQ2FudmFzID0gY2FudmFzUG9pbnRzW2ldO1xuICAgIGNvbnN0IGJDYW52YXMgPSBjYW52YXNQb2ludHNbaSArIDFdO1xuICAgIGNvbnN0IGNhbnZhc0Rpc3QgPSBNYXRoLmh5cG90KGJDYW52YXMueCAtIGFDYW52YXMueCwgYkNhbnZhcy55IC0gYUNhbnZhcy55KTtcblxuICAgIGlmIChcbiAgICAgICFOdW1iZXIuaXNGaW5pdGUoc3BlZWQpIHx8XG4gICAgICBzcGVlZCA8PSAxZS0zIHx8XG4gICAgICAhTnVtYmVyLmlzRmluaXRlKHdvcmxkRGlzdCkgfHxcbiAgICAgIHdvcmxkRGlzdCA8PSAxZS0zIHx8XG4gICAgICBjYW52YXNEaXN0IDw9IDFlLTNcbiAgICApIHtcbiAgICAgIHN0b3JlLnNldChpLCAwKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChkdFNlY29uZHMgPD0gMCkge1xuICAgICAgaWYgKCFzdG9yZS5oYXMoaSkpIHtcbiAgICAgICAgc3RvcmUuc2V0KGksIDApO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NhbGUgPSBjYW52YXNEaXN0IC8gd29ybGREaXN0O1xuICAgIGNvbnN0IGRhc2hTcGVlZCA9IHNwZWVkICogc2NhbGU7XG4gICAgbGV0IG5leHQgPSAoc3RvcmUuZ2V0KGkpID8/IDApIC0gZGFzaFNwZWVkICogZHRTZWNvbmRzO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKG5leHQpKSB7XG4gICAgICBuZXh0ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dCA9ICgobmV4dCAlIGN5Y2xlKSArIGN5Y2xlKSAlIGN5Y2xlO1xuICAgIH1cbiAgICBzdG9yZS5zZXQoaSwgbmV4dCk7XG4gIH1cbiAgLy8gQ2xlYW4gdXAgb2xkIGtleXNcbiAgZm9yIChjb25zdCBrZXkgb2YgQXJyYXkuZnJvbShzdG9yZS5rZXlzKCkpKSB7XG4gICAgaWYgKGtleSA+PSB3YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBzdG9yZS5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVhdCBQcm9qZWN0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhdFByb2plY3Rpb25QYXJhbXMge1xuICBtYXJrZXJTcGVlZDogbnVtYmVyO1xuICBrVXA6IG51bWJlcjtcbiAga0Rvd246IG51bWJlcjtcbiAgZXhwOiBudW1iZXI7XG4gIG1heDogbnVtYmVyO1xuICBvdmVyaGVhdEF0OiBudW1iZXI7XG4gIHdhcm5BdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYXRQcm9qZWN0aW9uUmVzdWx0IHtcbiAgaGVhdEF0V2F5cG9pbnRzOiBudW1iZXJbXTtcbiAgd2lsbE92ZXJoZWF0OiBib29sZWFuO1xuICBvdmVyaGVhdEF0PzogbnVtYmVyOyAvLyBJbmRleCB3aGVyZSBvdmVyaGVhdCBvY2N1cnNcbn1cblxuLyoqXG4gKiBQcm9qZWN0cyBoZWF0IGFsb25nIGEgcm91dGUgZ2l2ZW4gaW5pdGlhbCBoZWF0IGFuZCBoZWF0IHBhcmFtZXRlcnMuXG4gKiBSZXR1cm5zIGhlYXQgYXQgZWFjaCB3YXlwb2ludCBhbmQgd2hldGhlciBvdmVyaGVhdCB3aWxsIG9jY3VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdFJvdXRlSGVhdChcbiAgcm91dGU6IFJvdXRlV2F5cG9pbnRbXSxcbiAgaW5pdGlhbEhlYXQ6IG51bWJlcixcbiAgcGFyYW1zOiBIZWF0UHJvamVjdGlvblBhcmFtc1xuKTogSGVhdFByb2plY3Rpb25SZXN1bHQge1xuICBjb25zdCByZXN1bHQ6IEhlYXRQcm9qZWN0aW9uUmVzdWx0ID0ge1xuICAgIGhlYXRBdFdheXBvaW50czogW10sXG4gICAgd2lsbE92ZXJoZWF0OiBmYWxzZSxcbiAgfTtcblxuICBpZiAocm91dGUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGxldCBoZWF0ID0gY2xhbXAoaW5pdGlhbEhlYXQsIDAsIHBhcmFtcy5tYXgpO1xuICBsZXQgcHJldlBvaW50ID0geyB4OiByb3V0ZVswXS54LCB5OiByb3V0ZVswXS55IH07XG5cbiAgcmVzdWx0LmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcm91dGUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0YXJnZXRQb3MgPSByb3V0ZVtpXTtcblxuICAgIC8vIENhbGN1bGF0ZSBkaXN0YW5jZSBhbmQgdGltZVxuICAgIGNvbnN0IGR4ID0gdGFyZ2V0UG9zLnggLSBwcmV2UG9pbnQueDtcbiAgICBjb25zdCBkeSA9IHRhcmdldFBvcy55IC0gcHJldlBvaW50Lnk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgaWYgKGRpc3RhbmNlIDwgMC4wMDEpIHtcbiAgICAgIHJlc3VsdC5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcbiAgICAgIHByZXZQb2ludCA9IHsgeDogdGFyZ2V0UG9zLngsIHk6IHRhcmdldFBvcy55IH07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCByYXdTcGVlZCA9IHRhcmdldFBvcy5zcGVlZCA/PyBwYXJhbXMubWFya2VyU3BlZWQ7XG4gICAgY29uc3Qgc2VnbWVudFNwZWVkID0gTWF0aC5tYXgocmF3U3BlZWQsIDAuMDAwMDAxKTtcbiAgICBjb25zdCBzZWdtZW50VGltZSA9IGRpc3RhbmNlIC8gc2VnbWVudFNwZWVkO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGhlYXQgcmF0ZSAobWF0Y2ggc2VydmVyIGZvcm11bGEpXG4gICAgY29uc3QgVm4gPSBNYXRoLm1heChwYXJhbXMubWFya2VyU3BlZWQsIDAuMDAwMDAxKTtcbiAgICBjb25zdCBkZXYgPSBzZWdtZW50U3BlZWQgLSBwYXJhbXMubWFya2VyU3BlZWQ7XG4gICAgY29uc3QgcCA9IHBhcmFtcy5leHA7XG5cbiAgICBsZXQgaGRvdDogbnVtYmVyO1xuICAgIGlmIChkZXYgPj0gMCkge1xuICAgICAgLy8gSGVhdGluZ1xuICAgICAgaGRvdCA9IHBhcmFtcy5rVXAgKiBNYXRoLnBvdyhkZXYgLyBWbiwgcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvb2xpbmdcbiAgICAgIGhkb3QgPSAtcGFyYW1zLmtEb3duICogTWF0aC5wb3coTWF0aC5hYnMoZGV2KSAvIFZuLCBwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgaGVhdFxuICAgIGhlYXQgKz0gaGRvdCAqIHNlZ21lbnRUaW1lO1xuICAgIGhlYXQgPSBjbGFtcChoZWF0LCAwLCBwYXJhbXMubWF4KTtcblxuICAgIHJlc3VsdC5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcblxuICAgIC8vIENoZWNrIGZvciBvdmVyaGVhdFxuICAgIGlmICghcmVzdWx0LndpbGxPdmVyaGVhdCAmJiBoZWF0ID49IHBhcmFtcy5vdmVyaGVhdEF0KSB7XG4gICAgICByZXN1bHQud2lsbE92ZXJoZWF0ID0gdHJ1ZTtcbiAgICAgIHJlc3VsdC5vdmVyaGVhdEF0ID0gaTtcbiAgICB9XG5cbiAgICBwcmV2UG9pbnQgPSB7IHg6IHRhcmdldFBvcy54LCB5OiB0YXJnZXRQb3MueSB9O1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb21wYXRpYmlsaXR5IHdyYXBwZXIgZm9yIG1pc3NpbGUgaGVhdCBwcm9qZWN0aW9uLlxuICogTWlzc2lsZXMgc3RhcnQgYXQgemVybyBoZWF0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdE1pc3NpbGVIZWF0Q29tcGF0KFxuICByb3V0ZTogUm91dGVXYXlwb2ludFtdLFxuICBkZWZhdWx0U3BlZWQ6IG51bWJlcixcbiAgaGVhdFBhcmFtczogSGVhdFByb2plY3Rpb25QYXJhbXNcbik6IEhlYXRQcm9qZWN0aW9uUmVzdWx0IHtcbiAgLy8gTWlzc2lsZXMgc3RhcnQgYXQgemVybyBoZWF0XG4gIC8vIEVuc3VyZSBhbGwgd2F5cG9pbnRzIGhhdmUgc3BlZWQgc2V0ICh1c2UgZGVmYXVsdCBpZiBtaXNzaW5nKVxuICBjb25zdCByb3V0ZVdpdGhTcGVlZCA9IHJvdXRlLm1hcCgod3ApID0+ICh7XG4gICAgeDogd3AueCxcbiAgICB5OiB3cC55LFxuICAgIHNwZWVkOiB3cC5zcGVlZCA/PyBkZWZhdWx0U3BlZWQsXG4gIH0pKTtcblxuICByZXR1cm4gcHJvamVjdFJvdXRlSGVhdChyb3V0ZVdpdGhTcGVlZCwgMCwgaGVhdFBhcmFtcyk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJlbmRlcmluZ1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIExpbmVhciBjb2xvciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIFJHQiBjb2xvcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUNvbG9yKFxuICBjb2xvcjE6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgY29sb3IyOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gIHQ6IG51bWJlclxuKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcbiAgcmV0dXJuIFtcbiAgICBNYXRoLnJvdW5kKGNvbG9yMVswXSArIChjb2xvcjJbMF0gLSBjb2xvcjFbMF0pICogdCksXG4gICAgTWF0aC5yb3VuZChjb2xvcjFbMV0gKyAoY29sb3IyWzFdIC0gY29sb3IxWzFdKSAqIHQpLFxuICAgIE1hdGgucm91bmQoY29sb3IxWzJdICsgKGNvbG9yMlsyXSAtIGNvbG9yMVsyXSkgKiB0KSxcbiAgXTtcbn1cblxuLyoqXG4gKiBDb2xvciBwYWxldHRlIGZvciByb3V0ZSByZW5kZXJpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVQYWxldHRlIHtcbiAgLy8gRGVmYXVsdCBsaW5lIGNvbG9yICh3aGVuIG5vIGhlYXQgZGF0YSlcbiAgZGVmYXVsdExpbmU6IHN0cmluZztcbiAgLy8gU2VsZWN0aW9uIGhpZ2hsaWdodCBjb2xvclxuICBzZWxlY3Rpb246IHN0cmluZztcbiAgLy8gV2F5cG9pbnQgY29sb3JzXG4gIHdheXBvaW50RGVmYXVsdDogc3RyaW5nO1xuICB3YXlwb2ludFNlbGVjdGVkOiBzdHJpbmc7XG4gIHdheXBvaW50RHJhZ2dpbmc/OiBzdHJpbmc7XG4gIHdheXBvaW50U3Ryb2tlOiBzdHJpbmc7XG4gIHdheXBvaW50U3Ryb2tlU2VsZWN0ZWQ/OiBzdHJpbmc7XG4gIC8vIEhlYXQgZ3JhZGllbnQgY29sb3JzIChmcm9tIGNvb2wgdG8gaG90KVxuICBoZWF0Q29vbFJnYj86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgaGVhdEhvdFJnYj86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNoaXAgcGFsZXR0ZSAoYmx1ZSB0aGVtZSkuXG4gKi9cbmV4cG9ydCBjb25zdCBTSElQX1BBTEVUVEU6IFJvdXRlUGFsZXR0ZSA9IHtcbiAgZGVmYXVsdExpbmU6IFwiIzM4YmRmOFwiLFxuICBzZWxlY3Rpb246IFwiI2Y5NzMxNlwiLFxuICB3YXlwb2ludERlZmF1bHQ6IFwiIzM4YmRmOFwiLFxuICB3YXlwb2ludFNlbGVjdGVkOiBcIiNmOTczMTZcIixcbiAgd2F5cG9pbnREcmFnZ2luZzogXCIjZmFjYzE1XCIsXG4gIHdheXBvaW50U3Ryb2tlOiBcIiMwZjE3MmFcIixcbiAgaGVhdENvb2xSZ2I6IFsxMDAsIDE1MCwgMjU1XSxcbiAgaGVhdEhvdFJnYjogWzI1NSwgNTAsIDUwXSxcbn07XG5cbi8qKlxuICogTWlzc2lsZSBwYWxldHRlIChyZWQgdGhlbWUpLlxuICovXG5leHBvcnQgY29uc3QgTUlTU0lMRV9QQUxFVFRFOiBSb3V0ZVBhbGV0dGUgPSB7XG4gIGRlZmF1bHRMaW5lOiBcIiNmODcxNzFhYVwiLFxuICBzZWxlY3Rpb246IFwiI2Y5NzMxNlwiLFxuICB3YXlwb2ludERlZmF1bHQ6IFwiI2Y4NzE3MVwiLFxuICB3YXlwb2ludFNlbGVjdGVkOiBcIiNmYWNjMTVcIixcbiAgd2F5cG9pbnRTdHJva2U6IFwiIzdmMWQxZFwiLFxuICB3YXlwb2ludFN0cm9rZVNlbGVjdGVkOiBcIiM4NTRkMGVcIixcbiAgaGVhdENvb2xSZ2I6IFsyNDgsIDEyOSwgMTI5XSxcbiAgaGVhdEhvdFJnYjogWzIyMCwgMzgsIDM4XSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd1BsYW5uZWRSb3V0ZU9wdGlvbnMge1xuICAvLyBDYW52YXMgcG9pbnRzIGZvciB0aGUgcm91dGVcbiAgcm91dGVQb2ludHM6IFJvdXRlUG9pbnRzO1xuICAvLyBTZWxlY3Rpb24gc3RhdGUgKHdoaWNoIHdheXBvaW50L2xlZyBpcyBzZWxlY3RlZClcbiAgc2VsZWN0aW9uOiB7IHR5cGU6IFwid2F5cG9pbnRcIiB8IFwibGVnXCI7IGluZGV4OiBudW1iZXIgfSB8IG51bGw7XG4gIC8vIERyYWdnZWQgd2F5cG9pbnQgaW5kZXggKGZvciBkcmFnLWFuZC1kcm9wKVxuICBkcmFnZ2VkV2F5cG9pbnQ/OiBudW1iZXIgfCBudWxsO1xuICAvLyBEYXNoIGFuaW1hdGlvbiBvZmZzZXRzXG4gIGRhc2hTdG9yZTogTWFwPG51bWJlciwgbnVtYmVyPjtcbiAgLy8gQ29sb3IgcGFsZXR0ZSAoZGVmYXVsdHMgdG8gc2hpcCBwYWxldHRlKVxuICBwYWxldHRlPzogUm91dGVQYWxldHRlO1xuICAvLyBXaGV0aGVyIHRvIHNob3cgdGhlIHJvdXRlIGxlZ3NcbiAgc2hvd0xlZ3M6IGJvb2xlYW47XG4gIC8vIEhlYXQgcGFyYW1ldGVycyBhbmQgaW5pdGlhbCBoZWF0IChvcHRpb25hbClcbiAgaGVhdFBhcmFtcz86IEhlYXRQcm9qZWN0aW9uUGFyYW1zO1xuICBpbml0aWFsSGVhdD86IG51bWJlcjtcbiAgLy8gRGVmYXVsdCBzcGVlZCBmb3Igd2F5cG9pbnRzIHdpdGhvdXQgc3BlZWQgc2V0XG4gIGRlZmF1bHRTcGVlZDogbnVtYmVyO1xuICAvLyBXb3JsZCBwb2ludHMgKGZvciBoZWF0IGNhbGN1bGF0aW9uKVxuICB3b3JsZFBvaW50cz86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVtdO1xufVxuXG4vKipcbiAqIERyYXdzIGEgcGxhbm5lZCByb3V0ZSAoc2hpcCBvciBtaXNzaWxlKSB3aXRoIHVuaWZpZWQgdmlzdWFscy5cbiAqIFVzZXMgc2hpcC1zdHlsZSByZW5kZXJpbmcgYnkgZGVmYXVsdCwgd2l0aCBvcHRpb25hbCBwYWxldHRlIG92ZXJyaWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd1BsYW5uZWRSb3V0ZShcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIG9wdHM6IERyYXdQbGFubmVkUm91dGVPcHRpb25zXG4pOiB2b2lkIHtcbiAgY29uc3Qge1xuICAgIHJvdXRlUG9pbnRzLFxuICAgIHNlbGVjdGlvbixcbiAgICBkcmFnZ2VkV2F5cG9pbnQsXG4gICAgZGFzaFN0b3JlLFxuICAgIHBhbGV0dGUgPSBTSElQX1BBTEVUVEUsXG4gICAgc2hvd0xlZ3MsXG4gICAgaGVhdFBhcmFtcyxcbiAgICBpbml0aWFsSGVhdCA9IDAsXG4gICAgZGVmYXVsdFNwZWVkLFxuICAgIHdvcmxkUG9pbnRzLFxuICB9ID0gb3B0cztcblxuICBjb25zdCB7IHdheXBvaW50cywgY2FudmFzUG9pbnRzIH0gPSByb3V0ZVBvaW50cztcblxuICBpZiAod2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBoZWF0IHByb2plY3Rpb24gaWYgaGVhdCBwYXJhbXMgYXZhaWxhYmxlXG4gIGxldCBoZWF0UHJvamVjdGlvbjogSGVhdFByb2plY3Rpb25SZXN1bHQgfCBudWxsID0gbnVsbDtcbiAgaWYgKGhlYXRQYXJhbXMgJiYgd29ybGRQb2ludHMgJiYgd29ybGRQb2ludHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHJvdXRlRm9ySGVhdDogUm91dGVXYXlwb2ludFtdID0gd29ybGRQb2ludHMubWFwKChwdCwgaSkgPT4gKHtcbiAgICAgIHg6IHB0LngsXG4gICAgICB5OiBwdC55LFxuICAgICAgc3BlZWQ6IGkgPT09IDAgPyB1bmRlZmluZWQgOiB3YXlwb2ludHNbaSAtIDFdPy5zcGVlZCA/PyBkZWZhdWx0U3BlZWQsXG4gICAgfSkpO1xuICAgIGhlYXRQcm9qZWN0aW9uID0gcHJvamVjdFJvdXRlSGVhdChyb3V0ZUZvckhlYXQsIGluaXRpYWxIZWF0LCBoZWF0UGFyYW1zKTtcbiAgfVxuXG4gIC8vIERyYXcgcm91dGUgc2VnbWVudHNcbiAgaWYgKHNob3dMZWdzKSB7XG4gICAgbGV0IGN1cnJlbnRIZWF0ID0gaW5pdGlhbEhlYXQ7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXNGaXJzdExlZyA9IGkgPT09IDA7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0aW9uPy50eXBlID09PSBcImxlZ1wiICYmIHNlbGVjdGlvbi5pbmRleCA9PT0gaTtcblxuICAgICAgLy8gR2V0IGhlYXQgYXQgZW5kIG9mIHRoaXMgc2VnbWVudFxuICAgICAgbGV0IHNlZ21lbnRIZWF0ID0gY3VycmVudEhlYXQ7XG4gICAgICBpZiAoaGVhdFByb2plY3Rpb24gJiYgaSArIDEgPCBoZWF0UHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIHNlZ21lbnRIZWF0ID0gaGVhdFByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzW2kgKyAxXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIGhlYXQtYmFzZWQgY29sb3IgaWYgaGVhdCBkYXRhIGF2YWlsYWJsZVxuICAgICAgbGV0IHN0cm9rZVN0eWxlOiBzdHJpbmc7XG4gICAgICBsZXQgbGluZVdpZHRoOiBudW1iZXI7XG4gICAgICBsZXQgbGluZURhc2g6IG51bWJlcltdIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgYWxwaGFPdmVycmlkZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgIC8vIFNlbGVjdGlvbiBzdHlsaW5nXG4gICAgICAgIHN0cm9rZVN0eWxlID0gcGFsZXR0ZS5zZWxlY3Rpb247XG4gICAgICAgIGxpbmVXaWR0aCA9IDMuNTtcbiAgICAgICAgbGluZURhc2ggPSBbNCwgNF07XG4gICAgICB9IGVsc2UgaWYgKGhlYXRQcm9qZWN0aW9uICYmIGhlYXRQYXJhbXMgJiYgcGFsZXR0ZS5oZWF0Q29vbFJnYiAmJiBwYWxldHRlLmhlYXRIb3RSZ2IpIHtcbiAgICAgICAgLy8gSGVhdC1iYXNlZCBjb2xvciBpbnRlcnBvbGF0aW9uIChzaGlwIHN0eWxlKVxuICAgICAgICBjb25zdCBoZWF0UmF0aW8gPSBjbGFtcChzZWdtZW50SGVhdCAvIGhlYXRQYXJhbXMub3ZlcmhlYXRBdCwgMCwgMSk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gaW50ZXJwb2xhdGVDb2xvcihwYWxldHRlLmhlYXRDb29sUmdiLCBwYWxldHRlLmhlYXRIb3RSZ2IsIGhlYXRSYXRpbyk7XG4gICAgICAgIGNvbnN0IGJhc2VXaWR0aCA9IGlzRmlyc3RMZWcgPyAzIDogMS41O1xuICAgICAgICBsaW5lV2lkdGggPSBiYXNlV2lkdGggKyBoZWF0UmF0aW8gKiA0O1xuICAgICAgICBjb25zdCBhbHBoYSA9IGlzRmlyc3RMZWcgPyAxIDogMC40O1xuICAgICAgICBzdHJva2VTdHlsZSA9IGByZ2JhKCR7Y29sb3JbMF19LCAke2NvbG9yWzFdfSwgJHtjb2xvclsyXX0sICR7YWxwaGF9KWA7XG4gICAgICAgIGxpbmVEYXNoID0gaXNGaXJzdExlZyA/IFs2LCA2XSA6IFs4LCA4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQgc3R5bGluZyAobm8gaGVhdClcbiAgICAgICAgY29uc3QgYmFzZVdpZHRoID0gaXNGaXJzdExlZyA/IDMgOiAxLjU7XG4gICAgICAgIGxpbmVXaWR0aCA9IGJhc2VXaWR0aDtcbiAgICAgICAgc3Ryb2tlU3R5bGUgPSBwYWxldHRlLmRlZmF1bHRMaW5lO1xuICAgICAgICBsaW5lRGFzaCA9IGlzRmlyc3RMZWcgPyBbNiwgNl0gOiBbOCwgOF07XG4gICAgICAgIGFscGhhT3ZlcnJpZGUgPSBpc0ZpcnN0TGVnID8gMSA6IDAuNDtcbiAgICAgIH1cblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGlmIChsaW5lRGFzaCkge1xuICAgICAgICBjdHguc2V0TGluZURhc2gobGluZURhc2gpO1xuICAgICAgfVxuICAgICAgaWYgKGFscGhhT3ZlcnJpZGUgIT09IG51bGwpIHtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGFPdmVycmlkZTtcbiAgICAgIH1cbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IGRhc2hTdG9yZS5nZXQoaSkgPz8gMDtcbiAgICAgIGN0eC5tb3ZlVG8oY2FudmFzUG9pbnRzW2ldLngsIGNhbnZhc1BvaW50c1tpXS55KTtcbiAgICAgIGN0eC5saW5lVG8oY2FudmFzUG9pbnRzW2kgKyAxXS54LCBjYW52YXNQb2ludHNbaSArIDFdLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgY3VycmVudEhlYXQgPSBzZWdtZW50SGVhdDtcbiAgICB9XG4gIH1cblxuICAvLyBEcmF3IHdheXBvaW50IG1hcmtlcnNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwdCA9IGNhbnZhc1BvaW50c1tpICsgMV07IC8vICsxIGJlY2F1c2UgZmlyc3QgcG9pbnQgaXMgc3RhcnQgcG9zaXRpb25cbiAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0aW9uPy50eXBlID09PSBcIndheXBvaW50XCIgJiYgc2VsZWN0aW9uLmluZGV4ID09PSBpO1xuICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSBkcmFnZ2VkV2F5cG9pbnQgPT09IGk7XG5cbiAgICAvLyBEZXRlcm1pbmUgZmlsbCBjb2xvclxuICAgIGxldCBmaWxsQ29sb3I6IHN0cmluZztcbiAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgZmlsbENvbG9yID0gcGFsZXR0ZS53YXlwb2ludFNlbGVjdGVkO1xuICAgIH0gZWxzZSBpZiAoaXNEcmFnZ2luZyAmJiBwYWxldHRlLndheXBvaW50RHJhZ2dpbmcpIHtcbiAgICAgIGZpbGxDb2xvciA9IHBhbGV0dGUud2F5cG9pbnREcmFnZ2luZztcbiAgICB9IGVsc2UgaWYgKGhlYXRQcm9qZWN0aW9uICYmIGhlYXRQYXJhbXMpIHtcbiAgICAgIC8vIEhlYXQtYmFzZWQgd2F5cG9pbnQgY29sb3JpbmcgKHRocmVzaG9sZC1iYXNlZCBmb3IgbWlzc2lsZXMpXG4gICAgICBjb25zdCBoZWF0ID0gaGVhdFByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzW2kgKyAxXSA/PyAwO1xuICAgICAgY29uc3QgaGVhdFJhdGlvID0gaGVhdCAvIGhlYXRQYXJhbXMubWF4O1xuICAgICAgY29uc3Qgd2FyblJhdGlvID0gaGVhdFBhcmFtcy53YXJuQXQgLyBoZWF0UGFyYW1zLm1heDtcbiAgICAgIGNvbnN0IG92ZXJoZWF0UmF0aW8gPSBoZWF0UGFyYW1zLm92ZXJoZWF0QXQgLyBoZWF0UGFyYW1zLm1heDtcblxuICAgICAgaWYgKGhlYXRSYXRpbyA8IHdhcm5SYXRpbykge1xuICAgICAgICBmaWxsQ29sb3IgPSBcIiMzM2FhMzNcIjsgLy8gR3JlZW5cbiAgICAgIH0gZWxzZSBpZiAoaGVhdFJhdGlvIDwgb3ZlcmhlYXRSYXRpbykge1xuICAgICAgICBmaWxsQ29sb3IgPSBcIiNmZmFhMzNcIjsgLy8gT3JhbmdlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWxsQ29sb3IgPSBcIiNmZjMzMzNcIjsgLy8gUmVkXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbGxDb2xvciA9IHBhbGV0dGUud2F5cG9pbnREZWZhdWx0O1xuICAgIH1cblxuICAgIC8vIERldGVybWluZSBzdHJva2UgY29sb3JcbiAgICBjb25zdCBzdHJva2VDb2xvciA9IGlzU2VsZWN0ZWQgJiYgcGFsZXR0ZS53YXlwb2ludFN0cm9rZVNlbGVjdGVkXG4gICAgICA/IHBhbGV0dGUud2F5cG9pbnRTdHJva2VTZWxlY3RlZFxuICAgICAgOiBwYWxldHRlLndheXBvaW50U3Ryb2tlO1xuXG4gICAgLy8gRHJhdyB3YXlwb2ludFxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGNvbnN0IHJhZGl1cyA9IGlzU2VsZWN0ZWQgfHwgaXNEcmFnZ2luZyA/IDcgOiA1O1xuICAgIGN0eC5hcmMocHQueCwgcHQueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBpc1NlbGVjdGVkIHx8IGlzRHJhZ2dpbmcgPyAwLjk1IDogMC44O1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcbiAgICBjdHgubGluZVdpZHRoID0gaXNTZWxlY3RlZCA/IDIgOiAxLjU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUge1xuICBBcHBTdGF0ZSxcbiAgTWlzc2lsZVJvdXRlLFxuICBNaXNzaWxlU2VsZWN0aW9uLFxuICBTZWxlY3Rpb24sXG4gIFVJU3RhdGUsXG59IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgTUlTU0lMRV9NQVhfU1BFRUQsIE1JU1NJTEVfTUlOX1NQRUVELCBjbGFtcCB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBSb3V0ZVBvaW50cyB9IGZyb20gXCIuLi9yb3V0ZVwiO1xuaW1wb3J0IHtcbiAgV0FZUE9JTlRfSElUX1JBRElVUyxcbiAgYnVpbGRSb3V0ZVBvaW50cyxcbiAgaGl0VGVzdFJvdXRlR2VuZXJpYyxcbiAgdXBkYXRlRGFzaE9mZnNldHNGb3JSb3V0ZSxcbn0gZnJvbSBcIi4uL3JvdXRlXCI7XG5pbXBvcnQgdHlwZSB7IENhbWVyYSB9IGZyb20gXCIuL2NhbWVyYVwiO1xuXG5pbnRlcmZhY2UgTG9naWNEZXBlbmRlbmNpZXMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG4gIHNlbmRNZXNzYWdlKHBheWxvYWQ6IHVua25vd24pOiB2b2lkO1xuICBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGU6IEFwcFN0YXRlKTogbnVtYmVyO1xuICBjYW1lcmE6IENhbWVyYTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludGVyUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dpYyB7XG4gIGdldFNlbGVjdGlvbigpOiBTZWxlY3Rpb24gfCBudWxsO1xuICBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uOiBTZWxlY3Rpb24gfCBudWxsKTogdm9pZDtcbiAgZ2V0TWlzc2lsZVNlbGVjdGlvbigpOiBNaXNzaWxlU2VsZWN0aW9uIHwgbnVsbDtcbiAgc2V0TWlzc2lsZVNlbGVjdGlvbihzZWxlY3Rpb246IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsLCByb3V0ZUlkPzogc3RyaW5nKTogdm9pZDtcbiAgZ2V0RGVmYXVsdFNoaXBTcGVlZCgpOiBudW1iZXI7XG4gIHNldERlZmF1bHRTaGlwU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIGdldERlZmF1bHRNaXNzaWxlTGVnU3BlZWQoKTogbnVtYmVyO1xuICByZWNvcmRNaXNzaWxlTGVnU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIGdldFNoaXBXYXlwb2ludE9mZnNldCgpOiBudW1iZXI7XG4gIGRpc3BsYXlJbmRleFRvQWN0dWFsSW5kZXgoZGlzcGxheUluZGV4OiBudW1iZXIpOiBudW1iZXI7XG4gIGFjdHVhbEluZGV4VG9EaXNwbGF5SW5kZXgoYWN0dWFsSW5kZXg6IG51bWJlcik6IG51bWJlcjtcbiAgY29tcHV0ZVJvdXRlUG9pbnRzKCk6IFJvdXRlUG9pbnRzIHwgbnVsbDtcbiAgY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpOiBSb3V0ZVBvaW50cyB8IG51bGw7XG4gIGZpbmRXYXlwb2ludEF0UG9zaXRpb24oY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCk6IG51bWJlciB8IG51bGw7XG4gIGhpdFRlc3RSb3V0ZShjYW52YXNQb2ludDogUG9pbnRlclBvaW50KTogU2VsZWN0aW9uIHwgbnVsbDtcbiAgaGl0VGVzdE1pc3NpbGVSb3V0ZXMoXG4gICAgY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludFxuICApOiB7IHJvdXRlOiBNaXNzaWxlUm91dGU7IHNlbGVjdGlvbjogTWlzc2lsZVNlbGVjdGlvbiB9IHwgbnVsbDtcbiAgc2hpcExlZ0Rhc2hPZmZzZXRzOiBNYXA8bnVtYmVyLCBudW1iZXI+O1xuICBtaXNzaWxlTGVnRGFzaE9mZnNldHM6IE1hcDxudW1iZXIsIG51bWJlcj47XG4gIHVwZGF0ZVJvdXRlQW5pbWF0aW9ucyhkdFNlY29uZHM6IG51bWJlcik6IHZvaWQ7XG4gIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiBNaXNzaWxlUm91dGUgfCBudWxsO1xuICBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTogTWlzc2lsZVJvdXRlIHwgbnVsbDtcbiAgY3ljbGVNaXNzaWxlUm91dGUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICBjeWNsZVNoaXBTZWxlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICBjbGVhclNoaXBSb3V0ZSgpOiB2b2lkO1xuICBkZWxldGVTZWxlY3RlZFNoaXBXYXlwb2ludCgpOiB2b2lkO1xuICBkZWxldGVTZWxlY3RlZE1pc3NpbGVXYXlwb2ludCgpOiB2b2lkO1xuICBsYXVuY2hBY3RpdmVNaXNzaWxlUm91dGUoKTogdm9pZDtcbiAgaGFuZGxlU2hpcFBvaW50ZXIoY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCwgd29ybGRQb2ludDogUG9pbnRlclBvaW50KTogdm9pZDtcbiAgaGFuZGxlTWlzc2lsZVBvaW50ZXIoY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCwgd29ybGRQb2ludDogUG9pbnRlclBvaW50KTogdm9pZDtcbiAgYmVnaW5TaGlwRHJhZyhpbmRleDogbnVtYmVyLCBvcmlnaW46IFBvaW50ZXJQb2ludCk6IHZvaWQ7XG4gIGJlZ2luTWlzc2lsZURyYWcoaW5kZXg6IG51bWJlciwgb3JpZ2luOiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICB1cGRhdGVTaGlwRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICB1cGRhdGVNaXNzaWxlRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICBlbmREcmFnKCk6IHZvaWQ7XG4gIGdldERyYWdnZWRXYXlwb2ludCgpOiBudW1iZXIgfCBudWxsO1xuICBnZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50KCk6IG51bWJlciB8IG51bGw7XG4gIGdldE1pc3NpbGVDb29sZG93blJlbWFpbmluZygpOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2dpYyh7XG4gIHN0YXRlLFxuICB1aVN0YXRlLFxuICBidXMsXG4gIHNlbmRNZXNzYWdlLFxuICBnZXRBcHByb3hTZXJ2ZXJOb3csXG4gIGNhbWVyYSxcbn06IExvZ2ljRGVwZW5kZW5jaWVzKTogTG9naWMge1xuICBsZXQgc2VsZWN0aW9uOiBTZWxlY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTZWxlY3Rpb246IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgbGV0IGRlZmF1bHRTcGVlZCA9IDE1MDtcbiAgbGV0IGxhc3RNaXNzaWxlTGVnU3BlZWQgPSAwO1xuICBjb25zdCBzaGlwTGVnRGFzaE9mZnNldHMgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuICBjb25zdCBtaXNzaWxlTGVnRGFzaE9mZnNldHMgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuICBsZXQgZHJhZ2dlZFdheXBvaW50OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgbGV0IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpOiBTZWxlY3Rpb24gfCBudWxsIHtcbiAgICByZXR1cm4gc2VsZWN0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHNlbDogU2VsZWN0aW9uIHwgbnVsbCk6IHZvaWQge1xuICAgIHNlbGVjdGlvbiA9IHNlbDtcbiAgICBjb25zdCBpbmRleCA9IHNlbGVjdGlvbiA/IHNlbGVjdGlvbi5pbmRleCA6IG51bGw7XG4gICAgYnVzLmVtaXQoXCJzaGlwOmxlZ1NlbGVjdGVkXCIsIHsgaW5kZXggfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaXNzaWxlU2VsZWN0aW9uKCk6IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsIHtcbiAgICByZXR1cm4gbWlzc2lsZVNlbGVjdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldE1pc3NpbGVTZWxlY3Rpb24oc2VsOiBNaXNzaWxlU2VsZWN0aW9uIHwgbnVsbCwgcm91dGVJZD86IHN0cmluZyk6IHZvaWQge1xuICAgIG1pc3NpbGVTZWxlY3Rpb24gPSBzZWw7XG4gICAgaWYgKHJvdXRlSWQpIHtcbiAgICAgIHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkID0gcm91dGVJZDtcbiAgICB9XG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOnNlbGVjdGlvbkNoYW5nZWRcIiwgeyBzZWxlY3Rpb246IG1pc3NpbGVTZWxlY3Rpb24gfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWZhdWx0U2hpcFNwZWVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGRlZmF1bHRTcGVlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERlZmF1bHRTaGlwU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGRlZmF1bHRTcGVlZCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdE1pc3NpbGVMZWdTcGVlZCgpOiBudW1iZXIge1xuICAgIGNvbnN0IG1pblNwZWVkID0gc3RhdGUubWlzc2lsZUxpbWl0cy5zcGVlZE1pbiA/PyBNSVNTSUxFX01JTl9TUEVFRDtcbiAgICBjb25zdCBtYXhTcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNYXggPz8gTUlTU0lMRV9NQVhfU1BFRUQ7XG4gICAgY29uc3QgYmFzZSA9XG4gICAgICBsYXN0TWlzc2lsZUxlZ1NwZWVkID4gMCA/IGxhc3RNaXNzaWxlTGVnU3BlZWQgOiBzdGF0ZS5taXNzaWxlQ29uZmlnLnNwZWVkO1xuICAgIHJldHVybiBjbGFtcChiYXNlLCBtaW5TcGVlZCwgbWF4U3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkTWlzc2lsZUxlZ1NwZWVkKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSAmJiB2YWx1ZSA+IDApIHtcbiAgICAgIGxhc3RNaXNzaWxlTGVnU3BlZWQgPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaGlwV2F5cG9pbnRPZmZzZXQoKTogbnVtYmVyIHtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGF0ZS5tZT8uY3VycmVudFdheXBvaW50SW5kZXg7XG4gICAgaWYgKHR5cGVvZiBjdXJyZW50SW5kZXggPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGN1cnJlbnRJbmRleCkgJiYgY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5SW5kZXhUb0FjdHVhbEluZGV4KGRpc3BsYXlJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZGlzcGxheUluZGV4ICsgZ2V0U2hpcFdheXBvaW50T2Zmc2V0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBhY3R1YWxJbmRleFRvRGlzcGxheUluZGV4KGFjdHVhbEluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IG9mZnNldCA9IGdldFNoaXBXYXlwb2ludE9mZnNldCgpO1xuICAgIHJldHVybiBhY3R1YWxJbmRleCAtIG9mZnNldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVSb3V0ZVBvaW50cygpOiBSb3V0ZVBvaW50cyB8IG51bGwge1xuICAgIGlmICghc3RhdGUubWUpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGFsbFdheXBvaW50cyA9IEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSA/IHN0YXRlLm1lLndheXBvaW50cyA6IFtdO1xuICAgIGNvbnN0IG9mZnNldCA9IGdldFNoaXBXYXlwb2ludE9mZnNldCgpO1xuICAgIGNvbnN0IHZpc2libGVXYXlwb2ludHMgPSBvZmZzZXQgPiAwID8gYWxsV2F5cG9pbnRzLnNsaWNlKG9mZnNldCkgOiBhbGxXYXlwb2ludHM7XG4gICAgaWYgKCF2aXNpYmxlV2F5cG9pbnRzLmxlbmd0aCAmJiAhdWlTdGF0ZS5zaG93U2hpcFJvdXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkUm91dGVQb2ludHMoXG4gICAgICB7IHg6IHN0YXRlLm1lLngsIHk6IHN0YXRlLm1lLnkgfSxcbiAgICAgIHZpc2libGVXYXlwb2ludHMsXG4gICAgICBjYW1lcmEuZ2V0V29ybGRTaXplKCksXG4gICAgICBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24sXG4gICAgICAoKSA9PiB1aVN0YXRlLnpvb20sXG4gICAgICBjYW1lcmEud29ybGRUb0NhbnZhc1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzKCk6IFJvdXRlUG9pbnRzIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBpZiAoIXJvdXRlIHx8ICFBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykgfHwgIXJvdXRlLndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW4gPSByb3V0ZS5vcmlnaW4gPz8geyB4OiBzdGF0ZS5tZT8ueCA/PyAwLCB5OiBzdGF0ZS5tZT8ueSA/PyAwIH07XG4gICAgcmV0dXJuIGJ1aWxkUm91dGVQb2ludHMoXG4gICAgICBvcmlnaW4sXG4gICAgICByb3V0ZS53YXlwb2ludHMsXG4gICAgICBjYW1lcmEuZ2V0V29ybGRTaXplKCksXG4gICAgICBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24sXG4gICAgICAoKSA9PiB1aVN0YXRlLnpvb20sXG4gICAgICBjYW1lcmEud29ybGRUb0NhbnZhc1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kV2F5cG9pbnRBdFBvc2l0aW9uKGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQpOiBudW1iZXIgfCBudWxsIHtcbiAgICBjb25zdCByb3V0ZSA9IGNvbXB1dGVSb3V0ZVBvaW50cygpO1xuICAgIGlmICghcm91dGUpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaGl0ID0gaGl0VGVzdFJvdXRlR2VuZXJpYyhjYW52YXNQb2ludCwgcm91dGUsIHtcbiAgICAgIHdheXBvaW50UmFkaXVzOiBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICAgICAgbGVnSGl0VG9sZXJhbmNlOiAwLFxuICAgIH0pO1xuXG4gICAgaWYgKCFoaXQgfHwgaGl0LnR5cGUgIT09IFwid2F5cG9pbnRcIikgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGRpc3BsYXlJbmRleFRvQWN0dWFsSW5kZXgoaGl0LmluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpdFRlc3RSb3V0ZShjYW52YXNQb2ludDogUG9pbnRlclBvaW50KTogU2VsZWN0aW9uIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGUgPSBjb21wdXRlUm91dGVQb2ludHMoKTtcbiAgICBpZiAoIXJvdXRlKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gaGl0VGVzdFJvdXRlR2VuZXJpYyhjYW52YXNQb2ludCwgcm91dGUsIHtcbiAgICAgIHdheXBvaW50UmFkaXVzOiBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICAgICAgbGVnSGl0VG9sZXJhbmNlOiA2LFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGl0VGVzdE1pc3NpbGVSb3V0ZXMoY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCkge1xuICAgIGNvbnN0IHJvdXRlUG9pbnRzID0gY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpO1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKCFyb3V0ZVBvaW50cyB8fCAhcm91dGUpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaGl0ID0gaGl0VGVzdFJvdXRlR2VuZXJpYyhjYW52YXNQb2ludCwgcm91dGVQb2ludHMsIHtcbiAgICAgIHdheXBvaW50UmFkaXVzOiBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICAgICAgbGVnSGl0VG9sZXJhbmNlOiA2LFxuICAgIH0pO1xuICAgIGlmICghaGl0KSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHNlbGVjdGlvbiA9XG4gICAgICBoaXQudHlwZSA9PT0gXCJsZWdcIlxuICAgICAgICA/ICh7IHR5cGU6IFwibGVnXCIsIGluZGV4OiBoaXQuaW5kZXggfSBhcyBNaXNzaWxlU2VsZWN0aW9uKVxuICAgICAgICA6ICh7IHR5cGU6IFwid2F5cG9pbnRcIiwgaW5kZXg6IGhpdC5pbmRleCB9IGFzIE1pc3NpbGVTZWxlY3Rpb24pO1xuXG4gICAgcmV0dXJuIHsgcm91dGUsIHNlbGVjdGlvbiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUm91dGVBbmltYXRpb25zKGR0U2Vjb25kczogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgc2hpcFJvdXRlID0gY29tcHV0ZVJvdXRlUG9pbnRzKCk7XG4gICAgaWYgKHNoaXBSb3V0ZSAmJiBzaGlwUm91dGUud2F5cG9pbnRzLmxlbmd0aCA+IDAgJiYgdWlTdGF0ZS5zaG93U2hpcFJvdXRlKSB7XG4gICAgICB1cGRhdGVEYXNoT2Zmc2V0c0ZvclJvdXRlKFxuICAgICAgICBzaGlwTGVnRGFzaE9mZnNldHMsXG4gICAgICAgIHNoaXBSb3V0ZS53YXlwb2ludHMsXG4gICAgICAgIHNoaXBSb3V0ZS53b3JsZFBvaW50cyxcbiAgICAgICAgc2hpcFJvdXRlLmNhbnZhc1BvaW50cyxcbiAgICAgICAgZGVmYXVsdFNwZWVkLFxuICAgICAgICBkdFNlY29uZHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNoaXBMZWdEYXNoT2Zmc2V0cy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNvbnN0IG1pc3NpbGVSb3V0ZSA9IGNvbXB1dGVNaXNzaWxlUm91dGVQb2ludHMoKTtcbiAgICBpZiAobWlzc2lsZVJvdXRlKSB7XG4gICAgICB1cGRhdGVEYXNoT2Zmc2V0c0ZvclJvdXRlKFxuICAgICAgICBtaXNzaWxlTGVnRGFzaE9mZnNldHMsXG4gICAgICAgIG1pc3NpbGVSb3V0ZS53YXlwb2ludHMsXG4gICAgICAgIG1pc3NpbGVSb3V0ZS53b3JsZFBvaW50cyxcbiAgICAgICAgbWlzc2lsZVJvdXRlLmNhbnZhc1BvaW50cyxcbiAgICAgICAgc3RhdGUubWlzc2lsZUNvbmZpZy5zcGVlZCxcbiAgICAgICAgZHRTZWNvbmRzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXNzaWxlTGVnRGFzaE9mZnNldHMuY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbnN1cmVBY3RpdmVNaXNzaWxlUm91dGUoKTogTWlzc2lsZVJvdXRlIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBpZiAoIXJvdXRlcy5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKCFzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCkge1xuICAgICAgc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQgPSByb3V0ZXNbMF0uaWQ7XG4gICAgfVxuXG4gICAgbGV0IHJvdXRlID0gcm91dGVzLmZpbmQoKHIpID0+IHIuaWQgPT09IHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkKSB8fCBudWxsO1xuICAgIGlmICghcm91dGUpIHtcbiAgICAgIHJvdXRlID0gcm91dGVzWzBdID8/IG51bGw7XG4gICAgICBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCA9IHJvdXRlPy5pZCA/PyBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTogTWlzc2lsZVJvdXRlIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBpZiAoIXJvdXRlcy5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIGlmICghc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQpIHtcbiAgICAgIHJldHVybiBlbnN1cmVBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHJvdXRlcy5maW5kKChyKSA9PiByLmlkID09PSBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCkgPz9cbiAgICAgIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGN5Y2xlTWlzc2lsZVJvdXRlKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBpZiAoIXJvdXRlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gcm91dGVzLmZpbmRJbmRleChcbiAgICAgIChyb3V0ZSkgPT4gcm91dGUuaWQgPT09IHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkXG4gICAgKTtcbiAgICBjb25zdCBiYXNlSW5kZXggPSBjdXJyZW50SW5kZXggPj0gMCA/IGN1cnJlbnRJbmRleCA6IDA7XG4gICAgY29uc3QgbmV4dEluZGV4ID1cbiAgICAgICgoYmFzZUluZGV4ICsgZGlyZWN0aW9uKSAlIHJvdXRlcy5sZW5ndGggKyByb3V0ZXMubGVuZ3RoKSAlIHJvdXRlcy5sZW5ndGg7XG4gICAgY29uc3QgbmV4dFJvdXRlID0gcm91dGVzW25leHRJbmRleF07XG4gICAgaWYgKCFuZXh0Um91dGUpIHJldHVybjtcbiAgICBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCA9IG5leHRSb3V0ZS5pZDtcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwic2V0X2FjdGl2ZV9taXNzaWxlX3JvdXRlXCIsXG4gICAgICByb3V0ZV9pZDogbmV4dFJvdXRlLmlkLFxuICAgIH0pO1xuICAgIGJ1cy5lbWl0KFwibWlzc2lsZTphY3RpdmVSb3V0ZUNoYW5nZWRcIiwgeyByb3V0ZUlkOiBuZXh0Um91dGUuaWQgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjeWNsZVNoaXBTZWxlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB3cHMgPSBzdGF0ZS5tZSAmJiBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cykgPyBzdGF0ZS5tZS53YXlwb2ludHMgOiBbXTtcbiAgICBpZiAoIXdwcy5sZW5ndGgpIHtcbiAgICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gc2VsZWN0aW9uID8gc2VsZWN0aW9uLmluZGV4IDogZGlyZWN0aW9uID4gMCA/IC0xIDogd3BzLmxlbmd0aDtcbiAgICBpbmRleCArPSBkaXJlY3Rpb247XG4gICAgaWYgKGluZGV4IDwgMCkgaW5kZXggPSB3cHMubGVuZ3RoIC0gMTtcbiAgICBpZiAoaW5kZXggPj0gd3BzLmxlbmd0aCkgaW5kZXggPSAwO1xuICAgIHNldFNlbGVjdGlvbih7IHR5cGU6IFwibGVnXCIsIGluZGV4IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJTaGlwUm91dGUoKTogdm9pZCB7XG4gICAgY29uc3Qgd3BzID1cbiAgICAgIHN0YXRlLm1lICYmIEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSA/IHN0YXRlLm1lLndheXBvaW50cyA6IFtdO1xuICAgIGlmICghd3BzLmxlbmd0aCkgcmV0dXJuO1xuICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJjbGVhcl93YXlwb2ludHNcIiB9KTtcbiAgICBpZiAoc3RhdGUubWUpIHtcbiAgICAgIHN0YXRlLm1lLndheXBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgYnVzLmVtaXQoXCJzaGlwOndheXBvaW50c0NsZWFyZWRcIik7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVTZWxlY3RlZFNoaXBXYXlwb2ludCgpOiB2b2lkIHtcbiAgICBpZiAoIXNlbGVjdGlvbikgcmV0dXJuO1xuICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJkZWxldGVfd2F5cG9pbnRcIiwgaW5kZXg6IHNlbGVjdGlvbi5pbmRleCB9KTtcbiAgICBpZiAoc3RhdGUubWUgJiYgQXJyYXkuaXNBcnJheShzdGF0ZS5tZS53YXlwb2ludHMpKSB7XG4gICAgICBzdGF0ZS5tZS53YXlwb2ludHMgPSBzdGF0ZS5tZS53YXlwb2ludHMuc2xpY2UoMCwgc2VsZWN0aW9uLmluZGV4KTtcbiAgICB9XG4gICAgYnVzLmVtaXQoXCJzaGlwOndheXBvaW50RGVsZXRlZFwiLCB7IGluZGV4OiBzZWxlY3Rpb24uaW5kZXggfSk7XG4gICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQoKTogdm9pZCB7XG4gICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBpZiAoIXJvdXRlIHx8ICFtaXNzaWxlU2VsZWN0aW9uKSByZXR1cm47XG4gICAgY29uc3QgaW5kZXggPSBtaXNzaWxlU2VsZWN0aW9uLmluZGV4O1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpIHx8IGluZGV4IDwgMCB8fCBpbmRleCA+PSByb3V0ZS53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiZGVsZXRlX21pc3NpbGVfd2F5cG9pbnRcIixcbiAgICAgIHJvdXRlX2lkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4LFxuICAgIH0pO1xuICAgIHJvdXRlLndheXBvaW50cyA9IFtcbiAgICAgIC4uLnJvdXRlLndheXBvaW50cy5zbGljZSgwLCBpbmRleCksXG4gICAgICAuLi5yb3V0ZS53YXlwb2ludHMuc2xpY2UoaW5kZXggKyAxKSxcbiAgICBdO1xuICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludERlbGV0ZWRcIiwgeyByb3V0ZUlkOiByb3V0ZS5pZCwgaW5kZXggfSk7XG4gICAgc2V0TWlzc2lsZVNlbGVjdGlvbihudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxhdW5jaEFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmICghcm91dGUgfHwgIUFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSB8fCByb3V0ZS53YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChnZXRNaXNzaWxlQ29vbGRvd25SZW1haW5pbmcoKSA+IDAuMDUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBwbGF5ZXIgaGFzIG1pc3NpbGVzIGluIGludmVudG9yeVxuICAgIGxldCBoYXNNaXNzaWxlcyA9IGZhbHNlO1xuICAgIGlmIChzdGF0ZS5pbnZlbnRvcnk/Lml0ZW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RhdGUuaW52ZW50b3J5Lml0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwibWlzc2lsZVwiICYmIGl0ZW0ucXVhbnRpdHkgPiAwKSB7XG4gICAgICAgICAgaGFzTWlzc2lsZXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaGFzTWlzc2lsZXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gbWlzc2lsZXMgYXZhaWxhYmxlIC0gY3JhZnQgbWlzc2lsZXMgZmlyc3RcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkIH0pO1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwibGF1bmNoX21pc3NpbGVcIixcbiAgICAgIHJvdXRlX2lkOiByb3V0ZS5pZCxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNoaXBQb2ludGVyKFxuICAgIGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQsXG4gICAgd29ybGRQb2ludDogUG9pbnRlclBvaW50XG4gICk6IHZvaWQge1xuICAgIGlmICghc3RhdGUubWUpIHJldHVybjtcbiAgICBpZiAodWlTdGF0ZS5zaGlwVG9vbCA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgY29uc3QgaGl0ID0gaGl0VGVzdFJvdXRlKGNhbnZhc1BvaW50KTtcbiAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgY29uc3QgYWN0dWFsSW5kZXggPSBkaXNwbGF5SW5kZXhUb0FjdHVhbEluZGV4KGhpdC5pbmRleCk7XG4gICAgICAgIHNldFNlbGVjdGlvbih7IHR5cGU6IGhpdC50eXBlLCBpbmRleDogYWN0dWFsSW5kZXggfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd3AgPSB7IHg6IHdvcmxkUG9pbnQueCwgeTogd29ybGRQb2ludC55LCBzcGVlZDogZGVmYXVsdFNwZWVkIH07XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJhZGRfd2F5cG9pbnRcIixcbiAgICAgIHg6IHdwLngsXG4gICAgICB5OiB3cC55LFxuICAgICAgc3BlZWQ6IGRlZmF1bHRTcGVlZCxcbiAgICB9KTtcbiAgICBjb25zdCB3cHMgPSBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cylcbiAgICAgID8gc3RhdGUubWUud2F5cG9pbnRzLnNsaWNlKClcbiAgICAgIDogW107XG4gICAgd3BzLnB1c2god3ApO1xuICAgIHN0YXRlLm1lLndheXBvaW50cyA9IHdwcztcbiAgICBidXMuZW1pdChcInNoaXA6d2F5cG9pbnRBZGRlZFwiLCB7IGluZGV4OiB3cHMubGVuZ3RoIC0gMSB9KTtcbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNaXNzaWxlUG9pbnRlcihcbiAgICBjYW52YXNQb2ludDogUG9pbnRlclBvaW50LFxuICAgIHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludFxuICApOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmICghcm91dGUpIHJldHVybjtcblxuICAgIGlmICh1aVN0YXRlLm1pc3NpbGVUb29sID09PSBcInNlbGVjdFwiKSB7XG4gICAgICBjb25zdCBoaXQgPSBoaXRUZXN0TWlzc2lsZVJvdXRlcyhjYW52YXNQb2ludCk7XG4gICAgICBpZiAoaGl0KSB7XG4gICAgICAgIHNldE1pc3NpbGVTZWxlY3Rpb24oaGl0LnNlbGVjdGlvbiwgaGl0LnJvdXRlLmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3BlZWQgPSBnZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkKCk7XG4gICAgY29uc3Qgd3AgPSB7IHg6IHdvcmxkUG9pbnQueCwgeTogd29ybGRQb2ludC55LCBzcGVlZCB9O1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiYWRkX21pc3NpbGVfd2F5cG9pbnRcIixcbiAgICAgIHJvdXRlX2lkOiByb3V0ZS5pZCxcbiAgICAgIHg6IHdwLngsXG4gICAgICB5OiB3cC55LFxuICAgICAgc3BlZWQ6IHdwLnNwZWVkLFxuICAgIH0pO1xuICAgIHJvdXRlLndheXBvaW50cyA9IHJvdXRlLndheXBvaW50cyA/IFsuLi5yb3V0ZS53YXlwb2ludHMsIHdwXSA6IFt3cF07XG4gICAgcmVjb3JkTWlzc2lsZUxlZ1NwZWVkKHNwZWVkKTtcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwsIHJvdXRlLmlkKTtcbiAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLCB7XG4gICAgICByb3V0ZUlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS53YXlwb2ludHMubGVuZ3RoIC0gMSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlZ2luU2hpcERyYWcoaW5kZXg6IG51bWJlciwgX29yaWdpbjogUG9pbnRlclBvaW50KTogdm9pZCB7XG4gICAgZHJhZ2dlZFdheXBvaW50ID0gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbk1pc3NpbGVEcmFnKGluZGV4OiBudW1iZXIsIF9vcmlnaW46IFBvaW50ZXJQb2ludCk6IHZvaWQge1xuICAgIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPSBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYW1wVG9Xb3JsZChwb2ludDogUG9pbnRlclBvaW50KTogUG9pbnRlclBvaW50IHtcbiAgICBjb25zdCB3b3JsZFcgPSBzdGF0ZS53b3JsZE1ldGEudyA/PyA0MDAwO1xuICAgIGNvbnN0IHdvcmxkSCA9IHN0YXRlLndvcmxkTWV0YS5oID8/IDQwMDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGNsYW1wKHBvaW50LngsIDAsIHdvcmxkVyksXG4gICAgICB5OiBjbGFtcChwb2ludC55LCAwLCB3b3JsZEgpLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTaGlwRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBpZiAoZHJhZ2dlZFdheXBvaW50ID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wVG9Xb3JsZCh3b3JsZFBvaW50KTtcbiAgICBzZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIm1vdmVfd2F5cG9pbnRcIixcbiAgICAgIGluZGV4OiBkcmFnZ2VkV2F5cG9pbnQsXG4gICAgICB4OiBjbGFtcGVkLngsXG4gICAgICB5OiBjbGFtcGVkLnksXG4gICAgfSk7XG4gICAgaWYgKHN0YXRlLm1lICYmIHN0YXRlLm1lLndheXBvaW50cyAmJiBkcmFnZ2VkV2F5cG9pbnQgPCBzdGF0ZS5tZS53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5tZS53YXlwb2ludHNbZHJhZ2dlZFdheXBvaW50XS54ID0gY2xhbXBlZC54O1xuICAgICAgc3RhdGUubWUud2F5cG9pbnRzW2RyYWdnZWRXYXlwb2ludF0ueSA9IGNsYW1wZWQueTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBpZiAoZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKCFyb3V0ZSB8fCAhQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpKSByZXR1cm47XG4gICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wVG9Xb3JsZCh3b3JsZFBvaW50KTtcbiAgICBpZiAoZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA+PSByb3V0ZS53YXlwb2ludHMubGVuZ3RoKSByZXR1cm47XG5cbiAgICBzZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIm1vdmVfbWlzc2lsZV93YXlwb2ludFwiLFxuICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXg6IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQsXG4gICAgICB4OiBjbGFtcGVkLngsXG4gICAgICB5OiBjbGFtcGVkLnksXG4gICAgfSk7XG5cbiAgICByb3V0ZS53YXlwb2ludHMgPSByb3V0ZS53YXlwb2ludHMubWFwKCh3cCwgaWR4KSA9PlxuICAgICAgaWR4ID09PSBkcmFnZ2VkTWlzc2lsZVdheXBvaW50ID8geyAuLi53cCwgeDogY2xhbXBlZC54LCB5OiBjbGFtcGVkLnkgfSA6IHdwXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZERyYWcoKTogdm9pZCB7XG4gICAgaWYgKGRyYWdnZWRXYXlwb2ludCAhPT0gbnVsbCAmJiBzdGF0ZS5tZT8ud2F5cG9pbnRzKSB7XG4gICAgICBjb25zdCB3cCA9IHN0YXRlLm1lLndheXBvaW50c1tkcmFnZ2VkV2F5cG9pbnRdO1xuICAgICAgaWYgKHdwKSB7XG4gICAgICAgIGJ1cy5lbWl0KFwic2hpcDp3YXlwb2ludE1vdmVkXCIsIHtcbiAgICAgICAgICBpbmRleDogZHJhZ2dlZFdheXBvaW50LFxuICAgICAgICAgIHg6IHdwLngsXG4gICAgICAgICAgeTogd3AueSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICBpZiAocm91dGUgJiYgcm91dGUud2F5cG9pbnRzICYmIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPCByb3V0ZS53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHdwID0gcm91dGUud2F5cG9pbnRzW2RyYWdnZWRNaXNzaWxlV2F5cG9pbnRdO1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRNb3ZlZFwiLCB7XG4gICAgICAgICAgcm91dGVJZDogcm91dGUuaWQsXG4gICAgICAgICAgaW5kZXg6IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQsXG4gICAgICAgICAgeDogd3AueCxcbiAgICAgICAgICB5OiB3cC55LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkcmFnZ2VkV2F5cG9pbnQgPSBudWxsO1xuICAgIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHJhZ2dlZFdheXBvaW50KCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiBkcmFnZ2VkV2F5cG9pbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50KCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiBkcmFnZ2VkTWlzc2lsZVdheXBvaW50O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWlzc2lsZUNvb2xkb3duUmVtYWluaW5nKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVtYWluaW5nID0gc3RhdGUubmV4dE1pc3NpbGVSZWFkeUF0IC0gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlKTtcbiAgICByZXR1cm4gcmVtYWluaW5nID4gMCA/IHJlbWFpbmluZyA6IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFNlbGVjdGlvbixcbiAgICBzZXRTZWxlY3Rpb24sXG4gICAgZ2V0TWlzc2lsZVNlbGVjdGlvbixcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uLFxuICAgIGdldERlZmF1bHRTaGlwU3BlZWQsXG4gICAgc2V0RGVmYXVsdFNoaXBTcGVlZCxcbiAgICBnZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkLFxuICAgIHJlY29yZE1pc3NpbGVMZWdTcGVlZCxcbiAgICBnZXRTaGlwV2F5cG9pbnRPZmZzZXQsXG4gICAgZGlzcGxheUluZGV4VG9BY3R1YWxJbmRleCxcbiAgICBhY3R1YWxJbmRleFRvRGlzcGxheUluZGV4LFxuICAgIGNvbXB1dGVSb3V0ZVBvaW50cyxcbiAgICBjb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzLFxuICAgIGZpbmRXYXlwb2ludEF0UG9zaXRpb24sXG4gICAgaGl0VGVzdFJvdXRlLFxuICAgIGhpdFRlc3RNaXNzaWxlUm91dGVzLFxuICAgIHNoaXBMZWdEYXNoT2Zmc2V0cyxcbiAgICBtaXNzaWxlTGVnRGFzaE9mZnNldHMsXG4gICAgdXBkYXRlUm91dGVBbmltYXRpb25zLFxuICAgIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBnZXRBY3RpdmVNaXNzaWxlUm91dGUsXG4gICAgY3ljbGVNaXNzaWxlUm91dGUsXG4gICAgY3ljbGVTaGlwU2VsZWN0aW9uLFxuICAgIGNsZWFyU2hpcFJvdXRlLFxuICAgIGRlbGV0ZVNlbGVjdGVkU2hpcFdheXBvaW50LFxuICAgIGRlbGV0ZVNlbGVjdGVkTWlzc2lsZVdheXBvaW50LFxuICAgIGxhdW5jaEFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBoYW5kbGVTaGlwUG9pbnRlcixcbiAgICBoYW5kbGVNaXNzaWxlUG9pbnRlcixcbiAgICBiZWdpblNoaXBEcmFnLFxuICAgIGJlZ2luTWlzc2lsZURyYWcsXG4gICAgdXBkYXRlU2hpcERyYWcsXG4gICAgdXBkYXRlTWlzc2lsZURyYWcsXG4gICAgZW5kRHJhZyxcbiAgICBnZXREcmFnZ2VkV2F5cG9pbnQsXG4gICAgZ2V0RHJhZ2dlZE1pc3NpbGVXYXlwb2ludCxcbiAgICBnZXRNaXNzaWxlQ29vbGRvd25SZW1haW5pbmcsXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgTUlTU0lMRV9QQUxFVFRFLCBTSElQX1BBTEVUVEUsIGRyYXdQbGFubmVkUm91dGUgfSBmcm9tIFwiLi4vcm91dGVcIjtcbmltcG9ydCB0eXBlIHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCI7XG5pbXBvcnQgdHlwZSB7IExvZ2ljIH0gZnJvbSBcIi4vbG9naWNcIjtcblxuaW50ZXJmYWNlIFJlbmRlckRlcGVuZGVuY2llcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG4gIGNhbWVyYTogQ2FtZXJhO1xuICBsb2dpYzogTG9naWM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyZXIge1xuICBkcmF3U2NlbmUoKTogdm9pZDtcbiAgZHJhd0dyaWQoKTogdm9pZDtcbiAgZHJhd0JlYWNvbnMoKTogdm9pZDtcbiAgZHJhd1NoaXAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHZ4OiBudW1iZXIsIHZ5OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIGZpbGxlZDogYm9vbGVhbik6IHZvaWQ7XG4gIGRyYXdHaG9zdERvdCh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQ7XG4gIGRyYXdSb3V0ZSgpOiB2b2lkO1xuICBkcmF3TWlzc2lsZVJvdXRlKCk6IHZvaWQ7XG4gIGRyYXdNaXNzaWxlcygpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoe1xuICBjYW52YXMsXG4gIGN0eCxcbiAgc3RhdGUsXG4gIHVpU3RhdGUsXG4gIGNhbWVyYSxcbiAgbG9naWMsXG59OiBSZW5kZXJEZXBlbmRlbmNpZXMpOiBSZW5kZXJlciB7XG4gIGZ1bmN0aW9uIGRyYXdTaGlwKFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgdng6IG51bWJlcixcbiAgICB2eTogbnVtYmVyLFxuICAgIGNvbG9yOiBzdHJpbmcsXG4gICAgZmlsbGVkOiBib29sZWFuXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHAgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHgsIHkgfSk7XG4gICAgY29uc3QgciA9IDEwO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHZ5LCB2eCk7XG4gICAgY3R4LnJvdGF0ZShhbmdsZSk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8ociwgMCk7XG4gICAgY3R4LmxpbmVUbygtciAqIDAuNywgciAqIDAuNik7XG4gICAgY3R4LmxpbmVUbygtciAqIDAuNCwgMCk7XG4gICAgY3R4LmxpbmVUbygtciAqIDAuNywgLXIgKiAwLjYpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICBpZiAoZmlsbGVkKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYCR7Y29sb3J9Y2NgO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R2hvc3REb3QoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBwID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4LCB5IH0pO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHAueCwgcC55LCAzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiI2NjY2NjY2FhXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdSb3V0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXN0YXRlLm1lKSByZXR1cm47XG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5jb21wdXRlUm91dGVQb2ludHMoKTtcbiAgICBpZiAoIXJvdXRlIHx8IHJvdXRlLndheXBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGhlYXQgPSBzdGF0ZS5tZS5oZWF0O1xuICAgIGNvbnN0IGhlYXRQYXJhbXMgPSBoZWF0XG4gICAgICA/IHtcbiAgICAgICAgICBtYXJrZXJTcGVlZDogaGVhdC5tYXJrZXJTcGVlZCxcbiAgICAgICAgICBrVXA6IGhlYXQua1VwLFxuICAgICAgICAgIGtEb3duOiBoZWF0LmtEb3duLFxuICAgICAgICAgIGV4cDogaGVhdC5leHAsXG4gICAgICAgICAgbWF4OiBoZWF0Lm1heCxcbiAgICAgICAgICBvdmVyaGVhdEF0OiBoZWF0Lm92ZXJoZWF0QXQsXG4gICAgICAgICAgd2FybkF0OiBoZWF0Lndhcm5BdCxcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBjdXJyZW50U2VsZWN0aW9uID0gbG9naWMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgY29uc3QgZGlzcGxheVNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb25cbiAgICAgID8ge1xuICAgICAgICAgIHR5cGU6IGN1cnJlbnRTZWxlY3Rpb24udHlwZSxcbiAgICAgICAgICBpbmRleDogbG9naWMuYWN0dWFsSW5kZXhUb0Rpc3BsYXlJbmRleChjdXJyZW50U2VsZWN0aW9uLmluZGV4KSxcbiAgICAgICAgfVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHZhbGlkU2VsZWN0aW9uID1cbiAgICAgIGRpc3BsYXlTZWxlY3Rpb24gJiYgZGlzcGxheVNlbGVjdGlvbi5pbmRleCA+PSAwID8gZGlzcGxheVNlbGVjdGlvbiA6IG51bGw7XG5cbiAgICBjb25zdCBkcmFnZ2VkID0gbG9naWMuZ2V0RHJhZ2dlZFdheXBvaW50KCk7XG4gICAgY29uc3QgZGlzcGxheURyYWdnZWQgPVxuICAgICAgZHJhZ2dlZCAhPT0gbnVsbCA/IGxvZ2ljLmFjdHVhbEluZGV4VG9EaXNwbGF5SW5kZXgoZHJhZ2dlZCkgOiBudWxsO1xuICAgIGNvbnN0IHZhbGlkRHJhZ2dlZCA9XG4gICAgICBkaXNwbGF5RHJhZ2dlZCAhPT0gbnVsbCAmJiBkaXNwbGF5RHJhZ2dlZCA+PSAwID8gZGlzcGxheURyYWdnZWQgOiBudWxsO1xuXG4gICAgZHJhd1BsYW5uZWRSb3V0ZShjdHgsIHtcbiAgICAgIHJvdXRlUG9pbnRzOiByb3V0ZSxcbiAgICAgIHNlbGVjdGlvbjogdmFsaWRTZWxlY3Rpb24sXG4gICAgICBkcmFnZ2VkV2F5cG9pbnQ6IHZhbGlkRHJhZ2dlZCxcbiAgICAgIGRhc2hTdG9yZTogbG9naWMuc2hpcExlZ0Rhc2hPZmZzZXRzLFxuICAgICAgcGFsZXR0ZTogU0hJUF9QQUxFVFRFLFxuICAgICAgc2hvd0xlZ3M6IHVpU3RhdGUuc2hvd1NoaXBSb3V0ZSxcbiAgICAgIGhlYXRQYXJhbXMsXG4gICAgICBpbml0aWFsSGVhdDogaGVhdD8udmFsdWUgPz8gMCxcbiAgICAgIGRlZmF1bHRTcGVlZDogbG9naWMuZ2V0RGVmYXVsdFNoaXBTcGVlZCgpLFxuICAgICAgd29ybGRQb2ludHM6IHJvdXRlLndvcmxkUG9pbnRzLFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd01pc3NpbGVSb3V0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXN0YXRlLm1lKSByZXR1cm47XG4gICAgaWYgKHVpU3RhdGUuaW5wdXRDb250ZXh0ICE9PSBcIm1pc3NpbGVcIikgcmV0dXJuO1xuICAgIGNvbnN0IHJvdXRlID0gbG9naWMuY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpO1xuICAgIGlmICghcm91dGUgfHwgcm91dGUud2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGVhdFBhcmFtcyA9IHN0YXRlLm1pc3NpbGVDb25maWcuaGVhdFBhcmFtcztcbiAgICBjb25zdCBtaXNzaWxlU2VsZWN0aW9uID0gbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpO1xuICAgIGNvbnN0IGdlbmVyaWNTZWxlY3Rpb24gPVxuICAgICAgbWlzc2lsZVNlbGVjdGlvbiAmJiBtaXNzaWxlU2VsZWN0aW9uLnR5cGUgPT09IFwibGVnXCJcbiAgICAgICAgPyB7IHR5cGU6IFwibGVnXCIsIGluZGV4OiBtaXNzaWxlU2VsZWN0aW9uLmluZGV4IH1cbiAgICAgICAgOiBtaXNzaWxlU2VsZWN0aW9uICYmIG1pc3NpbGVTZWxlY3Rpb24udHlwZSA9PT0gXCJ3YXlwb2ludFwiXG4gICAgICAgID8geyB0eXBlOiBcIndheXBvaW50XCIsIGluZGV4OiBtaXNzaWxlU2VsZWN0aW9uLmluZGV4IH1cbiAgICAgICAgOiBudWxsO1xuXG4gICAgZHJhd1BsYW5uZWRSb3V0ZShjdHgsIHtcbiAgICAgIHJvdXRlUG9pbnRzOiByb3V0ZSxcbiAgICAgIHNlbGVjdGlvbjogZ2VuZXJpY1NlbGVjdGlvbixcbiAgICAgIGRyYWdnZWRXYXlwb2ludDogbnVsbCxcbiAgICAgIGRhc2hTdG9yZTogbG9naWMubWlzc2lsZUxlZ0Rhc2hPZmZzZXRzLFxuICAgICAgcGFsZXR0ZTogTUlTU0lMRV9QQUxFVFRFLFxuICAgICAgc2hvd0xlZ3M6IHRydWUsXG4gICAgICBoZWF0UGFyYW1zLFxuICAgICAgaW5pdGlhbEhlYXQ6IDAsXG4gICAgICBkZWZhdWx0U3BlZWQ6IHN0YXRlLm1pc3NpbGVDb25maWcuc3BlZWQsXG4gICAgICB3b3JsZFBvaW50czogcm91dGUud29ybGRQb2ludHMsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3TWlzc2lsZXMoKTogdm9pZCB7XG4gICAgaWYgKCFzdGF0ZS5taXNzaWxlcyB8fCBzdGF0ZS5taXNzaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCB3b3JsZCA9IGNhbWVyYS5nZXRXb3JsZFNpemUoKTtcbiAgICBjb25zdCBzY2FsZVggPSBjYW52YXMud2lkdGggLyB3b3JsZC53O1xuICAgIGNvbnN0IHNjYWxlWSA9IGNhbnZhcy5oZWlnaHQgLyB3b3JsZC5oO1xuICAgIGNvbnN0IHJhZGl1c1NjYWxlID0gKHNjYWxlWCArIHNjYWxlWSkgLyAyO1xuICAgIGZvciAoY29uc3QgbWlzcyBvZiBzdGF0ZS5taXNzaWxlcykge1xuICAgICAgY29uc3QgcCA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeDogbWlzcy54LCB5OiBtaXNzLnkgfSk7XG4gICAgICBjb25zdCBzZWxmT3duZWQgPSBCb29sZWFuKG1pc3Muc2VsZik7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhwLngsIHAueSwgc2VsZk93bmVkID8gNiA6IDUsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBzZWxmT3duZWQgPyBcIiNmODcxNzFcIiA6IFwiI2ZjYTVhNVwiO1xuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gc2VsZk93bmVkID8gMC45NSA6IDAuODtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDEuNTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzExMTgyN1wiO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgaWYgKHNlbGZPd25lZCAmJiBtaXNzLmFncm9fcmFkaXVzID4gMCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnN0IHJDYW52YXMgPSBtaXNzLmFncm9fcmFkaXVzICogcmFkaXVzU2NhbGU7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChbMTQsIDEwXSk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSgyNDgsMTEzLDExMywwLjM1KVwiO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMS4yO1xuICAgICAgICBjdHguYXJjKHAueCwgcC55LCByQ2FudmFzLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R3JpZCgpOiB2b2lkIHtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzIzNFwiO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuXG4gICAgY29uc3Qgem9vbSA9IHVpU3RhdGUuem9vbTtcbiAgICBsZXQgc3RlcCA9IDEwMDA7XG4gICAgaWYgKHpvb20gPCAwLjcpIHtcbiAgICAgIHN0ZXAgPSAyMDAwO1xuICAgIH0gZWxzZSBpZiAoem9vbSA+IDEuNSkge1xuICAgICAgc3RlcCA9IDUwMDtcbiAgICB9IGVsc2UgaWYgKHpvb20gPiAyLjUpIHtcbiAgICAgIHN0ZXAgPSAyNTA7XG4gICAgfVxuXG4gICAgY29uc3QgY2FtZXJhUG9zID0gY2FtZXJhLmdldENhbWVyYVBvc2l0aW9uKCk7XG4gICAgY29uc3Qgd29ybGQgPSBjYW1lcmEuZ2V0V29ybGRTaXplKCk7XG4gICAgY29uc3Qgc2NhbGVYID0gY2FudmFzLndpZHRoIC8gd29ybGQudztcbiAgICBjb25zdCBzY2FsZVkgPSBjYW52YXMuaGVpZ2h0IC8gd29ybGQuaDtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIHpvb207XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IGNhbnZhcy53aWR0aCAvIHNjYWxlO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlO1xuXG4gICAgY29uc3QgbWluWCA9IE1hdGgubWF4KDAsIGNhbWVyYVBvcy54IC0gdmlld3BvcnRXaWR0aCAvIDIpO1xuICAgIGNvbnN0IG1heFggPSBNYXRoLm1pbih3b3JsZC53LCBjYW1lcmFQb3MueCArIHZpZXdwb3J0V2lkdGggLyAyKTtcbiAgICBjb25zdCBtaW5ZID0gTWF0aC5tYXgoMCwgY2FtZXJhUG9zLnkgLSB2aWV3cG9ydEhlaWdodCAvIDIpO1xuICAgIGNvbnN0IG1heFkgPSBNYXRoLm1pbih3b3JsZC5oLCBjYW1lcmFQb3MueSArIHZpZXdwb3J0SGVpZ2h0IC8gMik7XG5cbiAgICBjb25zdCBzdGFydFggPSBNYXRoLmZsb29yKG1pblggLyBzdGVwKSAqIHN0ZXA7XG4gICAgY29uc3QgZW5kWCA9IE1hdGguY2VpbChtYXhYIC8gc3RlcCkgKiBzdGVwO1xuICAgIGNvbnN0IHN0YXJ0WSA9IE1hdGguZmxvb3IobWluWSAvIHN0ZXApICogc3RlcDtcbiAgICBjb25zdCBlbmRZID0gTWF0aC5jZWlsKG1heFkgLyBzdGVwKSAqIHN0ZXA7XG5cbiAgICBmb3IgKGxldCB4ID0gc3RhcnRYOyB4IDw9IGVuZFg7IHggKz0gc3RlcCkge1xuICAgICAgY29uc3QgYSA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeCwgeTogTWF0aC5tYXgoMCwgbWluWSkgfSk7XG4gICAgICBjb25zdCBiID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4LCB5OiBNYXRoLm1pbih3b3JsZC5oLCBtYXhZKSB9KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgY3R4LmxpbmVUbyhiLngsIGIueSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgeSA9IHN0YXJ0WTsgeSA8PSBlbmRZOyB5ICs9IHN0ZXApIHtcbiAgICAgIGNvbnN0IGEgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHg6IE1hdGgubWF4KDAsIG1pblgpLCB5IH0pO1xuICAgICAgY29uc3QgYiA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeDogTWF0aC5taW4od29ybGQudywgbWF4WCksIHkgfSk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKGEueCwgYS55KTtcbiAgICAgIGN0eC5saW5lVG8oYi54LCBiLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0JlYWNvbnMoKTogdm9pZCB7XG4gICAgY29uc3QgbWlzc2lvbiA9IHN0YXRlLm1pc3Npb247XG4gICAgaWYgKCFtaXNzaW9uIHx8IG1pc3Npb24uYmVhY29ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB3b3JsZCA9IGNhbWVyYS5nZXRXb3JsZFNpemUoKTtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKGNhbnZhcy53aWR0aCAvIHdvcmxkLncsIGNhbnZhcy5oZWlnaHQgLyB3b3JsZC5oKSAqIHVpU3RhdGUuem9vbTtcbiAgICBjb25zdCBtZSA9IHN0YXRlLm1lO1xuICAgIGNvbnN0IHBsYXllciA9IG1pc3Npb24ucGxheWVyO1xuICAgIGNvbnN0IGFjdGl2ZUJlYWNvbklkID0gcGxheWVyPy5hY3RpdmVCZWFjb25JZCA/PyBudWxsO1xuICAgIGNvbnN0IGhvbGRSZXF1aXJlZCA9IHBsYXllcj8uaG9sZFJlcXVpcmVkID8/IDA7XG4gICAgY29uc3QgaG9sZEFjY3VtID0gcGxheWVyPy5kaXNwbGF5SG9sZCA/PyBwbGF5ZXI/LmhvbGRBY2N1bSA/PyAwO1xuXG4gICAgbWlzc2lvbi5iZWFjb25zLmZvckVhY2goKGJlYWNvbikgPT4ge1xuICAgICAgY29uc3QgY2VudGVyID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4OiBiZWFjb24ueCwgeTogYmVhY29uLnkgfSk7XG4gICAgICBjb25zdCBlZGdlID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4OiBiZWFjb24ueCArIGJlYWNvbi5yYWRpdXMsIHk6IGJlYWNvbi55IH0pO1xuICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5oeXBvdChlZGdlLnggLSBjZW50ZXIueCwgZWRnZS55IC0gY2VudGVyLnkpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocmFkaXVzKSB8fCByYWRpdXMgPD0gMC41KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNMb2NrZWQgPSBiZWFjb24uY29tcGxldGVkO1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBhY3RpdmVCZWFjb25JZCA9PT0gYmVhY29uLmlkO1xuICAgICAgY29uc3QgYmFzZUxpbmVXaWR0aCA9IE1hdGgubWF4KDEuNSwgMi41ICogTWF0aC5taW4oMSwgc2NhbGUgKiAxLjIpKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gaXNMb2NrZWRcbiAgICAgICAgPyBcInJnYmEoNzQsMjIyLDEyOCwwLjg1KVwiXG4gICAgICAgIDogaXNBY3RpdmVcbiAgICAgICAgPyBcInJnYmEoNTYsMTg5LDI0OCwwLjk1KVwiXG4gICAgICAgIDogXCJyZ2JhKDE0OCwxNjMsMTg0LDAuNjUpXCI7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguc2V0TGluZURhc2goaXNBY3RpdmUgPyBbXSA6IFsxMCwgMTJdKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBpc0FjdGl2ZSA/IGJhc2VMaW5lV2lkdGggKiAxLjQgOiBiYXNlTGluZVdpZHRoO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSBpc0xvY2tlZCA/IDAuOSA6IDAuODtcbiAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY29uc3QgaW5zaWRlID1cbiAgICAgICAgaXNBY3RpdmUgJiYgbWVcbiAgICAgICAgICA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGR4ID0gbWUueCAtIGJlYWNvbi54O1xuICAgICAgICAgICAgICBjb25zdCBkeSA9IG1lLnkgLSBiZWFjb24ueTtcbiAgICAgICAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDw9IGJlYWNvbi5yYWRpdXMgKiBiZWFjb24ucmFkaXVzO1xuICAgICAgICAgICAgfSkoKVxuICAgICAgICAgIDogZmFsc2U7XG5cbiAgICAgIGlmIChpbnNpZGUpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDU2LDE4OSwyNDgsMC4xMilcIjtcbiAgICAgICAgY3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBob2xkUmVxdWlyZWQgPiAwID8gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgaG9sZEFjY3VtIC8gaG9sZFJlcXVpcmVkKSkgOiAwO1xuICAgICAgICBpZiAocHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSg1NiwxODksMjQ4LDAuOTUpXCI7XG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IE1hdGgubWF4KGJhc2VMaW5lV2lkdGggKiAxLjgsIDIpO1xuICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChbXSk7XG4gICAgICAgICAgY3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgLU1hdGguUEkgLyAyLCAtTWF0aC5QSSAvIDIgKyBwcm9ncmVzcyAqIE1hdGguUEkgKiAyKTtcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzTG9ja2VkKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSg3NCwyMjIsMTI4LDAuNzUpXCI7XG4gICAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCBNYXRoLm1heCg0LCByYWRpdXMgKiAwLjA1KSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfVxuXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd1NjZW5lKCk6IHZvaWQge1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBkcmF3R3JpZCgpO1xuICAgIGRyYXdCZWFjb25zKCk7XG4gICAgZHJhd1JvdXRlKCk7XG4gICAgZHJhd01pc3NpbGVSb3V0ZSgpO1xuICAgIGRyYXdNaXNzaWxlcygpO1xuXG4gICAgZm9yIChjb25zdCBnIG9mIHN0YXRlLmdob3N0cykge1xuICAgICAgZHJhd1NoaXAoZy54LCBnLnksIGcudngsIGcudnksIFwiIzljYTNhZlwiLCBmYWxzZSk7XG4gICAgICBkcmF3R2hvc3REb3QoZy54LCBnLnkpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUubWUpIHtcbiAgICAgIGRyYXdTaGlwKHN0YXRlLm1lLngsIHN0YXRlLm1lLnksIHN0YXRlLm1lLnZ4LCBzdGF0ZS5tZS52eSwgXCIjMjJkM2VlXCIsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZHJhd1NjZW5lLFxuICAgIGRyYXdHcmlkLFxuICAgIGRyYXdCZWFjb25zLFxuICAgIGRyYXdTaGlwLFxuICAgIGRyYXdHaG9zdERvdCxcbiAgICBkcmF3Um91dGUsXG4gICAgZHJhd01pc3NpbGVSb3V0ZSxcbiAgICBkcmF3TWlzc2lsZXMsXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQWN0aXZlVG9vbCwgQXBwU3RhdGUsIFVJU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7XG4gIE1JU1NJTEVfTUFYX1NQRUVELFxuICBNSVNTSUxFX01JTl9BR1JPLFxuICBNSVNTSUxFX01JTl9TUEVFRCxcbiAgY2xhbXAsXG4gIHNhbml0aXplTWlzc2lsZUNvbmZpZyxcbn0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgeyBIRUxQX1RFWFQgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB0eXBlIHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCI7XG5pbXBvcnQgdHlwZSB7IExvZ2ljIH0gZnJvbSBcIi4vbG9naWNcIjtcbmltcG9ydCB7IHByb2plY3RSb3V0ZUhlYXQgfSBmcm9tIFwiLi4vcm91dGVcIjtcblxuaW50ZXJmYWNlIFVJRGVwZW5kZW5jaWVzIHtcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICB1aVN0YXRlOiBVSVN0YXRlO1xuICBidXM6IEV2ZW50QnVzO1xuICBsb2dpYzogTG9naWM7XG4gIGNhbWVyYTogQ2FtZXJhO1xuICBzZW5kTWVzc2FnZShwYXlsb2FkOiB1bmtub3duKTogdm9pZDtcbiAgZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlOiBBcHBTdGF0ZSk6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIENhY2hlZENhbnZhcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlDb250cm9sbGVyIHtcbiAgY2FjaGVEb20oKTogQ2FjaGVkQ2FudmFzO1xuICBiaW5kVUkoKTogdm9pZDtcbiAgc2V0QWN0aXZlVG9vbCh0b29sOiBBY3RpdmVUb29sKTogdm9pZDtcbiAgc2V0SW5wdXRDb250ZXh0KGNvbnRleHQ6IFwic2hpcFwiIHwgXCJtaXNzaWxlXCIpOiB2b2lkO1xuICB1cGRhdGVDb250cm9sSGlnaGxpZ2h0cygpOiB2b2lkO1xuICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk6IHZvaWQ7XG4gIHJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTogdm9pZDtcbiAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTogdm9pZDtcbiAgc3luY01pc3NpbGVVSUZyb21TdGF0ZSgpOiB2b2lkO1xuICB1cGRhdGVIZWxwT3ZlcmxheSgpOiB2b2lkO1xuICBzZXRIZWxwVmlzaWJsZShmbGFnOiBib29sZWFuKTogdm9pZDtcbiAgdXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlKCk6IHZvaWQ7XG4gIHVwZGF0ZU1pc3NpbGVDb3VudERpc3BsYXkoKTogdm9pZDtcbiAgdXBkYXRlQ3JhZnRUaW1lcigpOiB2b2lkO1xuICB1cGRhdGVTdGF0dXNJbmRpY2F0b3JzKCk6IHZvaWQ7XG4gIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk6IHZvaWQ7XG4gIHVwZGF0ZVNwZWVkTWFya2VyKCk6IHZvaWQ7XG4gIHVwZGF0ZUhlYXRCYXIoKTogdm9pZDtcbiAgcHJvamVjdFBsYW5uZWRIZWF0KCk6IG51bWJlciB8IG51bGw7XG4gIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw7XG4gIGdldENvbnRleHQoKTogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcbiAgYWRqdXN0U2hpcFNwZWVkKHN0ZXBzOiBudW1iZXIsIGNvYXJzZTogYm9vbGVhbik6IHZvaWQ7XG4gIGFkanVzdE1pc3NpbGVBZ3JvKHN0ZXBzOiBudW1iZXIsIGNvYXJzZTogYm9vbGVhbik6IHZvaWQ7XG4gIGFkanVzdE1pc3NpbGVTcGVlZChzdGVwczogbnVtYmVyLCBjb2Fyc2U6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUkoe1xuICBzdGF0ZSxcbiAgdWlTdGF0ZSxcbiAgYnVzLFxuICBsb2dpYyxcbiAgY2FtZXJhLFxuICBzZW5kTWVzc2FnZSxcbiAgZ2V0QXBwcm94U2VydmVyTm93LFxufTogVUlEZXBlbmRlbmNpZXMpOiBVSUNvbnRyb2xsZXIge1xuICBsZXQgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsID0gbnVsbDtcbiAgbGV0IEhQc3BhbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGtpbGxzU3BhbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBDb250cm9sc0NhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwQ2xlYXJCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwU2V0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFNlbGVjdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBSb3V0ZXNDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwUm91dGVMZWc6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwUm91dGVTcGVlZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBEZWxldGVCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwU3BlZWRDYXJkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFNwZWVkU2xpZGVyOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwU3BlZWRWYWx1ZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTcGVlZE1hcmtlcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBsZXQgbWlzc2lsZUNvbnRyb2xzQ2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVBZGRSb3V0ZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVMYXVuY2hCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlTGF1bmNoVGV4dDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVMYXVuY2hJbmZvOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNldEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTZWxlY3RCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlRGVsZXRlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNwZWVkQ2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTcGVlZFNsaWRlcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNwZWVkVmFsdWU6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQWdyb0NhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQWdyb1NsaWRlcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUFncm9WYWx1ZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVIZWF0Q2FwYWNpdHlDYXJkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUhlYXRDYXBhY2l0eVNsaWRlcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUhlYXRDYXBhY2l0eVZhbHVlOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUNyYWZ0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUNvdW50U3BhbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVDcmFmdFRpbWVyRGl2OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgY3JhZnRUaW1lUmVtYWluaW5nU3BhbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNwYXduQm90QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc3Bhd25Cb3RUZXh0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGxldCByb3V0ZVByZXZCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCByb3V0ZU5leHRCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCByb3V0ZU1lbnVUb2dnbGU6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCByb3V0ZU1lbnU6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCByZW5hbWVNaXNzaWxlUm91dGVCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBkZWxldGVNaXNzaWxlUm91dGVCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBjbGVhck1pc3NpbGVXYXlwb2ludHNCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlUm91dGVOYW1lTGFiZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlUm91dGVDb3VudExhYmVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGxldCBoZWxwVG9nZ2xlOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVscE92ZXJsYXk6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBoZWxwQ2xvc2VCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBoZWxwVGV4dDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBsZXQgaGVhdEJhckZpbGw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBoZWF0QmFyUGxhbm5lZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGhlYXRWYWx1ZVRleHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzcGVlZE1hcmtlcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHN0YWxsT3ZlcmxheTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGJhc2VTaGlwU3BlZWRNYXg6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGxldCBtYXJrZXJBbGlnbmVkID0gZmFsc2U7XG4gIGxldCBoZWF0V2FybkFjdGl2ZSA9IGZhbHNlO1xuICBsZXQgc3RhbGxBY3RpdmUgPSBmYWxzZTtcbiAgbGV0IGR1YWxNZXRlckFsZXJ0ID0gZmFsc2U7XG4gIGxldCBsYXN0TWlzc2lsZUxhdW5jaFRleHRIVE1MID0gXCJcIjtcbiAgbGV0IGxhc3RNaXNzaWxlTGF1bmNoSW5mb0hUTUwgPSBcIlwiO1xuICBsZXQgbGFzdE1pc3NpbGVDb25maWdTZW50OiB7IHNwZWVkOiBudW1iZXI7IGFncm9SYWRpdXM6IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gY2FjaGVEb20oKTogQ2FjaGVkQ2FudmFzIHtcbiAgICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN2XCIpIGFzIEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgICBjdHggPSBjYW52YXM/LmdldENvbnRleHQoXCIyZFwiKSA/PyBudWxsO1xuICAgIEhQc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1ocFwiKTtcbiAgICBzaGlwQ29udHJvbHNDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWNvbnRyb2xzXCIpO1xuICAgIHNoaXBDbGVhckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1jbGVhclwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgc2hpcFNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zZXRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBTZWxlY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc2VsZWN0XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBzaGlwUm91dGVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXJvdXRlc1wiKTtcbiAgICBzaGlwUm91dGVMZWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtcm91dGUtbGVnXCIpO1xuICAgIHNoaXBSb3V0ZVNwZWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXJvdXRlLXNwZWVkXCIpO1xuICAgIHNoaXBEZWxldGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtZGVsZXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBzaGlwU3BlZWRDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNwZWVkLWNhcmRcIik7XG4gICAgc2hpcFNwZWVkU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNwZWVkLXNsaWRlclwiKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICBzaGlwU3BlZWRWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zcGVlZC12YWx1ZVwiKTtcbiAgICBpZiAoc2hpcFNwZWVkU2xpZGVyICYmIGJhc2VTaGlwU3BlZWRNYXggPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlRmxvYXQoc2hpcFNwZWVkU2xpZGVyLm1heCk7XG4gICAgICBiYXNlU2hpcFNwZWVkTWF4ID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAyNTA7XG4gICAgfVxuXG4gICAgbWlzc2lsZUNvbnRyb2xzQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1jb250cm9sc1wiKTtcbiAgICBtaXNzaWxlQWRkUm91dGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtYWRkLXJvdXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlTGF1bmNoQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWxhdW5jaFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZUxhdW5jaFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoLXRleHRcIik7XG4gICAgbWlzc2lsZUxhdW5jaEluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoLWluZm9cIik7XG4gICAgbWlzc2lsZVNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zZXRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVTZWxlY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtc2VsZWN0XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlRGVsZXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWRlbGV0ZVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZVNwZWVkQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zcGVlZC1jYXJkXCIpO1xuICAgIG1pc3NpbGVTcGVlZFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zcGVlZC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZVNwZWVkVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtc3BlZWQtdmFsdWVcIik7XG4gICAgbWlzc2lsZUFncm9DYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tY2FyZFwiKTtcbiAgICBtaXNzaWxlQWdyb1NsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1hZ3JvLXNsaWRlclwiKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlQWdyb1ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tdmFsdWVcIik7XG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eUNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtaGVhdC1jYXBhY2l0eS1jYXJkXCIpO1xuICAgIG1pc3NpbGVIZWF0Q2FwYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtaGVhdC1jYXBhY2l0eS1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eVZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWhlYXQtY2FwYWNpdHktdmFsdWVcIik7XG4gICAgbWlzc2lsZUNyYWZ0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNyYWZ0XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlQ291bnRTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNvdW50XCIpO1xuICAgIG1pc3NpbGVDcmFmdFRpbWVyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNyYWZ0LXRpbWVyXCIpO1xuICAgIGNyYWZ0VGltZVJlbWFpbmluZ1NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyYWZ0LXRpbWUtcmVtYWluaW5nXCIpO1xuXG4gICAgc3Bhd25Cb3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwYXduLWJvdFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgc3Bhd25Cb3RUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGF3bi1ib3QtdGV4dFwiKTtcbiAgICBraWxsc1NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAta2lsbHNcIik7XG4gICAgcm91dGVQcmV2QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1wcmV2XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICByb3V0ZU5leHRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdXRlLW5leHRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHJvdXRlTWVudVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtbWVudS10b2dnbGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHJvdXRlTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtbWVudVwiKTtcbiAgICByZW5hbWVNaXNzaWxlUm91dGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmFtZS1taXNzaWxlLXJvdXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBkZWxldGVNaXNzaWxlUm91dGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZS1taXNzaWxlLXJvdXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBjbGVhck1pc3NpbGVXYXlwb2ludHNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsZWFyLW1pc3NpbGUtd2F5cG9pbnRzXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlUm91dGVOYW1lTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtcm91dGUtbmFtZVwiKTtcbiAgICBtaXNzaWxlUm91dGVDb3VudExhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXJvdXRlLWNvdW50XCIpO1xuXG4gICAgaGVscFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscC10b2dnbGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGhlbHBPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwLW92ZXJsYXlcIik7XG4gICAgaGVscENsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwLWNsb3NlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBoZWxwVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscC10ZXh0XCIpO1xuXG4gICAgaGVhdEJhckZpbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYXQtYmFyLWZpbGxcIik7XG4gICAgaGVhdEJhclBsYW5uZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYXQtYmFyLXBsYW5uZWRcIik7XG4gICAgaGVhdFZhbHVlVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhdC12YWx1ZS10ZXh0XCIpO1xuICAgIHNwZWVkTWFya2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVlZC1tYXJrZXJcIik7XG4gICAgbWlzc2lsZVNwZWVkTWFya2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNwZWVkLW1hcmtlclwiKTtcbiAgICBzdGFsbE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YWxsLW92ZXJsYXlcIik7XG5cbiAgICBjb25zdCBzbGlkZXJEZWZhdWx0ID0gcGFyc2VGbG9hdChzaGlwU3BlZWRTbGlkZXI/LnZhbHVlID8/IFwiMTUwXCIpO1xuICAgIGxvZ2ljLnNldERlZmF1bHRTaGlwU3BlZWQoTnVtYmVyLmlzRmluaXRlKHNsaWRlckRlZmF1bHQpID8gc2xpZGVyRGVmYXVsdCA6IDE1MCk7XG4gICAgaWYgKG1pc3NpbGVTcGVlZFNsaWRlcikge1xuICAgICAgbWlzc2lsZVNwZWVkU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgY2FudmFzLCBjdHggfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpbmRVSSgpOiB2b2lkIHtcbiAgICBzcGF3bkJvdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmICghc3Bhd25Cb3RCdG4gfHwgc3Bhd25Cb3RCdG4uZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcInNwYXduX2JvdFwiIH0pO1xuICAgICAgYnVzLmVtaXQoXCJib3Q6c3Bhd25SZXF1ZXN0ZWRcIik7XG5cbiAgICAgIHNwYXduQm90QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzcGF3bkJvdFRleHQpIHtcbiAgICAgICAgc3Bhd25Cb3RUZXh0LnRleHRDb250ZW50ID0gXCJTcGF3bmVkXCI7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoc3Bhd25Cb3RCdG4pIHtcbiAgICAgICAgICBzcGF3bkJvdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGF3bkJvdFRleHQpIHtcbiAgICAgICAgICBzcGF3bkJvdFRleHQudGV4dENvbnRlbnQgPSBcIkJvdFwiO1xuICAgICAgICB9XG4gICAgICB9LCA1MDAwKTtcbiAgICB9KTtcblxuICAgIHNoaXBDbGVhckJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICBsb2dpYy5jbGVhclNoaXBSb3V0ZSgpO1xuICAgICAgYnVzLmVtaXQoXCJzaGlwOmNsZWFySW52b2tlZFwiKTtcbiAgICB9KTtcblxuICAgIHNoaXBTZXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRBY3RpdmVUb29sKFwic2hpcC1zZXRcIik7XG4gICAgfSk7XG5cbiAgICBzaGlwU2VsZWN0QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlVG9vbChcInNoaXAtc2VsZWN0XCIpO1xuICAgIH0pO1xuXG4gICAgc2hpcFNwZWVkU2xpZGVyPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHJldHVybjtcbiAgICAgIHVwZGF0ZVNwZWVkTGFiZWwodmFsdWUpO1xuICAgICAgbG9naWMuc2V0RGVmYXVsdFNoaXBTcGVlZCh2YWx1ZSk7XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSBsb2dpYy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIGlmIChcbiAgICAgICAgc2VsZWN0aW9uICYmXG4gICAgICAgIHN0YXRlLm1lICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSAmJlxuICAgICAgICBzdGF0ZS5tZS53YXlwb2ludHNbc2VsZWN0aW9uLmluZGV4XVxuICAgICAgKSB7XG4gICAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJ1cGRhdGVfd2F5cG9pbnRcIiwgaW5kZXg6IHNlbGVjdGlvbi5pbmRleCwgc3BlZWQ6IHZhbHVlIH0pO1xuICAgICAgICBzdGF0ZS5tZS53YXlwb2ludHNbc2VsZWN0aW9uLmluZGV4XS5zcGVlZCA9IHZhbHVlO1xuICAgICAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBoZWF0ID0gc3RhdGUubWU/LmhlYXQ7XG4gICAgICBpZiAoaGVhdCkge1xuICAgICAgICBjb25zdCB0b2xlcmFuY2UgPSBNYXRoLm1heCg1LCBoZWF0Lm1hcmtlclNwZWVkICogMC4wMik7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyh2YWx1ZSAtIGhlYXQubWFya2VyU3BlZWQpO1xuICAgICAgICBjb25zdCBpblJhbmdlID0gZGlmZiA8PSB0b2xlcmFuY2U7XG4gICAgICAgIGlmIChpblJhbmdlICYmICFtYXJrZXJBbGlnbmVkKSB7XG4gICAgICAgICAgbWFya2VyQWxpZ25lZCA9IHRydWU7XG4gICAgICAgICAgYnVzLmVtaXQoXCJoZWF0Om1hcmtlckFsaWduZWRcIiwgeyB2YWx1ZSwgbWFya2VyOiBoZWF0Lm1hcmtlclNwZWVkIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFpblJhbmdlICYmIG1hcmtlckFsaWduZWQpIHtcbiAgICAgICAgICBtYXJrZXJBbGlnbmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmtlckFsaWduZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGJ1cy5lbWl0KFwic2hpcDpzcGVlZENoYW5nZWRcIiwgeyB2YWx1ZSB9KTtcbiAgICB9KTtcblxuICAgIHNoaXBEZWxldGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRTaGlwV2F5cG9pbnQoKTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVBZGRSb3V0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiYWRkX21pc3NpbGVfcm91dGVcIiB9KTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVMYXVuY2hCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgbG9naWMubGF1bmNoQWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlU2V0QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2V0XCIpO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZVNlbGVjdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldEFjdGl2ZVRvb2woXCJtaXNzaWxlLXNlbGVjdFwiKTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVEZWxldGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQoKTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTpkZWxldGVJbnZva2VkXCIpO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBzbGlkZXIgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChzbGlkZXIuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmF3ID0gcGFyc2VGbG9hdChzbGlkZXIudmFsdWUpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocmF3KSkgcmV0dXJuO1xuICAgICAgY29uc3QgbWluU3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWluID8/IE1JU1NJTEVfTUlOX1NQRUVEO1xuICAgICAgY29uc3QgbWF4U3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWF4ID8/IE1JU1NJTEVfTUFYX1NQRUVEO1xuICAgICAgY29uc3QgY2xhbXBlZFZhbHVlID0gY2xhbXAocmF3LCBtaW5TcGVlZCwgbWF4U3BlZWQpO1xuICAgICAgc2xpZGVyLnZhbHVlID0gY2xhbXBlZFZhbHVlLnRvRml4ZWQoMCk7XG4gICAgICBpZiAobWlzc2lsZVNwZWVkVmFsdWUpIHtcbiAgICAgICAgbWlzc2lsZVNwZWVkVmFsdWUudGV4dENvbnRlbnQgPSBgJHtjbGFtcGVkVmFsdWUudG9GaXhlZCgwKX1gO1xuICAgICAgfVxuICAgICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgIGNvbnN0IG1pc3NpbGVTZWxlY3Rpb24gPSBsb2dpYy5nZXRNaXNzaWxlU2VsZWN0aW9uKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHJvdXRlICYmXG4gICAgICAgIG1pc3NpbGVTZWxlY3Rpb24gJiZcbiAgICAgICAgbWlzc2lsZVNlbGVjdGlvbi50eXBlID09PSBcImxlZ1wiICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSAmJlxuICAgICAgICBtaXNzaWxlU2VsZWN0aW9uLmluZGV4ID49IDAgJiZcbiAgICAgICAgbWlzc2lsZVNlbGVjdGlvbi5pbmRleCA8IHJvdXRlLndheXBvaW50cy5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICByb3V0ZS53YXlwb2ludHMgPSByb3V0ZS53YXlwb2ludHMubWFwKCh3LCBpZHgpID0+XG4gICAgICAgICAgaWR4ID09PSBtaXNzaWxlU2VsZWN0aW9uLmluZGV4ID8geyAuLi53LCBzcGVlZDogY2xhbXBlZFZhbHVlIH0gOiB3XG4gICAgICAgICk7XG4gICAgICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcInVwZGF0ZV9taXNzaWxlX3dheXBvaW50X3NwZWVkXCIsXG4gICAgICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgICAgIGluZGV4OiBtaXNzaWxlU2VsZWN0aW9uLmluZGV4LFxuICAgICAgICAgIHNwZWVkOiBjbGFtcGVkVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6c3BlZWRDaGFuZ2VkXCIsIHsgdmFsdWU6IGNsYW1wZWRWYWx1ZSwgaW5kZXg6IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXggfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjZmcgPSBzYW5pdGl6ZU1pc3NpbGVDb25maWcoXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3BlZWQ6IGNsYW1wZWRWYWx1ZSxcbiAgICAgICAgICAgIGFncm9SYWRpdXM6IHN0YXRlLm1pc3NpbGVDb25maWcuYWdyb1JhZGl1cyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlLm1pc3NpbGVDb25maWcsXG4gICAgICAgICAgc3RhdGUubWlzc2lsZUxpbWl0c1xuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5taXNzaWxlQ29uZmlnID0gY2ZnO1xuICAgICAgICBzZW5kTWlzc2lsZUNvbmZpZyhjZmcpO1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6c3BlZWRDaGFuZ2VkXCIsIHsgdmFsdWU6IGNsYW1wZWRWYWx1ZSwgaW5kZXg6IC0xIH0pO1xuICAgICAgfVxuICAgICAgbG9naWMucmVjb3JkTWlzc2lsZUxlZ1NwZWVkKGNsYW1wZWRWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlQWdyb1NsaWRlcj8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3Qgc2xpZGVyID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBjb25zdCByYXcgPSBwYXJzZUZsb2F0KHNsaWRlci52YWx1ZSk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShyYXcpKSByZXR1cm47XG4gICAgICBjb25zdCBtaW5BZ3JvID0gc3RhdGUubWlzc2lsZUxpbWl0cy5hZ3JvTWluID8/IE1JU1NJTEVfTUlOX0FHUk87XG4gICAgICBjb25zdCBjbGFtcGVkVmFsdWUgPSBNYXRoLm1heChtaW5BZ3JvLCByYXcpO1xuICAgICAgc2xpZGVyLnZhbHVlID0gY2xhbXBlZFZhbHVlLnRvRml4ZWQoMCk7XG4gICAgICBpZiAobWlzc2lsZUFncm9WYWx1ZSkge1xuICAgICAgICBtaXNzaWxlQWdyb1ZhbHVlLnRleHRDb250ZW50ID0gYCR7Y2xhbXBlZFZhbHVlLnRvRml4ZWQoMCl9YDtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZU1pc3NpbGVDb25maWdGcm9tVUkoeyBhZ3JvUmFkaXVzOiBjbGFtcGVkVmFsdWUgfSk7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6YWdyb0NoYW5nZWRcIiwgeyB2YWx1ZTogY2xhbXBlZFZhbHVlIH0pO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eVNsaWRlcj8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gcGFyc2VGbG9hdCgoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHJhdykpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsYW1wZWRWYWx1ZSA9IE1hdGgubWF4KDgwLCBNYXRoLm1pbigyMDAsIHJhdykpO1xuICAgICAgbWlzc2lsZUhlYXRDYXBhY2l0eVNsaWRlci52YWx1ZSA9IGNsYW1wZWRWYWx1ZS50b0ZpeGVkKDApO1xuICAgICAgaWYgKG1pc3NpbGVIZWF0Q2FwYWNpdHlWYWx1ZSkge1xuICAgICAgICBtaXNzaWxlSGVhdENhcGFjaXR5VmFsdWUudGV4dENvbnRlbnQgPSBgJHtjbGFtcGVkVmFsdWUudG9GaXhlZCgwKX1gO1xuICAgICAgfVxuICAgICAgc3RhdGUuY3JhZnRIZWF0Q2FwYWNpdHkgPSBjbGFtcGVkVmFsdWU7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlQ3JhZnRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAobWlzc2lsZUNyYWZ0QnRuLmRpc2FibGVkKSByZXR1cm47XG5cbiAgICAgIC8vIEZpbmQgdGhlIGNyYWZ0IG5vZGUgZm9yIHRoZSBzZWxlY3RlZCBoZWF0IGNhcGFjaXR5XG4gICAgICBjb25zdCBoZWF0Q2FwID0gc3RhdGUuY3JhZnRIZWF0Q2FwYWNpdHk7XG4gICAgICBsZXQgbm9kZUlkID0gXCJjcmFmdC5taXNzaWxlLmJhc2ljXCI7IC8vIERlZmF1bHRcblxuICAgICAgaWYgKHN0YXRlLmRhZykge1xuICAgICAgICAvLyBGaW5kIHRoZSBiZXN0IG1hdGNoaW5nIGNyYWZ0IG5vZGUgYmFzZWQgb24gaGVhdCBjYXBhY2l0eVxuICAgICAgICBjb25zdCBjcmFmdE5vZGVzID0gc3RhdGUuZGFnLm5vZGVzLmZpbHRlcihuID0+IG4ua2luZCA9PT0gXCJjcmFmdFwiICYmIG4uaWQuaW5jbHVkZXMoXCJtaXNzaWxlXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGNyYWZ0Tm9kZXMpIHtcbiAgICAgICAgICBjb25zdCBub2RlSGVhdENhcCA9IHBhcnNlSW50KG5vZGUuaWQubWF0Y2goLyhcXGQrKS8pPy5bMV0gfHwgXCI4MFwiKTtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMobm9kZUhlYXRDYXAgLSBoZWF0Q2FwKSA8IDUpIHtcbiAgICAgICAgICAgIG5vZGVJZCA9IG5vZGUuaWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHJpZ2h0IG5vZGUgYmFzZWQgb24gaGVhdCBjYXBhY2l0eSByYW5nZXNcbiAgICAgICAgaWYgKGhlYXRDYXAgPj0gMTgwKSB7XG4gICAgICAgICAgbm9kZUlkID0gXCJjcmFmdC5taXNzaWxlLmV4dGVuZGVkXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVhdENhcCA+PSAxNDApIHtcbiAgICAgICAgICBub2RlSWQgPSBcImNyYWZ0Lm1pc3NpbGUuaGlnaF9oZWF0XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVhdENhcCA+PSAxMTApIHtcbiAgICAgICAgICBub2RlSWQgPSBcImNyYWZ0Lm1pc3NpbGUubG9uZ19yYW5nZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGVJZCA9IFwiY3JhZnQubWlzc2lsZS5iYXNpY1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJkYWdfc3RhcnRcIiwgbm9kZV9pZDogbm9kZUlkIH0pO1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOmNyYWZ0UmVxdWVzdGVkXCIsIHsgbm9kZUlkLCBoZWF0Q2FwYWNpdHk6IGhlYXRDYXAgfSk7XG4gICAgfSk7XG5cbiAgICByb3V0ZVByZXZCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBsb2dpYy5jeWNsZU1pc3NpbGVSb3V0ZSgtMSkpO1xuICAgIHJvdXRlTmV4dEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGxvZ2ljLmN5Y2xlTWlzc2lsZVJvdXRlKDEpKTtcblxuICAgIHJvdXRlTWVudVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHJvdXRlTWVudT8uY2xhc3NMaXN0LnRvZ2dsZShcInZpc2libGVcIik7XG4gICAgfSk7XG5cbiAgICByZW5hbWVNaXNzaWxlUm91dGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgaWYgKCFyb3V0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgbmV4dE5hbWUgPSBwcm9tcHQoXCJSZW5hbWUgcm91dGVcIiwgcm91dGUubmFtZSA/PyBcIlwiKSA/PyBcIlwiO1xuICAgICAgY29uc3QgdHJpbW1lZCA9IG5leHROYW1lLnRyaW0oKTtcbiAgICAgIGlmICh0cmltbWVkID09PSByb3V0ZS5uYW1lKSByZXR1cm47XG4gICAgICBzZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwicmVuYW1lX21pc3NpbGVfcm91dGVcIixcbiAgICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgICBuYW1lOiB0cmltbWVkLFxuICAgICAgfSk7XG4gICAgICByb3V0ZS5uYW1lID0gdHJpbW1lZDtcbiAgICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSk7XG5cbiAgICBkZWxldGVNaXNzaWxlUm91dGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgaWYgKCFyb3V0ZSkgcmV0dXJuO1xuICAgICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImRlbGV0ZV9taXNzaWxlX3JvdXRlXCIsIHJvdXRlX2lkOiByb3V0ZS5pZCB9KTtcbiAgICB9KTtcblxuICAgIGNsZWFyTWlzc2lsZVdheXBvaW50c0J0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICBpZiAoIXJvdXRlIHx8ICFBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykgfHwgcm91dGUud2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiY2xlYXJfbWlzc2lsZV93YXlwb2ludHNcIiwgcm91dGVfaWQ6IHJvdXRlLmlkIH0pO1xuICAgICAgcm91dGUud2F5cG9pbnRzID0gW107XG4gICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9KTtcblxuICAgIGhlbHBUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRIZWxwVmlzaWJsZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGhlbHBDbG9zZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldEhlbHBWaXNpYmxlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGJ1cy5vbihcInNoaXA6bGVnU2VsZWN0ZWRcIiwgKCkgPT4ge1xuICAgICAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcInNoaXA6d2F5cG9pbnRBZGRlZFwiLCAoKSA9PiB7XG4gICAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgICB1cGRhdGVQbGFubmVkSGVhdEJhcigpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcInNoaXA6d2F5cG9pbnREZWxldGVkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwic2hpcDp3YXlwb2ludHNDbGVhcmVkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTpzZWxlY3Rpb25DaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCIsICgpID0+IHtcbiAgICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTp3YXlwb2ludERlbGV0ZWRcIiwgKCkgPT4ge1xuICAgICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9KTtcbiAgICBidXMub24oXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcIm1pc3NpbGU6Y3JhZnRSZXF1ZXN0ZWRcIiwgKCkgPT4ge1xuICAgICAgLy8gRGlzYWJsZSBjcmFmdCBidXR0b24gdGVtcG9yYXJpbHkgdG8gcHJldmVudCBkb3VibGUtY2xpY2tzXG4gICAgICBpZiAobWlzc2lsZUNyYWZ0QnRuKSB7XG4gICAgICAgIG1pc3NpbGVDcmFmdEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICAvLyBGb3JjZSBpbW1lZGlhdGUgdGltZXIgdXBkYXRlXG4gICAgICB1cGRhdGVDcmFmdFRpbWVyKCk7XG4gICAgICAvLyBSZS1lbmFibGUgYWZ0ZXIgYSBzaG9ydCBkZWxheSAoc2VydmVyIHdpbGwgdXBkYXRlIHN0YXRlKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChtaXNzaWxlQ3JhZnRCdG4pIHtcbiAgICAgICAgICBtaXNzaWxlQ3JhZnRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb250ZXh0KCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwge1xuICAgIHJldHVybiBjdHg7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTcGVlZExhYmVsKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXNoaXBTcGVlZFZhbHVlKSByZXR1cm47XG4gICAgc2hpcFNwZWVkVmFsdWUudGV4dENvbnRlbnQgPSBgJHt2YWx1ZS50b0ZpeGVkKDApfSB1L3NgO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0U2xpZGVyVmFsdWUoXG4gICAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsLFxuICAgIHN0ZXBzOiBudW1iZXIsXG4gICAgY29hcnNlOiBib29sZWFuXG4gICk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghaW5wdXQpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHN0ZXAgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGlucHV0LnN0ZXApKSB8fCAxO1xuICAgIGNvbnN0IG11bHRpcGxpZXIgPSBjb2Fyc2UgPyA0IDogMTtcbiAgICBjb25zdCBtaW4gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VGbG9hdChpbnB1dC5taW4pKSA/IHBhcnNlRmxvYXQoaW5wdXQubWluKSA6IC1JbmZpbml0eTtcbiAgICBjb25zdCBtYXggPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VGbG9hdChpbnB1dC5tYXgpKSA/IHBhcnNlRmxvYXQoaW5wdXQubWF4KSA6IEluZmluaXR5O1xuICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSB8fCAwO1xuICAgIGxldCBuZXh0ID0gY3VycmVudCArIHN0ZXBzICogc3RlcCAqIG11bHRpcGxpZXI7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShtaW4pKSBuZXh0ID0gTWF0aC5tYXgobWluLCBuZXh0KTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG1heCkpIG5leHQgPSBNYXRoLm1pbihtYXgsIG5leHQpO1xuICAgIGlmIChNYXRoLmFicyhuZXh0IC0gY3VycmVudCkgPCAxZS00KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5wdXQudmFsdWUgPSBTdHJpbmcobmV4dCk7XG4gICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0U2hpcFNwZWVkKHN0ZXBzOiBudW1iZXIsIGNvYXJzZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGFkanVzdFNsaWRlclZhbHVlKHNoaXBTcGVlZFNsaWRlciwgc3RlcHMsIGNvYXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RNaXNzaWxlQWdybyhzdGVwczogbnVtYmVyLCBjb2Fyc2U6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBhZGp1c3RTbGlkZXJWYWx1ZShtaXNzaWxlQWdyb1NsaWRlciwgc3RlcHMsIGNvYXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RNaXNzaWxlU3BlZWQoc3RlcHM6IG51bWJlciwgY29hcnNlOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKG1pc3NpbGVTcGVlZFNsaWRlciAmJiAhbWlzc2lsZVNwZWVkU2xpZGVyLmRpc2FibGVkKSB7XG4gICAgICBhZGp1c3RTbGlkZXJWYWx1ZShtaXNzaWxlU3BlZWRTbGlkZXIsIHN0ZXBzLCBjb2Fyc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNoaXBTbGlkZXJWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFzaGlwU3BlZWRTbGlkZXIpIHJldHVybjtcbiAgICBzaGlwU3BlZWRTbGlkZXIudmFsdWUgPSB2YWx1ZS50b0ZpeGVkKDApO1xuICAgIHVwZGF0ZVNwZWVkTGFiZWwodmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTogdm9pZCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBjb25zdCBhY3RpdmVSb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmIChtaXNzaWxlUm91dGVOYW1lTGFiZWwpIHtcbiAgICAgIGlmICghYWN0aXZlUm91dGUpIHtcbiAgICAgICAgbWlzc2lsZVJvdXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gcm91dGVzLmxlbmd0aCA9PT0gMCA/IFwiTm8gcm91dGVcIiA6IFwiUm91dGVcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3NpbGVSb3V0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IGFjdGl2ZVJvdXRlLm5hbWUgfHwgXCJSb3V0ZVwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtaXNzaWxlUm91dGVDb3VudExhYmVsKSB7XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIGFjdGl2ZVJvdXRlICYmIEFycmF5LmlzQXJyYXkoYWN0aXZlUm91dGUud2F5cG9pbnRzKSA/IGFjdGl2ZVJvdXRlLndheXBvaW50cy5sZW5ndGggOiAwO1xuICAgICAgbWlzc2lsZVJvdXRlQ291bnRMYWJlbC50ZXh0Q29udGVudCA9IGAke2NvdW50fSBwdHNgO1xuICAgIH1cblxuICAgIGlmIChkZWxldGVNaXNzaWxlUm91dGVCdG4pIHtcbiAgICAgIGRlbGV0ZU1pc3NpbGVSb3V0ZUJ0bi5kaXNhYmxlZCA9IHJvdXRlcy5sZW5ndGggPD0gMTtcbiAgICB9XG4gICAgaWYgKHJlbmFtZU1pc3NpbGVSb3V0ZUJ0bikge1xuICAgICAgcmVuYW1lTWlzc2lsZVJvdXRlQnRuLmRpc2FibGVkID0gIWFjdGl2ZVJvdXRlO1xuICAgIH1cbiAgICBpZiAoY2xlYXJNaXNzaWxlV2F5cG9pbnRzQnRuKSB7XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIGFjdGl2ZVJvdXRlICYmIEFycmF5LmlzQXJyYXkoYWN0aXZlUm91dGUud2F5cG9pbnRzKSA/IGFjdGl2ZVJvdXRlLndheXBvaW50cy5sZW5ndGggOiAwO1xuICAgICAgY2xlYXJNaXNzaWxlV2F5cG9pbnRzQnRuLmRpc2FibGVkID0gIWFjdGl2ZVJvdXRlIHx8IGNvdW50ID09PSAwO1xuICAgIH1cbiAgICBpZiAocm91dGVQcmV2QnRuKSB7XG4gICAgICByb3V0ZVByZXZCdG4uZGlzYWJsZWQgPSByb3V0ZXMubGVuZ3RoIDw9IDE7XG4gICAgfVxuICAgIGlmIChyb3V0ZU5leHRCdG4pIHtcbiAgICAgIHJvdXRlTmV4dEJ0bi5kaXNhYmxlZCA9IHJvdXRlcy5sZW5ndGggPD0gMTtcbiAgICB9XG5cbiAgICB1cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTtcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jTWlzc2lsZVVJRnJvbVN0YXRlKCk6IHZvaWQge1xuICAgIGxvZ2ljLmVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGNvbnN0IGFjdGl2ZVJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgY29uc3QgbWlzc2lsZVNlbCA9IGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKTtcbiAgICBjb25zdCByb3V0ZUhhc1NlbGVjdGlvbiA9XG4gICAgICAhIWFjdGl2ZVJvdXRlICYmXG4gICAgICBBcnJheS5pc0FycmF5KGFjdGl2ZVJvdXRlLndheXBvaW50cykgJiZcbiAgICAgICEhbWlzc2lsZVNlbCAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA+PSAwICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4IDwgYWN0aXZlUm91dGUud2F5cG9pbnRzLmxlbmd0aDtcbiAgICBpZiAoIXJvdXRlSGFzU2VsZWN0aW9uKSB7XG4gICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBjZmcgPSBzdGF0ZS5taXNzaWxlQ29uZmlnO1xuICAgIGFwcGx5TWlzc2lsZVVJKGNmZyk7XG4gICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseU1pc3NpbGVVSShjZmc6IHsgc3BlZWQ6IG51bWJlcjsgYWdyb1JhZGl1czogbnVtYmVyIH0pOiB2b2lkIHtcbiAgICBpZiAobWlzc2lsZUFncm9TbGlkZXIpIHtcbiAgICAgIGNvbnN0IG1pbkFncm8gPSBzdGF0ZS5taXNzaWxlTGltaXRzLmFncm9NaW4gPz8gTUlTU0lMRV9NSU5fQUdSTztcbiAgICAgIGNvbnN0IG1heEFncm8gPSBNYXRoLm1heCg1MDAwLCBNYXRoLmNlaWwoKGNmZy5hZ3JvUmFkaXVzICsgNTAwKSAvIDUwMCkgKiA1MDApO1xuICAgICAgbWlzc2lsZUFncm9TbGlkZXIubWluID0gU3RyaW5nKG1pbkFncm8pO1xuICAgICAgbWlzc2lsZUFncm9TbGlkZXIubWF4ID0gU3RyaW5nKG1heEFncm8pO1xuICAgICAgbWlzc2lsZUFncm9TbGlkZXIudmFsdWUgPSBjZmcuYWdyb1JhZGl1cy50b0ZpeGVkKDApO1xuICAgIH1cbiAgICBpZiAobWlzc2lsZUFncm9WYWx1ZSkge1xuICAgICAgbWlzc2lsZUFncm9WYWx1ZS50ZXh0Q29udGVudCA9IGNmZy5hZ3JvUmFkaXVzLnRvRml4ZWQoMCk7XG4gICAgfVxuICAgIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk7XG4gICAgdXBkYXRlU3BlZWRNYXJrZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1pc3NpbGVDb25maWdGcm9tVUkoXG4gICAgb3ZlcnJpZGVzOiBQYXJ0aWFsPHsgYWdyb1JhZGl1czogbnVtYmVyIH0+ID0ge31cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgY3VycmVudCA9IHN0YXRlLm1pc3NpbGVDb25maWc7XG4gICAgY29uc3QgY2ZnID0gc2FuaXRpemVNaXNzaWxlQ29uZmlnKFxuICAgICAge1xuICAgICAgICBzcGVlZDogY3VycmVudC5zcGVlZCxcbiAgICAgICAgYWdyb1JhZGl1czogb3ZlcnJpZGVzLmFncm9SYWRpdXMgPz8gY3VycmVudC5hZ3JvUmFkaXVzLFxuICAgICAgfSxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBzdGF0ZS5taXNzaWxlTGltaXRzXG4gICAgKTtcbiAgICBzdGF0ZS5taXNzaWxlQ29uZmlnID0gY2ZnO1xuICAgIGFwcGx5TWlzc2lsZVVJKGNmZyk7XG4gICAgY29uc3QgbGFzdCA9IGxhc3RNaXNzaWxlQ29uZmlnU2VudDtcbiAgICBjb25zdCBuZWVkc1NlbmQgPVxuICAgICAgIWxhc3QgfHwgTWF0aC5hYnMoKGxhc3QuYWdyb1JhZGl1cyA/PyAwKSAtIGNmZy5hZ3JvUmFkaXVzKSA+IDU7XG4gICAgaWYgKG5lZWRzU2VuZCkge1xuICAgICAgc2VuZE1pc3NpbGVDb25maWcoY2ZnKTtcbiAgICB9XG4gICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbmRNaXNzaWxlQ29uZmlnKGNmZzogeyBzcGVlZDogbnVtYmVyOyBhZ3JvUmFkaXVzOiBudW1iZXIgfSk6IHZvaWQge1xuICAgIGxhc3RNaXNzaWxlQ29uZmlnU2VudCA9IHtcbiAgICAgIHNwZWVkOiBjZmcuc3BlZWQsXG4gICAgICBhZ3JvUmFkaXVzOiBjZmcuYWdyb1JhZGl1cyxcbiAgICB9O1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiY29uZmlndXJlX21pc3NpbGVcIixcbiAgICAgIG1pc3NpbGVfc3BlZWQ6IGNmZy5zcGVlZCxcbiAgICAgIG1pc3NpbGVfYWdybzogY2ZnLmFncm9SYWRpdXMsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk6IHZvaWQge1xuICAgIGlmICghc2hpcFJvdXRlc0NvbnRhaW5lciB8fCAhc2hpcFJvdXRlTGVnIHx8ICFzaGlwUm91dGVTcGVlZCB8fCAhc2hpcERlbGV0ZUJ0bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3cHMgPSBzdGF0ZS5tZSAmJiBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cykgPyBzdGF0ZS5tZS53YXlwb2ludHMgOiBbXTtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBsb2dpYy5nZXRTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBoYXNWYWxpZFNlbGVjdGlvbiA9XG4gICAgICBzZWxlY3Rpb24gIT09IG51bGwgJiYgc2VsZWN0aW9uLmluZGV4ID49IDAgJiYgc2VsZWN0aW9uLmluZGV4IDwgd3BzLmxlbmd0aDtcbiAgICBjb25zdCBpc1NoaXBDb250ZXh0ID0gdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwic2hpcFwiO1xuXG4gICAgc2hpcFJvdXRlc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgc2hpcFJvdXRlc0NvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gaXNTaGlwQ29udGV4dCA/IFwiMVwiIDogXCIwLjZcIjtcblxuICAgIGlmICghc3RhdGUubWUgfHwgIWhhc1ZhbGlkU2VsZWN0aW9uIHx8ICFzZWxlY3Rpb24pIHtcbiAgICAgIHNoaXBSb3V0ZUxlZy50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBzaGlwUm91dGVTcGVlZC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBzaGlwRGVsZXRlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGlmIChpc1NoaXBDb250ZXh0KSB7XG4gICAgICAgIHNldFNoaXBTbGlkZXJWYWx1ZShsb2dpYy5nZXREZWZhdWx0U2hpcFNwZWVkKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdwID0gd3BzW3NlbGVjdGlvbi5pbmRleF07XG4gICAgY29uc3Qgc3BlZWQgPVxuICAgICAgd3AgJiYgdHlwZW9mIHdwLnNwZWVkID09PSBcIm51bWJlclwiID8gd3Auc3BlZWQgOiBsb2dpYy5nZXREZWZhdWx0U2hpcFNwZWVkKCk7XG4gICAgaWYgKFxuICAgICAgaXNTaGlwQ29udGV4dCAmJlxuICAgICAgc2hpcFNwZWVkU2xpZGVyICYmXG4gICAgICBNYXRoLmFicyhwYXJzZUZsb2F0KHNoaXBTcGVlZFNsaWRlci52YWx1ZSkgLSBzcGVlZCkgPiAwLjI1XG4gICAgKSB7XG4gICAgICBzZXRTaGlwU2xpZGVyVmFsdWUoc3BlZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVTcGVlZExhYmVsKHNwZWVkKTtcbiAgICB9XG4gICAgY29uc3QgZGlzcGxheUluZGV4ID0gc2VsZWN0aW9uLmluZGV4ICsgMTtcbiAgICBzaGlwUm91dGVMZWcudGV4dENvbnRlbnQgPSBgJHtkaXNwbGF5SW5kZXh9YDtcbiAgICBzaGlwUm91dGVTcGVlZC50ZXh0Q29udGVudCA9IGAke3NwZWVkLnRvRml4ZWQoMCl9IHUvc2A7XG4gICAgc2hpcERlbGV0ZUJ0bi5kaXNhYmxlZCA9ICFpc1NoaXBDb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGNvbnN0IGNvdW50ID0gcm91dGUgJiYgQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpID8gcm91dGUud2F5cG9pbnRzLmxlbmd0aCA6IDA7XG4gICAgY29uc3QgbWlzc2lsZVNlbCA9IGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBpc1dheXBvaW50U2VsZWN0aW9uID1cbiAgICAgIG1pc3NpbGVTZWwgIT09IG51bGwgJiZcbiAgICAgIG1pc3NpbGVTZWwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgbWlzc2lsZVNlbC50eXBlID09PSBcIndheXBvaW50XCIgJiZcbiAgICAgIG1pc3NpbGVTZWwuaW5kZXggPj0gMCAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA8IGNvdW50O1xuICAgIGlmIChtaXNzaWxlRGVsZXRlQnRuKSB7XG4gICAgICBtaXNzaWxlRGVsZXRlQnRuLmRpc2FibGVkID0gIWlzV2F5cG9pbnRTZWxlY3Rpb247XG4gICAgfVxuICAgIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlU3BlZWRDb250cm9scygpOiB2b2lkIHtcbiAgICBpZiAoIW1pc3NpbGVTcGVlZFNsaWRlciB8fCAhbWlzc2lsZVNwZWVkVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5TcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNaW4gPz8gTUlTU0lMRV9NSU5fU1BFRUQ7XG4gICAgY29uc3QgbWF4U3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWF4ID8/IE1JU1NJTEVfTUFYX1NQRUVEO1xuICAgIG1pc3NpbGVTcGVlZFNsaWRlci5taW4gPSBTdHJpbmcobWluU3BlZWQpO1xuICAgIG1pc3NpbGVTcGVlZFNsaWRlci5tYXggPSBTdHJpbmcobWF4U3BlZWQpO1xuXG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBjb25zdCBtaXNzaWxlU2VsID0gbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpO1xuICAgIGNvbnN0IHdheXBvaW50cyA9IHJvdXRlICYmIEFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSA/IHJvdXRlLndheXBvaW50cyA6IG51bGw7XG4gICAgbGV0IHNlbGVjdGVkU3BlZWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIGxldCBzZWxlY3RlZFR5cGU6IFwibGVnXCIgfCBcIndheXBvaW50XCIgfCBudWxsID0gbnVsbDtcblxuICAgIGlmIChcbiAgICAgIHdheXBvaW50cyAmJlxuICAgICAgbWlzc2lsZVNlbCAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA+PSAwICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4IDwgd2F5cG9pbnRzLmxlbmd0aFxuICAgICkge1xuICAgICAgY29uc3Qgd3AgPSB3YXlwb2ludHNbbWlzc2lsZVNlbC5pbmRleF07XG4gICAgICBjb25zdCB2YWx1ZSA9XG4gICAgICAgIHR5cGVvZiB3cC5zcGVlZCA9PT0gXCJudW1iZXJcIiAmJiB3cC5zcGVlZCA+IDBcbiAgICAgICAgICA/IHdwLnNwZWVkXG4gICAgICAgICAgOiBsb2dpYy5nZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkKCk7XG4gICAgICBzZWxlY3RlZFNwZWVkID0gY2xhbXAodmFsdWUsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gICAgICBzZWxlY3RlZFR5cGUgPSBtaXNzaWxlU2VsLnR5cGU7XG4gICAgfVxuXG4gICAgY29uc3Qgc2xpZGVyRGlzYWJsZWQgPSBzZWxlY3RlZFR5cGUgPT09IFwid2F5cG9pbnRcIjtcbiAgICBsZXQgc2xpZGVyVmFsdWU6IG51bWJlcjtcbiAgICBpZiAoc2VsZWN0ZWRTcGVlZCAhPT0gbnVsbCkge1xuICAgICAgc2xpZGVyVmFsdWUgPSBzZWxlY3RlZFNwZWVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYXdWYWx1ZSA9IHBhcnNlRmxvYXQobWlzc2lsZVNwZWVkU2xpZGVyLnZhbHVlKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrID0gbG9naWMuZ2V0RGVmYXVsdE1pc3NpbGVMZWdTcGVlZCgpO1xuICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBOdW1iZXIuaXNGaW5pdGUocmF3VmFsdWUpID8gcmF3VmFsdWUgOiBmYWxsYmFjaztcbiAgICAgIHNsaWRlclZhbHVlID0gY2xhbXAodGFyZ2V0VmFsdWUsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gICAgfVxuXG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyLmRpc2FibGVkID0gc2xpZGVyRGlzYWJsZWQ7XG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyLnZhbHVlID0gc2xpZGVyVmFsdWUudG9GaXhlZCgwKTtcbiAgICBtaXNzaWxlU3BlZWRWYWx1ZS50ZXh0Q29udGVudCA9IGAke3NsaWRlclZhbHVlLnRvRml4ZWQoMCl9YDtcblxuICAgIGlmICghc2xpZGVyRGlzYWJsZWQpIHtcbiAgICAgIGxvZ2ljLnJlY29yZE1pc3NpbGVMZWdTcGVlZChzbGlkZXJWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5wdXRDb250ZXh0KGNvbnRleHQ6IFwic2hpcFwiIHwgXCJtaXNzaWxlXCIpOiB2b2lkIHtcbiAgICBjb25zdCBuZXh0ID0gY29udGV4dCA9PT0gXCJtaXNzaWxlXCIgPyBcIm1pc3NpbGVcIiA6IFwic2hpcFwiO1xuICAgIGlmICh1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gbmV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1aVN0YXRlLmlucHV0Q29udGV4dCA9IG5leHQ7XG5cbiAgICBpZiAobmV4dCA9PT0gXCJzaGlwXCIpIHtcbiAgICAgIGNvbnN0IHNoaXBUb29sVG9Vc2UgPSB1aVN0YXRlLnNoaXBUb29sID09PSBcInNlbGVjdFwiID8gXCJzaGlwLXNlbGVjdFwiIDogXCJzaGlwLXNldFwiO1xuICAgICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCAhPT0gc2hpcFRvb2xUb1VzZSkge1xuICAgICAgICB1aVN0YXRlLmFjdGl2ZVRvb2wgPSBzaGlwVG9vbFRvVXNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtaXNzaWxlVG9vbFRvVXNlID1cbiAgICAgICAgdWlTdGF0ZS5taXNzaWxlVG9vbCA9PT0gXCJzZWxlY3RcIiA/IFwibWlzc2lsZS1zZWxlY3RcIiA6IFwibWlzc2lsZS1zZXRcIjtcbiAgICAgIGlmICh1aVN0YXRlLmFjdGl2ZVRvb2wgIT09IG1pc3NpbGVUb29sVG9Vc2UpIHtcbiAgICAgICAgdWlTdGF0ZS5hY3RpdmVUb29sID0gbWlzc2lsZVRvb2xUb1VzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBidXMuZW1pdChcImNvbnRleHQ6Y2hhbmdlZFwiLCB7IGNvbnRleHQ6IG5leHQgfSk7XG4gICAgdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMoKTtcbiAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWN0aXZlVG9vbCh0b29sOiBBY3RpdmVUb29sKTogdm9pZCB7XG4gICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gdG9vbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVpU3RhdGUuYWN0aXZlVG9vbCA9IHRvb2w7XG5cbiAgICBpZiAodG9vbCA9PT0gXCJzaGlwLXNldFwiKSB7XG4gICAgICB1aVN0YXRlLnNoaXBUb29sID0gXCJzZXRcIjtcbiAgICAgIHVpU3RhdGUubWlzc2lsZVRvb2wgPSBudWxsO1xuICAgICAgc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgIGJ1cy5lbWl0KFwic2hpcDp0b29sQ2hhbmdlZFwiLCB7IHRvb2w6IFwic2V0XCIgfSk7XG4gICAgfSBlbHNlIGlmICh0b29sID09PSBcInNoaXAtc2VsZWN0XCIpIHtcbiAgICAgIHVpU3RhdGUuc2hpcFRvb2wgPSBcInNlbGVjdFwiO1xuICAgICAgdWlTdGF0ZS5taXNzaWxlVG9vbCA9IG51bGw7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgYnVzLmVtaXQoXCJzaGlwOnRvb2xDaGFuZ2VkXCIsIHsgdG9vbDogXCJzZWxlY3RcIiB9KTtcbiAgICB9IGVsc2UgaWYgKHRvb2wgPT09IFwibWlzc2lsZS1zZXRcIikge1xuICAgICAgdWlTdGF0ZS5zaGlwVG9vbCA9IG51bGw7XG4gICAgICB1aVN0YXRlLm1pc3NpbGVUb29sID0gXCJzZXRcIjtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOnRvb2xDaGFuZ2VkXCIsIHsgdG9vbDogXCJzZXRcIiB9KTtcbiAgICB9IGVsc2UgaWYgKHRvb2wgPT09IFwibWlzc2lsZS1zZWxlY3RcIikge1xuICAgICAgdWlTdGF0ZS5zaGlwVG9vbCA9IG51bGw7XG4gICAgICB1aVN0YXRlLm1pc3NpbGVUb29sID0gXCJzZWxlY3RcIjtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6dG9vbENoYW5nZWRcIiwgeyB0b29sOiBcInNlbGVjdFwiIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRCdXR0b25TdGF0ZShidG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCwgYWN0aXZlOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKCFidG4pIHJldHVybjtcbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICBidG4uZGF0YXNldC5zdGF0ZSA9IFwiYWN0aXZlXCI7XG4gICAgICBidG4uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwidHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIGJ0bi5kYXRhc2V0LnN0YXRlO1xuICAgICAgYnRuLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCBcImZhbHNlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzKCk6IHZvaWQge1xuICAgIHNldEJ1dHRvblN0YXRlKHNoaXBTZXRCdG4sIHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJzaGlwLXNldFwiKTtcbiAgICBzZXRCdXR0b25TdGF0ZShzaGlwU2VsZWN0QnRuLCB1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwic2hpcC1zZWxlY3RcIik7XG4gICAgc2V0QnV0dG9uU3RhdGUobWlzc2lsZVNldEJ0biwgdWlTdGF0ZS5hY3RpdmVUb29sID09PSBcIm1pc3NpbGUtc2V0XCIpO1xuICAgIHNldEJ1dHRvblN0YXRlKG1pc3NpbGVTZWxlY3RCdG4sIHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJtaXNzaWxlLXNlbGVjdFwiKTtcblxuICAgIGlmIChzaGlwQ29udHJvbHNDYXJkKSB7XG4gICAgICBzaGlwQ29udHJvbHNDYXJkLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIiwgdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwic2hpcFwiKTtcbiAgICB9XG4gICAgaWYgKG1pc3NpbGVDb250cm9sc0NhcmQpIHtcbiAgICAgIG1pc3NpbGVDb250cm9sc0NhcmQuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiLCB1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJtaXNzaWxlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEhlbHBWaXNpYmxlKGZsYWc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB1aVN0YXRlLmhlbHBWaXNpYmxlID0gZmxhZztcbiAgICB1cGRhdGVIZWxwT3ZlcmxheSgpO1xuICAgIGJ1cy5lbWl0KFwiaGVscDp2aXNpYmxlQ2hhbmdlZFwiLCB7IHZpc2libGU6IHVpU3RhdGUuaGVscFZpc2libGUgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVIZWxwT3ZlcmxheSgpOiB2b2lkIHtcbiAgICBpZiAoIWhlbHBPdmVybGF5IHx8ICFoZWxwVGV4dCkgcmV0dXJuO1xuICAgIGhlbHBPdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoXCJ2aXNpYmxlXCIsIHVpU3RhdGUuaGVscFZpc2libGUpO1xuICAgIGhlbHBUZXh0LnRleHRDb250ZW50ID0gSEVMUF9URVhUO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlKCk6IHZvaWQge1xuICAgIGlmICghbWlzc2lsZUxhdW5jaEJ0biB8fCAhbWlzc2lsZUxhdW5jaFRleHQgfHwgIW1pc3NpbGVMYXVuY2hJbmZvKSByZXR1cm47XG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBjb25zdCBjb3VudCA9IHJvdXRlICYmIEFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSA/IHJvdXRlLndheXBvaW50cy5sZW5ndGggOiAwO1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IGxvZ2ljLmdldE1pc3NpbGVDb29sZG93blJlbWFpbmluZygpO1xuICAgIGNvbnN0IGNvb2xpbmdEb3duID0gcmVtYWluaW5nID4gMC4wNTtcbiAgICBjb25zdCBzaG91bGREaXNhYmxlID0gIXJvdXRlIHx8IGNvdW50ID09PSAwIHx8IGNvb2xpbmdEb3duO1xuICAgIG1pc3NpbGVMYXVuY2hCdG4uZGlzYWJsZWQgPSBzaG91bGREaXNhYmxlO1xuXG4gICAgY29uc3QgbGF1bmNoVGV4dEhUTUwgPVxuICAgICAgJzxzcGFuIGNsYXNzPVwiYnRuLXRleHQtZnVsbFwiPkxhdW5jaDwvc3Bhbj48c3BhbiBjbGFzcz1cImJ0bi10ZXh0LXNob3J0XCI+RmlyZTwvc3Bhbj4nO1xuICAgIGxldCBsYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG5cbiAgICBpZiAoIXJvdXRlKSB7XG4gICAgICBsYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG4gICAgfSBlbHNlIGlmIChjb29saW5nRG93bikge1xuICAgICAgbGF1bmNoSW5mb0hUTUwgPSBgJHtyZW1haW5pbmcudG9GaXhlZCgxKX1zYDtcbiAgICB9IGVsc2UgaWYgKHJvdXRlLm5hbWUpIHtcbiAgICAgIGNvbnN0IHJvdXRlcyA9IEFycmF5LmlzQXJyYXkoc3RhdGUubWlzc2lsZVJvdXRlcykgPyBzdGF0ZS5taXNzaWxlUm91dGVzIDogW107XG4gICAgICBjb25zdCByb3V0ZUluZGV4ID0gcm91dGVzLmZpbmRJbmRleCgocikgPT4gci5pZCA9PT0gcm91dGUuaWQpICsgMTtcbiAgICAgIGxhdW5jaEluZm9IVE1MID0gYDxzcGFuIGNsYXNzPVwiYnRuLXRleHQtZnVsbFwiPiR7cm91dGUubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9XCJidG4tdGV4dC1zaG9ydFwiPiR7cm91dGVJbmRleH08L3NwYW4+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGF1bmNoSW5mb0hUTUwgPSBcIlwiO1xuICAgIH1cblxuICAgIGlmIChsYXN0TWlzc2lsZUxhdW5jaFRleHRIVE1MICE9PSBsYXVuY2hUZXh0SFRNTCkge1xuICAgICAgbWlzc2lsZUxhdW5jaFRleHQuaW5uZXJIVE1MID0gbGF1bmNoVGV4dEhUTUw7XG4gICAgICBsYXN0TWlzc2lsZUxhdW5jaFRleHRIVE1MID0gbGF1bmNoVGV4dEhUTUw7XG4gICAgfVxuXG4gICAgaWYgKGxhc3RNaXNzaWxlTGF1bmNoSW5mb0hUTUwgIT09IGxhdW5jaEluZm9IVE1MKSB7XG4gICAgICBtaXNzaWxlTGF1bmNoSW5mby5pbm5lckhUTUwgPSBsYXVuY2hJbmZvSFRNTDtcbiAgICAgIGxhc3RNaXNzaWxlTGF1bmNoSW5mb0hUTUwgPSBsYXVuY2hJbmZvSFRNTDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlQ291bnREaXNwbGF5KCk6IHZvaWQge1xuICAgIGlmICghbWlzc2lsZUNvdW50U3BhbikgcmV0dXJuO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBpZiAoc3RhdGUuaW52ZW50b3J5ICYmIHN0YXRlLmludmVudG9yeS5pdGVtcykge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHN0YXRlLmludmVudG9yeS5pdGVtcykge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSBcIm1pc3NpbGVcIikge1xuICAgICAgICAgIGNvdW50ICs9IGl0ZW0ucXVhbnRpdHk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBtaXNzaWxlQ291bnRTcGFuLnRleHRDb250ZW50ID0gY291bnQudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNyYWZ0VGltZXIoKTogdm9pZCB7XG4gICAgaWYgKCFtaXNzaWxlQ3JhZnRUaW1lckRpdiB8fCAhY3JhZnRUaW1lUmVtYWluaW5nU3BhbikgcmV0dXJuO1xuXG4gICAgLy8gTG9vayBmb3IgYW55IGNyYWZ0IG5vZGUgdGhhdCdzIGluIHByb2dyZXNzXG4gICAgbGV0IGNyYWZ0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCByZW1haW5pbmdUaW1lID0gMDtcblxuICAgIGlmIChzdGF0ZS5kYWcgJiYgc3RhdGUuZGFnLm5vZGVzKSB7XG4gICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygc3RhdGUuZGFnLm5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmtpbmQgPT09IFwiY3JhZnRcIiAmJiBub2RlLnN0YXR1cyA9PT0gXCJpbl9wcm9ncmVzc1wiKSB7XG4gICAgICAgICAgY3JhZnRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICByZW1haW5pbmdUaW1lID0gbm9kZS5yZW1haW5pbmdfcztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjcmFmdEluUHJvZ3Jlc3MgJiYgcmVtYWluaW5nVGltZSA+IDApIHtcbiAgICAgIG1pc3NpbGVDcmFmdFRpbWVyRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBjcmFmdFRpbWVSZW1haW5pbmdTcGFuLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKHJlbWFpbmluZ1RpbWUpLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NpbGVDcmFmdFRpbWVyRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTdGF0dXNJbmRpY2F0b3JzKCk6IHZvaWQge1xuICAgIGNvbnN0IG1ldGEgPSBzdGF0ZS53b3JsZE1ldGEgPz8ge307XG4gICAgY2FtZXJhLnVwZGF0ZVdvcmxkRnJvbU1ldGEobWV0YSk7XG5cbiAgICAvLyBVcGRhdGUgc2hpcCBzcGVlZCBzbGlkZXIgbWF4IGJhc2VkIG9uIGNvbXBsZXRlZCB1cGdyYWRlcyAoY2xpZW50LXNpZGUgaW5mZXJlbmNlKVxuICAgIGlmIChzaGlwU3BlZWRTbGlkZXIgJiYgYmFzZVNoaXBTcGVlZE1heCkge1xuICAgICAgbGV0IG11bHRpcGxpZXIgPSAxLjA7XG4gICAgICBjb25zdCBkYWcgPSBzdGF0ZS5kYWc7XG4gICAgICBpZiAoZGFnICYmIEFycmF5LmlzQXJyYXkoZGFnLm5vZGVzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZGFnLm5vZGVzKSB7XG4gICAgICAgICAgaWYgKG4gJiYgbi5zdGF0dXMgPT09IFwiY29tcGxldGVkXCIgJiYgdHlwZW9mIG4uaWQgPT09IFwic3RyaW5nXCIgJiYgbi5pZC5zdGFydHNXaXRoKFwidXBncmFkZS5zaGlwLnNwZWVkX1wiKSkge1xuICAgICAgICAgICAgY29uc3QgZWZmID0gQXJyYXkuaXNBcnJheShuLmVmZmVjdHMpID8gbi5lZmZlY3RzIDogW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgZWZmKSB7XG4gICAgICAgICAgICAgIGlmIChlICYmIGUudHlwZSA9PT0gXCJzcGVlZF9tdWx0aXBsaWVyXCIgJiYgdHlwZW9mIGUudmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS52YWx1ZSA+IG11bHRpcGxpZXIpIG11bHRpcGxpZXIgPSBlLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBpbnRlbmRlZE1heCA9IChiYXNlU2hpcFNwZWVkTWF4ICogbXVsdGlwbGllcikudG9GaXhlZCgwKTtcbiAgICAgIGlmIChzaGlwU3BlZWRTbGlkZXIubWF4ICE9PSBpbnRlbmRlZE1heCkge1xuICAgICAgICBzaGlwU3BlZWRTbGlkZXIubWF4ID0gaW50ZW5kZWRNYXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKEhQc3Bhbikge1xuICAgICAgaWYgKHN0YXRlLm1lICYmIE51bWJlci5pc0Zpbml0ZShzdGF0ZS5tZS5ocCkpIHtcbiAgICAgICAgSFBzcGFuLnRleHRDb250ZW50ID0gTnVtYmVyKHN0YXRlLm1lLmhwKS50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSFBzcGFuLnRleHRDb250ZW50ID0gXCJcdTIwMTNcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtpbGxzU3Bhbikge1xuICAgICAgaWYgKHN0YXRlLm1lICYmIE51bWJlci5pc0Zpbml0ZShzdGF0ZS5tZS5raWxscykpIHtcbiAgICAgICAga2lsbHNTcGFuLnRleHRDb250ZW50ID0gTnVtYmVyKHN0YXRlLm1lLmtpbGxzKS50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2lsbHNTcGFuLnRleHRDb250ZW50ID0gXCIwXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGVhdEJhcigpO1xuICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgdXBkYXRlU3BlZWRNYXJrZXIoKTtcbiAgICB1cGRhdGVTdGFsbE92ZXJsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlYXRCYXIoKTogdm9pZCB7XG4gICAgY29uc3QgaGVhdCA9IHN0YXRlLm1lPy5oZWF0O1xuICAgIGlmICghaGVhdCB8fCAhaGVhdEJhckZpbGwgfHwgIWhlYXRWYWx1ZVRleHQpIHtcbiAgICAgIGhlYXRXYXJuQWN0aXZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGVyY2VudCA9IChoZWF0LnZhbHVlIC8gaGVhdC5tYXgpICogMTAwO1xuICAgIGhlYXRCYXJGaWxsLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudH0lYDtcblxuICAgIGhlYXRWYWx1ZVRleHQudGV4dENvbnRlbnQgPSBgSGVhdCAke01hdGgucm91bmQoaGVhdC52YWx1ZSl9YDtcblxuICAgIGhlYXRCYXJGaWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJ3YXJuXCIsIFwib3ZlcmhlYXRcIik7XG4gICAgaWYgKGhlYXQudmFsdWUgPj0gaGVhdC5vdmVyaGVhdEF0KSB7XG4gICAgICBoZWF0QmFyRmlsbC5jbGFzc0xpc3QuYWRkKFwib3ZlcmhlYXRcIik7XG4gICAgfSBlbHNlIGlmIChoZWF0LnZhbHVlID49IGhlYXQud2FybkF0KSB7XG4gICAgICBoZWF0QmFyRmlsbC5jbGFzc0xpc3QuYWRkKFwid2FyblwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBub3dXYXJuID0gaGVhdC52YWx1ZSA+PSBoZWF0Lndhcm5BdDtcbiAgICBpZiAobm93V2FybiAmJiAhaGVhdFdhcm5BY3RpdmUpIHtcbiAgICAgIGhlYXRXYXJuQWN0aXZlID0gdHJ1ZTtcbiAgICAgIGJ1cy5lbWl0KFwiaGVhdDp3YXJuRW50ZXJlZFwiLCB7IHZhbHVlOiBoZWF0LnZhbHVlLCB3YXJuQXQ6IGhlYXQud2FybkF0IH0pO1xuICAgIH0gZWxzZSBpZiAoIW5vd1dhcm4gJiYgaGVhdFdhcm5BY3RpdmUpIHtcbiAgICAgIGNvbnN0IGNvb2xUaHJlc2hvbGQgPSBNYXRoLm1heCgwLCBoZWF0Lndhcm5BdCAtIDUpO1xuICAgICAgaWYgKGhlYXQudmFsdWUgPD0gY29vbFRocmVzaG9sZCkge1xuICAgICAgICBoZWF0V2FybkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBidXMuZW1pdChcImhlYXQ6Y29vbGVkQmVsb3dXYXJuXCIsIHsgdmFsdWU6IGhlYXQudmFsdWUsIHdhcm5BdDogaGVhdC53YXJuQXQgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvamVjdFBsYW5uZWRIZWF0KCk6IG51bWJlciB8IG51bGwge1xuICAgIGNvbnN0IHNoaXAgPSBzdGF0ZS5tZTtcbiAgICBpZiAoIXNoaXAgfHwgIUFycmF5LmlzQXJyYXkoc2hpcC53YXlwb2ludHMpIHx8IHNoaXAud2F5cG9pbnRzLmxlbmd0aCA9PT0gMCB8fCAhc2hpcC5oZWF0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50SW5kZXhSYXcgPSBzaGlwLmN1cnJlbnRXYXlwb2ludEluZGV4O1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9XG4gICAgICB0eXBlb2YgY3VycmVudEluZGV4UmF3ID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShjdXJyZW50SW5kZXhSYXcpID8gY3VycmVudEluZGV4UmF3IDogMDtcbiAgICBjb25zdCBjbGFtcGVkSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjdXJyZW50SW5kZXgsIHNoaXAud2F5cG9pbnRzLmxlbmd0aCkpO1xuICAgIGNvbnN0IHJlbWFpbmluZ1dheXBvaW50cyA9XG4gICAgICBjbGFtcGVkSW5kZXggPiAwID8gc2hpcC53YXlwb2ludHMuc2xpY2UoY2xhbXBlZEluZGV4KSA6IHNoaXAud2F5cG9pbnRzLnNsaWNlKCk7XG5cbiAgICBpZiAocmVtYWluaW5nV2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgcm91dGUgPSBbeyB4OiBzaGlwLngsIHk6IHNoaXAueSwgc3BlZWQ6IHVuZGVmaW5lZCB9LCAuLi5yZW1haW5pbmdXYXlwb2ludHNdO1xuXG4gICAgY29uc3QgaGVhdFBhcmFtcyA9IHtcbiAgICAgIG1hcmtlclNwZWVkOiBzaGlwLmhlYXQubWFya2VyU3BlZWQsXG4gICAgICBrVXA6IHNoaXAuaGVhdC5rVXAsXG4gICAgICBrRG93bjogc2hpcC5oZWF0LmtEb3duLFxuICAgICAgZXhwOiBzaGlwLmhlYXQuZXhwLFxuICAgICAgbWF4OiBzaGlwLmhlYXQubWF4LFxuICAgICAgb3ZlcmhlYXRBdDogc2hpcC5oZWF0Lm92ZXJoZWF0QXQsXG4gICAgICB3YXJuQXQ6IHNoaXAuaGVhdC53YXJuQXQsXG4gICAgfTtcblxuICAgIGNvbnN0IHByb2plY3Rpb24gPSBwcm9qZWN0Um91dGVIZWF0KHJvdXRlLCBzaGlwLmhlYXQudmFsdWUsIGhlYXRQYXJhbXMpO1xuICAgIHJldHVybiBNYXRoLm1heCguLi5wcm9qZWN0aW9uLmhlYXRBdFdheXBvaW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQbGFubmVkSGVhdEJhcigpOiB2b2lkIHtcbiAgICBpZiAoIWhlYXRCYXJQbGFubmVkKSByZXR1cm47XG4gICAgY29uc3QgcmVzZXRQbGFubmVkQmFyID0gKCkgPT4ge1xuICAgICAgaWYgKGhlYXRCYXJQbGFubmVkKSB7XG4gICAgICAgIGhlYXRCYXJQbGFubmVkLnN0eWxlLndpZHRoID0gXCIwJVwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzaGlwID0gc3RhdGUubWU7XG4gICAgaWYgKCFzaGlwIHx8ICFzaGlwLmhlYXQpIHtcbiAgICAgIHJlc2V0UGxhbm5lZEJhcigpO1xuICAgICAgZHVhbE1ldGVyQWxlcnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwbGFubmVkID0gcHJvamVjdFBsYW5uZWRIZWF0KCk7XG4gICAgaWYgKHBsYW5uZWQgPT09IG51bGwpIHtcbiAgICAgIHJlc2V0UGxhbm5lZEJhcigpO1xuICAgICAgZHVhbE1ldGVyQWxlcnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhY3R1YWwgPSBzaGlwLmhlYXQudmFsdWU7XG4gICAgY29uc3QgcGVyY2VudCA9IChwbGFubmVkIC8gc2hpcC5oZWF0Lm1heCkgKiAxMDA7XG4gICAgaGVhdEJhclBsYW5uZWQuc3R5bGUud2lkdGggPSBgJHtNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHBlcmNlbnQpKX0lYDtcblxuICAgIGNvbnN0IGRpZmYgPSBwbGFubmVkIC0gYWN0dWFsO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IE1hdGgubWF4KDgsIHNoaXAuaGVhdC53YXJuQXQgKiAwLjEpO1xuICAgIGlmIChkaWZmID49IHRocmVzaG9sZCAmJiAhZHVhbE1ldGVyQWxlcnQpIHtcbiAgICAgIGR1YWxNZXRlckFsZXJ0ID0gdHJ1ZTtcbiAgICAgIGJ1cy5lbWl0KFwiaGVhdDpkdWFsTWV0ZXJEaXZlcmdlZFwiLCB7IHBsYW5uZWQsIGFjdHVhbCB9KTtcbiAgICB9IGVsc2UgaWYgKGRpZmYgPCB0aHJlc2hvbGQgKiAwLjYgJiYgZHVhbE1ldGVyQWxlcnQpIHtcbiAgICAgIGR1YWxNZXRlckFsZXJ0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU3BlZWRNYXJrZXIoKTogdm9pZCB7XG4gICAgY29uc3Qgc2hpcEhlYXQgPSBzdGF0ZS5tZT8uaGVhdDtcbiAgICBpZiAoc3BlZWRNYXJrZXIgJiYgc2hpcFNwZWVkU2xpZGVyICYmIHNoaXBIZWF0ICYmIHNoaXBIZWF0Lm1hcmtlclNwZWVkID4gMCkge1xuICAgICAgY29uc3QgbWluID0gcGFyc2VGbG9hdChzaGlwU3BlZWRTbGlkZXIubWluKTtcbiAgICAgIGNvbnN0IG1heCA9IHBhcnNlRmxvYXQoc2hpcFNwZWVkU2xpZGVyLm1heCk7XG4gICAgICBjb25zdCBtYXJrZXJTcGVlZCA9IHNoaXBIZWF0Lm1hcmtlclNwZWVkO1xuICAgICAgY29uc3QgcGVyY2VudCA9ICgobWFya2VyU3BlZWQgLSBtaW4pIC8gKG1heCAtIG1pbikpICogMTAwO1xuICAgICAgY29uc3QgY2xhbXBlZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcGVyY2VudCkpO1xuICAgICAgc3BlZWRNYXJrZXIuc3R5bGUubGVmdCA9IGAke2NsYW1wZWR9JWA7XG4gICAgICBzcGVlZE1hcmtlci50aXRsZSA9IGBIZWF0IG5ldXRyYWw6ICR7TWF0aC5yb3VuZChtYXJrZXJTcGVlZCl9IHVuaXRzL3NgO1xuICAgICAgc3BlZWRNYXJrZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9IGVsc2UgaWYgKHNwZWVkTWFya2VyKSB7XG4gICAgICBzcGVlZE1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgaWYgKG1pc3NpbGVTcGVlZE1hcmtlciAmJiBtaXNzaWxlU3BlZWRTbGlkZXIpIHtcbiAgICAgIGNvbnN0IGhlYXRQYXJhbXMgPSBzdGF0ZS5taXNzaWxlQ29uZmlnLmhlYXRQYXJhbXM7XG4gICAgICBjb25zdCBtYXJrZXJTcGVlZCA9XG4gICAgICAgIChoZWF0UGFyYW1zICYmIE51bWJlci5pc0Zpbml0ZShoZWF0UGFyYW1zLm1hcmtlclNwZWVkKSA/IGhlYXRQYXJhbXMubWFya2VyU3BlZWQgOiB1bmRlZmluZWQpID8/XG4gICAgICAgIChzaGlwSGVhdCAmJiBzaGlwSGVhdC5tYXJrZXJTcGVlZCA+IDAgPyBzaGlwSGVhdC5tYXJrZXJTcGVlZCA6IHVuZGVmaW5lZCk7XG5cbiAgICAgIGlmIChtYXJrZXJTcGVlZCAhPT0gdW5kZWZpbmVkICYmIG1hcmtlclNwZWVkID4gMCkge1xuICAgICAgICBjb25zdCBtaW4gPSBwYXJzZUZsb2F0KG1pc3NpbGVTcGVlZFNsaWRlci5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSBwYXJzZUZsb2F0KG1pc3NpbGVTcGVlZFNsaWRlci5tYXgpO1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gKChtYXJrZXJTcGVlZCAtIG1pbikgLyAobWF4IC0gbWluKSkgKiAxMDA7XG4gICAgICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHBlcmNlbnQpKTtcbiAgICAgICAgbWlzc2lsZVNwZWVkTWFya2VyLnN0eWxlLmxlZnQgPSBgJHtjbGFtcGVkfSVgO1xuICAgICAgICBtaXNzaWxlU3BlZWRNYXJrZXIudGl0bGUgPSBgSGVhdCBuZXV0cmFsOiAke01hdGgucm91bmQobWFya2VyU3BlZWQpfSB1bml0cy9zYDtcbiAgICAgICAgbWlzc2lsZVNwZWVkTWFya2VyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaXNzaWxlU3BlZWRNYXJrZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YWxsT3ZlcmxheSgpOiB2b2lkIHtcbiAgICBjb25zdCBoZWF0ID0gc3RhdGUubWU/LmhlYXQ7XG4gICAgaWYgKCFoZWF0IHx8ICFzdGFsbE92ZXJsYXkpIHtcbiAgICAgIHN0YWxsQWN0aXZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbm93ID1cbiAgICAgIHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICA6IERhdGUubm93KCk7XG5cbiAgICBjb25zdCBpc1N0YWxsZWQgPSBub3cgPCBoZWF0LnN0YWxsVW50aWxNcztcblxuICAgIGlmIChpc1N0YWxsZWQpIHtcbiAgICAgIHN0YWxsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcbiAgICAgIGlmICghc3RhbGxBY3RpdmUpIHtcbiAgICAgICAgc3RhbGxBY3RpdmUgPSB0cnVlO1xuICAgICAgICBidXMuZW1pdChcImhlYXQ6c3RhbGxUcmlnZ2VyZWRcIiwgeyBzdGFsbFVudGlsOiBoZWF0LnN0YWxsVW50aWxNcyB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhbGxPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xuICAgICAgaWYgKHN0YWxsQWN0aXZlKSB7XG4gICAgICAgIHN0YWxsQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGJ1cy5lbWl0KFwiaGVhdDpzdGFsbFJlY292ZXJlZFwiLCB7IHZhbHVlOiBoZWF0LnZhbHVlIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY2FjaGVEb20sXG4gICAgYmluZFVJLFxuICAgIHNldEFjdGl2ZVRvb2wsXG4gICAgc2V0SW5wdXRDb250ZXh0LFxuICAgIHVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzLFxuICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUksXG4gICAgcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSxcbiAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scyxcbiAgICBzeW5jTWlzc2lsZVVJRnJvbVN0YXRlLFxuICAgIHVwZGF0ZUhlbHBPdmVybGF5LFxuICAgIHNldEhlbHBWaXNpYmxlLFxuICAgIHVwZGF0ZU1pc3NpbGVMYXVuY2hCdXR0b25TdGF0ZSxcbiAgICB1cGRhdGVNaXNzaWxlQ291bnREaXNwbGF5LFxuICAgIHVwZGF0ZUNyYWZ0VGltZXIsXG4gICAgdXBkYXRlU3RhdHVzSW5kaWNhdG9ycyxcbiAgICB1cGRhdGVQbGFubmVkSGVhdEJhcixcbiAgICB1cGRhdGVTcGVlZE1hcmtlcixcbiAgICB1cGRhdGVIZWF0QmFyLFxuICAgIHByb2plY3RQbGFubmVkSGVhdCxcbiAgICBnZXRDYW52YXMsXG4gICAgZ2V0Q29udGV4dCxcbiAgICBhZGp1c3RTaGlwU3BlZWQsXG4gICAgYWRqdXN0TWlzc2lsZUFncm8sXG4gICAgYWRqdXN0TWlzc2lsZVNwZWVkLFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBNaXNzaW9uT2JqZWN0aXZlU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGdldEFwcHJveFNlcnZlck5vdyB9IGZyb20gXCIuLi9uZXRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uSHVkIHtcbiAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgTWlzc2lvbkh1ZE9wdGlvbnMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudE1pc3Npb25IdWQoeyBzdGF0ZSwgYnVzIH06IE1pc3Npb25IdWRPcHRpb25zKTogTWlzc2lvbkh1ZCB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lvbi1odWRcIik7XG5cbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICByZXR1cm4geyBkZXN0cm95KCkge30gfTtcbiAgfVxuICBjb25zdCBodWRDb250YWluZXIgPSBjb250YWluZXI7XG5cbiAgZnVuY3Rpb24gcmVuZGVyKCk6IHZvaWQge1xuICAgIGNvbnN0IG1pc3Npb24gPSBzdGF0ZS5taXNzaW9uO1xuICAgIGlmICghbWlzc2lvbikge1xuICAgICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICBodWRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImluc2lkZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoYXNPYmplY3RpdmVzID0gbWlzc2lvbi5vYmplY3RpdmVzLmxlbmd0aCA+IDAgfHwgbWlzc2lvbi5vYmplY3RpdmVTdW1tYXJpZXMubGVuZ3RoID4gMDtcbiAgICBpZiAoIWhhc09iamVjdGl2ZXMgJiYgIW1pc3Npb24uZGlzcGxheU5hbWUpIHtcbiAgICAgIGh1ZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnNpZGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb2JqZWN0aXZlczogTWlzc2lvbk9iamVjdGl2ZVN0YXRlW10gPSBtaXNzaW9uLm9iamVjdGl2ZXMubGVuZ3RoID4gMFxuICAgICAgPyBtaXNzaW9uLm9iamVjdGl2ZXNcbiAgICAgIDogbWlzc2lvbi5vYmplY3RpdmVTdW1tYXJpZXMubWFwKChkZXNjcmlwdGlvbiwgaW5kZXgpID0+ICh7XG4gICAgICAgIGlkOiBgc3VtbWFyeS0ke2luZGV4fWAsXG4gICAgICAgIHR5cGU6IFwic3VtbWFyeVwiLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgIH0pKTtcblxuICAgIGNvbnN0IGFnZ3JlZ2F0ZVByb2dyZXNzID0gbWlzc2lvbi5wcm9ncmVzcyAmJiBOdW1iZXIuaXNGaW5pdGUobWlzc2lvbi5wcm9ncmVzcylcbiAgICAgID8gbWlzc2lvbi5wcm9ncmVzc1xuICAgICAgOiBvYmplY3RpdmVzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBvYmplY3RpdmVzLnJlZHVjZSgoc3VtLCBvYmopID0+IHN1bSArIG9iai5wcm9ncmVzcywgMCkgLyBvYmplY3RpdmVzLmxlbmd0aFxuICAgICAgICA6IDA7XG5cbiAgICBjb25zdCBzdGF0dXNMYWJlbCA9ICgoKSA9PiB7XG4gICAgICBzd2l0Y2ggKG1pc3Npb24uc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJjb21wbGV0ZWRcIjpcbiAgICAgICAgICByZXR1cm4gXCJDb21wbGV0ZWRcIjtcbiAgICAgICAgY2FzZSBcImZhaWxlZFwiOlxuICAgICAgICAgIHJldHVybiBcIkZhaWxlZFwiO1xuICAgICAgICBjYXNlIFwiYWN0aXZlXCI6XG4gICAgICAgICAgcmV0dXJuIFwiQWN0aXZlXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFwiUmVhZHlcIjtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgY29uc3QgYXJjaGV0eXBlTGFiZWwgPSBtaXNzaW9uLmFyY2hldHlwZSA/IG1pc3Npb24uYXJjaGV0eXBlLnRvVXBwZXJDYXNlKCkgOiBcIlwiO1xuICAgIGNvbnN0IG5vdyA9IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG4gICAgbGV0IHRpbWVyTWFya3VwID0gXCJcIjtcbiAgICBpZiAobWlzc2lvbi50aW1lb3V0ICYmIG1pc3Npb24udGltZW91dCA+IDAgJiYgbWlzc2lvbi5zdGFydFRpbWUpIHtcbiAgICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLm1heCgwLCBub3cgLSBtaXNzaW9uLnN0YXJ0VGltZSk7XG4gICAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBtaXNzaW9uLnRpbWVvdXQgLSBlbGFwc2VkKTtcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHJlbWFpbmluZyAvIDYwKTtcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHJlbWFpbmluZyAlIDYwKTtcbiAgICAgIGNvbnN0IHdhcm5pbmdDbGFzcyA9IHJlbWFpbmluZyA8IDMwID8gXCJ3YXJuaW5nXCIgOiBcIlwiO1xuICAgICAgdGltZXJNYXJrdXAgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLXRpbWVyICR7d2FybmluZ0NsYXNzfVwiPlxuICAgICAgICAgIFRpbWUgUmVtYWluaW5nOiAke21pbnV0ZXN9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIGNvbnN0IG9iamVjdGl2ZUl0ZW1zID0gb2JqZWN0aXZlcy5tYXAoKG9iaikgPT4ge1xuICAgICAgY29uc3QgcGVyY2VudCA9IE1hdGgucm91bmQob2JqLnByb2dyZXNzICogMTAwKTtcbiAgICAgIGNvbnN0IGNvbXBsZXRlID0gb2JqLmNvbXBsZXRlIHx8IHBlcmNlbnQgPj0gMTAwO1xuICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGxpIGNsYXNzPVwibWlzc2lvbi1vYmplY3RpdmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWlzc2lvbi1vYmplY3RpdmUtbGFiZWxcIj5cbiAgICAgICAgICAgIDxzcGFuPiR7b2JqLmRlc2NyaXB0aW9ufTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWlzc2lvbi1vYmplY3RpdmUtcHJvZ3Jlc3NcIj4ke3BlcmNlbnR9JTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWlzc2lvbi1vYmplY3RpdmUtYmFyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWlzc2lvbi1vYmplY3RpdmUtZmlsbCAke2NvbXBsZXRlID8gXCJjb21wbGV0ZVwiIDogXCJcIn1cIiBzdHlsZT1cIndpZHRoOiAke01hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcGVyY2VudCkpfSVcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgIGA7XG4gICAgfSkuam9pbihcIlwiKTtcblxuICAgIGxldCBwbGF5ZXJTdGF0dXMgPSBcIlwiO1xuICAgIGlmIChtaXNzaW9uLnBsYXllcikge1xuICAgICAgY29uc3QgcGxheWVyID0gbWlzc2lvbi5wbGF5ZXI7XG4gICAgICBjb25zdCB0b3RhbCA9IG1pc3Npb24uYmVhY29ucy5sZW5ndGg7XG4gICAgICBjb25zdCBjb21wbGV0ZWRDb3VudCA9IG1pc3Npb24uYmVhY29ucy5maWx0ZXIoKGIpID0+IGIuY29tcGxldGVkKS5sZW5ndGg7XG4gICAgICBjb25zdCBhY3RpdmVCZWFjb24gPSBwbGF5ZXIuYWN0aXZlQmVhY29uSWRcbiAgICAgICAgPyBtaXNzaW9uLmJlYWNvbnMuZmluZCgoYikgPT4gYi5pZCA9PT0gcGxheWVyLmFjdGl2ZUJlYWNvbklkKVxuICAgICAgICA6IG1pc3Npb24uYmVhY29ucy5maW5kKChiKSA9PiAhYi5jb21wbGV0ZWQpO1xuICAgICAgY29uc3QgZGlzcGxheUluZGV4ID0gYWN0aXZlQmVhY29uXG4gICAgICAgID8gTWF0aC5taW4oYWN0aXZlQmVhY29uLm9yZGluYWwgKyAxLCB0b3RhbClcbiAgICAgICAgOiBNYXRoLm1pbihjb21wbGV0ZWRDb3VudCwgdG90YWwpO1xuICAgICAgY29uc3QgaG9sZFJlcXVpcmVkID0gcGxheWVyLmhvbGRSZXF1aXJlZCB8fCAwO1xuICAgICAgY29uc3QgaG9sZFNlY29uZHMgPSBNYXRoLm1heCgwLCBwbGF5ZXIuZGlzcGxheUhvbGQgPz8gcGxheWVyLmhvbGRBY2N1bSk7XG4gICAgICBwbGF5ZXJTdGF0dXMgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLXBsYXllci1zdGF0dXNcIj5cbiAgICAgICAgICA8ZGl2PkJlYWNvbiAke3RvdGFsID4gMCA/IGAke2Rpc3BsYXlJbmRleH0vJHt0b3RhbH1gIDogXCJcdTIwMTNcIn08L2Rpdj5cbiAgICAgICAgICA8ZGl2PkhvbGQ6ICR7aG9sZFJlcXVpcmVkID4gMCA/IGAke2hvbGRTZWNvbmRzLnRvRml4ZWQoMSl9cyAvICR7aG9sZFJlcXVpcmVkLnRvRml4ZWQoMSl9c2AgOiBgJHtob2xkU2Vjb25kcy50b0ZpeGVkKDEpfXNgfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG5cbiAgICAgIGlmIChwbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uKSB7XG4gICAgICAgIGh1ZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaW5zaWRlXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnNpZGVcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGh1ZENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaW5zaWRlXCIpO1xuICAgIH1cblxuICAgIGh1ZENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibWlzc2lvbi1oZWFkZXJcIj5cbiAgICAgICAgPGgzPiR7bWlzc2lvbi5kaXNwbGF5TmFtZSB8fCBcIk1pc3Npb25cIn08L2gzPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIm1pc3Npb24tc3RhdHVzXCI+JHtzdGF0dXNMYWJlbH08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7YXJjaGV0eXBlTGFiZWwgPyBgPGRpdiBjbGFzcz1cIm1pc3Npb24tYXJjaGV0eXBlXCI+JHthcmNoZXR5cGVMYWJlbH08L2Rpdj5gIDogXCJcIn1cbiAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLXByb2dyZXNzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLXByb2dyZXNzLXRyYWNrXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pc3Npb24tcHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBhZ2dyZWdhdGVQcm9ncmVzcyAqIDEwMCkpfSVcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibWlzc2lvbi1wcm9ncmVzcy12YWx1ZVwiPiR7TWF0aC5yb3VuZChhZ2dyZWdhdGVQcm9ncmVzcyAqIDEwMCl9JTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgJHt0aW1lck1hcmt1cH1cbiAgICAgICR7b2JqZWN0aXZlSXRlbXMgPyBgPHVsIGNsYXNzPVwibWlzc2lvbi1vYmplY3RpdmVzXCI+JHtvYmplY3RpdmVJdGVtc308L3VsPmAgOiBcIlwifVxuICAgICAgJHtwbGF5ZXJTdGF0dXN9XG4gICAgYDtcblxuICAgIGh1ZENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICB9XG5cbiAgcmVuZGVyKCk7XG4gIGNvbnN0IHVuc3VicyA9IFtcbiAgICBidXMub24oXCJzdGF0ZTp1cGRhdGVkXCIsICgpID0+IHJlbmRlcigpKSxcbiAgICBidXMub24oXCJtaXNzaW9uOnVwZGF0ZVwiLCAoKSA9PiByZW5kZXIoKSksXG4gICAgYnVzLm9uKFwibWlzc2lvbjpzdGFydFwiLCAoKSA9PiByZW5kZXIoKSksXG4gICAgYnVzLm9uKFwibWlzc2lvbjpvZmZlcmVkXCIsICgpID0+IHJlbmRlcigpKSxcbiAgICBidXMub24oXCJtaXNzaW9uOmNvbXBsZXRlZFwiLCAoKSA9PiByZW5kZXIoKSksXG4gICAgYnVzLm9uKFwibWlzc2lvbjpmYWlsZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246b2JqZWN0aXZlcy11cGRhdGVkXCIsICgpID0+IHJlbmRlcigpKSxcbiAgICBidXMub24oXCJtaXNzaW9uOnByb2dyZXNzLWNoYW5nZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246YmVhY29uLWxvY2tlZFwiLCAoKSA9PiByZW5kZXIoKSksXG4gIF07XG5cbiAgcmV0dXJuIHtcbiAgICBkZXN0cm95KCkge1xuICAgICAgZm9yIChjb25zdCB1bnN1YiBvZiB1bnN1YnMpIHtcbiAgICAgICAgdW5zdWIoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi9idXNcIjtcbmltcG9ydCB7IGdldEFwcHJveFNlcnZlck5vdywgc2VuZE1lc3NhZ2UgfSBmcm9tIFwiLi9uZXRcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIFVJU3RhdGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgY3JlYXRlQ2FtZXJhIH0gZnJvbSBcIi4vZ2FtZS9jYW1lcmFcIjtcbmltcG9ydCB7IGNyZWF0ZUlucHV0IH0gZnJvbSBcIi4vZ2FtZS9pbnB1dFwiO1xuaW1wb3J0IHsgY3JlYXRlTG9naWMgfSBmcm9tIFwiLi9nYW1lL2xvZ2ljXCI7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJlciB9IGZyb20gXCIuL2dhbWUvcmVuZGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVVSSB9IGZyb20gXCIuL2dhbWUvdWlcIjtcbmltcG9ydCB7IG1vdW50TWlzc2lvbkh1ZCB9IGZyb20gXCIuL21pc3Npb24vaHVkXCI7XG5cbmludGVyZmFjZSBJbml0R2FtZU9wdGlvbnMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG59XG5cbmludGVyZmFjZSBHYW1lQ29udHJvbGxlciB7XG4gIG9uU3RhdGVVcGRhdGVkKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0R2FtZSh7IHN0YXRlLCB1aVN0YXRlLCBidXMgfTogSW5pdEdhbWVPcHRpb25zKTogR2FtZUNvbnRyb2xsZXIge1xuICBjb25zdCBjYW52YXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3ZcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICBpZiAoIWNhbnZhc0VsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIGVsZW1lbnQgI2N2IG5vdCBmb3VuZFwiKTtcbiAgfVxuXG4gIGNvbnN0IGNhbWVyYSA9IGNyZWF0ZUNhbWVyYSh7IGNhbnZhczogY2FudmFzRWwsIHN0YXRlLCB1aVN0YXRlIH0pO1xuICBjb25zdCBsb2dpYyA9IGNyZWF0ZUxvZ2ljKHtcbiAgICBzdGF0ZSxcbiAgICB1aVN0YXRlLFxuICAgIGJ1cyxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBnZXRBcHByb3hTZXJ2ZXJOb3csXG4gICAgY2FtZXJhLFxuICB9KTtcbiAgY29uc3QgdWkgPSBjcmVhdGVVSSh7XG4gICAgc3RhdGUsXG4gICAgdWlTdGF0ZSxcbiAgICBidXMsXG4gICAgbG9naWMsXG4gICAgY2FtZXJhLFxuICAgIHNlbmRNZXNzYWdlLFxuICAgIGdldEFwcHJveFNlcnZlck5vdyxcbiAgfSk7XG5cbiAgY29uc3QgeyBjYW52YXM6IGNhY2hlZENhbnZhcywgY3R4OiBjYWNoZWRDdHggfSA9IHVpLmNhY2hlRG9tKCk7XG4gIGNvbnN0IHJlbmRlckNhbnZhcyA9IGNhY2hlZENhbnZhcyA/PyBjYW52YXNFbDtcbiAgY29uc3QgcmVuZGVyQ3R4ID0gY2FjaGVkQ3R4ID8/IHJlbmRlckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGlmICghcmVuZGVyQ3R4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGFjcXVpcmUgMkQgcmVuZGVyaW5nIGNvbnRleHRcIik7XG4gIH1cblxuICBjb25zdCByZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKHtcbiAgICBjYW52YXM6IHJlbmRlckNhbnZhcyxcbiAgICBjdHg6IHJlbmRlckN0eCxcbiAgICBzdGF0ZSxcbiAgICB1aVN0YXRlLFxuICAgIGNhbWVyYSxcbiAgICBsb2dpYyxcbiAgfSk7XG5cbiAgY29uc3QgaW5wdXQgPSBjcmVhdGVJbnB1dCh7XG4gICAgY2FudmFzOiByZW5kZXJDYW52YXMsXG4gICAgdWksXG4gICAgbG9naWMsXG4gICAgY2FtZXJhLFxuICAgIHN0YXRlLFxuICAgIHVpU3RhdGUsXG4gICAgYnVzLFxuICAgIHNlbmRNZXNzYWdlLFxuICB9KTtcblxuICB1aS5iaW5kVUkoKTtcbiAgaW5wdXQuYmluZElucHV0KCk7XG4gIGxvZ2ljLmVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICB1aS5zeW5jTWlzc2lsZVVJRnJvbVN0YXRlKCk7XG4gIHVpLnVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzKCk7XG4gIHVpLnJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgdWkucmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpO1xuICB1aS51cGRhdGVIZWxwT3ZlcmxheSgpO1xuICB1aS51cGRhdGVTdGF0dXNJbmRpY2F0b3JzKCk7XG4gIHVpLnVwZGF0ZU1pc3NpbGVMYXVuY2hCdXR0b25TdGF0ZSgpO1xuICB1aS51cGRhdGVNaXNzaWxlQ291bnREaXNwbGF5KCk7XG5cbiAgbW91bnRNaXNzaW9uSHVkKHsgc3RhdGUsIGJ1cyB9KTtcblxuICBsZXQgbGFzdExvb3BUczogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXA6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHRpbWVzdGFtcCkpIHtcbiAgICAgIHRpbWVzdGFtcCA9IGxhc3RMb29wVHMgPz8gMDtcbiAgICB9XG5cbiAgICBsZXQgZHRTZWNvbmRzID0gMDtcbiAgICBpZiAobGFzdExvb3BUcyAhPT0gbnVsbCkge1xuICAgICAgZHRTZWNvbmRzID0gKHRpbWVzdGFtcCAtIGxhc3RMb29wVHMpIC8gMTAwMDtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGR0U2Vjb25kcykgfHwgZHRTZWNvbmRzIDwgMCkge1xuICAgICAgICBkdFNlY29uZHMgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0TG9vcFRzID0gdGltZXN0YW1wO1xuXG4gICAgbG9naWMudXBkYXRlUm91dGVBbmltYXRpb25zKGR0U2Vjb25kcyk7XG4gICAgcmVuZGVyZXIuZHJhd1NjZW5lKCk7XG4gICAgdWkudXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlKCk7XG4gICAgdWkudXBkYXRlQ3JhZnRUaW1lcigpO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9XG5cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuXG4gIHJldHVybiB7XG4gICAgb25TdGF0ZVVwZGF0ZWQoKSB7XG4gICAgICBsb2dpYy5lbnN1cmVBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgIHVpLnN5bmNNaXNzaWxlVUlGcm9tU3RhdGUoKTtcbiAgICAgIHVpLnJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVpLnJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVpLnVwZGF0ZU1pc3NpbGVMYXVuY2hCdXR0b25TdGF0ZSgpO1xuICAgICAgdWkudXBkYXRlTWlzc2lsZUNvdW50RGlzcGxheSgpO1xuICAgICAgdWkudXBkYXRlQ3JhZnRUaW1lcigpO1xuICAgICAgdWkudXBkYXRlU3RhdHVzSW5kaWNhdG9ycygpO1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi4vc3RhdGVcIjtcblxuaW50ZXJmYWNlIEhpZ2hsaWdodENvbnRlbnRPcHRpb25zIHtcbiAgdGFyZ2V0OiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG4gIHN0ZXBJbmRleDogbnVtYmVyO1xuICBzdGVwQ291bnQ6IG51bWJlcjtcbiAgc2hvd05leHQ6IGJvb2xlYW47XG4gIG5leHRMYWJlbD86IHN0cmluZztcbiAgb25OZXh0PzogKCkgPT4gdm9pZDtcbiAgc2hvd1NraXA6IGJvb2xlYW47XG4gIHNraXBMYWJlbD86IHN0cmluZztcbiAgb25Ta2lwPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaWdobGlnaHRlciB7XG4gIHNob3cob3B0aW9uczogSGlnaGxpZ2h0Q29udGVudE9wdGlvbnMpOiB2b2lkO1xuICBoaWRlKCk6IHZvaWQ7XG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuY29uc3QgU1RZTEVfSUQgPSBcInR1dG9yaWFsLW92ZXJsYXktc3R5bGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhpZ2hsaWdodGVyKCk6IEhpZ2hsaWdodGVyIHtcbiAgZW5zdXJlU3R5bGVzKCk7XG5cbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG92ZXJsYXkuY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5XCI7XG4gIG92ZXJsYXkuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuXG4gIGNvbnN0IHNjcmltID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgc2NyaW0uY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5X19zY3JpbVwiO1xuXG4gIGNvbnN0IGhpZ2hsaWdodEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGhpZ2hsaWdodEJveC5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX2hpZ2hsaWdodFwiO1xuXG4gIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b29sdGlwLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fdG9vbHRpcFwiO1xuXG4gIGNvbnN0IHByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcHJvZ3Jlc3MuY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5X19wcm9ncmVzc1wiO1xuXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICB0aXRsZS5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX3RpdGxlXCI7XG5cbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBib2R5LmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYm9keVwiO1xuXG4gIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBhY3Rpb25zLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYWN0aW9uc1wiO1xuXG4gIGNvbnN0IHNraXBCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBza2lwQnRuLnR5cGUgPSBcImJ1dHRvblwiO1xuICBza2lwQnRuLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYnRuIHR1dG9yaWFsLW92ZXJsYXlfX2J0bi0tZ2hvc3RcIjtcbiAgc2tpcEJ0bi50ZXh0Q29udGVudCA9IFwiU2tpcFwiO1xuXG4gIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBuZXh0QnRuLnR5cGUgPSBcImJ1dHRvblwiO1xuICBuZXh0QnRuLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYnRuIHR1dG9yaWFsLW92ZXJsYXlfX2J0bi0tcHJpbWFyeVwiO1xuICBuZXh0QnRuLnRleHRDb250ZW50ID0gXCJOZXh0XCI7XG5cbiAgYWN0aW9ucy5hcHBlbmQoc2tpcEJ0biwgbmV4dEJ0bik7XG4gIHRvb2x0aXAuYXBwZW5kKHByb2dyZXNzLCB0aXRsZSwgYm9keSwgYWN0aW9ucyk7XG4gIG92ZXJsYXkuYXBwZW5kKHNjcmltLCBoaWdobGlnaHRCb3gsIHRvb2x0aXApO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuXG4gIGxldCBjdXJyZW50VGFyZ2V0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBsZXQgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCBmcmFtZUhhbmRsZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCBvbk5leHQ6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICBsZXQgb25Ta2lwOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUpIHJldHVybjtcbiAgICBpZiAoZnJhbWVIYW5kbGUgIT09IG51bGwpIHJldHVybjtcbiAgICBmcmFtZUhhbmRsZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgZnJhbWVIYW5kbGUgPSBudWxsO1xuICAgICAgdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKCk6IHZvaWQge1xuICAgIGlmICghdmlzaWJsZSkgcmV0dXJuO1xuXG4gICAgaWYgKGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBjdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgcGFkZGluZyA9IDEyO1xuICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgwLCByZWN0LndpZHRoICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMCwgcmVjdC5oZWlnaHQgKyBwYWRkaW5nICogMik7XG4gICAgICBjb25zdCBsZWZ0ID0gcmVjdC5sZWZ0IC0gcGFkZGluZztcbiAgICAgIGNvbnN0IHRvcCA9IHJlY3QudG9wIC0gcGFkZGluZztcblxuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7TWF0aC5yb3VuZChsZWZ0KX1weCwgJHtNYXRoLnJvdW5kKHRvcCl9cHgpYDtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS53aWR0aCA9IGAke01hdGgucm91bmQod2lkdGgpfXB4YDtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS5oZWlnaHQgPSBgJHtNYXRoLnJvdW5kKGhlaWdodCl9cHhgO1xuXG4gICAgICB0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgIHRvb2x0aXAuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgdG9vbHRpcC5zdHlsZS5tYXhXaWR0aCA9IGBtaW4oMzQwcHgsICR7TWF0aC5tYXgoMjYwLCB3aW5kb3cuaW5uZXJXaWR0aCAtIDMyKX1weClgO1xuICAgICAgY29uc3QgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5vZmZzZXRXaWR0aDtcbiAgICAgIGNvbnN0IHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodDtcbiAgICAgIGxldCB0b29sdGlwVG9wID0gcmVjdC5ib3R0b20gKyAxODtcbiAgICAgIGlmICh0b29sdGlwVG9wICsgdG9vbHRpcEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAtIDIwKSB7XG4gICAgICAgIHRvb2x0aXBUb3AgPSBNYXRoLm1heCgyMCwgcmVjdC50b3AgLSB0b29sdGlwSGVpZ2h0IC0gMTgpO1xuICAgICAgfVxuICAgICAgbGV0IHRvb2x0aXBMZWZ0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSB0b29sdGlwV2lkdGggLyAyO1xuICAgICAgdG9vbHRpcExlZnQgPSBjbGFtcCh0b29sdGlwTGVmdCwgMjAsIHdpbmRvdy5pbm5lcldpZHRoIC0gdG9vbHRpcFdpZHRoIC0gMjApO1xuICAgICAgdG9vbHRpcC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7TWF0aC5yb3VuZCh0b29sdGlwTGVmdCl9cHgsICR7TWF0aC5yb3VuZCh0b29sdGlwVG9wKX1weClgO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdobGlnaHRCb3guc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtNYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoIC8gMil9cHgsICR7TWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKX1weClgO1xuXG4gICAgICB0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgIHRvb2x0aXAuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgY29uc3QgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5vZmZzZXRXaWR0aDtcbiAgICAgIGNvbnN0IHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IHRvb2x0aXBMZWZ0ID0gY2xhbXAoKHdpbmRvdy5pbm5lcldpZHRoIC0gdG9vbHRpcFdpZHRoKSAvIDIsIDIwLCB3aW5kb3cuaW5uZXJXaWR0aCAtIHRvb2x0aXBXaWR0aCAtIDIwKTtcbiAgICAgIGNvbnN0IHRvb2x0aXBUb3AgPSBjbGFtcCgod2luZG93LmlubmVySGVpZ2h0IC0gdG9vbHRpcEhlaWdodCkgLyAyLCAyMCwgd2luZG93LmlubmVySGVpZ2h0IC0gdG9vbHRpcEhlaWdodCAtIDIwKTtcbiAgICAgIHRvb2x0aXAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke01hdGgucm91bmQodG9vbHRpcExlZnQpfXB4LCAke01hdGgucm91bmQodG9vbHRpcFRvcCl9cHgpYDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2hMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgc2NoZWR1bGVVcGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVVwZGF0ZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlVXBkYXRlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVVwZGF0ZSk7XG4gICAgaWYgKGZyYW1lSGFuZGxlICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVIYW5kbGUpO1xuICAgICAgZnJhbWVIYW5kbGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAocmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBza2lwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG9uU2tpcD8uKCk7XG4gIH0pO1xuXG4gIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25OZXh0Py4oKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVuZGVyVG9vbHRpcChvcHRpb25zOiBIaWdobGlnaHRDb250ZW50T3B0aW9ucyk6IHZvaWQge1xuICAgIGNvbnN0IHsgc3RlcENvdW50LCBzdGVwSW5kZXgsIHRpdGxlOiBvcHRpb25UaXRsZSwgYm9keTogb3B0aW9uQm9keSwgc2hvd05leHQsIG5leHRMYWJlbCwgc2hvd1NraXAsIHNraXBMYWJlbCB9ID0gb3B0aW9ucztcblxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoc3RlcENvdW50KSAmJiBzdGVwQ291bnQgPiAwKSB7XG4gICAgICBwcm9ncmVzcy50ZXh0Q29udGVudCA9IGBTdGVwICR7c3RlcEluZGV4ICsgMX0gb2YgJHtzdGVwQ291bnR9YDtcbiAgICAgIHByb2dyZXNzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIHByb2dyZXNzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9uVGl0bGUgJiYgb3B0aW9uVGl0bGUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gb3B0aW9uVGl0bGU7XG4gICAgICB0aXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICB0aXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgYm9keS50ZXh0Q29udGVudCA9IG9wdGlvbkJvZHk7XG5cbiAgICBvbk5leHQgPSBzaG93TmV4dCA/IG9wdGlvbnMub25OZXh0ID8/IG51bGwgOiBudWxsO1xuICAgIGlmIChzaG93TmV4dCkge1xuICAgICAgbmV4dEJ0bi50ZXh0Q29udGVudCA9IG5leHRMYWJlbCA/PyBcIk5leHRcIjtcbiAgICAgIG5leHRCdG4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWZsZXhcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dEJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgb25Ta2lwID0gc2hvd1NraXAgPyBvcHRpb25zLm9uU2tpcCA/PyBudWxsIDogbnVsbDtcbiAgICBpZiAoc2hvd1NraXApIHtcbiAgICAgIHNraXBCdG4udGV4dENvbnRlbnQgPSBza2lwTGFiZWwgPz8gXCJTa2lwXCI7XG4gICAgICBza2lwQnRuLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1mbGV4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNraXBCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3cob3B0aW9uczogSGlnaGxpZ2h0Q29udGVudE9wdGlvbnMpOiB2b2lkIHtcbiAgICB2aXNpYmxlID0gdHJ1ZTtcbiAgICBjdXJyZW50VGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgPz8gbnVsbDtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgIHJlbmRlclRvb2x0aXAob3B0aW9ucyk7XG4gICAgaWYgKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFyZ2V0ICYmIHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gc2NoZWR1bGVVcGRhdGUoKSk7XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGN1cnJlbnRUYXJnZXQpO1xuICAgIH1cbiAgICBhdHRhY2hMaXN0ZW5lcnMoKTtcbiAgICBzY2hlZHVsZVVwZGF0ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZSgpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUpIHJldHVybjtcbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICB0b29sdGlwLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHRvb2x0aXAuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGhpZ2hsaWdodEJveC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgZGV0YWNoTGlzdGVuZXJzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCk6IHZvaWQge1xuICAgIGhpZGUoKTtcbiAgICBvdmVybGF5LnJlbW92ZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93LFxuICAgIGhpZGUsXG4gICAgZGVzdHJveSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlU3R5bGVzKCk6IHZvaWQge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBzdHlsZS5pZCA9IFNUWUxFX0lEO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAudHV0b3JpYWwtb3ZlcmxheSB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBpbnNldDogMDtcbiAgICAgIHotaW5kZXg6IDUwO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheS52aXNpYmxlIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fc2NyaW0ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaW5zZXQ6IDA7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19oaWdobGlnaHQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTRweDtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjk1KTtcbiAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDU2LCAxODksIDI0OCwgMC4yNSksIDAgMCAyNHB4IHJnYmEoMzQsIDIxMSwgMjM4LCAwLjI1KTtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjE4cyBlYXNlLCB3aWR0aCAwLjE4cyBlYXNlLCBoZWlnaHQgMC4xOHMgZWFzZSwgb3BhY2l0eSAwLjE4cyBlYXNlO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fdG9vbHRpcCB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBtaW4td2lkdGg6IDI0MHB4O1xuICAgICAgbWF4LXdpZHRoOiBtaW4oMzQwcHgsIGNhbGMoMTAwdncgLSAzMnB4KSk7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LCAyMywgNDIsIDAuOTUpO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsIDE2MywgMTg0LCAwLjM1KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICBwYWRkaW5nOiAxNnB4IDE4cHg7XG4gICAgICBjb2xvcjogI2UyZThmMDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMTJweCAzMnB4IHJnYmEoMTUsIDIzLCA0MiwgMC41NSk7XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwcHgsIDBweCk7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xOHMgZWFzZSwgb3BhY2l0eSAwLjE4cyBlYXNlO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fcHJvZ3Jlc3Mge1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDhlbTtcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICBjb2xvcjogcmdiYSgxNDgsIDE2MywgMTg0LCAwLjc1KTtcbiAgICAgIG1hcmdpbjogMCAwIDhweDtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX3RpdGxlIHtcbiAgICAgIG1hcmdpbjogMCAwIDhweDtcbiAgICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA0ZW07XG4gICAgICBjb2xvcjogI2YxZjVmOTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX2JvZHkge1xuICAgICAgbWFyZ2luOiAwIDAgMTRweDtcbiAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICBjb2xvcjogI2NiZDVmNTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX2FjdGlvbnMge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGdhcDogMTBweDtcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4ge1xuICAgICAgZm9udDogaW5oZXJpdDtcbiAgICAgIHBhZGRpbmc6IDZweCAxNHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMC4wOGVtO1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuLS1wcmltYXJ5IHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjI1KTtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1NiwgMTg5LCAyNDgsIDAuNTUpO1xuICAgICAgY29sb3I6ICNmOGZhZmM7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4tLXByaW1hcnk6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSg1NiwgMTg5LCAyNDgsIDAuMzUpO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuLS1naG9zdCB7XG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgxNDgsIDE2MywgMTg0LCAwLjM1KTtcbiAgICAgIGNvbG9yOiByZ2JhKDIwMywgMjEzLCAyMjUsIDAuOSk7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4tLWdob3N0OmhvdmVyIHtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMDMsIDIxMywgMjI1LCAwLjU1KTtcbiAgICB9XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fdG9vbHRpcCB7XG4gICAgICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgICAgIG1heC13aWR0aDogbWluKDMyMHB4LCBjYWxjKDEwMHZ3IC0gMjRweCkpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogMTJweDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X19wcm9ncmVzcyB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X190aXRsZSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X19ib2R5IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgICB9XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fYWN0aW9ucyB7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogNnB4O1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4ge1xuICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgfVxuICAgIH1cbiAgYDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG4iLCAiY29uc3QgU1RPUkFHRV9QUkVGSVggPSBcImxzZDp0dXRvcmlhbDpcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUdXRvcmlhbFByb2dyZXNzIHtcbiAgc3RlcEluZGV4OiBudW1iZXI7XG4gIGNvbXBsZXRlZDogYm9vbGVhbjtcbiAgdXBkYXRlZEF0OiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIGdldFN0b3JhZ2UoKTogU3RvcmFnZSB8IG51bGwge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFByb2dyZXNzKGlkOiBzdHJpbmcpOiBUdXRvcmlhbFByb2dyZXNzIHwgbnVsbCB7XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGlmICghc3RvcmFnZSkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgY29uc3QgcmF3ID0gc3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfUFJFRklYICsgaWQpO1xuICAgIGlmICghcmF3KSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdykgYXMgVHV0b3JpYWxQcm9ncmVzcztcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgcGFyc2VkICE9PSBcIm9iamVjdFwiIHx8IHBhcnNlZCA9PT0gbnVsbCB8fFxuICAgICAgdHlwZW9mIHBhcnNlZC5zdGVwSW5kZXggIT09IFwibnVtYmVyXCIgfHxcbiAgICAgIHR5cGVvZiBwYXJzZWQuY29tcGxldGVkICE9PSBcImJvb2xlYW5cIiB8fFxuICAgICAgdHlwZW9mIHBhcnNlZC51cGRhdGVkQXQgIT09IFwibnVtYmVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVByb2dyZXNzKGlkOiBzdHJpbmcsIHByb2dyZXNzOiBUdXRvcmlhbFByb2dyZXNzKTogdm9pZCB7XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICB0cnkge1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX1BSRUZJWCArIGlkLCBKU09OLnN0cmluZ2lmeShwcm9ncmVzcykpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBpZ25vcmUgc3RvcmFnZSBmYWlsdXJlc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclByb2dyZXNzKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgaWYgKCFzdG9yYWdlKSByZXR1cm47XG4gIHRyeSB7XG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfUFJFRklYICsgaWQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBpZ25vcmUgc3RvcmFnZSBmYWlsdXJlc1xuICB9XG59XG4iLCAiZXhwb3J0IHR5cGUgUm9sZUlkID1cbiAgfCBcImNhbnZhc1wiXG4gIHwgXCJzaGlwU2V0XCJcbiAgfCBcInNoaXBTZWxlY3RcIlxuICB8IFwic2hpcERlbGV0ZVwiXG4gIHwgXCJzaGlwQ2xlYXJcIlxuICB8IFwic2hpcFNwZWVkU2xpZGVyXCJcbiAgfCBcImhlYXRCYXJcIlxuICB8IFwic3BlZWRNYXJrZXJcIlxuICB8IFwibWlzc2lsZVNldFwiXG4gIHwgXCJtaXNzaWxlU2VsZWN0XCJcbiAgfCBcIm1pc3NpbGVEZWxldGVcIlxuICB8IFwibWlzc2lsZVNwZWVkU2xpZGVyXCJcbiAgfCBcIm1pc3NpbGVBZ3JvU2xpZGVyXCJcbiAgfCBcIm1pc3NpbGVBZGRSb3V0ZVwiXG4gIHwgXCJtaXNzaWxlTGF1bmNoXCJcbiAgfCBcInJvdXRlUHJldlwiXG4gIHwgXCJyb3V0ZU5leHRcIlxuICB8IFwiaGVscFRvZ2dsZVwiXG4gIHwgXCJ0dXRvcmlhbFN0YXJ0XCJcbiAgfCBcInNwYXduQm90XCI7XG5cbmV4cG9ydCB0eXBlIFJvbGVSZXNvbHZlciA9ICgpID0+IEhUTUxFbGVtZW50IHwgbnVsbDtcblxuZXhwb3J0IHR5cGUgUm9sZXNNYXAgPSBSZWNvcmQ8Um9sZUlkLCBSb2xlUmVzb2x2ZXI+O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm9sZXMoKTogUm9sZXNNYXAge1xuICByZXR1cm4ge1xuICAgIGNhbnZhczogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdlwiKSxcbiAgICBzaGlwU2V0OiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc2V0XCIpLFxuICAgIHNoaXBTZWxlY3Q6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zZWxlY3RcIiksXG4gICAgc2hpcERlbGV0ZTogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWRlbGV0ZVwiKSxcbiAgICBzaGlwQ2xlYXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1jbGVhclwiKSxcbiAgICBzaGlwU3BlZWRTbGlkZXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zcGVlZC1zbGlkZXJcIiksXG4gICAgaGVhdEJhcjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWF0LWJhci1jb250YWluZXJcIiksXG4gICAgc3BlZWRNYXJrZXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3BlZWQtbWFya2VyXCIpLFxuICAgIG1pc3NpbGVTZXQ6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zZXRcIiksXG4gICAgbWlzc2lsZVNlbGVjdDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNlbGVjdFwiKSxcbiAgICBtaXNzaWxlRGVsZXRlOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtZGVsZXRlXCIpLFxuICAgIG1pc3NpbGVTcGVlZFNsaWRlcjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNwZWVkLXNsaWRlclwiKSxcbiAgICBtaXNzaWxlQWdyb1NsaWRlcjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tc2xpZGVyXCIpLFxuICAgIG1pc3NpbGVBZGRSb3V0ZTogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFkZC1yb3V0ZVwiKSxcbiAgICBtaXNzaWxlTGF1bmNoOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoXCIpLFxuICAgIHJvdXRlUHJldjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1wcmV2XCIpLFxuICAgIHJvdXRlTmV4dDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1uZXh0XCIpLFxuICAgIGhlbHBUb2dnbGU6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscC10b2dnbGVcIiksXG4gICAgdHV0b3JpYWxTdGFydDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0dXRvcmlhbC1zdGFydFwiKSxcbiAgICBzcGF3bkJvdDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGF3bi1ib3RcIiksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb2xlRWxlbWVudChyb2xlczogUm9sZXNNYXAsIHJvbGU6IFJvbGVJZCB8IG51bGwgfCB1bmRlZmluZWQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICBpZiAoIXJvbGUpIHJldHVybiBudWxsO1xuICBjb25zdCByZXNvbHZlciA9IHJvbGVzW3JvbGVdO1xuICByZXR1cm4gcmVzb2x2ZXIgPyByZXNvbHZlcigpIDogbnVsbDtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzLCBFdmVudEtleSB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB7IGNyZWF0ZUhpZ2hsaWdodGVyLCB0eXBlIEhpZ2hsaWdodGVyIH0gZnJvbSBcIi4vaGlnaGxpZ2h0XCI7XG5pbXBvcnQgeyBjbGVhclByb2dyZXNzLCBsb2FkUHJvZ3Jlc3MsIHNhdmVQcm9ncmVzcyB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGdldFJvbGVFbGVtZW50LCB0eXBlIFJvbGVJZCwgdHlwZSBSb2xlc01hcCB9IGZyb20gXCIuL3JvbGVzXCI7XG5cbmV4cG9ydCB0eXBlIFN0ZXBBZHZhbmNlID1cbiAgfCB7XG4gICAgICBraW5kOiBcImV2ZW50XCI7XG4gICAgICBldmVudDogRXZlbnRLZXk7XG4gICAgICB3aGVuPzogKHBheWxvYWQ6IHVua25vd24pID0+IGJvb2xlYW47XG4gICAgICBjaGVjaz86ICgpID0+IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIGtpbmQ6IFwibWFudWFsXCI7XG4gICAgICBuZXh0TGFiZWw/OiBzdHJpbmc7XG4gICAgfTtcblxuZXhwb3J0IGludGVyZmFjZSBUdXRvcmlhbFN0ZXAge1xuICBpZDogc3RyaW5nO1xuICB0YXJnZXQ6IFJvbGVJZCB8ICgoKSA9PiBIVE1MRWxlbWVudCB8IG51bGwpIHwgbnVsbDtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGJvZHk6IHN0cmluZztcbiAgYWR2YW5jZTogU3RlcEFkdmFuY2U7XG4gIG9uRW50ZXI/OiAoKSA9PiB2b2lkO1xuICBvbkV4aXQ/OiAoKSA9PiB2b2lkO1xuICBhbGxvd1NraXA/OiBib29sZWFuO1xuICBza2lwTGFiZWw/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFbmdpbmVPcHRpb25zIHtcbiAgaWQ6IHN0cmluZztcbiAgYnVzOiBFdmVudEJ1cztcbiAgcm9sZXM6IFJvbGVzTWFwO1xuICBzdGVwczogVHV0b3JpYWxTdGVwW107XG59XG5cbmludGVyZmFjZSBTdGFydE9wdGlvbnMge1xuICByZXN1bWU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFR1dG9yaWFsRW5naW5lIHtcbiAgc3RhcnQob3B0aW9ucz86IFN0YXJ0T3B0aW9ucyk6IHZvaWQ7XG4gIHJlc3RhcnQoKTogdm9pZDtcbiAgc3RvcCgpOiB2b2lkO1xuICBpc1J1bm5pbmcoKTogYm9vbGVhbjtcbiAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHV0b3JpYWxFbmdpbmUoeyBpZCwgYnVzLCByb2xlcywgc3RlcHMgfTogRW5naW5lT3B0aW9ucyk6IFR1dG9yaWFsRW5naW5lIHtcbiAgY29uc3QgaGlnaGxpZ2h0ZXI6IEhpZ2hsaWdodGVyID0gY3JlYXRlSGlnaGxpZ2h0ZXIoKTtcbiAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgbGV0IHBhdXNlZCA9IGZhbHNlO1xuICBsZXQgY3VycmVudEluZGV4ID0gLTE7XG4gIGxldCBjdXJyZW50U3RlcDogVHV0b3JpYWxTdGVwIHwgbnVsbCA9IG51bGw7XG4gIGxldCBjbGVhbnVwQ3VycmVudDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGxldCByZW5kZXJDdXJyZW50OiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgbGV0IGxhc3RTYXZlZENvbXBsZXRlZCA9IGZhbHNlO1xuICBsZXQgc3VwcHJlc3NQZXJzaXN0T25TdG9wID0gZmFsc2U7XG5cbiAgY29uc3QgcGVyc2lzdGVudExpc3RlbmVyczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcblxuICBwZXJzaXN0ZW50TGlzdGVuZXJzLnB1c2goXG4gICAgYnVzLm9uKFwiaGVscDp2aXNpYmxlQ2hhbmdlZFwiLCAoeyB2aXNpYmxlIH0pID0+IHtcbiAgICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgICAgcGF1c2VkID0gQm9vbGVhbih2aXNpYmxlKTtcbiAgICAgIGlmIChwYXVzZWQpIHtcbiAgICAgICAgaGlnaGxpZ2h0ZXIuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQ3VycmVudD8uKCk7XG4gICAgICB9XG4gICAgfSksXG4gICk7XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVRhcmdldChzdGVwOiBUdXRvcmlhbFN0ZXApOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIGlmICghc3RlcC50YXJnZXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0ZXAudGFyZ2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBzdGVwLnRhcmdldCgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Um9sZUVsZW1lbnQocm9sZXMsIHN0ZXAudGFyZ2V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYW1wSW5kZXgoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHN0ZXBzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5kZXgpIHx8IGluZGV4IDwgMCkgcmV0dXJuIDA7XG4gICAgaWYgKGluZGV4ID49IHN0ZXBzLmxlbmd0aCkgcmV0dXJuIHN0ZXBzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3RlcChpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN0ZXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29tcGxldGVUdXRvcmlhbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgY29tcGxldGVUdXRvcmlhbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjbGVhbnVwQ3VycmVudCkge1xuICAgICAgY2xlYW51cEN1cnJlbnQoKTtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFN0ZXApIHtcbiAgICAgIGN1cnJlbnRTdGVwLm9uRXhpdD8uKCk7XG4gICAgICBjdXJyZW50U3RlcCA9IG51bGw7XG4gICAgfVxuXG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2luZGV4XTtcbiAgICBjdXJyZW50U3RlcCA9IHN0ZXA7XG5cbiAgICBwZXJzaXN0UHJvZ3Jlc3MoaW5kZXgsIGZhbHNlKTtcblxuICAgIGJ1cy5lbWl0KFwidHV0b3JpYWw6c3RlcENoYW5nZWRcIiwgeyBpZCwgc3RlcEluZGV4OiBpbmRleCwgdG90YWw6IHN0ZXBzLmxlbmd0aCB9KTtcbiAgICBzdGVwLm9uRW50ZXI/LigpO1xuXG4gICAgY29uc3QgYWxsb3dTa2lwID0gc3RlcC5hbGxvd1NraXAgIT09IGZhbHNlO1xuICAgIGNvbnN0IHJlbmRlciA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICghcnVubmluZyB8fCBwYXVzZWQpIHJldHVybjtcbiAgICAgIGhpZ2hsaWdodGVyLnNob3coe1xuICAgICAgICB0YXJnZXQ6IHJlc29sdmVUYXJnZXQoc3RlcCksXG4gICAgICAgIHRpdGxlOiBzdGVwLnRpdGxlLFxuICAgICAgICBib2R5OiBzdGVwLmJvZHksXG4gICAgICAgIHN0ZXBJbmRleDogaW5kZXgsXG4gICAgICAgIHN0ZXBDb3VudDogc3RlcHMubGVuZ3RoLFxuICAgICAgICBzaG93TmV4dDogc3RlcC5hZHZhbmNlLmtpbmQgPT09IFwibWFudWFsXCIsXG4gICAgICAgIG5leHRMYWJlbDogc3RlcC5hZHZhbmNlLmtpbmQgPT09IFwibWFudWFsXCJcbiAgICAgICAgICA/IHN0ZXAuYWR2YW5jZS5uZXh0TGFiZWwgPz8gKGluZGV4ID09PSBzdGVwcy5sZW5ndGggLSAxID8gXCJGaW5pc2hcIiA6IFwiTmV4dFwiKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBvbk5leHQ6IHN0ZXAuYWR2YW5jZS5raW5kID09PSBcIm1hbnVhbFwiID8gYWR2YW5jZVN0ZXAgOiB1bmRlZmluZWQsXG4gICAgICAgIHNob3dTa2lwOiBhbGxvd1NraXAsXG4gICAgICAgIHNraXBMYWJlbDogc3RlcC5za2lwTGFiZWwsXG4gICAgICAgIG9uU2tpcDogYWxsb3dTa2lwID8gc2tpcEN1cnJlbnRTdGVwIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlbmRlckN1cnJlbnQgPSByZW5kZXI7XG4gICAgcmVuZGVyKCk7XG5cbiAgICBpZiAoc3RlcC5hZHZhbmNlLmtpbmQgPT09IFwiZXZlbnRcIikge1xuICAgICAgY29uc3QgaGFuZGxlciA9IChwYXlsb2FkOiB1bmtub3duKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICghcnVubmluZyB8fCBwYXVzZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHN0ZXAuYWR2YW5jZS53aGVuICYmICFzdGVwLmFkdmFuY2Uud2hlbihwYXlsb2FkKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhZHZhbmNlVG8oaW5kZXggKyAxKTtcbiAgICAgIH07XG4gICAgICBjbGVhbnVwQ3VycmVudCA9IGJ1cy5vbihzdGVwLmFkdmFuY2UuZXZlbnQsIGhhbmRsZXIgYXMgKHZhbHVlOiBuZXZlcikgPT4gdm9pZCk7XG4gICAgICBpZiAoc3RlcC5hZHZhbmNlLmNoZWNrICYmIHN0ZXAuYWR2YW5jZS5jaGVjaygpKSB7XG4gICAgICAgIGhhbmRsZXIodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYW51cEN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkdmFuY2VUbyhuZXh0SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIGlmIChjbGVhbnVwQ3VycmVudCkge1xuICAgICAgY2xlYW51cEN1cnJlbnQoKTtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICBjdXJyZW50U3RlcC5vbkV4aXQ/LigpO1xuICAgICAgY3VycmVudFN0ZXAgPSBudWxsO1xuICAgIH1cbiAgICByZW5kZXJDdXJyZW50ID0gbnVsbDtcbiAgICBpZiAobmV4dEluZGV4ID49IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgY29tcGxldGVUdXRvcmlhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTdGVwKG5leHRJbmRleCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWR2YW5jZVN0ZXAoKTogdm9pZCB7XG4gICAgYWR2YW5jZVRvKGN1cnJlbnRJbmRleCArIDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2tpcEN1cnJlbnRTdGVwKCk6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIGNvbnN0IG5leHRJbmRleCA9IGN1cnJlbnRJbmRleCA+PSAwID8gY3VycmVudEluZGV4ICsgMSA6IDA7XG4gICAgYWR2YW5jZVRvKG5leHRJbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZVR1dG9yaWFsKCk6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIHN1cHByZXNzUGVyc2lzdE9uU3RvcCA9IHRydWU7XG4gICAgcGVyc2lzdFByb2dyZXNzKHN0ZXBzLmxlbmd0aCwgdHJ1ZSk7XG4gICAgYnVzLmVtaXQoXCJ0dXRvcmlhbDpjb21wbGV0ZWRcIiwgeyBpZCB9KTtcbiAgICBzdG9wKCk7XG4gICAgc3VwcHJlc3NQZXJzaXN0T25TdG9wID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydChvcHRpb25zPzogU3RhcnRPcHRpb25zKTogdm9pZCB7XG4gICAgY29uc3QgcmVzdW1lID0gb3B0aW9ucz8ucmVzdW1lICE9PSBmYWxzZTtcbiAgICBpZiAocnVubmluZykge1xuICAgICAgcmVzdGFydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgIHN1cHByZXNzUGVyc2lzdE9uU3RvcCA9IGZhbHNlO1xuICAgIGxhc3RTYXZlZENvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGxldCBzdGFydEluZGV4ID0gMDtcbiAgICBpZiAocmVzdW1lKSB7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGxvYWRQcm9ncmVzcyhpZCk7XG4gICAgICBpZiAocHJvZ3Jlc3MgJiYgIXByb2dyZXNzLmNvbXBsZXRlZCkge1xuICAgICAgICBzdGFydEluZGV4ID0gY2xhbXBJbmRleChwcm9ncmVzcy5zdGVwSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhclByb2dyZXNzKGlkKTtcbiAgICB9XG4gICAgYnVzLmVtaXQoXCJ0dXRvcmlhbDpzdGFydGVkXCIsIHsgaWQgfSk7XG4gICAgc2V0U3RlcChzdGFydEluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3RhcnQoKTogdm9pZCB7XG4gICAgc3RvcCgpO1xuICAgIHN0YXJ0KHsgcmVzdW1lOiBmYWxzZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKTogdm9pZCB7XG4gICAgY29uc3Qgc2hvdWxkUGVyc2lzdCA9ICFzdXBwcmVzc1BlcnNpc3RPblN0b3AgJiYgcnVubmluZyAmJiAhbGFzdFNhdmVkQ29tcGxldGVkICYmIGN1cnJlbnRJbmRleCA+PSAwICYmIGN1cnJlbnRJbmRleCA8IHN0ZXBzLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleFRvUGVyc2lzdCA9IGN1cnJlbnRJbmRleDtcblxuICAgIGlmIChjbGVhbnVwQ3VycmVudCkge1xuICAgICAgY2xlYW51cEN1cnJlbnQoKTtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICBjdXJyZW50U3RlcC5vbkV4aXQ/LigpO1xuICAgICAgY3VycmVudFN0ZXAgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkUGVyc2lzdCkge1xuICAgICAgcGVyc2lzdFByb2dyZXNzKGluZGV4VG9QZXJzaXN0LCBmYWxzZSk7XG4gICAgfVxuICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICBjdXJyZW50SW5kZXggPSAtMTtcbiAgICByZW5kZXJDdXJyZW50ID0gbnVsbDtcbiAgICBoaWdobGlnaHRlci5oaWRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHJ1bm5pbmc7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCk6IHZvaWQge1xuICAgIHN0b3AoKTtcbiAgICBmb3IgKGNvbnN0IGRpc3Bvc2Ugb2YgcGVyc2lzdGVudExpc3RlbmVycykge1xuICAgICAgZGlzcG9zZSgpO1xuICAgIH1cbiAgICBoaWdobGlnaHRlci5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJzaXN0UHJvZ3Jlc3Moc3RlcEluZGV4OiBudW1iZXIsIGNvbXBsZXRlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGxhc3RTYXZlZENvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgICBzYXZlUHJvZ3Jlc3MoaWQsIHtcbiAgICAgIHN0ZXBJbmRleCxcbiAgICAgIGNvbXBsZXRlZCxcbiAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgcmVzdGFydCxcbiAgICBzdG9wLFxuICAgIGlzUnVubmluZyxcbiAgICBkZXN0cm95LFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgVHV0b3JpYWxTdGVwIH0gZnJvbSBcIi4vZW5naW5lXCI7XG5cbmZ1bmN0aW9uIGhhc1dheXBvaW50SW5kZXhBdExlYXN0KHBheWxvYWQ6IHVua25vd24sIG1pbkluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgaW5kZXggPSAocGF5bG9hZCBhcyB7IGluZGV4PzogdW5rbm93biB9KS5pbmRleDtcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzRmluaXRlKGluZGV4KSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaW5kZXggPj0gbWluSW5kZXg7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RSb3V0ZUlkKHBheWxvYWQ6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQgPT09IG51bGwpIHJldHVybiBudWxsO1xuICBjb25zdCByb3V0ZUlkID0gKHBheWxvYWQgYXMgeyByb3V0ZUlkPzogdW5rbm93biB9KS5yb3V0ZUlkO1xuICByZXR1cm4gdHlwZW9mIHJvdXRlSWQgPT09IFwic3RyaW5nXCIgPyByb3V0ZUlkIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcGF5bG9hZFRvb2xFcXVhbHModGFyZ2V0OiBzdHJpbmcpOiAocGF5bG9hZDogdW5rbm93bikgPT4gYm9vbGVhbiB7XG4gIHJldHVybiAocGF5bG9hZDogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdG9vbCA9IChwYXlsb2FkIGFzIHsgdG9vbD86IHVua25vd24gfSkudG9vbDtcbiAgICByZXR1cm4gdHlwZW9mIHRvb2wgPT09IFwic3RyaW5nXCIgJiYgdG9vbCA9PT0gdGFyZ2V0O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzaWNUdXRvcmlhbFN0ZXBzKCk6IFR1dG9yaWFsU3RlcFtdIHtcbiAgbGV0IHJvdXRlU3dpdGNoZXNTaW5jZUVudGVyID0gMDtcbiAgbGV0IGluaXRpYWxSb3V0ZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IG5ld1JvdXRlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1wbG90LXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwiY2FudmFzXCIsXG4gICAgICB0aXRsZTogXCJQbG90IGEgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiQ2xpY2sgb24gdGhlIG1hcCB0byBkcm9wIGF0IGxlYXN0IHRocmVlIHdheXBvaW50cyBhbmQgc2tldGNoIHlvdXIgY291cnNlLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6d2F5cG9pbnRBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4gaGFzV2F5cG9pbnRJbmRleEF0TGVhc3QocGF5bG9hZCwgMiksXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1jaGFuZ2Utc3BlZWRcIixcbiAgICAgIHRhcmdldDogXCJzaGlwU3BlZWRTbGlkZXJcIixcbiAgICAgIHRpdGxlOiBcIkFkanVzdCBzaGlwIHNwZWVkXCIsXG4gICAgICBib2R5OiBcIlVzZSB0aGUgU2hpcCBTcGVlZCBzbGlkZXIgKG9yIHByZXNzIFsgLyBdKSB0byBmaW5lLXR1bmUgeW91ciB0cmF2ZWwgc3BlZWQuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwic2hpcDpzcGVlZENoYW5nZWRcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzaGlwLXNlbGVjdC1sZWdcIixcbiAgICAgIHRhcmdldDogXCJzaGlwU2VsZWN0XCIsXG4gICAgICB0aXRsZTogXCJTZWxlY3QgYSByb3V0ZSBsZWdcIixcbiAgICAgIGJvZHk6IFwiU3dpdGNoIHRvIFNlbGVjdCBtb2RlIChUIGtleSkgYW5kIHRoZW4gY2xpY2sgYSB3YXlwb2ludCBvbiB0aGUgbWFwIHRvIGhpZ2hsaWdodCBpdHMgbGVnLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6bGVnU2VsZWN0ZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IGhhc1dheXBvaW50SW5kZXhBdExlYXN0KHBheWxvYWQsIDApLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImhlYXQtbWF0Y2gtbWFya2VyXCIsXG4gICAgICB0YXJnZXQ6IFwic3BlZWRNYXJrZXJcIixcbiAgICAgIHRpdGxlOiBcIk1hdGNoIHRoZSBtYXJrZXJcIixcbiAgICAgIGJvZHk6IFwiTGluZSB1cCB0aGUgU2hpcCBTcGVlZCBzbGlkZXIgd2l0aCB0aGUgdGljayB0byBjcnVpc2UgYXQgdGhlIG5ldXRyYWwgaGVhdCBzcGVlZC5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0Om1hcmtlckFsaWduZWRcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiaGVhdC1wdXNoLWhvdFwiLFxuICAgICAgdGFyZ2V0OiBcImhlYXRCYXJcIixcbiAgICAgIHRpdGxlOiBcIlNwcmludCBpbnRvIHRoZSByZWRcIixcbiAgICAgIGJvZHk6IFwiUHVzaCB0aGUgdGhyb3R0bGUgYWJvdmUgdGhlIG1hcmtlciBhbmQgd2F0Y2ggdGhlIGhlYXQgYmFyIHJlYWNoIHRoZSB3YXJuaW5nIGJhbmQuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDp3YXJuRW50ZXJlZFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJoZWF0LWNvb2wtZG93blwiLFxuICAgICAgdGFyZ2V0OiBcImhlYXRCYXJcIixcbiAgICAgIHRpdGxlOiBcIkNvb2wgaXQgYmFjayBkb3duXCIsXG4gICAgICBib2R5OiBcIkVhc2Ugb2ZmIGJlbG93IHRoZSBtYXJrZXIgdW50aWwgdGhlIGJhciBkcm9wcyBvdXQgb2YgdGhlIHdhcm5pbmcgem9uZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0OmNvb2xlZEJlbG93V2FyblwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJoZWF0LXRyaWdnZXItc3RhbGxcIixcbiAgICAgIHRhcmdldDogXCJoZWF0QmFyXCIsXG4gICAgICB0aXRsZTogXCJUcmlnZ2VyIGEgc3RhbGxcIixcbiAgICAgIGJvZHk6IFwiUHVzaCB3ZWxsIGFib3ZlIHRoZSBsaW1pdCBhbmQgaG9sZCBpdCB1bnRpbCB0aGUgb3ZlcmhlYXQgc3RhbGwgb3ZlcmxheSBhcHBlYXJzLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcImhlYXQ6c3RhbGxUcmlnZ2VyZWRcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiaGVhdC1yZWNvdmVyLXN0YWxsXCIsXG4gICAgICB0YXJnZXQ6IFwiaGVhdEJhclwiLFxuICAgICAgdGl0bGU6IFwiUmVjb3ZlciBmcm9tIHRoZSBzdGFsbFwiLFxuICAgICAgYm9keTogXCJIb2xkIHN0ZWFkeSB3aGlsZSBzeXN0ZW1zIGNvb2wuIE9uY2UgdGhlIG92ZXJsYXkgY2xlYXJzLCB5b3VcdTIwMTlyZSBiYWNrIG9ubGluZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0OnN0YWxsUmVjb3ZlcmVkXCIsXG4gICAgICB9LFxuICAgICAgYWxsb3dTa2lwOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImhlYXQtZHVhbC1iYXJzXCIsXG4gICAgICB0YXJnZXQ6IFwiaGVhdEJhclwiLFxuICAgICAgdGl0bGU6IFwiUmVhZCBib3RoIGhlYXQgYmFyc1wiLFxuICAgICAgYm9keTogXCJBZGp1c3QgYSB3YXlwb2ludCB0byBtYWtlIHRoZSBwbGFubmVkIGJhciBleHRlbmQgcGFzdCBsaXZlIGhlYXQuIFVzZSBpdCB0byBwcmVkaWN0IGZ1dHVyZSBvdmVybG9hZHMuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDpkdWFsTWV0ZXJEaXZlcmdlZFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzaGlwLWRlbGV0ZS1sZWdcIixcbiAgICAgIHRhcmdldDogXCJzaGlwRGVsZXRlXCIsXG4gICAgICB0aXRsZTogXCJEZWxldGUgYSByb3V0ZSBsZWdcIixcbiAgICAgIGJvZHk6IFwiUmVtb3ZlIHRoZSBzZWxlY3RlZCB3YXlwb2ludCB1c2luZyB0aGUgRGVsZXRlIGNvbnRyb2wgb3IgdGhlIERlbGV0ZSBrZXkuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwic2hpcDp3YXlwb2ludERlbGV0ZWRcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzaGlwLWNsZWFyLXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwic2hpcENsZWFyXCIsXG4gICAgICB0aXRsZTogXCJDbGVhciB0aGUgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiQ2xlYXIgcmVtYWluaW5nIHdheXBvaW50cyB0byByZXNldCB5b3VyIHBsb3R0ZWQgY291cnNlLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6Y2xlYXJJbnZva2VkXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1zZXQtbW9kZVwiLFxuICAgICAgdGFyZ2V0OiBcIm1pc3NpbGVTZXRcIixcbiAgICAgIHRpdGxlOiBcIlN3aXRjaCB0byBtaXNzaWxlIHBsYW5uaW5nXCIsXG4gICAgICBib2R5OiBcIlRhcCBTZXQgc28gZXZlcnkgY2xpY2sgZHJvcHMgbWlzc2lsZSB3YXlwb2ludHMgb24gdGhlIGFjdGl2ZSByb3V0ZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOnRvb2xDaGFuZ2VkXCIsXG4gICAgICAgIHdoZW46IHBheWxvYWRUb29sRXF1YWxzKFwic2V0XCIpLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtcGxvdC1pbml0aWFsXCIsXG4gICAgICB0YXJnZXQ6IFwiY2FudmFzXCIsXG4gICAgICB0aXRsZTogXCJQbG90IG1pc3NpbGUgd2F5cG9pbnRzXCIsXG4gICAgICBib2R5OiBcIkNsaWNrIHRoZSBtYXAgdG8gZHJvcCBhdCBsZWFzdCB0d28gZ3VpZGFuY2UgcG9pbnRzIGZvciB0aGUgY3VycmVudCBtaXNzaWxlIHJvdXRlLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGlmICghaGFzV2F5cG9pbnRJbmRleEF0TGVhc3QocGF5bG9hZCwgMSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKHJvdXRlSWQpIHtcbiAgICAgICAgICAgIGluaXRpYWxSb3V0ZUlkID0gcm91dGVJZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1sYXVuY2gtaW5pdGlhbFwiLFxuICAgICAgdGFyZ2V0OiBcIm1pc3NpbGVMYXVuY2hcIixcbiAgICAgIHRpdGxlOiBcIkxhdW5jaCB0aGUgc3RyaWtlXCIsXG4gICAgICBib2R5OiBcIlNlbmQgdGhlIHBsYW5uZWQgbWlzc2lsZSByb3V0ZSBsaXZlIHdpdGggdGhlIExhdW5jaCBjb250cm9sIChMIGtleSkuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTpsYXVuY2hSZXF1ZXN0ZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKCFyb3V0ZUlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxSb3V0ZUlkKSB7XG4gICAgICAgICAgICBpbml0aWFsUm91dGVJZCA9IHJvdXRlSWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJvdXRlSWQgPT09IGluaXRpYWxSb3V0ZUlkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtYWRkLXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwibWlzc2lsZUFkZFJvdXRlXCIsXG4gICAgICB0aXRsZTogXCJDcmVhdGUgYSBuZXcgbWlzc2lsZSByb3V0ZVwiLFxuICAgICAgYm9keTogXCJQcmVzcyBOZXcgdG8gYWRkIGEgc2Vjb25kIG1pc3NpbGUgcm91dGUgZm9yIGFub3RoZXIgc3RyaWtlIGdyb3VwLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6cm91dGVBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIXJvdXRlSWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBuZXdSb3V0ZUlkID0gcm91dGVJZDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLXBsb3QtbmV3LXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwiY2FudmFzXCIsXG4gICAgICB0aXRsZTogXCJQbG90IHRoZSBuZXcgbWlzc2lsZSByb3V0ZVwiLFxuICAgICAgYm9keTogXCJEcm9wIGF0IGxlYXN0IHR3byB3YXlwb2ludHMgb24gdGhlIG5ldyByb3V0ZSB0byBkZWZpbmUgaXRzIHBhdGguXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCIsXG4gICAgICAgIHdoZW46IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNXYXlwb2ludEluZGV4QXRMZWFzdChwYXlsb2FkLCAxKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAobmV3Um91dGVJZCAmJiByb3V0ZUlkICYmIHJvdXRlSWQgIT09IG5ld1JvdXRlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuZXdSb3V0ZUlkICYmIHJvdXRlSWQpIHtcbiAgICAgICAgICAgIG5ld1JvdXRlSWQgPSByb3V0ZUlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLWxhdW5jaC1uZXctcm91dGVcIixcbiAgICAgIHRhcmdldDogXCJtaXNzaWxlTGF1bmNoXCIsXG4gICAgICB0aXRsZTogXCJMYXVuY2ggdGhlIG5ldyByb3V0ZVwiLFxuICAgICAgYm9keTogXCJMYXVuY2ggdGhlIGZyZXNoIG1pc3NpbGUgcm91dGUgdG8gY29uZmlybSBpdHMgcGF0dGVybi5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIW5ld1JvdXRlSWQgfHwgIXJvdXRlSWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIHJldHVybiByb3V0ZUlkID09PSBuZXdSb3V0ZUlkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtc3dpdGNoLXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwicm91dGVOZXh0XCIsXG4gICAgICB0aXRsZTogXCJTd2l0Y2ggYmFjayB0byB0aGUgb3JpZ2luYWwgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiVXNlIHRoZSBcdTI1QzAgXHUyNUI2IGNvbnRyb2xzIChvciBUYWIvU2hpZnQrVGFiKSB0byBzZWxlY3QgeW91ciBmaXJzdCBtaXNzaWxlIHJvdXRlIGFnYWluLlwiLFxuICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICByb3V0ZVN3aXRjaGVzU2luY2VFbnRlciA9IDA7XG4gICAgICB9LFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6YWN0aXZlUm91dGVDaGFuZ2VkXCIsXG4gICAgICAgIHdoZW46IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgcm91dGVTd2l0Y2hlc1NpbmNlRW50ZXIgKz0gMTtcbiAgICAgICAgICBpZiAocm91dGVTd2l0Y2hlc1NpbmNlRW50ZXIgPCAxKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgY29uc3Qgcm91dGVJZCA9IGV4dHJhY3RSb3V0ZUlkKHBheWxvYWQpO1xuICAgICAgICAgIGlmICghaW5pdGlhbFJvdXRlSWQgfHwgIXJvdXRlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGVJZCA9PT0gaW5pdGlhbFJvdXRlSWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1sYXVuY2gtYWZ0ZXItc3dpdGNoXCIsXG4gICAgICB0YXJnZXQ6IFwibWlzc2lsZUxhdW5jaFwiLFxuICAgICAgdGl0bGU6IFwiTGF1bmNoIGZyb20gdGhlIG90aGVyIHJvdXRlXCIsXG4gICAgICBib2R5OiBcIkZpcmUgdGhlIG9yaWdpbmFsIG1pc3NpbGUgcm91dGUgdG8gcHJhY3RpY2Ugcm91bmQtcm9iaW4gc3RyaWtlcy5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxSb3V0ZUlkIHx8ICFyb3V0ZUlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcm91dGVJZCA9PT0gaW5pdGlhbFJvdXRlSWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwidHV0b3JpYWwtcHJhY3RpY2VcIixcbiAgICAgIHRhcmdldDogXCJzcGF3bkJvdFwiLFxuICAgICAgdGl0bGU6IFwiU3Bhd24gYSBwcmFjdGljZSBib3RcIixcbiAgICAgIGJvZHk6IFwiVXNlIHRoZSBCb3QgY29udHJvbCB0byBhZGQgYSB0YXJnZXQgYW5kIHJlaGVhcnNlIHRoZXNlIG1hbmV1dmVycyBpbiByZWFsIHRpbWUuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiYm90OnNwYXduUmVxdWVzdGVkXCIsXG4gICAgICB9LFxuICAgICAgYWxsb3dTa2lwOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInR1dG9yaWFsLWNvbXBsZXRlXCIsXG4gICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICB0aXRsZTogXCJZb3VcdTIwMTlyZSByZWFkeVwiLFxuICAgICAgYm9keTogXCJHcmVhdCB3b3JrLiBSZWxvYWQgdGhlIGNvbnNvbGUgb3IgcmVqb2luIGEgcm9vbSB0byByZXZpc2l0IHRoZXNlIGRyaWxscy5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJtYW51YWxcIixcbiAgICAgICAgbmV4dExhYmVsOiBcIkZpbmlzaFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgXTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHsgY3JlYXRlVHV0b3JpYWxFbmdpbmUgfSBmcm9tIFwiLi9lbmdpbmVcIjtcbmltcG9ydCB7IGNyZWF0ZVJvbGVzIH0gZnJvbSBcIi4vcm9sZXNcIjtcbmltcG9ydCB7IGdldEJhc2ljVHV0b3JpYWxTdGVwcyB9IGZyb20gXCIuL3N0ZXBzX2Jhc2ljXCI7XG5leHBvcnQgY29uc3QgQkFTSUNfVFVUT1JJQUxfSUQgPSBcInNoaXAtYmFzaWNzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHV0b3JpYWxDb250cm9sbGVyIHtcbiAgc3RhcnQob3B0aW9ucz86IHsgcmVzdW1lPzogYm9vbGVhbiB9KTogdm9pZDtcbiAgcmVzdGFydCgpOiB2b2lkO1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudFR1dG9yaWFsKGJ1czogRXZlbnRCdXMpOiBUdXRvcmlhbENvbnRyb2xsZXIge1xuICBjb25zdCByb2xlcyA9IGNyZWF0ZVJvbGVzKCk7XG4gIGNvbnN0IGVuZ2luZSA9IGNyZWF0ZVR1dG9yaWFsRW5naW5lKHtcbiAgICBpZDogQkFTSUNfVFVUT1JJQUxfSUQsXG4gICAgYnVzLFxuICAgIHJvbGVzLFxuICAgIHN0ZXBzOiBnZXRCYXNpY1R1dG9yaWFsU3RlcHMoKSxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydChvcHRpb25zKSB7XG4gICAgICBlbmdpbmUuc3RhcnQob3B0aW9ucyk7XG4gICAgfSxcbiAgICByZXN0YXJ0KCkge1xuICAgICAgZW5naW5lLnJlc3RhcnQoKTtcbiAgICB9LFxuICAgIGRlc3Ryb3koKSB7XG4gICAgICBlbmdpbmUuZGVzdHJveSgpO1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi4vc3RhdGVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2d1ZUNob2ljZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2d1ZUNvbnRlbnQge1xuICBzcGVha2VyOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgaW50ZW50PzogXCJmYWN0b3J5XCIgfCBcInVuaXRcIjtcbiAgY2hvaWNlcz86IERpYWxvZ3VlQ2hvaWNlW107XG4gIHR5cGluZ1NwZWVkTXM/OiBudW1iZXI7XG4gIG9uQ2hvaWNlPzogKGNob2ljZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uVGV4dEZ1bGx5UmVuZGVyZWQ/OiAoKSA9PiB2b2lkO1xuICBvbkNvbnRpbnVlPzogKCkgPT4gdm9pZDtcbiAgY29udGludWVMYWJlbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2d1ZU92ZXJsYXkge1xuICBzaG93KGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQ7XG4gIGhpZGUoKTogdm9pZDtcbiAgZGVzdHJveSgpOiB2b2lkO1xuICBpc1Zpc2libGUoKTogYm9vbGVhbjtcbn1cblxuY29uc3QgU1RZTEVfSUQgPSBcImRpYWxvZ3VlLW92ZXJsYXktc3R5bGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURpYWxvZ3VlT3ZlcmxheSgpOiBEaWFsb2d1ZU92ZXJsYXkge1xuICBlbnN1cmVTdHlsZXMoKTtcblxuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgb3ZlcmxheS5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLW92ZXJsYXlcIjtcbiAgb3ZlcmxheS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG5cbiAgY29uc3QgY29uc29sZUZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc29sZUZyYW1lLmNsYXNzTmFtZSA9IFwiZGlhbG9ndWUtY29uc29sZVwiO1xuXG4gIGNvbnN0IHNwZWFrZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHNwZWFrZXJMYWJlbC5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLXNwZWFrZXJcIjtcblxuICBjb25zdCB0ZXh0QmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0ZXh0QmxvY2suY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS10ZXh0XCI7XG5cbiAgY29uc3QgY3Vyc29yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGN1cnNvci5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLWN1cnNvclwiO1xuICBjdXJzb3IudGV4dENvbnRlbnQgPSBcIl9cIjtcblxuICBjb25zdCBjaG9pY2VzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgY2hvaWNlc0xpc3QuY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS1jaG9pY2VzIGhpZGRlblwiO1xuXG4gIGNvbnN0IGNvbnRpbnVlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgY29udGludWVCdXR0b24udHlwZSA9IFwiYnV0dG9uXCI7XG4gIGNvbnRpbnVlQnV0dG9uLmNsYXNzTmFtZSA9IFwiZGlhbG9ndWUtY29udGludWUgaGlkZGVuXCI7XG4gIGNvbnRpbnVlQnV0dG9uLnRleHRDb250ZW50ID0gXCJDb250aW51ZVwiO1xuXG4gIHRleHRCbG9jay5hcHBlbmQoY3Vyc29yKTtcbiAgY29uc29sZUZyYW1lLmFwcGVuZChzcGVha2VyTGFiZWwsIHRleHRCbG9jaywgY2hvaWNlc0xpc3QsIGNvbnRpbnVlQnV0dG9uKTtcbiAgb3ZlcmxheS5hcHBlbmQoY29uc29sZUZyYW1lKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBsZXQgdHlwaW5nSGFuZGxlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgbGV0IHRhcmdldFRleHQgPSBcIlwiO1xuICBsZXQgcmVuZGVyZWRDaGFycyA9IDA7XG4gIGxldCBhY3RpdmVDb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBjbGVhclR5cGluZygpOiB2b2lkIHtcbiAgICBpZiAodHlwaW5nSGFuZGxlICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHR5cGluZ0hhbmRsZSk7XG4gICAgICB0eXBpbmdIYW5kbGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFR5cGluZyhjb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICByZW5kZXJlZENoYXJzID0gdGFyZ2V0VGV4dC5sZW5ndGg7XG4gICAgdXBkYXRlVGV4dCgpO1xuICAgIGNsZWFyVHlwaW5nKCk7XG4gICAgY29udGVudC5vblRleHRGdWxseVJlbmRlcmVkPy4oKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29udGVudC5jaG9pY2VzKSB8fCBjb250ZW50LmNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzaG93Q29udGludWUoY29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGV4dCgpOiB2b2lkIHtcbiAgICBjb25zdCB0ZXh0VG9TaG93ID0gdGFyZ2V0VGV4dC5zbGljZSgwLCByZW5kZXJlZENoYXJzKTtcbiAgICB0ZXh0QmxvY2suaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gdGV4dFRvU2hvdztcbiAgICB0ZXh0QmxvY2suYXBwZW5kKHRleHROb2RlLCBjdXJzb3IpO1xuICAgIGN1cnNvci5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIsICF2aXNpYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckNob2ljZXMoY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG4gICAgY2hvaWNlc0xpc3QuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCBjaG9pY2VzID0gQXJyYXkuaXNBcnJheShjb250ZW50LmNob2ljZXMpID8gY29udGVudC5jaG9pY2VzIDogW107XG4gICAgaWYgKGNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjaG9pY2VzTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaG9pY2VzTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIGNob2ljZXMuZm9yRWFjaCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBidXR0b24udHlwZSA9IFwiYnV0dG9uXCI7XG4gICAgICBidXR0b24uZGF0YXNldC5jaG9pY2VJZCA9IGNob2ljZS5pZDtcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGAke2luZGV4ICsgMX0uICR7Y2hvaWNlLnRleHR9YDtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50Lm9uQ2hvaWNlPy4oY2hvaWNlLmlkKTtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5hcHBlbmQoYnV0dG9uKTtcbiAgICAgIGNob2ljZXNMaXN0LmFwcGVuZChpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dDb250aW51ZShjb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAoIWNvbnRlbnQub25Db250aW51ZSkge1xuICAgICAgY29udGludWVCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgIGNvbnRpbnVlQnV0dG9uLm9uY2xpY2sgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb250aW51ZUJ1dHRvbi50ZXh0Q29udGVudCA9IGNvbnRlbnQuY29udGludWVMYWJlbCA/PyBcIkNvbnRpbnVlXCI7XG4gICAgY29udGludWVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBjb250aW51ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgY29udGVudC5vbkNvbnRpbnVlPy4oKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVUeXBlKGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQge1xuICAgIGNsZWFyVHlwaW5nKCk7XG4gICAgY29uc3QgdHlwaW5nU3BlZWQgPSBjbGFtcChOdW1iZXIoY29udGVudC50eXBpbmdTcGVlZE1zKSB8fCAxOCwgOCwgNjQpO1xuICAgIGNvbnN0IHRpY2sgPSAoKTogdm9pZCA9PiB7XG4gICAgICByZW5kZXJlZENoYXJzID0gTWF0aC5taW4ocmVuZGVyZWRDaGFycyArIDEsIHRhcmdldFRleHQubGVuZ3RoKTtcbiAgICAgIHVwZGF0ZVRleHQoKTtcbiAgICAgIGlmIChyZW5kZXJlZENoYXJzID49IHRhcmdldFRleHQubGVuZ3RoKSB7XG4gICAgICAgIGNsZWFyVHlwaW5nKCk7XG4gICAgICAgIGNvbnRlbnQub25UZXh0RnVsbHlSZW5kZXJlZD8uKCk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjb250ZW50LmNob2ljZXMpIHx8IGNvbnRlbnQuY2hvaWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzaG93Q29udGludWUoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGluZ0hhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KHRpY2ssIHR5cGluZ1NwZWVkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHR5cGluZ0hhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KHRpY2ssIHR5cGluZ1NwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUgfHwgIWFjdGl2ZUNvbnRlbnQpIHJldHVybjtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWN0aXZlQ29udGVudC5jaG9pY2VzKSB8fCBhY3RpdmVDb250ZW50LmNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIiB8fCBldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAocmVuZGVyZWRDaGFycyA8IHRhcmdldFRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgZmluaXNoVHlwaW5nKGFjdGl2ZUNvbnRlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbnRlbnQub25Db250aW51ZT8uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChldmVudC5rZXksIDEwKTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGluZGV4KSAmJiBpbmRleCA+PSAxICYmIGluZGV4IDw9IGFjdGl2ZUNvbnRlbnQuY2hvaWNlcy5sZW5ndGgpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBjaG9pY2UgPSBhY3RpdmVDb250ZW50LmNob2ljZXNbaW5kZXggLSAxXTtcbiAgICAgIGFjdGl2ZUNvbnRlbnQub25DaG9pY2U/LihjaG9pY2UuaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIgJiYgcmVuZGVyZWRDaGFycyA8IHRhcmdldFRleHQubGVuZ3RoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmluaXNoVHlwaW5nKGFjdGl2ZUNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3coY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG4gICAgYWN0aXZlQ29udGVudCA9IGNvbnRlbnQ7XG4gICAgdmlzaWJsZSA9IHRydWU7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcbiAgICBvdmVybGF5LmRhdGFzZXQuaW50ZW50ID0gY29udGVudC5pbnRlbnQgPz8gXCJmYWN0b3J5XCI7XG4gICAgc3BlYWtlckxhYmVsLnRleHRDb250ZW50ID0gY29udGVudC5zcGVha2VyO1xuXG4gICAgdGFyZ2V0VGV4dCA9IGNvbnRlbnQudGV4dDtcbiAgICByZW5kZXJlZENoYXJzID0gMDtcbiAgICB1cGRhdGVUZXh0KCk7XG4gICAgcmVuZGVyQ2hvaWNlcyhjb250ZW50KTtcbiAgICBzaG93Q29udGludWUoY29udGVudCk7XG4gICAgc2NoZWR1bGVUeXBlKGNvbnRlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZSgpOiB2b2lkIHtcbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgYWN0aXZlQ29udGVudCA9IG51bGw7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICBjbGVhclR5cGluZygpO1xuICAgIHRhcmdldFRleHQgPSBcIlwiO1xuICAgIHJlbmRlcmVkQ2hhcnMgPSAwO1xuICAgIHRleHRCbG9jay5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHRleHRCbG9jay5hcHBlbmQoY3Vyc29yKTtcbiAgICBjaG9pY2VzTGlzdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNob2ljZXNMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgY29udGludWVCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBjb250aW51ZUJ1dHRvbi5vbmNsaWNrID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaGlkZSgpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcblxuICByZXR1cm4ge1xuICAgIHNob3csXG4gICAgaGlkZSxcbiAgICBkZXN0cm95LFxuICAgIGlzVmlzaWJsZSgpIHtcbiAgICAgIHJldHVybiB2aXNpYmxlO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVN0eWxlcygpOiB2b2lkIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFNUWUxFX0lEKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgc3R5bGUuaWQgPSBTVFlMRV9JRDtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgLmRpYWxvZ3VlLW92ZXJsYXkge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgaW5zZXQ6IDA7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiA2MDtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgZWFzZTtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLW92ZXJsYXkudmlzaWJsZSB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jb25zb2xlIHtcbiAgICAgIG1pbi13aWR0aDogMzIwcHg7XG4gICAgICBtYXgtd2lkdGg6IG1pbig1MjBweCwgY2FsYygxMDB2dyAtIDQ4cHgpKTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNiwgMTEsIDE2LCAwLjkyKTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zNSk7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgcGFkZGluZzogMThweCAyMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBnYXA6IDE0cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDI4cHggNjRweCByZ2JhKDIsIDYsIDE2LCAwLjYpO1xuICAgICAgY29sb3I6ICNlMmU4ZjA7XG4gICAgICBmb250LWZhbWlseTogXCJJQk0gUGxleCBNb25vXCIsIFwiSmV0QnJhaW5zIE1vbm9cIiwgdWktbW9ub3NwYWNlLCBTRk1vbm8tUmVndWxhciwgTWVubG8sIE1vbmFjbywgQ29uc29sYXMsIFwiTGliZXJhdGlvbiBNb25vXCIsIFwiQ291cmllciBOZXdcIiwgbW9ub3NwYWNlO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtb3ZlcmxheVtkYXRhLWludGVudD1cImZhY3RvcnlcIl0gLmRpYWxvZ3VlLWNvbnNvbGUge1xuICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU2LCAxODksIDI0OCwgMC40NSk7XG4gICAgICBib3gtc2hhZG93OiAwIDI4cHggNjRweCByZ2JhKDEzLCAxNDgsIDEzNiwgMC4zNSk7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1vdmVybGF5W2RhdGEtaW50ZW50PVwidW5pdFwiXSAuZGlhbG9ndWUtY29uc29sZSB7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoMjQ0LCAxMTQsIDE4MiwgMC40NSk7XG4gICAgICBib3gtc2hhZG93OiAwIDI4cHggNjRweCByZ2JhKDIzNiwgNzIsIDE1MywgMC4yOCk7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1zcGVha2VyIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjE2ZW07XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgY29sb3I6IHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC43NSk7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS10ZXh0IHtcbiAgICAgIG1pbi1oZWlnaHQ6IDkwcHg7XG4gICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICBsaW5lLWhlaWdodDogMS41NTtcbiAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLWN1cnNvciB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgYW5pbWF0aW9uOiBkaWFsb2d1ZS1jdXJzb3ItYmxpbmsgMS4ycyBzdGVwcygyLCBzdGFydCkgaW5maW5pdGU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jdXJzb3IuaGlkZGVuIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIHtcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBnYXA6IDhweDtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLWNob2ljZXMuaGlkZGVuIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIGJ1dHRvbixcbiAgICAuZGlhbG9ndWUtY29udGludWUge1xuICAgICAgZm9udDogaW5oZXJpdDtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zKTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQsIDM2LCA0OCwgMC44NSk7XG4gICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4xOHMgZWFzZSwgYm9yZGVyLWNvbG9yIDAuMThzIGVhc2U7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jb250aW51ZSB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jb250aW51ZS5oaWRkZW4ge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLWNob2ljZXMgYnV0dG9uOmhvdmVyLFxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIGJ1dHRvbjpmb2N1cy12aXNpYmxlLFxuICAgIC5kaWFsb2d1ZS1jb250aW51ZTpob3ZlcixcbiAgICAuZGlhbG9ndWUtY29udGludWU6Zm9jdXMtdmlzaWJsZSB7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjU1KTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDQ1LCA2MCwgMC45NSk7XG4gICAgICBvdXRsaW5lOiBub25lO1xuICAgIH1cbiAgICBAa2V5ZnJhbWVzIGRpYWxvZ3VlLWN1cnNvci1ibGluayB7XG4gICAgICAwJSwgNTAlIHsgb3BhY2l0eTogMTsgfVxuICAgICAgNTAuMDElLCAxMDAlIHsgb3BhY2l0eTogMDsgfVxuICAgIH1cbiAgYDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBEaWFsb2d1ZU92ZXJsYXkgfSBmcm9tIFwiLi9vdmVybGF5XCI7XG5pbXBvcnQgdHlwZSB7IERpYWxvZ3VlQ29udGVudCB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBzZW5kTWVzc2FnZSB9IGZyb20gXCIuLi9uZXRcIjtcblxuY29uc3QgTUlTU0lPTl9TVE9SWV9VUkwgPSBcIi9kYXRhL2NhbXBhaWduLTEtc3RvcnkuanNvblwiO1xuXG5pbnRlcmZhY2UgTWlzc2lvblN0b3J5Q2hvaWNlIHtcbiAgaWQ6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICBuZXh0OiBzdHJpbmcgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgTWlzc2lvblN0b3J5VHJpZ2dlciB7XG4gIGtpbmQ6IFwibWlzc2lvbi1ldmVudFwiO1xuICBldmVudDogc3RyaW5nO1xuICBtaXNzaW9uSWQ/OiBzdHJpbmc7XG4gIGJlYWNvbkluZGV4PzogbnVtYmVyO1xuICBkZWxheU1zPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgTWlzc2lvblN0b3J5Tm9kZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHNwZWFrZXI6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICBpbnRlbnQ/OiBcImZhY3RvcnlcIiB8IFwidW5pdFwiO1xuICB0cmlnZ2VyPzogTWlzc2lvblN0b3J5VHJpZ2dlcjtcbiAgdHV0b3JpYWxUaXA/OiB7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICB0ZXh0OiBzdHJpbmc7XG4gIH07XG4gIGF1dG9BZHZhbmNlPzogbnVtYmVyO1xuICB0eXBpbmdTcGVlZE1zPzogbnVtYmVyO1xuICBjb250aW51ZUxhYmVsPzogc3RyaW5nO1xuICBuZXh0Pzogc3RyaW5nIHwgbnVsbDtcbiAgY2hvaWNlcz86IE1pc3Npb25TdG9yeUNob2ljZVtdO1xuICBmbGFncz86IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgTWlzc2lvblN0b3J5RGVmaW5pdGlvbiB7XG4gIGNoYXB0ZXJJZDogc3RyaW5nO1xuICB0dXRvcmlhbElkPzogc3RyaW5nO1xuICBzdGFydE5vZGU/OiBzdHJpbmcgfCBudWxsO1xuICBub2RlczogUmVjb3JkPHN0cmluZywgTWlzc2lvblN0b3J5Tm9kZT47XG59XG5cbmludGVyZmFjZSBNaXNzaW9uRXZlbnRQYXJhbXMge1xuICBtaXNzaW9uSWQ/OiBzdHJpbmc7XG4gIGJlYWNvbkluZGV4PzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgU3RvcnlDb250cm9sbGVyT3B0aW9ucyB7XG4gIGJ1czogRXZlbnRCdXM7XG4gIG92ZXJsYXk6IERpYWxvZ3VlT3ZlcmxheTtcbiAgc3RhdGU6IEFwcFN0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3J5Q29udHJvbGxlciB7XG4gIHN0YXJ0KCk6IHZvaWQ7XG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuLyoqXG4gKiBTZXJ2ZXItZHJpdmVuIHN0b3J5IGNvbnRyb2xsZXIuXG4gKiBSZWFjdHMgdG8gc3Rvcnk6bm9kZUFjdGl2YXRlZCBldmVudHMgZnJvbSB0aGUgc2VydmVyIGFuZCBkaXNwbGF5cyBkaWFsb2d1ZS5cbiAqIFNlbmRzIGRhZ19zdG9yeV9hY2sgbWVzc2FnZXMgYmFjayB0byB0aGUgc2VydmVyIHdoZW4gZGlhbG9ndWUgaXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RvcnlDb250cm9sbGVyKHsgYnVzLCBvdmVybGF5LCBzdGF0ZSB9OiBTdG9yeUNvbnRyb2xsZXJPcHRpb25zKTogU3RvcnlDb250cm9sbGVyIHtcbiAgY29uc3QgbGlzdGVuZXJzOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBsZXQgdHV0b3JpYWxUaXBFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lvblN0b3J5UHJvbWlzZTogUHJvbWlzZTxNaXNzaW9uU3RvcnlEZWZpbml0aW9uIHwgbnVsbD4gfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3Npb25TdG9yeTogTWlzc2lvblN0b3J5RGVmaW5pdGlvbiB8IG51bGwgPSBudWxsO1xuICBjb25zdCBtaXNzaW9uU3RvcnlGbGFncyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBjb25zdCBtaXNzaW9uU3RvcnlRdWV1ZTogQXJyYXk8eyBub2RlSWQ6IHN0cmluZyB9PiA9IFtdO1xuICBjb25zdCBzaG93bk1pc3Npb25Ob2RlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBsZXQgYWN0aXZlTWlzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IGFjdGl2ZU1pc3Npb25Ob2RlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lvbkF1dG9BZHZhbmNlSGFuZGxlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBoYW5kbGVOb2RlQWN0aXZhdGVkKHsgbm9kZUlkLCBkaWFsb2d1ZSB9OiB7IG5vZGVJZDogc3RyaW5nOyBkaWFsb2d1ZT86IERpYWxvZ3VlQ29udGVudCB9KTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coXCJbc3RvcnldIE5vZGUgYWN0aXZhdGVkOlwiLCBub2RlSWQpO1xuXG4gICAgaWYgKCFkaWFsb2d1ZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIltzdG9yeV0gTm8gZGlhbG9ndWUgcHJvdmlkZWQgYnkgc2VydmVyIGZvcjpcIiwgbm9kZUlkKTtcbiAgICAgIC8vIEF1dG8tYWNrbm93bGVkZ2UgdG8gcHJldmVudCBibG9ja2luZyBwcm9ncmVzc2lvblxuICAgICAgYWNrbm93bGVkZ2VOb2RlKG5vZGVJZCwgbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgdGhlIG5vZGUgSUQgdG8gZXh0cmFjdCBjaGFwdGVyIGFuZCBub2RlIGluZm9cbiAgICAvLyBFeHBlY3RlZCBmb3JtYXQ6IFwic3RvcnkuPGNoYXB0ZXI+Ljxub2RlPlwiXG4gICAgY29uc3QgcGFydHMgPSBub2RlSWQuc3BsaXQoXCIuXCIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPCAzIHx8IHBhcnRzWzBdICE9PSBcInN0b3J5XCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltzdG9yeV0gSW52YWxpZCBub2RlIElEIGZvcm1hdDpcIiwgbm9kZUlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFwdGVyID0gcGFydHNbMV07XG4gICAgY29uc3Qgbm9kZSA9IHBhcnRzLnNsaWNlKDIpLmpvaW4oXCIuXCIpO1xuXG4gICAgc2hvd0RpYWxvZ3VlRm9yTm9kZShjaGFwdGVyLCBub2RlLCBub2RlSWQsIGRpYWxvZ3VlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dEaWFsb2d1ZUZvck5vZGUoY2hhcHRlcjogc3RyaW5nLCBub2RlOiBzdHJpbmcsIGZ1bGxOb2RlSWQ6IHN0cmluZywgY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG5cbiAgICAvLyBTaG93IHR1dG9yaWFsIHRpcCBpZiBwcmVzZW50XG4gICAgaWYgKGNvbnRlbnQudHV0b3JpYWxUaXApIHtcbiAgICAgIHNob3dUdXRvcmlhbFRpcChjb250ZW50LnR1dG9yaWFsVGlwKTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIG92ZXJsYXkgY29udGVudFxuICAgIGNvbnN0IG92ZXJsYXlDb250ZW50OiBhbnkgPSB7XG4gICAgICBzcGVha2VyOiBjb250ZW50LnNwZWFrZXIsXG4gICAgICB0ZXh0OiBjb250ZW50LnRleHQsXG4gICAgICBpbnRlbnQ6IGNvbnRlbnQuaW50ZW50LFxuICAgICAgY29udGludWVMYWJlbDogY29udGVudC5jb250aW51ZUxhYmVsLFxuICAgICAgdHlwaW5nU3BlZWRNczogY29udGVudC50eXBpbmdTcGVlZE1zLFxuICAgIH07XG5cbiAgICAvLyBBZGQgY2hvaWNlcyBpZiBwcmVzZW50XG4gICAgaWYgKGNvbnRlbnQuY2hvaWNlcyAmJiBjb250ZW50LmNob2ljZXMubGVuZ3RoID4gMCkge1xuICAgICAgb3ZlcmxheUNvbnRlbnQuY2hvaWNlcyA9IGNvbnRlbnQuY2hvaWNlcztcbiAgICAgIG92ZXJsYXlDb250ZW50Lm9uQ2hvaWNlID0gKGNob2ljZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaGlkZVR1dG9yaWFsVGlwKCk7XG4gICAgICAgIG92ZXJsYXkuaGlkZSgpO1xuICAgICAgICBhY2tub3dsZWRnZU5vZGUoZnVsbE5vZGVJZCwgY2hvaWNlSWQpO1xuICAgICAgICBidXMuZW1pdChcImRpYWxvZ3VlOmNsb3NlZFwiLCB7IG5vZGVJZDogbm9kZSwgY2hhcHRlcklkOiBjaGFwdGVyIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gY2hvaWNlcyAtIGp1c3QgY29udGludWVcbiAgICAgIG92ZXJsYXlDb250ZW50Lm9uQ29udGludWUgPSAoKSA9PiB7XG4gICAgICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgICAgICBvdmVybGF5LmhpZGUoKTtcbiAgICAgICAgYWNrbm93bGVkZ2VOb2RlKGZ1bGxOb2RlSWQsIG51bGwpO1xuICAgICAgICBidXMuZW1pdChcImRpYWxvZ3VlOmNsb3NlZFwiLCB7IG5vZGVJZDogbm9kZSwgY2hhcHRlcklkOiBjaGFwdGVyIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYXV0by1hZHZhbmNlXG4gICAgaWYgKGNvbnRlbnQuYXV0b0FkdmFuY2UpIHtcbiAgICAgIG92ZXJsYXlDb250ZW50Lm9uVGV4dEZ1bGx5UmVuZGVyZWQgPSAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgICAgICAgIG92ZXJsYXkuaGlkZSgpO1xuICAgICAgICAgIGFja25vd2xlZGdlTm9kZShmdWxsTm9kZUlkLCBudWxsKTtcbiAgICAgICAgICBidXMuZW1pdChcImRpYWxvZ3VlOmNsb3NlZFwiLCB7IG5vZGVJZDogbm9kZSwgY2hhcHRlcklkOiBjaGFwdGVyIH0pO1xuICAgICAgICB9LCBjb250ZW50LmF1dG9BZHZhbmNlLmRlbGF5TXMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBvdmVybGF5LnNob3cob3ZlcmxheUNvbnRlbnQpO1xuXG4gICAgYnVzLmVtaXQoXCJkaWFsb2d1ZTpvcGVuZWRcIiwgeyBub2RlSWQ6IG5vZGUsIGNoYXB0ZXJJZDogY2hhcHRlciB9KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRNaXNzaW9uU3RvcnkoKTogUHJvbWlzZTxNaXNzaW9uU3RvcnlEZWZpbml0aW9uIHwgbnVsbD4ge1xuICAgIGlmIChtaXNzaW9uU3RvcnkpIHtcbiAgICAgIHJldHVybiBtaXNzaW9uU3Rvcnk7XG4gICAgfVxuICAgIGlmIChtaXNzaW9uU3RvcnlQcm9taXNlKSB7XG4gICAgICByZXR1cm4gbWlzc2lvblN0b3J5UHJvbWlzZTtcbiAgICB9XG4gICAgbWlzc2lvblN0b3J5UHJvbWlzZSA9IGZldGNoKE1JU1NJT05fU1RPUllfVVJMKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgbWlzc2lvbiBzdG9yeTogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbigpIGFzIFByb21pc2U8dW5rbm93bj47XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHJhdykgPT4gbm9ybWFsaXplTWlzc2lvblN0b3J5KHJhdykpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW3N0b3J5XSBVbmFibGUgdG8gbG9hZCBtaXNzaW9uIHN0b3J5IGRlZmluaXRpb25cIiwgZXJyKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gYXdhaXQgbWlzc2lvblN0b3J5UHJvbWlzZTtcbiAgICBtaXNzaW9uU3RvcnkgPSBkZWZpbml0aW9uO1xuICAgIHJldHVybiBkZWZpbml0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWlzc2lvblN0b3J5KHJhdzogdW5rbm93bik6IE1pc3Npb25TdG9yeURlZmluaXRpb24gfCBudWxsIHtcbiAgICBpZiAoIXJhdyB8fCB0eXBlb2YgcmF3ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVjb3JkID0gcmF3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGNvbnN0IGNoYXB0ZXJJZCA9IHR5cGVvZiByZWNvcmQuY2hhcHRlcklkID09PSBcInN0cmluZ1wiID8gcmVjb3JkLmNoYXB0ZXJJZCA6IFwiY2FtcGFpZ24tMVwiO1xuICAgIGNvbnN0IHR1dG9yaWFsSWQgPSB0eXBlb2YgcmVjb3JkLnR1dG9yaWFsSWQgPT09IFwic3RyaW5nXCIgPyByZWNvcmQudHV0b3JpYWxJZCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzdGFydE5vZGUgPSB0eXBlb2YgcmVjb3JkLnN0YXJ0Tm9kZSA9PT0gXCJzdHJpbmdcIiA/IHJlY29yZC5zdGFydE5vZGUgOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qgbm9kZXNJbnB1dCA9IHJlY29yZC5ub2RlcztcbiAgICBpZiAoIW5vZGVzSW5wdXQgfHwgdHlwZW9mIG5vZGVzSW5wdXQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5vZGVzOiBSZWNvcmQ8c3RyaW5nLCBNaXNzaW9uU3RvcnlOb2RlPiA9IHt9O1xuICAgIGZvciAoY29uc3QgW25vZGVLZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhub2Rlc0lucHV0KSkge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlUmVjb3JkID0gdmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICBjb25zdCBpZCA9IHR5cGVvZiBub2RlUmVjb3JkLmlkID09PSBcInN0cmluZ1wiID8gbm9kZVJlY29yZC5pZCA6IG5vZGVLZXk7XG4gICAgICBjb25zdCBzcGVha2VyID0gdHlwZW9mIG5vZGVSZWNvcmQuc3BlYWtlciA9PT0gXCJzdHJpbmdcIiA/IG5vZGVSZWNvcmQuc3BlYWtlciA6IFwiU2hpcCBBSVwiO1xuICAgICAgY29uc3QgdGV4dCA9IHR5cGVvZiBub2RlUmVjb3JkLnRleHQgPT09IFwic3RyaW5nXCIgPyBub2RlUmVjb3JkLnRleHQgOiBcIlwiO1xuICAgICAgY29uc3QgaW50ZW50ID0gbm9kZVJlY29yZC5pbnRlbnQgPT09IFwidW5pdFwiID8gXCJ1bml0XCIgOiBcImZhY3RvcnlcIjtcbiAgICAgIGNvbnN0IHR5cGluZ1NwZWVkTXMgPSB0eXBlb2Ygbm9kZVJlY29yZC50eXBpbmdTcGVlZE1zID09PSBcIm51bWJlclwiID8gbm9kZVJlY29yZC50eXBpbmdTcGVlZE1zIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgY29udGludWVMYWJlbCA9IHR5cGVvZiBub2RlUmVjb3JkLmNvbnRpbnVlTGFiZWwgPT09IFwic3RyaW5nXCIgPyBub2RlUmVjb3JkLmNvbnRpbnVlTGFiZWwgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBhdXRvQWR2YW5jZSA9IHR5cGVvZiBub2RlUmVjb3JkLmF1dG9BZHZhbmNlID09PSBcIm51bWJlclwiID8gbm9kZVJlY29yZC5hdXRvQWR2YW5jZSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IG5leHQgPSB0eXBlb2Ygbm9kZVJlY29yZC5uZXh0ID09PSBcInN0cmluZ1wiXG4gICAgICAgID8gbm9kZVJlY29yZC5uZXh0XG4gICAgICAgIDogbm9kZVJlY29yZC5uZXh0ID09PSBudWxsXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBmbGFncyA9IEFycmF5LmlzQXJyYXkobm9kZVJlY29yZC5mbGFncykgPyBub2RlUmVjb3JkLmZsYWdzLm1hcChTdHJpbmcpIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgdHV0b3JpYWxUaXAgPSBub3JtYWxpemVUdXRvcmlhbFRpcChub2RlUmVjb3JkLnR1dG9yaWFsVGlwKTtcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSBub3JtYWxpemVNaXNzaW9uVHJpZ2dlcihub2RlUmVjb3JkLnRyaWdnZXIpO1xuICAgICAgY29uc3QgY2hvaWNlcyA9IG5vcm1hbGl6ZU1pc3Npb25DaG9pY2VzKGlkLCBub2RlUmVjb3JkLmNob2ljZXMpO1xuXG4gICAgICBub2Rlc1tpZF0gPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBzcGVha2VyLFxuICAgICAgICB0ZXh0LFxuICAgICAgICBpbnRlbnQsXG4gICAgICAgIHR5cGluZ1NwZWVkTXMsXG4gICAgICAgIGNvbnRpbnVlTGFiZWwsXG4gICAgICAgIGF1dG9BZHZhbmNlLFxuICAgICAgICBuZXh0LFxuICAgICAgICBmbGFncyxcbiAgICAgICAgdHV0b3JpYWxUaXAsXG4gICAgICAgIHRyaWdnZXIsXG4gICAgICAgIGNob2ljZXMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjaGFwdGVySWQsXG4gICAgICB0dXRvcmlhbElkLFxuICAgICAgc3RhcnROb2RlOiBzdGFydE5vZGUgPz8gbnVsbCxcbiAgICAgIG5vZGVzLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVUdXRvcmlhbFRpcChpbnB1dDogdW5rbm93bik6IHsgdGl0bGU6IHN0cmluZzsgdGV4dDogc3RyaW5nIH0gfCB1bmRlZmluZWQge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBcIk1pc3Npb24gVGlwXCIsXG4gICAgICAgIHRleHQ6IGlucHV0LFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgcmVjb3JkID0gaW5wdXQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICBjb25zdCB0ZXh0ID0gdHlwZW9mIHJlY29yZC50ZXh0ID09PSBcInN0cmluZ1wiID8gcmVjb3JkLnRleHQgOiBcIlwiO1xuICAgICAgY29uc3QgdGl0bGUgPSB0eXBlb2YgcmVjb3JkLnRpdGxlID09PSBcInN0cmluZ1wiID8gcmVjb3JkLnRpdGxlIDogXCJNaXNzaW9uIFRpcFwiO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4geyB0aXRsZSwgdGV4dCB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWlzc2lvblRyaWdnZXIoaW5wdXQ6IHVua25vd24pOiBNaXNzaW9uU3RvcnlUcmlnZ2VyIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIWlucHV0IHx8IHR5cGVvZiBpbnB1dCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgdHJpZ2dlciA9IGlucHV0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGlmICh0cmlnZ2VyLmtpbmQgIT09IFwibWlzc2lvbi1ldmVudFwiKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBldmVudCA9IHR5cGVvZiB0cmlnZ2VyLmV2ZW50ID09PSBcInN0cmluZ1wiID8gdHJpZ2dlci5ldmVudCA6IFwiXCI7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgbWlzc2lvbklkID0gdHlwZW9mIHRyaWdnZXIubWlzc2lvbklkID09PSBcInN0cmluZ1wiID8gdHJpZ2dlci5taXNzaW9uSWQgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgYmVhY29uSW5kZXggPSB0eXBlb2YgdHJpZ2dlci5iZWFjb25JbmRleCA9PT0gXCJudW1iZXJcIiA/IHRyaWdnZXIuYmVhY29uSW5kZXggOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgZGVsYXlNcyA9IHR5cGVvZiB0cmlnZ2VyLmRlbGF5TXMgPT09IFwibnVtYmVyXCIgPyB0cmlnZ2VyLmRlbGF5TXMgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IFwibWlzc2lvbi1ldmVudFwiLFxuICAgICAgZXZlbnQsXG4gICAgICBtaXNzaW9uSWQsXG4gICAgICBiZWFjb25JbmRleCxcbiAgICAgIGRlbGF5TXMsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1pc3Npb25DaG9pY2VzKG5vZGVJZDogc3RyaW5nLCBpbnB1dDogdW5rbm93bik6IE1pc3Npb25TdG9yeUNob2ljZVtdIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRcbiAgICAgIC5tYXAoKGNob2ljZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFjaG9pY2UgfHwgdHlwZW9mIGNob2ljZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGNob2ljZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgY29uc3QgdGV4dCA9IHR5cGVvZiByZWNvcmQudGV4dCA9PT0gXCJzdHJpbmdcIiA/IHJlY29yZC50ZXh0IDogXCJcIjtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWQgPSB0eXBlb2YgcmVjb3JkLmlkID09PSBcInN0cmluZ1wiID8gcmVjb3JkLmlkIDogYCR7bm9kZUlkfS1jaG9pY2UtJHtpbmRleH1gO1xuICAgICAgICBsZXQgbmV4dDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgcmVjb3JkLm5leHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBuZXh0ID0gcmVjb3JkLm5leHQ7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLm5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICBuZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgbmV4dCxcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChjaG9pY2UpOiBjaG9pY2UgaXMgTWlzc2lvblN0b3J5Q2hvaWNlID0+IEJvb2xlYW4oY2hvaWNlKSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldE1pc3Npb25TdG9yeVN0YXRlKCk6IHZvaWQge1xuICAgIG1pc3Npb25TdG9yeVF1ZXVlLnNwbGljZSgwLCBtaXNzaW9uU3RvcnlRdWV1ZS5sZW5ndGgpO1xuICAgIHNob3duTWlzc2lvbk5vZGVzLmNsZWFyKCk7XG4gICAgbWlzc2lvblN0b3J5RmxhZ3MuY2xlYXIoKTtcbiAgICBjbGVhck1pc3Npb25BdXRvQWR2YW5jZSgpO1xuICAgIGlmIChhY3RpdmVNaXNzaW9uTm9kZUlkKSB7XG4gICAgICBvdmVybGF5LmhpZGUoKTtcbiAgICB9XG4gICAgaGlkZVR1dG9yaWFsVGlwKCk7XG4gICAgYWN0aXZlTWlzc2lvbk5vZGVJZCA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBlbnF1ZXVlTWlzc2lvbk5vZGUobm9kZUlkOiBzdHJpbmcsIG9wdGlvbnM6IHsgZm9yY2U/OiBib29sZWFuIH0gPSB7fSk6IHZvaWQge1xuICAgIGlmICghbWlzc2lvblN0b3J5IHx8ICFtaXNzaW9uU3Rvcnkubm9kZXNbbm9kZUlkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZm9yY2UgJiYgc2hvd25NaXNzaW9uTm9kZXMuaGFzKG5vZGVJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1pc3Npb25TdG9yeVF1ZXVlLnNvbWUoKHBlbmRpbmcpID0+IHBlbmRpbmcubm9kZUlkID09PSBub2RlSWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1pc3Npb25TdG9yeVF1ZXVlLnB1c2goeyBub2RlSWQgfSk7XG4gICAgdHJ5U2hvd05leHRNaXNzaW9uTm9kZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5U2hvd05leHRNaXNzaW9uTm9kZSgpOiB2b2lkIHtcbiAgICBpZiAoYWN0aXZlTWlzc2lvbk5vZGVJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW1pc3Npb25TdG9yeVF1ZXVlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3ZlcmxheS5pc1Zpc2libGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXh0ID0gbWlzc2lvblN0b3J5UXVldWUuc2hpZnQoKTtcbiAgICBpZiAoIW5leHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlzcGxheU1pc3Npb25Ob2RlKG5leHQubm9kZUlkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlNaXNzaW9uTm9kZShub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghbWlzc2lvblN0b3J5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vZGUgPSBtaXNzaW9uU3Rvcnkubm9kZXNbbm9kZUlkXTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHRyeVNob3dOZXh0TWlzc2lvbk5vZGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhY3RpdmVNaXNzaW9uTm9kZUlkID0gbm9kZS5pZDtcbiAgICBzaG93bk1pc3Npb25Ob2Rlcy5hZGQobm9kZS5pZCk7XG5cbiAgICBpZiAobm9kZS50dXRvcmlhbFRpcCkge1xuICAgICAgc2hvd1R1dG9yaWFsVGlwKG5vZGUudHV0b3JpYWxUaXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlVHV0b3JpYWxUaXAoKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaG9pY2VzID0gQXJyYXkuaXNBcnJheShub2RlLmNob2ljZXMpXG4gICAgICA/IG5vZGUuY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4gKHtcbiAgICAgICAgaWQ6IGNob2ljZS5pZCxcbiAgICAgICAgdGV4dDogY2hvaWNlLnRleHQsXG4gICAgICB9KSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgY29udGVudDogRGlhbG9ndWVDb250ZW50ID0ge1xuICAgICAgc3BlYWtlcjogbm9kZS5zcGVha2VyLFxuICAgICAgdGV4dDogbm9kZS50ZXh0LFxuICAgICAgaW50ZW50OiBub2RlLmludGVudCxcbiAgICAgIHR5cGluZ1NwZWVkTXM6IG5vZGUudHlwaW5nU3BlZWRNcyxcbiAgICAgIGNob2ljZXMsXG4gICAgICBjb250aW51ZUxhYmVsOiBub2RlLmNvbnRpbnVlTGFiZWwsXG4gICAgfTtcblxuICAgIGlmICghY2hvaWNlcyB8fCBjaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGVudC5vbkNvbnRpbnVlID0gKCkgPT4ge1xuICAgICAgICBmaW5pc2hNaXNzaW9uTm9kZShub2RlKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQub25DaG9pY2UgPSAoY2hvaWNlSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IG5vZGUuY2hvaWNlcz8uZmluZCgoY2hvaWNlKSA9PiBjaG9pY2UuaWQgPT09IGNob2ljZUlkKTtcbiAgICAgICAgY29uc3QgbmV4dElkID0gcmVzb2x2ZWQ/Lm5leHQgPz8gbnVsbDtcbiAgICAgICAgZmluaXNoTWlzc2lvbk5vZGUobm9kZSwgbmV4dElkKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBub2RlLmF1dG9BZHZhbmNlID09PSBcIm51bWJlclwiICYmICghY2hvaWNlcyB8fCBjaG9pY2VzLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgIGNvbnRlbnQub25UZXh0RnVsbHlSZW5kZXJlZCA9ICgpID0+IHtcbiAgICAgICAgY2xlYXJNaXNzaW9uQXV0b0FkdmFuY2UoKTtcbiAgICAgICAgbWlzc2lvbkF1dG9BZHZhbmNlSGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGZpbmlzaE1pc3Npb25Ob2RlKG5vZGUpO1xuICAgICAgICB9LCBNYXRoLm1heCgwLCBub2RlLmF1dG9BZHZhbmNlID8/IDApKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3ZlcmxheS5zaG93KGNvbnRlbnQpO1xuICAgIGJ1cy5lbWl0KFwiZGlhbG9ndWU6b3BlbmVkXCIsIHsgbm9kZUlkOiBub2RlLmlkLCBjaGFwdGVySWQ6IG1pc3Npb25TdG9yeS5jaGFwdGVySWQgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhck1pc3Npb25BdXRvQWR2YW5jZSgpOiB2b2lkIHtcbiAgICBpZiAobWlzc2lvbkF1dG9BZHZhbmNlSGFuZGxlICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG1pc3Npb25BdXRvQWR2YW5jZUhhbmRsZSk7XG4gICAgICBtaXNzaW9uQXV0b0FkdmFuY2VIYW5kbGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaE1pc3Npb25Ob2RlKG5vZGU6IE1pc3Npb25TdG9yeU5vZGUsIG5leHRJZD86IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBjbGVhck1pc3Npb25BdXRvQWR2YW5jZSgpO1xuICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgIG92ZXJsYXkuaGlkZSgpO1xuICAgIGJ1cy5lbWl0KFwiZGlhbG9ndWU6Y2xvc2VkXCIsIHsgbm9kZUlkOiBub2RlLmlkLCBjaGFwdGVySWQ6IG1pc3Npb25TdG9yeT8uY2hhcHRlcklkID8/IFwiY2FtcGFpZ24tMVwiIH0pO1xuICAgIGFjdGl2ZU1pc3Npb25Ob2RlSWQgPSBudWxsO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5mbGFncykpIHtcbiAgICAgIG5vZGUuZmxhZ3MuZm9yRWFjaCgoZmxhZykgPT4gbWlzc2lvblN0b3J5RmxhZ3MuYWRkKGZsYWcpKTtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXROZXh0ID0gdHlwZW9mIG5leHRJZCA9PT0gXCJzdHJpbmdcIlxuICAgICAgPyBuZXh0SWRcbiAgICAgIDogbmV4dElkID09PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IG5vZGUubmV4dCA/PyBudWxsO1xuXG4gICAgaWYgKHRhcmdldE5leHQpIHtcbiAgICAgIGVucXVldWVNaXNzaW9uTm9kZSh0YXJnZXROZXh0LCB7IGZvcmNlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHRyeVNob3dOZXh0TWlzc2lvbk5vZGUoKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHRyaWdnZXJNaXNzaW9uU3RvcnkoZXZlbnQ6IHN0cmluZywgcGFyYW1zOiBNaXNzaW9uRXZlbnRQYXJhbXMgPSB7fSwgb3B0aW9uczogeyBmb3JjZT86IGJvb2xlYW4gfSA9IHt9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IGF3YWl0IGxvYWRNaXNzaW9uU3RvcnkoKTtcbiAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IGZpbmROb2RlQnlUcmlnZ2VyKGRlZmluaXRpb24sIGV2ZW50LCBwYXJhbXMpO1xuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbnF1ZXVlTWlzc2lvbk5vZGUobm9kZS5pZCwgeyBmb3JjZTogb3B0aW9ucy5mb3JjZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmROb2RlQnlUcmlnZ2VyKGRlZmluaXRpb246IE1pc3Npb25TdG9yeURlZmluaXRpb24sIGV2ZW50OiBzdHJpbmcsIHBhcmFtczogTWlzc2lvbkV2ZW50UGFyYW1zKTogTWlzc2lvblN0b3J5Tm9kZSB8IG51bGwge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBPYmplY3QudmFsdWVzKGRlZmluaXRpb24ubm9kZXMpKSB7XG4gICAgICBpZiAoIW5vZGUudHJpZ2dlciB8fCBub2RlLnRyaWdnZXIua2luZCAhPT0gXCJtaXNzaW9uLWV2ZW50XCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS50cmlnZ2VyLmV2ZW50ICE9PSBldmVudCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnRyaWdnZXIubWlzc2lvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbXBhcmVJZCA9IHBhcmFtcy5taXNzaW9uSWQgPz8gYWN0aXZlTWlzc2lvbklkO1xuICAgICAgICBpZiAoIWNvbXBhcmVJZCB8fCBub2RlLnRyaWdnZXIubWlzc2lvbklkICE9PSBjb21wYXJlSWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBub2RlLnRyaWdnZXIuYmVhY29uSW5kZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5iZWFjb25JbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUudHJpZ2dlci5iZWFjb25JbmRleCAhPT0gcGFyYW1zLmJlYWNvbkluZGV4KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNaXNzaW9uRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgbGlzdGVuZXJzLnB1c2goYnVzLm9uKFwibWlzc2lvbjpzdGFydFwiLCAoeyBtaXNzaW9uSWQgfSkgPT4ge1xuICAgICAgYWN0aXZlTWlzc2lvbklkID0gbWlzc2lvbklkID8/IGFjdGl2ZU1pc3Npb25JZDtcbiAgICAgIHJlc2V0TWlzc2lvblN0b3J5U3RhdGUoKTtcbiAgICAgIHRyaWdnZXJNaXNzaW9uU3RvcnkoXCJtaXNzaW9uOnN0YXJ0XCIsIHsgbWlzc2lvbklkIH0sIHsgZm9yY2U6IHRydWUgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH0pKTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGJ1cy5vbihcIm1pc3Npb246YmVhY29uLWxvY2tlZFwiLCAoeyBpbmRleCB9KSA9PiB7XG4gICAgICB0cmlnZ2VyTWlzc2lvblN0b3J5KFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCIsIHsgbWlzc2lvbklkOiBhY3RpdmVNaXNzaW9uSWQgPz8gdW5kZWZpbmVkLCBiZWFjb25JbmRleDogaW5kZXggfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH0pKTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGJ1cy5vbihcIm1pc3Npb246Y29tcGxldGVkXCIsICh7IG1pc3Npb25JZCB9KSA9PiB7XG4gICAgICB0cmlnZ2VyTWlzc2lvblN0b3J5KFwibWlzc2lvbjpjb21wbGV0ZWRcIiwgeyBtaXNzaW9uSWQ6IG1pc3Npb25JZCA/PyBhY3RpdmVNaXNzaW9uSWQgPz8gdW5kZWZpbmVkIH0sIHsgZm9yY2U6IHRydWUgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH0pKTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGJ1cy5vbihcIm1pc3Npb246ZmFpbGVkXCIsICh7IG1pc3Npb25JZCB9KSA9PiB7XG4gICAgICB0cmlnZ2VyTWlzc2lvblN0b3J5KFwibWlzc2lvbjpmYWlsZWRcIiwgeyBtaXNzaW9uSWQ6IG1pc3Npb25JZCA/PyBhY3RpdmVNaXNzaW9uSWQgPz8gdW5kZWZpbmVkIH0sIHsgZm9yY2U6IHRydWUgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dUdXRvcmlhbFRpcCh0aXA6IHsgdGl0bGU6IHN0cmluZzsgdGV4dDogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICBoaWRlVHV0b3JpYWxUaXAoKTtcblxuICAgIGNvbnN0IHRpcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGlwQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwic3RvcnktdHV0b3JpYWwtdGlwXCI7XG4gICAgdGlwQ29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdG9yeS10dXRvcmlhbC10aXAtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RvcnktdHV0b3JpYWwtdGlwLXRpdGxlXCI+JHtlc2NhcGVIdG1sKHRpcC50aXRsZSl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdG9yeS10dXRvcmlhbC10aXAtdGV4dFwiPiR7ZXNjYXBlSHRtbCh0aXAudGV4dCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGlwQ29udGFpbmVyKTtcbiAgICB0dXRvcmlhbFRpcEVsZW1lbnQgPSB0aXBDb250YWluZXI7XG5cbiAgICAvLyBFbnN1cmUgc3R5bGVzIGFyZSBsb2FkZWRcbiAgICBlbnN1cmVUdXRvcmlhbFRpcFN0eWxlcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZVR1dG9yaWFsVGlwKCk6IHZvaWQge1xuICAgIGlmICh0dXRvcmlhbFRpcEVsZW1lbnQpIHtcbiAgICAgIHR1dG9yaWFsVGlwRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIHR1dG9yaWFsVGlwRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuc3VyZVR1dG9yaWFsVGlwU3R5bGVzKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlSWQgPSBcInN0b3J5LXR1dG9yaWFsLXRpcC1zdHlsZXNcIjtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3R5bGVJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUuaWQgPSBzdHlsZUlkO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgLnN0b3J5LXR1dG9yaWFsLXRpcCB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiA4MHB4O1xuICAgICAgICByaWdodDogMjBweDtcbiAgICAgICAgbWF4LXdpZHRoOiAzMjBweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMywgMTQ4LCAxMzYsIDAuOTUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU2LCAxODksIDI0OCwgMC42KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBwYWRkaW5nOiAxNHB4IDE2cHg7XG4gICAgICAgIGNvbG9yOiAjZTJlOGYwO1xuICAgICAgICBmb250LWZhbWlseTogXCJJQk0gUGxleCBNb25vXCIsIFwiSmV0QnJhaW5zIE1vbm9cIiwgdWktbW9ub3NwYWNlLCBtb25vc3BhY2U7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgei1pbmRleDogNTU7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDI0cHggcmdiYSgyLCA2LCAxNiwgMC41KTtcbiAgICAgICAgYW5pbWF0aW9uOiBzdG9yeS10aXAtc2xpZGUtaW4gMC4zcyBlYXNlLW91dDtcbiAgICAgIH1cbiAgICAgIC5zdG9yeS10dXRvcmlhbC10aXAtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA4ZW07XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIGNvbG9yOiAjMzhiZGY4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICB9XG4gICAgICAuc3RvcnktdHV0b3JpYWwtdGlwLXRleHQge1xuICAgICAgICBjb2xvcjogI2YxZjVmOTtcbiAgICAgIH1cbiAgICAgIEBrZXlmcmFtZXMgc3RvcnktdGlwLXNsaWRlLWluIHtcbiAgICAgICAgZnJvbSB7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjBweCk7XG4gICAgICAgIH1cbiAgICAgICAgdG8ge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFja25vd2xlZGdlTm9kZShub2RlSWQ6IHN0cmluZywgY2hvaWNlSWQ6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBjb25zdCBtc2c6IHsgdHlwZTogc3RyaW5nOyBub2RlX2lkOiBzdHJpbmc7IGNob2ljZV9pZD86IHN0cmluZyB9ID0ge1xuICAgICAgdHlwZTogXCJkYWdfc3RvcnlfYWNrXCIsXG4gICAgICBub2RlX2lkOiBub2RlSWQsXG4gICAgfTtcbiAgICBpZiAoY2hvaWNlSWQpIHtcbiAgICAgIG1zZy5jaG9pY2VfaWQgPSBjaG9pY2VJZDtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobXNnKTtcbiAgICBjb25zb2xlLmxvZyhcIltzdG9yeV0gQWNrbm93bGVkZ2VkIG5vZGU6XCIsIG5vZGVJZCwgY2hvaWNlSWQgPyBgKGNob2ljZTogJHtjaG9pY2VJZH0pYCA6IFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coXCJbc3RvcnldIFN0YXJ0aW5nIHN0b3J5IGNvbnRyb2xsZXJcIik7XG4gICAgLy8gTGlzdGVuIGZvciBzdG9yeSBub2RlIGFjdGl2YXRpb24gZnJvbSB0aGUgc2VydmVyXG4gICAgbGlzdGVuZXJzLnB1c2goYnVzLm9uKFwic3Rvcnk6bm9kZUFjdGl2YXRlZFwiLCBoYW5kbGVOb2RlQWN0aXZhdGVkKSk7XG4gICAgbGlzdGVuZXJzLnB1c2goYnVzLm9uKFwiZGlhbG9ndWU6Y2xvc2VkXCIsICgpID0+IHRyeVNob3dOZXh0TWlzc2lvbk5vZGUoKSkpO1xuICAgIGluaXRNaXNzaW9uRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB2b2lkIGxvYWRNaXNzaW9uU3RvcnkoKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYWxyZWFkeSBhbiBhY3RpdmUgc3Rvcnkgbm9kZSBvbiBzdGFydHVwXG4gICAgaWYgKHN0YXRlLnN0b3J5Py5hY3RpdmVOb2RlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltzdG9yeV0gRm91bmQgYWN0aXZlIHN0b3J5IG5vZGUgb24gc3RhcnR1cDpcIiwgc3RhdGUuc3RvcnkuYWN0aXZlTm9kZSk7XG4gICAgICBoYW5kbGVOb2RlQWN0aXZhdGVkKHtcbiAgICAgICAgbm9kZUlkOiBzdGF0ZS5zdG9yeS5hY3RpdmVOb2RlLFxuICAgICAgICBkaWFsb2d1ZTogc3RhdGUuc3RvcnkuZGlhbG9ndWUgPz8gdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpOiB2b2lkIHtcbiAgICBoaWRlVHV0b3JpYWxUaXAoKTtcbiAgICBjbGVhck1pc3Npb25BdXRvQWR2YW5jZSgpO1xuICAgIG1pc3Npb25TdG9yeVF1ZXVlLnNwbGljZSgwLCBtaXNzaW9uU3RvcnlRdWV1ZS5sZW5ndGgpO1xuICAgIGFjdGl2ZU1pc3Npb25Ob2RlSWQgPSBudWxsO1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgbGlzdGVuZXJzLmxlbmd0aCA9IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIGRlc3Ryb3ksXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGNyZWF0ZURpYWxvZ3VlT3ZlcmxheSB9IGZyb20gXCIuL292ZXJsYXlcIjtcbmltcG9ydCB7IGNyZWF0ZVN0b3J5Q29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeUNvbnRyb2xsZXIge1xuICBkZXN0cm95KCk6IHZvaWQ7XG4gIHJlc2V0KCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNb3VudFN0b3J5T3B0aW9ucyB7XG4gIGJ1czogRXZlbnRCdXM7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgcm9vbUlkPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBNb3VudHMgdGhlIHNlcnZlci1kcml2ZW4gc3Rvcnkgc3lzdGVtLlxuICogU3RvcnkgcHJvZ3Jlc3Npb24gaXMgbm93IGNvbnRyb2xsZWQgYnkgdGhlIHNlcnZlciBEQUcsXG4gKiBhbmQgdGhpcyBjb250cm9sbGVyIHNpbXBseSBkaXNwbGF5cyBkaWFsb2d1ZSB3aGVuIG5vZGVzIGFyZSBhY3RpdmF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudFN0b3J5KHsgYnVzLCBzdGF0ZSB9OiBNb3VudFN0b3J5T3B0aW9ucyk6IFN0b3J5Q29udHJvbGxlciB7XG4gIGNvbnN0IG92ZXJsYXkgPSBjcmVhdGVEaWFsb2d1ZU92ZXJsYXkoKTtcbiAgY29uc3QgY29udHJvbGxlciA9IGNyZWF0ZVN0b3J5Q29udHJvbGxlcih7XG4gICAgYnVzLFxuICAgIG92ZXJsYXksXG4gICAgc3RhdGUsXG4gIH0pO1xuICBcbiAgY29udHJvbGxlci5zdGFydCgpO1xuXG4gIHJldHVybiB7XG4gICAgZGVzdHJveSgpIHtcbiAgICAgIGNvbnRyb2xsZXIuZGVzdHJveSgpO1xuICAgICAgb3ZlcmxheS5kZXN0cm95KCk7XG4gICAgfSxcbiAgICByZXNldCgpIHtcbiAgICAgIC8vIFJlc2V0IGlzIG5vIGxvbmdlciBuZWVkZWQgYXMgc3RhdGUgaXMgc2VydmVyLWF1dGhvcml0YXRpdmVcbiAgICAgIC8vIEJ1dCB3ZSBrZWVwIHRoZSBpbnRlcmZhY2UgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgIGNvbnNvbGUud2FybihcIltzdG9yeV0gcmVzZXQoKSBjYWxsZWQgYnV0IHN0b3J5IGlzIG5vdyBzZXJ2ZXItZHJpdmVuXCIpO1xuICAgIH0sXG4gIH07XG59XG5cbi8vIExlZ2FjeSBleHBvcnRzIGZvciBjb21wYXRpYmlsaXR5XG5leHBvcnQgY29uc3QgSU5UUk9fQ0hBUFRFUl9JRCA9IFwiaW50cm9cIjtcbmV4cG9ydCBjb25zdCBJTlRST19JTklUSUFMX1JFU1BPTlNFX0lEUyA9IFtcIjJBXCIsIFwiMkJcIiwgXCIyQ1wiXSBhcyBjb25zdDtcbiIsICIvLyBzcmMvc3RhcnQtZ2F0ZS50c1xuZXhwb3J0IHR5cGUgU3RhcnRHYXRlT3B0aW9ucyA9IHtcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIHJlcXVlc3RGdWxsc2NyZWVuPzogYm9vbGVhbjtcbiAgcmVzdW1lQXVkaW8/OiAoKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDsgLy8gZS5nLiwgZnJvbSBzdG9yeS9zZngudHNcbn07XG5cbmNvbnN0IFNUT1JBR0VfS0VZID0gXCJsc2Q6bXV0ZWRcIjtcblxuLy8gSGVscGVyOiBnZXQgdGhlIHNoYXJlZCBBdWRpb0NvbnRleHQgeW91IGV4cG9zZSBzb21ld2hlcmUgaW4geW91ciBhdWRpbyBlbmdpbmU6XG4vLyAgICh3aW5kb3cgYXMgYW55KS5MU0RfQVVESU9fQ1RYID0gY3R4O1xuZnVuY3Rpb24gZ2V0Q3R4KCk6IEF1ZGlvQ29udGV4dCB8IG51bGwge1xuICBjb25zdCBBQyA9ICh3aW5kb3cgYXMgYW55KS5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dDtcbiAgY29uc3QgY3R4ID0gKHdpbmRvdyBhcyBhbnkpLkxTRF9BVURJT19DVFg7XG4gIHJldHVybiBjdHggaW5zdGFuY2VvZiBBQyA/IGN0eCBhcyBBdWRpb0NvbnRleHQgOiBudWxsO1xufVxuXG5jbGFzcyBNdXRlTWFuYWdlciB7XG4gIHByaXZhdGUgYnV0dG9uczogSFRNTEJ1dHRvbkVsZW1lbnRbXSA9IFtdO1xuICBwcml2YXRlIGVuZm9yY2luZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIGtlZXAgVUkgaW4gc3luYyBpZiBzb21lb25lIGVsc2UgdG9nZ2xlc1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsc2Q6bXV0ZUNoYW5nZWRcIiwgKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbXV0ZWQgPSAhIWU/LmRldGFpbD8ubXV0ZWQ7XG4gICAgICB0aGlzLmFwcGx5VUkobXV0ZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNNdXRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpID09PSBcIjFcIjtcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZShtdXRlZDogYm9vbGVhbikge1xuICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBtdXRlZCA/IFwiMVwiIDogXCIwXCIpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGxhYmVsKGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQsIG11dGVkOiBib29sZWFuKSB7XG4gICAgYnRuLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCBTdHJpbmcobXV0ZWQpKTtcbiAgICBidG4udGl0bGUgPSBtdXRlZCA/IFwiVW5tdXRlIChNKVwiIDogXCJNdXRlIChNKVwiO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IG11dGVkID8gXCJcdUQ4M0RcdUREMDggVW5tdXRlXCIgOiBcIlx1RDgzRFx1REQwNyBNdXRlXCI7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5VUkobXV0ZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChiID0+IHRoaXMubGFiZWwoYiwgbXV0ZWQpKTtcbiAgfVxuXG4gIGF0dGFjaEJ1dHRvbihidG46IEhUTUxCdXR0b25FbGVtZW50KSB7XG4gICAgdGhpcy5idXR0b25zLnB1c2goYnRuKTtcbiAgICB0aGlzLmxhYmVsKGJ0biwgdGhpcy5pc011dGVkKCkpO1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy50b2dnbGUoKSk7XG4gIH1cblxuICBhc3luYyBzZXRNdXRlZChtdXRlZDogYm9vbGVhbikge1xuICAgIHRoaXMuc2F2ZShtdXRlZCk7XG4gICAgdGhpcy5hcHBseVVJKG11dGVkKTtcblxuICAgIGNvbnN0IGN0eCA9IGdldEN0eCgpO1xuICAgIGlmIChjdHgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChtdXRlZCAmJiBjdHguc3RhdGUgIT09IFwic3VzcGVuZGVkXCIpIHtcbiAgICAgICAgICBhd2FpdCBjdHguc3VzcGVuZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCFtdXRlZCAmJiBjdHguc3RhdGUgIT09IFwicnVubmluZ1wiKSB7XG4gICAgICAgICAgYXdhaXQgY3R4LnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlthdWRpb10gbXV0ZSB0b2dnbGUgZmFpbGVkOlwiLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImxzZDptdXRlQ2hhbmdlZFwiLCB7IGRldGFpbDogeyBtdXRlZCB9IH0pKTtcbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLnNldE11dGVkKCF0aGlzLmlzTXV0ZWQoKSk7XG4gIH1cblxuICAvLyBJZiBjdHggaXNuJ3QgY3JlYXRlZCB1bnRpbCBhZnRlciBTdGFydCwgZW5mb3JjZSBwZXJzaXN0ZWQgc3RhdGUgb25jZSBhdmFpbGFibGVcbiAgZW5mb3JjZU9uY2VXaGVuUmVhZHkoKSB7XG4gICAgaWYgKHRoaXMuZW5mb3JjaW5nKSByZXR1cm47XG4gICAgdGhpcy5lbmZvcmNpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHRpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjdHggPSBnZXRDdHgoKTtcbiAgICAgIGlmICghY3R4KSB7IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsgcmV0dXJuOyB9XG4gICAgICB0aGlzLnNldE11dGVkKHRoaXMuaXNNdXRlZCgpKTtcbiAgICB9O1xuICAgIHRpY2soKTtcbiAgfVxufVxuXG5jb25zdCBtdXRlTWdyID0gbmV3IE11dGVNYW5hZ2VyKCk7XG5cbi8vIEluc3RhbGwgYSBtdXRlIGJ1dHRvbiBpbiB0aGUgdG9wIGZyYW1lIChyaWdodCBzaWRlKSBpZiBwb3NzaWJsZS5cbmZ1bmN0aW9uIGVuc3VyZVRvcEZyYW1lTXV0ZUJ1dHRvbigpIHtcbiAgY29uc3QgdG9wUmlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvcC1yaWdodFwiKTtcbiAgaWYgKCF0b3BSaWdodCkgcmV0dXJuO1xuXG4gIC8vIEF2b2lkIGR1cGxpY2F0ZXNcbiAgaWYgKHRvcFJpZ2h0LnF1ZXJ5U2VsZWN0b3IoXCIjbXV0ZS10b3BcIikpIHJldHVybjtcblxuICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBidG4uaWQgPSBcIm11dGUtdG9wXCI7XG4gIGJ0bi5jbGFzc05hbWUgPSBcImdob3N0LWJ0biBzbWFsbFwiO1xuICBidG4uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwiZmFsc2VcIik7XG4gIGJ0bi50aXRsZSA9IFwiTXV0ZSAoTSlcIjtcbiAgYnRuLnRleHRDb250ZW50ID0gXCJcdUQ4M0RcdUREMDcgTXV0ZVwiO1xuICB0b3BSaWdodC5hcHBlbmRDaGlsZChidG4pO1xuICBtdXRlTWdyLmF0dGFjaEJ1dHRvbihidG4pO1xufVxuXG4vLyBHbG9iYWwga2V5Ym9hcmQgc2hvcnRjdXQgKE0pXG4oZnVuY3Rpb24gaW5zdGFsbE11dGVIb3RrZXkoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleT8udG9Mb3dlckNhc2UoKSA9PT0gXCJtXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG11dGVNZ3IudG9nZ2xlKCk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yVXNlclN0YXJ0KG9wdHM6IFN0YXJ0R2F0ZU9wdGlvbnMgPSB7fSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB7IGxhYmVsID0gXCJTdGFydCBHYW1lXCIsIHJlcXVlc3RGdWxsc2NyZWVuID0gZmFsc2UsIHJlc3VtZUF1ZGlvIH0gPSBvcHRzO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIC8vIG92ZXJsYXlcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBvdmVybGF5LmlkID0gXCJzdGFydC1vdmVybGF5XCI7XG4gICAgb3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGlkPVwic3RhcnQtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzdGFydC1idG5cIiBhcmlhLWxhYmVsPVwiJHtsYWJlbH1cIj4ke2xhYmVsfTwvYnV0dG9uPlxuICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDoxMHB4XCI+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cIm11dGUtYmVsb3ctc3RhcnRcIiBjbGFzcz1cImdob3N0LWJ0blwiIGFyaWEtcHJlc3NlZD1cImZhbHNlXCIgdGl0bGU9XCJNdXRlIChNKVwiPlx1RDgzRFx1REQwNyBNdXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cD4gT24gbW9iaWxlIHR1cm4gcGhvbmUgdG8gbGFuZHNjYXBlIGZvciBiZXN0IGV4cGVyaWVuY2UuIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICAgIC8vIHN0eWxlcyAobW92ZSB0byBDU1MgbGF0ZXIgaWYgeW91IHdhbnQpXG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAjc3RhcnQtb3ZlcmxheSB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IGNlbnRlciwgcmdiYSgwLDAsMCwwLjYpLCByZ2JhKDAsMCwwLDAuOSkpO1xuICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgfVxuICAgICAgI3N0YXJ0LWNvbnRhaW5lciB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgI3N0YXJ0LWJ0biB7XG4gICAgICAgIGZvbnQtc2l6ZTogMnJlbTsgcGFkZGluZzogMXJlbSAyLjVyZW07IGJvcmRlcjogMnB4IHNvbGlkICNmZmY7IGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogI2ZmZjsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEycyBlYXNlLCBiYWNrZ3JvdW5kIC4ycyBlYXNlLCBjb2xvciAuMnMgZWFzZTtcbiAgICAgIH1cbiAgICAgICNzdGFydC1idG46aG92ZXIgeyBiYWNrZ3JvdW5kOiAjZmZmOyBjb2xvcjogIzAwMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpOyB9XG4gICAgICAjc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxuICAgICAgI211dGUtYmVsb3ctc3RhcnQge1xuICAgICAgICBmb250LXNpemU6IDFyZW07IHBhZGRpbmc6IC41cmVtIDFyZW07IGJvcmRlci1yYWRpdXM6IDk5OXB4OyBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMzUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDMwLCA0MSwgNTksIDAuNzIpOyBjb2xvcjogI2Y4ZmFmYztcbiAgICAgIH1cbiAgICAgIC5naG9zdC1idG4uc21hbGwgeyBwYWRkaW5nOiA0cHggOHB4OyBmb250LXNpemU6IDExcHg7IH1cbiAgICBgO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgLy8gV2lyZSBvdmVybGF5IGJ1dHRvbnNcbiAgICBjb25zdCBzdGFydEJ0biA9IG92ZXJsYXkucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjc3RhcnQtYnRuXCIpITtcbiAgICBjb25zdCBtdXRlQmVsb3dTdGFydCA9IG92ZXJsYXkucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjbXV0ZS1iZWxvdy1zdGFydFwiKSE7XG4gICAgY29uc3QgdG9wTXV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXV0ZS10b3BcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGlmICh0b3BNdXRlKSBtdXRlTWdyLmF0dGFjaEJ1dHRvbih0b3BNdXRlKTtcbiAgICBtdXRlTWdyLmF0dGFjaEJ1dHRvbihtdXRlQmVsb3dTdGFydCk7XG5cbiAgICAvLyByZXN0b3JlIHBlcnNpc3RlZCBtdXRlIGxhYmVsIGltbWVkaWF0ZWx5XG4gICAgbXV0ZU1nci5lbmZvcmNlT25jZVdoZW5SZWFkeSgpO1xuXG4gICAgY29uc3Qgc3RhcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBhdWRpbyBmaXJzdCAodXNlciBnZXN0dXJlKVxuICAgICAgdHJ5IHsgYXdhaXQgcmVzdW1lQXVkaW8/LigpOyB9IGNhdGNoIHt9XG5cbiAgICAgIC8vIHJlc3BlY3QgcGVyc2lzdGVkIG11dGUgc3RhdGUgbm93IHRoYXQgY3R4IGxpa2VseSBleGlzdHNcbiAgICAgIG11dGVNZ3IuZW5mb3JjZU9uY2VXaGVuUmVhZHkoKTtcblxuICAgICAgLy8gb3B0aW9uYWwgZnVsbHNjcmVlblxuICAgICAgaWYgKHJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIHRyeSB7IGF3YWl0IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbj8uKCk7IH0gY2F0Y2gge31cbiAgICAgIH1cblxuICAgICAgLy8gY2xlYW51cCBvdmVybGF5XG4gICAgICBzdHlsZS5yZW1vdmUoKTtcbiAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGVuc3VyZSB0b3AtZnJhbWUgbXV0ZSBidXR0b24gZXhpc3RzIGFmdGVyIG92ZXJsYXlcbiAgICAgIGVuc3VyZVRvcEZyYW1lTXV0ZUJ1dHRvbigpO1xuXG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcblxuICAgIC8vIHN0YXJ0IGJ1dHRvblxuICAgIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzdGFydCwgeyBvbmNlOiB0cnVlIH0pO1xuXG4gICAgLy8gQWNjZXNzaWJpbGl0eTogYWxsb3cgRW50ZXIgLyBTcGFjZVxuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiIHx8IGUua2V5ID09PSBcIiBcIikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0YXJ0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGb2N1cyBmb3Iga2V5Ym9hcmQgdXNlcnNcbiAgICBzdGFydEJ0bi50YWJJbmRleCA9IDA7XG4gICAgc3RhcnRCdG4uZm9jdXMoKTtcblxuICAgIC8vIEFsc28gdHJ5IHRvIGNyZWF0ZSB0aGUgdG9wLWZyYW1lIG11dGUgaW1tZWRpYXRlbHkgaWYgRE9NIGlzIHJlYWR5XG4gICAgLy8gKElmICN0b3AtcmlnaHQgaXNuJ3QgdGhlcmUgeWV0LCBpdCdzIGhhcm1sZXNzOyB3ZSdsbCBhZGQgaXQgYWZ0ZXIgc3RhcnQgdG9vLilcbiAgICBlbnN1cmVUb3BGcmFtZU11dGVCdXR0b24oKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBQUk5HIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEF1ZGlvRW5naW5lIHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3Q6IEF1ZGlvRW5naW5lIHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIHJlYWRvbmx5IGN0eDogQXVkaW9Db250ZXh0O1xuICBwcml2YXRlIHJlYWRvbmx5IG1hc3RlcjogR2Fpbk5vZGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgbXVzaWNCdXM6IEdhaW5Ob2RlO1xuICBwcml2YXRlIHJlYWRvbmx5IHNmeEJ1czogR2Fpbk5vZGU7XG5cbiAgcHJpdmF0ZSBfdGFyZ2V0TWFzdGVyID0gMC45O1xuICBwcml2YXRlIF90YXJnZXRNdXNpYyA9IDAuOTtcbiAgcHJpdmF0ZSBfdGFyZ2V0U2Z4ID0gMC45O1xuXG4gIHN0YXRpYyBnZXQoKTogQXVkaW9FbmdpbmUge1xuICAgIGlmICghdGhpcy5faW5zdCkgdGhpcy5faW5zdCA9IG5ldyBBdWRpb0VuZ2luZSgpO1xuICAgIHJldHVybiB0aGlzLl9pbnN0O1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAod2luZG93IGFzIGFueSkuTFNEX0FVRElPX0NUWCA9ICh0aGlzIGFzIGFueSkuY3R4O1xuXG4gICAgdGhpcy5tYXN0ZXIgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogdGhpcy5fdGFyZ2V0TWFzdGVyIH0pO1xuICAgIHRoaXMubXVzaWNCdXMgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogdGhpcy5fdGFyZ2V0TXVzaWMgfSk7XG4gICAgdGhpcy5zZnhCdXMgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogdGhpcy5fdGFyZ2V0U2Z4IH0pO1xuXG4gICAgdGhpcy5tdXNpY0J1cy5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLnNmeEJ1cy5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLm1hc3Rlci5jb25uZWN0KHRoaXMuY3R4LmRlc3RpbmF0aW9uKTtcbiAgfVxuXG4gIGdldCBub3coKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jdHguY3VycmVudFRpbWU7XG4gIH1cblxuICBnZXRNdXNpY0J1cygpOiBHYWluTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMubXVzaWNCdXM7XG4gIH1cblxuICBnZXRTZnhCdXMoKTogR2Fpbk5vZGUge1xuICAgIHJldHVybiB0aGlzLnNmeEJ1cztcbiAgfVxuXG4gIGFzeW5jIHJlc3VtZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3R4LnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN1c3BlbmQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuY3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xuICAgICAgYXdhaXQgdGhpcy5jdHguc3VzcGVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIHNldE1hc3RlckdhaW4odjogbnVtYmVyLCB0ID0gdGhpcy5ub3csIHJhbXAgPSAwLjAzKTogdm9pZCB7XG4gICAgdGhpcy5fdGFyZ2V0TWFzdGVyID0gdjtcbiAgICB0aGlzLm1hc3Rlci5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICB0aGlzLm1hc3Rlci5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHYsIHQgKyByYW1wKTtcbiAgfVxuXG4gIHNldE11c2ljR2Fpbih2OiBudW1iZXIsIHQgPSB0aGlzLm5vdywgcmFtcCA9IDAuMDMpOiB2b2lkIHtcbiAgICB0aGlzLl90YXJnZXRNdXNpYyA9IHY7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICB0aGlzLm11c2ljQnVzLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodiwgdCArIHJhbXApO1xuICB9XG5cbiAgc2V0U2Z4R2Fpbih2OiBudW1iZXIsIHQgPSB0aGlzLm5vdywgcmFtcCA9IDAuMDMpOiB2b2lkIHtcbiAgICB0aGlzLl90YXJnZXRTZnggPSB2O1xuICAgIHRoaXMuc2Z4QnVzLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpO1xuICAgIHRoaXMuc2Z4QnVzLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodiwgdCArIHJhbXApO1xuICB9XG5cbiAgZHVja011c2ljKGxldmVsID0gMC40LCBhdHRhY2sgPSAwLjA1KTogdm9pZCB7XG4gICAgY29uc3QgdCA9IHRoaXMubm93O1xuICAgIHRoaXMubXVzaWNCdXMuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGxldmVsLCB0ICsgYXR0YWNrKTtcbiAgfVxuXG4gIHVuZHVja011c2ljKHJlbGVhc2UgPSAwLjI1KTogdm9pZCB7XG4gICAgY29uc3QgdCA9IHRoaXMubm93O1xuICAgIHRoaXMubXVzaWNCdXMuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RhcmdldE11c2ljLCB0ICsgcmVsZWFzZSk7XG4gIH1cbn1cblxuLy8gVGlueSBzZWVkYWJsZSBQUk5HIChNdWxiZXJyeTMyKVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQUk5HKHNlZWQ6IG51bWJlcik6IFBSTkcge1xuICBsZXQgcyA9IChzZWVkID4+PiAwKSB8fCAxO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHMgKz0gMHg2RDJCNzlGNTtcbiAgICBsZXQgdCA9IE1hdGguaW11bChzIF4gKHMgPj4+IDE1KSwgMSB8IHMpO1xuICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gKHQgPj4+IDcpLCA2MSB8IHQpO1xuICAgIHJldHVybiAoKHQgXiAodCA+Pj4gMTQpKSA+Pj4gMCkgLyA0Mjk0OTY3Mjk2O1xuICB9O1xufVxuIiwgIi8vIExvdy1sZXZlbCBncmFwaCBidWlsZGVycyAvIGhlbHBlcnNcblxuZXhwb3J0IGZ1bmN0aW9uIG9zYyhjdHg6IEF1ZGlvQ29udGV4dCwgdHlwZTogT3NjaWxsYXRvclR5cGUsIGZyZXE6IG51bWJlcikge1xuICByZXR1cm4gbmV3IE9zY2lsbGF0b3JOb2RlKGN0eCwgeyB0eXBlLCBmcmVxdWVuY3k6IGZyZXEgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub2lzZShjdHg6IEF1ZGlvQ29udGV4dCkge1xuICBjb25zdCBidWZmZXIgPSBjdHguY3JlYXRlQnVmZmVyKDEsIGN0eC5zYW1wbGVSYXRlICogMiwgY3R4LnNhbXBsZVJhdGUpO1xuICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIGRhdGFbaV0gPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7XG4gIHJldHVybiBuZXcgQXVkaW9CdWZmZXJTb3VyY2VOb2RlKGN0eCwgeyBidWZmZXIsIGxvb3A6IHRydWUgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFubmVyKGN0eDogQXVkaW9Db250ZXh0LCBwYW4gPSAwKSB7XG4gIHJldHVybiBuZXcgU3RlcmVvUGFubmVyTm9kZShjdHgsIHsgcGFuIH0pO1xufVxuXG4vKiogQmFzaWMgQURTUiBhcHBsaWVkIHRvIGEgR2Fpbk5vZGUgQXVkaW9QYXJhbS4gUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHJlbGVhc2UuICovXG5leHBvcnQgZnVuY3Rpb24gYWRzcihcbiAgY3R4OiBBdWRpb0NvbnRleHQsXG4gIHBhcmFtOiBBdWRpb1BhcmFtLFxuICB0MDogbnVtYmVyLFxuICBhID0gMC4wMSwgLy8gYXR0YWNrXG4gIGQgPSAwLjA4LCAvLyBkZWNheVxuICBzID0gMC41LCAgLy8gc3VzdGFpbiAoMC4uMSBvZiBwZWFrKVxuICByID0gMC4yLCAgLy8gcmVsZWFzZVxuICBwZWFrID0gMVxuKSB7XG4gIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0MCk7XG4gIHBhcmFtLnNldFZhbHVlQXRUaW1lKDAsIHQwKTtcbiAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUocGVhaywgdDAgKyBhKTtcbiAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUocyAqIHBlYWssIHQwICsgYSArIGQpO1xuICByZXR1cm4gKHJlbGVhc2VBdCA9IGN0eC5jdXJyZW50VGltZSkgPT4ge1xuICAgIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhyZWxlYXNlQXQpO1xuICAgIC8vIGF2b2lkIHN1ZGRlbiBqdW1wczsgY29udGludWUgZnJvbSBjdXJyZW50XG4gICAgcGFyYW0uc2V0VmFsdWVBdFRpbWUocGFyYW0udmFsdWUsIHJlbGVhc2VBdCk7XG4gICAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAxLCByZWxlYXNlQXQgKyByKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxmb1RvUGFyYW0oXG4gIGN0eDogQXVkaW9Db250ZXh0LFxuICB0YXJnZXQ6IEF1ZGlvUGFyYW0sXG4gIHsgZnJlcXVlbmN5ID0gMC4xLCBkZXB0aCA9IDMwMCwgdHlwZSA9IFwic2luZVwiIGFzIE9zY2lsbGF0b3JUeXBlIH0gPSB7fVxuKSB7XG4gIGNvbnN0IGxmbyA9IG5ldyBPc2NpbGxhdG9yTm9kZShjdHgsIHsgdHlwZSwgZnJlcXVlbmN5IH0pO1xuICBjb25zdCBhbXAgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IGRlcHRoIH0pO1xuICBsZm8uY29ubmVjdChhbXApLmNvbm5lY3QodGFyZ2V0KTtcbiAgcmV0dXJuIHtcbiAgICBzdGFydChhdCA9IGN0eC5jdXJyZW50VGltZSkgeyBsZm8uc3RhcnQoYXQpOyB9LFxuICAgIHN0b3AoYXQgPSBjdHguY3VycmVudFRpbWUpIHsgbGZvLnN0b3AoYXQpOyBhbXAuZGlzY29ubmVjdCgpOyB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4vZW5naW5lXCI7XG5pbXBvcnQgeyBhZHNyLCBtYWtlUGFubmVyLCBub2lzZSwgb3NjIH0gZnJvbSBcIi4vZ3JhcGhcIjtcbmltcG9ydCB0eXBlIHsgU2Z4TmFtZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKiBGaXJlLWFuZC1mb3JnZXQgU0ZYIGJ5IG5hbWUsIHdpdGggc2ltcGxlIHBhcmFtcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbGF5U2Z4KFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICBuYW1lOiBTZnhOYW1lLFxuICBvcHRzOiB7IHZlbG9jaXR5PzogbnVtYmVyOyBwYW4/OiBudW1iZXIgfSA9IHt9XG4pIHtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSBcImxhc2VyXCI6IHJldHVybiBwbGF5TGFzZXIoZW5naW5lLCBvcHRzKTtcbiAgICBjYXNlIFwidGhydXN0XCI6IHJldHVybiBwbGF5VGhydXN0KGVuZ2luZSwgb3B0cyk7XG4gICAgY2FzZSBcImV4cGxvc2lvblwiOiByZXR1cm4gcGxheUV4cGxvc2lvbihlbmdpbmUsIG9wdHMpO1xuICAgIGNhc2UgXCJsb2NrXCI6IHJldHVybiBwbGF5TG9jayhlbmdpbmUsIG9wdHMpO1xuICAgIGNhc2UgXCJ1aVwiOiByZXR1cm4gcGxheVVpKGVuZ2luZSwgb3B0cyk7XG4gICAgY2FzZSBcImRpYWxvZ3VlXCI6IHJldHVybiBwbGF5RGlhbG9ndWUoZW5naW5lLCBvcHRzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheUxhc2VyKFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICB7IHZlbG9jaXR5ID0gMSwgcGFuID0gMCB9ID0ge31cbikge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBvID0gb3NjKGN0eCwgXCJzcXVhcmVcIiwgNjgwICsgMTYwICogdmVsb2NpdHkpO1xuICBjb25zdCBmID0gbmV3IEJpcXVhZEZpbHRlck5vZGUoY3R4LCB7IHR5cGU6IFwibG93cGFzc1wiLCBmcmVxdWVuY3k6IDEyMDAgfSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBvLmNvbm5lY3QoZikuY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMDIsIDAuMDMsIDAuMjUsIDAuMDgsIDAuNjUpO1xuICBvLnN0YXJ0KG5vdyk7XG4gIHJlbGVhc2Uobm93ICsgMC4wNik7XG4gIG8uc3RvcChub3cgKyAwLjIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVRocnVzdChcbiAgZW5naW5lOiBBdWRpb0VuZ2luZSxcbiAgeyB2ZWxvY2l0eSA9IDAuNiwgcGFuID0gMCB9ID0ge31cbikge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBuID0gbm9pc2UoY3R4KTtcbiAgY29uc3QgZiA9IG5ldyBCaXF1YWRGaWx0ZXJOb2RlKGN0eCwge1xuICAgIHR5cGU6IFwiYmFuZHBhc3NcIixcbiAgICBmcmVxdWVuY3k6IDE4MCArIDM2MCAqIHZlbG9jaXR5LFxuICAgIFE6IDEuMSxcbiAgfSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBuLmNvbm5lY3QoZikuY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMTIsIDAuMTUsIDAuNzUsIDAuMjUsIDAuNDUgKiB2ZWxvY2l0eSk7XG4gIG4uc3RhcnQobm93KTtcbiAgcmVsZWFzZShub3cgKyAwLjI1KTtcbiAgbi5zdG9wKG5vdyArIDEuMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5RXhwbG9zaW9uKFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICB7IHZlbG9jaXR5ID0gMSwgcGFuID0gMCB9ID0ge31cbikge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBuID0gbm9pc2UoY3R4KTtcbiAgY29uc3QgZiA9IG5ldyBCaXF1YWRGaWx0ZXJOb2RlKGN0eCwge1xuICAgIHR5cGU6IFwibG93cGFzc1wiLFxuICAgIGZyZXF1ZW5jeTogMjIwMCAqIE1hdGgubWF4KDAuMiwgTWF0aC5taW4odmVsb2NpdHksIDEpKSxcbiAgICBROiAwLjIsXG4gIH0pO1xuICBjb25zdCBnID0gbmV3IEdhaW5Ob2RlKGN0eCwgeyBnYWluOiAwIH0pO1xuICBjb25zdCBwID0gbWFrZVBhbm5lcihjdHgsIHBhbik7XG5cbiAgbi5jb25uZWN0KGYpLmNvbm5lY3QoZykuY29ubmVjdChwKS5jb25uZWN0KG91dCk7XG4gIGNvbnN0IHJlbGVhc2UgPSBhZHNyKGN0eCwgZy5nYWluLCBub3csIDAuMDA1LCAwLjA4LCAwLjUsIDAuMzUsIDEuMSAqIHZlbG9jaXR5KTtcbiAgbi5zdGFydChub3cpO1xuICByZWxlYXNlKG5vdyArIDAuMTUgKyAwLjEgKiB2ZWxvY2l0eSk7XG4gIG4uc3RvcChub3cgKyAxLjIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheUxvY2soXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIHsgdmVsb2NpdHkgPSAxLCBwYW4gPSAwIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IGJhc2UgPSA1MjAgKyAxNDAgKiB2ZWxvY2l0eTtcbiAgY29uc3QgbzEgPSBvc2MoY3R4LCBcInNpbmVcIiwgYmFzZSk7XG4gIGNvbnN0IG8yID0gb3NjKGN0eCwgXCJzaW5lXCIsIGJhc2UgKiAxLjUpO1xuXG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBvMS5jb25uZWN0KGcpOyBvMi5jb25uZWN0KGcpO1xuICBnLmNvbm5lY3QocCkuY29ubmVjdChvdXQpO1xuXG4gIGNvbnN0IHJlbGVhc2UgPSBhZHNyKGN0eCwgZy5nYWluLCBub3csIDAuMDAxLCAwLjAyLCAwLjAsIDAuMTIsIDAuNik7XG4gIG8xLnN0YXJ0KG5vdyk7IG8yLnN0YXJ0KG5vdyArIDAuMDIpO1xuICByZWxlYXNlKG5vdyArIDAuMDYpO1xuICBvMS5zdG9wKG5vdyArIDAuMik7IG8yLnN0b3Aobm93ICsgMC4yMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5VWkoZW5naW5lOiBBdWRpb0VuZ2luZSwgeyB2ZWxvY2l0eSA9IDEsIHBhbiA9IDAgfSA9IHt9KSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IG8gPSBvc2MoY3R4LCBcInRyaWFuZ2xlXCIsIDg4MCAtIDEyMCAqIHZlbG9jaXR5KTtcbiAgY29uc3QgZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMCB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG8uY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMDEsIDAuMDQsIDAuMCwgMC4wOCwgMC4zNSk7XG4gIG8uc3RhcnQobm93KTtcbiAgcmVsZWFzZShub3cgKyAwLjA1KTtcbiAgby5zdG9wKG5vdyArIDAuMTgpO1xufVxuXG4vKiogRGlhbG9ndWUgY3VlIHVzZWQgYnkgdGhlIHN0b3J5IG92ZXJsYXkgKHNob3J0LCBnZW50bGUgcGluZykuICovXG5leHBvcnQgZnVuY3Rpb24gcGxheURpYWxvZ3VlKGVuZ2luZTogQXVkaW9FbmdpbmUsIHsgdmVsb2NpdHkgPSAxLCBwYW4gPSAwIH0gPSB7fSkge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBmcmVxID0gNDgwICsgMTYwICogdmVsb2NpdHk7XG4gIGNvbnN0IG8gPSBvc2MoY3R4LCBcInNpbmVcIiwgZnJlcSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAuMDAwMSB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG8uY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDAwMSwgbm93KTtcbiAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wNCwgbm93ICsgMC4wMik7XG4gIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAwNSwgbm93ICsgMC4yOCk7XG5cbiAgby5zdGFydChub3cpO1xuICBvLnN0b3Aobm93ICsgMC4zKTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFN0b3J5SW50ZW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4uL2F1ZGlvL2VuZ2luZVwiO1xuaW1wb3J0IHsgcGxheURpYWxvZ3VlIGFzIHBsYXlEaWFsb2d1ZVNmeCB9IGZyb20gXCIuLi9hdWRpby9zZnhcIjtcblxubGV0IGxhc3RQbGF5ZWRBdCA9IDA7XG5cbi8vIE1haW50YWluIHRoZSBvbGQgcHVibGljIEFQSSBzbyBlbmdpbmUudHMgZG9lc24ndCBjaGFuZ2VcbmV4cG9ydCBmdW5jdGlvbiBnZXRBdWRpb0NvbnRleHQoKTogQXVkaW9Db250ZXh0IHtcbiAgcmV0dXJuIEF1ZGlvRW5naW5lLmdldCgpLmN0eDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc3VtZUF1ZGlvKCk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBBdWRpb0VuZ2luZS5nZXQoKS5yZXN1bWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlEaWFsb2d1ZUN1ZShpbnRlbnQ6IFN0b3J5SW50ZW50KTogdm9pZCB7XG4gIGNvbnN0IGVuZ2luZSA9IEF1ZGlvRW5naW5lLmdldCgpO1xuICBjb25zdCBub3cgPSBlbmdpbmUubm93O1xuXG4gIC8vIFRocm90dGxlIHJhcGlkIGN1ZXMgdG8gYXZvaWQgY2x1dHRlclxuICBpZiAobm93IC0gbGFzdFBsYXllZEF0IDwgMC4xKSByZXR1cm47XG4gIGxhc3RQbGF5ZWRBdCA9IG5vdztcblxuICAvLyBNYXAgXCJmYWN0b3J5XCIgdnMgb3RoZXJzIHRvIGEgc2xpZ2h0bHkgZGlmZmVyZW50IHZlbG9jaXR5IChicmlnaHRuZXNzKVxuICBjb25zdCB2ZWxvY2l0eSA9IGludGVudCA9PT0gXCJmYWN0b3J5XCIgPyAwLjggOiAwLjU7XG4gIHBsYXlEaWFsb2d1ZVNmeChlbmdpbmUsIHsgdmVsb2NpdHksIHBhbjogMCB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1c3BlbmREaWFsb2d1ZUF1ZGlvKCk6IHZvaWQge1xuICB2b2lkIEF1ZGlvRW5naW5lLmdldCgpLnN1c3BlbmQoKTtcbn1cbiIsICJpbXBvcnQgeyBtYWtlUFJORyB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcblxuZXhwb3J0IHR5cGUgQW1iaWVudFBhcmFtcyA9IHtcbiAgaW50ZW5zaXR5OiBudW1iZXI7ICAvLyBvdmVyYWxsIGxvdWRuZXNzIC8gZW5lcmd5ICgwLi4xKVxuICBicmlnaHRuZXNzOiBudW1iZXI7IC8vIGZpbHRlciBvcGVubmVzcyAmIGNob3JkIHRpbWJyZSAoMC4uMSlcbiAgZGVuc2l0eTogbnVtYmVyOyAgICAvLyBjaG9yZCBzcGF3biByYXRlIC8gdGhpY2tuZXNzICgwLi4xKVxufTtcblxudHlwZSBNb2RlTmFtZSA9IFwiSW9uaWFuXCIgfCBcIkRvcmlhblwiIHwgXCJQaHJ5Z2lhblwiIHwgXCJMeWRpYW5cIiB8IFwiTWl4b2x5ZGlhblwiIHwgXCJBZW9saWFuXCIgfCBcIkxvY3JpYW5cIjtcblxuY29uc3QgTU9ERVM6IFJlY29yZDxNb2RlTmFtZSwgbnVtYmVyW10+ID0ge1xuICBJb25pYW46ICAgICBbMCwyLDQsNSw3LDksMTFdLFxuICBEb3JpYW46ICAgICBbMCwyLDMsNSw3LDksMTBdLFxuICBQaHJ5Z2lhbjogICBbMCwxLDMsNSw3LDgsMTBdLFxuICBMeWRpYW46ICAgICBbMCwyLDQsNiw3LDksMTFdLFxuICBNaXhvbHlkaWFuOiBbMCwyLDQsNSw3LDksMTBdLFxuICBBZW9saWFuOiAgICBbMCwyLDMsNSw3LDgsMTBdLFxuICBMb2NyaWFuOiAgICBbMCwxLDMsNSw2LDgsMTBdLFxufTtcblxuLy8gTXVzaWNhbCBjb25zdGFudHMgdHVuZWQgdG8gbWF0Y2ggdGhlIEhUTUwgdmVyc2lvblxuY29uc3QgUk9PVF9NQVhfR0FJTiAgICAgPSAwLjMzO1xuY29uc3QgUk9PVF9TV0VMTF9USU1FICAgPSAyMDtcbmNvbnN0IERST05FX1NISUZUX01JTl9TID0gMjQ7XG5jb25zdCBEUk9ORV9TSElGVF9NQVhfUyA9IDQ4O1xuY29uc3QgRFJPTkVfR0xJREVfTUlOX1MgPSA4O1xuY29uc3QgRFJPTkVfR0xJREVfTUFYX1MgPSAxNTtcblxuY29uc3QgQ0hPUkRfVk9JQ0VTX01BWCAgPSA1O1xuY29uc3QgQ0hPUkRfRkFERV9NSU5fUyAgPSA4O1xuY29uc3QgQ0hPUkRfRkFERV9NQVhfUyAgPSAxNjtcbmNvbnN0IENIT1JEX0hPTERfTUlOX1MgID0gMTA7XG5jb25zdCBDSE9SRF9IT0xEX01BWF9TICA9IDIyO1xuY29uc3QgQ0hPUkRfR0FQX01JTl9TICAgPSA0O1xuY29uc3QgQ0hPUkRfR0FQX01BWF9TICAgPSA5O1xuY29uc3QgQ0hPUkRfQU5DSE9SX1BST0IgPSAwLjY7IC8vIHByZWZlciBhbGlnbmluZyBjaG9yZCByb290IHRvIGRyb25lXG5cbmNvbnN0IEZJTFRFUl9CQVNFX0haICAgID0gMjIwO1xuY29uc3QgRklMVEVSX1BFQUtfSFogICAgPSA0MjAwO1xuY29uc3QgU1dFRVBfU0VHX1MgICAgICAgPSAzMDsgIC8vIHVwIHRoZW4gZG93biwgdmVyeSBzbG93XG5jb25zdCBMRk9fUkFURV9IWiAgICAgICA9IDAuMDU7XG5jb25zdCBMRk9fREVQVEhfSFogICAgICA9IDkwMDtcblxuY29uc3QgREVMQVlfVElNRV9TICAgICAgPSAwLjQ1O1xuY29uc3QgRkVFREJBQ0tfR0FJTiAgICAgPSAwLjM1O1xuY29uc3QgV0VUX01JWCAgICAgICAgICAgPSAwLjI4O1xuXG4vLyBkZWdyZWUgcHJlZmVyZW5jZSBmb3IgZHJvbmUgbW92ZXM6IDEsNSwzLDYsMiw0LDcgKGluZGV4ZXMgMC4uNilcbmNvbnN0IFBSRUZFUlJFRF9ERUdSRUVfT1JERVIgPSBbMCw0LDIsNSwxLDMsNl07XG5cbi8qKiBVdGlsaXR5ICovXG5jb25zdCBjbGFtcDAxID0gKHg6IG51bWJlcikgPT4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgeCkpO1xuY29uc3QgcmFuZCA9IChybmc6ICgpID0+IG51bWJlciwgYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKyBybmcoKSAqIChiIC0gYSk7XG5jb25zdCBjaG9pY2UgPSA8VCw+KHJuZzogKCkgPT4gbnVtYmVyLCBhcnI6IFRbXSkgPT4gYXJyW01hdGguZmxvb3Iocm5nKCkgKiBhcnIubGVuZ3RoKV07XG5cbmNvbnN0IG1pZGlUb0ZyZXEgPSAobTogbnVtYmVyKSA9PiA0NDAgKiBNYXRoLnBvdygyLCAobSAtIDY5KSAvIDEyKTtcblxuLyoqIEEgc2luZ2xlIHN0ZWFkeSBvc2NpbGxhdG9yIHZvaWNlIHdpdGggc2hpbW1lciBkZXR1bmUgYW5kIGdhaW4gZW52ZWxvcGUuICovXG5jbGFzcyBWb2ljZSB7XG4gIHByaXZhdGUga2lsbGVkID0gZmFsc2U7XG4gIHByaXZhdGUgc2hpbW1lcjogT3NjaWxsYXRvck5vZGU7XG4gIHByaXZhdGUgc2hpbW1lckdhaW46IEdhaW5Ob2RlO1xuICBwcml2YXRlIHNjYWxlOiBHYWluTm9kZTtcbiAgcHVibGljIGc6IEdhaW5Ob2RlO1xuICBwdWJsaWMgb3NjOiBPc2NpbGxhdG9yTm9kZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGN0eDogQXVkaW9Db250ZXh0LFxuICAgIHByaXZhdGUgdGFyZ2V0R2FpbjogbnVtYmVyLFxuICAgIHdhdmVmb3JtOiBPc2NpbGxhdG9yVHlwZSxcbiAgICBmcmVxSHo6IG51bWJlcixcbiAgICBkZXN0aW5hdGlvbjogQXVkaW9Ob2RlLFxuICAgIHJuZzogKCkgPT4gbnVtYmVyXG4gICl7XG4gICAgdGhpcy5vc2MgPSBuZXcgT3NjaWxsYXRvck5vZGUoY3R4LCB7IHR5cGU6IHdhdmVmb3JtLCBmcmVxdWVuY3k6IGZyZXFIeiB9KTtcblxuICAgIC8vIHN1YnRsZSBzaGltbWVyIHZpYSBkZXR1bmUgbW9kdWxhdGlvblxuICAgIHRoaXMuc2hpbW1lciA9IG5ldyBPc2NpbGxhdG9yTm9kZShjdHgsIHsgdHlwZTogXCJzaW5lXCIsIGZyZXF1ZW5jeTogcmFuZChybmcsIDAuMDYsIDAuMTgpIH0pO1xuICAgIHRoaXMuc2hpbW1lckdhaW4gPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IHJhbmQocm5nLCAwLjQsIDEuMikgfSk7XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMjUgfSk7IC8vIGNlbnRzIHJhbmdlXG4gICAgdGhpcy5zaGltbWVyLmNvbm5lY3QodGhpcy5zaGltbWVyR2FpbikuY29ubmVjdCh0aGlzLnNjYWxlKS5jb25uZWN0KHRoaXMub3NjLmRldHVuZSk7XG5cbiAgICB0aGlzLmcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gICAgdGhpcy5vc2MuY29ubmVjdCh0aGlzLmcpLmNvbm5lY3QoZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5vc2Muc3RhcnQoKTtcbiAgICB0aGlzLnNoaW1tZXIuc3RhcnQoKTtcbiAgfVxuXG4gIGZhZGVJbihzZWNvbmRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgICB0aGlzLmcuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMobm93KTtcbiAgICB0aGlzLmcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0aGlzLmcuZ2Fpbi52YWx1ZSwgbm93KTtcbiAgICB0aGlzLmcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLnRhcmdldEdhaW4sIG5vdyArIHNlY29uZHMpO1xuICB9XG5cbiAgZmFkZU91dEtpbGwoc2Vjb25kczogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMua2lsbGVkKSByZXR1cm47XG4gICAgdGhpcy5raWxsZWQgPSB0cnVlO1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuY3R4LmN1cnJlbnRUaW1lO1xuICAgIHRoaXMuZy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhub3cpO1xuICAgIHRoaXMuZy5nYWluLnNldFZhbHVlQXRUaW1lKHRoaXMuZy5nYWluLnZhbHVlLCBub3cpO1xuICAgIHRoaXMuZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAwMSwgbm93ICsgc2Vjb25kcyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0b3AoKSwgc2Vjb25kcyAqIDEwMDAgKyA2MCk7XG4gIH1cblxuICBzZXRGcmVxR2xpZGUodGFyZ2V0SHo6IG51bWJlciwgZ2xpZGVTZWNvbmRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgICAvLyBleHBvbmVudGlhbCB3aGVuIHBvc3NpYmxlIGZvciBzbW9vdGhuZXNzXG4gICAgY29uc3QgY3VycmVudCA9IE1hdGgubWF4KDAuMDAwMSwgdGhpcy5vc2MuZnJlcXVlbmN5LnZhbHVlKTtcbiAgICB0aGlzLm9zYy5mcmVxdWVuY3kuY2FuY2VsU2NoZWR1bGVkVmFsdWVzKG5vdyk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMub3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZShjdXJyZW50LCBub3cpO1xuICAgICAgdGhpcy5vc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodGFyZ2V0SHosIG5vdyArIGdsaWRlU2Vjb25kcyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aGlzLm9zYy5mcmVxdWVuY3kubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGFyZ2V0SHosIG5vdyArIGdsaWRlU2Vjb25kcyk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0cnkgeyB0aGlzLm9zYy5zdG9wKCk7IHRoaXMuc2hpbW1lci5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICB0cnkge1xuICAgICAgdGhpcy5vc2MuZGlzY29ubmVjdCgpOyB0aGlzLnNoaW1tZXIuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5nLmRpc2Nvbm5lY3QoKTsgdGhpcy5zaGltbWVyR2Fpbi5kaXNjb25uZWN0KCk7IHRoaXMuc2NhbGUuZGlzY29ubmVjdCgpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQW1iaWVudFNjZW5lIHtcbiAgcHJpdmF0ZSBydW5uaW5nID0gZmFsc2U7XG4gIHByaXZhdGUgc3RvcEZuczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgcHJpdmF0ZSB0aW1lb3V0czogbnVtYmVyW10gPSBbXTtcblxuICBwcml2YXRlIHBhcmFtczogQW1iaWVudFBhcmFtcyA9IHsgaW50ZW5zaXR5OiAwLjc1LCBicmlnaHRuZXNzOiAwLjUsIGRlbnNpdHk6IDAuNiB9O1xuXG4gIHByaXZhdGUgcm5nOiAoKSA9PiBudW1iZXI7XG4gIHByaXZhdGUgbWFzdGVyITogR2Fpbk5vZGU7XG4gIHByaXZhdGUgZmlsdGVyITogQmlxdWFkRmlsdGVyTm9kZTtcbiAgcHJpdmF0ZSBkcnkhOiBHYWluTm9kZTtcbiAgcHJpdmF0ZSB3ZXQhOiBHYWluTm9kZTtcbiAgcHJpdmF0ZSBkZWxheSE6IERlbGF5Tm9kZTtcbiAgcHJpdmF0ZSBmZWVkYmFjayE6IEdhaW5Ob2RlO1xuXG4gIHByaXZhdGUgbGZvTm9kZT86IE9zY2lsbGF0b3JOb2RlO1xuICBwcml2YXRlIGxmb0dhaW4/OiBHYWluTm9kZTtcblxuICAvLyBtdXNpY2FsIHN0YXRlXG4gIHByaXZhdGUga2V5Um9vdE1pZGkgPSA0MztcbiAgcHJpdmF0ZSBtb2RlOiBNb2RlTmFtZSA9IFwiSW9uaWFuXCI7XG4gIHByaXZhdGUgZHJvbmVEZWdyZWVJZHggPSAwO1xuICBwcml2YXRlIHJvb3RWb2ljZTogVm9pY2UgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGN0eDogQXVkaW9Db250ZXh0LFxuICAgIHByaXZhdGUgb3V0OiBHYWluTm9kZSxcbiAgICBzZWVkID0gMVxuICApIHtcbiAgICB0aGlzLnJuZyA9IG1ha2VQUk5HKHNlZWQpO1xuICB9XG5cbiAgc2V0UGFyYW08SyBleHRlbmRzIGtleW9mIEFtYmllbnRQYXJhbXM+KGs6IEssIHY6IEFtYmllbnRQYXJhbXNbS10pIHtcbiAgICB0aGlzLnBhcmFtc1trXSA9IGNsYW1wMDEodik7XG4gICAgaWYgKHRoaXMucnVubmluZyAmJiBrID09PSBcImludGVuc2l0eVwiICYmIHRoaXMubWFzdGVyKSB7XG4gICAgICB0aGlzLm1hc3Rlci5nYWluLnZhbHVlID0gMC4xNSArIDAuODUgKiB0aGlzLnBhcmFtcy5pbnRlbnNpdHk7IFxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgLy8gLS0tLSBDb3JlIGdyYXBoIChmaWx0ZXIgLT4gZHJ5K2RlbGF5IC0+IG1hc3RlciAtPiBvdXQpIC0tLS1cbiAgICB0aGlzLm1hc3RlciA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiAwLjE1ICsgMC44NSAqIHRoaXMucGFyYW1zLmludGVuc2l0eSB9KTtcbiAgICB0aGlzLmZpbHRlciA9IG5ldyBCaXF1YWRGaWx0ZXJOb2RlKHRoaXMuY3R4LCB7IHR5cGU6IFwibG93cGFzc1wiLCBROiAwLjcwNyB9KTtcbiAgICB0aGlzLmRyeSA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiAxIH0pO1xuICAgIHRoaXMud2V0ID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IFdFVF9NSVggfSk7XG4gICAgdGhpcy5kZWxheSA9IG5ldyBEZWxheU5vZGUodGhpcy5jdHgsIHsgZGVsYXlUaW1lOiBERUxBWV9USU1FX1MsIG1heERlbGF5VGltZTogMiB9KTtcbiAgICB0aGlzLmZlZWRiYWNrID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IEZFRURCQUNLX0dBSU4gfSk7XG5cbiAgICB0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuZHJ5KS5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuZGVsYXkpO1xuICAgIHRoaXMuZGVsYXkuY29ubmVjdCh0aGlzLmZlZWRiYWNrKS5jb25uZWN0KHRoaXMuZGVsYXkpO1xuICAgIHRoaXMuZGVsYXkuY29ubmVjdCh0aGlzLndldCkuY29ubmVjdCh0aGlzLm1hc3Rlcik7XG4gICAgdGhpcy5tYXN0ZXIuY29ubmVjdCh0aGlzLm91dCk7XG5cbiAgICAvLyAtLS0tIEZpbHRlciBiYXNlbGluZSArIHNsb3cgc3dlZXBzIC0tLS1cbiAgICB0aGlzLmZpbHRlci5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoRklMVEVSX0JBU0VfSFosIHRoaXMuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICBjb25zdCBzd2VlcCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgICAgIHRoaXMuZmlsdGVyLmZyZXF1ZW5jeS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgICAvLyB1cCB0aGVuIGRvd24gdXNpbmcgdmVyeSBzbG93IHRpbWUgY29uc3RhbnRzXG4gICAgICB0aGlzLmZpbHRlci5mcmVxdWVuY3kuc2V0VGFyZ2V0QXRUaW1lKFxuICAgICAgICBGSUxURVJfQkFTRV9IWiArIChGSUxURVJfUEVBS19IWiAtIEZJTFRFUl9CQVNFX0haKSAqICgwLjQgKyAwLjYgKiB0aGlzLnBhcmFtcy5icmlnaHRuZXNzKSxcbiAgICAgICAgdCwgU1dFRVBfU0VHX1MgLyAzXG4gICAgICApO1xuICAgICAgdGhpcy5maWx0ZXIuZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZShcbiAgICAgICAgRklMVEVSX0JBU0VfSFogKiAoMC43ICsgMC4zICogdGhpcy5wYXJhbXMuYnJpZ2h0bmVzcyksXG4gICAgICAgIHQgKyBTV0VFUF9TRUdfUywgU1dFRVBfU0VHX1MgLyAzXG4gICAgICApO1xuICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMucnVubmluZyAmJiBzd2VlcCgpLCAoU1dFRVBfU0VHX1MgKiAyKSAqIDEwMDApIGFzIHVua25vd24gYXMgbnVtYmVyKTtcbiAgICB9O1xuICAgIHN3ZWVwKCk7XG5cbiAgICAvLyAtLS0tIEdlbnRsZSBMRk8gb24gZmlsdGVyIGZyZXEgKHNtYWxsIGRlcHRoKSAtLS0tXG4gICAgdGhpcy5sZm9Ob2RlID0gbmV3IE9zY2lsbGF0b3JOb2RlKHRoaXMuY3R4LCB7IHR5cGU6IFwic2luZVwiLCBmcmVxdWVuY3k6IExGT19SQVRFX0haIH0pO1xuICAgIHRoaXMubGZvR2FpbiA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiBMRk9fREVQVEhfSFogKiAoMC41ICsgMC41ICogdGhpcy5wYXJhbXMuYnJpZ2h0bmVzcykgfSk7XG4gICAgdGhpcy5sZm9Ob2RlLmNvbm5lY3QodGhpcy5sZm9HYWluKS5jb25uZWN0KHRoaXMuZmlsdGVyLmZyZXF1ZW5jeSk7XG4gICAgdGhpcy5sZm9Ob2RlLnN0YXJ0KCk7XG5cbiAgICAvLyAtLS0tIFNwYXduIHJvb3QgZHJvbmUgKGdsaWRpbmcgdG8gZGlmZmVyZW50IGRlZ3JlZXMpIC0tLS1cbiAgICB0aGlzLnNwYXduUm9vdERyb25lKCk7XG4gICAgdGhpcy5zY2hlZHVsZU5leHREcm9uZU1vdmUoKTtcblxuICAgIC8vIC0tLS0gQ2hvcmQgY3ljbGUgbG9vcCAtLS0tXG4gICAgdGhpcy5jaG9yZEN5Y2xlKCk7XG5cbiAgICAvLyBjbGVhbnVwXG4gICAgdGhpcy5zdG9wRm5zLnB1c2goKCkgPT4ge1xuICAgICAgdHJ5IHsgdGhpcy5sZm9Ob2RlPy5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICAgIFt0aGlzLm1hc3RlciwgdGhpcy5maWx0ZXIsIHRoaXMuZHJ5LCB0aGlzLndldCwgdGhpcy5kZWxheSwgdGhpcy5mZWVkYmFjaywgdGhpcy5sZm9Ob2RlLCB0aGlzLmxmb0dhaW5dXG4gICAgICAgIC5mb3JFYWNoKG4gPT4geyB0cnkgeyBuPy5kaXNjb25uZWN0KCk7IH0gY2F0Y2gge30gfSk7XG4gICAgfSk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSByZXR1cm47XG4gICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG5cbiAgICAvLyBjYW5jZWwgdGltZW91dHNcbiAgICB0aGlzLnRpbWVvdXRzLnNwbGljZSgwKS5mb3JFYWNoKGlkID0+IHdpbmRvdy5jbGVhclRpbWVvdXQoaWQpKTtcblxuICAgIC8vIGZhZGUgYW5kIGNsZWFudXAgdm9pY2VzXG4gICAgaWYgKHRoaXMucm9vdFZvaWNlKSB0aGlzLnJvb3RWb2ljZS5mYWRlT3V0S2lsbCgxLjIpO1xuXG4gICAgLy8gcnVuIGRlZmVycmVkIHN0b3BzXG4gICAgdGhpcy5zdG9wRm5zLnNwbGljZSgwKS5mb3JFYWNoKGZuID0+IGZuKCkpO1xuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBNdXNpY2FsIGVuZ2luZSBiZWxvdyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgcHJpdmF0ZSBjdXJyZW50RGVncmVlcygpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIE1PREVTW3RoaXMubW9kZV0gfHwgTU9ERVMuTHlkaWFuO1xuICB9XG5cbiAgLyoqIERyb25lIHJvb3Qgdm9pY2UgKi9cbiAgcHJpdmF0ZSBzcGF3blJvb3REcm9uZSgpIHtcbiAgICBjb25zdCBiYXNlTWlkaSA9IHRoaXMua2V5Um9vdE1pZGkgKyB0aGlzLmN1cnJlbnREZWdyZWVzKClbdGhpcy5kcm9uZURlZ3JlZUlkeF07XG4gICAgY29uc3QgdiA9IG5ldyBWb2ljZShcbiAgICAgIHRoaXMuY3R4LFxuICAgICAgUk9PVF9NQVhfR0FJTixcbiAgICAgIFwic2luZVwiLFxuICAgICAgbWlkaVRvRnJlcShiYXNlTWlkaSksXG4gICAgICB0aGlzLmZpbHRlcixcbiAgICAgIHRoaXMucm5nXG4gICAgKTtcbiAgICB2LmZhZGVJbihST09UX1NXRUxMX1RJTUUpO1xuICAgIHRoaXMucm9vdFZvaWNlID0gdjtcbiAgfVxuXG4gIHByaXZhdGUgc2NoZWR1bGVOZXh0RHJvbmVNb3ZlKCkge1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSByZXR1cm47XG4gICAgY29uc3Qgd2FpdE1zID0gcmFuZCh0aGlzLnJuZywgRFJPTkVfU0hJRlRfTUlOX1MsIERST05FX1NISUZUX01BWF9TKSAqIDEwMDA7XG4gICAgY29uc3QgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMucnVubmluZyB8fCAhdGhpcy5yb290Vm9pY2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdsaWRlID0gcmFuZCh0aGlzLnJuZywgRFJPTkVfR0xJREVfTUlOX1MsIERST05FX0dMSURFX01BWF9TKTtcbiAgICAgIGNvbnN0IG5leHRJZHggPSB0aGlzLnBpY2tOZXh0RHJvbmVEZWdyZWVJZHgoKTtcbiAgICAgIGNvbnN0IHRhcmdldE1pZGkgPSB0aGlzLmtleVJvb3RNaWRpICsgdGhpcy5jdXJyZW50RGVncmVlcygpW25leHRJZHhdO1xuICAgICAgdGhpcy5yb290Vm9pY2Uuc2V0RnJlcUdsaWRlKG1pZGlUb0ZyZXEodGFyZ2V0TWlkaSksIGdsaWRlKTtcbiAgICAgIHRoaXMuZHJvbmVEZWdyZWVJZHggPSBuZXh0SWR4O1xuICAgICAgdGhpcy5zY2hlZHVsZU5leHREcm9uZU1vdmUoKTtcbiAgICB9LCB3YWl0TXMpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIHRoaXMudGltZW91dHMucHVzaChpZCk7XG4gIH1cblxuICBwcml2YXRlIHBpY2tOZXh0RHJvbmVEZWdyZWVJZHgoKTogbnVtYmVyIHtcbiAgICBjb25zdCBvcmRlciA9IFsuLi5QUkVGRVJSRURfREVHUkVFX09SREVSXTtcbiAgICBjb25zdCBpID0gb3JkZXIuaW5kZXhPZih0aGlzLmRyb25lRGVncmVlSWR4KTtcbiAgICBpZiAoaSA+PSAwKSB7IGNvbnN0IFtjdXJdID0gb3JkZXIuc3BsaWNlKGksIDEpOyBvcmRlci5wdXNoKGN1cik7IH1cbiAgICByZXR1cm4gY2hvaWNlKHRoaXMucm5nLCBvcmRlcik7XG4gIH1cblxuICAvKiogQnVpbGQgZGlhdG9uaWMgc3RhY2tlZC10aGlyZCBjaG9yZCBkZWdyZWVzIHdpdGggb3B0aW9uYWwgZXh0ZW5zaW9ucyAqL1xuICBwcml2YXRlIGJ1aWxkQ2hvcmREZWdyZWVzKG1vZGVEZWdzOiBudW1iZXJbXSwgcm9vdEluZGV4OiBudW1iZXIsIHNpemUgPSA0LCBhZGQ5ID0gZmFsc2UsIGFkZDExID0gZmFsc2UsIGFkZDEzID0gZmFsc2UpIHtcbiAgICBjb25zdCBzdGVwcyA9IFswLCAyLCA0LCA2XTsgLy8gdGhpcmRzIG92ZXIgNy1ub3RlIHNjYWxlXG4gICAgY29uc3QgY2hvcmRJZHhzID0gc3RlcHMuc2xpY2UoMCwgTWF0aC5taW4oc2l6ZSwgNCkpLm1hcChzID0+IChyb290SW5kZXggKyBzKSAlIDcpO1xuICAgIGlmIChhZGQ5KSAgY2hvcmRJZHhzLnB1c2goKHJvb3RJbmRleCArIDgpICUgNyk7XG4gICAgaWYgKGFkZDExKSBjaG9yZElkeHMucHVzaCgocm9vdEluZGV4ICsgMTApICUgNyk7XG4gICAgaWYgKGFkZDEzKSBjaG9yZElkeHMucHVzaCgocm9vdEluZGV4ICsgMTIpICUgNyk7XG4gICAgcmV0dXJuIGNob3JkSWR4cy5tYXAoaSA9PiBtb2RlRGVnc1tpXSk7XG4gIH1cblxuICBwcml2YXRlICplbmRsZXNzQ2hvcmRzKCkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBtb2RlRGVncyA9IHRoaXMuY3VycmVudERlZ3JlZXMoKTtcbiAgICAgIC8vIGNob29zZSBjaG9yZCByb290IGRlZ3JlZSAob2Z0ZW4gYWxpZ24gd2l0aCBkcm9uZSlcbiAgICAgIGNvbnN0IHJvb3REZWdyZWVJbmRleCA9ICh0aGlzLnJuZygpIDwgQ0hPUkRfQU5DSE9SX1BST0IpID8gdGhpcy5kcm9uZURlZ3JlZUlkeCA6IE1hdGguZmxvb3IodGhpcy5ybmcoKSAqIDcpO1xuXG4gICAgICAvLyBjaG9yZCBzaXplIC8gZXh0ZW5zaW9uc1xuICAgICAgY29uc3QgciA9IHRoaXMucm5nKCk7XG4gICAgICBsZXQgc2l6ZSA9IDM7IGxldCBhZGQ5ID0gZmFsc2UsIGFkZDExID0gZmFsc2UsIGFkZDEzID0gZmFsc2U7XG4gICAgICBpZiAociA8IDAuMzUpICAgICAgICAgICAgeyBzaXplID0gMzsgfVxuICAgICAgZWxzZSBpZiAociA8IDAuNzUpICAgICAgIHsgc2l6ZSA9IDQ7IH1cbiAgICAgIGVsc2UgaWYgKHIgPCAwLjkwKSAgICAgICB7IHNpemUgPSA0OyBhZGQ5ID0gdHJ1ZTsgfVxuICAgICAgZWxzZSBpZiAociA8IDAuOTcpICAgICAgIHsgc2l6ZSA9IDQ7IGFkZDExID0gdHJ1ZTsgfVxuICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgIHsgc2l6ZSA9IDQ7IGFkZDEzID0gdHJ1ZTsgfVxuXG4gICAgICBjb25zdCBjaG9yZFNlbWlzID0gdGhpcy5idWlsZENob3JkRGVncmVlcyhtb2RlRGVncywgcm9vdERlZ3JlZUluZGV4LCBzaXplLCBhZGQ5LCBhZGQxMSwgYWRkMTMpO1xuICAgICAgLy8gc3ByZWFkIGNob3JkIGFjcm9zcyBvY3RhdmVzICgtMTIsIDAsICsxMiksIGJpYXMgdG8gY2VudGVyXG4gICAgICBjb25zdCBzcHJlYWQgPSBjaG9yZFNlbWlzLm1hcChzZW1pID0+IHNlbWkgKyBjaG9pY2UodGhpcy5ybmcsIFstMTIsIDAsIDAsIDEyXSkpO1xuXG4gICAgICAvLyBvY2Nhc2lvbmFsbHkgZW5zdXJlIHRvbmljIGlzIHByZXNlbnQgZm9yIGdyb3VuZGluZ1xuICAgICAgaWYgKCFzcHJlYWQuaW5jbHVkZXMoMCkgJiYgdGhpcy5ybmcoKSA8IDAuNSkgc3ByZWFkLnB1c2goMCk7XG5cbiAgICAgIHlpZWxkIHNwcmVhZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNob3JkQ3ljbGUoKSB7XG4gICAgY29uc3QgZ2VuID0gdGhpcy5lbmRsZXNzQ2hvcmRzKCk7XG4gICAgY29uc3Qgdm9pY2VzID0gbmV3IFNldDxWb2ljZT4oKTtcblxuICAgIGNvbnN0IHNsZWVwID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlPHZvaWQ+KHIgPT4ge1xuICAgICAgY29uc3QgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiByKCksIG1zKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICAgIHRoaXMudGltZW91dHMucHVzaChpZCk7XG4gICAgfSk7XG5cbiAgICB3aGlsZSAodGhpcy5ydW5uaW5nKSB7XG4gICAgICAvLyBjaG9yZCBzcGF3biBwcm9iYWJpbGl0eSAvIHRoaWNrbmVzcyBzY2FsZSB3aXRoIGRlbnNpdHkgJiBicmlnaHRuZXNzXG4gICAgICBjb25zdCB0aGlja25lc3MgPSBNYXRoLnJvdW5kKDIgKyB0aGlzLnBhcmFtcy5kZW5zaXR5ICogMyk7XG4gICAgICBjb25zdCBiYXNlTWlkaSA9IHRoaXMua2V5Um9vdE1pZGk7XG4gICAgICBjb25zdCBkZWdyZWVzT2ZmOiBudW1iZXJbXSA9IGdlbi5uZXh0KCkudmFsdWUgPz8gW107XG5cbiAgICAgIC8vIHNwYXduXG4gICAgICBmb3IgKGNvbnN0IG9mZiBvZiBkZWdyZWVzT2ZmKSB7XG4gICAgICAgIGlmICghdGhpcy5ydW5uaW5nKSBicmVhaztcbiAgICAgICAgaWYgKHZvaWNlcy5zaXplID49IE1hdGgubWluKENIT1JEX1ZPSUNFU19NQVgsIHRoaWNrbmVzcykpIGJyZWFrO1xuXG4gICAgICAgIGNvbnN0IG1pZGkgPSBiYXNlTWlkaSArIG9mZjtcbiAgICAgICAgY29uc3QgZnJlcSA9IG1pZGlUb0ZyZXEobWlkaSk7XG4gICAgICAgIGNvbnN0IHdhdmVmb3JtID0gY2hvaWNlKHRoaXMucm5nLCBbXCJzaW5lXCIsIFwidHJpYW5nbGVcIiwgXCJzYXd0b290aFwiXSBhcyBPc2NpbGxhdG9yVHlwZVtdKTtcblxuICAgICAgICAvLyBsb3VkZXIgd2l0aCBpbnRlbnNpdHk7IHNsaWdodGx5IGJyaWdodGVyIC0+IHNsaWdodGx5IGxvdWRlclxuICAgICAgICBjb25zdCBnYWluVGFyZ2V0ID0gcmFuZCh0aGlzLnJuZywgMC4wOCwgMC4yMikgKlxuICAgICAgICAgICgwLjg1ICsgMC4zICogdGhpcy5wYXJhbXMuaW50ZW5zaXR5KSAqXG4gICAgICAgICAgKDAuOSArIDAuMiAqIHRoaXMucGFyYW1zLmJyaWdodG5lc3MpO1xuXG4gICAgICAgIGNvbnN0IHYgPSBuZXcgVm9pY2UodGhpcy5jdHgsIGdhaW5UYXJnZXQsIHdhdmVmb3JtLCBmcmVxLCB0aGlzLmZpbHRlciwgdGhpcy5ybmcpO1xuICAgICAgICB2b2ljZXMuYWRkKHYpO1xuICAgICAgICB2LmZhZGVJbihyYW5kKHRoaXMucm5nLCBDSE9SRF9GQURFX01JTl9TLCBDSE9SRF9GQURFX01BWF9TKSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNsZWVwKHJhbmQodGhpcy5ybmcsIENIT1JEX0hPTERfTUlOX1MsIENIT1JEX0hPTERfTUFYX1MpICogMTAwMCk7XG5cbiAgICAgIC8vIGZhZGUgb3V0XG4gICAgICBjb25zdCBvdXRzID0gQXJyYXkuZnJvbSh2b2ljZXMpO1xuICAgICAgZm9yIChjb25zdCB2IG9mIG91dHMpIHYuZmFkZU91dEtpbGwocmFuZCh0aGlzLnJuZywgQ0hPUkRfRkFERV9NSU5fUywgQ0hPUkRfRkFERV9NQVhfUykpO1xuICAgICAgdm9pY2VzLmNsZWFyKCk7XG5cbiAgICAgIGF3YWl0IHNsZWVwKHJhbmQodGhpcy5ybmcsIENIT1JEX0dBUF9NSU5fUywgQ0hPUkRfR0FQX01BWF9TKSAqIDEwMDApO1xuICAgIH1cblxuICAgIC8vIHNhZmV0eToga2lsbCBhbnkgbGluZ2VyaW5nIHZvaWNlc1xuICAgIGZvciAoY29uc3QgdiBvZiBBcnJheS5mcm9tKHZvaWNlcykpIHYuZmFkZU91dEtpbGwoMC44KTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgU2NlbmVOYW1lLCBNdXNpY1NjZW5lT3B0aW9ucyB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgQXVkaW9FbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lXCI7XG5pbXBvcnQgeyBBbWJpZW50U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvYW1iaWVudFwiO1xuXG5leHBvcnQgY2xhc3MgTXVzaWNEaXJlY3RvciB7XG4gIHByaXZhdGUgY3VycmVudD86IHsgbmFtZTogU2NlbmVOYW1lOyBzdG9wOiAoKSA9PiB2b2lkIH07XG4gIHByaXZhdGUgYnVzT3V0OiBHYWluTm9kZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVuZ2luZTogQXVkaW9FbmdpbmUpIHtcbiAgICB0aGlzLmJ1c091dCA9IG5ldyBHYWluTm9kZShlbmdpbmUuY3R4LCB7IGdhaW46IDAuOSB9KTtcbiAgICB0aGlzLmJ1c091dC5jb25uZWN0KGVuZ2luZS5nZXRNdXNpY0J1cygpKTtcbiAgfVxuXG4gIC8qKiBDcm9zc2ZhZGUgdG8gYSBuZXcgc2NlbmUgKi9cbiAgc2V0U2NlbmUobmFtZTogU2NlbmVOYW1lLCBvcHRzPzogTXVzaWNTY2VuZU9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50Py5uYW1lID09PSBuYW1lKSByZXR1cm47XG5cbiAgICBjb25zdCBvbGQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgdCA9IHRoaXMuZW5naW5lLm5vdztcblxuICAgIC8vIGZhZGUtb3V0IG9sZFxuICAgIGNvbnN0IGZhZGVPdXQgPSBuZXcgR2Fpbk5vZGUodGhpcy5lbmdpbmUuY3R4LCB7IGdhaW46IDAuOSB9KTtcbiAgICBmYWRlT3V0LmNvbm5lY3QodGhpcy5lbmdpbmUuZ2V0TXVzaWNCdXMoKSk7XG4gICAgaWYgKG9sZCkge1xuICAgICAgLy8gV2UgYXNzdW1lIGVhY2ggc2NlbmUgbWFuYWdlcyBpdHMgb3duIG91dCBub2RlOyBzdG9wcGluZyB0cmlnZ2VycyBhIG5hdHVyYWwgdGFpbC5cbiAgICAgIG9sZC5zdG9wKCk7XG4gICAgICBmYWRlT3V0LmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC4wLCB0ICsgMC42KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gZmFkZU91dC5kaXNjb25uZWN0KCksIDY1MCk7XG4gICAgfVxuXG4gICAgLy8gbmV3IHNjZW5lXG4gICAgY29uc3Qgc2NlbmVPdXQgPSBuZXcgR2Fpbk5vZGUodGhpcy5lbmdpbmUuY3R4LCB7IGdhaW46IDAgfSk7XG4gICAgc2NlbmVPdXQuY29ubmVjdCh0aGlzLmJ1c091dCk7XG5cbiAgICBsZXQgc3RvcCA9ICgpID0+IHNjZW5lT3V0LmRpc2Nvbm5lY3QoKTtcblxuICAgIGlmIChuYW1lID09PSBcImFtYmllbnRcIikge1xuICAgICAgY29uc3QgcyA9IG5ldyBBbWJpZW50U2NlbmUodGhpcy5lbmdpbmUuY3R4LCBzY2VuZU91dCwgb3B0cz8uc2VlZCA/PyAxKTtcbiAgICAgIHMuc3RhcnQoKTtcbiAgICAgIHN0b3AgPSAoKSA9PiB7XG4gICAgICAgIHMuc3RvcCgpO1xuICAgICAgICBzY2VuZU91dC5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBlbHNlIGlmIChuYW1lID09PSBcImNvbWJhdFwiKSB7IC8qIGltcGxlbWVudCBjb21iYXQgc2NlbmUgbGF0ZXIgKi8gfVxuICAgIC8vIGVsc2UgaWYgKG5hbWUgPT09IFwibG9iYnlcIikgeyAvKiBpbXBsZW1lbnQgbG9iYnkgc2NlbmUgbGF0ZXIgKi8gfVxuXG4gICAgdGhpcy5jdXJyZW50ID0geyBuYW1lLCBzdG9wIH07XG4gICAgc2NlbmVPdXQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLjksIHQgKyAwLjYpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudCkgcmV0dXJuO1xuICAgIHRoaXMuY3VycmVudC5zdG9wKCk7XG4gICAgdGhpcy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBCdXMsIE11c2ljUGFyYW1NZXNzYWdlLCBNdXNpY1NjZW5lT3B0aW9ucyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBBdWRpb0VuZ2luZSB9IGZyb20gXCIuL2VuZ2luZVwiO1xuaW1wb3J0IHsgTXVzaWNEaXJlY3RvciB9IGZyb20gXCIuL211c2ljXCI7XG5pbXBvcnQgeyBwbGF5U2Z4IH0gZnJvbSBcIi4vc2Z4XCI7XG5cbi8qKlxuICogQmluZCBzdGFuZGFyZCBhdWRpbyBldmVudHMgdG8gdGhlIGVuZ2luZSBhbmQgbXVzaWMgZGlyZWN0b3IuXG4gKlxuICogRXZlbnRzIHN1cHBvcnRlZDpcbiAqICAtIGF1ZGlvOnJlc3VtZVxuICogIC0gYXVkaW86bXV0ZSAvIGF1ZGlvOnVubXV0ZVxuICogIC0gYXVkaW86c2V0LW1hc3Rlci1nYWluIHsgZ2FpbiB9XG4gKiAgLSBhdWRpbzpzZnggeyBuYW1lLCB2ZWxvY2l0eT8sIHBhbj8gfVxuICogIC0gYXVkaW86bXVzaWM6c2V0LXNjZW5lIHsgc2NlbmUsIHNlZWQ/IH1cbiAqICAtIGF1ZGlvOm11c2ljOnBhcmFtIHsga2V5LCB2YWx1ZSB9XG4gKiAgLSBhdWRpbzptdXNpYzp0cmFuc3BvcnQgeyBjbWQ6IFwic3RhcnRcIiB8IFwic3RvcFwiIHwgXCJwYXVzZVwiIH0gIC8vIHBhdXNlIGN1cnJlbnRseSBtYXBzIHRvIHN0b3BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQXVkaW9CdXNCaW5kaW5ncyhcbiAgYnVzOiBCdXMsXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIG11c2ljOiBNdXNpY0RpcmVjdG9yXG4pOiB2b2lkIHtcbiAgYnVzLm9uKFwiYXVkaW86cmVzdW1lXCIsICgpID0+IGVuZ2luZS5yZXN1bWUoKSk7XG4gIGJ1cy5vbihcImF1ZGlvOm11dGVcIiwgKCkgPT4gZW5naW5lLnNldE1hc3RlckdhaW4oMCkpO1xuICBidXMub24oXCJhdWRpbzp1bm11dGVcIiwgKCkgPT4gZW5naW5lLnNldE1hc3RlckdhaW4oMC45KSk7XG4gIGJ1cy5vbihcImF1ZGlvOnNldC1tYXN0ZXItZ2FpblwiLCAoeyBnYWluIH06IHsgZ2FpbjogbnVtYmVyIH0pID0+XG4gICAgZW5naW5lLnNldE1hc3RlckdhaW4oTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgZ2FpbikpKVxuICApO1xuXG4gIGJ1cy5vbihcImF1ZGlvOnNmeFwiLCAobXNnOiB7IG5hbWU6IHN0cmluZzsgdmVsb2NpdHk/OiBudW1iZXI7IHBhbj86IG51bWJlciB9KSA9PiB7XG4gICAgcGxheVNmeChlbmdpbmUsIG1zZy5uYW1lIGFzIGFueSwgeyB2ZWxvY2l0eTogbXNnLnZlbG9jaXR5LCBwYW46IG1zZy5wYW4gfSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihcImF1ZGlvOm11c2ljOnNldC1zY2VuZVwiLCAobXNnOiB7IHNjZW5lOiBzdHJpbmcgfSAmIE11c2ljU2NlbmVPcHRpb25zKSA9PiB7XG4gICAgZW5naW5lLnJlc3VtZSgpO1xuICAgIG11c2ljLnNldFNjZW5lKG1zZy5zY2VuZSBhcyBhbnksIHsgc2VlZDogbXNnLnNlZWQgfSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihcImF1ZGlvOm11c2ljOnBhcmFtXCIsIChfbXNnOiBNdXNpY1BhcmFtTWVzc2FnZSkgPT4ge1xuICAgIC8vIEhvb2sgZm9yIGZ1dHVyZSBwYXJhbSByb3V0aW5nIHBlciBzY2VuZSAoZS5nLiwgaW50ZW5zaXR5L2JyaWdodG5lc3MvZGVuc2l0eSlcbiAgICAvLyBJZiB5b3Ugd2FudCBnbG9iYWwgcGFyYW1zLCBrZWVwIGEgbWFwIGhlcmUgYW5kIGZvcndhcmQgdG8gdGhlIGFjdGl2ZSBzY2VuZVxuICB9KTtcblxuICBidXMub24oXCJhdWRpbzptdXNpYzp0cmFuc3BvcnRcIiwgKHsgY21kIH06IHsgY21kOiBcInN0YXJ0XCIgfCBcInN0b3BcIiB8IFwicGF1c2VcIiB9KSA9PiB7XG4gICAgaWYgKGNtZCA9PT0gXCJzdG9wXCIgfHwgY21kID09PSBcInBhdXNlXCIpIG11c2ljLnN0b3AoKTtcbiAgICAvLyBcInN0YXJ0XCIgaXMgaW1wbGljaXQgdmlhIHNldFNjZW5lXG4gIH0pO1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBNaXNzaW9uUGxheWVyU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGNsYW1wLCBtb25vdG9uaWNOb3cgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGFjY2VwdE1pc3Npb24gfSBmcm9tIFwiLi4vbmV0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lvbkNvbnRyb2xsZXIge1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNaXNzaW9uQ29udHJvbGxlck9wdGlvbnMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG4gIG1vZGU6IHN0cmluZztcbiAgbWlzc2lvbklkOiBzdHJpbmcgfCBudWxsO1xufVxuXG5jb25zdCBIT0xEX1NNT09USF9SQVRFID0gNjtcbmNvbnN0IEhPTERfRVBTSUxPTiA9IDAuMDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudE1pc3Npb25Db250cm9sbGVyKHsgc3RhdGUsIGJ1cywgbW9kZSB9OiBNaXNzaW9uQ29udHJvbGxlck9wdGlvbnMpOiBNaXNzaW9uQ29udHJvbGxlciB7XG4gIGlmIChtb2RlICE9PSBcImNhbXBhaWduXCIpIHtcbiAgICByZXR1cm4geyBkZXN0cm95KCkge30gfTtcbiAgfVxuXG4gIGxldCBrbm93bk1pc3Npb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaW9uU3RhcnRlZCA9IGZhbHNlO1xuICBsZXQgYWN0aXZlQmVhY29uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBjb25zdCBkaXNjb3ZlcmVkQmVhY29ucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBjb25zdCBjb21wbGV0ZWRCZWFjb25zID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgZnVuY3Rpb24gcmVzZXQoKTogdm9pZCB7XG4gICAga25vd25NaXNzaW9uSWQgPSBudWxsO1xuICAgIG1pc3Npb25TdGFydGVkID0gZmFsc2U7XG4gICAgYWN0aXZlQmVhY29uSWQgPSBudWxsO1xuICAgIGRpc2NvdmVyZWRCZWFjb25zLmNsZWFyKCk7XG4gICAgY29tcGxldGVkQmVhY29ucy5jbGVhcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTWlzc2lvblVwZGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBtaXNzaW9uID0gc3RhdGUubWlzc2lvbjtcbiAgICBpZiAoIW1pc3Npb24pIHtcbiAgICAgIHJlc2V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBsYXllciA9IG1pc3Npb24ucGxheWVyO1xuICAgIGlmICghcGxheWVyKSB7XG4gICAgICBtaXNzaW9uU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgYWN0aXZlQmVhY29uSWQgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtaXNzaW9uLm1pc3Npb25JZCAhPT0ga25vd25NaXNzaW9uSWQpIHtcbiAgICAgIGtub3duTWlzc2lvbklkID0gbWlzc2lvbi5taXNzaW9uSWQ7XG4gICAgICBtaXNzaW9uU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgYWN0aXZlQmVhY29uSWQgPSBudWxsO1xuICAgICAgZGlzY292ZXJlZEJlYWNvbnMuY2xlYXIoKTtcbiAgICAgIGNvbXBsZXRlZEJlYWNvbnMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBpZiAoIW1pc3Npb25TdGFydGVkICYmIG1pc3Npb24uc3RhdHVzICE9PSBcImlkbGVcIikge1xuICAgICAgbWlzc2lvblN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYmVhY29uIG9mIG1pc3Npb24uYmVhY29ucykge1xuICAgICAgaWYgKGJlYWNvbi5kaXNjb3ZlcmVkICYmICFkaXNjb3ZlcmVkQmVhY29ucy5oYXMoYmVhY29uLmlkKSkge1xuICAgICAgICBkaXNjb3ZlcmVkQmVhY29ucy5hZGQoYmVhY29uLmlkKTtcbiAgICAgICAgYnVzLmVtaXQoXCJiZWFjb246ZGlzY292ZXJlZFwiLCB7IGlkOiBiZWFjb24uaWQsIG9yZGluYWw6IGJlYWNvbi5vcmRpbmFsIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgYmVhY29uIG9mIG1pc3Npb24uYmVhY29ucykge1xuICAgICAgaWYgKGJlYWNvbi5jb21wbGV0ZWQgJiYgIWNvbXBsZXRlZEJlYWNvbnMuaGFzKGJlYWNvbi5pZCkpIHtcbiAgICAgICAgY29tcGxldGVkQmVhY29ucy5hZGQoYmVhY29uLmlkKTtcbiAgICAgICAgYnVzLmVtaXQoXCJtaXNzaW9uOmJlYWNvbi1sb2NrZWRcIiwgeyBpbmRleDogYmVhY29uLm9yZGluYWwgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBsYXllci5hY3RpdmVCZWFjb25JZCAmJiBwbGF5ZXIuYWN0aXZlQmVhY29uSWQgIT09IGFjdGl2ZUJlYWNvbklkKSB7XG4gICAgICBhY3RpdmVCZWFjb25JZCA9IHBsYXllci5hY3RpdmVCZWFjb25JZDtcbiAgICAgIGNvbnN0IGJlYWNvbiA9IG1pc3Npb24uYmVhY29ucy5maW5kKChiKSA9PiBiLmlkID09PSBwbGF5ZXIuYWN0aXZlQmVhY29uSWQpO1xuICAgICAgYnVzLmVtaXQoXCJiZWFjb246YWN0aXZhdGVkXCIsIHtcbiAgICAgICAgaWQ6IHBsYXllci5hY3RpdmVCZWFjb25JZCxcbiAgICAgICAgb3JkaW5hbDogYmVhY29uPy5vcmRpbmFsID8/IHBsYXllci5jdXJyZW50SW5kZXgsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFwbGF5ZXIuYWN0aXZlQmVhY29uSWQpIHtcbiAgICAgIGFjdGl2ZUJlYWNvbklkID0gbnVsbDtcbiAgICB9XG5cbiAgICBzeW5jaHJvbml6ZUhvbGREaXNwbGF5KHBsYXllcik7XG4gICAgdXBkYXRlSW5zaWRlRmxhZyhwbGF5ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGljaygpOiB2b2lkIHtcbiAgICBjb25zdCBtaXNzaW9uID0gc3RhdGUubWlzc2lvbjtcbiAgICBpZiAoIW1pc3Npb24/LnBsYXllcikgcmV0dXJuO1xuICAgIHN5bmNocm9uaXplSG9sZERpc3BsYXkobWlzc2lvbi5wbGF5ZXIpO1xuICAgIHVwZGF0ZUluc2lkZUZsYWcobWlzc2lvbi5wbGF5ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3luY2hyb25pemVIb2xkRGlzcGxheShwbGF5ZXI6IE1pc3Npb25QbGF5ZXJTdGF0ZSk6IHZvaWQge1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHBsYXllci5ob2xkQWNjdW0pKSB7XG4gICAgICBwbGF5ZXIuaG9sZEFjY3VtID0gMDtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocGxheWVyLmRpc3BsYXlIb2xkKSkge1xuICAgICAgcGxheWVyLmRpc3BsYXlIb2xkID0gcGxheWVyLmhvbGRBY2N1bTtcbiAgICB9XG4gICAgY29uc3Qgbm93TXMgPSBtb25vdG9uaWNOb3coKTtcbiAgICBjb25zdCBwcmV2aW91c1N5bmMgPSBOdW1iZXIuaXNGaW5pdGUocGxheWVyLmxhc3REaXNwbGF5U3luYykgPyBwbGF5ZXIubGFzdERpc3BsYXlTeW5jIDogbm93TXM7XG4gICAgY29uc3QgZHQgPSBNYXRoLm1heCgwLCAobm93TXMgLSBwcmV2aW91c1N5bmMpIC8gMTAwMCk7XG4gICAgcGxheWVyLmxhc3REaXNwbGF5U3luYyA9IG5vd01zO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gY2xhbXAocGxheWVyLmhvbGRBY2N1bSwgMCwgTWF0aC5tYXgocGxheWVyLmhvbGRSZXF1aXJlZCwgcGxheWVyLmhvbGRBY2N1bSkpO1xuICAgIGNvbnN0IHNtb290aGluZyA9IDEgLSBNYXRoLmV4cCgtZHQgKiBIT0xEX1NNT09USF9SQVRFKTtcbiAgICBpZiAoc21vb3RoaW5nID4gMCkge1xuICAgICAgcGxheWVyLmRpc3BsYXlIb2xkID0gcGxheWVyLmRpc3BsYXlIb2xkICsgKHRhcmdldCAtIHBsYXllci5kaXNwbGF5SG9sZCkgKiBzbW9vdGhpbmc7XG4gICAgfVxuICAgIGlmIChNYXRoLmFicyhwbGF5ZXIuZGlzcGxheUhvbGQgLSB0YXJnZXQpIDwgSE9MRF9FUFNJTE9OKSB7XG4gICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSB0YXJnZXQ7XG4gICAgfVxuICAgIHBsYXllci5kaXNwbGF5SG9sZCA9IGNsYW1wKHBsYXllci5kaXNwbGF5SG9sZCwgMCwgTWF0aC5tYXgocGxheWVyLmhvbGRSZXF1aXJlZCwgdGFyZ2V0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVJbnNpZGVGbGFnKHBsYXllcjogTWlzc2lvblBsYXllclN0YXRlKTogdm9pZCB7XG4gICAgY29uc3QgbWlzc2lvbiA9IHN0YXRlLm1pc3Npb247XG4gICAgaWYgKCFtaXNzaW9uKSB7XG4gICAgICBwbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcGxheWVyLmFjdGl2ZUJlYWNvbklkIHx8ICFzdGF0ZS5tZSkge1xuICAgICAgcGxheWVyLmluc2lkZUFjdGl2ZUJlYWNvbiA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBiZWFjb24gPSBtaXNzaW9uLmJlYWNvbnMuZmluZCgoYikgPT4gYi5pZCA9PT0gcGxheWVyLmFjdGl2ZUJlYWNvbklkKTtcbiAgICBpZiAoIWJlYWNvbikge1xuICAgICAgcGxheWVyLmluc2lkZUFjdGl2ZUJlYWNvbiA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkeCA9IHN0YXRlLm1lLnggLSBiZWFjb24ueDtcbiAgICBjb25zdCBkeSA9IHN0YXRlLm1lLnkgLSBiZWFjb24ueTtcbiAgICBwbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uID0gZHggKiBkeCArIGR5ICogZHkgPD0gYmVhY29uLnJhZGl1cyAqIGJlYWNvbi5yYWRpdXM7XG4gIH1cblxuICBjb25zdCB1bnN1Yk1pc3Npb24gPSBidXMub24oXCJtaXNzaW9uOnVwZGF0ZVwiLCAoKSA9PiBoYW5kbGVNaXNzaW9uVXBkYXRlKCkpO1xuICBjb25zdCB1bnN1Yk1pc3Npb25TdGFydCA9IGJ1cy5vbihcIm1pc3Npb246c3RhcnRcIiwgKCkgPT4ge1xuICAgIG1pc3Npb25TdGFydGVkID0gdHJ1ZTtcbiAgfSk7XG4gIGNvbnN0IHVuc3ViT2ZmZXIgPSBidXMub24oXCJtaXNzaW9uOm9mZmVyZWRcIiwgKHsgbWlzc2lvbklkIH0pID0+IHtcbiAgICBpZiAobWlzc2lvbklkKSB7XG4gICAgICBhY2NlcHRNaXNzaW9uKG1pc3Npb25JZCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdW5zdWJTdGF0ZSA9IGJ1cy5vbihcInN0YXRlOnVwZGF0ZWRcIiwgKCkgPT4gaGFuZGxlVGljaygpKTtcblxuICByZXR1cm4ge1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICB1bnN1Yk1pc3Npb24oKTtcbiAgICAgIHVuc3ViU3RhdGUoKTtcbiAgICAgIHVuc3ViT2ZmZXIoKTtcbiAgICAgIHVuc3ViTWlzc2lvblN0YXJ0KCk7XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBEYWdOb2RlIH0gZnJvbSBcIi4vc3RhdGVcIjtcbmltcG9ydCB7IFVwZ3JhZGVFZmZlY3RUeXBlIH0gZnJvbSBcIi4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGJcIjtcbmltcG9ydCB7IHNlbmREYWdTdGFydCB9IGZyb20gXCIuL25ldFwiO1xuXG5sZXQgY291bnRkb3duSW50ZXJ2YWw6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFVwZ3JhZGVzUGFuZWwoXG4gIHN0YXRlOiBBcHBTdGF0ZSxcbiAgYnVzOiBFdmVudEJ1c1xuKTogdm9pZCB7XG4gIC8vIENyZWF0ZSBwYW5lbCBET00gc3RydWN0dXJlXG4gIGNvbnN0IHBhbmVsID0gY3JlYXRlUGFuZWxFbGVtZW50KCk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy50ZWNoLXRyZWUtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGNsb3NlQnRuID0gcGFuZWwucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpIGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBvdmVybGF5ID0gcGFuZWwucXVlcnlTZWxlY3RvcignLnBhbmVsLW92ZXJsYXknKSBhcyBIVE1MRWxlbWVudDtcblxuICAvLyBSZW5kZXIgZnVuY3Rpb24gKHRocm90dGxlZCBieSBzaWduYXR1cmUgb2YgaWQ6c3RhdHVzKVxuICBsZXQgbGFzdFNpZyA9IFwiXCI7XG4gIGZ1bmN0aW9uIGNvbXB1dGVTaWcobm9kZXM6IERhZ05vZGVbXSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5vZGVzXG4gICAgICAuc2xpY2UoKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGEuaWQubG9jYWxlQ29tcGFyZShiLmlkKSlcbiAgICAgIC5tYXAobiA9PiBgJHtuLmlkfToke24uc3RhdHVzfWApXG4gICAgICAuam9pbihcInxcIik7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyVXBncmFkZXMoZm9yY2UgPSBmYWxzZSkge1xuICAgIGNvbnN0IGFsbCA9IHN0YXRlLmRhZz8ubm9kZXMgfHwgW107XG4gICAgLy8gQmUgcGVybWlzc2l2ZTogdHJlYXQgcHJvdG8tbWFwcGVkICd1bml0JyBhcyB1cGdyYWRlcywgYnV0IGFsc28gYWxsb3cgaWQgcHJlZml4XG4gICAgY29uc3QgdXBncmFkZU5vZGVzID0gYWxsLmZpbHRlcihuID0+IG4ua2luZCA9PT0gJ3VuaXQnIHx8IG4uaWQuc3RhcnRzV2l0aCgndXBncmFkZS4nKSk7XG4gICAgY29uc3Qgc2lnID0gY29tcHV0ZVNpZyh1cGdyYWRlTm9kZXMpO1xuICAgIGlmICghZm9yY2UgJiYgc2lnID09PSBsYXN0U2lnKSByZXR1cm47XG4gICAgbGFzdFNpZyA9IHNpZztcbiAgICByZW5kZXJUZWNoVHJlZSh1cGdyYWRlTm9kZXMsIGNvbnRhaW5lcik7XG4gIH1cblxuICAvLyBUb2dnbGUgcGFuZWwgdmlzaWJpbGl0eVxuICBmdW5jdGlvbiB0b2dnbGVQYW5lbCh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScsIHZpc2libGUpO1xuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICByZW5kZXJVcGdyYWRlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBidXMub24oXCJ1cGdyYWRlczp0b2dnbGVcIiwgKCkgPT4ge1xuICAgIGNvbnN0IG5leHQgPSAhcGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJyk7XG4gICAgdG9nZ2xlUGFuZWwobmV4dCk7XG4gICAgaWYgKG5leHQpIHJlbmRlclVwZ3JhZGVzKHRydWUpO1xuICB9KTtcblxuICBidXMub24oXCJ1cGdyYWRlczpzaG93XCIsICgpID0+IHsgdG9nZ2xlUGFuZWwodHJ1ZSk7IHJlbmRlclVwZ3JhZGVzKHRydWUpOyB9KTtcbiAgYnVzLm9uKFwidXBncmFkZXM6aGlkZVwiLCAoKSA9PiB0b2dnbGVQYW5lbChmYWxzZSkpO1xuXG4gIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0b2dnbGVQYW5lbChmYWxzZSkpO1xuICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0b2dnbGVQYW5lbChmYWxzZSkpO1xuXG4gIC8vIFN1YnNjcmliZSB0byBEQUcgdXBkYXRlcyAoZXZlbnQtZHJpdmVuIHBhdHRlcm4pXG4gIGJ1cy5vbihcInN0YXRlOnVwZGF0ZWRcIiwgKCkgPT4ge1xuICAgIGlmIChwYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkge1xuICAgICAgcmVuZGVyVXBncmFkZXMoZmFsc2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gSGFuZGxlIG5vZGUgY2xpY2tcbiAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IG5vZGVFbCA9IChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcIltkYXRhLW5vZGUtaWRdXCIpO1xuICAgIGlmICghbm9kZUVsKSByZXR1cm47XG5cbiAgICBjb25zdCBub2RlSWQgPSBub2RlRWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLWlkXCIpO1xuICAgIGNvbnN0IG5vZGUgPSBzdGF0ZS5kYWc/Lm5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBub2RlSWQpO1xuXG4gICAgaWYgKG5vZGU/LnN0YXR1cyA9PT0gXCJhdmFpbGFibGVcIikge1xuICAgICAgc2VuZERhZ1N0YXJ0KG5vZGVJZCEpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhbmVsRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBhbmVsLmNsYXNzTmFtZSA9ICd1cGdyYWRlcy1wYW5lbCc7XG4gIHBhbmVsLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwtb3ZlcmxheVwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGVyXCI+XG4gICAgICAgIDxoMj5TaGlwIFVwZ3JhZGVzPC9oMj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsb3NlLWJ0blwiPlx1MDBENzwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGVjaC10cmVlLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuICByZXR1cm4gcGFuZWw7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRlY2hUcmVlKG5vZGVzOiBEYWdOb2RlW10sIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3Qgc29ydGVkID0gbm9kZXMuc2xpY2UoKS5zb3J0KChhLCBiKSA9PiBhLmlkLmxvY2FsZUNvbXBhcmUoYi5pZCkpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ0ZWNoLXRyZWVcIj5cbiAgICAgICR7c29ydGVkLmxlbmd0aCA+IDAgPyBzb3J0ZWQubWFwKHJlbmRlck5vZGUpLmpvaW4oJycpIDogJzxkaXYgY2xhc3M9XFxcIm11dGVkXFxcIj5ObyB1cGdyYWRlcyBhdmFpbGFibGU8L2Rpdj4nfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5mdW5jdGlvbiBlZmZlY3RUeXBlVG9TdHJpbmcodDogdW5rbm93bik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHQ7XG4gIGlmICh0eXBlb2YgdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSBVcGdyYWRlRWZmZWN0VHlwZS5TUEVFRF9NVUxUSVBMSUVSOlxuICAgICAgICByZXR1cm4gXCJzcGVlZF9tdWx0aXBsaWVyXCI7XG4gICAgICBjYXNlIFVwZ3JhZGVFZmZlY3RUeXBlLk1JU1NJTEVfVU5MT0NLOlxuICAgICAgICByZXR1cm4gXCJtaXNzaWxlX3VubG9ja1wiO1xuICAgICAgY2FzZSBVcGdyYWRlRWZmZWN0VHlwZS5IRUFUX0NBUEFDSVRZOlxuICAgICAgICByZXR1cm4gXCJoZWF0X2NhcGFjaXR5XCI7XG4gICAgICBjYXNlIFVwZ3JhZGVFZmZlY3RUeXBlLkhFQVRfRUZGSUNJRU5DWTpcbiAgICAgICAgcmV0dXJuIFwiaGVhdF9lZmZpY2llbmN5XCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJ1bmtub3duXCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBcInVua25vd25cIjtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTm9kZShub2RlOiBEYWdOb2RlKTogc3RyaW5nIHtcbiAgY29uc3Qgc3RhdHVzQ2xhc3MgPSBgbm9kZS0ke25vZGUuc3RhdHVzfWA7XG4gIGNvbnN0IGVmZmVjdHNIdG1sID0gbm9kZS5lZmZlY3RzPy5tYXAoZSA9PiB7XG4gICAgY29uc3QgdHlwZSA9IGVmZmVjdFR5cGVUb1N0cmluZygoZSBhcyBhbnkpLnR5cGUpO1xuICAgIGNvbnN0IHZhbHVlID0gKGUgYXMgYW55KS52YWx1ZSBhcyBudW1iZXIgfCBzdHJpbmc7XG4gICAgY29uc3QgaXNTaGlwID0gbm9kZS5pZC5zdGFydHNXaXRoKFwidXBncmFkZS5zaGlwLlwiKTtcbiAgICBjb25zdCBpc01pc3NpbGUgPSBub2RlLmlkLnN0YXJ0c1dpdGgoXCJ1cGdyYWRlLm1pc3NpbGUuXCIpO1xuICAgIGlmICh0eXBlID09PSBcIm1pc3NpbGVfdW5sb2NrXCIpIHtcbiAgICAgIHJldHVybiBgVW5sb2NrICR7dmFsdWV9YDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgcGN0ID0gKCh2YWx1ZSAtIDEpICogMTAwKTtcbiAgICAgIGNvbnN0IHBjdFN0ciA9IE51bWJlci5pc0Zpbml0ZShwY3QpID8gcGN0LnRvRml4ZWQoMCkgOiBcIjBcIjtcbiAgICAgIGlmICh0eXBlID09PSBcInNwZWVkX211bHRpcGxpZXJcIikge1xuICAgICAgICByZXR1cm4gaXNTaGlwID8gYCske3BjdFN0cn0lIFNoaXAgU3BlZWRgIDogaXNNaXNzaWxlID8gYCske3BjdFN0cn0lIE1pc3NpbGUgU3BlZWRgIDogYCske3BjdFN0cn0lIFNwZWVkYDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSBcImhlYXRfY2FwYWNpdHlcIikge1xuICAgICAgICByZXR1cm4gaXNTaGlwID8gYCske3BjdFN0cn0lIFNoaXAgSGVhdGAgOiBpc01pc3NpbGUgPyBgKyR7cGN0U3RyfSUgTWlzc2lsZSBIZWF0YCA6IGArJHtwY3RTdHJ9JSBIZWF0IENhcGFjaXR5YDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSBcImhlYXRfZWZmaWNpZW5jeVwiKSB7XG4gICAgICAgIHJldHVybiBgKyR7cGN0U3RyfSUgQ29vbGluZ2A7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9KS5qb2luKCcsICcpIHx8ICcnO1xuXG4gIGNvbnN0IGNvdW50ZG93bkh0bWwgPSBub2RlLnN0YXR1cyA9PT0gJ2luX3Byb2dyZXNzJ1xuICAgID8gYDxkaXYgY2xhc3M9XCJjb3VudGRvd25cIj4ke2Zvcm1hdFRpbWUobm9kZS5yZW1haW5pbmdfcyl9PC9kaXY+YFxuICAgIDogJyc7XG5cbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwibm9kZSAke3N0YXR1c0NsYXNzfVwiIGRhdGEtbm9kZS1pZD1cIiR7bm9kZS5pZH1cIj5cbiAgICAgIDxoMz4ke25vZGUubGFiZWx9PC9oMz5cbiAgICAgICR7ZWZmZWN0c0h0bWwgPyBgPHAgY2xhc3M9XCJlZmZlY3RzXCI+JHtlZmZlY3RzSHRtbH08L3A+YCA6ICcnfVxuICAgICAgPHAgY2xhc3M9XCJkdXJhdGlvblwiPkR1cmF0aW9uOiAke2Zvcm1hdFRpbWUobm9kZS5kdXJhdGlvbl9zKX08L3A+XG4gICAgICAke2NvdW50ZG93bkh0bWx9XG4gICAgICAke25vZGUuc3RhdHVzID09PSAnYXZhaWxhYmxlJyA/ICc8YnV0dG9uPlN0YXJ0PC9idXR0b24+JyA6ICcnfVxuICAgICAgJHtub2RlLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyAnPGRpdiBjbGFzcz1cImNoZWNrbWFya1wiPlx1MjcxMzwvZGl2PicgOiAnJ31cbiAgICA8L2Rpdj5cbiAgYDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoc2Vjb25kcyA8IDYwKSByZXR1cm4gYCR7TWF0aC5mbG9vcihzZWNvbmRzKX1zYDtcbiAgaWYgKHNlY29uZHMgPCAzNjAwKSByZXR1cm4gYCR7TWF0aC5mbG9vcihzZWNvbmRzIC8gNjApfW1gO1xuICByZXR1cm4gYCR7TWF0aC5mbG9vcihzZWNvbmRzIC8gMzYwMCl9aCAke01hdGguZmxvb3IoKHNlY29uZHMgJSAzNjAwKSAvIDYwKX1tYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duVGltZXIoc3RhdGU6IEFwcFN0YXRlLCBidXM6IEV2ZW50QnVzKTogdm9pZCB7XG4gIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICB9XG5cbiAgY291bnRkb3duSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGNvbnN0IHVwZ3JhZGVOb2RlcyA9IHN0YXRlLmRhZz8ubm9kZXMuZmlsdGVyKG4gPT5cbiAgICAgIG4ua2luZCA9PT0gJ3VuaXQnICYmIG4uc3RhdHVzID09PSAnaW5fcHJvZ3Jlc3MnXG4gICAgKSB8fCBbXTtcblxuICAgIHVwZ3JhZGVOb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ub2RlLWlkPVwiJHtub2RlLmlkfVwiXSAuY291bnRkb3duYCk7XG4gICAgICBpZiAoZWwgJiYgbm9kZS5yZW1haW5pbmdfcyA+IDApIHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSBmb3JtYXRUaW1lKG5vZGUucmVtYWluaW5nX3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIGJhZGdlIGNvdW50XG4gICAgY29uc3QgaW5Qcm9ncmVzc0NvdW50ID0gdXBncmFkZU5vZGVzLmxlbmd0aDtcbiAgICBidXMuZW1pdChcInVwZ3JhZGVzOmNvdW50VXBkYXRlZFwiLCB7IGNvdW50OiBpblByb2dyZXNzQ291bnQgfSk7XG4gIH0sIDEwMDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcENvdW50ZG93blRpbWVyKCk6IHZvaWQge1xuICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICBjb3VudGRvd25JbnRlcnZhbCA9IG51bGw7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVFdmVudEJ1cyB9IGZyb20gXCIuL2J1c1wiO1xuaW1wb3J0IHsgY29ubmVjdFdlYlNvY2tldCwgc2VuZE1lc3NhZ2UgfSBmcm9tIFwiLi9uZXRcIjtcbmltcG9ydCB7IGluaXRHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuaW1wb3J0IHsgY3JlYXRlSW5pdGlhbFN0YXRlLCBjcmVhdGVJbml0aWFsVUlTdGF0ZSB9IGZyb20gXCIuL3N0YXRlXCI7XG5pbXBvcnQgeyBtb3VudFR1dG9yaWFsLCBCQVNJQ19UVVRPUklBTF9JRCB9IGZyb20gXCIuL3R1dG9yaWFsXCI7XG5pbXBvcnQgeyBjbGVhclByb2dyZXNzIGFzIGNsZWFyVHV0b3JpYWxQcm9ncmVzcyB9IGZyb20gXCIuL3R1dG9yaWFsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IG1vdW50U3RvcnksIElOVFJPX0NIQVBURVJfSUQsIElOVFJPX0lOSVRJQUxfUkVTUE9OU0VfSURTIH0gZnJvbSBcIi4vc3RvcnlcIjtcbmltcG9ydCB7IHdhaXRGb3JVc2VyU3RhcnQgfSBmcm9tIFwiLi9zdGFydC1nYXRlXCI7XG5pbXBvcnQgeyByZXN1bWVBdWRpbyB9IGZyb20gXCIuL3N0b3J5L3NmeFwiO1xuaW1wb3J0IHsgQXVkaW9FbmdpbmUgfSBmcm9tIFwiLi9hdWRpby9lbmdpbmVcIjtcbmltcG9ydCB7IE11c2ljRGlyZWN0b3IgfSBmcm9tIFwiLi9hdWRpby9tdXNpY1wiO1xuaW1wb3J0IHsgcmVnaXN0ZXJBdWRpb0J1c0JpbmRpbmdzIH0gZnJvbSBcIi4vYXVkaW8vY3Vlc1wiO1xuaW1wb3J0IHsgbW91bnRNaXNzaW9uQ29udHJvbGxlciB9IGZyb20gXCIuL21pc3Npb24vY29udHJvbGxlclwiO1xuaW1wb3J0IHsgaW5pdFVwZ3JhZGVzUGFuZWwsIHN0YXJ0Q291bnRkb3duVGltZXIgfSBmcm9tIFwiLi91cGdyYWRlc1wiO1xuXG5jb25zdCBDQUxMX1NJR05fU1RPUkFHRV9LRVkgPSBcImxzZDpjYWxsc2lnblwiO1xuXG4oYXN5bmMgZnVuY3Rpb24gYm9vdHN0cmFwKCkge1xuICBjb25zdCBxcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGNvbnN0IHJvb20gPSBxcy5nZXQoXCJyb29tXCIpIHx8IFwiZGVmYXVsdFwiO1xuICBjb25zdCBtb2RlID0gcXMuZ2V0KFwibW9kZVwiKSB8fCBcIlwiO1xuICBjb25zdCBtaXNzaW9uSWQgPSBxcy5nZXQoXCJtaXNzaW9uXCIpIHx8IChtb2RlID09PSBcImNhbXBhaWduXCIgPyBcIjFcIiA6IG51bGwpO1xuICBjb25zdCBuYW1lUGFyYW0gPSBzYW5pdGl6ZUNhbGxTaWduKHFzLmdldChcIm5hbWVcIikpO1xuICBjb25zdCBzdG9yZWROYW1lID0gc2FuaXRpemVDYWxsU2lnbihyZWFkU3RvcmVkQ2FsbFNpZ24oKSk7XG4gIGNvbnN0IGNhbGxTaWduID0gbmFtZVBhcmFtIHx8IHN0b3JlZE5hbWU7XG4gIGNvbnN0IG1hcFcgPSBwYXJzZUZsb2F0KHFzLmdldChcIm1hcFdcIikgfHwgXCI4MDAwXCIpO1xuICBjb25zdCBtYXBIID0gcGFyc2VGbG9hdChxcy5nZXQoXCJtYXBIXCIpIHx8IFwiNDUwMFwiKTtcblxuICBpZiAobmFtZVBhcmFtICYmIG5hbWVQYXJhbSAhPT0gc3RvcmVkTmFtZSkge1xuICAgIHBlcnNpc3RDYWxsU2lnbihuYW1lUGFyYW0pO1xuICB9XG5cbiAgLy8gR2F0ZSBldmVyeXRoaW5nIG9uIGEgdXNlciBnZXN0dXJlIChjZW50cmVkIGJ1dHRvbilcbiAgYXdhaXQgd2FpdEZvclVzZXJTdGFydCh7XG4gICAgbGFiZWw6IFwiU3RhcnQgR2FtZVwiLFxuICAgIHJlcXVlc3RGdWxsc2NyZWVuOiBmYWxzZSwgICAvLyBmbGlwIHRvIHRydWUgaWYgeW91IHdhbnQgZnVsbHNjcmVlblxuICAgIHJlc3VtZUF1ZGlvLCAgICAgICAgICAgICAgICAvLyB1c2VzIHN0b3J5L3NmeC50c1xuICB9KTtcblxuICAvLyAtLS0tIFN0YXJ0IGFjdHVhbCBhcHAgYWZ0ZXIgZ2VzdHVyZSAtLS0tXG4gIGNvbnN0IHN0YXRlID0gY3JlYXRlSW5pdGlhbFN0YXRlKCk7XG4gIGNvbnN0IHVpU3RhdGUgPSBjcmVhdGVJbml0aWFsVUlTdGF0ZSgpO1xuICBjb25zdCBidXMgPSBjcmVhdGVFdmVudEJ1cygpO1xuXG4gIC8vIC0tLSBBVURJTzogZW5naW5lICsgYmluZGluZ3MgKyBkZWZhdWx0IHNjZW5lIC0tLVxuICBjb25zdCBlbmdpbmUgPSBBdWRpb0VuZ2luZS5nZXQoKTtcbiAgYXdhaXQgZW5naW5lLnJlc3VtZSgpOyAvLyBzYWZlIHBvc3QtZ2VzdHVyZVxuICBjb25zdCBtdXNpYyA9IG5ldyBNdXNpY0RpcmVjdG9yKGVuZ2luZSk7XG4gIHJlZ2lzdGVyQXVkaW9CdXNCaW5kaW5ncyhidXMgYXMgYW55LCBlbmdpbmUsIG11c2ljKTtcblxuICAvLyBTdGFydCBhIGRlZmF1bHQgbXVzaWMgc2NlbmUgKGFkanVzdCBzZWVkL3NjZW5lIGFzIHlvdSBsaWtlKVxuICBidXMuZW1pdChcImF1ZGlvOm11c2ljOnNldC1zY2VuZVwiLCB7IHNjZW5lOiBcImFtYmllbnRcIiwgc2VlZDogNDIgfSk7XG5cbiAgLy8gT3B0aW9uYWw6IGJhc2ljIGhvb2tzIHRvIGRlbW9uc3RyYXRlIFNGWCAmIGR1Y2tpbmdcbiAgLy8gYnVzLm9uKFwiZGlhbG9ndWU6b3BlbmVkXCIsICgpID0+IGVuZ2luZS5kdWNrTXVzaWMoMC4zNSwgMC4xKSk7XG4gIC8vIGJ1cy5vbihcImRpYWxvZ3VlOmNsb3NlZFwiLCAoKSA9PiBlbmdpbmUudW5kdWNrTXVzaWMoMC4yNSkpO1xuXG4gIC8vIEV4YW1wbGUgZ2FtZSBTRlggd2lyaW5nIChhZGFwdCB0byB5b3VyIGFjdHVhbCBldmVudHMpXG4gIGJ1cy5vbihcInNoaXA6c3BlZWRDaGFuZ2VkXCIsICh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodmFsdWUgPiAwKSBidXMuZW1pdChcImF1ZGlvOnNmeFwiLCB7IG5hbWU6IFwidGhydXN0XCIsIHZlbG9jaXR5OiBNYXRoLm1pbigxLCB2YWx1ZSkgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IGdhbWUgPSBpbml0R2FtZSh7IHN0YXRlLCB1aVN0YXRlLCBidXMgfSk7XG4gIG1vdW50TWlzc2lvbkNvbnRyb2xsZXIoeyBzdGF0ZSwgYnVzLCBtb2RlLCBtaXNzaW9uSWQgfSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1cGdyYWRlcyBwYW5lbFxuICBpbml0VXBncmFkZXNQYW5lbChzdGF0ZSwgYnVzKTtcbiAgc3RhcnRDb3VudGRvd25UaW1lcihzdGF0ZSwgYnVzKTtcblxuICAvLyBBZGQga2V5Ym9hcmQgc2hvcnRjdXQgKFUga2V5KVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwidVwiIHx8IGUua2V5ID09PSBcIlVcIikge1xuICAgICAgYnVzLmVtaXQoXCJ1cGdyYWRlczp0b2dnbGVcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBXaXJlIHVwIHVwZ3JhZGVzIGJ1dHRvblxuICBjb25zdCB1cGdyYWRlc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZS11cGdyYWRlcy1idG5cIik7XG4gIHVwZ3JhZGVzQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGJ1cy5lbWl0KFwidXBncmFkZXM6dG9nZ2xlXCIpO1xuICB9KTtcblxuICAvLyBVcGRhdGUgYmFkZ2Ugd2l0aCBpbi1wcm9ncmVzcyBjb3VudFxuICBidXMub24oXCJ1cGdyYWRlczpjb3VudFVwZGF0ZWRcIiwgKHsgY291bnQgfSkgPT4ge1xuICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLXVwZ3JhZGVzLWJhZGdlXCIpO1xuICAgIGlmIChiYWRnZSkge1xuICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSBjb3VudCA+IDAgPyBgJHtjb3VudH1gIDogXCJcIjtcbiAgICAgIGJhZGdlLnN0eWxlLmRpc3BsYXkgPSBjb3VudCA+IDAgPyBcImlubGluZVwiIDogXCJub25lXCI7XG4gICAgfVxuICB9KTtcblxuICAvLyBNb3VudCB0dXRvcmlhbCBhbmQgc3RvcnkgYmFzZWQgb24gZ2FtZSBtb2RlXG4gIGNvbnN0IGVuYWJsZVR1dG9yaWFsID0gbW9kZSA9PT0gXCJjYW1wYWlnblwiIHx8IG1vZGUgPT09IFwidHV0b3JpYWxcIjtcbiAgY29uc3QgZW5hYmxlU3RvcnkgPSBtb2RlID09PSBcImNhbXBhaWduXCI7XG5cbiAgbGV0IHR1dG9yaWFsOiBSZXR1cm5UeXBlPHR5cGVvZiBtb3VudFR1dG9yaWFsPiB8IG51bGwgPSBudWxsO1xuICBsZXQgdHV0b3JpYWxTdGFydGVkID0gZmFsc2U7XG5cbiAgaWYgKGVuYWJsZVR1dG9yaWFsKSB7XG4gICAgdHV0b3JpYWwgPSBtb3VudFR1dG9yaWFsKGJ1cyk7XG4gIH1cblxuICBjb25zdCBzdGFydFR1dG9yaWFsID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICghdHV0b3JpYWwgfHwgdHV0b3JpYWxTdGFydGVkKSByZXR1cm47XG4gICAgdHV0b3JpYWxTdGFydGVkID0gdHJ1ZTtcbiAgICBjbGVhclR1dG9yaWFsUHJvZ3Jlc3MoQkFTSUNfVFVUT1JJQUxfSUQpO1xuICAgIHR1dG9yaWFsLnN0YXJ0KHsgcmVzdW1lOiBmYWxzZSB9KTtcbiAgfTtcblxuICBpZiAoZW5hYmxlU3RvcnkpIHtcbiAgICAvLyBDYW1wYWlnbiBtb2RlOiBzdG9yeSArIHR1dG9yaWFsXG4gICAgXG4gICAgbW91bnRTdG9yeSh7IGJ1cywgc3RhdGUsIHJvb21JZDogcm9vbSB9KTtcbiAgfSBlbHNlIGlmIChtb2RlID09PSBcInR1dG9yaWFsXCIpIHtcbiAgICAvLyBUdXRvcmlhbCBtb2RlOiBhdXRvLXN0YXJ0IHR1dG9yaWFsIHdpdGhvdXQgc3RvcnlcbiAgICBzdGFydFR1dG9yaWFsKCk7XG4gIH1cbiAgLy8gRnJlZSBwbGF5IGFuZCBkZWZhdWx0OiBubyBzeXN0ZW1zIG1vdW50ZWRcblxuICBjb25uZWN0V2ViU29ja2V0KHtcbiAgICByb29tLFxuICAgIHN0YXRlLFxuICAgIGJ1cyxcbiAgICBtYXBXLFxuICAgIG1hcEgsXG4gICAgbW9kZSxcbiAgICBtaXNzaW9uSWQ6IG1pc3Npb25JZCA/PyB1bmRlZmluZWQsXG4gICAgb25TdGF0ZVVwZGF0ZWQ6ICgpID0+IGdhbWUub25TdGF0ZVVwZGF0ZWQoKSxcbiAgICBvbk9wZW46ICgpID0+IHtcbiAgICAgIGNvbnN0IG5hbWVUb1NlbmQgPSBjYWxsU2lnbiB8fCBzYW5pdGl6ZUNhbGxTaWduKHJlYWRTdG9yZWRDYWxsU2lnbigpKTtcbiAgICAgIGlmIChuYW1lVG9TZW5kKSBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiam9pblwiLCBuYW1lOiBuYW1lVG9TZW5kIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIE9wdGlvbmFsOiBzdXNwZW5kL3Jlc3VtZSBhdWRpbyBvbiB0YWIgdmlzaWJpbGl0eSB0byBzYXZlIENQVVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgdm9pZCBlbmdpbmUuc3VzcGVuZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2b2lkIGVuZ2luZS5yZXN1bWUoKTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuZnVuY3Rpb24gc2FuaXRpemVDYWxsU2lnbih2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gIGlmICghdmFsdWUpIHJldHVybiBcIlwiO1xuICBjb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpO1xuICBpZiAoIXRyaW1tZWQpIHJldHVybiBcIlwiO1xuICByZXR1cm4gdHJpbW1lZC5zbGljZSgwLCAyNCk7XG59XG5cbmZ1bmN0aW9uIHBlcnNpc3RDYWxsU2lnbihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBpZiAobmFtZSkgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENBTExfU0lHTl9TVE9SQUdFX0tFWSwgbmFtZSk7XG4gICAgZWxzZSB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQ0FMTF9TSUdOX1NUT1JBR0VfS0VZKTtcbiAgfSBjYXRjaCB7fVxufVxuXG5mdW5jdGlvbiByZWFkU3RvcmVkQ2FsbFNpZ24oKTogc3RyaW5nIHtcbiAgdHJ5IHsgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDQUxMX1NJR05fU1RPUkFHRV9LRVkpID8/IFwiXCI7IH1cbiAgY2F0Y2ggeyByZXR1cm4gXCJcIjsgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7QUFtSE8sV0FBUyxpQkFBMkI7QUFDekMsVUFBTSxXQUFXLG9CQUFJLElBQTZCO0FBQ2xELFdBQU87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VSxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsdUJBQXVCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsUUFBUSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxXQUFXLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLGNBQWMsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEscUJBQXFCLFVBQVUsSUFBSSxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLG1CQUFtQixVQUFVLElBQUksUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxxQkFBcUIsVUFBVSxJQUFJLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksbUNBQW1DLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSx1Q0FBdUMsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLDBDQUEwQyxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksd0NBQXdDLEdBQUcsRUFBRSxRQUFRLFdBQVcsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSwrQkFBK0IsR0FBRyxFQUFFLFFBQVEsb0JBQW9CLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksa0NBQWtDLEdBQUcsRUFBRSxRQUFRLFVBQVUsVUFBVSxJQUFJLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLElBQUksUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLDJCQUEyQixDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFNBQVMsQ0FBQyxFQUFFLFFBQVEsUUFBUSxVQUFVLEdBQUcs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RUFBRSxHQUFHLEVBQUUsUUFBUSx3QkFBd0IsU0FBUyxDQUFDLEVBQUUsUUFBUSxRQUFRLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLFVBQVUsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsU0FBUyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLDhDQUE4QyxHQUFHLEVBQUUsUUFBUSxRQUFRLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksNkNBQTZDLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsWUFBWSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxpQkFBaUIsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsZUFBZSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsSUFBSSxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLFdBQVcsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSxnQ0FBZ0MsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFVBQVUsSUFBSSxRQUFRLEdBQUcsU0FBUyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsRUFBRSxRQUFRLFFBQVEsU0FBUyxDQUFDLEVBQUUsUUFBUSxlQUFlLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxnQkFBZ0IsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGdCQUFnQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsZUFBZSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsY0FBYyxVQUFVLEdBQUcsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxpQkFBaUIsVUFBVSxHQUFHLEdBQUcsRUFBRSxRQUFRLGlCQUFpQixVQUFVLEdBQUcsR0FBRyxFQUFFLFFBQVEsZUFBZSxVQUFVLEdBQUcsR0FBRyxFQUFFLFFBQVEsZUFBZSxVQUFVLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLFNBQVMsU0FBUyxDQUFDLEVBQUUsUUFBUSxrQkFBa0IsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGtCQUFrQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsa0JBQWtCLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLHdCQUF3QixTQUFTLENBQUMsRUFBRSxRQUFRLFFBQVEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLGdDQUFnQyxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsdUJBQXVCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsUUFBUSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxTQUFTLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksNENBQTRDLEdBQUcsRUFBRSxRQUFRLFdBQVcsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSwrQkFBK0IsR0FBRyxFQUFFLFFBQVEsa0JBQWtCLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVkseURBQXlELEdBQUcsRUFBRSxRQUFRLGlCQUFpQixVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksb0NBQW9DLENBQUMsR0FBRyxjQUFjLENBQUMsRUFBRSxRQUFRLHFCQUFxQixTQUFTLENBQUMsRUFBRSxRQUFRLFNBQVMsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsT0FBTyxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLDRCQUE0QixTQUFTLENBQUMsRUFBRSxRQUFRLFFBQVEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsVUFBVSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxXQUFXLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksb0NBQW9DLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSwwQkFBMEIsU0FBUyxDQUFDLEVBQUUsUUFBUSxRQUFRLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLFVBQVUsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSx5Q0FBeUMsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLGtDQUFrQyxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEseUJBQXlCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsUUFBUSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLGVBQWUsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLGlDQUFp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RUFBRSxHQUFHLEVBQUUsUUFBUSxzQkFBc0IsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLGdCQUFnQixVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxtQkFBbUIsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxFQUFFLFFBQVEsWUFBWSxTQUFTLENBQUMsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsY0FBYyxTQUFTLENBQUMsRUFBRSxRQUFRLGtCQUFrQixVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLDZDQUE2QyxXQUFXLEVBQUUsYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxtQkFBbUIsQ0FBQyxFQUFFLFNBQVMsWUFBWSxXQUFXLElBQUksR0FBRyxFQUFFLFNBQVMsWUFBWSxXQUFXLElBQUksR0FBRyxFQUFFLFNBQVMsWUFBWSxXQUFXLElBQUssQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLHdDQUF3QyxXQUFXLEVBQUUsYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxtQkFBbUIsQ0FBQyxFQUFFLFNBQVMsVUFBVSxXQUFXLElBQUksR0FBRyxFQUFFLFNBQVMsUUFBUSxXQUFXLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLFFBQVEsMkJBQTJCLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVkscURBQXFELFdBQVcsRUFBRSxhQUFhLEdBQUcsV0FBVyxD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QVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLE1BQU07QUFBQSxRQUNOLFNBQVM7QUFBQSxVQUNQLE1BQU07QUFBQSxVQUNOLE9BQU87QUFBQSxRQUNUO0FBQUEsTUFDRjtBQUFBLE1BQ0E7QUFBQSxRQUNFLElBQUk7QUFBQSxRQUNKLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLE1BQU07QUFBQSxRQUNOLFNBQVM7QUFBQSxVQUNQLE1BQU07QUFBQSxVQUNOLE9BQU87QUFBQSxVQUNQLE1BQU0sQ0FBQyxZQUFZLHdCQUF3QixTQUFTLENBQUM7QUFBQSxRQUN2RDtBQUFBLE1BQ0Y7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJ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QUFZLEVBQUUsTUFBTSxRQUFRLE1BQU0sV0FBVyxDQUFDO0FBQUEsVUFDaEU7QUFBQSxRQUNGLENBQUM7QUFHRCxpQkFBUyxpQkFBaUIsb0JBQW9CLE1BQU07QUFDbEQsY0FBSSxTQUFTLG9CQUFvQixVQUFVO0FBQ3pDLGlCQUFLLE9BQU8sUUFBUTtBQUFBLFVBQ3RCLE9BQU87QUFDTCxpQkFBSyxPQUFPLE9BQU87QUFBQSxVQUNyQjtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0gsR0FBRztBQUVILGVBQVMsaUJBQWlCLE9BQThCO0FBQ3RELFlBQUksQ0FBQyxNQUFPLFFBQU87QUFDbkIsY0FBTSxVQUFVLE1BQU0sS0FBSztBQUMzQixZQUFJLENBQUMsUUFBUyxRQUFPO0FBQ3JCLGVBQU8sUUFBUSxNQUFNLEdBQUcsRUFBRTtBQUFBLE1BQzVCO0FBRUEsZUFBUyxnQkFBZ0IsTUFBb0I7QUFDM0MsWUFBSTtBQUNGLGNBQUksS0FBTSxRQUFPLGFBQWEsUUFBUSx1QkFBdUIsSUFBSTtBQUFBLGNBQzVELFFBQU8sYUFBYSxXQUFXLHFCQUFxQjtBQUFBLFFBQzNELFNBQVE7QUFBQSxRQUFDO0FBQUEsTUFDWDtBQUVBLGVBQVMscUJBQTZCO0FBOUp0QztBQStKRSxZQUFJO0FBQUUsa0JBQU8sWUFBTyxhQUFhLFFBQVEscUJBQXFCLE1BQWpELFlBQXNEO0FBQUEsUUFBSSxTQUNqRTtBQUFFLGlCQUFPO0FBQUEsUUFBSTtBQUFBLE1BQ3JCO0FBQUE7QUFBQTsiLAogICJuYW1lcyI6IFsiaXNNZXNzYWdlIiwgIlNjYWxhclR5cGUiLCAibWVzc2FnZURlc2MiLCAibWVzc2FnZURlc2MiLCAibWVzc2FnZURlc2MiLCAiSU1QTElDSVQiLCAiV2lyZVR5cGUiLCAibWVzc2FnZURlc2MiLCAiX2EiLCAiRURJVElPTl9QUk9UTzIiLCAiRURJVElPTl9QUk9UTzMiLCAiSU1QTElDSVQiLCAiYm9vdCIsICJFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGUiLCAiRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZSIsICJGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbCIsICJGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGUiLCAiRmllbGRPcHRpb25zX0NUeXBlIiwgIkZpZWxkT3B0aW9uc19KU1R5cGUiLCAiRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbiIsICJGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZSIsICJNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWwiLCAiRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eSIsICJGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UiLCAiRmVhdHVyZVNldF9FbnVtVHlwZSIsICJGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZyIsICJGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uIiwgIkZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nIiwgIkZlYXR1cmVTZXRfSnNvbkZvcm1hdCIsICJGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZSIsICJHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljIiwgIkVkaXRpb24iLCAiU3ltYm9sVmlzaWJpbGl0eSIsICJMRUdBQ1lfUkVRVUlSRUQiLCAiaW5pdF9zY2FsYXIiLCAiaW5pdF90eXBlcyIsICJpbml0X3NjYWxhciIsICJpbml0X3R5cGVzIiwgIl9hIiwgIl9iIiwgIl9jIiwgInNlbmRNZXNzYWdlIiwgIl9hIiwgIl9iIiwgInNlbmRNZXNzYWdlIiwgImdldEFwcHJveFNlcnZlck5vdyIsICJzZWxlY3Rpb24iLCAic2VuZE1lc3NhZ2UiLCAiZ2V0QXBwcm94U2VydmVyTm93IiwgIl9hIiwgImVuc3VyZVN0eWxlcyIsICJjaG9pY2UiLCAiX2EiLCAiU1RZTEVfSUQiLCAiY2hvaWNlIiwgInJlc3VtZUF1ZGlvIiwgImluaXRfZW5naW5lIiwgImluaXRfc2Z4IiwgImluaXRfZW5naW5lIiwgImluaXRfZW5naW5lIiwgImluaXRfY29udHJvbGxlciIsICJpbml0X3NmeCIsICJpbml0X2VuZ2luZSIsICJpbml0X2NvbnRyb2xsZXIiXQp9Cg==

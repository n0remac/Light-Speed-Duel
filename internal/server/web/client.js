"use strict";
(() => {
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };

  // web/src/bus.ts
  function createEventBus() {
    const handlers = /* @__PURE__ */ new Map();
    return {
      on(event, handler) {
        let set = handlers.get(event);
        if (!set) {
          set = /* @__PURE__ */ new Set();
          handlers.set(event, set);
        }
        set.add(handler);
        return () => set.delete(handler);
      },
      emit(event, payload) {
        const set = handlers.get(event);
        if (!set || set.size === 0) return;
        for (const fn of set) {
          try {
            fn(payload);
          } catch (err) {
            console.error(`[bus] handler for ${event} failed`, err);
          }
        }
      }
    };
  }
  var init_bus = __esm({
    "web/src/bus.ts"() {
      "use strict";
    }
  });

  // web/src/state.ts
  function createInitialUIState() {
    return {
      inputContext: "ship",
      shipTool: "set",
      missileTool: null,
      activeTool: "ship-set",
      showShipRoute: true,
      helpVisible: false,
      zoom: 1,
      panX: 0,
      panY: 0
    };
  }
  function createInitialState(limits = {
    speedMin: MISSILE_MIN_SPEED,
    speedMax: MISSILE_MAX_SPEED,
    agroMin: MISSILE_MIN_AGRO
  }) {
    return {
      now: 0,
      nowSyncedAt: typeof performance !== "undefined" && typeof performance.now === "function" ? performance.now() : Date.now(),
      me: null,
      ghosts: [],
      missiles: [],
      missileRoutes: [],
      activeMissileRouteId: null,
      nextMissileReadyAt: 0,
      missileConfig: {
        speed: 180,
        agroRadius: 800,
        lifetime: missileLifetimeFor(180, 800, limits),
        heatParams: MISSILE_PRESETS[1].heatParams
        // Default to Hunter preset
      },
      missileLimits: limits,
      worldMeta: {},
      inventory: null,
      dag: null,
      mission: null,
      story: null,
      craftHeatCapacity: 80,
      // Default to basic missile heat capacity
      capabilities: null
    };
  }
  function clamp(value, min, max) {
    return Math.max(min, Math.min(max, value));
  }
  function missileLifetimeFor(speed, agroRadius, limits = {
    speedMin: MISSILE_MIN_SPEED,
    speedMax: MISSILE_MAX_SPEED,
    agroMin: MISSILE_MIN_AGRO
  }) {
    const minSpeed = Number.isFinite(limits.speedMin) ? limits.speedMin : MISSILE_MIN_SPEED;
    const maxSpeed = Number.isFinite(limits.speedMax) ? limits.speedMax : MISSILE_MAX_SPEED;
    const minAgro = Number.isFinite(limits.agroMin) ? limits.agroMin : MISSILE_MIN_AGRO;
    const span = maxSpeed - minSpeed;
    const speedNorm = span > 0 ? clamp((speed - minSpeed) / span, 0, 1) : 0;
    const adjustedAgro = Math.max(0, agroRadius - minAgro);
    const agroNorm = clamp(adjustedAgro / MISSILE_LIFETIME_AGRO_REF, 0, 1);
    const reduction = speedNorm * MISSILE_LIFETIME_SPEED_PENALTY + agroNorm * MISSILE_LIFETIME_AGRO_PENALTY;
    const base = MISSILE_MAX_LIFETIME;
    return clamp(base - reduction, MISSILE_MIN_LIFETIME, MISSILE_MAX_LIFETIME);
  }
  function sanitizeMissileConfig(cfg, fallback, limits) {
    var _a, _b, _c, _d;
    const minSpeed = Number.isFinite(limits.speedMin) ? limits.speedMin : MISSILE_MIN_SPEED;
    const maxSpeed = Number.isFinite(limits.speedMax) ? limits.speedMax : MISSILE_MAX_SPEED;
    const minAgro = Number.isFinite(limits.agroMin) ? limits.agroMin : MISSILE_MIN_AGRO;
    const base = fallback != null ? fallback : {
      speed: minSpeed,
      agroRadius: minAgro,
      lifetime: missileLifetimeFor(minSpeed, minAgro, limits)
    };
    const mergedSpeed = Number.isFinite((_a = cfg.speed) != null ? _a : base.speed) ? (_b = cfg.speed) != null ? _b : base.speed : base.speed;
    const mergedAgro = Number.isFinite((_c = cfg.agroRadius) != null ? _c : base.agroRadius) ? (_d = cfg.agroRadius) != null ? _d : base.agroRadius : base.agroRadius;
    const speed = clamp(mergedSpeed, minSpeed, maxSpeed);
    const agroRadius = Math.max(minAgro, mergedAgro);
    const heatParams = cfg.heatParams ? { ...cfg.heatParams } : base.heatParams ? { ...base.heatParams } : void 0;
    return {
      speed,
      agroRadius,
      lifetime: missileLifetimeFor(speed, agroRadius, limits),
      heatParams
    };
  }
  function monotonicNow() {
    if (typeof performance !== "undefined" && typeof performance.now === "function") {
      return performance.now();
    }
    return Date.now();
  }
  function updateMissileLimits(state, limits) {
    state.missileLimits = {
      speedMin: Number.isFinite(limits.speedMin) ? limits.speedMin : state.missileLimits.speedMin,
      speedMax: Number.isFinite(limits.speedMax) ? limits.speedMax : state.missileLimits.speedMax,
      agroMin: Number.isFinite(limits.agroMin) ? limits.agroMin : state.missileLimits.agroMin
    };
  }
  var MISSILE_MIN_SPEED, MISSILE_MAX_SPEED, MISSILE_MIN_AGRO, MISSILE_MAX_LIFETIME, MISSILE_MIN_LIFETIME, MISSILE_LIFETIME_SPEED_PENALTY, MISSILE_LIFETIME_AGRO_PENALTY, MISSILE_LIFETIME_AGRO_REF, MISSILE_PRESETS;
  var init_state = __esm({
    "web/src/state.ts"() {
      "use strict";
      MISSILE_MIN_SPEED = 40;
      MISSILE_MAX_SPEED = 250;
      MISSILE_MIN_AGRO = 100;
      MISSILE_MAX_LIFETIME = 120;
      MISSILE_MIN_LIFETIME = 20;
      MISSILE_LIFETIME_SPEED_PENALTY = 80;
      MISSILE_LIFETIME_AGRO_PENALTY = 40;
      MISSILE_LIFETIME_AGRO_REF = 2e3;
      MISSILE_PRESETS = [
        {
          name: "Scout",
          description: "Slow, efficient, long-range. High heat capacity.",
          speed: 80,
          agroRadius: 1500,
          heatParams: {
            max: 60,
            warnAt: 42,
            overheatAt: 60,
            markerSpeed: 70,
            kUp: 20,
            kDown: 15,
            exp: 1.5
          }
        },
        {
          name: "Hunter",
          description: "Balanced speed and detection. Standard heat.",
          speed: 150,
          agroRadius: 800,
          heatParams: {
            max: 50,
            warnAt: 35,
            overheatAt: 50,
            markerSpeed: 120,
            kUp: 28,
            kDown: 12,
            exp: 1.5
          }
        },
        {
          name: "Sniper",
          description: "Fast, narrow detection. Low heat capacity.",
          speed: 220,
          agroRadius: 300,
          heatParams: {
            max: 40,
            warnAt: 28,
            overheatAt: 40,
            markerSpeed: 180,
            kUp: 35,
            kDown: 8,
            exp: 1.5
          }
        }
      ];
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/types.js
  var init_types = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/is-message.js
  function isMessage(arg, schema) {
    const isMessage2 = arg !== null && typeof arg == "object" && "$typeName" in arg && typeof arg.$typeName == "string";
    if (!isMessage2) {
      return false;
    }
    if (schema === void 0) {
      return true;
    }
    return schema.typeName === arg.$typeName;
  }
  var init_is_message = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/is-message.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/descriptors.js
  var ScalarType;
  var init_descriptors = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/descriptors.js"() {
      (function(ScalarType2) {
        ScalarType2[ScalarType2["DOUBLE"] = 1] = "DOUBLE";
        ScalarType2[ScalarType2["FLOAT"] = 2] = "FLOAT";
        ScalarType2[ScalarType2["INT64"] = 3] = "INT64";
        ScalarType2[ScalarType2["UINT64"] = 4] = "UINT64";
        ScalarType2[ScalarType2["INT32"] = 5] = "INT32";
        ScalarType2[ScalarType2["FIXED64"] = 6] = "FIXED64";
        ScalarType2[ScalarType2["FIXED32"] = 7] = "FIXED32";
        ScalarType2[ScalarType2["BOOL"] = 8] = "BOOL";
        ScalarType2[ScalarType2["STRING"] = 9] = "STRING";
        ScalarType2[ScalarType2["BYTES"] = 12] = "BYTES";
        ScalarType2[ScalarType2["UINT32"] = 13] = "UINT32";
        ScalarType2[ScalarType2["SFIXED32"] = 15] = "SFIXED32";
        ScalarType2[ScalarType2["SFIXED64"] = 16] = "SFIXED64";
        ScalarType2[ScalarType2["SINT32"] = 17] = "SINT32";
        ScalarType2[ScalarType2["SINT64"] = 18] = "SINT64";
      })(ScalarType || (ScalarType = {}));
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js
  function varint64read() {
    let lowBits = 0;
    let highBits = 0;
    for (let shift = 0; shift < 28; shift += 7) {
      let b = this.buf[this.pos++];
      lowBits |= (b & 127) << shift;
      if ((b & 128) == 0) {
        this.assertBounds();
        return [lowBits, highBits];
      }
    }
    let middleByte = this.buf[this.pos++];
    lowBits |= (middleByte & 15) << 28;
    highBits = (middleByte & 112) >> 4;
    if ((middleByte & 128) == 0) {
      this.assertBounds();
      return [lowBits, highBits];
    }
    for (let shift = 3; shift <= 31; shift += 7) {
      let b = this.buf[this.pos++];
      highBits |= (b & 127) << shift;
      if ((b & 128) == 0) {
        this.assertBounds();
        return [lowBits, highBits];
      }
    }
    throw new Error("invalid varint");
  }
  function varint64write(lo, hi, bytes) {
    for (let i = 0; i < 28; i = i + 7) {
      const shift = lo >>> i;
      const hasNext = !(shift >>> 7 == 0 && hi == 0);
      const byte = (hasNext ? shift | 128 : shift) & 255;
      bytes.push(byte);
      if (!hasNext) {
        return;
      }
    }
    const splitBits = lo >>> 28 & 15 | (hi & 7) << 4;
    const hasMoreBits = !(hi >> 3 == 0);
    bytes.push((hasMoreBits ? splitBits | 128 : splitBits) & 255);
    if (!hasMoreBits) {
      return;
    }
    for (let i = 3; i < 31; i = i + 7) {
      const shift = hi >>> i;
      const hasNext = !(shift >>> 7 == 0);
      const byte = (hasNext ? shift | 128 : shift) & 255;
      bytes.push(byte);
      if (!hasNext) {
        return;
      }
    }
    bytes.push(hi >>> 31 & 1);
  }
  function int64FromString(dec) {
    const minus = dec[0] === "-";
    if (minus) {
      dec = dec.slice(1);
    }
    const base = 1e6;
    let lowBits = 0;
    let highBits = 0;
    function add1e6digit(begin, end) {
      const digit1e6 = Number(dec.slice(begin, end));
      highBits *= base;
      lowBits = lowBits * base + digit1e6;
      if (lowBits >= TWO_PWR_32_DBL) {
        highBits = highBits + (lowBits / TWO_PWR_32_DBL | 0);
        lowBits = lowBits % TWO_PWR_32_DBL;
      }
    }
    add1e6digit(-24, -18);
    add1e6digit(-18, -12);
    add1e6digit(-12, -6);
    add1e6digit(-6);
    return minus ? negate(lowBits, highBits) : newBits(lowBits, highBits);
  }
  function int64ToString(lo, hi) {
    let bits = newBits(lo, hi);
    const negative = bits.hi & 2147483648;
    if (negative) {
      bits = negate(bits.lo, bits.hi);
    }
    const result = uInt64ToString(bits.lo, bits.hi);
    return negative ? "-" + result : result;
  }
  function uInt64ToString(lo, hi) {
    ({ lo, hi } = toUnsigned(lo, hi));
    if (hi <= 2097151) {
      return String(TWO_PWR_32_DBL * hi + lo);
    }
    const low = lo & 16777215;
    const mid = (lo >>> 24 | hi << 8) & 16777215;
    const high = hi >> 16 & 65535;
    let digitA = low + mid * 6777216 + high * 6710656;
    let digitB = mid + high * 8147497;
    let digitC = high * 2;
    const base = 1e7;
    if (digitA >= base) {
      digitB += Math.floor(digitA / base);
      digitA %= base;
    }
    if (digitB >= base) {
      digitC += Math.floor(digitB / base);
      digitB %= base;
    }
    return digitC.toString() + decimalFrom1e7WithLeadingZeros(digitB) + decimalFrom1e7WithLeadingZeros(digitA);
  }
  function toUnsigned(lo, hi) {
    return { lo: lo >>> 0, hi: hi >>> 0 };
  }
  function newBits(lo, hi) {
    return { lo: lo | 0, hi: hi | 0 };
  }
  function negate(lowBits, highBits) {
    highBits = ~highBits;
    if (lowBits) {
      lowBits = ~lowBits + 1;
    } else {
      highBits += 1;
    }
    return newBits(lowBits, highBits);
  }
  function varint32write(value, bytes) {
    if (value >= 0) {
      while (value > 127) {
        bytes.push(value & 127 | 128);
        value = value >>> 7;
      }
      bytes.push(value);
    } else {
      for (let i = 0; i < 9; i++) {
        bytes.push(value & 127 | 128);
        value = value >> 7;
      }
      bytes.push(1);
    }
  }
  function varint32read() {
    let b = this.buf[this.pos++];
    let result = b & 127;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 7;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 14;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 21;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 15) << 28;
    for (let readBytes = 5; (b & 128) !== 0 && readBytes < 10; readBytes++)
      b = this.buf[this.pos++];
    if ((b & 128) != 0)
      throw new Error("invalid varint");
    this.assertBounds();
    return result >>> 0;
  }
  var TWO_PWR_32_DBL, decimalFrom1e7WithLeadingZeros;
  var init_varint = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js"() {
      TWO_PWR_32_DBL = 4294967296;
      decimalFrom1e7WithLeadingZeros = (digit1e7) => {
        const partial = String(digit1e7);
        return "0000000".slice(partial.length) + partial;
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js
  function makeInt64Support() {
    const dv = new DataView(new ArrayBuffer(8));
    const ok = typeof BigInt === "function" && typeof dv.getBigInt64 === "function" && typeof dv.getBigUint64 === "function" && typeof dv.setBigInt64 === "function" && typeof dv.setBigUint64 === "function" && (!!globalThis.Deno || typeof process != "object" || typeof process.env != "object" || process.env.BUF_BIGINT_DISABLE !== "1");
    if (ok) {
      const MIN = BigInt("-9223372036854775808");
      const MAX = BigInt("9223372036854775807");
      const UMIN = BigInt("0");
      const UMAX = BigInt("18446744073709551615");
      return {
        zero: BigInt(0),
        supported: true,
        parse(value) {
          const bi = typeof value == "bigint" ? value : BigInt(value);
          if (bi > MAX || bi < MIN) {
            throw new Error(`invalid int64: ${value}`);
          }
          return bi;
        },
        uParse(value) {
          const bi = typeof value == "bigint" ? value : BigInt(value);
          if (bi > UMAX || bi < UMIN) {
            throw new Error(`invalid uint64: ${value}`);
          }
          return bi;
        },
        enc(value) {
          dv.setBigInt64(0, this.parse(value), true);
          return {
            lo: dv.getInt32(0, true),
            hi: dv.getInt32(4, true)
          };
        },
        uEnc(value) {
          dv.setBigInt64(0, this.uParse(value), true);
          return {
            lo: dv.getInt32(0, true),
            hi: dv.getInt32(4, true)
          };
        },
        dec(lo, hi) {
          dv.setInt32(0, lo, true);
          dv.setInt32(4, hi, true);
          return dv.getBigInt64(0, true);
        },
        uDec(lo, hi) {
          dv.setInt32(0, lo, true);
          dv.setInt32(4, hi, true);
          return dv.getBigUint64(0, true);
        }
      };
    }
    return {
      zero: "0",
      supported: false,
      parse(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertInt64String(value);
        return value;
      },
      uParse(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertUInt64String(value);
        return value;
      },
      enc(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertInt64String(value);
        return int64FromString(value);
      },
      uEnc(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertUInt64String(value);
        return int64FromString(value);
      },
      dec(lo, hi) {
        return int64ToString(lo, hi);
      },
      uDec(lo, hi) {
        return uInt64ToString(lo, hi);
      }
    };
  }
  function assertInt64String(value) {
    if (!/^-?[0-9]+$/.test(value)) {
      throw new Error("invalid int64: " + value);
    }
  }
  function assertUInt64String(value) {
    if (!/^[0-9]+$/.test(value)) {
      throw new Error("invalid uint64: " + value);
    }
  }
  var protoInt64;
  var init_proto_int64 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js"() {
      init_varint();
      protoInt64 = /* @__PURE__ */ makeInt64Support();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js
  function scalarZeroValue(type, longAsString) {
    switch (type) {
      case ScalarType.STRING:
        return "";
      case ScalarType.BOOL:
        return false;
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        return 0;
      case ScalarType.INT64:
      case ScalarType.UINT64:
      case ScalarType.SFIXED64:
      case ScalarType.FIXED64:
      case ScalarType.SINT64:
        return longAsString ? "0" : protoInt64.zero;
      case ScalarType.BYTES:
        return new Uint8Array(0);
      default:
        return 0;
    }
  }
  function isScalarZeroValue(type, value) {
    switch (type) {
      case ScalarType.BOOL:
        return value === false;
      case ScalarType.STRING:
        return value === "";
      case ScalarType.BYTES:
        return value instanceof Uint8Array && !value.byteLength;
      default:
        return value == 0;
    }
  }
  var init_scalar = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js"() {
      init_proto_int64();
      init_descriptors();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js
  function unsafeOneofCase(target, oneof) {
    const c = target[oneof.localName].case;
    if (c === void 0) {
      return c;
    }
    return oneof.fields.find((f) => f.localName === c);
  }
  function unsafeIsSet(target, field) {
    const name = field.localName;
    if (field.oneof) {
      return target[field.oneof.localName].case === name;
    }
    if (field.presence != IMPLICIT) {
      return target[name] !== void 0 && Object.prototype.hasOwnProperty.call(target, name);
    }
    switch (field.fieldKind) {
      case "list":
        return target[name].length > 0;
      case "map":
        return Object.keys(target[name]).length > 0;
      case "scalar":
        return !isScalarZeroValue(field.scalar, target[name]);
      case "enum":
        return target[name] !== field.enum.values[0].number;
    }
    throw new Error("message field with implicit presence");
  }
  function unsafeIsSetExplicit(target, localName) {
    return Object.prototype.hasOwnProperty.call(target, localName) && target[localName] !== void 0;
  }
  function unsafeGet(target, field) {
    if (field.oneof) {
      const oneof = target[field.oneof.localName];
      if (oneof.case === field.localName) {
        return oneof.value;
      }
      return void 0;
    }
    return target[field.localName];
  }
  function unsafeSet(target, field, value) {
    if (field.oneof) {
      target[field.oneof.localName] = {
        case: field.localName,
        value
      };
    } else {
      target[field.localName] = value;
    }
  }
  function unsafeClear(target, field) {
    const name = field.localName;
    if (field.oneof) {
      const oneofLocalName = field.oneof.localName;
      if (target[oneofLocalName].case === name) {
        target[oneofLocalName] = { case: void 0 };
      }
    } else if (field.presence != IMPLICIT) {
      delete target[name];
    } else {
      switch (field.fieldKind) {
        case "map":
          target[name] = {};
          break;
        case "list":
          target[name] = [];
          break;
        case "enum":
          target[name] = field.enum.values[0].number;
          break;
        case "scalar":
          target[name] = scalarZeroValue(field.scalar, field.longAsString);
          break;
      }
    }
  }
  var IMPLICIT, unsafeLocal;
  var init_unsafe = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js"() {
      init_scalar();
      IMPLICIT = 2;
      unsafeLocal = Symbol.for("reflect unsafe local");
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js
  function isObject(arg) {
    return arg !== null && typeof arg == "object" && !Array.isArray(arg);
  }
  function isReflectList(arg, field) {
    var _a, _b, _c, _d;
    if (isObject(arg) && unsafeLocal in arg && "add" in arg && "field" in arg && typeof arg.field == "function") {
      if (field !== void 0) {
        const a = field;
        const b = arg.field();
        return a.listKind == b.listKind && a.scalar === b.scalar && ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) && ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName);
      }
      return true;
    }
    return false;
  }
  function isReflectMap(arg, field) {
    var _a, _b, _c, _d;
    if (isObject(arg) && unsafeLocal in arg && "has" in arg && "field" in arg && typeof arg.field == "function") {
      if (field !== void 0) {
        const a = field, b = arg.field();
        return a.mapKey === b.mapKey && a.mapKind == b.mapKind && a.scalar === b.scalar && ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) && ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName);
      }
      return true;
    }
    return false;
  }
  function isReflectMessage(arg, messageDesc2) {
    return isObject(arg) && unsafeLocal in arg && "desc" in arg && isObject(arg.desc) && arg.desc.kind === "message" && (messageDesc2 === void 0 || arg.desc.typeName == messageDesc2.typeName);
  }
  var init_guard = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js"() {
      init_unsafe();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js
  function isWrapper(arg) {
    return isWrapperTypeName(arg.$typeName);
  }
  function isWrapperDesc(messageDesc2) {
    const f = messageDesc2.fields[0];
    return isWrapperTypeName(messageDesc2.typeName) && f !== void 0 && f.fieldKind == "scalar" && f.name == "value" && f.number == 1;
  }
  function isWrapperTypeName(name) {
    return name.startsWith("google.protobuf.") && [
      "DoubleValue",
      "FloatValue",
      "Int64Value",
      "UInt64Value",
      "Int32Value",
      "UInt32Value",
      "BoolValue",
      "StringValue",
      "BytesValue"
    ].includes(name.substring(16));
  }
  var init_wrappers = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/create.js
  function create(schema, init) {
    if (isMessage(init, schema)) {
      return init;
    }
    const message = createZeroMessage(schema);
    if (init !== void 0) {
      initMessage(schema, message, init);
    }
    return message;
  }
  function initMessage(messageDesc2, message, init) {
    for (const member of messageDesc2.members) {
      let value = init[member.localName];
      if (value == null) {
        continue;
      }
      let field;
      if (member.kind == "oneof") {
        const oneofField = unsafeOneofCase(init, member);
        if (!oneofField) {
          continue;
        }
        field = oneofField;
        value = unsafeGet(init, oneofField);
      } else {
        field = member;
      }
      switch (field.fieldKind) {
        case "message":
          value = toMessage(field, value);
          break;
        case "scalar":
          value = initScalar(field, value);
          break;
        case "list":
          value = initList(field, value);
          break;
        case "map":
          value = initMap(field, value);
          break;
      }
      unsafeSet(message, field, value);
    }
    return message;
  }
  function initScalar(field, value) {
    if (field.scalar == ScalarType.BYTES) {
      return toU8Arr(value);
    }
    return value;
  }
  function initMap(field, value) {
    if (isObject(value)) {
      if (field.scalar == ScalarType.BYTES) {
        return convertObjectValues(value, toU8Arr);
      }
      if (field.mapKind == "message") {
        return convertObjectValues(value, (val) => toMessage(field, val));
      }
    }
    return value;
  }
  function initList(field, value) {
    if (Array.isArray(value)) {
      if (field.scalar == ScalarType.BYTES) {
        return value.map(toU8Arr);
      }
      if (field.listKind == "message") {
        return value.map((item) => toMessage(field, item));
      }
    }
    return value;
  }
  function toMessage(field, value) {
    if (field.fieldKind == "message" && !field.oneof && isWrapperDesc(field.message)) {
      return initScalar(field.message.fields[0], value);
    }
    if (isObject(value)) {
      if (field.message.typeName == "google.protobuf.Struct" && field.parent.typeName !== "google.protobuf.Value") {
        return value;
      }
      if (!isMessage(value, field.message)) {
        return create(field.message, value);
      }
    }
    return value;
  }
  function toU8Arr(value) {
    return Array.isArray(value) ? new Uint8Array(value) : value;
  }
  function convertObjectValues(obj, fn) {
    const ret = {};
    for (const entry of Object.entries(obj)) {
      ret[entry[0]] = fn(entry[1]);
    }
    return ret;
  }
  function createZeroMessage(desc) {
    let msg;
    if (!needsPrototypeChain(desc)) {
      msg = {
        $typeName: desc.typeName
      };
      for (const member of desc.members) {
        if (member.kind == "oneof" || member.presence == IMPLICIT2) {
          msg[member.localName] = createZeroField(member);
        }
      }
    } else {
      const cached = messagePrototypes.get(desc);
      let prototype;
      let members;
      if (cached) {
        ({ prototype, members } = cached);
      } else {
        prototype = {};
        members = /* @__PURE__ */ new Set();
        for (const member of desc.members) {
          if (member.kind == "oneof") {
            continue;
          }
          if (member.fieldKind != "scalar" && member.fieldKind != "enum") {
            continue;
          }
          if (member.presence == IMPLICIT2) {
            continue;
          }
          members.add(member);
          prototype[member.localName] = createZeroField(member);
        }
        messagePrototypes.set(desc, { prototype, members });
      }
      msg = Object.create(prototype);
      msg.$typeName = desc.typeName;
      for (const member of desc.members) {
        if (members.has(member)) {
          continue;
        }
        if (member.kind == "field") {
          if (member.fieldKind == "message") {
            continue;
          }
          if (member.fieldKind == "scalar" || member.fieldKind == "enum") {
            if (member.presence != IMPLICIT2) {
              continue;
            }
          }
        }
        msg[member.localName] = createZeroField(member);
      }
    }
    return msg;
  }
  function needsPrototypeChain(desc) {
    switch (desc.file.edition) {
      case EDITION_PROTO3:
        return false;
      case EDITION_PROTO2:
        return true;
      default:
        return desc.fields.some((f) => f.presence != IMPLICIT2 && f.fieldKind != "message" && !f.oneof);
    }
  }
  function createZeroField(field) {
    if (field.kind == "oneof") {
      return { case: void 0 };
    }
    if (field.fieldKind == "list") {
      return [];
    }
    if (field.fieldKind == "map") {
      return {};
    }
    if (field.fieldKind == "message") {
      return tokenZeroMessageField;
    }
    const defaultValue = field.getDefaultValue();
    if (defaultValue !== void 0) {
      return field.fieldKind == "scalar" && field.longAsString ? defaultValue.toString() : defaultValue;
    }
    return field.fieldKind == "scalar" ? scalarZeroValue(field.scalar, field.longAsString) : field.enum.values[0].number;
  }
  var EDITION_PROTO3, EDITION_PROTO2, IMPLICIT2, tokenZeroMessageField, messagePrototypes;
  var init_create = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/create.js"() {
      init_is_message();
      init_descriptors();
      init_scalar();
      init_guard();
      init_unsafe();
      init_wrappers();
      EDITION_PROTO3 = 999;
      EDITION_PROTO2 = 998;
      IMPLICIT2 = 2;
      tokenZeroMessageField = Symbol();
      messagePrototypes = /* @__PURE__ */ new WeakMap();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js
  var FieldError;
  var init_error = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js"() {
      FieldError = class extends Error {
        constructor(fieldOrOneof, message, name = "FieldValueInvalidError") {
          super(message);
          this.name = name;
          this.field = () => fieldOrOneof;
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js
  function getTextEncoding() {
    if (globalThis[symbol] == void 0) {
      const te = new globalThis.TextEncoder();
      const td = new globalThis.TextDecoder();
      globalThis[symbol] = {
        encodeUtf8(text) {
          return te.encode(text);
        },
        decodeUtf8(bytes) {
          return td.decode(bytes);
        },
        checkUtf8(text) {
          try {
            encodeURIComponent(text);
            return true;
          } catch (_) {
            return false;
          }
        }
      };
    }
    return globalThis[symbol];
  }
  var symbol;
  var init_text_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js"() {
      symbol = Symbol.for("@bufbuild/protobuf/text-encoding");
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js
  function assertInt32(arg) {
    if (typeof arg == "string") {
      arg = Number(arg);
    } else if (typeof arg != "number") {
      throw new Error("invalid int32: " + typeof arg);
    }
    if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN)
      throw new Error("invalid int32: " + arg);
  }
  function assertUInt32(arg) {
    if (typeof arg == "string") {
      arg = Number(arg);
    } else if (typeof arg != "number") {
      throw new Error("invalid uint32: " + typeof arg);
    }
    if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0)
      throw new Error("invalid uint32: " + arg);
  }
  function assertFloat32(arg) {
    if (typeof arg == "string") {
      const o = arg;
      arg = Number(arg);
      if (Number.isNaN(arg) && o !== "NaN") {
        throw new Error("invalid float32: " + o);
      }
    } else if (typeof arg != "number") {
      throw new Error("invalid float32: " + typeof arg);
    }
    if (Number.isFinite(arg) && (arg > FLOAT32_MAX || arg < FLOAT32_MIN))
      throw new Error("invalid float32: " + arg);
  }
  var WireType, FLOAT32_MAX, FLOAT32_MIN, UINT32_MAX, INT32_MAX, INT32_MIN, BinaryWriter, BinaryReader;
  var init_binary_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js"() {
      init_varint();
      init_proto_int64();
      init_text_encoding();
      (function(WireType2) {
        WireType2[WireType2["Varint"] = 0] = "Varint";
        WireType2[WireType2["Bit64"] = 1] = "Bit64";
        WireType2[WireType2["LengthDelimited"] = 2] = "LengthDelimited";
        WireType2[WireType2["StartGroup"] = 3] = "StartGroup";
        WireType2[WireType2["EndGroup"] = 4] = "EndGroup";
        WireType2[WireType2["Bit32"] = 5] = "Bit32";
      })(WireType || (WireType = {}));
      FLOAT32_MAX = 34028234663852886e22;
      FLOAT32_MIN = -34028234663852886e22;
      UINT32_MAX = 4294967295;
      INT32_MAX = 2147483647;
      INT32_MIN = -2147483648;
      BinaryWriter = class {
        constructor(encodeUtf8 = getTextEncoding().encodeUtf8) {
          this.encodeUtf8 = encodeUtf8;
          this.stack = [];
          this.chunks = [];
          this.buf = [];
        }
        /**
         * Return all bytes written and reset this writer.
         */
        finish() {
          if (this.buf.length) {
            this.chunks.push(new Uint8Array(this.buf));
            this.buf = [];
          }
          let len = 0;
          for (let i = 0; i < this.chunks.length; i++)
            len += this.chunks[i].length;
          let bytes = new Uint8Array(len);
          let offset = 0;
          for (let i = 0; i < this.chunks.length; i++) {
            bytes.set(this.chunks[i], offset);
            offset += this.chunks[i].length;
          }
          this.chunks = [];
          return bytes;
        }
        /**
         * Start a new fork for length-delimited data like a message
         * or a packed repeated field.
         *
         * Must be joined later with `join()`.
         */
        fork() {
          this.stack.push({ chunks: this.chunks, buf: this.buf });
          this.chunks = [];
          this.buf = [];
          return this;
        }
        /**
         * Join the last fork. Write its length and bytes, then
         * return to the previous state.
         */
        join() {
          let chunk = this.finish();
          let prev = this.stack.pop();
          if (!prev)
            throw new Error("invalid state, fork stack empty");
          this.chunks = prev.chunks;
          this.buf = prev.buf;
          this.uint32(chunk.byteLength);
          return this.raw(chunk);
        }
        /**
         * Writes a tag (field number and wire type).
         *
         * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.
         *
         * Generated code should compute the tag ahead of time and call `uint32()`.
         */
        tag(fieldNo, type) {
          return this.uint32((fieldNo << 3 | type) >>> 0);
        }
        /**
         * Write a chunk of raw bytes.
         */
        raw(chunk) {
          if (this.buf.length) {
            this.chunks.push(new Uint8Array(this.buf));
            this.buf = [];
          }
          this.chunks.push(chunk);
          return this;
        }
        /**
         * Write a `uint32` value, an unsigned 32 bit varint.
         */
        uint32(value) {
          assertUInt32(value);
          while (value > 127) {
            this.buf.push(value & 127 | 128);
            value = value >>> 7;
          }
          this.buf.push(value);
          return this;
        }
        /**
         * Write a `int32` value, a signed 32 bit varint.
         */
        int32(value) {
          assertInt32(value);
          varint32write(value, this.buf);
          return this;
        }
        /**
         * Write a `bool` value, a variant.
         */
        bool(value) {
          this.buf.push(value ? 1 : 0);
          return this;
        }
        /**
         * Write a `bytes` value, length-delimited arbitrary data.
         */
        bytes(value) {
          this.uint32(value.byteLength);
          return this.raw(value);
        }
        /**
         * Write a `string` value, length-delimited data converted to UTF-8 text.
         */
        string(value) {
          let chunk = this.encodeUtf8(value);
          this.uint32(chunk.byteLength);
          return this.raw(chunk);
        }
        /**
         * Write a `float` value, 32-bit floating point number.
         */
        float(value) {
          assertFloat32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setFloat32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `double` value, a 64-bit floating point number.
         */
        double(value) {
          let chunk = new Uint8Array(8);
          new DataView(chunk.buffer).setFloat64(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.
         */
        fixed32(value) {
          assertUInt32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setUint32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.
         */
        sfixed32(value) {
          assertInt32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setInt32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.
         */
        sint32(value) {
          assertInt32(value);
          value = (value << 1 ^ value >> 31) >>> 0;
          varint32write(value, this.buf);
          return this;
        }
        /**
         * Write a `fixed64` value, a signed, fixed-length 64-bit integer.
         */
        sfixed64(value) {
          let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.enc(value);
          view.setInt32(0, tc.lo, true);
          view.setInt32(4, tc.hi, true);
          return this.raw(chunk);
        }
        /**
         * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.
         */
        fixed64(value) {
          let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.uEnc(value);
          view.setInt32(0, tc.lo, true);
          view.setInt32(4, tc.hi, true);
          return this.raw(chunk);
        }
        /**
         * Write a `int64` value, a signed 64-bit varint.
         */
        int64(value) {
          let tc = protoInt64.enc(value);
          varint64write(tc.lo, tc.hi, this.buf);
          return this;
        }
        /**
         * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.
         */
        sint64(value) {
          const tc = protoInt64.enc(value), sign = tc.hi >> 31, lo = tc.lo << 1 ^ sign, hi = (tc.hi << 1 | tc.lo >>> 31) ^ sign;
          varint64write(lo, hi, this.buf);
          return this;
        }
        /**
         * Write a `uint64` value, an unsigned 64-bit varint.
         */
        uint64(value) {
          const tc = protoInt64.uEnc(value);
          varint64write(tc.lo, tc.hi, this.buf);
          return this;
        }
      };
      BinaryReader = class {
        constructor(buf, decodeUtf8 = getTextEncoding().decodeUtf8) {
          this.decodeUtf8 = decodeUtf8;
          this.varint64 = varint64read;
          this.uint32 = varint32read;
          this.buf = buf;
          this.len = buf.length;
          this.pos = 0;
          this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);
        }
        /**
         * Reads a tag - field number and wire type.
         */
        tag() {
          let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;
          if (fieldNo <= 0 || wireType < 0 || wireType > 5)
            throw new Error("illegal tag: field no " + fieldNo + " wire type " + wireType);
          return [fieldNo, wireType];
        }
        /**
         * Skip one element and return the skipped data.
         *
         * When skipping StartGroup, provide the tags field number to check for
         * matching field number in the EndGroup tag.
         */
        skip(wireType, fieldNo) {
          let start = this.pos;
          switch (wireType) {
            case WireType.Varint:
              while (this.buf[this.pos++] & 128) {
              }
              break;
            case WireType.Bit64:
              this.pos += 4;
            case WireType.Bit32:
              this.pos += 4;
              break;
            case WireType.LengthDelimited:
              let len = this.uint32();
              this.pos += len;
              break;
            case WireType.StartGroup:
              for (; ; ) {
                const [fn, wt] = this.tag();
                if (wt === WireType.EndGroup) {
                  if (fieldNo !== void 0 && fn !== fieldNo) {
                    throw new Error("invalid end group tag");
                  }
                  break;
                }
                this.skip(wt, fn);
              }
              break;
            default:
              throw new Error("cant skip wire type " + wireType);
          }
          this.assertBounds();
          return this.buf.subarray(start, this.pos);
        }
        /**
         * Throws error if position in byte array is out of range.
         */
        assertBounds() {
          if (this.pos > this.len)
            throw new RangeError("premature EOF");
        }
        /**
         * Read a `int32` field, a signed 32 bit varint.
         */
        int32() {
          return this.uint32() | 0;
        }
        /**
         * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.
         */
        sint32() {
          let zze = this.uint32();
          return zze >>> 1 ^ -(zze & 1);
        }
        /**
         * Read a `int64` field, a signed 64-bit varint.
         */
        int64() {
          return protoInt64.dec(...this.varint64());
        }
        /**
         * Read a `uint64` field, an unsigned 64-bit varint.
         */
        uint64() {
          return protoInt64.uDec(...this.varint64());
        }
        /**
         * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.
         */
        sint64() {
          let [lo, hi] = this.varint64();
          let s = -(lo & 1);
          lo = (lo >>> 1 | (hi & 1) << 31) ^ s;
          hi = hi >>> 1 ^ s;
          return protoInt64.dec(lo, hi);
        }
        /**
         * Read a `bool` field, a variant.
         */
        bool() {
          let [lo, hi] = this.varint64();
          return lo !== 0 || hi !== 0;
        }
        /**
         * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.
         */
        fixed32() {
          return this.view.getUint32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.
         */
        sfixed32() {
          return this.view.getInt32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.
         */
        fixed64() {
          return protoInt64.uDec(this.sfixed32(), this.sfixed32());
        }
        /**
         * Read a `fixed64` field, a signed, fixed-length 64-bit integer.
         */
        sfixed64() {
          return protoInt64.dec(this.sfixed32(), this.sfixed32());
        }
        /**
         * Read a `float` field, 32-bit floating point number.
         */
        float() {
          return this.view.getFloat32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `double` field, a 64-bit floating point number.
         */
        double() {
          return this.view.getFloat64((this.pos += 8) - 8, true);
        }
        /**
         * Read a `bytes` field, length-delimited arbitrary data.
         */
        bytes() {
          let len = this.uint32(), start = this.pos;
          this.pos += len;
          this.assertBounds();
          return this.buf.subarray(start, start + len);
        }
        /**
         * Read a `string` field, length-delimited data converted to UTF-8 text.
         */
        string() {
          return this.decodeUtf8(this.bytes());
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js
  function checkField(field, value) {
    const check = field.fieldKind == "list" ? isReflectList(value, field) : field.fieldKind == "map" ? isReflectMap(value, field) : checkSingular(field, value);
    if (check === true) {
      return void 0;
    }
    let reason;
    switch (field.fieldKind) {
      case "list":
        reason = `expected ${formatReflectList(field)}, got ${formatVal(value)}`;
        break;
      case "map":
        reason = `expected ${formatReflectMap(field)}, got ${formatVal(value)}`;
        break;
      default: {
        reason = reasonSingular(field, value, check);
      }
    }
    return new FieldError(field, reason);
  }
  function checkListItem(field, index, value) {
    const check = checkSingular(field, value);
    if (check !== true) {
      return new FieldError(field, `list item #${index + 1}: ${reasonSingular(field, value, check)}`);
    }
    return void 0;
  }
  function checkMapEntry(field, key, value) {
    const checkKey = checkScalarValue(key, field.mapKey);
    if (checkKey !== true) {
      return new FieldError(field, `invalid map key: ${reasonSingular({ scalar: field.mapKey }, key, checkKey)}`);
    }
    const checkVal = checkSingular(field, value);
    if (checkVal !== true) {
      return new FieldError(field, `map entry ${formatVal(key)}: ${reasonSingular(field, value, checkVal)}`);
    }
    return void 0;
  }
  function checkSingular(field, value) {
    if (field.scalar !== void 0) {
      return checkScalarValue(value, field.scalar);
    }
    if (field.enum !== void 0) {
      if (field.enum.open) {
        return Number.isInteger(value);
      }
      return field.enum.values.some((v) => v.number === value);
    }
    return isReflectMessage(value, field.message);
  }
  function checkScalarValue(value, scalar) {
    switch (scalar) {
      case ScalarType.DOUBLE:
        return typeof value == "number";
      case ScalarType.FLOAT:
        if (typeof value != "number") {
          return false;
        }
        if (Number.isNaN(value) || !Number.isFinite(value)) {
          return true;
        }
        if (value > FLOAT32_MAX || value < FLOAT32_MIN) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        if (typeof value !== "number" || !Number.isInteger(value)) {
          return false;
        }
        if (value > INT32_MAX || value < INT32_MIN) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        if (typeof value !== "number" || !Number.isInteger(value)) {
          return false;
        }
        if (value > UINT32_MAX || value < 0) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.BOOL:
        return typeof value == "boolean";
      case ScalarType.STRING:
        if (typeof value != "string") {
          return false;
        }
        return getTextEncoding().checkUtf8(value) || "invalid UTF8";
      case ScalarType.BYTES:
        return value instanceof Uint8Array;
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if (typeof value == "bigint" || typeof value == "number" || typeof value == "string" && value.length > 0) {
          try {
            protoInt64.parse(value);
            return true;
          } catch (_) {
            return `${value} out of range`;
          }
        }
        return false;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if (typeof value == "bigint" || typeof value == "number" || typeof value == "string" && value.length > 0) {
          try {
            protoInt64.uParse(value);
            return true;
          } catch (_) {
            return `${value} out of range`;
          }
        }
        return false;
    }
  }
  function reasonSingular(field, val, details) {
    details = typeof details == "string" ? `: ${details}` : `, got ${formatVal(val)}`;
    if (field.scalar !== void 0) {
      return `expected ${scalarTypeDescription(field.scalar)}` + details;
    }
    if (field.enum !== void 0) {
      return `expected ${field.enum.toString()}` + details;
    }
    return `expected ${formatReflectMessage(field.message)}` + details;
  }
  function formatVal(val) {
    switch (typeof val) {
      case "object":
        if (val === null) {
          return "null";
        }
        if (val instanceof Uint8Array) {
          return `Uint8Array(${val.length})`;
        }
        if (Array.isArray(val)) {
          return `Array(${val.length})`;
        }
        if (isReflectList(val)) {
          return formatReflectList(val.field());
        }
        if (isReflectMap(val)) {
          return formatReflectMap(val.field());
        }
        if (isReflectMessage(val)) {
          return formatReflectMessage(val.desc);
        }
        if (isMessage(val)) {
          return `message ${val.$typeName}`;
        }
        return "object";
      case "string":
        return val.length > 30 ? "string" : `"${val.split('"').join('\\"')}"`;
      case "boolean":
        return String(val);
      case "number":
        return String(val);
      case "bigint":
        return String(val) + "n";
      default:
        return typeof val;
    }
  }
  function formatReflectMessage(desc) {
    return `ReflectMessage (${desc.typeName})`;
  }
  function formatReflectList(field) {
    switch (field.listKind) {
      case "message":
        return `ReflectList (${field.message.toString()})`;
      case "enum":
        return `ReflectList (${field.enum.toString()})`;
      case "scalar":
        return `ReflectList (${ScalarType[field.scalar]})`;
    }
  }
  function formatReflectMap(field) {
    switch (field.mapKind) {
      case "message":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${field.message.toString()})`;
      case "enum":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${field.enum.toString()})`;
      case "scalar":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${ScalarType[field.scalar]})`;
    }
  }
  function scalarTypeDescription(scalar) {
    switch (scalar) {
      case ScalarType.STRING:
        return "string";
      case ScalarType.BOOL:
        return "boolean";
      case ScalarType.INT64:
      case ScalarType.SINT64:
      case ScalarType.SFIXED64:
        return "bigint (int64)";
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        return "bigint (uint64)";
      case ScalarType.BYTES:
        return "Uint8Array";
      case ScalarType.DOUBLE:
        return "number (float64)";
      case ScalarType.FLOAT:
        return "number (float32)";
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        return "number (uint32)";
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        return "number (int32)";
    }
  }
  var init_reflect_check = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js"() {
      init_descriptors();
      init_is_message();
      init_error();
      init_guard();
      init_binary_encoding();
      init_text_encoding();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js
  function reflect(messageDesc2, message, check = true) {
    return new ReflectMessageImpl(messageDesc2, message, check);
  }
  function assertOwn(owner, member) {
    if (member.parent.typeName !== owner.$typeName) {
      throw new FieldError(member, `cannot use ${member.toString()} with message ${owner.$typeName}`, "ForeignFieldError");
    }
  }
  function messageToLocal(field, value) {
    if (!isReflectMessage(value)) {
      return value;
    }
    if (isWrapper(value.message) && !field.oneof && field.fieldKind == "message") {
      return value.message.value;
    }
    if (value.desc.typeName == "google.protobuf.Struct" && field.parent.typeName != "google.protobuf.Value") {
      return wktStructToLocal(value.message);
    }
    return value.message;
  }
  function messageToReflect(field, value, check) {
    if (value !== void 0) {
      if (isWrapperDesc(field.message) && !field.oneof && field.fieldKind == "message") {
        value = {
          $typeName: field.message.typeName,
          value: longToReflect(field.message.fields[0], value)
        };
      } else if (field.message.typeName == "google.protobuf.Struct" && field.parent.typeName != "google.protobuf.Value" && isObject(value)) {
        value = wktStructToReflect(value);
      }
    }
    return new ReflectMessageImpl(field.message, value, check);
  }
  function listItemToLocal(field, value) {
    if (field.listKind == "message") {
      return messageToLocal(field, value);
    }
    return longToLocal(field, value);
  }
  function listItemToReflect(field, value, check) {
    if (field.listKind == "message") {
      return messageToReflect(field, value, check);
    }
    return longToReflect(field, value);
  }
  function mapValueToLocal(field, value) {
    if (field.mapKind == "message") {
      return messageToLocal(field, value);
    }
    return longToLocal(field, value);
  }
  function mapValueToReflect(field, value, check) {
    if (field.mapKind == "message") {
      return messageToReflect(field, value, check);
    }
    return value;
  }
  function mapKeyToLocal(key) {
    return typeof key == "string" || typeof key == "number" ? key : String(key);
  }
  function mapKeyToReflect(key, type) {
    switch (type) {
      case ScalarType.STRING:
        return key;
      case ScalarType.INT32:
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32: {
        const n = Number.parseInt(key);
        if (Number.isFinite(n)) {
          return n;
        }
        break;
      }
      case ScalarType.BOOL:
        switch (key) {
          case "true":
            return true;
          case "false":
            return false;
        }
        break;
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        try {
          return protoInt64.uParse(key);
        } catch (_a) {
        }
        break;
      default:
        try {
          return protoInt64.parse(key);
        } catch (_b) {
        }
        break;
    }
    return key;
  }
  function longToReflect(field, value) {
    switch (field.scalar) {
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if ("longAsString" in field && field.longAsString && typeof value == "string") {
          value = protoInt64.parse(value);
        }
        break;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if ("longAsString" in field && field.longAsString && typeof value == "string") {
          value = protoInt64.uParse(value);
        }
        break;
    }
    return value;
  }
  function longToLocal(field, value) {
    switch (field.scalar) {
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if ("longAsString" in field && field.longAsString) {
          value = String(value);
        } else if (typeof value == "string" || typeof value == "number") {
          value = protoInt64.parse(value);
        }
        break;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if ("longAsString" in field && field.longAsString) {
          value = String(value);
        } else if (typeof value == "string" || typeof value == "number") {
          value = protoInt64.uParse(value);
        }
        break;
    }
    return value;
  }
  function wktStructToReflect(json) {
    const struct = {
      $typeName: "google.protobuf.Struct",
      fields: {}
    };
    if (isObject(json)) {
      for (const [k, v] of Object.entries(json)) {
        struct.fields[k] = wktValueToReflect(v);
      }
    }
    return struct;
  }
  function wktStructToLocal(val) {
    const json = {};
    for (const [k, v] of Object.entries(val.fields)) {
      json[k] = wktValueToLocal(v);
    }
    return json;
  }
  function wktValueToLocal(val) {
    switch (val.kind.case) {
      case "structValue":
        return wktStructToLocal(val.kind.value);
      case "listValue":
        return val.kind.value.values.map(wktValueToLocal);
      case "nullValue":
      case void 0:
        return null;
      default:
        return val.kind.value;
    }
  }
  function wktValueToReflect(json) {
    const value = {
      $typeName: "google.protobuf.Value",
      kind: { case: void 0 }
    };
    switch (typeof json) {
      case "number":
        value.kind = { case: "numberValue", value: json };
        break;
      case "string":
        value.kind = { case: "stringValue", value: json };
        break;
      case "boolean":
        value.kind = { case: "boolValue", value: json };
        break;
      case "object":
        if (json === null) {
          const nullValue = 0;
          value.kind = { case: "nullValue", value: nullValue };
        } else if (Array.isArray(json)) {
          const listValue = {
            $typeName: "google.protobuf.ListValue",
            values: []
          };
          if (Array.isArray(json)) {
            for (const e of json) {
              listValue.values.push(wktValueToReflect(e));
            }
          }
          value.kind = {
            case: "listValue",
            value: listValue
          };
        } else {
          value.kind = {
            case: "structValue",
            value: wktStructToReflect(json)
          };
        }
        break;
    }
    return value;
  }
  var ReflectMessageImpl, ReflectListImpl, ReflectMapImpl;
  var init_reflect = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js"() {
      init_descriptors();
      init_reflect_check();
      init_error();
      init_unsafe();
      init_create();
      init_wrappers();
      init_scalar();
      init_proto_int64();
      init_guard();
      ReflectMessageImpl = class {
        get sortedFields() {
          var _a;
          return (_a = this._sortedFields) !== null && _a !== void 0 ? _a : (
            // biome-ignore lint/suspicious/noAssignInExpressions: no
            this._sortedFields = this.desc.fields.concat().sort((a, b) => a.number - b.number)
          );
        }
        constructor(messageDesc2, message, check = true) {
          this.lists = /* @__PURE__ */ new Map();
          this.maps = /* @__PURE__ */ new Map();
          this.check = check;
          this.desc = messageDesc2;
          this.message = this[unsafeLocal] = message !== null && message !== void 0 ? message : create(messageDesc2);
          this.fields = messageDesc2.fields;
          this.oneofs = messageDesc2.oneofs;
          this.members = messageDesc2.members;
        }
        findNumber(number) {
          if (!this._fieldsByNumber) {
            this._fieldsByNumber = new Map(this.desc.fields.map((f) => [f.number, f]));
          }
          return this._fieldsByNumber.get(number);
        }
        oneofCase(oneof) {
          assertOwn(this.message, oneof);
          return unsafeOneofCase(this.message, oneof);
        }
        isSet(field) {
          assertOwn(this.message, field);
          return unsafeIsSet(this.message, field);
        }
        clear(field) {
          assertOwn(this.message, field);
          unsafeClear(this.message, field);
        }
        get(field) {
          assertOwn(this.message, field);
          const value = unsafeGet(this.message, field);
          switch (field.fieldKind) {
            case "list":
              let list = this.lists.get(field);
              if (!list || list[unsafeLocal] !== value) {
                this.lists.set(
                  field,
                  // biome-ignore lint/suspicious/noAssignInExpressions: no
                  list = new ReflectListImpl(field, value, this.check)
                );
              }
              return list;
            case "map":
              let map = this.maps.get(field);
              if (!map || map[unsafeLocal] !== value) {
                this.maps.set(
                  field,
                  // biome-ignore lint/suspicious/noAssignInExpressions: no
                  map = new ReflectMapImpl(field, value, this.check)
                );
              }
              return map;
            case "message":
              return messageToReflect(field, value, this.check);
            case "scalar":
              return value === void 0 ? scalarZeroValue(field.scalar, false) : longToReflect(field, value);
            case "enum":
              return value !== null && value !== void 0 ? value : field.enum.values[0].number;
          }
        }
        set(field, value) {
          assertOwn(this.message, field);
          if (this.check) {
            const err = checkField(field, value);
            if (err) {
              throw err;
            }
          }
          let local;
          if (field.fieldKind == "message") {
            local = messageToLocal(field, value);
          } else if (isReflectMap(value) || isReflectList(value)) {
            local = value[unsafeLocal];
          } else {
            local = longToLocal(field, value);
          }
          unsafeSet(this.message, field, local);
        }
        getUnknown() {
          return this.message.$unknown;
        }
        setUnknown(value) {
          this.message.$unknown = value;
        }
      };
      ReflectListImpl = class {
        field() {
          return this._field;
        }
        get size() {
          return this._arr.length;
        }
        constructor(field, unsafeInput, check) {
          this._field = field;
          this._arr = this[unsafeLocal] = unsafeInput;
          this.check = check;
        }
        get(index) {
          const item = this._arr[index];
          return item === void 0 ? void 0 : listItemToReflect(this._field, item, this.check);
        }
        set(index, item) {
          if (index < 0 || index >= this._arr.length) {
            throw new FieldError(this._field, `list item #${index + 1}: out of range`);
          }
          if (this.check) {
            const err = checkListItem(this._field, index, item);
            if (err) {
              throw err;
            }
          }
          this._arr[index] = listItemToLocal(this._field, item);
        }
        add(item) {
          if (this.check) {
            const err = checkListItem(this._field, this._arr.length, item);
            if (err) {
              throw err;
            }
          }
          this._arr.push(listItemToLocal(this._field, item));
          return void 0;
        }
        clear() {
          this._arr.splice(0, this._arr.length);
        }
        [Symbol.iterator]() {
          return this.values();
        }
        keys() {
          return this._arr.keys();
        }
        *values() {
          for (const item of this._arr) {
            yield listItemToReflect(this._field, item, this.check);
          }
        }
        *entries() {
          for (let i = 0; i < this._arr.length; i++) {
            yield [i, listItemToReflect(this._field, this._arr[i], this.check)];
          }
        }
      };
      ReflectMapImpl = class {
        constructor(field, unsafeInput, check = true) {
          this.obj = this[unsafeLocal] = unsafeInput !== null && unsafeInput !== void 0 ? unsafeInput : {};
          this.check = check;
          this._field = field;
        }
        field() {
          return this._field;
        }
        set(key, value) {
          if (this.check) {
            const err = checkMapEntry(this._field, key, value);
            if (err) {
              throw err;
            }
          }
          this.obj[mapKeyToLocal(key)] = mapValueToLocal(this._field, value);
          return this;
        }
        delete(key) {
          const k = mapKeyToLocal(key);
          const has = Object.prototype.hasOwnProperty.call(this.obj, k);
          if (has) {
            delete this.obj[k];
          }
          return has;
        }
        clear() {
          for (const key of Object.keys(this.obj)) {
            delete this.obj[key];
          }
        }
        get(key) {
          let val = this.obj[mapKeyToLocal(key)];
          if (val !== void 0) {
            val = mapValueToReflect(this._field, val, this.check);
          }
          return val;
        }
        has(key) {
          return Object.prototype.hasOwnProperty.call(this.obj, mapKeyToLocal(key));
        }
        *keys() {
          for (const objKey of Object.keys(this.obj)) {
            yield mapKeyToReflect(objKey, this._field.mapKey);
          }
        }
        *entries() {
          for (const objEntry of Object.entries(this.obj)) {
            yield [
              mapKeyToReflect(objEntry[0], this._field.mapKey),
              mapValueToReflect(this._field, objEntry[1], this.check)
            ];
          }
        }
        [Symbol.iterator]() {
          return this.entries();
        }
        get size() {
          return Object.keys(this.obj).length;
        }
        *values() {
          for (const val of Object.values(this.obj)) {
            yield mapValueToReflect(this._field, val, this.check);
          }
        }
        forEach(callbackfn, thisArg) {
          for (const mapEntry of this.entries()) {
            callbackfn.call(thisArg, mapEntry[1], mapEntry[0], this);
          }
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/clone.js
  var init_clone = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/clone.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js
  function base64Decode(base64Str) {
    const table = getDecodeTable();
    let es = base64Str.length * 3 / 4;
    if (base64Str[base64Str.length - 2] == "=")
      es -= 2;
    else if (base64Str[base64Str.length - 1] == "=")
      es -= 1;
    let bytes = new Uint8Array(es), bytePos = 0, groupPos = 0, b, p = 0;
    for (let i = 0; i < base64Str.length; i++) {
      b = table[base64Str.charCodeAt(i)];
      if (b === void 0) {
        switch (base64Str[i]) {
          case "=":
            groupPos = 0;
          case "\n":
          case "\r":
          case "	":
          case " ":
            continue;
          default:
            throw Error("invalid base64 string");
        }
      }
      switch (groupPos) {
        case 0:
          p = b;
          groupPos = 1;
          break;
        case 1:
          bytes[bytePos++] = p << 2 | (b & 48) >> 4;
          p = b;
          groupPos = 2;
          break;
        case 2:
          bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;
          p = b;
          groupPos = 3;
          break;
        case 3:
          bytes[bytePos++] = (p & 3) << 6 | b;
          groupPos = 0;
          break;
      }
    }
    if (groupPos == 1)
      throw Error("invalid base64 string");
    return bytes.subarray(0, bytePos);
  }
  function getEncodeTable(encoding) {
    if (!encodeTableStd) {
      encodeTableStd = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");
      encodeTableUrl = encodeTableStd.slice(0, -2).concat("-", "_");
    }
    return encoding == "url" ? (
      // biome-ignore lint/style/noNonNullAssertion: TS fails to narrow down
      encodeTableUrl
    ) : encodeTableStd;
  }
  function getDecodeTable() {
    if (!decodeTable) {
      decodeTable = [];
      const encodeTable = getEncodeTable("std");
      for (let i = 0; i < encodeTable.length; i++)
        decodeTable[encodeTable[i].charCodeAt(0)] = i;
      decodeTable["-".charCodeAt(0)] = encodeTable.indexOf("+");
      decodeTable["_".charCodeAt(0)] = encodeTable.indexOf("/");
    }
    return decodeTable;
  }
  var encodeTableStd, encodeTableUrl, decodeTable;
  var init_base64_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js
  function protoCamelCase(snakeCase) {
    let capNext = false;
    const b = [];
    for (let i = 0; i < snakeCase.length; i++) {
      let c = snakeCase.charAt(i);
      switch (c) {
        case "_":
          capNext = true;
          break;
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9":
          b.push(c);
          capNext = false;
          break;
        default:
          if (capNext) {
            capNext = false;
            c = c.toUpperCase();
          }
          b.push(c);
          break;
      }
    }
    return b.join("");
  }
  function safeObjectProperty(name) {
    return reservedObjectProperties.has(name) ? name + "$" : name;
  }
  var reservedObjectProperties;
  var init_names = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js"() {
      reservedObjectProperties = /* @__PURE__ */ new Set([
        // names reserved by JavaScript
        "constructor",
        "toString",
        "toJSON",
        "valueOf"
      ]);
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/restore-json-names.js
  function restoreJsonNames(message) {
    for (const f of message.field) {
      if (!unsafeIsSetExplicit(f, "jsonName")) {
        f.jsonName = protoCamelCase(f.name);
      }
    }
    message.nestedType.forEach(restoreJsonNames);
  }
  var init_restore_json_names = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/restore-json-names.js"() {
      init_names();
      init_unsafe();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js
  function parseTextFormatEnumValue(descEnum, value) {
    const enumValue = descEnum.values.find((v) => v.name === value);
    if (!enumValue) {
      throw new Error(`cannot parse ${descEnum} default value: ${value}`);
    }
    return enumValue.number;
  }
  function parseTextFormatScalarValue(type, value) {
    switch (type) {
      case ScalarType.STRING:
        return value;
      case ScalarType.BYTES: {
        const u = unescapeBytesDefaultValue(value);
        if (u === false) {
          throw new Error(`cannot parse ${ScalarType[type]} default value: ${value}`);
        }
        return u;
      }
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        return protoInt64.parse(value);
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        return protoInt64.uParse(value);
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        switch (value) {
          case "inf":
            return Number.POSITIVE_INFINITY;
          case "-inf":
            return Number.NEGATIVE_INFINITY;
          case "nan":
            return Number.NaN;
          default:
            return parseFloat(value);
        }
      case ScalarType.BOOL:
        return value === "true";
      case ScalarType.INT32:
      case ScalarType.UINT32:
      case ScalarType.SINT32:
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
        return parseInt(value, 10);
    }
  }
  function unescapeBytesDefaultValue(str) {
    const b = [];
    const input = {
      tail: str,
      c: "",
      next() {
        if (this.tail.length == 0) {
          return false;
        }
        this.c = this.tail[0];
        this.tail = this.tail.substring(1);
        return true;
      },
      take(n) {
        if (this.tail.length >= n) {
          const r = this.tail.substring(0, n);
          this.tail = this.tail.substring(n);
          return r;
        }
        return false;
      }
    };
    while (input.next()) {
      switch (input.c) {
        case "\\":
          if (input.next()) {
            switch (input.c) {
              case "\\":
                b.push(input.c.charCodeAt(0));
                break;
              case "b":
                b.push(8);
                break;
              case "f":
                b.push(12);
                break;
              case "n":
                b.push(10);
                break;
              case "r":
                b.push(13);
                break;
              case "t":
                b.push(9);
                break;
              case "v":
                b.push(11);
                break;
              case "0":
              case "1":
              case "2":
              case "3":
              case "4":
              case "5":
              case "6":
              case "7": {
                const s = input.c;
                const t = input.take(2);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 8);
                if (Number.isNaN(n)) {
                  return false;
                }
                b.push(n);
                break;
              }
              case "x": {
                const s = input.c;
                const t = input.take(2);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 16);
                if (Number.isNaN(n)) {
                  return false;
                }
                b.push(n);
                break;
              }
              case "u": {
                const s = input.c;
                const t = input.take(4);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 16);
                if (Number.isNaN(n)) {
                  return false;
                }
                const chunk = new Uint8Array(4);
                const view = new DataView(chunk.buffer);
                view.setInt32(0, n, true);
                b.push(chunk[0], chunk[1], chunk[2], chunk[3]);
                break;
              }
              case "U": {
                const s = input.c;
                const t = input.take(8);
                if (t === false) {
                  return false;
                }
                const tc = protoInt64.uEnc(s + t);
                const chunk = new Uint8Array(8);
                const view = new DataView(chunk.buffer);
                view.setInt32(0, tc.lo, true);
                view.setInt32(4, tc.hi, true);
                b.push(chunk[0], chunk[1], chunk[2], chunk[3], chunk[4], chunk[5], chunk[6], chunk[7]);
                break;
              }
            }
          }
          break;
        default:
          b.push(input.c.charCodeAt(0));
      }
    }
    return new Uint8Array(b);
  }
  var init_text_format = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js"() {
      init_descriptors();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js
  function* nestedTypes(desc) {
    switch (desc.kind) {
      case "file":
        for (const message of desc.messages) {
          yield message;
          yield* nestedTypes(message);
        }
        yield* desc.enums;
        yield* desc.services;
        yield* desc.extensions;
        break;
      case "message":
        for (const message of desc.nestedMessages) {
          yield message;
          yield* nestedTypes(message);
        }
        yield* desc.nestedEnums;
        yield* desc.nestedExtensions;
        break;
    }
  }
  var init_nested_types = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/registry.js
  function createFileRegistry(...args) {
    const registry = createBaseRegistry();
    if (!args.length) {
      return registry;
    }
    if ("$typeName" in args[0] && args[0].$typeName == "google.protobuf.FileDescriptorSet") {
      for (const file of args[0].file) {
        addFile(file, registry);
      }
      return registry;
    }
    if ("$typeName" in args[0]) {
      let recurseDeps = function(file) {
        const deps = [];
        for (const protoFileName of file.dependency) {
          if (registry.getFile(protoFileName) != void 0) {
            continue;
          }
          if (seen.has(protoFileName)) {
            continue;
          }
          const dep = resolve(protoFileName);
          if (!dep) {
            throw new Error(`Unable to resolve ${protoFileName}, imported by ${file.name}`);
          }
          if ("kind" in dep) {
            registry.addFile(dep, false, true);
          } else {
            seen.add(dep.name);
            deps.push(dep);
          }
        }
        return deps.concat(...deps.map(recurseDeps));
      };
      const input = args[0];
      const resolve = args[1];
      const seen = /* @__PURE__ */ new Set();
      for (const file of [input, ...recurseDeps(input)].reverse()) {
        addFile(file, registry);
      }
    } else {
      for (const fileReg of args) {
        for (const file of fileReg.files) {
          registry.addFile(file);
        }
      }
    }
    return registry;
  }
  function createBaseRegistry() {
    const types = /* @__PURE__ */ new Map();
    const extendees = /* @__PURE__ */ new Map();
    const files = /* @__PURE__ */ new Map();
    return {
      kind: "registry",
      types,
      extendees,
      [Symbol.iterator]() {
        return types.values();
      },
      get files() {
        return files.values();
      },
      addFile(file, skipTypes, withDeps) {
        files.set(file.proto.name, file);
        if (!skipTypes) {
          for (const type of nestedTypes(file)) {
            this.add(type);
          }
        }
        if (withDeps) {
          for (const f of file.dependencies) {
            this.addFile(f, skipTypes, withDeps);
          }
        }
      },
      add(desc) {
        if (desc.kind == "extension") {
          let numberToExt = extendees.get(desc.extendee.typeName);
          if (!numberToExt) {
            extendees.set(
              desc.extendee.typeName,
              // biome-ignore lint/suspicious/noAssignInExpressions: no
              numberToExt = /* @__PURE__ */ new Map()
            );
          }
          numberToExt.set(desc.number, desc);
        }
        types.set(desc.typeName, desc);
      },
      get(typeName) {
        return types.get(typeName);
      },
      getFile(fileName) {
        return files.get(fileName);
      },
      getMessage(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "message" ? t : void 0;
      },
      getEnum(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "enum" ? t : void 0;
      },
      getExtension(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "extension" ? t : void 0;
      },
      getExtensionFor(extendee, no) {
        var _a;
        return (_a = extendees.get(extendee.typeName)) === null || _a === void 0 ? void 0 : _a.get(no);
      },
      getService(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "service" ? t : void 0;
      }
    };
  }
  function addFile(proto, reg) {
    var _a, _b;
    const file = {
      kind: "file",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      edition: getFileEdition(proto),
      name: proto.name.replace(/\.proto$/, ""),
      dependencies: findFileDependencies(proto, reg),
      enums: [],
      messages: [],
      extensions: [],
      services: [],
      toString() {
        return `file ${proto.name}`;
      }
    };
    const mapEntriesStore = /* @__PURE__ */ new Map();
    const mapEntries = {
      get(typeName) {
        return mapEntriesStore.get(typeName);
      },
      add(desc) {
        var _a2;
        assert(((_a2 = desc.proto.options) === null || _a2 === void 0 ? void 0 : _a2.mapEntry) === true);
        mapEntriesStore.set(desc.typeName, desc);
      }
    };
    for (const enumProto of proto.enumType) {
      addEnum(enumProto, file, void 0, reg);
    }
    for (const messageProto of proto.messageType) {
      addMessage(messageProto, file, void 0, reg, mapEntries);
    }
    for (const serviceProto of proto.service) {
      addService(serviceProto, file, reg);
    }
    addExtensions(file, reg);
    for (const mapEntry of mapEntriesStore.values()) {
      addFields(mapEntry, reg, mapEntries);
    }
    for (const message of file.messages) {
      addFields(message, reg, mapEntries);
      addExtensions(message, reg);
    }
    reg.addFile(file, true);
  }
  function addExtensions(desc, reg) {
    switch (desc.kind) {
      case "file":
        for (const proto of desc.proto.extension) {
          const ext = newField(proto, desc, reg);
          desc.extensions.push(ext);
          reg.add(ext);
        }
        break;
      case "message":
        for (const proto of desc.proto.extension) {
          const ext = newField(proto, desc, reg);
          desc.nestedExtensions.push(ext);
          reg.add(ext);
        }
        for (const message of desc.nestedMessages) {
          addExtensions(message, reg);
        }
        break;
    }
  }
  function addFields(message, reg, mapEntries) {
    const allOneofs = message.proto.oneofDecl.map((proto) => newOneof(proto, message));
    const oneofsSeen = /* @__PURE__ */ new Set();
    for (const proto of message.proto.field) {
      const oneof = findOneof(proto, allOneofs);
      const field = newField(proto, message, reg, oneof, mapEntries);
      message.fields.push(field);
      message.field[field.localName] = field;
      if (oneof === void 0) {
        message.members.push(field);
      } else {
        oneof.fields.push(field);
        if (!oneofsSeen.has(oneof)) {
          oneofsSeen.add(oneof);
          message.members.push(oneof);
        }
      }
    }
    for (const oneof of allOneofs.filter((o) => oneofsSeen.has(o))) {
      message.oneofs.push(oneof);
    }
    for (const child of message.nestedMessages) {
      addFields(child, reg, mapEntries);
    }
  }
  function addEnum(proto, file, parent, reg) {
    var _a, _b, _c, _d, _e;
    const sharedPrefix = findEnumSharedPrefix(proto.name, proto.value);
    const desc = {
      kind: "enum",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      parent,
      open: true,
      name: proto.name,
      typeName: makeTypeName(proto, parent, file),
      value: {},
      values: [],
      sharedPrefix,
      toString() {
        return `enum ${this.typeName}`;
      }
    };
    desc.open = isEnumOpen(desc);
    reg.add(desc);
    for (const p of proto.value) {
      const name = p.name;
      desc.values.push(
        // biome-ignore lint/suspicious/noAssignInExpressions: no
        desc.value[p.number] = {
          kind: "enum_value",
          proto: p,
          deprecated: (_d = (_c = p.options) === null || _c === void 0 ? void 0 : _c.deprecated) !== null && _d !== void 0 ? _d : false,
          parent: desc,
          name,
          localName: safeObjectProperty(sharedPrefix == void 0 ? name : name.substring(sharedPrefix.length)),
          number: p.number,
          toString() {
            return `enum value ${desc.typeName}.${name}`;
          }
        }
      );
    }
    ((_e = parent === null || parent === void 0 ? void 0 : parent.nestedEnums) !== null && _e !== void 0 ? _e : file.enums).push(desc);
  }
  function addMessage(proto, file, parent, reg, mapEntries) {
    var _a, _b, _c, _d;
    const desc = {
      kind: "message",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      parent,
      name: proto.name,
      typeName: makeTypeName(proto, parent, file),
      fields: [],
      field: {},
      oneofs: [],
      members: [],
      nestedEnums: [],
      nestedMessages: [],
      nestedExtensions: [],
      toString() {
        return `message ${this.typeName}`;
      }
    };
    if (((_c = proto.options) === null || _c === void 0 ? void 0 : _c.mapEntry) === true) {
      mapEntries.add(desc);
    } else {
      ((_d = parent === null || parent === void 0 ? void 0 : parent.nestedMessages) !== null && _d !== void 0 ? _d : file.messages).push(desc);
      reg.add(desc);
    }
    for (const enumProto of proto.enumType) {
      addEnum(enumProto, file, desc, reg);
    }
    for (const messageProto of proto.nestedType) {
      addMessage(messageProto, file, desc, reg, mapEntries);
    }
  }
  function addService(proto, file, reg) {
    var _a, _b;
    const desc = {
      kind: "service",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      name: proto.name,
      typeName: makeTypeName(proto, void 0, file),
      methods: [],
      method: {},
      toString() {
        return `service ${this.typeName}`;
      }
    };
    file.services.push(desc);
    reg.add(desc);
    for (const methodProto of proto.method) {
      const method = newMethod(methodProto, desc, reg);
      desc.methods.push(method);
      desc.method[method.localName] = method;
    }
  }
  function newMethod(proto, parent, reg) {
    var _a, _b, _c, _d;
    let methodKind;
    if (proto.clientStreaming && proto.serverStreaming) {
      methodKind = "bidi_streaming";
    } else if (proto.clientStreaming) {
      methodKind = "client_streaming";
    } else if (proto.serverStreaming) {
      methodKind = "server_streaming";
    } else {
      methodKind = "unary";
    }
    const input = reg.getMessage(trimLeadingDot(proto.inputType));
    const output = reg.getMessage(trimLeadingDot(proto.outputType));
    assert(input, `invalid MethodDescriptorProto: input_type ${proto.inputType} not found`);
    assert(output, `invalid MethodDescriptorProto: output_type ${proto.inputType} not found`);
    const name = proto.name;
    return {
      kind: "rpc",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      parent,
      name,
      localName: safeObjectProperty(name.length ? safeObjectProperty(name[0].toLowerCase() + name.substring(1)) : name),
      methodKind,
      input,
      output,
      idempotency: (_d = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.idempotencyLevel) !== null && _d !== void 0 ? _d : IDEMPOTENCY_UNKNOWN,
      toString() {
        return `rpc ${parent.typeName}.${name}`;
      }
    };
  }
  function newOneof(proto, parent) {
    return {
      kind: "oneof",
      proto,
      deprecated: false,
      parent,
      fields: [],
      name: proto.name,
      localName: safeObjectProperty(protoCamelCase(proto.name)),
      toString() {
        return `oneof ${parent.typeName}.${this.name}`;
      }
    };
  }
  function newField(proto, parentOrFile, reg, oneof, mapEntries) {
    var _a, _b, _c;
    const isExtension = mapEntries === void 0;
    const field = {
      kind: "field",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      name: proto.name,
      number: proto.number,
      scalar: void 0,
      message: void 0,
      enum: void 0,
      presence: getFieldPresence(proto, oneof, isExtension, parentOrFile),
      listKind: void 0,
      mapKind: void 0,
      mapKey: void 0,
      delimitedEncoding: void 0,
      packed: void 0,
      longAsString: false,
      getDefaultValue: void 0
    };
    if (isExtension) {
      const file = parentOrFile.kind == "file" ? parentOrFile : parentOrFile.file;
      const parent = parentOrFile.kind == "file" ? void 0 : parentOrFile;
      const typeName = makeTypeName(proto, parent, file);
      field.kind = "extension";
      field.file = file;
      field.parent = parent;
      field.oneof = void 0;
      field.typeName = typeName;
      field.jsonName = `[${typeName}]`;
      field.toString = () => `extension ${typeName}`;
      const extendee = reg.getMessage(trimLeadingDot(proto.extendee));
      assert(extendee, `invalid FieldDescriptorProto: extendee ${proto.extendee} not found`);
      field.extendee = extendee;
    } else {
      const parent = parentOrFile;
      assert(parent.kind == "message");
      field.parent = parent;
      field.oneof = oneof;
      field.localName = oneof ? protoCamelCase(proto.name) : safeObjectProperty(protoCamelCase(proto.name));
      field.jsonName = proto.jsonName;
      field.toString = () => `field ${parent.typeName}.${proto.name}`;
    }
    const label = proto.label;
    const type = proto.type;
    const jstype = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.jstype;
    if (label === LABEL_REPEATED) {
      const mapEntry = type == TYPE_MESSAGE ? mapEntries === null || mapEntries === void 0 ? void 0 : mapEntries.get(trimLeadingDot(proto.typeName)) : void 0;
      if (mapEntry) {
        field.fieldKind = "map";
        const { key, value } = findMapEntryFields(mapEntry);
        field.mapKey = key.scalar;
        field.mapKind = value.fieldKind;
        field.message = value.message;
        field.delimitedEncoding = false;
        field.enum = value.enum;
        field.scalar = value.scalar;
        return field;
      }
      field.fieldKind = "list";
      switch (type) {
        case TYPE_MESSAGE:
        case TYPE_GROUP:
          field.listKind = "message";
          field.message = reg.getMessage(trimLeadingDot(proto.typeName));
          assert(field.message);
          field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);
          break;
        case TYPE_ENUM:
          field.listKind = "enum";
          field.enum = reg.getEnum(trimLeadingDot(proto.typeName));
          assert(field.enum);
          break;
        default:
          field.listKind = "scalar";
          field.scalar = type;
          field.longAsString = jstype == JS_STRING;
          break;
      }
      field.packed = isPackedField(proto, parentOrFile);
      return field;
    }
    switch (type) {
      case TYPE_MESSAGE:
      case TYPE_GROUP:
        field.fieldKind = "message";
        field.message = reg.getMessage(trimLeadingDot(proto.typeName));
        assert(field.message, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);
        field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);
        field.getDefaultValue = () => void 0;
        break;
      case TYPE_ENUM: {
        const enumeration = reg.getEnum(trimLeadingDot(proto.typeName));
        assert(enumeration !== void 0, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);
        field.fieldKind = "enum";
        field.enum = reg.getEnum(trimLeadingDot(proto.typeName));
        field.getDefaultValue = () => {
          return unsafeIsSetExplicit(proto, "defaultValue") ? parseTextFormatEnumValue(enumeration, proto.defaultValue) : void 0;
        };
        break;
      }
      default: {
        field.fieldKind = "scalar";
        field.scalar = type;
        field.longAsString = jstype == JS_STRING;
        field.getDefaultValue = () => {
          return unsafeIsSetExplicit(proto, "defaultValue") ? parseTextFormatScalarValue(type, proto.defaultValue) : void 0;
        };
        break;
      }
    }
    return field;
  }
  function getFileEdition(proto) {
    switch (proto.syntax) {
      case "":
      case "proto2":
        return EDITION_PROTO22;
      case "proto3":
        return EDITION_PROTO32;
      case "editions":
        if (proto.edition in featureDefaults) {
          return proto.edition;
        }
        throw new Error(`${proto.name}: unsupported edition`);
      default:
        throw new Error(`${proto.name}: unsupported syntax "${proto.syntax}"`);
    }
  }
  function findFileDependencies(proto, reg) {
    return proto.dependency.map((wantName) => {
      const dep = reg.getFile(wantName);
      if (!dep) {
        throw new Error(`Cannot find ${wantName}, imported by ${proto.name}`);
      }
      return dep;
    });
  }
  function findEnumSharedPrefix(enumName, values) {
    const prefix = camelToSnakeCase(enumName) + "_";
    for (const value of values) {
      if (!value.name.toLowerCase().startsWith(prefix)) {
        return void 0;
      }
      const shortName = value.name.substring(prefix.length);
      if (shortName.length == 0) {
        return void 0;
      }
      if (/^\d/.test(shortName)) {
        return void 0;
      }
    }
    return prefix;
  }
  function camelToSnakeCase(camel) {
    return (camel.substring(0, 1) + camel.substring(1).replace(/[A-Z]/g, (c) => "_" + c)).toLowerCase();
  }
  function makeTypeName(proto, parent, file) {
    let typeName;
    if (parent) {
      typeName = `${parent.typeName}.${proto.name}`;
    } else if (file.proto.package.length > 0) {
      typeName = `${file.proto.package}.${proto.name}`;
    } else {
      typeName = `${proto.name}`;
    }
    return typeName;
  }
  function trimLeadingDot(typeName) {
    return typeName.startsWith(".") ? typeName.substring(1) : typeName;
  }
  function findOneof(proto, allOneofs) {
    if (!unsafeIsSetExplicit(proto, "oneofIndex")) {
      return void 0;
    }
    if (proto.proto3Optional) {
      return void 0;
    }
    const oneof = allOneofs[proto.oneofIndex];
    assert(oneof, `invalid FieldDescriptorProto: oneof #${proto.oneofIndex} for field #${proto.number} not found`);
    return oneof;
  }
  function getFieldPresence(proto, oneof, isExtension, parent) {
    if (proto.label == LABEL_REQUIRED) {
      return LEGACY_REQUIRED;
    }
    if (proto.label == LABEL_REPEATED) {
      return IMPLICIT3;
    }
    if (!!oneof || proto.proto3Optional) {
      return EXPLICIT;
    }
    if (isExtension) {
      return EXPLICIT;
    }
    const resolved = resolveFeature("fieldPresence", { proto, parent });
    if (resolved == IMPLICIT3 && (proto.type == TYPE_MESSAGE || proto.type == TYPE_GROUP)) {
      return EXPLICIT;
    }
    return resolved;
  }
  function isPackedField(proto, parent) {
    if (proto.label != LABEL_REPEATED) {
      return false;
    }
    switch (proto.type) {
      case TYPE_STRING:
      case TYPE_BYTES:
      case TYPE_GROUP:
      case TYPE_MESSAGE:
        return false;
    }
    const o = proto.options;
    if (o && unsafeIsSetExplicit(o, "packed")) {
      return o.packed;
    }
    return PACKED == resolveFeature("repeatedFieldEncoding", {
      proto,
      parent
    });
  }
  function findMapEntryFields(mapEntry) {
    const key = mapEntry.fields.find((f) => f.number === 1);
    const value = mapEntry.fields.find((f) => f.number === 2);
    assert(key && key.fieldKind == "scalar" && key.scalar != ScalarType.BYTES && key.scalar != ScalarType.FLOAT && key.scalar != ScalarType.DOUBLE && value && value.fieldKind != "list" && value.fieldKind != "map");
    return { key, value };
  }
  function isEnumOpen(desc) {
    var _a;
    return OPEN == resolveFeature("enumType", {
      proto: desc.proto,
      parent: (_a = desc.parent) !== null && _a !== void 0 ? _a : desc.file
    });
  }
  function isDelimitedEncoding(proto, parent) {
    if (proto.type == TYPE_GROUP) {
      return true;
    }
    return DELIMITED == resolveFeature("messageEncoding", {
      proto,
      parent
    });
  }
  function resolveFeature(name, ref) {
    var _a, _b;
    const featureSet = (_a = ref.proto.options) === null || _a === void 0 ? void 0 : _a.features;
    if (featureSet) {
      const val = featureSet[name];
      if (val != 0) {
        return val;
      }
    }
    if ("kind" in ref) {
      if (ref.kind == "message") {
        return resolveFeature(name, (_b = ref.parent) !== null && _b !== void 0 ? _b : ref.file);
      }
      const editionDefaults = featureDefaults[ref.edition];
      if (!editionDefaults) {
        throw new Error(`feature default for edition ${ref.edition} not found`);
      }
      return editionDefaults[name];
    }
    return resolveFeature(name, ref.parent);
  }
  function assert(condition, msg) {
    if (!condition) {
      throw new Error(msg);
    }
  }
  var EDITION_PROTO22, EDITION_PROTO32, TYPE_STRING, TYPE_GROUP, TYPE_MESSAGE, TYPE_BYTES, TYPE_ENUM, LABEL_REPEATED, LABEL_REQUIRED, JS_STRING, IDEMPOTENCY_UNKNOWN, EXPLICIT, IMPLICIT3, LEGACY_REQUIRED, PACKED, DELIMITED, OPEN, featureDefaults;
  var init_registry = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/registry.js"() {
      init_descriptors();
      init_text_format();
      init_nested_types();
      init_unsafe();
      init_names();
      EDITION_PROTO22 = 998;
      EDITION_PROTO32 = 999;
      TYPE_STRING = 9;
      TYPE_GROUP = 10;
      TYPE_MESSAGE = 11;
      TYPE_BYTES = 12;
      TYPE_ENUM = 14;
      LABEL_REPEATED = 3;
      LABEL_REQUIRED = 2;
      JS_STRING = 1;
      IDEMPOTENCY_UNKNOWN = 0;
      EXPLICIT = 1;
      IMPLICIT3 = 2;
      LEGACY_REQUIRED = 3;
      PACKED = 1;
      DELIMITED = 2;
      OPEN = 1;
      featureDefaults = {
        // EDITION_PROTO2
        998: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 2,
          // CLOSED,
          repeatedFieldEncoding: 2,
          // EXPANDED,
          utf8Validation: 3,
          // NONE,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 2,
          // LEGACY_BEST_EFFORT,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_PROTO3
        999: {
          fieldPresence: 2,
          // IMPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_2023
        1e3: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_2024
        1001: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 1,
          // STYLE2024,
          defaultSymbolVisibility: 2
          // EXPORT_TOP_LEVEL,
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/boot.js
  function boot(boot2) {
    const root = bootFileDescriptorProto(boot2);
    root.messageType.forEach(restoreJsonNames);
    const reg = createFileRegistry(root, () => void 0);
    return reg.getFile(root.name);
  }
  function bootFileDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      syntax: "",
      edition: 0
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FileDescriptorProto", dependency: [], publicDependency: [], weakDependency: [], optionDependency: [], service: [], extension: [] }, init), { messageType: init.messageType.map(bootDescriptorProto), enumType: init.enumType.map(bootEnumDescriptorProto) }));
  }
  function bootDescriptorProto(init) {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    const proto = /* @__PURE__ */ Object.create({
      visibility: 0
    });
    return Object.assign(proto, {
      $typeName: "google.protobuf.DescriptorProto",
      name: init.name,
      field: (_b = (_a = init.field) === null || _a === void 0 ? void 0 : _a.map(bootFieldDescriptorProto)) !== null && _b !== void 0 ? _b : [],
      extension: [],
      nestedType: (_d = (_c = init.nestedType) === null || _c === void 0 ? void 0 : _c.map(bootDescriptorProto)) !== null && _d !== void 0 ? _d : [],
      enumType: (_f = (_e = init.enumType) === null || _e === void 0 ? void 0 : _e.map(bootEnumDescriptorProto)) !== null && _f !== void 0 ? _f : [],
      extensionRange: (_h = (_g = init.extensionRange) === null || _g === void 0 ? void 0 : _g.map((e) => Object.assign({ $typeName: "google.protobuf.DescriptorProto.ExtensionRange" }, e))) !== null && _h !== void 0 ? _h : [],
      oneofDecl: [],
      reservedRange: [],
      reservedName: []
    });
  }
  function bootFieldDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      label: 1,
      typeName: "",
      extendee: "",
      defaultValue: "",
      oneofIndex: 0,
      jsonName: "",
      proto3Optional: false
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FieldDescriptorProto" }, init), { options: init.options ? bootFieldOptions(init.options) : void 0 }));
  }
  function bootFieldOptions(init) {
    var _a, _b, _c;
    const proto = /* @__PURE__ */ Object.create({
      ctype: 0,
      packed: false,
      jstype: 0,
      lazy: false,
      unverifiedLazy: false,
      deprecated: false,
      weak: false,
      debugRedact: false,
      retention: 0
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FieldOptions" }, init), { targets: (_a = init.targets) !== null && _a !== void 0 ? _a : [], editionDefaults: (_c = (_b = init.editionDefaults) === null || _b === void 0 ? void 0 : _b.map((e) => Object.assign({ $typeName: "google.protobuf.FieldOptions.EditionDefault" }, e))) !== null && _c !== void 0 ? _c : [], uninterpretedOption: [] }));
  }
  function bootEnumDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      visibility: 0
    });
    return Object.assign(proto, {
      $typeName: "google.protobuf.EnumDescriptorProto",
      name: init.name,
      reservedName: [],
      reservedRange: [],
      value: init.value.map((e) => Object.assign({ $typeName: "google.protobuf.EnumValueDescriptorProto" }, e))
    });
  }
  var init_boot = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/boot.js"() {
      init_restore_json_names();
      init_registry();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/message.js
  function messageDesc(file, path, ...paths) {
    return paths.reduce((acc, cur) => acc.nestedMessages[cur], file.messages[path]);
  }
  var init_message = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/message.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/enum.js
  var init_enum = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/enum.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js
  var file_google_protobuf_descriptor, FileDescriptorProtoSchema, ExtensionRangeOptions_VerificationState, FieldDescriptorProto_Type, FieldDescriptorProto_Label, FileOptions_OptimizeMode, FieldOptions_CType, FieldOptions_JSType, FieldOptions_OptionRetention, FieldOptions_OptionTargetType, MethodOptions_IdempotencyLevel, FeatureSet_VisibilityFeature_DefaultSymbolVisibility, FeatureSet_FieldPresence, FeatureSet_EnumType, FeatureSet_RepeatedFieldEncoding, FeatureSet_Utf8Validation, FeatureSet_MessageEncoding, FeatureSet_JsonFormat, FeatureSet_EnforceNamingStyle, GeneratedCodeInfo_Annotation_Semantic, Edition, SymbolVisibility;
  var init_descriptor_pb = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js"() {
      init_boot();
      init_message();
      file_google_protobuf_descriptor = /* @__PURE__ */ boot({ "name": "google/protobuf/descriptor.proto", "package": "google.protobuf", "messageType": [{ "name": "FileDescriptorSet", "field": [{ "name": "file", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.FileDescriptorProto" }], "extensionRange": [{ "start": 536e6, "end": 536000001 }] }, { "name": "FileDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "package", "number": 2, "type": 9, "label": 1 }, { "name": "dependency", "number": 3, "type": 9, "label": 3 }, { "name": "public_dependency", "number": 10, "type": 5, "label": 3 }, { "name": "weak_dependency", "number": 11, "type": 5, "label": 3 }, { "name": "option_dependency", "number": 15, "type": 9, "label": 3 }, { "name": "message_type", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto" }, { "name": "enum_type", "number": 5, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto" }, { "name": "service", "number": 6, "type": 11, "label": 3, "typeName": ".google.protobuf.ServiceDescriptorProto" }, { "name": "extension", "number": 7, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "options", "number": 8, "type": 11, "label": 1, "typeName": ".google.protobuf.FileOptions" }, { "name": "source_code_info", "number": 9, "type": 11, "label": 1, "typeName": ".google.protobuf.SourceCodeInfo" }, { "name": "syntax", "number": 12, "type": 9, "label": 1 }, { "name": "edition", "number": 14, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }] }, { "name": "DescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "field", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "extension", "number": 6, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "nested_type", "number": 3, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto" }, { "name": "enum_type", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto" }, { "name": "extension_range", "number": 5, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto.ExtensionRange" }, { "name": "oneof_decl", "number": 8, "type": 11, "label": 3, "typeName": ".google.protobuf.OneofDescriptorProto" }, { "name": "options", "number": 7, "type": 11, "label": 1, "typeName": ".google.protobuf.MessageOptions" }, { "name": "reserved_range", "number": 9, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto.ReservedRange" }, { "name": "reserved_name", "number": 10, "type": 9, "label": 3 }, { "name": "visibility", "number": 11, "type": 14, "label": 1, "typeName": ".google.protobuf.SymbolVisibility" }], "nestedType": [{ "name": "ExtensionRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.ExtensionRangeOptions" }] }, { "name": "ReservedRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }] }] }, { "name": "ExtensionRangeOptions", "field": [{ "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }, { "name": "declaration", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.ExtensionRangeOptions.Declaration", "options": { "retention": 2 } }, { "name": "features", "number": 50, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "verification", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.ExtensionRangeOptions.VerificationState", "defaultValue": "UNVERIFIED", "options": { "retention": 2 } }], "nestedType": [{ "name": "Declaration", "field": [{ "name": "number", "number": 1, "type": 5, "label": 1 }, { "name": "full_name", "number": 2, "type": 9, "label": 1 }, { "name": "type", "number": 3, "type": 9, "label": 1 }, { "name": "reserved", "number": 5, "type": 8, "label": 1 }, { "name": "repeated", "number": 6, "type": 8, "label": 1 }] }], "enumType": [{ "name": "VerificationState", "value": [{ "name": "DECLARATION", "number": 0 }, { "name": "UNVERIFIED", "number": 1 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "FieldDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "number", "number": 3, "type": 5, "label": 1 }, { "name": "label", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldDescriptorProto.Label" }, { "name": "type", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldDescriptorProto.Type" }, { "name": "type_name", "number": 6, "type": 9, "label": 1 }, { "name": "extendee", "number": 2, "type": 9, "label": 1 }, { "name": "default_value", "number": 7, "type": 9, "label": 1 }, { "name": "oneof_index", "number": 9, "type": 5, "label": 1 }, { "name": "json_name", "number": 10, "type": 9, "label": 1 }, { "name": "options", "number": 8, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions" }, { "name": "proto3_optional", "number": 17, "type": 8, "label": 1 }], "enumType": [{ "name": "Type", "value": [{ "name": "TYPE_DOUBLE", "number": 1 }, { "name": "TYPE_FLOAT", "number": 2 }, { "name": "TYPE_INT64", "number": 3 }, { "name": "TYPE_UINT64", "number": 4 }, { "name": "TYPE_INT32", "number": 5 }, { "name": "TYPE_FIXED64", "number": 6 }, { "name": "TYPE_FIXED32", "number": 7 }, { "name": "TYPE_BOOL", "number": 8 }, { "name": "TYPE_STRING", "number": 9 }, { "name": "TYPE_GROUP", "number": 10 }, { "name": "TYPE_MESSAGE", "number": 11 }, { "name": "TYPE_BYTES", "number": 12 }, { "name": "TYPE_UINT32", "number": 13 }, { "name": "TYPE_ENUM", "number": 14 }, { "name": "TYPE_SFIXED32", "number": 15 }, { "name": "TYPE_SFIXED64", "number": 16 }, { "name": "TYPE_SINT32", "number": 17 }, { "name": "TYPE_SINT64", "number": 18 }] }, { "name": "Label", "value": [{ "name": "LABEL_OPTIONAL", "number": 1 }, { "name": "LABEL_REPEATED", "number": 3 }, { "name": "LABEL_REQUIRED", "number": 2 }] }] }, { "name": "OneofDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "options", "number": 2, "type": 11, "label": 1, "typeName": ".google.protobuf.OneofOptions" }] }, { "name": "EnumDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "value", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumValueDescriptorProto" }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.EnumOptions" }, { "name": "reserved_range", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto.EnumReservedRange" }, { "name": "reserved_name", "number": 5, "type": 9, "label": 3 }, { "name": "visibility", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.SymbolVisibility" }], "nestedType": [{ "name": "EnumReservedRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }] }] }, { "name": "EnumValueDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "number", "number": 2, "type": 5, "label": 1 }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.EnumValueOptions" }] }, { "name": "ServiceDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "method", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.MethodDescriptorProto" }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.ServiceOptions" }] }, { "name": "MethodDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "input_type", "number": 2, "type": 9, "label": 1 }, { "name": "output_type", "number": 3, "type": 9, "label": 1 }, { "name": "options", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.MethodOptions" }, { "name": "client_streaming", "number": 5, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "server_streaming", "number": 6, "type": 8, "label": 1, "defaultValue": "false" }] }, { "name": "FileOptions", "field": [{ "name": "java_package", "number": 1, "type": 9, "label": 1 }, { "name": "java_outer_classname", "number": 8, "type": 9, "label": 1 }, { "name": "java_multiple_files", "number": 10, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "java_generate_equals_and_hash", "number": 20, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "java_string_check_utf8", "number": 27, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "optimize_for", "number": 9, "type": 14, "label": 1, "typeName": ".google.protobuf.FileOptions.OptimizeMode", "defaultValue": "SPEED" }, { "name": "go_package", "number": 11, "type": 9, "label": 1 }, { "name": "cc_generic_services", "number": 16, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "java_generic_services", "number": 17, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "py_generic_services", "number": 18, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 23, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "cc_enable_arenas", "number": 31, "type": 8, "label": 1, "defaultValue": "true" }, { "name": "objc_class_prefix", "number": 36, "type": 9, "label": 1 }, { "name": "csharp_namespace", "number": 37, "type": 9, "label": 1 }, { "name": "swift_prefix", "number": 39, "type": 9, "label": 1 }, { "name": "php_class_prefix", "number": 40, "type": 9, "label": 1 }, { "name": "php_namespace", "number": 41, "type": 9, "label": 1 }, { "name": "php_metadata_namespace", "number": 44, "type": 9, "label": 1 }, { "name": "ruby_package", "number": 45, "type": 9, "label": 1 }, { "name": "features", "number": 50, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "enumType": [{ "name": "OptimizeMode", "value": [{ "name": "SPEED", "number": 1 }, { "name": "CODE_SIZE", "number": 2 }, { "name": "LITE_RUNTIME", "number": 3 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "MessageOptions", "field": [{ "name": "message_set_wire_format", "number": 1, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "no_standard_descriptor_accessor", "number": 2, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "map_entry", "number": 7, "type": 8, "label": 1 }, { "name": "deprecated_legacy_json_field_conflicts", "number": 11, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "features", "number": 12, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "FieldOptions", "field": [{ "name": "ctype", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.CType", "defaultValue": "STRING" }, { "name": "packed", "number": 2, "type": 8, "label": 1 }, { "name": "jstype", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.JSType", "defaultValue": "JS_NORMAL" }, { "name": "lazy", "number": 5, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "unverified_lazy", "number": 15, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "weak", "number": 10, "type": 8, "label": 1, "defaultValue": "false", "options": { "deprecated": true } }, { "name": "debug_redact", "number": 16, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "retention", "number": 17, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.OptionRetention" }, { "name": "targets", "number": 19, "type": 14, "label": 3, "typeName": ".google.protobuf.FieldOptions.OptionTargetType" }, { "name": "edition_defaults", "number": 20, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldOptions.EditionDefault" }, { "name": "features", "number": 21, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "feature_support", "number": 22, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions.FeatureSupport" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "nestedType": [{ "name": "EditionDefault", "field": [{ "name": "edition", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "value", "number": 2, "type": 9, "label": 1 }] }, { "name": "FeatureSupport", "field": [{ "name": "edition_introduced", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "edition_deprecated", "number": 2, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "deprecation_warning", "number": 3, "type": 9, "label": 1 }, { "name": "edition_removed", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }] }], "enumType": [{ "name": "CType", "value": [{ "name": "STRING", "number": 0 }, { "name": "CORD", "number": 1 }, { "name": "STRING_PIECE", "number": 2 }] }, { "name": "JSType", "value": [{ "name": "JS_NORMAL", "number": 0 }, { "name": "JS_STRING", "number": 1 }, { "name": "JS_NUMBER", "number": 2 }] }, { "name": "OptionRetention", "value": [{ "name": "RETENTION_UNKNOWN", "number": 0 }, { "name": "RETENTION_RUNTIME", "number": 1 }, { "name": "RETENTION_SOURCE", "number": 2 }] }, { "name": "OptionTargetType", "value": [{ "name": "TARGET_TYPE_UNKNOWN", "number": 0 }, { "name": "TARGET_TYPE_FILE", "number": 1 }, { "name": "TARGET_TYPE_EXTENSION_RANGE", "number": 2 }, { "name": "TARGET_TYPE_MESSAGE", "number": 3 }, { "name": "TARGET_TYPE_FIELD", "number": 4 }, { "name": "TARGET_TYPE_ONEOF", "number": 5 }, { "name": "TARGET_TYPE_ENUM", "number": 6 }, { "name": "TARGET_TYPE_ENUM_ENTRY", "number": 7 }, { "name": "TARGET_TYPE_SERVICE", "number": 8 }, { "name": "TARGET_TYPE_METHOD", "number": 9 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "OneofOptions", "field": [{ "name": "features", "number": 1, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "EnumOptions", "field": [{ "name": "allow_alias", "number": 2, "type": 8, "label": 1 }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated_legacy_json_field_conflicts", "number": 6, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "features", "number": 7, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "EnumValueOptions", "field": [{ "name": "deprecated", "number": 1, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "features", "number": 2, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "debug_redact", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "feature_support", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions.FeatureSupport" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "ServiceOptions", "field": [{ "name": "features", "number": 34, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "deprecated", "number": 33, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "MethodOptions", "field": [{ "name": "deprecated", "number": 33, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "idempotency_level", "number": 34, "type": 14, "label": 1, "typeName": ".google.protobuf.MethodOptions.IdempotencyLevel", "defaultValue": "IDEMPOTENCY_UNKNOWN" }, { "name": "features", "number": 35, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "enumType": [{ "name": "IdempotencyLevel", "value": [{ "name": "IDEMPOTENCY_UNKNOWN", "number": 0 }, { "name": "NO_SIDE_EFFECTS", "number": 1 }, { "name": "IDEMPOTENT", "number": 2 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "UninterpretedOption", "field": [{ "name": "name", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption.NamePart" }, { "name": "identifier_value", "number": 3, "type": 9, "label": 1 }, { "name": "positive_int_value", "number": 4, "type": 4, "label": 1 }, { "name": "negative_int_value", "number": 5, "type": 3, "label": 1 }, { "name": "double_value", "number": 6, "type": 1, "label": 1 }, { "name": "string_value", "number": 7, "type": 12, "label": 1 }, { "name": "aggregate_value", "number": 8, "type": 9, "label": 1 }], "nestedType": [{ "name": "NamePart", "field": [{ "name": "name_part", "number": 1, "type": 9, "label": 2 }, { "name": "is_extension", "number": 2, "type": 8, "label": 2 }] }] }, { "name": "FeatureSet", "field": [{ "name": "field_presence", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.FieldPresence", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "EXPLICIT", "edition": 900 }, { "value": "IMPLICIT", "edition": 999 }, { "value": "EXPLICIT", "edition": 1e3 }] } }, { "name": "enum_type", "number": 2, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.EnumType", "options": { "retention": 1, "targets": [6, 1], "editionDefaults": [{ "value": "CLOSED", "edition": 900 }, { "value": "OPEN", "edition": 999 }] } }, { "name": "repeated_field_encoding", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.RepeatedFieldEncoding", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "EXPANDED", "edition": 900 }, { "value": "PACKED", "edition": 999 }] } }, { "name": "utf8_validation", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.Utf8Validation", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "NONE", "edition": 900 }, { "value": "VERIFY", "edition": 999 }] } }, { "name": "message_encoding", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.MessageEncoding", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "LENGTH_PREFIXED", "edition": 900 }] } }, { "name": "json_format", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.JsonFormat", "options": { "retention": 1, "targets": [3, 6, 1], "editionDefaults": [{ "value": "LEGACY_BEST_EFFORT", "edition": 900 }, { "value": "ALLOW", "edition": 999 }] } }, { "name": "enforce_naming_style", "number": 7, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.EnforceNamingStyle", "options": { "retention": 2, "targets": [1, 2, 3, 4, 5, 6, 7, 8, 9], "editionDefaults": [{ "value": "STYLE_LEGACY", "edition": 900 }, { "value": "STYLE2024", "edition": 1001 }] } }, { "name": "default_symbol_visibility", "number": 8, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility", "options": { "retention": 2, "targets": [1], "editionDefaults": [{ "value": "EXPORT_ALL", "edition": 900 }, { "value": "EXPORT_TOP_LEVEL", "edition": 1001 }] } }], "nestedType": [{ "name": "VisibilityFeature", "enumType": [{ "name": "DefaultSymbolVisibility", "value": [{ "name": "DEFAULT_SYMBOL_VISIBILITY_UNKNOWN", "number": 0 }, { "name": "EXPORT_ALL", "number": 1 }, { "name": "EXPORT_TOP_LEVEL", "number": 2 }, { "name": "LOCAL_ALL", "number": 3 }, { "name": "STRICT", "number": 4 }] }] }], "enumType": [{ "name": "FieldPresence", "value": [{ "name": "FIELD_PRESENCE_UNKNOWN", "number": 0 }, { "name": "EXPLICIT", "number": 1 }, { "name": "IMPLICIT", "number": 2 }, { "name": "LEGACY_REQUIRED", "number": 3 }] }, { "name": "EnumType", "value": [{ "name": "ENUM_TYPE_UNKNOWN", "number": 0 }, { "name": "OPEN", "number": 1 }, { "name": "CLOSED", "number": 2 }] }, { "name": "RepeatedFieldEncoding", "value": [{ "name": "REPEATED_FIELD_ENCODING_UNKNOWN", "number": 0 }, { "name": "PACKED", "number": 1 }, { "name": "EXPANDED", "number": 2 }] }, { "name": "Utf8Validation", "value": [{ "name": "UTF8_VALIDATION_UNKNOWN", "number": 0 }, { "name": "VERIFY", "number": 2 }, { "name": "NONE", "number": 3 }] }, { "name": "MessageEncoding", "value": [{ "name": "MESSAGE_ENCODING_UNKNOWN", "number": 0 }, { "name": "LENGTH_PREFIXED", "number": 1 }, { "name": "DELIMITED", "number": 2 }] }, { "name": "JsonFormat", "value": [{ "name": "JSON_FORMAT_UNKNOWN", "number": 0 }, { "name": "ALLOW", "number": 1 }, { "name": "LEGACY_BEST_EFFORT", "number": 2 }] }, { "name": "EnforceNamingStyle", "value": [{ "name": "ENFORCE_NAMING_STYLE_UNKNOWN", "number": 0 }, { "name": "STYLE2024", "number": 1 }, { "name": "STYLE_LEGACY", "number": 2 }] }], "extensionRange": [{ "start": 1e3, "end": 9995 }, { "start": 9995, "end": 1e4 }, { "start": 1e4, "end": 10001 }] }, { "name": "FeatureSetDefaults", "field": [{ "name": "defaults", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault" }, { "name": "minimum_edition", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "maximum_edition", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }], "nestedType": [{ "name": "FeatureSetEditionDefault", "field": [{ "name": "edition", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "overridable_features", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "fixed_features", "number": 5, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }] }] }, { "name": "SourceCodeInfo", "field": [{ "name": "location", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.SourceCodeInfo.Location" }], "nestedType": [{ "name": "Location", "field": [{ "name": "path", "number": 1, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "span", "number": 2, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "leading_comments", "number": 3, "type": 9, "label": 1 }, { "name": "trailing_comments", "number": 4, "type": 9, "label": 1 }, { "name": "leading_detached_comments", "number": 6, "type": 9, "label": 3 }] }], "extensionRange": [{ "start": 536e6, "end": 536000001 }] }, { "name": "GeneratedCodeInfo", "field": [{ "name": "annotation", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.GeneratedCodeInfo.Annotation" }], "nestedType": [{ "name": "Annotation", "field": [{ "name": "path", "number": 1, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "source_file", "number": 2, "type": 9, "label": 1 }, { "name": "begin", "number": 3, "type": 5, "label": 1 }, { "name": "end", "number": 4, "type": 5, "label": 1 }, { "name": "semantic", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.GeneratedCodeInfo.Annotation.Semantic" }], "enumType": [{ "name": "Semantic", "value": [{ "name": "NONE", "number": 0 }, { "name": "SET", "number": 1 }, { "name": "ALIAS", "number": 2 }] }] }] }], "enumType": [{ "name": "Edition", "value": [{ "name": "EDITION_UNKNOWN", "number": 0 }, { "name": "EDITION_LEGACY", "number": 900 }, { "name": "EDITION_PROTO2", "number": 998 }, { "name": "EDITION_PROTO3", "number": 999 }, { "name": "EDITION_2023", "number": 1e3 }, { "name": "EDITION_2024", "number": 1001 }, { "name": "EDITION_1_TEST_ONLY", "number": 1 }, { "name": "EDITION_2_TEST_ONLY", "number": 2 }, { "name": "EDITION_99997_TEST_ONLY", "number": 99997 }, { "name": "EDITION_99998_TEST_ONLY", "number": 99998 }, { "name": "EDITION_99999_TEST_ONLY", "number": 99999 }, { "name": "EDITION_MAX", "number": 2147483647 }] }, { "name": "SymbolVisibility", "value": [{ "name": "VISIBILITY_UNSET", "number": 0 }, { "name": "VISIBILITY_LOCAL", "number": 1 }, { "name": "VISIBILITY_EXPORT", "number": 2 }] }] });
      FileDescriptorProtoSchema = /* @__PURE__ */ messageDesc(file_google_protobuf_descriptor, 1);
      (function(ExtensionRangeOptions_VerificationState2) {
        ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2["DECLARATION"] = 0] = "DECLARATION";
        ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2["UNVERIFIED"] = 1] = "UNVERIFIED";
      })(ExtensionRangeOptions_VerificationState || (ExtensionRangeOptions_VerificationState = {}));
      (function(FieldDescriptorProto_Type2) {
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["DOUBLE"] = 1] = "DOUBLE";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FLOAT"] = 2] = "FLOAT";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["INT64"] = 3] = "INT64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["UINT64"] = 4] = "UINT64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["INT32"] = 5] = "INT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FIXED64"] = 6] = "FIXED64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FIXED32"] = 7] = "FIXED32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["BOOL"] = 8] = "BOOL";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["STRING"] = 9] = "STRING";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["GROUP"] = 10] = "GROUP";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["MESSAGE"] = 11] = "MESSAGE";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["BYTES"] = 12] = "BYTES";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["UINT32"] = 13] = "UINT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["ENUM"] = 14] = "ENUM";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SFIXED32"] = 15] = "SFIXED32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SFIXED64"] = 16] = "SFIXED64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SINT32"] = 17] = "SINT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SINT64"] = 18] = "SINT64";
      })(FieldDescriptorProto_Type || (FieldDescriptorProto_Type = {}));
      (function(FieldDescriptorProto_Label2) {
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["OPTIONAL"] = 1] = "OPTIONAL";
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["REPEATED"] = 3] = "REPEATED";
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["REQUIRED"] = 2] = "REQUIRED";
      })(FieldDescriptorProto_Label || (FieldDescriptorProto_Label = {}));
      (function(FileOptions_OptimizeMode2) {
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["SPEED"] = 1] = "SPEED";
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["CODE_SIZE"] = 2] = "CODE_SIZE";
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["LITE_RUNTIME"] = 3] = "LITE_RUNTIME";
      })(FileOptions_OptimizeMode || (FileOptions_OptimizeMode = {}));
      (function(FieldOptions_CType2) {
        FieldOptions_CType2[FieldOptions_CType2["STRING"] = 0] = "STRING";
        FieldOptions_CType2[FieldOptions_CType2["CORD"] = 1] = "CORD";
        FieldOptions_CType2[FieldOptions_CType2["STRING_PIECE"] = 2] = "STRING_PIECE";
      })(FieldOptions_CType || (FieldOptions_CType = {}));
      (function(FieldOptions_JSType2) {
        FieldOptions_JSType2[FieldOptions_JSType2["JS_NORMAL"] = 0] = "JS_NORMAL";
        FieldOptions_JSType2[FieldOptions_JSType2["JS_STRING"] = 1] = "JS_STRING";
        FieldOptions_JSType2[FieldOptions_JSType2["JS_NUMBER"] = 2] = "JS_NUMBER";
      })(FieldOptions_JSType || (FieldOptions_JSType = {}));
      (function(FieldOptions_OptionRetention2) {
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_UNKNOWN"] = 0] = "RETENTION_UNKNOWN";
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_RUNTIME"] = 1] = "RETENTION_RUNTIME";
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_SOURCE"] = 2] = "RETENTION_SOURCE";
      })(FieldOptions_OptionRetention || (FieldOptions_OptionRetention = {}));
      (function(FieldOptions_OptionTargetType2) {
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_UNKNOWN"] = 0] = "TARGET_TYPE_UNKNOWN";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_FILE"] = 1] = "TARGET_TYPE_FILE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_EXTENSION_RANGE"] = 2] = "TARGET_TYPE_EXTENSION_RANGE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_MESSAGE"] = 3] = "TARGET_TYPE_MESSAGE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_FIELD"] = 4] = "TARGET_TYPE_FIELD";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ONEOF"] = 5] = "TARGET_TYPE_ONEOF";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ENUM"] = 6] = "TARGET_TYPE_ENUM";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ENUM_ENTRY"] = 7] = "TARGET_TYPE_ENUM_ENTRY";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_SERVICE"] = 8] = "TARGET_TYPE_SERVICE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_METHOD"] = 9] = "TARGET_TYPE_METHOD";
      })(FieldOptions_OptionTargetType || (FieldOptions_OptionTargetType = {}));
      (function(MethodOptions_IdempotencyLevel2) {
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["IDEMPOTENCY_UNKNOWN"] = 0] = "IDEMPOTENCY_UNKNOWN";
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["NO_SIDE_EFFECTS"] = 1] = "NO_SIDE_EFFECTS";
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["IDEMPOTENT"] = 2] = "IDEMPOTENT";
      })(MethodOptions_IdempotencyLevel || (MethodOptions_IdempotencyLevel = {}));
      (function(FeatureSet_VisibilityFeature_DefaultSymbolVisibility2) {
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["DEFAULT_SYMBOL_VISIBILITY_UNKNOWN"] = 0] = "DEFAULT_SYMBOL_VISIBILITY_UNKNOWN";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["EXPORT_ALL"] = 1] = "EXPORT_ALL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["EXPORT_TOP_LEVEL"] = 2] = "EXPORT_TOP_LEVEL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["LOCAL_ALL"] = 3] = "LOCAL_ALL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["STRICT"] = 4] = "STRICT";
      })(FeatureSet_VisibilityFeature_DefaultSymbolVisibility || (FeatureSet_VisibilityFeature_DefaultSymbolVisibility = {}));
      (function(FeatureSet_FieldPresence2) {
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["FIELD_PRESENCE_UNKNOWN"] = 0] = "FIELD_PRESENCE_UNKNOWN";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["EXPLICIT"] = 1] = "EXPLICIT";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["IMPLICIT"] = 2] = "IMPLICIT";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["LEGACY_REQUIRED"] = 3] = "LEGACY_REQUIRED";
      })(FeatureSet_FieldPresence || (FeatureSet_FieldPresence = {}));
      (function(FeatureSet_EnumType2) {
        FeatureSet_EnumType2[FeatureSet_EnumType2["ENUM_TYPE_UNKNOWN"] = 0] = "ENUM_TYPE_UNKNOWN";
        FeatureSet_EnumType2[FeatureSet_EnumType2["OPEN"] = 1] = "OPEN";
        FeatureSet_EnumType2[FeatureSet_EnumType2["CLOSED"] = 2] = "CLOSED";
      })(FeatureSet_EnumType || (FeatureSet_EnumType = {}));
      (function(FeatureSet_RepeatedFieldEncoding2) {
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["REPEATED_FIELD_ENCODING_UNKNOWN"] = 0] = "REPEATED_FIELD_ENCODING_UNKNOWN";
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["PACKED"] = 1] = "PACKED";
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["EXPANDED"] = 2] = "EXPANDED";
      })(FeatureSet_RepeatedFieldEncoding || (FeatureSet_RepeatedFieldEncoding = {}));
      (function(FeatureSet_Utf8Validation2) {
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["UTF8_VALIDATION_UNKNOWN"] = 0] = "UTF8_VALIDATION_UNKNOWN";
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["VERIFY"] = 2] = "VERIFY";
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["NONE"] = 3] = "NONE";
      })(FeatureSet_Utf8Validation || (FeatureSet_Utf8Validation = {}));
      (function(FeatureSet_MessageEncoding2) {
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["MESSAGE_ENCODING_UNKNOWN"] = 0] = "MESSAGE_ENCODING_UNKNOWN";
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["LENGTH_PREFIXED"] = 1] = "LENGTH_PREFIXED";
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["DELIMITED"] = 2] = "DELIMITED";
      })(FeatureSet_MessageEncoding || (FeatureSet_MessageEncoding = {}));
      (function(FeatureSet_JsonFormat2) {
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["JSON_FORMAT_UNKNOWN"] = 0] = "JSON_FORMAT_UNKNOWN";
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["ALLOW"] = 1] = "ALLOW";
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["LEGACY_BEST_EFFORT"] = 2] = "LEGACY_BEST_EFFORT";
      })(FeatureSet_JsonFormat || (FeatureSet_JsonFormat = {}));
      (function(FeatureSet_EnforceNamingStyle2) {
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["ENFORCE_NAMING_STYLE_UNKNOWN"] = 0] = "ENFORCE_NAMING_STYLE_UNKNOWN";
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["STYLE2024"] = 1] = "STYLE2024";
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["STYLE_LEGACY"] = 2] = "STYLE_LEGACY";
      })(FeatureSet_EnforceNamingStyle || (FeatureSet_EnforceNamingStyle = {}));
      (function(GeneratedCodeInfo_Annotation_Semantic2) {
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["NONE"] = 0] = "NONE";
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["SET"] = 1] = "SET";
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["ALIAS"] = 2] = "ALIAS";
      })(GeneratedCodeInfo_Annotation_Semantic || (GeneratedCodeInfo_Annotation_Semantic = {}));
      (function(Edition2) {
        Edition2[Edition2["EDITION_UNKNOWN"] = 0] = "EDITION_UNKNOWN";
        Edition2[Edition2["EDITION_LEGACY"] = 900] = "EDITION_LEGACY";
        Edition2[Edition2["EDITION_PROTO2"] = 998] = "EDITION_PROTO2";
        Edition2[Edition2["EDITION_PROTO3"] = 999] = "EDITION_PROTO3";
        Edition2[Edition2["EDITION_2023"] = 1e3] = "EDITION_2023";
        Edition2[Edition2["EDITION_2024"] = 1001] = "EDITION_2024";
        Edition2[Edition2["EDITION_1_TEST_ONLY"] = 1] = "EDITION_1_TEST_ONLY";
        Edition2[Edition2["EDITION_2_TEST_ONLY"] = 2] = "EDITION_2_TEST_ONLY";
        Edition2[Edition2["EDITION_99997_TEST_ONLY"] = 99997] = "EDITION_99997_TEST_ONLY";
        Edition2[Edition2["EDITION_99998_TEST_ONLY"] = 99998] = "EDITION_99998_TEST_ONLY";
        Edition2[Edition2["EDITION_99999_TEST_ONLY"] = 99999] = "EDITION_99999_TEST_ONLY";
        Edition2[Edition2["EDITION_MAX"] = 2147483647] = "EDITION_MAX";
      })(Edition || (Edition = {}));
      (function(SymbolVisibility2) {
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_UNSET"] = 0] = "VISIBILITY_UNSET";
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_LOCAL"] = 1] = "VISIBILITY_LOCAL";
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_EXPORT"] = 2] = "VISIBILITY_EXPORT";
      })(SymbolVisibility || (SymbolVisibility = {}));
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/from-binary.js
  function makeReadOptions(options) {
    return options ? Object.assign(Object.assign({}, readDefaults), options) : readDefaults;
  }
  function fromBinary(schema, bytes, options) {
    const msg = reflect(schema, void 0, false);
    readMessage(msg, new BinaryReader(bytes), makeReadOptions(options), false, bytes.byteLength);
    return msg.message;
  }
  function readMessage(message, reader, options, delimited, lengthOrDelimitedFieldNo) {
    var _a;
    const end = delimited ? reader.len : reader.pos + lengthOrDelimitedFieldNo;
    let fieldNo;
    let wireType;
    const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];
    while (reader.pos < end) {
      [fieldNo, wireType] = reader.tag();
      if (delimited && wireType == WireType.EndGroup) {
        break;
      }
      const field = message.findNumber(fieldNo);
      if (!field) {
        const data = reader.skip(wireType, fieldNo);
        if (options.readUnknownFields) {
          unknownFields.push({ no: fieldNo, wireType, data });
        }
        continue;
      }
      readField(message, reader, field, wireType, options);
    }
    if (delimited) {
      if (wireType != WireType.EndGroup || fieldNo !== lengthOrDelimitedFieldNo) {
        throw new Error("invalid end group tag");
      }
    }
    if (unknownFields.length > 0) {
      message.setUnknown(unknownFields);
    }
  }
  function readField(message, reader, field, wireType, options) {
    var _a;
    switch (field.fieldKind) {
      case "scalar":
        message.set(field, readScalar(reader, field.scalar));
        break;
      case "enum":
        const val = readScalar(reader, ScalarType.INT32);
        if (field.enum.open) {
          message.set(field, val);
        } else {
          const ok = field.enum.values.some((v) => v.number === val);
          if (ok) {
            message.set(field, val);
          } else if (options.readUnknownFields) {
            const bytes = [];
            varint32write(val, bytes);
            const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];
            unknownFields.push({
              no: field.number,
              wireType,
              data: new Uint8Array(bytes)
            });
            message.setUnknown(unknownFields);
          }
        }
        break;
      case "message":
        message.set(field, readMessageField(reader, options, field, message.get(field)));
        break;
      case "list":
        readListField(reader, wireType, message.get(field), options);
        break;
      case "map":
        readMapEntry(reader, message.get(field), options);
        break;
    }
  }
  function readMapEntry(reader, map, options) {
    const field = map.field();
    let key;
    let val;
    const len = reader.uint32();
    const end = reader.pos + len;
    while (reader.pos < end) {
      const [fieldNo] = reader.tag();
      switch (fieldNo) {
        case 1:
          key = readScalar(reader, field.mapKey);
          break;
        case 2:
          switch (field.mapKind) {
            case "scalar":
              val = readScalar(reader, field.scalar);
              break;
            case "enum":
              val = reader.int32();
              break;
            case "message":
              val = readMessageField(reader, options, field);
              break;
          }
          break;
      }
    }
    if (key === void 0) {
      key = scalarZeroValue(field.mapKey, false);
    }
    if (val === void 0) {
      switch (field.mapKind) {
        case "scalar":
          val = scalarZeroValue(field.scalar, false);
          break;
        case "enum":
          val = field.enum.values[0].number;
          break;
        case "message":
          val = reflect(field.message, void 0, false);
          break;
      }
    }
    map.set(key, val);
  }
  function readListField(reader, wireType, list, options) {
    var _a;
    const field = list.field();
    if (field.listKind === "message") {
      list.add(readMessageField(reader, options, field));
      return;
    }
    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;
    const packed = wireType == WireType.LengthDelimited && scalarType != ScalarType.STRING && scalarType != ScalarType.BYTES;
    if (!packed) {
      list.add(readScalar(reader, scalarType));
      return;
    }
    const e = reader.uint32() + reader.pos;
    while (reader.pos < e) {
      list.add(readScalar(reader, scalarType));
    }
  }
  function readMessageField(reader, options, field, mergeMessage) {
    const delimited = field.delimitedEncoding;
    const message = mergeMessage !== null && mergeMessage !== void 0 ? mergeMessage : reflect(field.message, void 0, false);
    readMessage(message, reader, options, delimited, delimited ? field.number : reader.uint32());
    return message;
  }
  function readScalar(reader, type) {
    switch (type) {
      case ScalarType.STRING:
        return reader.string();
      case ScalarType.BOOL:
        return reader.bool();
      case ScalarType.DOUBLE:
        return reader.double();
      case ScalarType.FLOAT:
        return reader.float();
      case ScalarType.INT32:
        return reader.int32();
      case ScalarType.INT64:
        return reader.int64();
      case ScalarType.UINT64:
        return reader.uint64();
      case ScalarType.FIXED64:
        return reader.fixed64();
      case ScalarType.BYTES:
        return reader.bytes();
      case ScalarType.FIXED32:
        return reader.fixed32();
      case ScalarType.SFIXED32:
        return reader.sfixed32();
      case ScalarType.SFIXED64:
        return reader.sfixed64();
      case ScalarType.SINT64:
        return reader.sint64();
      case ScalarType.UINT32:
        return reader.uint32();
      case ScalarType.SINT32:
        return reader.sint32();
    }
  }
  var readDefaults;
  var init_from_binary = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/from-binary.js"() {
      init_descriptors();
      init_scalar();
      init_reflect();
      init_binary_encoding();
      init_varint();
      readDefaults = {
        readUnknownFields: true
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/file.js
  function fileDesc(b64, imports) {
    var _a;
    const root = fromBinary(FileDescriptorProtoSchema, base64Decode(b64));
    root.messageType.forEach(restoreJsonNames);
    root.dependency = (_a = imports === null || imports === void 0 ? void 0 : imports.map((f) => f.proto.name)) !== null && _a !== void 0 ? _a : [];
    const reg = createFileRegistry(root, (protoFileName) => imports === null || imports === void 0 ? void 0 : imports.find((f) => f.proto.name === protoFileName));
    return reg.getFile(root.name);
  }
  var init_file = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/file.js"() {
      init_base64_encoding();
      init_descriptor_pb();
      init_registry();
      init_restore_json_names();
      init_from_binary();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/to-binary.js
  function makeWriteOptions(options) {
    return options ? Object.assign(Object.assign({}, writeDefaults), options) : writeDefaults;
  }
  function toBinary(schema, message, options) {
    return writeFields(new BinaryWriter(), makeWriteOptions(options), reflect(schema, message)).finish();
  }
  function writeFields(writer, opts, msg) {
    var _a;
    for (const f of msg.sortedFields) {
      if (!msg.isSet(f)) {
        if (f.presence == LEGACY_REQUIRED2) {
          throw new Error(`cannot encode ${f} to binary: required field not set`);
        }
        continue;
      }
      writeField(writer, opts, msg, f);
    }
    if (opts.writeUnknownFields) {
      for (const { no, wireType, data } of (_a = msg.getUnknown()) !== null && _a !== void 0 ? _a : []) {
        writer.tag(no, wireType).raw(data);
      }
    }
    return writer;
  }
  function writeField(writer, opts, msg, field) {
    var _a;
    switch (field.fieldKind) {
      case "scalar":
      case "enum":
        writeScalar(writer, msg.desc.typeName, field.name, (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32, field.number, msg.get(field));
        break;
      case "list":
        writeListField(writer, opts, field, msg.get(field));
        break;
      case "message":
        writeMessageField(writer, opts, field, msg.get(field));
        break;
      case "map":
        for (const [key, val] of msg.get(field)) {
          writeMapEntry(writer, opts, field, key, val);
        }
        break;
    }
  }
  function writeScalar(writer, msgName, fieldName, scalarType, fieldNo, value) {
    writeScalarValue(writer.tag(fieldNo, writeTypeOfScalar(scalarType)), msgName, fieldName, scalarType, value);
  }
  function writeMessageField(writer, opts, field, message) {
    if (field.delimitedEncoding) {
      writeFields(writer.tag(field.number, WireType.StartGroup), opts, message).tag(field.number, WireType.EndGroup);
    } else {
      writeFields(writer.tag(field.number, WireType.LengthDelimited).fork(), opts, message).join();
    }
  }
  function writeListField(writer, opts, field, list) {
    var _a;
    if (field.listKind == "message") {
      for (const item of list) {
        writeMessageField(writer, opts, field, item);
      }
      return;
    }
    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;
    if (field.packed) {
      if (!list.size) {
        return;
      }
      writer.tag(field.number, WireType.LengthDelimited).fork();
      for (const item of list) {
        writeScalarValue(writer, field.parent.typeName, field.name, scalarType, item);
      }
      writer.join();
      return;
    }
    for (const item of list) {
      writeScalar(writer, field.parent.typeName, field.name, scalarType, field.number, item);
    }
  }
  function writeMapEntry(writer, opts, field, key, value) {
    var _a;
    writer.tag(field.number, WireType.LengthDelimited).fork();
    writeScalar(writer, field.parent.typeName, field.name, field.mapKey, 1, key);
    switch (field.mapKind) {
      case "scalar":
      case "enum":
        writeScalar(writer, field.parent.typeName, field.name, (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32, 2, value);
        break;
      case "message":
        writeFields(writer.tag(2, WireType.LengthDelimited).fork(), opts, value).join();
        break;
    }
    writer.join();
  }
  function writeScalarValue(writer, msgName, fieldName, type, value) {
    try {
      switch (type) {
        case ScalarType.STRING:
          writer.string(value);
          break;
        case ScalarType.BOOL:
          writer.bool(value);
          break;
        case ScalarType.DOUBLE:
          writer.double(value);
          break;
        case ScalarType.FLOAT:
          writer.float(value);
          break;
        case ScalarType.INT32:
          writer.int32(value);
          break;
        case ScalarType.INT64:
          writer.int64(value);
          break;
        case ScalarType.UINT64:
          writer.uint64(value);
          break;
        case ScalarType.FIXED64:
          writer.fixed64(value);
          break;
        case ScalarType.BYTES:
          writer.bytes(value);
          break;
        case ScalarType.FIXED32:
          writer.fixed32(value);
          break;
        case ScalarType.SFIXED32:
          writer.sfixed32(value);
          break;
        case ScalarType.SFIXED64:
          writer.sfixed64(value);
          break;
        case ScalarType.SINT64:
          writer.sint64(value);
          break;
        case ScalarType.UINT32:
          writer.uint32(value);
          break;
        case ScalarType.SINT32:
          writer.sint32(value);
          break;
      }
    } catch (e) {
      if (e instanceof Error) {
        throw new Error(`cannot encode field ${msgName}.${fieldName} to binary: ${e.message}`);
      }
      throw e;
    }
  }
  function writeTypeOfScalar(type) {
    switch (type) {
      case ScalarType.BYTES:
      case ScalarType.STRING:
        return WireType.LengthDelimited;
      case ScalarType.DOUBLE:
      case ScalarType.FIXED64:
      case ScalarType.SFIXED64:
        return WireType.Bit64;
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
      case ScalarType.FLOAT:
        return WireType.Bit32;
      default:
        return WireType.Varint;
    }
  }
  var LEGACY_REQUIRED2, writeDefaults;
  var init_to_binary = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/to-binary.js"() {
      init_reflect();
      init_binary_encoding();
      init_descriptors();
      LEGACY_REQUIRED2 = 3;
      writeDefaults = {
        writeUnknownFields: true
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/extension.js
  var init_extension = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/extension.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/equals.js
  var init_equals = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/equals.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/fields.js
  var init_fields = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/fields.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/to-json.js
  var init_to_json = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/to-json.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/from-json.js
  var tokenIgnoredUnknownEnum, tokenNull;
  var init_from_json = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/from-json.js"() {
      tokenIgnoredUnknownEnum = Symbol();
      tokenNull = Symbol();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/merge.js
  var init_merge = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/merge.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/index.js
  var init_esm = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/index.js"() {
      init_types();
      init_is_message();
      init_create();
      init_clone();
      init_descriptors();
      init_equals();
      init_fields();
      init_registry();
      init_to_binary();
      init_from_binary();
      init_to_json();
      init_from_json();
      init_merge();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/embed.js
  var init_embed = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/embed.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/service.js
  var init_service = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/service.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/symbols.js
  var packageName, wktPublicImportPaths, symbols;
  var init_symbols = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/symbols.js"() {
      packageName = "@bufbuild/protobuf";
      wktPublicImportPaths = {
        "google/protobuf/compiler/plugin.proto": packageName + "/wkt",
        "google/protobuf/any.proto": packageName + "/wkt",
        "google/protobuf/api.proto": packageName + "/wkt",
        "google/protobuf/cpp_features.proto": packageName + "/wkt",
        "google/protobuf/descriptor.proto": packageName + "/wkt",
        "google/protobuf/duration.proto": packageName + "/wkt",
        "google/protobuf/empty.proto": packageName + "/wkt",
        "google/protobuf/field_mask.proto": packageName + "/wkt",
        "google/protobuf/go_features.proto": packageName + "/wkt",
        "google/protobuf/java_features.proto": packageName + "/wkt",
        "google/protobuf/source_context.proto": packageName + "/wkt",
        "google/protobuf/struct.proto": packageName + "/wkt",
        "google/protobuf/timestamp.proto": packageName + "/wkt",
        "google/protobuf/type.proto": packageName + "/wkt",
        "google/protobuf/wrappers.proto": packageName + "/wkt"
      };
      symbols = {
        isMessage: { typeOnly: false, bootstrapWktFrom: "../../is-message.js", from: packageName },
        Message: { typeOnly: true, bootstrapWktFrom: "../../types.js", from: packageName },
        create: { typeOnly: false, bootstrapWktFrom: "../../create.js", from: packageName },
        fromJson: { typeOnly: false, bootstrapWktFrom: "../../from-json.js", from: packageName },
        fromJsonString: { typeOnly: false, bootstrapWktFrom: "../../from-json.js", from: packageName },
        fromBinary: { typeOnly: false, bootstrapWktFrom: "../../from-binary.js", from: packageName },
        toBinary: { typeOnly: false, bootstrapWktFrom: "../../to-binary.js", from: packageName },
        toJson: { typeOnly: false, bootstrapWktFrom: "../../to-json.js", from: packageName },
        toJsonString: { typeOnly: false, bootstrapWktFrom: "../../to-json.js", from: packageName },
        protoInt64: { typeOnly: false, bootstrapWktFrom: "../../proto-int64.js", from: packageName },
        JsonValue: { typeOnly: true, bootstrapWktFrom: "../../json-value.js", from: packageName },
        JsonObject: { typeOnly: true, bootstrapWktFrom: "../../json-value.js", from: packageName },
        codegen: {
          boot: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/boot.js", from: packageName + "/codegenv2" },
          fileDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/file.js", from: packageName + "/codegenv2" },
          enumDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/enum.js", from: packageName + "/codegenv2" },
          extDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/extension.js", from: packageName + "/codegenv2" },
          messageDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/message.js", from: packageName + "/codegenv2" },
          serviceDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/service.js", from: packageName + "/codegenv2" },
          tsEnum: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/enum.js", from: packageName + "/codegenv2" },
          GenFile: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenEnum: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenExtension: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenMessage: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenService: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" }
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/scalar.js
  var init_scalar2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/scalar.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/types.js
  var init_types2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/index.js
  var init_codegenv2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/index.js"() {
      init_boot();
      init_embed();
      init_enum();
      init_extension();
      init_file();
      init_message();
      init_service();
      init_symbols();
      init_scalar2();
      init_types2();
    }
  });

  // web/src/proto/proto/ws_messages_pb.ts
  var file_proto_ws_messages, WsEnvelopeSchema;
  var init_ws_messages_pb = __esm({
    "web/src/proto/proto/ws_messages_pb.ts"() {
      "use strict";
      init_codegenv2();
      file_proto_ws_messages = /* @__PURE__ */ fileDesc("Chdwcm90by93c19tZXNzYWdlcy5wcm90bxIRbGlnaHRzcGVlZGR1ZWwud3MiwA0KCldzRW52ZWxvcGUSNgoMc3RhdGVfdXBkYXRlGAEgASgLMh4ubGlnaHRzcGVlZGR1ZWwud3MuU3RhdGVVcGRhdGVIABI1Cglyb29tX2Z1bGwYAiABKAsyIC5saWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9ySAASLQoEam9pbhgKIAEoCzIdLmxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW5IABIwCglzcGF3bl9ib3QYCyABKAsyGy5saWdodHNwZWVkZHVlbC53cy5TcGF3bkJvdEgAEjYKDGFkZF93YXlwb2ludBgMIAEoCzIeLmxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50SAASPAoPdXBkYXRlX3dheXBvaW50GA0gASgLMiEubGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRIABI4Cg1tb3ZlX3dheXBvaW50GA4gASgLMh8ubGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50SAASPAoPZGVsZXRlX3dheXBvaW50GA8gASgLMiEubGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlV2F5cG9pbnRIABI8Cg9jbGVhcl93YXlwb2ludHMYECABKAsyIS5saWdodHNwZWVkZHVlbC53cy5DbGVhcldheXBvaW50c0gAEkAKEWNvbmZpZ3VyZV9taXNzaWxlGBEgASgLMiMubGlnaHRzcGVlZGR1ZWwud3MuQ29uZmlndXJlTWlzc2lsZUgAEkUKFGFkZF9taXNzaWxlX3dheXBvaW50GBIgASgLMiUubGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVdheXBvaW50SAASVgoddXBkYXRlX21pc3NpbGVfd2F5cG9pbnRfc3BlZWQYEyABKAsyLS5saWdodHNwZWVkZHVlbC53cy5VcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZEgAEkcKFW1vdmVfbWlzc2lsZV93YXlwb2ludBgUIAEoCzImLmxpZ2h0c3BlZWRkdWVsLndzLk1vdmVNaXNzaWxlV2F5cG9pbnRIABJLChdkZWxldGVfbWlzc2lsZV93YXlwb2ludBgVIAEoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVXYXlwb2ludEgAEkMKE2NsZWFyX21pc3NpbGVfcm91dGUYFiABKAsyJC5saWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZUgAEj8KEWFkZF9taXNzaWxlX3JvdXRlGBcgASgLMiIubGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVJvdXRlSAASRQoUcmVuYW1lX21pc3NpbGVfcm91dGUYGCABKAsyJS5saWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGVIABJFChRkZWxldGVfbWlzc2lsZV9yb3V0ZRgZIAEoCzIlLmxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVSb3V0ZUgAEkwKGHNldF9hY3RpdmVfbWlzc2lsZV9yb3V0ZRgaIAEoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZUgAEjoKDmxhdW5jaF9taXNzaWxlGBsgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZUgAEjAKCWRhZ19zdGFydBgeIAEoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0SAASMgoKZGFnX2NhbmNlbBgfIAEoCzIcLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ0NhbmNlbEgAEjcKDWRhZ19zdG9yeV9hY2sYICABKAsyHi5saWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFja0gAEi4KCGRhZ19saXN0GCEgASgLMhoubGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdEgAEkEKEm1pc3Npb25fc3Bhd25fd2F2ZRgoIAEoCzIjLmxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TcGF3bldhdmVIABJDChNtaXNzaW9uX3N0b3J5X2V2ZW50GCkgASgLMiQubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnRIABI/ChFkYWdfbGlzdF9yZXNwb25zZRgyIAEoCzIiLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZUgAQgkKB3BheWxvYWQiswUKC1N0YXRlVXBkYXRlEgsKA25vdxgBIAEoARIkCgJtZRgCIAEoCzIYLmxpZ2h0c3BlZWRkdWVsLndzLkdob3N0EigKBmdob3N0cxgDIAMoCzIYLmxpZ2h0c3BlZWRkdWVsLndzLkdob3N0EikKBG1ldGEYBCABKAsyGy5saWdodHNwZWVkZHVlbC53cy5Sb29tTWV0YRIsCghtaXNzaWxlcxgFIAMoCzIaLmxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGUSOAoObWlzc2lsZV9jb25maWcYBiABKAsyIC5saWdodHNwZWVkZHVlbC53cy5NaXNzaWxlQ29uZmlnEjYKEW1pc3NpbGVfd2F5cG9pbnRzGAcgAygLMhsubGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnQSNwoObWlzc2lsZV9yb3V0ZXMYCCADKAsyHy5saWdodHNwZWVkZHVlbC53cy5NaXNzaWxlUm91dGUSHAoUYWN0aXZlX21pc3NpbGVfcm91dGUYCSABKAkSGgoSbmV4dF9taXNzaWxlX3JlYWR5GAogASgBEi0KA2RhZxgLIAEoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlSACIAQESNAoJaW52ZW50b3J5GAwgASgLMhwubGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5SAGIAQESMQoFc3RvcnkYDSABKAsyHS5saWdodHNwZWVkZHVlbC53cy5TdG9yeVN0YXRlSAKIAQESQAoMY2FwYWJpbGl0aWVzGA4gASgLMiUubGlnaHRzcGVlZGR1ZWwud3MuUGxheWVyQ2FwYWJpbGl0aWVzSAOIAQFCBgoEX2RhZ0IMCgpfaW52ZW50b3J5QggKBl9zdG9yeUIPCg1fY2FwYWJpbGl0aWVzIiAKDVJvb21GdWxsRXJyb3ISDwoHbWVzc2FnZRgBIAEoCSJGCgpDbGllbnRKb2luEgwKBG5hbWUYASABKAkSDAoEcm9vbRgCIAEoCRINCgVtYXBfdxgDIAEoARINCgVtYXBfaBgEIAEoASIKCghTcGF3bkJvdCIyCgtBZGRXYXlwb2ludBIJCgF4GAEgASgBEgkKAXkYAiABKAESDQoFc3BlZWQYAyABKAEiLgoOVXBkYXRlV2F5cG9pbnQSDQoFaW5kZXgYASABKAUSDQoFc3BlZWQYAiABKAEiMwoMTW92ZVdheXBv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a2VyX3NwZWVkGAQgASgBEgwKBGtfdXAYBSABKAESDgoGa19kb3duGAYgASgBEgsKA2V4cBgHIAEoASJ3Cg1VcGdyYWRlRWZmZWN0EjIKBHR5cGUYASABKA4yJC5saWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0VHlwZRIUCgptdWx0aXBsaWVyGAIgASgBSAASEwoJdW5sb2NrX2lkGAMgASgJSABCBwoFdmFsdWUieQoSUGxheWVyQ2FwYWJpbGl0aWVzEhgKEHNwZWVkX211bHRpcGxpZXIYASABKAESGQoRdW5sb2NrZWRfbWlzc2lsZXMYAiADKAkSFQoNaGVhdF9jYXBhY2l0eRgDIAEoARIXCg9oZWF0X2VmZmljaWVuY3kYBCABKAEi9AEKB0RhZ05vZGUSCgoCaWQYASABKAkSLAoEa2luZBgCIAEoDjIeLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVLaW5kEg0KBWxhYmVsGAMgASgJEjAKBnN0YXR1cxgEIAEoDjIgLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVTdGF0dXMSEwoLcmVtYWluaW5nX3MYBSABKAESEgoKZHVyYXRpb25fcxgGIAEoARISCgpyZXBlYXRhYmxlGAcgASgIEjEKB2VmZmVjdHMYCCADKAsyIC5saWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0IjUKCERhZ1N0YXRlEikKBW5vZGVzGAEgAygLMhoubGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZSIbCghEYWdTdGFydBIPCgdub2RlX2lkGAEgASgJIhwKCURhZ0NhbmNlbBIPCgdub2RlX2lkGAEgASgJIjEKC0RhZ1N0b3J5QWNrEg8KB25vZGVfaWQYASABKAkSEQoJY2hvaWNlX2lkGAIgASgJIgkKB0RhZ0xpc3QiOwoPRGFnTGlzdFJlc3BvbnNlEigKA2RhZxgBIAEoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlIloKDUludmVudG9yeUl0ZW0SDAoEdHlwZRgBIAEoCRISCgp2YXJpYW50X2lkGAIgASgJEhUKDWhlYXRfY2FwYWNpdHkYAyABKAESEAoIcXVhbnRpdHkYBCABKAUiPAoJSW52ZW50b3J5Ei8KBWl0ZW1zGAEgAygLMiAubGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5SXRlbSIvChNTdG9yeURpYWxvZ3VlQ2hvaWNlEgoKAmlkGAEgASgJEgwKBHRleHQYAiABKAkiLwoQU3RvcnlUdXRvcmlhbFRpcBINCgV0aXRsZRgBIAEoCRIMCgR0ZXh0GAIgASgJIoACCg1TdG9yeURpYWxvZ3VlEg8KB3NwZWFrZXIYASABKAkSDAoEdGV4dBgCIAEoCRIuCgZpbnRlbnQYAyABKA4yHi5saWdodHNwZWVkZHVlbC53cy5TdG9yeUludGVudBIWCg5jb250aW51ZV9sYWJlbBgEIAEoCRI3CgdjaG9pY2VzGAUgAygLMiYubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZUNob2ljZRI+Cgx0dXRvcmlhbF90aXAYBiABKAsyIy5saWdodHNwZWVkZHVlbC53cy5TdG9yeVR1dG9yaWFsVGlwSACIAQFCDwoNX3R1dG9yaWFsX3RpcCJECgpTdG9yeUV2ZW50EhIKCmNoYXB0ZXJfaWQYASABKAkSDwoHbm9kZV9pZBgCIAEoCRIRCgl0aW1lc3RhbXAYAyABKAEilwIKClN0b3J5U3RhdGUSEwoLYWN0aXZlX25vZGUYASABKAkSNwoIZGlhbG9ndWUYAiABKAsyIC5saWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlSACIAQESEQoJYXZhaWxhYmxlGAMgAygJEjcKBWZsYWdzGAQgAygLMigubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlTdGF0ZS5GbGFnc0VudHJ5EjQKDXJlY2VudF9ldmVudHMYBSADKAsyHS5saWdodHNwZWVkZHVlbC53cy5TdG9yeUV2ZW50GiwKCkZsYWdzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgIOgI4AUILCglfZGlhbG9ndWUiJgoQTWlzc2lvblNwYXduV2F2ZRISCgp3YXZlX2luZGV4GAEgASgFIjIKEU1pc3Npb25TdG9yeUV2ZW50Eg0KBWV2ZW50GAEgASgJEg4KBmJlYWNvbhgCIAEoBSqrAQoNRGFnTm9kZVN0YXR1cxIfChtEQUdfTk9ERV9TVEFUVVNfVU5TUEVDSUZJRUQQABIaChZEQUdfTk9ERV9TVEFUVVNfTE9DS0VEEAESHQoZREFHX05PREVfU1RBVFVTX0FWQUlMQUJMRRACEh8KG0RBR19OT0RFX1NUQVRVU19JTl9QUk9HUkVTUxADEh0KGURBR19OT0RFX1NUQVRVU19DT01QTEVURUQQBCqRAQoLRGFnTm9kZUtpbmQSHQoZREFHX05PREVfS0lORF9VTlNQRUNJRklFRBAAEhkKFURBR19OT0RFX0tJTkRfRkFDVE9SWRABEhYKEkRBR19OT0RFX0tJTkRfVU5JVBACEhcKE0RBR19OT0RFX0tJTkRfU1RPUlkQAxIXChNEQUdfTk9ERV9LSU5EX0NSQUZUEAQq2gEKEVVwZ3JhZGVFZmZlY3RUeXBlEiMKH1VQR1JBREVfRUZGRUNUX1RZUEVfVU5TUEVDSUZJRUQQABIoCiRVUEdSQURFX0VGRkVDVF9UWVBFX1NQRUVEX01VTFRJUExJRVIQARImCiJVUEdSQURFX0VGRkVDVF9UWVBFX01JU1NJTEVfVU5MT0NLEAISJQohVVBHUkFERV9FRkZFQ1RfVFlQRV9IRUFUX0NBUEFDSVRZEAMSJwojVVBHUkFERV9FRkZFQ1RfVFlQRV9IRUFUX0VGRklDSUVOQ1kQBCpcCgtTdG9yeUludGVudBIcChhTVE9SWV9JTlRFTlRfVU5TUEVDSUZJRUQQABIYChRTVE9SWV9JTlRFTlRfRkFDVE9SWRABEhUKEVNUT1JZX0lOVEVOVF9VTklUEAJCIlogTGlnaHRTcGVlZER1ZWwvaW50ZXJuYWwvcHJvdG8vd3NiBnByb3RvMw");
      WsEnvelopeSchema = /* @__PURE__ */ messageDesc(file_proto_ws_messages, 0);
    }
  });

  // web/src/proto_helpers.ts
  function protoToGhost(proto) {
    var _a;
    return {
      id: proto.id,
      x: proto.x,
      y: proto.y,
      vx: proto.vx,
      vy: proto.vy,
      t: proto.t,
      self: proto.self,
      waypoints: (_a = proto.waypoints) == null ? void 0 : _a.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed })),
      currentWaypointIndex: proto.currentWaypointIndex,
      hp: proto.hp,
      kills: proto.kills,
      heat: proto.heat ? {
        v: proto.heat.v,
        m: proto.heat.m,
        w: proto.heat.w,
        o: proto.heat.o,
        ms: proto.heat.ms,
        su: proto.heat.su,
        ku: proto.heat.ku,
        kd: proto.heat.kd,
        ex: proto.heat.ex
      } : void 0
    };
  }
  function protoToMissile(proto) {
    return {
      id: proto.id,
      owner: proto.owner,
      self: proto.self,
      x: proto.x,
      y: proto.y,
      vx: proto.vx,
      vy: proto.vy,
      t: proto.t,
      agroRadius: proto.agroRadius,
      lifetime: proto.lifetime,
      launch: proto.launchTime,
      expires: proto.expiresAt,
      targetId: proto.targetId || void 0,
      heat: proto.heat ? {
        v: proto.heat.v,
        m: proto.heat.m,
        w: proto.heat.w,
        o: proto.heat.o,
        ms: proto.heat.ms,
        su: proto.heat.su,
        ku: proto.heat.ku,
        kd: proto.heat.kd,
        ex: proto.heat.ex
      } : void 0
    };
  }
  function protoToState(proto) {
    const base = {
      now: proto.now,
      me: proto.me ? protoToGhost(proto.me) : null,
      ghosts: proto.ghosts.map(protoToGhost),
      missiles: proto.missiles.map(protoToMissile),
      meta: proto.meta ? {
        c: proto.meta.c,
        w: proto.meta.w,
        h: proto.meta.h
      } : { c: 299, w: 16e3, h: 9e3 },
      missileConfig: proto.missileConfig ? {
        speed: proto.missileConfig.speed,
        speedMin: proto.missileConfig.speedMin,
        speedMax: proto.missileConfig.speedMax,
        agroMin: proto.missileConfig.agroMin,
        agroRadius: proto.missileConfig.agroRadius,
        lifetime: proto.missileConfig.lifetime,
        heatConfig: proto.missileConfig.heatConfig ? {
          max: proto.missileConfig.heatConfig.max,
          warnAt: proto.missileConfig.heatConfig.warnAt,
          overheatAt: proto.missileConfig.heatConfig.overheatAt,
          markerSpeed: proto.missileConfig.heatConfig.markerSpeed,
          kUp: proto.missileConfig.heatConfig.kUp,
          kDown: proto.missileConfig.heatConfig.kDown,
          exp: proto.missileConfig.heatConfig.exp
        } : void 0
      } : {
        speed: 0,
        speedMin: 0,
        speedMax: 0,
        agroMin: 0,
        agroRadius: 0,
        lifetime: 0
      },
      missileWaypoints: proto.missileWaypoints.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed })),
      missileRoutes: proto.missileRoutes.map((r) => ({
        id: r.id,
        name: r.name,
        waypoints: r.waypoints.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed }))
      })),
      activeMissileRoute: proto.activeMissileRoute,
      nextMissileReady: proto.nextMissileReady
    };
    return {
      ...base,
      dag: proto.dag ? protoToDagState(proto.dag) : void 0,
      inventory: proto.inventory ? protoToInventory(proto.inventory) : void 0,
      story: proto.story ? protoToStoryState(proto.story) : void 0,
      capabilities: proto.capabilities ? protoToPlayerCapabilities(proto.capabilities) : void 0
    };
  }
  function protoStatusToString(status) {
    switch (status) {
      case 1 /* LOCKED */:
        return "locked";
      case 2 /* AVAILABLE */:
        return "available";
      case 3 /* IN_PROGRESS */:
        return "in_progress";
      case 4 /* COMPLETED */:
        return "completed";
      default:
        return "unknown";
    }
  }
  function protoKindToString(kind) {
    switch (kind) {
      case 1 /* FACTORY */:
        return "factory";
      case 2 /* UNIT */:
        return "unit";
      case 3 /* STORY */:
        return "story";
      case 4 /* CRAFT */:
        return "craft";
      default:
        return "unknown";
    }
  }
  function protoIntentToString(intent) {
    switch (intent) {
      case 1 /* FACTORY */:
        return "factory";
      case 2 /* UNIT */:
        return "unit";
      default:
        return "";
    }
  }
  function protoEffectTypeToString(type) {
    const typeMap = {
      1: "speed_multiplier",
      2: "missile_unlock",
      3: "heat_capacity",
      4: "heat_efficiency"
    };
    return typeMap[type] || "unknown";
  }
  function protoToUpgradeEffect(proto) {
    return {
      type: protoEffectTypeToString(proto.type),
      value: proto.value.case === "multiplier" ? proto.value.value : proto.value.value
    };
  }
  function protoToPlayerCapabilities(proto) {
    return {
      speedMultiplier: proto.speedMultiplier,
      unlockedMissiles: proto.unlockedMissiles,
      heatCapacity: proto.heatCapacity,
      heatEfficiency: proto.heatEfficiency
    };
  }
  function protoToDagNode(proto) {
    var _a;
    return {
      id: proto.id,
      kind: protoKindToString(proto.kind),
      label: proto.label,
      status: protoStatusToString(proto.status),
      remainingS: proto.remainingS,
      durationS: proto.durationS,
      repeatable: proto.repeatable,
      effects: ((_a = proto.effects) == null ? void 0 : _a.map(protoToUpgradeEffect)) || []
    };
  }
  function protoToDagState(proto) {
    return {
      nodes: proto.nodes.map(protoToDagNode)
    };
  }
  function protoToInventoryItem(proto) {
    return {
      type: proto.type,
      variantId: proto.variantId,
      heatCapacity: proto.heatCapacity,
      quantity: proto.quantity
    };
  }
  function protoToInventory(proto) {
    return {
      items: proto.items.map(protoToInventoryItem)
    };
  }
  function protoToStoryDialogue(proto) {
    return {
      speaker: proto.speaker,
      text: proto.text,
      intent: protoIntentToString(proto.intent),
      continueLabel: proto.continueLabel,
      choices: proto.choices.map((c) => ({ id: c.id, text: c.text })),
      tutorialTip: proto.tutorialTip ? {
        title: proto.tutorialTip.title,
        text: proto.tutorialTip.text
      } : void 0
    };
  }
  function protoToStoryState(proto) {
    return {
      activeNode: proto.activeNode,
      dialogue: proto.dialogue ? protoToStoryDialogue(proto.dialogue) : void 0,
      available: proto.available,
      flags: proto.flags,
      recentEvents: proto.recentEvents.map((e) => ({
        chapterId: e.chapterId,
        nodeId: e.nodeId,
        timestamp: e.timestamp
      }))
    };
  }
  var init_proto_helpers = __esm({
    "web/src/proto_helpers.ts"() {
      "use strict";
      init_ws_messages_pb();
    }
  });

  // web/src/net.ts
  function sendProto(envelope) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    const bytes = toBinary(WsEnvelopeSchema, envelope);
    ws.send(bytes);
  }
  function sendMessage(payload) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    if (typeof payload === "object" && payload !== null && "type" in payload) {
      const msg = payload;
      switch (msg.type) {
        case "join":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "join",
              value: {
                name: msg.name || "",
                room: msg.room || "",
                mapW: msg.map_w || 0,
                mapH: msg.map_h || 0
              }
            }
          }));
          return;
        case "spawn_bot":
          sendProto(create(WsEnvelopeSchema, {
            payload: { case: "spawnBot", value: {} }
          }));
          return;
        case "add_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addWaypoint",
              value: { x: msg.x, y: msg.y, speed: msg.speed }
            }
          }));
          return;
        case "update_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "updateWaypoint",
              value: { index: msg.index, speed: msg.speed }
            }
          }));
          return;
        case "move_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "moveWaypoint",
              value: { index: msg.index, x: msg.x, y: msg.y }
            }
          }));
          return;
        case "delete_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteWaypoint",
              value: { index: msg.index }
            }
          }));
          return;
        case "clear_waypoints":
          sendProto(create(WsEnvelopeSchema, {
            payload: { case: "clearWaypoints", value: {} }
          }));
          return;
        case "configure_missile":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "configureMissile",
              value: { missileSpeed: msg.missile_speed, missileAgro: msg.missile_agro }
            }
          }));
          return;
        case "launch_missile":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "launchMissile",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "add_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addMissileWaypoint",
              value: { routeId: msg.route_id || "", x: msg.x, y: msg.y, speed: msg.speed }
            }
          }));
          return;
        case "update_missile_waypoint_speed":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "updateMissileWaypointSpeed",
              value: { routeId: msg.route_id || "", index: msg.index, speed: msg.speed }
            }
          }));
          return;
        case "move_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "moveMissileWaypoint",
              value: { routeId: msg.route_id || "", index: msg.index, x: msg.x, y: msg.y }
            }
          }));
          return;
        case "delete_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteMissileWaypoint",
              value: { routeId: msg.route_id || "", index: msg.index }
            }
          }));
          return;
        case "clear_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "clearMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "add_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addMissileRoute",
              value: { name: msg.name || "" }
            }
          }));
          return;
        case "rename_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "renameMissileRoute",
              value: { routeId: msg.route_id || "", name: msg.name || "" }
            }
          }));
          return;
        case "delete_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "set_active_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "setActiveMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "dag_start":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "dagStart",
              value: { nodeId: msg.node_id || "" }
            }
          }));
          return;
        case "clear_missile_waypoints":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "clearMissileWaypoints",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
      }
    }
  }
  function sendDagStart(nodeId) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    sendProto(create(WsEnvelopeSchema, {
      payload: {
        case: "dagStart",
        value: { nodeId }
      }
    }));
  }
  function connectWebSocket({
    room,
    state,
    bus,
    onStateUpdated,
    onOpen,
    mapW,
    mapH,
    mode,
    missionId
  }) {
    const protocol = window.location.protocol === "https:" ? "wss://" : "ws://";
    let wsUrl = `${protocol}${window.location.host}/ws?room=${encodeURIComponent(room)}`;
    if (mapW && mapW > 0) {
      wsUrl += `&mapW=${mapW}`;
    }
    if (mapH && mapH > 0) {
      wsUrl += `&mapH=${mapH}`;
    }
    if (mode) {
      wsUrl += `&mode=${encodeURIComponent(mode)}`;
    }
    if (missionId) {
      wsUrl += `&mission=${encodeURIComponent(missionId)}`;
    }
    ws = new WebSocket(wsUrl);
    ws.binaryType = "arraybuffer";
    ws.addEventListener("open", () => {
      console.log("[ws] open");
      const socket = ws;
      if (socket && onOpen) {
        onOpen(socket);
      }
    });
    ws.addEventListener("close", () => console.log("[ws] close"));
    let prevRoutes = /* @__PURE__ */ new Map();
    let prevActiveRoute = null;
    let prevMissileCount = 0;
    ws.addEventListener("message", (event) => {
      if (event.data instanceof ArrayBuffer) {
        try {
          const envelope = fromBinary(WsEnvelopeSchema, new Uint8Array(event.data));
          if (envelope.payload.case === "stateUpdate") {
            const protoState = protoToState(envelope.payload.value);
            handleProtoStateMessage(state, protoState, bus, prevRoutes, prevActiveRoute, prevMissileCount);
            prevRoutes = new Map(state.missileRoutes.map((route) => [route.id, cloneRoute(route)]));
            prevActiveRoute = state.activeMissileRouteId;
            prevMissileCount = state.missiles.length;
            bus.emit("state:updated");
            onStateUpdated == null ? void 0 : onStateUpdated();
          } else if (envelope.payload.case === "roomFull") {
            console.error("[ws] Room full:", envelope.payload.value.message);
            bus.emit("connection:error", { message: envelope.payload.value.message });
          } else if (envelope.payload.case === "dagListResponse") {
            const dagData = envelope.payload.value.dag;
            if (dagData) {
              bus.emit("dag:list", protoToDagState(dagData));
            }
          } else {
            console.warn("[ws] Unknown protobuf message type:", envelope.payload.case);
          }
        } catch (err) {
          console.error("[ws] Failed to decode protobuf message:", err);
        }
        return;
      }
    });
  }
  function handleProtoStateMessage(state, msg, bus, prevRoutes, prevActiveRoute, prevMissileCount) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t;
    state.now = msg.now;
    state.nowSyncedAt = monotonicNow();
    state.nextMissileReadyAt = msg.nextMissileReady;
    if (msg.me) {
      state.me = {
        x: msg.me.x,
        y: msg.me.y,
        vx: msg.me.vx,
        vy: msg.me.vy,
        hp: msg.me.hp,
        kills: msg.me.kills,
        waypoints: (_a = msg.me.waypoints) != null ? _a : [],
        currentWaypointIndex: (_b = msg.me.currentWaypointIndex) != null ? _b : 0,
        heat: msg.me.heat ? convertHeatView(msg.me.heat, state.nowSyncedAt, state.now) : void 0
      };
    } else {
      state.me = null;
    }
    state.ghosts = msg.ghosts;
    state.missiles = msg.missiles;
    const newRoutes = msg.missileRoutes;
    diffRoutes(prevRoutes, newRoutes, bus);
    state.missileRoutes = newRoutes;
    const nextActive = msg.activeMissileRoute || (newRoutes.length > 0 ? newRoutes[0].id : null);
    state.activeMissileRouteId = nextActive;
    if (nextActive !== prevActiveRoute) {
      bus.emit("missile:activeRouteChanged", { routeId: nextActive });
    }
    if (msg.missileConfig) {
      updateMissileLimits(state, {
        speedMin: msg.missileConfig.speedMin,
        speedMax: msg.missileConfig.speedMax,
        agroMin: msg.missileConfig.agroMin
      });
      const prevHeat = state.missileConfig.heatParams;
      let heatParams;
      if (msg.missileConfig.heatConfig) {
        const heatConfig = msg.missileConfig.heatConfig;
        heatParams = {
          max: (_d = (_c = heatConfig.max) != null ? _c : prevHeat == null ? void 0 : prevHeat.max) != null ? _d : 0,
          warnAt: (_f = (_e = heatConfig.warnAt) != null ? _e : prevHeat == null ? void 0 : prevHeat.warnAt) != null ? _f : 0,
          overheatAt: (_h = (_g = heatConfig.overheatAt) != null ? _g : prevHeat == null ? void 0 : prevHeat.overheatAt) != null ? _h : 0,
          markerSpeed: (_j = (_i = heatConfig.markerSpeed) != null ? _i : prevHeat == null ? void 0 : prevHeat.markerSpeed) != null ? _j : 0,
          kUp: (_l = (_k = heatConfig.kUp) != null ? _k : prevHeat == null ? void 0 : prevHeat.kUp) != null ? _l : 0,
          kDown: (_n = (_m = heatConfig.kDown) != null ? _m : prevHeat == null ? void 0 : prevHeat.kDown) != null ? _n : 0,
          exp: (_p = (_o = heatConfig.exp) != null ? _o : prevHeat == null ? void 0 : prevHeat.exp) != null ? _p : 1
        };
      }
      const sanitized = sanitizeMissileConfig({
        speed: msg.missileConfig.speed,
        agroRadius: msg.missileConfig.agroRadius,
        heatParams
      }, state.missileConfig, state.missileLimits);
      sanitized.lifetime = msg.missileConfig.lifetime;
      state.missileConfig = sanitized;
    }
    state.worldMeta = {
      c: msg.meta.c,
      w: msg.meta.w,
      h: msg.meta.h
    };
    if (msg.inventory) {
      state.inventory = {
        items: msg.inventory.items.map((item) => ({
          type: item.type,
          variant_id: item.variantId,
          heat_capacity: item.heatCapacity,
          quantity: item.quantity
        }))
      };
    }
    if (msg.dag) {
      state.dag = {
        nodes: msg.dag.nodes.map((n) => ({
          id: n.id,
          kind: n.kind,
          label: n.label,
          status: n.status,
          remaining_s: n.remainingS,
          duration_s: n.durationS,
          repeatable: n.repeatable,
          effects: n.effects
        }))
      };
    }
    if (msg.capabilities) {
      state.capabilities = {
        speedMultiplier: msg.capabilities.speedMultiplier,
        unlockedMissiles: msg.capabilities.unlockedMissiles,
        heatCapacity: msg.capabilities.heatCapacity,
        heatEfficiency: msg.capabilities.heatEfficiency
      };
    }
    if (msg.story) {
      const prevActiveNode = (_r = (_q = state.story) == null ? void 0 : _q.activeNode) != null ? _r : null;
      let dialogue = null;
      if (msg.story.dialogue) {
        const d = msg.story.dialogue;
        dialogue = {
          speaker: d.speaker,
          text: d.text,
          intent: d.intent,
          typingSpeedMs: 18,
          continueLabel: d.continueLabel,
          choices: (_s = d.choices) == null ? void 0 : _s.map((c) => ({ id: c.id, text: c.text })),
          tutorialTip: d.tutorialTip ? {
            title: d.tutorialTip.title,
            text: d.tutorialTip.text
          } : void 0
        };
      }
      state.story = {
        activeNode: msg.story.activeNode || null,
        dialogue,
        available: msg.story.available,
        flags: msg.story.flags,
        recentEvents: msg.story.recentEvents.map((evt) => ({
          chapter: evt.chapterId,
          node: evt.nodeId,
          timestamp: evt.timestamp
        }))
      };
      if (state.story.activeNode !== prevActiveNode && state.story.activeNode) {
        bus.emit("story:nodeActivated", {
          nodeId: state.story.activeNode,
          dialogue: (_t = state.story.dialogue) != null ? _t : void 0
        });
      }
    }
    const newMissileCount = state.missiles.length;
    if (newMissileCount > prevMissileCount) {
      for (let i = prevMissileCount; i < newMissileCount; i++) {
        const m = state.missiles[i];
        if (m && m.self) {
          bus.emit("missile:launched", { routeId: msg.activeMissileRoute || "" });
        }
      }
    }
    const cooldownRemaining = Math.max(0, state.nextMissileReadyAt - getApproxServerNow(state));
    bus.emit("missile:cooldownUpdated", { secondsRemaining: cooldownRemaining });
  }
  function diffRoutes(prevRoutes, nextRoutes, bus) {
    const seen = /* @__PURE__ */ new Set();
    for (const route of nextRoutes) {
      seen.add(route.id);
      const prev = prevRoutes.get(route.id);
      if (!prev) {
        bus.emit("missile:routeAdded", { routeId: route.id });
        continue;
      }
      if (route.name !== prev.name) {
        bus.emit("missile:routeRenamed", { routeId: route.id, name: route.name });
      }
      if (route.waypoints.length > prev.waypoints.length) {
        bus.emit("missile:waypointAdded", { routeId: route.id, index: route.waypoints.length - 1 });
      } else if (route.waypoints.length < prev.waypoints.length) {
        bus.emit("missile:waypointDeleted", { routeId: route.id, index: prev.waypoints.length - 1 });
      }
      if (prev.waypoints.length > 0 && route.waypoints.length === 0) {
        bus.emit("missile:waypointsCleared", { routeId: route.id });
      }
    }
    for (const [routeId] of prevRoutes) {
      if (!seen.has(routeId)) {
        bus.emit("missile:routeDeleted", { routeId });
      }
    }
  }
  function cloneRoute(route) {
    return {
      id: route.id,
      name: route.name,
      waypoints: route.waypoints.map((wp) => ({ ...wp }))
    };
  }
  function getApproxServerNow(state) {
    if (!Number.isFinite(state.now)) {
      return 0;
    }
    const syncedAt = Number.isFinite(state.nowSyncedAt) ? state.nowSyncedAt : null;
    if (!syncedAt) {
      return state.now;
    }
    const elapsedMs = monotonicNow() - syncedAt;
    if (!Number.isFinite(elapsedMs) || elapsedMs < 0) {
      return state.now;
    }
    return state.now + elapsedMs / 1e3;
  }
  function convertHeatView(serverHeat, nowSyncedAtMs, serverNowSec) {
    const serverStallUntilSec = serverHeat.su;
    const offsetFromNowSec = serverStallUntilSec - serverNowSec;
    const stallUntilMs = nowSyncedAtMs + offsetFromNowSec * 1e3;
    const heatView = {
      value: serverHeat.v,
      max: serverHeat.m,
      warnAt: serverHeat.w,
      overheatAt: serverHeat.o,
      markerSpeed: serverHeat.ms,
      stallUntilMs,
      kUp: serverHeat.ku,
      kDown: serverHeat.kd,
      exp: serverHeat.ex
    };
    return heatView;
  }
  var ws;
  var init_net = __esm({
    "web/src/net.ts"() {
      "use strict";
      init_state();
      init_esm();
      init_ws_messages_pb();
      init_proto_helpers();
      ws = null;
    }
  });

  // web/src/game/constants.ts
  var MIN_ZOOM, MAX_ZOOM, HELP_TEXT;
  var init_constants = __esm({
    "web/src/game/constants.ts"() {
      "use strict";
      MIN_ZOOM = 1;
      MAX_ZOOM = 3;
      HELP_TEXT = [
        "Primary Modes",
        "  1 \u2013 Toggle ship navigation mode",
        "  2 \u2013 Toggle missile coordination mode",
        "",
        "Ship Navigation",
        "  T \u2013 Switch between set/select",
        "  C \u2013 Clear all waypoints",
        "  H \u2013 Hold (clear waypoints & stop)",
        "  R \u2013 Toggle show route",
        "  [ / ] \u2013 Adjust waypoint speed",
        "  Shift+[ / ] \u2013 Coarse speed adjust",
        "  Tab / Shift+Tab \u2013 Cycle waypoints",
        "  Delete \u2013 Delete from selected waypoint",
        "",
        "Missile Coordination",
        "  N \u2013 Add new missile route",
        "  L \u2013 Launch missiles",
        "  E \u2013 Switch between set/select",
        "  , / . \u2013 Adjust agro radius",
        "  ; / ' \u2013 Adjust missile speed",
        "  Shift+slider keys \u2013 Coarse adjust",
        "  Delete \u2013 Delete selected missile waypoint",
        "",
        "Map Controls",
        "  +/- \u2013 Zoom in/out",
        "  Ctrl+0 \u2013 Reset zoom",
        "  Mouse wheel \u2013 Zoom at cursor",
        "  Pinch \u2013 Zoom on touch devices",
        "",
        "General",
        "  ? \u2013 Toggle this overlay",
        "  Esc \u2013 Cancel selection or close overlay"
      ].join("\n");
    }
  });

  // web/src/game/camera.ts
  function createCamera({ canvas, state, uiState }) {
    const world = { w: 8e3, h: 4500 };
    function resolveCanvas() {
      return canvas != null ? canvas : null;
    }
    function setZoom(newZoom, centerX, centerY) {
      uiState.zoom = clamp(newZoom, MIN_ZOOM, MAX_ZOOM);
    }
    function getCameraPosition() {
      const cv = resolveCanvas();
      if (!cv) return { x: world.w / 2, y: world.h / 2 };
      const zoom = uiState.zoom;
      let cameraX = state.me ? state.me.x : world.w / 2;
      let cameraY = state.me ? state.me.y : world.h / 2;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      const viewportWidth = cv.width / scale;
      const viewportHeight = cv.height / scale;
      const minCameraX = viewportWidth / 2;
      const maxCameraX = world.w - viewportWidth / 2;
      const minCameraY = viewportHeight / 2;
      const maxCameraY = world.h - viewportHeight / 2;
      if (viewportWidth < world.w) {
        cameraX = clamp(cameraX, minCameraX, maxCameraX);
      } else {
        cameraX = world.w / 2;
      }
      if (viewportHeight < world.h) {
        cameraY = clamp(cameraY, minCameraY, maxCameraY);
      } else {
        cameraY = world.h / 2;
      }
      return { x: cameraX, y: cameraY };
    }
    function worldToCanvas(p) {
      const cv = resolveCanvas();
      if (!cv) return { x: p.x, y: p.y };
      const zoom = uiState.zoom;
      const camera = getCameraPosition();
      const worldX = p.x - camera.x;
      const worldY = p.y - camera.y;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      return {
        x: worldX * scale + cv.width / 2,
        y: worldY * scale + cv.height / 2
      };
    }
    function canvasToWorld(p) {
      const cv = resolveCanvas();
      if (!cv) return { x: p.x, y: p.y };
      const zoom = uiState.zoom;
      const camera = getCameraPosition();
      const canvasX = p.x - cv.width / 2;
      const canvasY = p.y - cv.height / 2;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      return {
        x: canvasX / scale + camera.x,
        y: canvasY / scale + camera.y
      };
    }
    function updateWorldFromMeta(meta) {
      if (!meta) return;
      if (typeof meta.w === "number" && Number.isFinite(meta.w)) {
        world.w = meta.w;
      }
      if (typeof meta.h === "number" && Number.isFinite(meta.h)) {
        world.h = meta.h;
      }
    }
    function getWorldSize() {
      return { ...world };
    }
    return {
      setZoom,
      getCameraPosition,
      worldToCanvas,
      canvasToWorld,
      updateWorldFromMeta,
      getWorldSize
    };
  }
  var init_camera = __esm({
    "web/src/game/camera.ts"() {
      "use strict";
      init_state();
      init_constants();
    }
  });

  // web/src/game/input.ts
  function createInput({
    canvas,
    ui,
    logic,
    camera,
    state,
    uiState,
    bus,
    sendMessage: sendMessage2
  }) {
    let lastTouchDistance = null;
    let pendingTouchTimeout = null;
    let isPinching = false;
    function getPointerCanvasPoint(event) {
      const rect = canvas.getBoundingClientRect();
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      return {
        x: (event.clientX - rect.left) * scaleX,
        y: (event.clientY - rect.top) * scaleY
      };
    }
    function handlePointerPlacement(canvasPoint, worldPoint) {
      const context = uiState.inputContext === "missile" ? "missile" : "ship";
      if (context === "missile") {
        logic.handleMissilePointer(canvasPoint, worldPoint);
        ui.renderMissileRouteControls();
      } else {
        logic.handleShipPointer(canvasPoint, worldPoint);
        ui.updatePlannedHeatBar();
      }
    }
    function onCanvasPointerDown(event) {
      var _a;
      const canvasPoint = getPointerCanvasPoint(event);
      const worldPoint = camera.canvasToWorld(canvasPoint);
      const context = uiState.inputContext === "missile" ? "missile" : "ship";
      if (context === "ship" && uiState.shipTool === "select" && ((_a = state.me) == null ? void 0 : _a.waypoints)) {
        const wpIndex = logic.findWaypointAtPosition(canvasPoint);
        if (wpIndex !== null) {
          logic.beginShipDrag(wpIndex, canvasPoint);
          canvas.setPointerCapture(event.pointerId);
          event.preventDefault();
          return;
        }
      }
      if (context === "missile" && uiState.missileTool === "select") {
        const hit = logic.hitTestMissileRoutes(canvasPoint);
        if (hit) {
          ui.setInputContext("missile");
          logic.setMissileSelection(hit.selection, hit.route.id);
          ui.renderMissileRouteControls();
          if (hit.selection.type === "waypoint") {
            logic.beginMissileDrag(hit.selection.index, canvasPoint);
            canvas.setPointerCapture(event.pointerId);
          }
          event.preventDefault();
          return;
        }
        logic.setMissileSelection(null);
        ui.renderMissileRouteControls();
      }
      if (event.pointerType === "touch") {
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
        }
        pendingTouchTimeout = setTimeout(() => {
          if (isPinching) return;
          handlePointerPlacement(canvasPoint, worldPoint);
          pendingTouchTimeout = null;
        }, 150);
      } else {
        handlePointerPlacement(canvasPoint, worldPoint);
      }
      event.preventDefault();
    }
    function onCanvasPointerMove(event) {
      const draggingShip = logic.getDraggedWaypoint() !== null;
      const draggingMissile = logic.getDraggedMissileWaypoint() !== null;
      if (!draggingShip && !draggingMissile) return;
      const canvasPoint = getPointerCanvasPoint(event);
      const worldPoint = camera.canvasToWorld(canvasPoint);
      if (draggingShip) {
        logic.updateShipDrag(worldPoint);
        event.preventDefault();
        return;
      }
      if (draggingMissile) {
        logic.updateMissileDrag(worldPoint);
        ui.renderMissileRouteControls();
        event.preventDefault();
      }
    }
    function onCanvasPointerUp(event) {
      logic.endDrag();
      if (canvas.hasPointerCapture(event.pointerId)) {
        canvas.releasePointerCapture(event.pointerId);
      }
      pendingTouchTimeout = null;
    }
    function onCanvasWheel(event) {
      event.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const centerX = event.clientX - rect.left;
      const centerY = event.clientY - rect.top;
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      const canvasCenterX = centerX * scaleX;
      const canvasCenterY = centerY * scaleY;
      const delta = event.deltaY;
      const zoomFactor = delta > 0 ? 0.9 : 1.1;
      const newZoom = uiState.zoom * zoomFactor;
      camera.setZoom(newZoom, canvasCenterX, canvasCenterY);
    }
    function getTouchDistance(touches) {
      if (touches.length < 2) return null;
      const dx = touches[0].clientX - touches[1].clientX;
      const dy = touches[0].clientY - touches[1].clientY;
      return Math.hypot(dx, dy);
    }
    function getTouchCenter(touches) {
      if (touches.length < 2) return null;
      return {
        x: (touches[0].clientX + touches[1].clientX) / 2,
        y: (touches[0].clientY + touches[1].clientY) / 2
      };
    }
    function onCanvasTouchStart(event) {
      if (event.touches.length === 2) {
        event.preventDefault();
        isPinching = true;
        lastTouchDistance = getTouchDistance(event.touches);
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
          pendingTouchTimeout = null;
        }
      }
    }
    function onCanvasTouchMove(event) {
      if (event.touches.length !== 2) {
        lastTouchDistance = null;
        return;
      }
      event.preventDefault();
      const currentDistance = getTouchDistance(event.touches);
      if (currentDistance === null || lastTouchDistance === null) return;
      const rect = canvas.getBoundingClientRect();
      const center = getTouchCenter(event.touches);
      if (!center) return;
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      const canvasCenterX = (center.x - rect.left) * scaleX;
      const canvasCenterY = (center.y - rect.top) * scaleY;
      const zoomFactor = currentDistance / lastTouchDistance;
      const newZoom = uiState.zoom * zoomFactor;
      camera.setZoom(newZoom, canvasCenterX, canvasCenterY);
      lastTouchDistance = currentDistance;
    }
    function onCanvasTouchEnd(event) {
      if (event.touches.length < 2) {
        lastTouchDistance = null;
        setTimeout(() => {
          isPinching = false;
        }, 100);
      }
    }
    function handleAddMissileRoute() {
      ui.setInputContext("missile");
      sendMessage2({ type: "add_missile_route" });
    }
    function onWindowKeyDown(event) {
      const target = document.activeElement;
      const isEditable = !!target && (target.tagName === "INPUT" || target.tagName === "TEXTAREA" || target.isContentEditable);
      if (uiState.helpVisible && event.key !== "Escape") {
        event.preventDefault();
        return;
      }
      if (isEditable) {
        if (event.key === "Escape") {
          target.blur();
          event.preventDefault();
        }
        return;
      }
      switch (event.code) {
        case "Digit1":
          ui.setInputContext("ship");
          event.preventDefault();
          return;
        case "Digit2":
          ui.setInputContext("missile");
          event.preventDefault();
          return;
        case "KeyT":
          if (uiState.activeTool === "ship-set") {
            ui.setActiveTool("ship-select");
          } else if (uiState.activeTool === "ship-select") {
            ui.setActiveTool("ship-set");
          } else {
            ui.setActiveTool("ship-set");
          }
          event.preventDefault();
          return;
        case "KeyC":
        case "KeyH":
          ui.setInputContext("ship");
          logic.clearShipRoute();
          event.preventDefault();
          return;
        case "BracketLeft":
          ui.setInputContext("ship");
          ui.adjustShipSpeed(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "BracketRight":
          ui.setInputContext("ship");
          ui.adjustShipSpeed(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Tab":
          ui.setInputContext("ship");
          logic.cycleShipSelection(event.shiftKey ? -1 : 1);
          event.preventDefault();
          return;
        case "KeyN":
          handleAddMissileRoute();
          event.preventDefault();
          return;
        case "KeyL":
          ui.setInputContext("missile");
          logic.launchActiveMissileRoute();
          event.preventDefault();
          return;
        case "KeyE":
          if (uiState.activeTool === "missile-set") {
            ui.setActiveTool("missile-select");
          } else if (uiState.activeTool === "missile-select") {
            ui.setActiveTool("missile-set");
          } else {
            ui.setActiveTool("missile-set");
          }
          event.preventDefault();
          return;
        case "Comma":
          ui.setInputContext("missile");
          ui.adjustMissileAgro(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "Period":
          ui.setInputContext("missile");
          ui.adjustMissileAgro(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Semicolon":
          ui.setInputContext("missile");
          ui.adjustMissileSpeed(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "Quote":
          ui.setInputContext("missile");
          ui.adjustMissileSpeed(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Delete":
        case "Backspace":
          if (uiState.inputContext === "missile" && logic.getMissileSelection()) {
            logic.deleteSelectedMissileWaypoint();
          } else if (logic.getSelection()) {
            logic.deleteSelectedShipWaypoint();
          }
          event.preventDefault();
          return;
        case "Escape": {
          if (uiState.helpVisible) {
            ui.setHelpVisible(false);
          } else if (logic.getMissileSelection()) {
            logic.setMissileSelection(null);
          } else if (logic.getSelection()) {
            logic.setSelection(null);
          } else if (uiState.inputContext === "missile") {
            ui.setInputContext("ship");
          }
          event.preventDefault();
          return;
        }
        case "Equal":
        case "NumpadAdd": {
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          camera.setZoom(uiState.zoom * 1.2, centerX, centerY);
          event.preventDefault();
          return;
        }
        case "Minus":
        case "NumpadSubtract": {
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          camera.setZoom(uiState.zoom / 1.2, centerX, centerY);
          event.preventDefault();
          return;
        }
        case "Digit0":
        case "Numpad0":
          if (event.ctrlKey || event.metaKey) {
            camera.setZoom(1);
            event.preventDefault();
          }
          return;
        default:
          break;
      }
      if (event.key === "?") {
        ui.setHelpVisible(!uiState.helpVisible);
        event.preventDefault();
      }
    }
    function bindInput() {
      canvas.addEventListener("pointerdown", onCanvasPointerDown);
      canvas.addEventListener("pointermove", onCanvasPointerMove);
      canvas.addEventListener("pointerup", onCanvasPointerUp);
      canvas.addEventListener("pointercancel", onCanvasPointerUp);
      canvas.addEventListener("wheel", onCanvasWheel, { passive: false });
      canvas.addEventListener("touchstart", onCanvasTouchStart, { passive: false });
      canvas.addEventListener("touchmove", onCanvasTouchMove, { passive: false });
      canvas.addEventListener("touchend", onCanvasTouchEnd, { passive: false });
      window.addEventListener("keydown", onWindowKeyDown, { capture: false });
      bus.on("context:changed", () => {
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
          pendingTouchTimeout = null;
        }
      });
    }
    return {
      bindInput
    };
  }
  var init_input = __esm({
    "web/src/game/input.ts"() {
      "use strict";
    }
  });

  // web/src/route.ts
  function buildRoutePoints(start, waypoints, world, camera, zoom, worldToCanvas) {
    const worldPoints = [{ x: start.x, y: start.y }];
    for (const wp of waypoints) {
      worldPoints.push({ x: wp.x, y: wp.y });
    }
    const canvasPoints = worldPoints.map((point) => worldToCanvas(point));
    return {
      waypoints: waypoints.slice(),
      worldPoints,
      canvasPoints
    };
  }
  function pointSegmentDistance(p, a, b) {
    const abx = b.x - a.x;
    const aby = b.y - a.y;
    const apx = p.x - a.x;
    const apy = p.y - a.y;
    const abLenSq = abx * abx + aby * aby;
    const t = abLenSq === 0 ? 0 : clamp(apx * abx + apy * aby, 0, abLenSq) / abLenSq;
    const projx = a.x + abx * t;
    const projy = a.y + aby * t;
    const dx = p.x - projx;
    const dy = p.y - projy;
    return Math.hypot(dx, dy);
  }
  function hitTestRouteGeneric(canvasPoint, routePoints, opts = {}) {
    var _a, _b, _c;
    const waypointHitRadius = (_a = opts.waypointHitRadius) != null ? _a : WAYPOINT_HIT_RADIUS;
    const legHitDistance = (_b = opts.legHitDistance) != null ? _b : LEG_HIT_DISTANCE;
    const skipLegs = (_c = opts.skipLegs) != null ? _c : false;
    const { waypoints, canvasPoints } = routePoints;
    if (waypoints.length === 0) {
      return null;
    }
    for (let i = 0; i < waypoints.length; i++) {
      const wpCanvas = canvasPoints[i + 1];
      const dx = canvasPoint.x - wpCanvas.x;
      const dy = canvasPoint.y - wpCanvas.y;
      if (Math.hypot(dx, dy) <= waypointHitRadius) {
        return { type: "waypoint", index: i };
      }
    }
    if (!skipLegs) {
      for (let i = 0; i < waypoints.length; i++) {
        const dist = pointSegmentDistance(canvasPoint, canvasPoints[i], canvasPoints[i + 1]);
        if (dist <= legHitDistance) {
          return { type: "leg", index: i };
        }
      }
    }
    return null;
  }
  function updateDashOffsetsForRoute(store, waypoints, worldPoints, canvasPoints, fallbackSpeed, dtSeconds, cycle = 64) {
    var _a;
    if (!Number.isFinite(dtSeconds) || dtSeconds < 0) {
      dtSeconds = 0;
    }
    for (let i = 0; i < waypoints.length; i++) {
      const wp = waypoints[i];
      const speed = typeof wp.speed === "number" && wp.speed > 0 ? wp.speed : fallbackSpeed;
      const aWorld = worldPoints[i];
      const bWorld = worldPoints[i + 1];
      const worldDist = Math.hypot(bWorld.x - aWorld.x, bWorld.y - aWorld.y);
      const aCanvas = canvasPoints[i];
      const bCanvas = canvasPoints[i + 1];
      const canvasDist = Math.hypot(bCanvas.x - aCanvas.x, bCanvas.y - aCanvas.y);
      if (!Number.isFinite(speed) || speed <= 1e-3 || !Number.isFinite(worldDist) || worldDist <= 1e-3 || canvasDist <= 1e-3) {
        store.set(i, 0);
        continue;
      }
      if (dtSeconds <= 0) {
        if (!store.has(i)) {
          store.set(i, 0);
        }
        continue;
      }
      const scale = canvasDist / worldDist;
      const dashSpeed = speed * scale;
      let next = ((_a = store.get(i)) != null ? _a : 0) - dashSpeed * dtSeconds;
      if (!Number.isFinite(next)) {
        next = 0;
      } else {
        next = (next % cycle + cycle) % cycle;
      }
      store.set(i, next);
    }
    for (const key of Array.from(store.keys())) {
      if (key >= waypoints.length) {
        store.delete(key);
      }
    }
  }
  function projectRouteHeat(route, initialHeat, params) {
    var _a;
    const result = {
      heatAtWaypoints: [],
      willOverheat: false
    };
    if (route.length === 0) {
      return result;
    }
    let heat = clamp(initialHeat, 0, params.max);
    let prevPoint = { x: route[0].x, y: route[0].y };
    result.heatAtWaypoints.push(heat);
    for (let i = 1; i < route.length; i++) {
      const targetPos = route[i];
      const dx = targetPos.x - prevPoint.x;
      const dy = targetPos.y - prevPoint.y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      if (distance < 1e-3) {
        result.heatAtWaypoints.push(heat);
        prevPoint = { x: targetPos.x, y: targetPos.y };
        continue;
      }
      const rawSpeed = (_a = targetPos.speed) != null ? _a : params.markerSpeed;
      const segmentSpeed = Math.max(rawSpeed, 1e-6);
      const segmentTime = distance / segmentSpeed;
      const Vn = Math.max(params.markerSpeed, 1e-6);
      const dev = segmentSpeed - params.markerSpeed;
      const p = params.exp;
      let hdot;
      if (dev >= 0) {
        hdot = params.kUp * Math.pow(dev / Vn, p);
      } else {
        hdot = -params.kDown * Math.pow(Math.abs(dev) / Vn, p);
      }
      heat += hdot * segmentTime;
      heat = clamp(heat, 0, params.max);
      result.heatAtWaypoints.push(heat);
      if (!result.willOverheat && heat >= params.overheatAt) {
        result.willOverheat = true;
        result.overheatAt = i;
      }
      prevPoint = { x: targetPos.x, y: targetPos.y };
    }
    return result;
  }
  function interpolateColor(color1, color2, t) {
    return [
      Math.round(color1[0] + (color2[0] - color1[0]) * t),
      Math.round(color1[1] + (color2[1] - color1[1]) * t),
      Math.round(color1[2] + (color2[2] - color1[2]) * t)
    ];
  }
  function drawPlannedRoute(ctx, opts) {
    var _a, _b;
    const {
      routePoints,
      selection,
      draggedWaypoint,
      dashStore,
      palette = SHIP_PALETTE,
      showLegs,
      heatParams,
      initialHeat = 0,
      defaultSpeed,
      worldPoints
    } = opts;
    const { waypoints, canvasPoints } = routePoints;
    if (waypoints.length === 0) {
      return;
    }
    let heatProjection = null;
    if (heatParams && worldPoints && worldPoints.length > 0) {
      const routeForHeat = worldPoints.map((pt, i) => {
        var _a2, _b2;
        return {
          x: pt.x,
          y: pt.y,
          speed: i === 0 ? void 0 : (_b2 = (_a2 = waypoints[i - 1]) == null ? void 0 : _a2.speed) != null ? _b2 : defaultSpeed
        };
      });
      heatProjection = projectRouteHeat(routeForHeat, initialHeat, heatParams);
    }
    if (showLegs) {
      let currentHeat = initialHeat;
      for (let i = 0; i < waypoints.length; i++) {
        const isFirstLeg = i === 0;
        const isSelected = (selection == null ? void 0 : selection.type) === "leg" && selection.index === i;
        let segmentHeat = currentHeat;
        if (heatProjection && i + 1 < heatProjection.heatAtWaypoints.length) {
          segmentHeat = heatProjection.heatAtWaypoints[i + 1];
        }
        let strokeStyle;
        let lineWidth;
        let lineDash = null;
        let alphaOverride = null;
        if (isSelected) {
          strokeStyle = palette.selection;
          lineWidth = 3.5;
          lineDash = [4, 4];
        } else if (heatProjection && heatParams && palette.heatCoolRgb && palette.heatHotRgb) {
          const heatRatio = clamp(segmentHeat / heatParams.overheatAt, 0, 1);
          const color = interpolateColor(palette.heatCoolRgb, palette.heatHotRgb, heatRatio);
          const baseWidth = isFirstLeg ? 3 : 1.5;
          lineWidth = baseWidth + heatRatio * 4;
          const alpha = isFirstLeg ? 1 : 0.4;
          strokeStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${alpha})`;
          lineDash = isFirstLeg ? [6, 6] : [8, 8];
        } else {
          const baseWidth = isFirstLeg ? 3 : 1.5;
          lineWidth = baseWidth;
          strokeStyle = palette.defaultLine;
          lineDash = isFirstLeg ? [6, 6] : [8, 8];
          alphaOverride = isFirstLeg ? 1 : 0.4;
        }
        ctx.save();
        if (lineDash) {
          ctx.setLineDash(lineDash);
        }
        if (alphaOverride !== null) {
          ctx.globalAlpha = alphaOverride;
        }
        ctx.strokeStyle = strokeStyle;
        ctx.lineWidth = lineWidth;
        ctx.beginPath();
        ctx.lineDashOffset = (_a = dashStore.get(i)) != null ? _a : 0;
        ctx.moveTo(canvasPoints[i].x, canvasPoints[i].y);
        ctx.lineTo(canvasPoints[i + 1].x, canvasPoints[i + 1].y);
        ctx.stroke();
        ctx.restore();
        currentHeat = segmentHeat;
      }
    }
    for (let i = 0; i < waypoints.length; i++) {
      const pt = canvasPoints[i + 1];
      const isSelected = (selection == null ? void 0 : selection.type) === "waypoint" && selection.index === i;
      const isDragging = draggedWaypoint === i;
      let fillColor;
      if (isSelected) {
        fillColor = palette.waypointSelected;
      } else if (isDragging && palette.waypointDragging) {
        fillColor = palette.waypointDragging;
      } else if (heatProjection && heatParams) {
        const heat = (_b = heatProjection.heatAtWaypoints[i + 1]) != null ? _b : 0;
        const heatRatio = heat / heatParams.max;
        const warnRatio = heatParams.warnAt / heatParams.max;
        const overheatRatio = heatParams.overheatAt / heatParams.max;
        if (heatRatio < warnRatio) {
          fillColor = "#33aa33";
        } else if (heatRatio < overheatRatio) {
          fillColor = "#ffaa33";
        } else {
          fillColor = "#ff3333";
        }
      } else {
        fillColor = palette.waypointDefault;
      }
      const strokeColor = isSelected && palette.waypointStrokeSelected ? palette.waypointStrokeSelected : palette.waypointStroke;
      ctx.save();
      ctx.beginPath();
      const radius = isSelected || isDragging ? 7 : 5;
      ctx.arc(pt.x, pt.y, radius, 0, Math.PI * 2);
      ctx.fillStyle = fillColor;
      ctx.globalAlpha = isSelected || isDragging ? 0.95 : 0.8;
      ctx.fill();
      ctx.globalAlpha = 1;
      ctx.lineWidth = isSelected ? 2 : 1.5;
      ctx.strokeStyle = strokeColor;
      ctx.stroke();
      ctx.restore();
    }
  }
  var WAYPOINT_HIT_RADIUS, LEG_HIT_DISTANCE, SHIP_PALETTE, MISSILE_PALETTE;
  var init_route = __esm({
    "web/src/route.ts"() {
      "use strict";
      init_state();
      WAYPOINT_HIT_RADIUS = 12;
      LEG_HIT_DISTANCE = 10;
      SHIP_PALETTE = {
        defaultLine: "#38bdf8",
        selection: "#f97316",
        waypointDefault: "#38bdf8",
        waypointSelected: "#f97316",
        waypointDragging: "#facc15",
        waypointStroke: "#0f172a",
        heatCoolRgb: [100, 150, 255],
        heatHotRgb: [255, 50, 50]
      };
      MISSILE_PALETTE = {
        defaultLine: "#f87171aa",
        selection: "#f97316",
        waypointDefault: "#f87171",
        waypointSelected: "#facc15",
        waypointStroke: "#7f1d1d",
        waypointStrokeSelected: "#854d0e",
        heatCoolRgb: [248, 129, 129],
        heatHotRgb: [220, 38, 38]
      };
    }
  });

  // web/src/game/logic.ts
  function createLogic({
    state,
    uiState,
    bus,
    sendMessage: sendMessage2,
    getApproxServerNow: getApproxServerNow2,
    camera
  }) {
    let selection = null;
    let missileSelection = null;
    let defaultSpeed = 150;
    let lastMissileLegSpeed = 0;
    const shipLegDashOffsets = /* @__PURE__ */ new Map();
    const missileLegDashOffsets = /* @__PURE__ */ new Map();
    let draggedWaypoint = null;
    let draggedMissileWaypoint = null;
    function getSelection() {
      return selection;
    }
    function setSelection(sel) {
      selection = sel;
      const index = selection ? selection.index : null;
      bus.emit("ship:legSelected", { index });
    }
    function getMissileSelection() {
      return missileSelection;
    }
    function setMissileSelection(sel, routeId) {
      missileSelection = sel;
      if (routeId) {
        state.activeMissileRouteId = routeId;
      }
      bus.emit("missile:selectionChanged", { selection: missileSelection });
    }
    function getDefaultShipSpeed() {
      return defaultSpeed;
    }
    function setDefaultShipSpeed(value) {
      defaultSpeed = value;
    }
    function getDefaultMissileLegSpeed() {
      var _a, _b;
      const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
      const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
      const base = lastMissileLegSpeed > 0 ? lastMissileLegSpeed : state.missileConfig.speed;
      return clamp(base, minSpeed, maxSpeed);
    }
    function recordMissileLegSpeed(value) {
      if (Number.isFinite(value) && value > 0) {
        lastMissileLegSpeed = value;
      }
    }
    function getShipWaypointOffset() {
      var _a;
      const currentIndex = (_a = state.me) == null ? void 0 : _a.currentWaypointIndex;
      if (typeof currentIndex === "number" && Number.isFinite(currentIndex) && currentIndex > 0) {
        return currentIndex;
      }
      return 0;
    }
    function displayIndexToActualIndex(displayIndex) {
      return displayIndex + getShipWaypointOffset();
    }
    function actualIndexToDisplayIndex(actualIndex) {
      const offset = getShipWaypointOffset();
      return actualIndex - offset;
    }
    function computeRoutePoints() {
      if (!state.me) return null;
      const allWaypoints = Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      const offset = getShipWaypointOffset();
      const visibleWaypoints = offset > 0 ? allWaypoints.slice(offset) : allWaypoints;
      if (!visibleWaypoints.length && !uiState.showShipRoute) {
        return null;
      }
      return buildRoutePoints(
        { x: state.me.x, y: state.me.y },
        visibleWaypoints,
        camera.getWorldSize(),
        camera.getCameraPosition,
        () => uiState.zoom,
        camera.worldToCanvas
      );
    }
    function computeMissileRoutePoints() {
      var _a, _b, _c, _d, _e;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints) || !route.waypoints.length) {
        return null;
      }
      const origin = (_e = route.origin) != null ? _e : { x: (_b = (_a = state.me) == null ? void 0 : _a.x) != null ? _b : 0, y: (_d = (_c = state.me) == null ? void 0 : _c.y) != null ? _d : 0 };
      return buildRoutePoints(
        origin,
        route.waypoints,
        camera.getWorldSize(),
        camera.getCameraPosition,
        () => uiState.zoom,
        camera.worldToCanvas
      );
    }
    function findWaypointAtPosition(canvasPoint) {
      const route = computeRoutePoints();
      if (!route) return null;
      const hit = hitTestRouteGeneric(canvasPoint, route, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 0
      });
      if (!hit || hit.type !== "waypoint") return null;
      return displayIndexToActualIndex(hit.index);
    }
    function hitTestRoute(canvasPoint) {
      const route = computeRoutePoints();
      if (!route) return null;
      return hitTestRouteGeneric(canvasPoint, route, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 6
      });
    }
    function hitTestMissileRoutes(canvasPoint) {
      const routePoints = computeMissileRoutePoints();
      const route = getActiveMissileRoute();
      if (!routePoints || !route) return null;
      const hit = hitTestRouteGeneric(canvasPoint, routePoints, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 6
      });
      if (!hit) return null;
      const selection2 = hit.type === "leg" ? { type: "leg", index: hit.index } : { type: "waypoint", index: hit.index };
      return { route, selection: selection2 };
    }
    function updateRouteAnimations(dtSeconds) {
      const shipRoute = computeRoutePoints();
      if (shipRoute && shipRoute.waypoints.length > 0 && uiState.showShipRoute) {
        updateDashOffsetsForRoute(
          shipLegDashOffsets,
          shipRoute.waypoints,
          shipRoute.worldPoints,
          shipRoute.canvasPoints,
          defaultSpeed,
          dtSeconds
        );
      } else {
        shipLegDashOffsets.clear();
      }
      const missileRoute = computeMissileRoutePoints();
      if (missileRoute) {
        updateDashOffsetsForRoute(
          missileLegDashOffsets,
          missileRoute.waypoints,
          missileRoute.worldPoints,
          missileRoute.canvasPoints,
          state.missileConfig.speed,
          dtSeconds
        );
      } else {
        missileLegDashOffsets.clear();
      }
    }
    function ensureActiveMissileRoute() {
      var _a, _b;
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) return null;
      if (!state.activeMissileRouteId) {
        state.activeMissileRouteId = routes[0].id;
      }
      let route = routes.find((r) => r.id === state.activeMissileRouteId) || null;
      if (!route) {
        route = (_a = routes[0]) != null ? _a : null;
        state.activeMissileRouteId = (_b = route == null ? void 0 : route.id) != null ? _b : null;
      }
      return route;
    }
    function getActiveMissileRoute() {
      var _a;
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) return null;
      if (!state.activeMissileRouteId) {
        return ensureActiveMissileRoute();
      }
      return (_a = routes.find((r) => r.id === state.activeMissileRouteId)) != null ? _a : ensureActiveMissileRoute();
    }
    function cycleMissileRoute(direction) {
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) {
        return;
      }
      const currentIndex = routes.findIndex(
        (route) => route.id === state.activeMissileRouteId
      );
      const baseIndex = currentIndex >= 0 ? currentIndex : 0;
      const nextIndex = ((baseIndex + direction) % routes.length + routes.length) % routes.length;
      const nextRoute = routes[nextIndex];
      if (!nextRoute) return;
      state.activeMissileRouteId = nextRoute.id;
      setMissileSelection(null);
      sendMessage2({
        type: "set_active_missile_route",
        route_id: nextRoute.id
      });
      bus.emit("missile:activeRouteChanged", { routeId: nextRoute.id });
    }
    function cycleShipSelection(direction) {
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      if (!wps.length) {
        setSelection(null);
        return;
      }
      let index = selection ? selection.index : direction > 0 ? -1 : wps.length;
      index += direction;
      if (index < 0) index = wps.length - 1;
      if (index >= wps.length) index = 0;
      setSelection({ type: "leg", index });
    }
    function clearShipRoute() {
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      if (!wps.length) return;
      sendMessage2({ type: "clear_waypoints" });
      if (state.me) {
        state.me.waypoints = [];
      }
      setSelection(null);
      bus.emit("ship:waypointsCleared");
    }
    function deleteSelectedShipWaypoint() {
      if (!selection) return;
      sendMessage2({ type: "delete_waypoint", index: selection.index });
      if (state.me && Array.isArray(state.me.waypoints)) {
        state.me.waypoints = state.me.waypoints.slice(0, selection.index);
      }
      bus.emit("ship:waypointDeleted", { index: selection.index });
      setSelection(null);
    }
    function deleteSelectedMissileWaypoint() {
      const route = getActiveMissileRoute();
      if (!route || !missileSelection) return;
      const index = missileSelection.index;
      if (!Array.isArray(route.waypoints) || index < 0 || index >= route.waypoints.length) {
        return;
      }
      sendMessage2({
        type: "delete_missile_waypoint",
        route_id: route.id,
        index
      });
      route.waypoints = [
        ...route.waypoints.slice(0, index),
        ...route.waypoints.slice(index + 1)
      ];
      bus.emit("missile:waypointDeleted", { routeId: route.id, index });
      setMissileSelection(null);
    }
    function launchActiveMissileRoute() {
      var _a;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints) || route.waypoints.length === 0) {
        return;
      }
      if (getMissileCooldownRemaining() > 0.05) {
        return;
      }
      let hasMissiles = false;
      if ((_a = state.inventory) == null ? void 0 : _a.items) {
        for (const item of state.inventory.items) {
          if (item.type === "missile" && item.quantity > 0) {
            hasMissiles = true;
            break;
          }
        }
      }
      if (!hasMissiles) {
        console.log("No missiles available - craft missiles first");
        return;
      }
      bus.emit("missile:launchRequested", { routeId: route.id });
      sendMessage2({
        type: "launch_missile",
        route_id: route.id
      });
    }
    function handleShipPointer(canvasPoint, worldPoint) {
      if (!state.me) return;
      if (uiState.shipTool === "select") {
        const hit = hitTestRoute(canvasPoint);
        if (hit) {
          const actualIndex = displayIndexToActualIndex(hit.index);
          setSelection({ type: hit.type, index: actualIndex });
        } else {
          setSelection(null);
        }
        return;
      }
      const wp = { x: worldPoint.x, y: worldPoint.y, speed: defaultSpeed };
      sendMessage2({
        type: "add_waypoint",
        x: wp.x,
        y: wp.y,
        speed: defaultSpeed
      });
      const wps = Array.isArray(state.me.waypoints) ? state.me.waypoints.slice() : [];
      wps.push(wp);
      state.me.waypoints = wps;
      bus.emit("ship:waypointAdded", { index: wps.length - 1 });
      setSelection(null);
    }
    function handleMissilePointer(canvasPoint, worldPoint) {
      const route = getActiveMissileRoute();
      if (!route) return;
      if (uiState.missileTool === "select") {
        const hit = hitTestMissileRoutes(canvasPoint);
        if (hit) {
          setMissileSelection(hit.selection, hit.route.id);
        } else {
          setMissileSelection(null);
        }
        return;
      }
      const speed = getDefaultMissileLegSpeed();
      const wp = { x: worldPoint.x, y: worldPoint.y, speed };
      sendMessage2({
        type: "add_missile_waypoint",
        route_id: route.id,
        x: wp.x,
        y: wp.y,
        speed: wp.speed
      });
      route.waypoints = route.waypoints ? [...route.waypoints, wp] : [wp];
      recordMissileLegSpeed(speed);
      setMissileSelection(null, route.id);
      bus.emit("missile:waypointAdded", {
        routeId: route.id,
        index: route.waypoints.length - 1
      });
    }
    function beginShipDrag(index, _origin) {
      draggedWaypoint = index;
    }
    function beginMissileDrag(index, _origin) {
      draggedMissileWaypoint = index;
    }
    function clampToWorld(point) {
      var _a, _b;
      const worldW = (_a = state.worldMeta.w) != null ? _a : 4e3;
      const worldH = (_b = state.worldMeta.h) != null ? _b : 4e3;
      return {
        x: clamp(point.x, 0, worldW),
        y: clamp(point.y, 0, worldH)
      };
    }
    function updateShipDrag(worldPoint) {
      if (draggedWaypoint === null) return;
      const clamped = clampToWorld(worldPoint);
      sendMessage2({
        type: "move_waypoint",
        index: draggedWaypoint,
        x: clamped.x,
        y: clamped.y
      });
      if (state.me && state.me.waypoints && draggedWaypoint < state.me.waypoints.length) {
        state.me.waypoints[draggedWaypoint].x = clamped.x;
        state.me.waypoints[draggedWaypoint].y = clamped.y;
      }
    }
    function updateMissileDrag(worldPoint) {
      if (draggedMissileWaypoint === null) return;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints)) return;
      const clamped = clampToWorld(worldPoint);
      if (draggedMissileWaypoint >= route.waypoints.length) return;
      sendMessage2({
        type: "move_missile_waypoint",
        route_id: route.id,
        index: draggedMissileWaypoint,
        x: clamped.x,
        y: clamped.y
      });
      route.waypoints = route.waypoints.map(
        (wp, idx) => idx === draggedMissileWaypoint ? { ...wp, x: clamped.x, y: clamped.y } : wp
      );
    }
    function endDrag() {
      var _a;
      if (draggedWaypoint !== null && ((_a = state.me) == null ? void 0 : _a.waypoints)) {
        const wp = state.me.waypoints[draggedWaypoint];
        if (wp) {
          bus.emit("ship:waypointMoved", {
            index: draggedWaypoint,
            x: wp.x,
            y: wp.y
          });
        }
      }
      if (draggedMissileWaypoint !== null) {
        const route = getActiveMissileRoute();
        if (route && route.waypoints && draggedMissileWaypoint < route.waypoints.length) {
          const wp = route.waypoints[draggedMissileWaypoint];
          bus.emit("missile:waypointMoved", {
            routeId: route.id,
            index: draggedMissileWaypoint,
            x: wp.x,
            y: wp.y
          });
        }
      }
      draggedWaypoint = null;
      draggedMissileWaypoint = null;
    }
    function getDraggedWaypoint() {
      return draggedWaypoint;
    }
    function getDraggedMissileWaypoint() {
      return draggedMissileWaypoint;
    }
    function getMissileCooldownRemaining() {
      const remaining = state.nextMissileReadyAt - getApproxServerNow2(state);
      return remaining > 0 ? remaining : 0;
    }
    return {
      getSelection,
      setSelection,
      getMissileSelection,
      setMissileSelection,
      getDefaultShipSpeed,
      setDefaultShipSpeed,
      getDefaultMissileLegSpeed,
      recordMissileLegSpeed,
      getShipWaypointOffset,
      displayIndexToActualIndex,
      actualIndexToDisplayIndex,
      computeRoutePoints,
      computeMissileRoutePoints,
      findWaypointAtPosition,
      hitTestRoute,
      hitTestMissileRoutes,
      shipLegDashOffsets,
      missileLegDashOffsets,
      updateRouteAnimations,
      ensureActiveMissileRoute,
      getActiveMissileRoute,
      cycleMissileRoute,
      cycleShipSelection,
      clearShipRoute,
      deleteSelectedShipWaypoint,
      deleteSelectedMissileWaypoint,
      launchActiveMissileRoute,
      handleShipPointer,
      handleMissilePointer,
      beginShipDrag,
      beginMissileDrag,
      updateShipDrag,
      updateMissileDrag,
      endDrag,
      getDraggedWaypoint,
      getDraggedMissileWaypoint,
      getMissileCooldownRemaining
    };
  }
  var init_logic = __esm({
    "web/src/game/logic.ts"() {
      "use strict";
      init_state();
      init_route();
    }
  });

  // web/src/game/render.ts
  function createRenderer({
    canvas,
    ctx,
    state,
    uiState,
    camera,
    logic
  }) {
    function drawShip(x, y, vx, vy, color, filled) {
      const p = camera.worldToCanvas({ x, y });
      const r = 10;
      ctx.save();
      ctx.translate(p.x, p.y);
      const angle = Math.atan2(vy, vx);
      ctx.rotate(angle);
      ctx.beginPath();
      ctx.moveTo(r, 0);
      ctx.lineTo(-r * 0.7, r * 0.6);
      ctx.lineTo(-r * 0.4, 0);
      ctx.lineTo(-r * 0.7, -r * 0.6);
      ctx.closePath();
      ctx.lineWidth = 2;
      ctx.strokeStyle = color;
      if (filled) {
        ctx.fillStyle = `${color}cc`;
        ctx.fill();
      }
      ctx.stroke();
      ctx.restore();
    }
    function drawGhostDot(x, y) {
      const p = camera.worldToCanvas({ x, y });
      ctx.beginPath();
      ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
      ctx.fillStyle = "#ccccccaa";
      ctx.fill();
    }
    function drawRoute() {
      var _a;
      if (!state.me) return;
      const route = logic.computeRoutePoints();
      if (!route || route.waypoints.length === 0) return;
      const heat = state.me.heat;
      const heatParams = heat ? {
        markerSpeed: heat.markerSpeed,
        kUp: heat.kUp,
        kDown: heat.kDown,
        exp: heat.exp,
        max: heat.max,
        overheatAt: heat.overheatAt,
        warnAt: heat.warnAt
      } : void 0;
      const currentSelection = logic.getSelection();
      const displaySelection = currentSelection ? {
        type: currentSelection.type,
        index: logic.actualIndexToDisplayIndex(currentSelection.index)
      } : null;
      const validSelection = displaySelection && displaySelection.index >= 0 ? displaySelection : null;
      const dragged = logic.getDraggedWaypoint();
      const displayDragged = dragged !== null ? logic.actualIndexToDisplayIndex(dragged) : null;
      const validDragged = displayDragged !== null && displayDragged >= 0 ? displayDragged : null;
      drawPlannedRoute(ctx, {
        routePoints: route,
        selection: validSelection,
        draggedWaypoint: validDragged,
        dashStore: logic.shipLegDashOffsets,
        palette: SHIP_PALETTE,
        showLegs: uiState.showShipRoute,
        heatParams,
        initialHeat: (_a = heat == null ? void 0 : heat.value) != null ? _a : 0,
        defaultSpeed: logic.getDefaultShipSpeed(),
        worldPoints: route.worldPoints
      });
    }
    function drawMissileRoute() {
      if (!state.me) return;
      if (uiState.inputContext !== "missile") return;
      const route = logic.computeMissileRoutePoints();
      if (!route || route.waypoints.length === 0) return;
      const heatParams = state.missileConfig.heatParams;
      const missileSelection = logic.getMissileSelection();
      const genericSelection = missileSelection && missileSelection.type === "leg" ? { type: "leg", index: missileSelection.index } : missileSelection && missileSelection.type === "waypoint" ? { type: "waypoint", index: missileSelection.index } : null;
      drawPlannedRoute(ctx, {
        routePoints: route,
        selection: genericSelection,
        draggedWaypoint: null,
        dashStore: logic.missileLegDashOffsets,
        palette: MISSILE_PALETTE,
        showLegs: true,
        heatParams,
        initialHeat: 0,
        defaultSpeed: state.missileConfig.speed,
        worldPoints: route.worldPoints
      });
    }
    function drawMissiles() {
      if (!state.missiles || state.missiles.length === 0) return;
      const world = camera.getWorldSize();
      const scaleX = canvas.width / world.w;
      const scaleY = canvas.height / world.h;
      const radiusScale = (scaleX + scaleY) / 2;
      for (const miss of state.missiles) {
        const p = camera.worldToCanvas({ x: miss.x, y: miss.y });
        const selfOwned = Boolean(miss.self);
        ctx.save();
        ctx.beginPath();
        ctx.arc(p.x, p.y, selfOwned ? 6 : 5, 0, Math.PI * 2);
        ctx.fillStyle = selfOwned ? "#f87171" : "#fca5a5";
        ctx.globalAlpha = selfOwned ? 0.95 : 0.8;
        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.lineWidth = 1.5;
        ctx.strokeStyle = "#111827";
        ctx.stroke();
        ctx.restore();
        if (selfOwned && miss.agro_radius > 0) {
          ctx.save();
          ctx.beginPath();
          const rCanvas = miss.agro_radius * radiusScale;
          ctx.setLineDash([14, 10]);
          ctx.strokeStyle = "rgba(248,113,113,0.35)";
          ctx.lineWidth = 1.2;
          ctx.arc(p.x, p.y, rCanvas, 0, Math.PI * 2);
          ctx.stroke();
          ctx.restore();
        }
      }
    }
    function drawGrid() {
      ctx.save();
      ctx.strokeStyle = "#234";
      ctx.lineWidth = 1;
      const zoom = uiState.zoom;
      let step = 1e3;
      if (zoom < 0.7) {
        step = 2e3;
      } else if (zoom > 1.5) {
        step = 500;
      } else if (zoom > 2.5) {
        step = 250;
      }
      const cameraPos = camera.getCameraPosition();
      const world = camera.getWorldSize();
      const scaleX = canvas.width / world.w;
      const scaleY = canvas.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      const viewportWidth = canvas.width / scale;
      const viewportHeight = canvas.height / scale;
      const minX = Math.max(0, cameraPos.x - viewportWidth / 2);
      const maxX = Math.min(world.w, cameraPos.x + viewportWidth / 2);
      const minY = Math.max(0, cameraPos.y - viewportHeight / 2);
      const maxY = Math.min(world.h, cameraPos.y + viewportHeight / 2);
      const startX = Math.floor(minX / step) * step;
      const endX = Math.ceil(maxX / step) * step;
      const startY = Math.floor(minY / step) * step;
      const endY = Math.ceil(maxY / step) * step;
      for (let x = startX; x <= endX; x += step) {
        const a = camera.worldToCanvas({ x, y: Math.max(0, minY) });
        const b = camera.worldToCanvas({ x, y: Math.min(world.h, maxY) });
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
      for (let y = startY; y <= endY; y += step) {
        const a = camera.worldToCanvas({ x: Math.max(0, minX), y });
        const b = camera.worldToCanvas({ x: Math.min(world.w, maxX), y });
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
      ctx.restore();
    }
    function drawBeacons() {
      const mission = state.mission;
      if (!mission || !mission.active || mission.beacons.length === 0) {
        return;
      }
      const world = camera.getWorldSize();
      const scale = Math.min(canvas.width / world.w, canvas.height / world.h) * uiState.zoom;
      const me = state.me;
      const holdRequired = mission.holdRequired || 10;
      mission.beacons.forEach((beacon, index) => {
        const center = camera.worldToCanvas({ x: beacon.cx, y: beacon.cy });
        const edge = camera.worldToCanvas({ x: beacon.cx + beacon.radius, y: beacon.cy });
        const radius = Math.hypot(edge.x - center.x, edge.y - center.y);
        if (!Number.isFinite(radius) || radius <= 0.5) {
          return;
        }
        const isLocked = index < mission.beaconIndex;
        const isActive = index === mission.beaconIndex;
        const baseLineWidth = Math.max(1.5, 2.5 * Math.min(1, scale * 1.2));
        const strokeStyle = isLocked ? "rgba(74,222,128,0.85)" : isActive ? "rgba(56,189,248,0.95)" : "rgba(148,163,184,0.65)";
        ctx.save();
        ctx.beginPath();
        ctx.setLineDash(isActive ? [] : [10, 12]);
        ctx.lineWidth = isActive ? baseLineWidth * 1.4 : baseLineWidth;
        ctx.strokeStyle = strokeStyle;
        ctx.globalAlpha = isLocked ? 0.9 : 0.8;
        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
        ctx.stroke();
        const inside = isActive && me ? (() => {
          const dx = me.x - beacon.cx;
          const dy = me.y - beacon.cy;
          return dx * dx + dy * dy <= beacon.radius * beacon.radius;
        })() : false;
        if (inside) {
          ctx.beginPath();
          ctx.fillStyle = "rgba(56,189,248,0.12)";
          ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
          ctx.fill();
        }
        if (isActive) {
          const progress = holdRequired > 0 ? Math.max(0, Math.min(1, mission.holdAccum / holdRequired)) : 0;
          if (progress > 0) {
            ctx.beginPath();
            ctx.strokeStyle = "rgba(56,189,248,0.95)";
            ctx.lineWidth = Math.max(baseLineWidth * 1.8, 2);
            ctx.setLineDash([]);
            ctx.arc(center.x, center.y, radius, -Math.PI / 2, -Math.PI / 2 + progress * Math.PI * 2);
            ctx.stroke();
          }
        }
        if (isLocked) {
          ctx.beginPath();
          ctx.fillStyle = "rgba(74,222,128,0.75)";
          ctx.arc(center.x, center.y, Math.max(4, radius * 0.05), 0, Math.PI * 2);
          ctx.fill();
        }
        ctx.restore();
      });
    }
    function drawScene() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawGrid();
      drawBeacons();
      drawRoute();
      drawMissileRoute();
      drawMissiles();
      for (const g of state.ghosts) {
        drawShip(g.x, g.y, g.vx, g.vy, "#9ca3af", false);
        drawGhostDot(g.x, g.y);
      }
      if (state.me) {
        drawShip(state.me.x, state.me.y, state.me.vx, state.me.vy, "#22d3ee", true);
      }
    }
    return {
      drawScene,
      drawGrid,
      drawBeacons,
      drawShip,
      drawGhostDot,
      drawRoute,
      drawMissileRoute,
      drawMissiles
    };
  }
  var init_render = __esm({
    "web/src/game/render.ts"() {
      "use strict";
      init_route();
    }
  });

  // web/src/game/ui.ts
  function createUI({
    state,
    uiState,
    bus,
    logic,
    camera,
    sendMessage: sendMessage2,
    getApproxServerNow: getApproxServerNow2
  }) {
    let canvas = null;
    let ctx = null;
    let HPspan = null;
    let killsSpan = null;
    let shipControlsCard = null;
    let shipClearBtn = null;
    let shipSetBtn = null;
    let shipSelectBtn = null;
    let shipRoutesContainer = null;
    let shipRouteLeg = null;
    let shipRouteSpeed = null;
    let shipDeleteBtn = null;
    let shipSpeedCard = null;
    let shipSpeedSlider = null;
    let shipSpeedValue = null;
    let missileSpeedMarker = null;
    let missileControlsCard = null;
    let missileAddRouteBtn = null;
    let missileLaunchBtn = null;
    let missileLaunchText = null;
    let missileLaunchInfo = null;
    let missileSetBtn = null;
    let missileSelectBtn = null;
    let missileDeleteBtn = null;
    let missileSpeedCard = null;
    let missileSpeedSlider = null;
    let missileSpeedValue = null;
    let missileAgroCard = null;
    let missileAgroSlider = null;
    let missileAgroValue = null;
    let missileHeatCapacityCard = null;
    let missileHeatCapacitySlider = null;
    let missileHeatCapacityValue = null;
    let missileCraftBtn = null;
    let missileCountSpan = null;
    let missileCraftTimerDiv = null;
    let craftTimeRemainingSpan = null;
    let spawnBotBtn = null;
    let spawnBotText = null;
    let routePrevBtn = null;
    let routeNextBtn = null;
    let routeMenuToggle = null;
    let routeMenu = null;
    let renameMissileRouteBtn = null;
    let deleteMissileRouteBtn = null;
    let clearMissileWaypointsBtn = null;
    let missileRouteNameLabel = null;
    let missileRouteCountLabel = null;
    let helpToggle = null;
    let helpOverlay = null;
    let helpCloseBtn = null;
    let helpText = null;
    let heatBarFill = null;
    let heatBarPlanned = null;
    let heatValueText = null;
    let speedMarker = null;
    let stallOverlay = null;
    let markerAligned = false;
    let heatWarnActive = false;
    let stallActive = false;
    let dualMeterAlert = false;
    let lastMissileLaunchTextHTML = "";
    let lastMissileLaunchInfoHTML = "";
    let lastMissileConfigSent = null;
    function cacheDom() {
      var _a, _b;
      canvas = document.getElementById("cv");
      ctx = (_a = canvas == null ? void 0 : canvas.getContext("2d")) != null ? _a : null;
      HPspan = document.getElementById("ship-hp");
      shipControlsCard = document.getElementById("ship-controls");
      shipClearBtn = document.getElementById("ship-clear");
      shipSetBtn = document.getElementById("ship-set");
      shipSelectBtn = document.getElementById("ship-select");
      shipRoutesContainer = document.getElementById("ship-routes");
      shipRouteLeg = document.getElementById("ship-route-leg");
      shipRouteSpeed = document.getElementById("ship-route-speed");
      shipDeleteBtn = document.getElementById("ship-delete");
      shipSpeedCard = document.getElementById("ship-speed-card");
      shipSpeedSlider = document.getElementById("ship-speed-slider");
      shipSpeedValue = document.getElementById("ship-speed-value");
      missileControlsCard = document.getElementById("missile-controls");
      missileAddRouteBtn = document.getElementById("missile-add-route");
      missileLaunchBtn = document.getElementById("missile-launch");
      missileLaunchText = document.getElementById("missile-launch-text");
      missileLaunchInfo = document.getElementById("missile-launch-info");
      missileSetBtn = document.getElementById("missile-set");
      missileSelectBtn = document.getElementById("missile-select");
      missileDeleteBtn = document.getElementById("missile-delete");
      missileSpeedCard = document.getElementById("missile-speed-card");
      missileSpeedSlider = document.getElementById("missile-speed-slider");
      missileSpeedValue = document.getElementById("missile-speed-value");
      missileAgroCard = document.getElementById("missile-agro-card");
      missileAgroSlider = document.getElementById("missile-agro-slider");
      missileAgroValue = document.getElementById("missile-agro-value");
      missileHeatCapacityCard = document.getElementById("missile-heat-capacity-card");
      missileHeatCapacitySlider = document.getElementById("missile-heat-capacity-slider");
      missileHeatCapacityValue = document.getElementById("missile-heat-capacity-value");
      missileCraftBtn = document.getElementById("missile-craft");
      missileCountSpan = document.getElementById("missile-count");
      missileCraftTimerDiv = document.getElementById("missile-craft-timer");
      craftTimeRemainingSpan = document.getElementById("craft-time-remaining");
      spawnBotBtn = document.getElementById("spawn-bot");
      spawnBotText = document.getElementById("spawn-bot-text");
      killsSpan = document.getElementById("ship-kills");
      routePrevBtn = document.getElementById("route-prev");
      routeNextBtn = document.getElementById("route-next");
      routeMenuToggle = document.getElementById("route-menu-toggle");
      routeMenu = document.getElementById("route-menu");
      renameMissileRouteBtn = document.getElementById("rename-missile-route");
      deleteMissileRouteBtn = document.getElementById("delete-missile-route");
      clearMissileWaypointsBtn = document.getElementById("clear-missile-waypoints");
      missileRouteNameLabel = document.getElementById("missile-route-name");
      missileRouteCountLabel = document.getElementById("missile-route-count");
      helpToggle = document.getElementById("help-toggle");
      helpOverlay = document.getElementById("help-overlay");
      helpCloseBtn = document.getElementById("help-close");
      helpText = document.getElementById("help-text");
      heatBarFill = document.getElementById("heat-bar-fill");
      heatBarPlanned = document.getElementById("heat-bar-planned");
      heatValueText = document.getElementById("heat-value-text");
      speedMarker = document.getElementById("speed-marker");
      missileSpeedMarker = document.getElementById("missile-speed-marker");
      stallOverlay = document.getElementById("stall-overlay");
      const sliderDefault = parseFloat((_b = shipSpeedSlider == null ? void 0 : shipSpeedSlider.value) != null ? _b : "150");
      logic.setDefaultShipSpeed(Number.isFinite(sliderDefault) ? sliderDefault : 150);
      if (missileSpeedSlider) {
        missileSpeedSlider.disabled = false;
      }
      return { canvas, ctx };
    }
    function bindUI() {
      spawnBotBtn == null ? void 0 : spawnBotBtn.addEventListener("click", () => {
        if (!spawnBotBtn || spawnBotBtn.disabled) return;
        sendMessage2({ type: "spawn_bot" });
        bus.emit("bot:spawnRequested");
        spawnBotBtn.disabled = true;
        if (spawnBotText) {
          spawnBotText.textContent = "Spawned";
        }
        setTimeout(() => {
          if (spawnBotBtn) {
            spawnBotBtn.disabled = false;
          }
          if (spawnBotText) {
            spawnBotText.textContent = "Bot";
          }
        }, 5e3);
      });
      shipClearBtn == null ? void 0 : shipClearBtn.addEventListener("click", () => {
        setInputContext("ship");
        logic.clearShipRoute();
        bus.emit("ship:clearInvoked");
      });
      shipSetBtn == null ? void 0 : shipSetBtn.addEventListener("click", () => {
        setActiveTool("ship-set");
      });
      shipSelectBtn == null ? void 0 : shipSelectBtn.addEventListener("click", () => {
        setActiveTool("ship-select");
      });
      shipSpeedSlider == null ? void 0 : shipSpeedSlider.addEventListener("input", (event) => {
        var _a;
        const value = parseFloat(event.target.value);
        if (!Number.isFinite(value)) return;
        updateSpeedLabel(value);
        logic.setDefaultShipSpeed(value);
        const selection = logic.getSelection();
        if (selection && state.me && Array.isArray(state.me.waypoints) && state.me.waypoints[selection.index]) {
          sendMessage2({ type: "update_waypoint", index: selection.index, speed: value });
          state.me.waypoints[selection.index].speed = value;
          refreshShipSelectionUI();
          updatePlannedHeatBar();
        }
        const heat = (_a = state.me) == null ? void 0 : _a.heat;
        if (heat) {
          const tolerance = Math.max(5, heat.markerSpeed * 0.02);
          const diff = Math.abs(value - heat.markerSpeed);
          const inRange = diff <= tolerance;
          if (inRange && !markerAligned) {
            markerAligned = true;
            bus.emit("heat:markerAligned", { value, marker: heat.markerSpeed });
          } else if (!inRange && markerAligned) {
            markerAligned = false;
          }
        } else {
          markerAligned = false;
        }
        bus.emit("ship:speedChanged", { value });
      });
      shipDeleteBtn == null ? void 0 : shipDeleteBtn.addEventListener("click", () => {
        setInputContext("ship");
        logic.deleteSelectedShipWaypoint();
      });
      missileAddRouteBtn == null ? void 0 : missileAddRouteBtn.addEventListener("click", () => {
        setInputContext("missile");
        sendMessage2({ type: "add_missile_route" });
      });
      missileLaunchBtn == null ? void 0 : missileLaunchBtn.addEventListener("click", () => {
        setInputContext("missile");
        logic.launchActiveMissileRoute();
      });
      missileSetBtn == null ? void 0 : missileSetBtn.addEventListener("click", () => {
        setActiveTool("missile-set");
      });
      missileSelectBtn == null ? void 0 : missileSelectBtn.addEventListener("click", () => {
        setActiveTool("missile-select");
      });
      missileDeleteBtn == null ? void 0 : missileDeleteBtn.addEventListener("click", () => {
        setInputContext("missile");
        logic.deleteSelectedMissileWaypoint();
        bus.emit("missile:deleteInvoked");
      });
      missileSpeedSlider == null ? void 0 : missileSpeedSlider.addEventListener("input", (event) => {
        var _a, _b;
        const slider = event.target;
        if (slider.disabled) {
          return;
        }
        const raw = parseFloat(slider.value);
        if (!Number.isFinite(raw)) return;
        const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
        const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
        const clampedValue = clamp(raw, minSpeed, maxSpeed);
        slider.value = clampedValue.toFixed(0);
        if (missileSpeedValue) {
          missileSpeedValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        const route = logic.getActiveMissileRoute();
        const missileSelection = logic.getMissileSelection();
        if (route && missileSelection && missileSelection.type === "leg" && Array.isArray(route.waypoints) && missileSelection.index >= 0 && missileSelection.index < route.waypoints.length) {
          route.waypoints = route.waypoints.map(
            (w, idx) => idx === missileSelection.index ? { ...w, speed: clampedValue } : w
          );
          sendMessage2({
            type: "update_missile_waypoint_speed",
            route_id: route.id,
            index: missileSelection.index,
            speed: clampedValue
          });
          bus.emit("missile:speedChanged", { value: clampedValue, index: missileSelection.index });
        } else {
          const cfg = sanitizeMissileConfig(
            {
              speed: clampedValue,
              agroRadius: state.missileConfig.agroRadius
            },
            state.missileConfig,
            state.missileLimits
          );
          state.missileConfig = cfg;
          sendMissileConfig(cfg);
          bus.emit("missile:speedChanged", { value: clampedValue, index: -1 });
        }
        logic.recordMissileLegSpeed(clampedValue);
      });
      missileAgroSlider == null ? void 0 : missileAgroSlider.addEventListener("input", (event) => {
        var _a;
        const slider = event.target;
        const raw = parseFloat(slider.value);
        if (!Number.isFinite(raw)) return;
        const minAgro = (_a = state.missileLimits.agroMin) != null ? _a : MISSILE_MIN_AGRO;
        const clampedValue = Math.max(minAgro, raw);
        slider.value = clampedValue.toFixed(0);
        if (missileAgroValue) {
          missileAgroValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        updateMissileConfigFromUI({ agroRadius: clampedValue });
        bus.emit("missile:agroChanged", { value: clampedValue });
      });
      missileHeatCapacitySlider == null ? void 0 : missileHeatCapacitySlider.addEventListener("input", (event) => {
        const raw = parseFloat(event.target.value);
        if (!Number.isFinite(raw)) return;
        const clampedValue = Math.max(80, Math.min(200, raw));
        missileHeatCapacitySlider.value = clampedValue.toFixed(0);
        if (missileHeatCapacityValue) {
          missileHeatCapacityValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        state.craftHeatCapacity = clampedValue;
      });
      missileCraftBtn == null ? void 0 : missileCraftBtn.addEventListener("click", () => {
        var _a;
        if (missileCraftBtn.disabled) return;
        const heatCap = state.craftHeatCapacity;
        let nodeId = "craft.missile.basic";
        if (state.dag) {
          const craftNodes = state.dag.nodes.filter((n) => n.kind === "craft" && n.id.includes("missile"));
          for (const node of craftNodes) {
            const nodeHeatCap = parseInt(((_a = node.id.match(/(\d+)/)) == null ? void 0 : _a[1]) || "80");
            if (Math.abs(nodeHeatCap - heatCap) < 5) {
              nodeId = node.id;
              break;
            }
          }
          if (heatCap >= 180) {
            nodeId = "craft.missile.extended";
          } else if (heatCap >= 140) {
            nodeId = "craft.missile.high_heat";
          } else if (heatCap >= 110) {
            nodeId = "craft.missile.long_range";
          } else {
            nodeId = "craft.missile.basic";
          }
        }
        sendMessage2({ type: "dag_start", node_id: nodeId });
        bus.emit("missile:craftRequested", { nodeId, heatCapacity: heatCap });
      });
      routePrevBtn == null ? void 0 : routePrevBtn.addEventListener("click", () => logic.cycleMissileRoute(-1));
      routeNextBtn == null ? void 0 : routeNextBtn.addEventListener("click", () => logic.cycleMissileRoute(1));
      routeMenuToggle == null ? void 0 : routeMenuToggle.addEventListener("click", () => {
        routeMenu == null ? void 0 : routeMenu.classList.toggle("visible");
      });
      renameMissileRouteBtn == null ? void 0 : renameMissileRouteBtn.addEventListener("click", () => {
        var _a, _b;
        const route = logic.getActiveMissileRoute();
        if (!route) return;
        const nextName = (_b = prompt("Rename route", (_a = route.name) != null ? _a : "")) != null ? _b : "";
        const trimmed = nextName.trim();
        if (trimmed === route.name) return;
        sendMessage2({
          type: "rename_missile_route",
          route_id: route.id,
          name: trimmed
        });
        route.name = trimmed;
        renderMissileRouteControls();
      });
      deleteMissileRouteBtn == null ? void 0 : deleteMissileRouteBtn.addEventListener("click", () => {
        const route = logic.getActiveMissileRoute();
        if (!route) return;
        sendMessage2({ type: "delete_missile_route", route_id: route.id });
      });
      clearMissileWaypointsBtn == null ? void 0 : clearMissileWaypointsBtn.addEventListener("click", () => {
        const route = logic.getActiveMissileRoute();
        if (!route || !Array.isArray(route.waypoints) || route.waypoints.length === 0) {
          return;
        }
        sendMessage2({ type: "clear_missile_waypoints", route_id: route.id });
        route.waypoints = [];
        logic.setMissileSelection(null);
        renderMissileRouteControls();
      });
      helpToggle == null ? void 0 : helpToggle.addEventListener("click", () => {
        setHelpVisible(true);
      });
      helpCloseBtn == null ? void 0 : helpCloseBtn.addEventListener("click", () => {
        setHelpVisible(false);
      });
      bus.on("ship:legSelected", () => {
        refreshShipSelectionUI();
      });
      bus.on("ship:waypointAdded", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("ship:waypointDeleted", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("ship:waypointsCleared", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("missile:selectionChanged", () => {
        refreshMissileSelectionUI();
        updateMissileSpeedControls();
      });
      bus.on("missile:waypointAdded", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:waypointDeleted", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:activeRouteChanged", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:craftRequested", () => {
        if (missileCraftBtn) {
          missileCraftBtn.disabled = true;
        }
        updateCraftTimer();
        setTimeout(() => {
          if (missileCraftBtn) {
            missileCraftBtn.disabled = false;
          }
        }, 500);
      });
    }
    function getCanvas() {
      return canvas;
    }
    function getContext() {
      return ctx;
    }
    function updateSpeedLabel(value) {
      if (!shipSpeedValue) return;
      shipSpeedValue.textContent = `${value.toFixed(0)} u/s`;
    }
    function adjustSliderValue(input, steps, coarse) {
      if (!input) return null;
      const step = Math.abs(parseFloat(input.step)) || 1;
      const multiplier = coarse ? 4 : 1;
      const min = Number.isFinite(parseFloat(input.min)) ? parseFloat(input.min) : -Infinity;
      const max = Number.isFinite(parseFloat(input.max)) ? parseFloat(input.max) : Infinity;
      const current = parseFloat(input.value) || 0;
      let next = current + steps * step * multiplier;
      if (Number.isFinite(min)) next = Math.max(min, next);
      if (Number.isFinite(max)) next = Math.min(max, next);
      if (Math.abs(next - current) < 1e-4) {
        return null;
      }
      input.value = String(next);
      input.dispatchEvent(new Event("input", { bubbles: true }));
      return next;
    }
    function adjustShipSpeed(steps, coarse) {
      adjustSliderValue(shipSpeedSlider, steps, coarse);
    }
    function adjustMissileAgro(steps, coarse) {
      adjustSliderValue(missileAgroSlider, steps, coarse);
    }
    function adjustMissileSpeed(steps, coarse) {
      if (missileSpeedSlider && !missileSpeedSlider.disabled) {
        adjustSliderValue(missileSpeedSlider, steps, coarse);
      }
    }
    function setShipSliderValue(value) {
      if (!shipSpeedSlider) return;
      shipSpeedSlider.value = value.toFixed(0);
      updateSpeedLabel(value);
    }
    function renderMissileRouteControls() {
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      const activeRoute = logic.getActiveMissileRoute();
      if (missileRouteNameLabel) {
        if (!activeRoute) {
          missileRouteNameLabel.textContent = routes.length === 0 ? "No route" : "Route";
        } else {
          missileRouteNameLabel.textContent = activeRoute.name || "Route";
        }
      }
      if (missileRouteCountLabel) {
        const count = activeRoute && Array.isArray(activeRoute.waypoints) ? activeRoute.waypoints.length : 0;
        missileRouteCountLabel.textContent = `${count} pts`;
      }
      if (deleteMissileRouteBtn) {
        deleteMissileRouteBtn.disabled = routes.length <= 1;
      }
      if (renameMissileRouteBtn) {
        renameMissileRouteBtn.disabled = !activeRoute;
      }
      if (clearMissileWaypointsBtn) {
        const count = activeRoute && Array.isArray(activeRoute.waypoints) ? activeRoute.waypoints.length : 0;
        clearMissileWaypointsBtn.disabled = !activeRoute || count === 0;
      }
      if (routePrevBtn) {
        routePrevBtn.disabled = routes.length <= 1;
      }
      if (routeNextBtn) {
        routeNextBtn.disabled = routes.length <= 1;
      }
      updateMissileLaunchButtonState();
      refreshMissileSelectionUI();
    }
    function syncMissileUIFromState() {
      logic.ensureActiveMissileRoute();
      const activeRoute = logic.getActiveMissileRoute();
      const missileSel = logic.getMissileSelection();
      const routeHasSelection = !!activeRoute && Array.isArray(activeRoute.waypoints) && !!missileSel && missileSel.index >= 0 && missileSel.index < activeRoute.waypoints.length;
      if (!routeHasSelection) {
        logic.setMissileSelection(null);
      }
      const cfg = state.missileConfig;
      applyMissileUI(cfg);
      renderMissileRouteControls();
      refreshMissileSelectionUI();
    }
    function applyMissileUI(cfg) {
      var _a;
      if (missileAgroSlider) {
        const minAgro = (_a = state.missileLimits.agroMin) != null ? _a : MISSILE_MIN_AGRO;
        const maxAgro = Math.max(5e3, Math.ceil((cfg.agroRadius + 500) / 500) * 500);
        missileAgroSlider.min = String(minAgro);
        missileAgroSlider.max = String(maxAgro);
        missileAgroSlider.value = cfg.agroRadius.toFixed(0);
      }
      if (missileAgroValue) {
        missileAgroValue.textContent = cfg.agroRadius.toFixed(0);
      }
      updateMissileSpeedControls();
      updateSpeedMarker();
    }
    function updateMissileConfigFromUI(overrides = {}) {
      var _a, _b;
      const current = state.missileConfig;
      const cfg = sanitizeMissileConfig(
        {
          speed: current.speed,
          agroRadius: (_a = overrides.agroRadius) != null ? _a : current.agroRadius
        },
        current,
        state.missileLimits
      );
      state.missileConfig = cfg;
      applyMissileUI(cfg);
      const last = lastMissileConfigSent;
      const needsSend = !last || Math.abs(((_b = last.agroRadius) != null ? _b : 0) - cfg.agroRadius) > 5;
      if (needsSend) {
        sendMissileConfig(cfg);
      }
      renderMissileRouteControls();
    }
    function sendMissileConfig(cfg) {
      lastMissileConfigSent = {
        speed: cfg.speed,
        agroRadius: cfg.agroRadius
      };
      sendMessage2({
        type: "configure_missile",
        missile_speed: cfg.speed,
        missile_agro: cfg.agroRadius
      });
    }
    function refreshShipSelectionUI() {
      if (!shipRoutesContainer || !shipRouteLeg || !shipRouteSpeed || !shipDeleteBtn) {
        return;
      }
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      const selection = logic.getSelection();
      const hasValidSelection = selection !== null && selection.index >= 0 && selection.index < wps.length;
      const isShipContext = uiState.inputContext === "ship";
      shipRoutesContainer.style.display = "flex";
      shipRoutesContainer.style.opacity = isShipContext ? "1" : "0.6";
      if (!state.me || !hasValidSelection || !selection) {
        shipRouteLeg.textContent = "";
        shipRouteSpeed.textContent = "";
        shipDeleteBtn.disabled = true;
        if (isShipContext) {
          setShipSliderValue(logic.getDefaultShipSpeed());
        }
        return;
      }
      const wp = wps[selection.index];
      const speed = wp && typeof wp.speed === "number" ? wp.speed : logic.getDefaultShipSpeed();
      if (isShipContext && shipSpeedSlider && Math.abs(parseFloat(shipSpeedSlider.value) - speed) > 0.25) {
        setShipSliderValue(speed);
      } else {
        updateSpeedLabel(speed);
      }
      const displayIndex = selection.index + 1;
      shipRouteLeg.textContent = `${displayIndex}`;
      shipRouteSpeed.textContent = `${speed.toFixed(0)} u/s`;
      shipDeleteBtn.disabled = !isShipContext;
    }
    function refreshMissileSelectionUI() {
      const route = logic.getActiveMissileRoute();
      const count = route && Array.isArray(route.waypoints) ? route.waypoints.length : 0;
      const missileSel = logic.getMissileSelection();
      const isWaypointSelection = missileSel !== null && missileSel !== void 0 && missileSel.type === "waypoint" && missileSel.index >= 0 && missileSel.index < count;
      if (missileDeleteBtn) {
        missileDeleteBtn.disabled = !isWaypointSelection;
      }
      updateMissileSpeedControls();
    }
    function updateMissileSpeedControls() {
      var _a, _b;
      if (!missileSpeedSlider || !missileSpeedValue) {
        return;
      }
      const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
      const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
      missileSpeedSlider.min = String(minSpeed);
      missileSpeedSlider.max = String(maxSpeed);
      const route = logic.getActiveMissileRoute();
      const missileSel = logic.getMissileSelection();
      const waypoints = route && Array.isArray(route.waypoints) ? route.waypoints : null;
      let selectedSpeed = null;
      let selectedType = null;
      if (waypoints && missileSel && missileSel.index >= 0 && missileSel.index < waypoints.length) {
        const wp = waypoints[missileSel.index];
        const value = typeof wp.speed === "number" && wp.speed > 0 ? wp.speed : logic.getDefaultMissileLegSpeed();
        selectedSpeed = clamp(value, minSpeed, maxSpeed);
        selectedType = missileSel.type;
      }
      const sliderDisabled = selectedType === "waypoint";
      let sliderValue;
      if (selectedSpeed !== null) {
        sliderValue = selectedSpeed;
      } else {
        const rawValue = parseFloat(missileSpeedSlider.value);
        const fallback = logic.getDefaultMissileLegSpeed();
        const targetValue = Number.isFinite(rawValue) ? rawValue : fallback;
        sliderValue = clamp(targetValue, minSpeed, maxSpeed);
      }
      missileSpeedSlider.disabled = sliderDisabled;
      missileSpeedSlider.value = sliderValue.toFixed(0);
      missileSpeedValue.textContent = `${sliderValue.toFixed(0)}`;
      if (!sliderDisabled) {
        logic.recordMissileLegSpeed(sliderValue);
      }
    }
    function setInputContext(context) {
      const next = context === "missile" ? "missile" : "ship";
      if (uiState.inputContext === next) {
        return;
      }
      uiState.inputContext = next;
      if (next === "ship") {
        const shipToolToUse = uiState.shipTool === "select" ? "ship-select" : "ship-set";
        if (uiState.activeTool !== shipToolToUse) {
          uiState.activeTool = shipToolToUse;
        }
      } else {
        const missileToolToUse = uiState.missileTool === "select" ? "missile-select" : "missile-set";
        if (uiState.activeTool !== missileToolToUse) {
          uiState.activeTool = missileToolToUse;
        }
      }
      bus.emit("context:changed", { context: next });
      updateControlHighlights();
      refreshShipSelectionUI();
      refreshMissileSelectionUI();
    }
    function setActiveTool(tool) {
      if (uiState.activeTool === tool) {
        return;
      }
      uiState.activeTool = tool;
      if (tool === "ship-set") {
        uiState.shipTool = "set";
        uiState.missileTool = null;
        setInputContext("ship");
        bus.emit("ship:toolChanged", { tool: "set" });
      } else if (tool === "ship-select") {
        uiState.shipTool = "select";
        uiState.missileTool = null;
        setInputContext("ship");
        bus.emit("ship:toolChanged", { tool: "select" });
      } else if (tool === "missile-set") {
        uiState.shipTool = null;
        uiState.missileTool = "set";
        setInputContext("missile");
        logic.setMissileSelection(null);
        bus.emit("missile:toolChanged", { tool: "set" });
      } else if (tool === "missile-select") {
        uiState.shipTool = null;
        uiState.missileTool = "select";
        setInputContext("missile");
        bus.emit("missile:toolChanged", { tool: "select" });
      }
      updateControlHighlights();
    }
    function setButtonState(btn, active) {
      if (!btn) return;
      if (active) {
        btn.dataset.state = "active";
        btn.setAttribute("aria-pressed", "true");
      } else {
        delete btn.dataset.state;
        btn.setAttribute("aria-pressed", "false");
      }
    }
    function updateControlHighlights() {
      setButtonState(shipSetBtn, uiState.activeTool === "ship-set");
      setButtonState(shipSelectBtn, uiState.activeTool === "ship-select");
      setButtonState(missileSetBtn, uiState.activeTool === "missile-set");
      setButtonState(missileSelectBtn, uiState.activeTool === "missile-select");
      if (shipControlsCard) {
        shipControlsCard.classList.toggle("active", uiState.inputContext === "ship");
      }
      if (missileControlsCard) {
        missileControlsCard.classList.toggle("active", uiState.inputContext === "missile");
      }
    }
    function setHelpVisible(flag) {
      uiState.helpVisible = flag;
      updateHelpOverlay();
      bus.emit("help:visibleChanged", { visible: uiState.helpVisible });
    }
    function updateHelpOverlay() {
      if (!helpOverlay || !helpText) return;
      helpOverlay.classList.toggle("visible", uiState.helpVisible);
      helpText.textContent = HELP_TEXT;
    }
    function updateMissileLaunchButtonState() {
      if (!missileLaunchBtn || !missileLaunchText || !missileLaunchInfo) return;
      const route = logic.getActiveMissileRoute();
      const count = route && Array.isArray(route.waypoints) ? route.waypoints.length : 0;
      const remaining = logic.getMissileCooldownRemaining();
      const coolingDown = remaining > 0.05;
      const shouldDisable = !route || count === 0 || coolingDown;
      missileLaunchBtn.disabled = shouldDisable;
      const launchTextHTML = '<span class="btn-text-full">Launch</span><span class="btn-text-short">Fire</span>';
      let launchInfoHTML = "";
      if (!route) {
        launchInfoHTML = "";
      } else if (coolingDown) {
        launchInfoHTML = `${remaining.toFixed(1)}s`;
      } else if (route.name) {
        const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
        const routeIndex = routes.findIndex((r) => r.id === route.id) + 1;
        launchInfoHTML = `<span class="btn-text-full">${route.name}</span><span class="btn-text-short">${routeIndex}</span>`;
      } else {
        launchInfoHTML = "";
      }
      if (lastMissileLaunchTextHTML !== launchTextHTML) {
        missileLaunchText.innerHTML = launchTextHTML;
        lastMissileLaunchTextHTML = launchTextHTML;
      }
      if (lastMissileLaunchInfoHTML !== launchInfoHTML) {
        missileLaunchInfo.innerHTML = launchInfoHTML;
        lastMissileLaunchInfoHTML = launchInfoHTML;
      }
    }
    function updateMissileCountDisplay() {
      if (!missileCountSpan) return;
      let count = 0;
      if (state.inventory && state.inventory.items) {
        for (const item of state.inventory.items) {
          if (item.type === "missile") {
            count += item.quantity;
          }
        }
      }
      missileCountSpan.textContent = count.toString();
    }
    function updateCraftTimer() {
      if (!missileCraftTimerDiv || !craftTimeRemainingSpan) return;
      let craftInProgress = false;
      let remainingTime = 0;
      if (state.dag && state.dag.nodes) {
        for (const node of state.dag.nodes) {
          if (node.kind === "craft" && node.status === "in_progress") {
            craftInProgress = true;
            remainingTime = node.remaining_s;
            break;
          }
        }
      }
      if (craftInProgress && remainingTime > 0) {
        missileCraftTimerDiv.style.display = "block";
        craftTimeRemainingSpan.textContent = Math.ceil(remainingTime).toString();
      } else {
        missileCraftTimerDiv.style.display = "none";
      }
    }
    function updateStatusIndicators() {
      var _a;
      const meta = (_a = state.worldMeta) != null ? _a : {};
      camera.updateWorldFromMeta(meta);
      if (HPspan) {
        if (state.me && Number.isFinite(state.me.hp)) {
          HPspan.textContent = Number(state.me.hp).toString();
        } else {
          HPspan.textContent = "\u2013";
        }
      }
      if (killsSpan) {
        if (state.me && Number.isFinite(state.me.kills)) {
          killsSpan.textContent = Number(state.me.kills).toString();
        } else {
          killsSpan.textContent = "0";
        }
      }
      updateHeatBar();
      updatePlannedHeatBar();
      updateSpeedMarker();
      updateStallOverlay();
    }
    function updateHeatBar() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat || !heatBarFill || !heatValueText) {
        heatWarnActive = false;
        return;
      }
      const percent = heat.value / heat.max * 100;
      heatBarFill.style.width = `${percent}%`;
      heatValueText.textContent = `Heat ${Math.round(heat.value)}`;
      heatBarFill.classList.remove("warn", "overheat");
      if (heat.value >= heat.overheatAt) {
        heatBarFill.classList.add("overheat");
      } else if (heat.value >= heat.warnAt) {
        heatBarFill.classList.add("warn");
      }
      const nowWarn = heat.value >= heat.warnAt;
      if (nowWarn && !heatWarnActive) {
        heatWarnActive = true;
        bus.emit("heat:warnEntered", { value: heat.value, warnAt: heat.warnAt });
      } else if (!nowWarn && heatWarnActive) {
        const coolThreshold = Math.max(0, heat.warnAt - 5);
        if (heat.value <= coolThreshold) {
          heatWarnActive = false;
          bus.emit("heat:cooledBelowWarn", { value: heat.value, warnAt: heat.warnAt });
        }
      }
    }
    function projectPlannedHeat() {
      const ship = state.me;
      if (!ship || !Array.isArray(ship.waypoints) || ship.waypoints.length === 0 || !ship.heat) {
        return null;
      }
      const currentIndexRaw = ship.currentWaypointIndex;
      const currentIndex = typeof currentIndexRaw === "number" && Number.isFinite(currentIndexRaw) ? currentIndexRaw : 0;
      const clampedIndex = Math.max(0, Math.min(currentIndex, ship.waypoints.length));
      const remainingWaypoints = clampedIndex > 0 ? ship.waypoints.slice(clampedIndex) : ship.waypoints.slice();
      if (remainingWaypoints.length === 0) {
        return null;
      }
      const route = [{ x: ship.x, y: ship.y, speed: void 0 }, ...remainingWaypoints];
      const heatParams = {
        markerSpeed: ship.heat.markerSpeed,
        kUp: ship.heat.kUp,
        kDown: ship.heat.kDown,
        exp: ship.heat.exp,
        max: ship.heat.max,
        overheatAt: ship.heat.overheatAt,
        warnAt: ship.heat.warnAt
      };
      const projection = projectRouteHeat(route, ship.heat.value, heatParams);
      return Math.max(...projection.heatAtWaypoints);
    }
    function updatePlannedHeatBar() {
      if (!heatBarPlanned) return;
      const resetPlannedBar = () => {
        if (heatBarPlanned) {
          heatBarPlanned.style.width = "0%";
        }
      };
      const ship = state.me;
      if (!ship || !ship.heat) {
        resetPlannedBar();
        dualMeterAlert = false;
        return;
      }
      const planned = projectPlannedHeat();
      if (planned === null) {
        resetPlannedBar();
        dualMeterAlert = false;
        return;
      }
      const actual = ship.heat.value;
      const percent = planned / ship.heat.max * 100;
      heatBarPlanned.style.width = `${Math.max(0, Math.min(100, percent))}%`;
      const diff = planned - actual;
      const threshold = Math.max(8, ship.heat.warnAt * 0.1);
      if (diff >= threshold && !dualMeterAlert) {
        dualMeterAlert = true;
        bus.emit("heat:dualMeterDiverged", { planned, actual });
      } else if (diff < threshold * 0.6 && dualMeterAlert) {
        dualMeterAlert = false;
      }
    }
    function updateSpeedMarker() {
      var _a, _b;
      const shipHeat = (_a = state.me) == null ? void 0 : _a.heat;
      if (speedMarker && shipSpeedSlider && shipHeat && shipHeat.markerSpeed > 0) {
        const min = parseFloat(shipSpeedSlider.min);
        const max = parseFloat(shipSpeedSlider.max);
        const markerSpeed = shipHeat.markerSpeed;
        const percent = (markerSpeed - min) / (max - min) * 100;
        const clamped = Math.max(0, Math.min(100, percent));
        speedMarker.style.left = `${clamped}%`;
        speedMarker.title = `Heat neutral: ${Math.round(markerSpeed)} units/s`;
        speedMarker.style.display = "block";
      } else if (speedMarker) {
        speedMarker.style.display = "none";
      }
      if (missileSpeedMarker && missileSpeedSlider) {
        const heatParams = state.missileConfig.heatParams;
        const markerSpeed = (_b = heatParams && Number.isFinite(heatParams.markerSpeed) ? heatParams.markerSpeed : void 0) != null ? _b : shipHeat && shipHeat.markerSpeed > 0 ? shipHeat.markerSpeed : void 0;
        if (markerSpeed !== void 0 && markerSpeed > 0) {
          const min = parseFloat(missileSpeedSlider.min);
          const max = parseFloat(missileSpeedSlider.max);
          const percent = (markerSpeed - min) / (max - min) * 100;
          const clamped = Math.max(0, Math.min(100, percent));
          missileSpeedMarker.style.left = `${clamped}%`;
          missileSpeedMarker.title = `Heat neutral: ${Math.round(markerSpeed)} units/s`;
          missileSpeedMarker.style.display = "block";
        } else {
          missileSpeedMarker.style.display = "none";
        }
      }
    }
    function updateStallOverlay() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat || !stallOverlay) {
        stallActive = false;
        return;
      }
      const now = typeof performance !== "undefined" && typeof performance.now === "function" ? performance.now() : Date.now();
      const isStalled = now < heat.stallUntilMs;
      if (isStalled) {
        stallOverlay.classList.add("visible");
        if (!stallActive) {
          stallActive = true;
          bus.emit("heat:stallTriggered", { stallUntil: heat.stallUntilMs });
        }
      } else {
        stallOverlay.classList.remove("visible");
        if (stallActive) {
          stallActive = false;
          bus.emit("heat:stallRecovered", { value: heat.value });
        }
      }
    }
    return {
      cacheDom,
      bindUI,
      setActiveTool,
      setInputContext,
      updateControlHighlights,
      refreshShipSelectionUI,
      refreshMissileSelectionUI,
      renderMissileRouteControls,
      syncMissileUIFromState,
      updateHelpOverlay,
      setHelpVisible,
      updateMissileLaunchButtonState,
      updateMissileCountDisplay,
      updateCraftTimer,
      updateStatusIndicators,
      updatePlannedHeatBar,
      updateSpeedMarker,
      updateHeatBar,
      projectPlannedHeat,
      getCanvas,
      getContext,
      adjustShipSpeed,
      adjustMissileAgro,
      adjustMissileSpeed
    };
  }
  var init_ui = __esm({
    "web/src/game/ui.ts"() {
      "use strict";
      init_state();
      init_constants();
      init_route();
    }
  });

  // web/src/mission/hud.ts
  function mountMissionHud({ state, bus }) {
    const container = document.getElementById("mission-hud");
    const beaconLabel = document.getElementById("mission-beacon-label");
    const holdLabel = document.getElementById("mission-hold-text");
    if (!container || !beaconLabel || !holdLabel) {
      return { destroy() {
      } };
    }
    function render() {
      const mission = state.mission;
      if (!mission || !mission.active) {
        container.classList.add("hidden");
        container.classList.remove("inside");
        return;
      }
      const total = mission.beacons.length > 0 ? mission.beacons.length : 4;
      const currentIndex = Math.min(mission.beaconIndex + 1, total);
      beaconLabel.textContent = `Beacon ${currentIndex}/${total}`;
      const required = mission.holdRequired || 10;
      const holdSeconds = Math.max(0, mission.holdAccum);
      holdLabel.textContent = `Hold: ${holdSeconds.toFixed(1)}s / ${required.toFixed(1)}s`;
      const beacon = mission.beacons[mission.beaconIndex];
      if (beacon && state.me) {
        const dx = state.me.x - beacon.cx;
        const dy = state.me.y - beacon.cy;
        const inside = dx * dx + dy * dy <= beacon.radius * beacon.radius;
        if (inside) {
          container.classList.add("inside");
        } else {
          container.classList.remove("inside");
        }
      } else {
        container.classList.remove("inside");
      }
      container.classList.remove("hidden");
    }
    render();
    const unsubs = [
      bus.on("state:updated", () => render()),
      bus.on("mission:start", () => render()),
      bus.on("mission:beacon-locked", () => render()),
      bus.on("mission:completed", () => render())
    ];
    return {
      destroy() {
        for (const unsub of unsubs) {
          unsub();
        }
      }
    };
  }
  var init_hud = __esm({
    "web/src/mission/hud.ts"() {
      "use strict";
    }
  });

  // web/src/game.ts
  function initGame({ state, uiState, bus }) {
    const canvasEl = document.getElementById("cv");
    if (!canvasEl) {
      throw new Error("Canvas element #cv not found");
    }
    const camera = createCamera({ canvas: canvasEl, state, uiState });
    const logic = createLogic({
      state,
      uiState,
      bus,
      sendMessage,
      getApproxServerNow,
      camera
    });
    const ui = createUI({
      state,
      uiState,
      bus,
      logic,
      camera,
      sendMessage,
      getApproxServerNow
    });
    const { canvas: cachedCanvas, ctx: cachedCtx } = ui.cacheDom();
    const renderCanvas = cachedCanvas != null ? cachedCanvas : canvasEl;
    const renderCtx = cachedCtx != null ? cachedCtx : renderCanvas.getContext("2d");
    if (!renderCtx) {
      throw new Error("Unable to acquire 2D rendering context");
    }
    const renderer = createRenderer({
      canvas: renderCanvas,
      ctx: renderCtx,
      state,
      uiState,
      camera,
      logic
    });
    const input = createInput({
      canvas: renderCanvas,
      ui,
      logic,
      camera,
      state,
      uiState,
      bus,
      sendMessage
    });
    ui.bindUI();
    input.bindInput();
    logic.ensureActiveMissileRoute();
    ui.syncMissileUIFromState();
    ui.updateControlHighlights();
    ui.refreshShipSelectionUI();
    ui.refreshMissileSelectionUI();
    ui.updateHelpOverlay();
    ui.updateStatusIndicators();
    ui.updateMissileLaunchButtonState();
    ui.updateMissileCountDisplay();
    mountMissionHud({ state, bus });
    let lastLoopTs = null;
    function loop(timestamp) {
      if (!Number.isFinite(timestamp)) {
        timestamp = lastLoopTs != null ? lastLoopTs : 0;
      }
      let dtSeconds = 0;
      if (lastLoopTs !== null) {
        dtSeconds = (timestamp - lastLoopTs) / 1e3;
        if (!Number.isFinite(dtSeconds) || dtSeconds < 0) {
          dtSeconds = 0;
        }
      }
      lastLoopTs = timestamp;
      logic.updateRouteAnimations(dtSeconds);
      renderer.drawScene();
      ui.updateMissileLaunchButtonState();
      ui.updateCraftTimer();
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
    return {
      onStateUpdated() {
        logic.ensureActiveMissileRoute();
        ui.syncMissileUIFromState();
        ui.refreshShipSelectionUI();
        ui.refreshMissileSelectionUI();
        ui.updateMissileLaunchButtonState();
        ui.updateMissileCountDisplay();
        ui.updateCraftTimer();
        ui.updateStatusIndicators();
      }
    };
  }
  var init_game = __esm({
    "web/src/game.ts"() {
      "use strict";
      init_net();
      init_camera();
      init_input();
      init_logic();
      init_render();
      init_ui();
      init_hud();
    }
  });

  // web/src/tutorial/highlight.ts
  function createHighlighter() {
    ensureStyles();
    const overlay = document.createElement("div");
    overlay.className = "tutorial-overlay";
    overlay.setAttribute("aria-live", "polite");
    const scrim = document.createElement("div");
    scrim.className = "tutorial-overlay__scrim";
    const highlightBox = document.createElement("div");
    highlightBox.className = "tutorial-overlay__highlight";
    const tooltip = document.createElement("div");
    tooltip.className = "tutorial-overlay__tooltip";
    const progress = document.createElement("div");
    progress.className = "tutorial-overlay__progress";
    const title = document.createElement("h3");
    title.className = "tutorial-overlay__title";
    const body = document.createElement("p");
    body.className = "tutorial-overlay__body";
    const actions = document.createElement("div");
    actions.className = "tutorial-overlay__actions";
    const skipBtn = document.createElement("button");
    skipBtn.type = "button";
    skipBtn.className = "tutorial-overlay__btn tutorial-overlay__btn--ghost";
    skipBtn.textContent = "Skip";
    const nextBtn = document.createElement("button");
    nextBtn.type = "button";
    nextBtn.className = "tutorial-overlay__btn tutorial-overlay__btn--primary";
    nextBtn.textContent = "Next";
    actions.append(skipBtn, nextBtn);
    tooltip.append(progress, title, body, actions);
    overlay.append(scrim, highlightBox, tooltip);
    document.body.appendChild(overlay);
    let currentTarget = null;
    let visible = false;
    let resizeObserver = null;
    let frameHandle = null;
    let onNext = null;
    let onSkip = null;
    function scheduleUpdate() {
      if (!visible) return;
      if (frameHandle !== null) return;
      frameHandle = window.requestAnimationFrame(() => {
        frameHandle = null;
        updatePosition();
      });
    }
    function updatePosition() {
      if (!visible) return;
      if (currentTarget) {
        const rect = currentTarget.getBoundingClientRect();
        const padding = 12;
        const width = Math.max(0, rect.width + padding * 2);
        const height = Math.max(0, rect.height + padding * 2);
        const left = rect.left - padding;
        const top = rect.top - padding;
        highlightBox.style.opacity = "1";
        highlightBox.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;
        highlightBox.style.width = `${Math.round(width)}px`;
        highlightBox.style.height = `${Math.round(height)}px`;
        tooltip.style.opacity = "1";
        tooltip.style.visibility = "visible";
        tooltip.style.maxWidth = `min(340px, ${Math.max(260, window.innerWidth - 32)}px)`;
        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;
        let tooltipTop = rect.bottom + 18;
        if (tooltipTop + tooltipHeight > window.innerHeight - 20) {
          tooltipTop = Math.max(20, rect.top - tooltipHeight - 18);
        }
        let tooltipLeft = rect.left + rect.width / 2 - tooltipWidth / 2;
        tooltipLeft = clamp(tooltipLeft, 20, window.innerWidth - tooltipWidth - 20);
        tooltip.style.transform = `translate(${Math.round(tooltipLeft)}px, ${Math.round(tooltipTop)}px)`;
      } else {
        highlightBox.style.opacity = "0";
        highlightBox.style.width = "0px";
        highlightBox.style.height = "0px";
        highlightBox.style.transform = `translate(${Math.round(window.innerWidth / 2)}px, ${Math.round(window.innerHeight / 2)}px)`;
        tooltip.style.opacity = "1";
        tooltip.style.visibility = "visible";
        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;
        const tooltipLeft = clamp((window.innerWidth - tooltipWidth) / 2, 20, window.innerWidth - tooltipWidth - 20);
        const tooltipTop = clamp((window.innerHeight - tooltipHeight) / 2, 20, window.innerHeight - tooltipHeight - 20);
        tooltip.style.transform = `translate(${Math.round(tooltipLeft)}px, ${Math.round(tooltipTop)}px)`;
      }
    }
    function attachListeners() {
      window.addEventListener("resize", scheduleUpdate, { passive: true });
      window.addEventListener("scroll", scheduleUpdate, { passive: true });
    }
    function detachListeners() {
      window.removeEventListener("resize", scheduleUpdate);
      window.removeEventListener("scroll", scheduleUpdate);
      if (frameHandle !== null) {
        window.cancelAnimationFrame(frameHandle);
        frameHandle = null;
      }
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
    }
    skipBtn.addEventListener("click", (event) => {
      event.preventDefault();
      onSkip == null ? void 0 : onSkip();
    });
    nextBtn.addEventListener("click", (event) => {
      event.preventDefault();
      onNext == null ? void 0 : onNext();
    });
    function renderTooltip(options) {
      var _a, _b;
      const { stepCount, stepIndex, title: optionTitle, body: optionBody, showNext, nextLabel, showSkip, skipLabel } = options;
      if (Number.isFinite(stepCount) && stepCount > 0) {
        progress.textContent = `Step ${stepIndex + 1} of ${stepCount}`;
        progress.style.display = "block";
      } else {
        progress.textContent = "";
        progress.style.display = "none";
      }
      if (optionTitle && optionTitle.trim().length > 0) {
        title.textContent = optionTitle;
        title.style.display = "block";
      } else {
        title.textContent = "";
        title.style.display = "none";
      }
      body.textContent = optionBody;
      onNext = showNext ? (_a = options.onNext) != null ? _a : null : null;
      if (showNext) {
        nextBtn.textContent = nextLabel != null ? nextLabel : "Next";
        nextBtn.style.display = "inline-flex";
      } else {
        nextBtn.style.display = "none";
      }
      onSkip = showSkip ? (_b = options.onSkip) != null ? _b : null : null;
      if (showSkip) {
        skipBtn.textContent = skipLabel != null ? skipLabel : "Skip";
        skipBtn.style.display = "inline-flex";
      } else {
        skipBtn.style.display = "none";
      }
    }
    function show(options) {
      var _a;
      visible = true;
      currentTarget = (_a = options.target) != null ? _a : null;
      overlay.classList.add("visible");
      renderTooltip(options);
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
      if (currentTarget && typeof ResizeObserver !== "undefined") {
        resizeObserver = new ResizeObserver(() => scheduleUpdate());
        resizeObserver.observe(currentTarget);
      }
      attachListeners();
      scheduleUpdate();
    }
    function hide() {
      if (!visible) return;
      visible = false;
      overlay.classList.remove("visible");
      tooltip.style.visibility = "hidden";
      tooltip.style.opacity = "0";
      highlightBox.style.opacity = "0";
      detachListeners();
    }
    function destroy() {
      hide();
      overlay.remove();
    }
    return {
      show,
      hide,
      destroy
    };
  }
  function ensureStyles() {
    if (document.getElementById(STYLE_ID)) {
      return;
    }
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
    .tutorial-overlay {
      position: fixed;
      inset: 0;
      z-index: 50;
      pointer-events: none;
      display: none;
    }
    .tutorial-overlay.visible {
      display: block;
    }
    .tutorial-overlay__scrim {
      position: absolute;
      inset: 0;
    }
    .tutorial-overlay__highlight {
      position: absolute;
      border-radius: 14px;
      border: 2px solid rgba(56, 189, 248, 0.95);
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.25), 0 0 24px rgba(34, 211, 238, 0.25);
      transition: transform 0.18s ease, width 0.18s ease, height 0.18s ease, opacity 0.18s ease;
      pointer-events: none;
      opacity: 0;
    }
    .tutorial-overlay__tooltip {
      position: fixed;
      min-width: 240px;
      max-width: min(340px, calc(100vw - 32px));
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 16px;
      padding: 16px 18px;
      color: #e2e8f0;
      box-shadow: 0 12px 32px rgba(15, 23, 42, 0.55);
      pointer-events: auto;
      opacity: 0;
      visibility: hidden;
      transform: translate(0px, 0px);
      transition: transform 0.18s ease, opacity 0.18s ease;
    }
    .tutorial-overlay__progress {
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.75);
      margin: 0 0 8px;
    }
    .tutorial-overlay__title {
      margin: 0 0 8px;
      font-size: 15px;
      letter-spacing: 0.04em;
      color: #f1f5f9;
    }
    .tutorial-overlay__body {
      margin: 0 0 14px;
      font-size: 13px;
      line-height: 1.5;
      color: #cbd5f5;
    }
    .tutorial-overlay__actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
    .tutorial-overlay__btn {
      font: inherit;
      padding: 6px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
    }
    .tutorial-overlay__btn--primary {
      background: rgba(56, 189, 248, 0.25);
      border-color: rgba(56, 189, 248, 0.55);
      color: #f8fafc;
    }
    .tutorial-overlay__btn--primary:hover {
      background: rgba(56, 189, 248, 0.35);
    }
    .tutorial-overlay__btn--ghost {
      background: transparent;
      border-color: rgba(148, 163, 184, 0.35);
      color: rgba(203, 213, 225, 0.9);
    }
    .tutorial-overlay__btn--ghost:hover {
      border-color: rgba(203, 213, 225, 0.55);
    }
    @media (max-width: 768px) {
      .tutorial-overlay__tooltip {
        min-width: 200px;
        max-width: min(320px, calc(100vw - 24px));
        padding: 10px 12px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 12px;
      }
      .tutorial-overlay__progress {
        display: none !important;
      }
      .tutorial-overlay__title {
        display: none !important;
      }
      .tutorial-overlay__body {
        margin: 0;
        font-size: 12px;
        flex: 1;
        line-height: 1.4;
      }
      .tutorial-overlay__actions {
        flex-direction: column;
        gap: 6px;
        flex-shrink: 0;
      }
      .tutorial-overlay__btn {
        padding: 5px 10px;
        font-size: 10px;
        white-space: nowrap;
      }
    }
  `;
    document.head.appendChild(style);
  }
  var STYLE_ID;
  var init_highlight = __esm({
    "web/src/tutorial/highlight.ts"() {
      "use strict";
      init_state();
      STYLE_ID = "tutorial-overlay-style";
    }
  });

  // web/src/tutorial/storage.ts
  function getStorage() {
    try {
      if (typeof window === "undefined" || !window.localStorage) {
        return null;
      }
    } catch (err) {
      return null;
    }
    return window.localStorage;
  }
  function loadProgress(id) {
    const storage = getStorage();
    if (!storage) return null;
    try {
      const raw = storage.getItem(STORAGE_PREFIX + id);
      if (!raw) return null;
      const parsed = JSON.parse(raw);
      if (typeof parsed !== "object" || parsed === null || typeof parsed.stepIndex !== "number" || typeof parsed.completed !== "boolean" || typeof parsed.updatedAt !== "number") {
        return null;
      }
      return parsed;
    } catch (err) {
      return null;
    }
  }
  function saveProgress(id, progress) {
    const storage = getStorage();
    if (!storage) return;
    try {
      storage.setItem(STORAGE_PREFIX + id, JSON.stringify(progress));
    } catch (err) {
    }
  }
  function clearProgress(id) {
    const storage = getStorage();
    if (!storage) return;
    try {
      storage.removeItem(STORAGE_PREFIX + id);
    } catch (err) {
    }
  }
  var STORAGE_PREFIX;
  var init_storage = __esm({
    "web/src/tutorial/storage.ts"() {
      "use strict";
      STORAGE_PREFIX = "lsd:tutorial:";
    }
  });

  // web/src/tutorial/roles.ts
  function createRoles() {
    return {
      canvas: () => document.getElementById("cv"),
      shipSet: () => document.getElementById("ship-set"),
      shipSelect: () => document.getElementById("ship-select"),
      shipDelete: () => document.getElementById("ship-delete"),
      shipClear: () => document.getElementById("ship-clear"),
      shipSpeedSlider: () => document.getElementById("ship-speed-slider"),
      heatBar: () => document.getElementById("heat-bar-container"),
      speedMarker: () => document.getElementById("speed-marker"),
      missileSet: () => document.getElementById("missile-set"),
      missileSelect: () => document.getElementById("missile-select"),
      missileDelete: () => document.getElementById("missile-delete"),
      missileSpeedSlider: () => document.getElementById("missile-speed-slider"),
      missileAgroSlider: () => document.getElementById("missile-agro-slider"),
      missileAddRoute: () => document.getElementById("missile-add-route"),
      missileLaunch: () => document.getElementById("missile-launch"),
      routePrev: () => document.getElementById("route-prev"),
      routeNext: () => document.getElementById("route-next"),
      helpToggle: () => document.getElementById("help-toggle"),
      tutorialStart: () => document.getElementById("tutorial-start"),
      spawnBot: () => document.getElementById("spawn-bot")
    };
  }
  function getRoleElement(roles, role) {
    if (!role) return null;
    const resolver = roles[role];
    return resolver ? resolver() : null;
  }
  var init_roles = __esm({
    "web/src/tutorial/roles.ts"() {
      "use strict";
    }
  });

  // web/src/tutorial/engine.ts
  function createTutorialEngine({ id, bus, roles, steps }) {
    const highlighter = createHighlighter();
    let running = false;
    let paused = false;
    let currentIndex = -1;
    let currentStep = null;
    let cleanupCurrent = null;
    let renderCurrent = null;
    let lastSavedCompleted = false;
    let suppressPersistOnStop = false;
    const persistentListeners = [];
    persistentListeners.push(
      bus.on("help:visibleChanged", ({ visible }) => {
        if (!running) return;
        paused = Boolean(visible);
        if (paused) {
          highlighter.hide();
        } else {
          renderCurrent == null ? void 0 : renderCurrent();
        }
      })
    );
    function resolveTarget(step) {
      if (!step.target) {
        return null;
      }
      if (typeof step.target === "function") {
        return step.target();
      }
      return getRoleElement(roles, step.target);
    }
    function clampIndex(index) {
      if (steps.length === 0) return 0;
      if (!Number.isFinite(index) || index < 0) return 0;
      if (index >= steps.length) return steps.length - 1;
      return Math.floor(index);
    }
    function setStep(index) {
      var _a, _b;
      if (!running) return;
      if (steps.length === 0) {
        completeTutorial();
        return;
      }
      if (index < 0 || index >= steps.length) {
        completeTutorial();
        return;
      }
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      currentIndex = index;
      const step = steps[index];
      currentStep = step;
      persistProgress(index, false);
      bus.emit("tutorial:stepChanged", { id, stepIndex: index, total: steps.length });
      (_b = step.onEnter) == null ? void 0 : _b.call(step);
      const allowSkip = step.allowSkip !== false;
      const render = () => {
        var _a2;
        if (!running || paused) return;
        highlighter.show({
          target: resolveTarget(step),
          title: step.title,
          body: step.body,
          stepIndex: index,
          stepCount: steps.length,
          showNext: step.advance.kind === "manual",
          nextLabel: step.advance.kind === "manual" ? (_a2 = step.advance.nextLabel) != null ? _a2 : index === steps.length - 1 ? "Finish" : "Next" : void 0,
          onNext: step.advance.kind === "manual" ? advanceStep : void 0,
          showSkip: allowSkip,
          skipLabel: step.skipLabel,
          onSkip: allowSkip ? skipCurrentStep : void 0
        });
      };
      renderCurrent = render;
      render();
      if (step.advance.kind === "event") {
        const handler = (payload) => {
          if (!running || paused) return;
          if (step.advance.when && !step.advance.when(payload)) {
            return;
          }
          advanceTo(index + 1);
        };
        cleanupCurrent = bus.on(step.advance.event, handler);
        if (step.advance.check && step.advance.check()) {
          handler(void 0);
        }
      } else {
        cleanupCurrent = null;
      }
    }
    function advanceTo(nextIndex) {
      var _a;
      if (!running) return;
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      renderCurrent = null;
      if (nextIndex >= steps.length) {
        completeTutorial();
      } else {
        setStep(nextIndex);
      }
    }
    function advanceStep() {
      advanceTo(currentIndex + 1);
    }
    function skipCurrentStep() {
      if (!running) return;
      const nextIndex = currentIndex >= 0 ? currentIndex + 1 : 0;
      advanceTo(nextIndex);
    }
    function completeTutorial() {
      if (!running) return;
      suppressPersistOnStop = true;
      persistProgress(steps.length, true);
      bus.emit("tutorial:completed", { id });
      stop();
      suppressPersistOnStop = false;
    }
    function start(options) {
      const resume = (options == null ? void 0 : options.resume) !== false;
      if (running) {
        restart();
        return;
      }
      if (steps.length === 0) {
        return;
      }
      running = true;
      paused = false;
      suppressPersistOnStop = false;
      lastSavedCompleted = false;
      let startIndex = 0;
      if (resume) {
        const progress = loadProgress(id);
        if (progress && !progress.completed) {
          startIndex = clampIndex(progress.stepIndex);
        }
      } else {
        clearProgress(id);
      }
      bus.emit("tutorial:started", { id });
      setStep(startIndex);
    }
    function restart() {
      stop();
      start({ resume: false });
    }
    function stop() {
      var _a;
      const shouldPersist = !suppressPersistOnStop && running && !lastSavedCompleted && currentIndex >= 0 && currentIndex < steps.length;
      const indexToPersist = currentIndex;
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      if (shouldPersist) {
        persistProgress(indexToPersist, false);
      }
      running = false;
      paused = false;
      currentIndex = -1;
      renderCurrent = null;
      highlighter.hide();
    }
    function isRunning() {
      return running;
    }
    function destroy() {
      stop();
      for (const dispose of persistentListeners) {
        dispose();
      }
      highlighter.destroy();
    }
    function persistProgress(stepIndex, completed) {
      lastSavedCompleted = completed;
      saveProgress(id, {
        stepIndex,
        completed,
        updatedAt: Date.now()
      });
    }
    return {
      start,
      restart,
      stop,
      isRunning,
      destroy
    };
  }
  var init_engine = __esm({
    "web/src/tutorial/engine.ts"() {
      "use strict";
      init_highlight();
      init_storage();
      init_roles();
    }
  });

  // web/src/tutorial/steps_basic.ts
  function hasWaypointIndexAtLeast(payload, minIndex) {
    if (typeof payload !== "object" || payload === null) return false;
    const index = payload.index;
    if (typeof index !== "number" || !Number.isFinite(index)) return false;
    return index >= minIndex;
  }
  function extractRouteId(payload) {
    if (typeof payload !== "object" || payload === null) return null;
    const routeId = payload.routeId;
    return typeof routeId === "string" ? routeId : null;
  }
  function payloadToolEquals(target) {
    return (payload) => {
      if (typeof payload !== "object" || payload === null) return false;
      const tool = payload.tool;
      return typeof tool === "string" && tool === target;
    };
  }
  function getBasicTutorialSteps() {
    let routeSwitchesSinceEnter = 0;
    let initialRouteId = null;
    let newRouteId = null;
    return [
      {
        id: "ship-plot-route",
        target: "canvas",
        title: "Plot a route",
        body: "Click on the map to drop at least three waypoints and sketch your course.",
        advance: {
          kind: "event",
          event: "ship:waypointAdded",
          when: (payload) => hasWaypointIndexAtLeast(payload, 2)
        }
      },
      {
        id: "ship-change-speed",
        target: "shipSpeedSlider",
        title: "Adjust ship speed",
        body: "Use the Ship Speed slider (or press [ / ]) to fine-tune your travel speed.",
        advance: {
          kind: "event",
          event: "ship:speedChanged"
        }
      },
      {
        id: "ship-select-leg",
        target: "shipSelect",
        title: "Select a route leg",
        body: "Switch to Select mode (T key) and then click a waypoint on the map to highlight its leg.",
        advance: {
          kind: "event",
          event: "ship:legSelected",
          when: (payload) => hasWaypointIndexAtLeast(payload, 0)
        }
      },
      {
        id: "heat-match-marker",
        target: "speedMarker",
        title: "Match the marker",
        body: "Line up the Ship Speed slider with the tick to cruise at the neutral heat speed.",
        advance: {
          kind: "event",
          event: "heat:markerAligned"
        },
        allowSkip: false
      },
      {
        id: "heat-push-hot",
        target: "heatBar",
        title: "Sprint into the red",
        body: "Push the throttle above the marker and watch the heat bar reach the warning band.",
        advance: {
          kind: "event",
          event: "heat:warnEntered"
        },
        allowSkip: false
      },
      {
        id: "heat-cool-down",
        target: "heatBar",
        title: "Cool it back down",
        body: "Ease off below the marker until the bar drops out of the warning zone.",
        advance: {
          kind: "event",
          event: "heat:cooledBelowWarn"
        },
        allowSkip: false
      },
      {
        id: "heat-trigger-stall",
        target: "heatBar",
        title: "Trigger a stall",
        body: "Push well above the limit and hold it until the overheat stall overlay appears.",
        advance: {
          kind: "event",
          event: "heat:stallTriggered"
        },
        allowSkip: false
      },
      {
        id: "heat-recover-stall",
        target: "heatBar",
        title: "Recover from the stall",
        body: "Hold steady while systems cool. Once the overlay clears, you\u2019re back online.",
        advance: {
          kind: "event",
          event: "heat:stallRecovered"
        },
        allowSkip: false
      },
      {
        id: "heat-dual-bars",
        target: "heatBar",
        title: "Read both heat bars",
        body: "Adjust a waypoint to make the planned bar extend past live heat. Use it to predict future overloads.",
        advance: {
          kind: "event",
          event: "heat:dualMeterDiverged"
        },
        allowSkip: false
      },
      {
        id: "ship-delete-leg",
        target: "shipDelete",
        title: "Delete a route leg",
        body: "Remove the selected waypoint using the Delete control or the Delete key.",
        advance: {
          kind: "event",
          event: "ship:waypointDeleted"
        }
      },
      {
        id: "ship-clear-route",
        target: "shipClear",
        title: "Clear the route",
        body: "Clear remaining waypoints to reset your plotted course.",
        advance: {
          kind: "event",
          event: "ship:clearInvoked"
        }
      },
      {
        id: "missile-set-mode",
        target: "missileSet",
        title: "Switch to missile planning",
        body: "Tap Set so every click drops missile waypoints on the active route.",
        advance: {
          kind: "event",
          event: "missile:toolChanged",
          when: payloadToolEquals("set")
        }
      },
      {
        id: "missile-plot-initial",
        target: "canvas",
        title: "Plot missile waypoints",
        body: "Click the map to drop at least two guidance points for the current missile route.",
        advance: {
          kind: "event",
          event: "missile:waypointAdded",
          when: (payload) => {
            if (!hasWaypointIndexAtLeast(payload, 1)) return false;
            const routeId = extractRouteId(payload);
            if (routeId) {
              initialRouteId = routeId;
            }
            return true;
          }
        }
      },
      {
        id: "missile-launch-initial",
        target: "missileLaunch",
        title: "Launch the strike",
        body: "Send the planned missile route live with the Launch control (L key).",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!routeId) return true;
            if (!initialRouteId) {
              initialRouteId = routeId;
              return true;
            }
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "missile-add-route",
        target: "missileAddRoute",
        title: "Create a new missile route",
        body: "Press New to add a second missile route for another strike group.",
        advance: {
          kind: "event",
          event: "missile:routeAdded",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!routeId) return false;
            newRouteId = routeId;
            return true;
          }
        }
      },
      {
        id: "missile-plot-new-route",
        target: "canvas",
        title: "Plot the new missile route",
        body: "Drop at least two waypoints on the new route to define its path.",
        advance: {
          kind: "event",
          event: "missile:waypointAdded",
          when: (payload) => {
            if (!hasWaypointIndexAtLeast(payload, 1)) return false;
            const routeId = extractRouteId(payload);
            if (newRouteId && routeId && routeId !== newRouteId) {
              return false;
            }
            if (!newRouteId && routeId) {
              newRouteId = routeId;
            }
            return true;
          }
        }
      },
      {
        id: "missile-launch-new-route",
        target: "missileLaunch",
        title: "Launch the new route",
        body: "Launch the fresh missile route to confirm its pattern.",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!newRouteId || !routeId) return true;
            return routeId === newRouteId;
          }
        }
      },
      {
        id: "missile-switch-route",
        target: "routeNext",
        title: "Switch back to the original route",
        body: "Use the \u25C0 \u25B6 controls (or Tab/Shift+Tab) to select your first missile route again.",
        onEnter: () => {
          routeSwitchesSinceEnter = 0;
        },
        advance: {
          kind: "event",
          event: "missile:activeRouteChanged",
          when: (payload) => {
            routeSwitchesSinceEnter += 1;
            if (routeSwitchesSinceEnter < 1) return false;
            const routeId = extractRouteId(payload);
            if (!initialRouteId || !routeId) {
              return true;
            }
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "missile-launch-after-switch",
        target: "missileLaunch",
        title: "Launch from the other route",
        body: "Fire the original missile route to practice round-robin strikes.",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!initialRouteId || !routeId) return true;
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "tutorial-practice",
        target: "spawnBot",
        title: "Spawn a practice bot",
        body: "Use the Bot control to add a target and rehearse these maneuvers in real time.",
        advance: {
          kind: "event",
          event: "bot:spawnRequested"
        },
        allowSkip: false
      },
      {
        id: "tutorial-complete",
        target: null,
        title: "You\u2019re ready",
        body: "Great work. Reload the console or rejoin a room to revisit these drills.",
        advance: {
          kind: "manual",
          nextLabel: "Finish"
        },
        allowSkip: false
      }
    ];
  }
  var init_steps_basic = __esm({
    "web/src/tutorial/steps_basic.ts"() {
      "use strict";
    }
  });

  // web/src/tutorial/index.ts
  function mountTutorial(bus) {
    const roles = createRoles();
    const engine = createTutorialEngine({
      id: BASIC_TUTORIAL_ID,
      bus,
      roles,
      steps: getBasicTutorialSteps()
    });
    return {
      start(options) {
        engine.start(options);
      },
      restart() {
        engine.restart();
      },
      destroy() {
        engine.destroy();
      }
    };
  }
  var BASIC_TUTORIAL_ID;
  var init_tutorial = __esm({
    "web/src/tutorial/index.ts"() {
      "use strict";
      init_engine();
      init_roles();
      init_steps_basic();
      BASIC_TUTORIAL_ID = "ship-basics";
    }
  });

  // web/src/story/overlay.ts
  function createDialogueOverlay() {
    ensureStyles2();
    const overlay = document.createElement("div");
    overlay.className = "dialogue-overlay";
    overlay.setAttribute("aria-live", "polite");
    const consoleFrame = document.createElement("div");
    consoleFrame.className = "dialogue-console";
    const speakerLabel = document.createElement("div");
    speakerLabel.className = "dialogue-speaker";
    const textBlock = document.createElement("div");
    textBlock.className = "dialogue-text";
    const cursor = document.createElement("span");
    cursor.className = "dialogue-cursor";
    cursor.textContent = "_";
    const choicesList = document.createElement("ul");
    choicesList.className = "dialogue-choices hidden";
    const continueButton = document.createElement("button");
    continueButton.type = "button";
    continueButton.className = "dialogue-continue hidden";
    continueButton.textContent = "Continue";
    textBlock.append(cursor);
    consoleFrame.append(speakerLabel, textBlock, choicesList, continueButton);
    overlay.append(consoleFrame);
    document.body.appendChild(overlay);
    let visible = false;
    let typingHandle = null;
    let targetText = "";
    let renderedChars = 0;
    let activeContent = null;
    function clearTyping() {
      if (typingHandle !== null) {
        window.clearTimeout(typingHandle);
        typingHandle = null;
      }
    }
    function finishTyping(content) {
      var _a;
      renderedChars = targetText.length;
      updateText();
      clearTyping();
      (_a = content.onTextFullyRendered) == null ? void 0 : _a.call(content);
      if (!Array.isArray(content.choices) || content.choices.length === 0) {
        showContinue(content);
      }
    }
    function updateText() {
      const textToShow = targetText.slice(0, renderedChars);
      textBlock.innerHTML = "";
      const textNode = document.createElement("span");
      textNode.textContent = textToShow;
      textBlock.append(textNode, cursor);
      cursor.classList.toggle("hidden", !visible);
    }
    function renderChoices(content) {
      choicesList.innerHTML = "";
      const choices = Array.isArray(content.choices) ? content.choices : [];
      if (choices.length === 0) {
        choicesList.classList.add("hidden");
        return;
      }
      choicesList.classList.remove("hidden");
      choices.forEach((choice2, index) => {
        const item = document.createElement("li");
        const button = document.createElement("button");
        button.type = "button";
        button.dataset.choiceId = choice2.id;
        button.textContent = `${index + 1}. ${choice2.text}`;
        button.addEventListener("click", () => {
          var _a;
          (_a = content.onChoice) == null ? void 0 : _a.call(content, choice2.id);
        });
        item.append(button);
        choicesList.append(item);
      });
    }
    function showContinue(content) {
      var _a;
      if (!content.onContinue) {
        continueButton.classList.add("hidden");
        continueButton.onclick = null;
        return;
      }
      continueButton.textContent = (_a = content.continueLabel) != null ? _a : "Continue";
      continueButton.classList.remove("hidden");
      continueButton.onclick = () => {
        var _a2;
        (_a2 = content.onContinue) == null ? void 0 : _a2.call(content);
      };
    }
    function scheduleType(content) {
      clearTyping();
      const typingSpeed = clamp(Number(content.typingSpeedMs) || 18, 8, 64);
      const tick = () => {
        var _a;
        renderedChars = Math.min(renderedChars + 1, targetText.length);
        updateText();
        if (renderedChars >= targetText.length) {
          clearTyping();
          (_a = content.onTextFullyRendered) == null ? void 0 : _a.call(content);
          if (!Array.isArray(content.choices) || content.choices.length === 0) {
            showContinue(content);
          }
        } else {
          typingHandle = window.setTimeout(tick, typingSpeed);
        }
      };
      typingHandle = window.setTimeout(tick, typingSpeed);
    }
    function handleKeyDown(event) {
      var _a, _b;
      if (!visible || !activeContent) return;
      if (!Array.isArray(activeContent.choices) || activeContent.choices.length === 0) {
        if (event.key === " " || event.key === "Enter") {
          event.preventDefault();
          if (renderedChars < targetText.length) {
            finishTyping(activeContent);
          } else {
            (_a = activeContent.onContinue) == null ? void 0 : _a.call(activeContent);
          }
        }
        return;
      }
      const index = parseInt(event.key, 10);
      if (Number.isFinite(index) && index >= 1 && index <= activeContent.choices.length) {
        event.preventDefault();
        const choice2 = activeContent.choices[index - 1];
        (_b = activeContent.onChoice) == null ? void 0 : _b.call(activeContent, choice2.id);
        return;
      }
      if (event.key === "Enter" && renderedChars < targetText.length) {
        event.preventDefault();
        finishTyping(activeContent);
      }
    }
    function show(content) {
      var _a;
      activeContent = content;
      visible = true;
      overlay.classList.add("visible");
      overlay.dataset.intent = (_a = content.intent) != null ? _a : "factory";
      speakerLabel.textContent = content.speaker;
      targetText = content.text;
      renderedChars = 0;
      updateText();
      renderChoices(content);
      showContinue(content);
      scheduleType(content);
    }
    function hide() {
      visible = false;
      activeContent = null;
      overlay.classList.remove("visible");
      clearTyping();
      targetText = "";
      renderedChars = 0;
      textBlock.innerHTML = "";
      textBlock.append(cursor);
      choicesList.innerHTML = "";
      choicesList.classList.add("hidden");
      continueButton.classList.add("hidden");
      continueButton.onclick = null;
    }
    function destroy() {
      hide();
      document.removeEventListener("keydown", handleKeyDown);
      overlay.remove();
    }
    document.addEventListener("keydown", handleKeyDown);
    return {
      show,
      hide,
      destroy,
      isVisible() {
        return visible;
      }
    };
  }
  function ensureStyles2() {
    if (document.getElementById(STYLE_ID2)) {
      return;
    }
    const style = document.createElement("style");
    style.id = STYLE_ID2;
    style.textContent = `
    .dialogue-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      z-index: 60;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .dialogue-overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }
    .dialogue-console {
      min-width: 320px;
      max-width: min(520px, calc(100vw - 48px));
      background: rgba(6, 11, 16, 0.92);
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 12px;
      padding: 18px 20px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      box-shadow: 0 28px 64px rgba(2, 6, 16, 0.6);
      color: #e2e8f0;
      font-family: "IBM Plex Mono", "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .dialogue-overlay[data-intent="factory"] .dialogue-console {
      border-color: rgba(56, 189, 248, 0.45);
      box-shadow: 0 28px 64px rgba(13, 148, 136, 0.35);
    }
    .dialogue-overlay[data-intent="unit"] .dialogue-console {
      border-color: rgba(244, 114, 182, 0.45);
      box-shadow: 0 28px 64px rgba(236, 72, 153, 0.28);
    }
    .dialogue-speaker {
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.75);
    }
    .dialogue-text {
      min-height: 90px;
      font-size: 13px;
      line-height: 1.55;
      white-space: pre-wrap;
    }
    .dialogue-cursor {
      display: inline-block;
      margin-left: 4px;
      animation: dialogue-cursor-blink 1.2s steps(2, start) infinite;
    }
    .dialogue-cursor.hidden {
      display: none;
    }
    .dialogue-choices {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .dialogue-choices.hidden {
      display: none;
    }
    .dialogue-choices button,
    .dialogue-continue {
      font: inherit;
      text-align: left;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      background: rgba(24, 36, 48, 0.85);
      color: inherit;
      cursor: pointer;
      transition: background 0.18s ease, border-color 0.18s ease;
    }
    .dialogue-continue {
      text-align: center;
    }
    .dialogue-continue.hidden {
      display: none;
    }
    .dialogue-choices button:hover,
    .dialogue-choices button:focus-visible,
    .dialogue-continue:hover,
    .dialogue-continue:focus-visible {
      border-color: rgba(56, 189, 248, 0.55);
      background: rgba(30, 45, 60, 0.95);
      outline: none;
    }
    @keyframes dialogue-cursor-blink {
      0%, 50% { opacity: 1; }
      50.01%, 100% { opacity: 0; }
    }
  `;
    document.head.appendChild(style);
  }
  var STYLE_ID2;
  var init_overlay = __esm({
    "web/src/story/overlay.ts"() {
      "use strict";
      init_state();
      STYLE_ID2 = "dialogue-overlay-style";
    }
  });

  // web/src/story/controller.ts
  function createStoryController({ bus, overlay, state }) {
    const listeners = [];
    let tutorialTipElement = null;
    function handleNodeActivated({ nodeId, dialogue }) {
      console.log("[story] Node activated:", nodeId);
      if (!dialogue) {
        console.error("[story] No dialogue provided by server for:", nodeId);
        acknowledgeNode(nodeId, null);
        return;
      }
      const parts = nodeId.split(".");
      if (parts.length < 3 || parts[0] !== "story") {
        console.warn("[story] Invalid node ID format:", nodeId);
        return;
      }
      const chapter = parts[1];
      const node = parts.slice(2).join(".");
      showDialogueForNode(chapter, node, nodeId, dialogue);
    }
    function showDialogueForNode(chapter, node, fullNodeId, content) {
      if (content.tutorialTip) {
        showTutorialTip(content.tutorialTip);
      }
      const overlayContent = {
        speaker: content.speaker,
        text: content.text,
        intent: content.intent,
        continueLabel: content.continueLabel,
        typingSpeedMs: content.typingSpeedMs
      };
      if (content.choices && content.choices.length > 0) {
        overlayContent.choices = content.choices;
        overlayContent.onChoice = (choiceId) => {
          hideTutorialTip();
          overlay.hide();
          acknowledgeNode(fullNodeId, choiceId);
          bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
        };
      } else {
        overlayContent.onContinue = () => {
          hideTutorialTip();
          overlay.hide();
          acknowledgeNode(fullNodeId, null);
          bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
        };
      }
      if (content.autoAdvance) {
        overlayContent.onTextFullyRendered = () => {
          setTimeout(() => {
            hideTutorialTip();
            overlay.hide();
            acknowledgeNode(fullNodeId, null);
            bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
          }, content.autoAdvance.delayMs);
        };
      }
      overlay.show(overlayContent);
      bus.emit("dialogue:opened", { nodeId: node, chapterId: chapter });
    }
    function showTutorialTip(tip) {
      hideTutorialTip();
      const tipContainer = document.createElement("div");
      tipContainer.className = "story-tutorial-tip";
      tipContainer.innerHTML = `
      <div class="story-tutorial-tip-content">
        <div class="story-tutorial-tip-title">${escapeHtml(tip.title)}</div>
        <div class="story-tutorial-tip-text">${escapeHtml(tip.text)}</div>
      </div>
    `;
      document.body.appendChild(tipContainer);
      tutorialTipElement = tipContainer;
      ensureTutorialTipStyles();
    }
    function hideTutorialTip() {
      if (tutorialTipElement) {
        tutorialTipElement.remove();
        tutorialTipElement = null;
      }
    }
    function escapeHtml(text) {
      const div = document.createElement("div");
      div.textContent = text;
      return div.innerHTML;
    }
    function ensureTutorialTipStyles() {
      const styleId = "story-tutorial-tip-styles";
      if (document.getElementById(styleId)) {
        return;
      }
      const style = document.createElement("style");
      style.id = styleId;
      style.textContent = `
      .story-tutorial-tip {
        position: fixed;
        top: 80px;
        right: 20px;
        max-width: 320px;
        background: rgba(13, 148, 136, 0.95);
        border: 1px solid rgba(56, 189, 248, 0.6);
        border-radius: 8px;
        padding: 14px 16px;
        color: #e2e8f0;
        font-family: "IBM Plex Mono", "JetBrains Mono", ui-monospace, monospace;
        font-size: 12px;
        line-height: 1.5;
        z-index: 55;
        box-shadow: 0 8px 24px rgba(2, 6, 16, 0.5);
        animation: story-tip-slide-in 0.3s ease-out;
      }
      .story-tutorial-tip-title {
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #38bdf8;
        margin-bottom: 8px;
      }
      .story-tutorial-tip-text {
        color: #f1f5f9;
      }
      @keyframes story-tip-slide-in {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `;
      document.head.appendChild(style);
    }
    function acknowledgeNode(nodeId, choiceId) {
      const msg = {
        type: "dag_story_ack",
        node_id: nodeId
      };
      if (choiceId) {
        msg.choice_id = choiceId;
      }
      sendMessage(msg);
      console.log("[story] Acknowledged node:", nodeId, choiceId ? `(choice: ${choiceId})` : "");
    }
    function start() {
      var _a, _b;
      console.log("[story] Starting story controller");
      listeners.push(bus.on("story:nodeActivated", handleNodeActivated));
      if ((_a = state.story) == null ? void 0 : _a.activeNode) {
        console.log("[story] Found active story node on startup:", state.story.activeNode);
        handleNodeActivated({
          nodeId: state.story.activeNode,
          dialogue: (_b = state.story.dialogue) != null ? _b : void 0
        });
      }
    }
    function destroy() {
      hideTutorialTip();
      listeners.forEach((unsub) => unsub());
      listeners.length = 0;
    }
    return {
      start,
      destroy
    };
  }
  var init_controller = __esm({
    "web/src/story/controller.ts"() {
      "use strict";
      init_net();
    }
  });

  // web/src/story/index.ts
  function mountStory({ bus, state }) {
    const overlay = createDialogueOverlay();
    const controller = createStoryController({
      bus,
      overlay,
      state
    });
    controller.start();
    return {
      destroy() {
        controller.destroy();
        overlay.destroy();
      },
      reset() {
        console.warn("[story] reset() called but story is now server-driven");
      }
    };
  }
  var init_story = __esm({
    "web/src/story/index.ts"() {
      "use strict";
      init_overlay();
      init_controller();
    }
  });

  // web/src/start-gate.ts
  function getCtx() {
    const AC = window.AudioContext || window.webkitAudioContext;
    const ctx = window.LSD_AUDIO_CTX;
    return ctx instanceof AC ? ctx : null;
  }
  function ensureTopFrameMuteButton() {
    const topRight = document.getElementById("top-right");
    if (!topRight) return;
    if (topRight.querySelector("#mute-top")) return;
    const btn = document.createElement("button");
    btn.id = "mute-top";
    btn.className = "ghost-btn small";
    btn.setAttribute("aria-pressed", "false");
    btn.title = "Mute (M)";
    btn.textContent = "\u{1F507} Mute";
    topRight.appendChild(btn);
    muteMgr.attachButton(btn);
  }
  function waitForUserStart(opts = {}) {
    const { label = "Start Game", requestFullscreen = false, resumeAudio: resumeAudio2 } = opts;
    return new Promise((resolve) => {
      const overlay = document.createElement("div");
      overlay.id = "start-overlay";
      overlay.innerHTML = `
      <div id="start-container">
        <button id="start-btn" aria-label="${label}">${label}</button>
        <div style="margin-top:10px">
          <button id="mute-below-start" class="ghost-btn" aria-pressed="false" title="Mute (M)">\u{1F507} Mute</button>
        </div>
        <p> On mobile turn phone to landscape for best experience. </p>
      </div>
    `;
      document.body.appendChild(overlay);
      const style = document.createElement("style");
      style.textContent = `
      #start-overlay {
        position: fixed; inset: 0; display: flex; justify-content: center; align-items: center;
        background: radial-gradient(circle at center, rgba(0,0,0,0.6), rgba(0,0,0,0.9));
        z-index: 9999;
      }
      #start-container { text-align: center; }
      #start-btn {
        font-size: 2rem; padding: 1rem 2.5rem; border: 2px solid #fff; border-radius: 10px;
        background: transparent; color: #fff; cursor: pointer; transition: transform .12s ease, background .2s ease, color .2s ease;
      }
      #start-btn:hover { background: #fff; color: #000; transform: translateY(-1px); }
      #start-btn:active { transform: translateY(0); }
      #mute-below-start {
        font-size: 1rem; padding: .5rem 1rem; border-radius: 999px; border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(30, 41, 59, 0.72); color: #f8fafc;
      }
      .ghost-btn.small { padding: 4px 8px; font-size: 11px; }
    `;
      document.head.appendChild(style);
      const startBtn = overlay.querySelector("#start-btn");
      const muteBelowStart = overlay.querySelector("#mute-below-start");
      const topMute = document.getElementById("mute-top");
      if (topMute) muteMgr.attachButton(topMute);
      muteMgr.attachButton(muteBelowStart);
      muteMgr.enforceOnceWhenReady();
      const start = async () => {
        var _a, _b;
        try {
          await (resumeAudio2 == null ? void 0 : resumeAudio2());
        } catch (e) {
        }
        muteMgr.enforceOnceWhenReady();
        if (requestFullscreen) {
          try {
            await ((_b = (_a = document.documentElement).requestFullscreen) == null ? void 0 : _b.call(_a));
          } catch (e) {
          }
        }
        style.remove();
        overlay.remove();
        ensureTopFrameMuteButton();
        resolve();
      };
      startBtn.addEventListener("click", start, { once: true });
      overlay.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          start();
        }
      });
      startBtn.tabIndex = 0;
      startBtn.focus();
      ensureTopFrameMuteButton();
    });
  }
  var STORAGE_KEY, MuteManager, muteMgr;
  var init_start_gate = __esm({
    "web/src/start-gate.ts"() {
      "use strict";
      STORAGE_KEY = "lsd:muted";
      MuteManager = class {
        constructor() {
          this.buttons = [];
          this.enforcing = false;
          document.addEventListener("lsd:muteChanged", (e) => {
            var _a;
            const muted = !!((_a = e == null ? void 0 : e.detail) == null ? void 0 : _a.muted);
            this.applyUI(muted);
          });
        }
        isMuted() {
          return localStorage.getItem(STORAGE_KEY) === "1";
        }
        save(muted) {
          try {
            localStorage.setItem(STORAGE_KEY, muted ? "1" : "0");
          } catch (e) {
          }
        }
        label(btn, muted) {
          btn.setAttribute("aria-pressed", String(muted));
          btn.title = muted ? "Unmute (M)" : "Mute (M)";
          btn.textContent = muted ? "\u{1F508} Unmute" : "\u{1F507} Mute";
        }
        applyUI(muted) {
          this.buttons.forEach((b) => this.label(b, muted));
        }
        attachButton(btn) {
          this.buttons.push(btn);
          this.label(btn, this.isMuted());
          btn.addEventListener("click", () => this.toggle());
        }
        async setMuted(muted) {
          this.save(muted);
          this.applyUI(muted);
          const ctx = getCtx();
          if (ctx) {
            try {
              if (muted && ctx.state !== "suspended") {
                await ctx.suspend();
              } else if (!muted && ctx.state !== "running") {
                await ctx.resume();
              }
            } catch (e) {
              console.warn("[audio] mute toggle failed:", e);
            }
          }
          document.dispatchEvent(new CustomEvent("lsd:muteChanged", { detail: { muted } }));
        }
        toggle() {
          this.setMuted(!this.isMuted());
        }
        // If ctx isn't created until after Start, enforce persisted state once available
        enforceOnceWhenReady() {
          if (this.enforcing) return;
          this.enforcing = true;
          const tick = () => {
            const ctx = getCtx();
            if (!ctx) {
              requestAnimationFrame(tick);
              return;
            }
            this.setMuted(this.isMuted());
          };
          tick();
        }
      };
      muteMgr = new MuteManager();
      (function installMuteHotkey() {
        window.addEventListener("keydown", (e) => {
          var _a;
          if (((_a = e.key) == null ? void 0 : _a.toLowerCase()) === "m") {
            e.preventDefault();
            muteMgr.toggle();
          }
        });
      })();
    }
  });

  // web/src/audio/engine.ts
  function makePRNG(seed) {
    let s = seed >>> 0 || 1;
    return function() {
      s += 1831565813;
      let t = Math.imul(s ^ s >>> 15, 1 | s);
      t ^= t + Math.imul(t ^ t >>> 7, 61 | t);
      return ((t ^ t >>> 14) >>> 0) / 4294967296;
    };
  }
  var _AudioEngine, AudioEngine;
  var init_engine2 = __esm({
    "web/src/audio/engine.ts"() {
      "use strict";
      _AudioEngine = class _AudioEngine {
        constructor() {
          this._targetMaster = 0.9;
          this._targetMusic = 0.9;
          this._targetSfx = 0.9;
          this.ctx = new AudioContext();
          window.LSD_AUDIO_CTX = this.ctx;
          this.master = new GainNode(this.ctx, { gain: this._targetMaster });
          this.musicBus = new GainNode(this.ctx, { gain: this._targetMusic });
          this.sfxBus = new GainNode(this.ctx, { gain: this._targetSfx });
          this.musicBus.connect(this.master);
          this.sfxBus.connect(this.master);
          this.master.connect(this.ctx.destination);
        }
        static get() {
          if (!this._inst) this._inst = new _AudioEngine();
          return this._inst;
        }
        get now() {
          return this.ctx.currentTime;
        }
        getMusicBus() {
          return this.musicBus;
        }
        getSfxBus() {
          return this.sfxBus;
        }
        async resume() {
          if (this.ctx.state === "suspended") {
            await this.ctx.resume();
          }
        }
        async suspend() {
          if (this.ctx.state === "running") {
            await this.ctx.suspend();
          }
        }
        setMasterGain(v, t = this.now, ramp = 0.03) {
          this._targetMaster = v;
          this.master.gain.cancelScheduledValues(t);
          this.master.gain.linearRampToValueAtTime(v, t + ramp);
        }
        setMusicGain(v, t = this.now, ramp = 0.03) {
          this._targetMusic = v;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(v, t + ramp);
        }
        setSfxGain(v, t = this.now, ramp = 0.03) {
          this._targetSfx = v;
          this.sfxBus.gain.cancelScheduledValues(t);
          this.sfxBus.gain.linearRampToValueAtTime(v, t + ramp);
        }
        duckMusic(level = 0.4, attack = 0.05) {
          const t = this.now;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(level, t + attack);
        }
        unduckMusic(release = 0.25) {
          const t = this.now;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(this._targetMusic, t + release);
        }
      };
      _AudioEngine._inst = null;
      AudioEngine = _AudioEngine;
    }
  });

  // web/src/audio/graph.ts
  function osc(ctx, type, freq) {
    return new OscillatorNode(ctx, { type, frequency: freq });
  }
  function noise(ctx) {
    const buffer = ctx.createBuffer(1, ctx.sampleRate * 2, ctx.sampleRate);
    const data = buffer.getChannelData(0);
    for (let i = 0; i < data.length; i++) data[i] = Math.random() * 2 - 1;
    return new AudioBufferSourceNode(ctx, { buffer, loop: true });
  }
  function makePanner(ctx, pan = 0) {
    return new StereoPannerNode(ctx, { pan });
  }
  function adsr(ctx, param, t0, a = 0.01, d = 0.08, s = 0.5, r = 0.2, peak = 1) {
    param.cancelScheduledValues(t0);
    param.setValueAtTime(0, t0);
    param.linearRampToValueAtTime(peak, t0 + a);
    param.linearRampToValueAtTime(s * peak, t0 + a + d);
    return (releaseAt = ctx.currentTime) => {
      param.cancelScheduledValues(releaseAt);
      param.setValueAtTime(param.value, releaseAt);
      param.linearRampToValueAtTime(1e-4, releaseAt + r);
    };
  }
  var init_graph = __esm({
    "web/src/audio/graph.ts"() {
      "use strict";
    }
  });

  // web/src/audio/sfx.ts
  function playSfx(engine, name, opts = {}) {
    switch (name) {
      case "laser":
        return playLaser(engine, opts);
      case "thrust":
        return playThrust(engine, opts);
      case "explosion":
        return playExplosion(engine, opts);
      case "lock":
        return playLock(engine, opts);
      case "ui":
        return playUi(engine, opts);
      case "dialogue":
        return playDialogue(engine, opts);
    }
  }
  function playLaser(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const o = osc(ctx, "square", 680 + 160 * velocity);
    const f = new BiquadFilterNode(ctx, { type: "lowpass", frequency: 1200 });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 2e-3, 0.03, 0.25, 0.08, 0.65);
    o.start(now);
    release(now + 0.06);
    o.stop(now + 0.2);
  }
  function playThrust(engine, { velocity = 0.6, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const n = noise(ctx);
    const f = new BiquadFilterNode(ctx, {
      type: "bandpass",
      frequency: 180 + 360 * velocity,
      Q: 1.1
    });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    n.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 0.012, 0.15, 0.75, 0.25, 0.45 * velocity);
    n.start(now);
    release(now + 0.25);
    n.stop(now + 1);
  }
  function playExplosion(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const n = noise(ctx);
    const f = new BiquadFilterNode(ctx, {
      type: "lowpass",
      frequency: 2200 * Math.max(0.2, Math.min(velocity, 1)),
      Q: 0.2
    });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    n.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 5e-3, 0.08, 0.5, 0.35, 1.1 * velocity);
    n.start(now);
    release(now + 0.15 + 0.1 * velocity);
    n.stop(now + 1.2);
  }
  function playLock(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const base = 520 + 140 * velocity;
    const o1 = osc(ctx, "sine", base);
    const o2 = osc(ctx, "sine", base * 1.5);
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o1.connect(g);
    o2.connect(g);
    g.connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 1e-3, 0.02, 0, 0.12, 0.6);
    o1.start(now);
    o2.start(now + 0.02);
    release(now + 0.06);
    o1.stop(now + 0.2);
    o2.stop(now + 0.22);
  }
  function playUi(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const o = osc(ctx, "triangle", 880 - 120 * velocity);
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o.connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 1e-3, 0.04, 0, 0.08, 0.35);
    o.start(now);
    release(now + 0.05);
    o.stop(now + 0.18);
  }
  function playDialogue(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const freq = 480 + 160 * velocity;
    const o = osc(ctx, "sine", freq);
    const g = new GainNode(ctx, { gain: 1e-4 });
    const p = makePanner(ctx, pan);
    o.connect(g).connect(p).connect(out);
    g.gain.setValueAtTime(1e-4, now);
    g.gain.exponentialRampToValueAtTime(0.04, now + 0.02);
    g.gain.exponentialRampToValueAtTime(5e-4, now + 0.28);
    o.start(now);
    o.stop(now + 0.3);
  }
  var init_sfx = __esm({
    "web/src/audio/sfx.ts"() {
      "use strict";
      init_graph();
    }
  });

  // web/src/story/sfx.ts
  async function resumeAudio() {
    await AudioEngine.get().resume();
  }
  var init_sfx2 = __esm({
    "web/src/story/sfx.ts"() {
      "use strict";
      init_engine2();
      init_sfx();
    }
  });

  // web/src/audio/music/scenes/ambient.ts
  var MODES, ROOT_MAX_GAIN, ROOT_SWELL_TIME, DRONE_SHIFT_MIN_S, DRONE_SHIFT_MAX_S, DRONE_GLIDE_MIN_S, DRONE_GLIDE_MAX_S, CHORD_VOICES_MAX, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S, CHORD_HOLD_MIN_S, CHORD_HOLD_MAX_S, CHORD_GAP_MIN_S, CHORD_GAP_MAX_S, CHORD_ANCHOR_PROB, FILTER_BASE_HZ, FILTER_PEAK_HZ, SWEEP_SEG_S, LFO_RATE_HZ, LFO_DEPTH_HZ, DELAY_TIME_S, FEEDBACK_GAIN, WET_MIX, PREFERRED_DEGREE_ORDER, clamp01, rand, choice, midiToFreq, Voice, AmbientScene;
  var init_ambient = __esm({
    "web/src/audio/music/scenes/ambient.ts"() {
      "use strict";
      init_engine2();
      MODES = {
        Ionian: [0, 2, 4, 5, 7, 9, 11],
        Dorian: [0, 2, 3, 5, 7, 9, 10],
        Phrygian: [0, 1, 3, 5, 7, 8, 10],
        Lydian: [0, 2, 4, 6, 7, 9, 11],
        Mixolydian: [0, 2, 4, 5, 7, 9, 10],
        Aeolian: [0, 2, 3, 5, 7, 8, 10],
        Locrian: [0, 1, 3, 5, 6, 8, 10]
      };
      ROOT_MAX_GAIN = 0.33;
      ROOT_SWELL_TIME = 20;
      DRONE_SHIFT_MIN_S = 24;
      DRONE_SHIFT_MAX_S = 48;
      DRONE_GLIDE_MIN_S = 8;
      DRONE_GLIDE_MAX_S = 15;
      CHORD_VOICES_MAX = 5;
      CHORD_FADE_MIN_S = 8;
      CHORD_FADE_MAX_S = 16;
      CHORD_HOLD_MIN_S = 10;
      CHORD_HOLD_MAX_S = 22;
      CHORD_GAP_MIN_S = 4;
      CHORD_GAP_MAX_S = 9;
      CHORD_ANCHOR_PROB = 0.6;
      FILTER_BASE_HZ = 220;
      FILTER_PEAK_HZ = 4200;
      SWEEP_SEG_S = 30;
      LFO_RATE_HZ = 0.05;
      LFO_DEPTH_HZ = 900;
      DELAY_TIME_S = 0.45;
      FEEDBACK_GAIN = 0.35;
      WET_MIX = 0.28;
      PREFERRED_DEGREE_ORDER = [0, 4, 2, 5, 1, 3, 6];
      clamp01 = (x) => Math.max(0, Math.min(1, x));
      rand = (rng, a, b) => a + rng() * (b - a);
      choice = (rng, arr) => arr[Math.floor(rng() * arr.length)];
      midiToFreq = (m) => 440 * Math.pow(2, (m - 69) / 12);
      Voice = class {
        constructor(ctx, targetGain, waveform, freqHz, destination, rng) {
          this.ctx = ctx;
          this.targetGain = targetGain;
          this.killed = false;
          this.osc = new OscillatorNode(ctx, { type: waveform, frequency: freqHz });
          this.shimmer = new OscillatorNode(ctx, { type: "sine", frequency: rand(rng, 0.06, 0.18) });
          this.shimmerGain = new GainNode(ctx, { gain: rand(rng, 0.4, 1.2) });
          this.scale = new GainNode(ctx, { gain: 25 });
          this.shimmer.connect(this.shimmerGain).connect(this.scale).connect(this.osc.detune);
          this.g = new GainNode(ctx, { gain: 0 });
          this.osc.connect(this.g).connect(destination);
          this.osc.start();
          this.shimmer.start();
        }
        fadeIn(seconds) {
          const now = this.ctx.currentTime;
          this.g.gain.cancelScheduledValues(now);
          this.g.gain.setValueAtTime(this.g.gain.value, now);
          this.g.gain.linearRampToValueAtTime(this.targetGain, now + seconds);
        }
        fadeOutKill(seconds) {
          if (this.killed) return;
          this.killed = true;
          const now = this.ctx.currentTime;
          this.g.gain.cancelScheduledValues(now);
          this.g.gain.setValueAtTime(this.g.gain.value, now);
          this.g.gain.linearRampToValueAtTime(1e-4, now + seconds);
          setTimeout(() => this.stop(), seconds * 1e3 + 60);
        }
        setFreqGlide(targetHz, glideSeconds) {
          const now = this.ctx.currentTime;
          const current = Math.max(1e-4, this.osc.frequency.value);
          this.osc.frequency.cancelScheduledValues(now);
          try {
            this.osc.frequency.setValueAtTime(current, now);
            this.osc.frequency.exponentialRampToValueAtTime(targetHz, now + glideSeconds);
          } catch (e) {
            this.osc.frequency.linearRampToValueAtTime(targetHz, now + glideSeconds);
          }
        }
        stop() {
          try {
            this.osc.stop();
            this.shimmer.stop();
          } catch (e) {
          }
          try {
            this.osc.disconnect();
            this.shimmer.disconnect();
            this.g.disconnect();
            this.shimmerGain.disconnect();
            this.scale.disconnect();
          } catch (e) {
          }
        }
      };
      AmbientScene = class {
        constructor(ctx, out, seed = 1) {
          this.ctx = ctx;
          this.out = out;
          this.running = false;
          this.stopFns = [];
          this.timeouts = [];
          this.params = { intensity: 0.75, brightness: 0.5, density: 0.6 };
          // musical state
          this.keyRootMidi = 43;
          this.mode = "Ionian";
          this.droneDegreeIdx = 0;
          this.rootVoice = null;
          this.rng = makePRNG(seed);
        }
        setParam(k, v) {
          this.params[k] = clamp01(v);
          if (this.running && k === "intensity" && this.master) {
            this.master.gain.value = 0.15 + 0.85 * this.params.intensity;
          }
        }
        start() {
          if (this.running) return;
          this.running = true;
          this.master = new GainNode(this.ctx, { gain: 0.15 + 0.85 * this.params.intensity });
          this.filter = new BiquadFilterNode(this.ctx, { type: "lowpass", Q: 0.707 });
          this.dry = new GainNode(this.ctx, { gain: 1 });
          this.wet = new GainNode(this.ctx, { gain: WET_MIX });
          this.delay = new DelayNode(this.ctx, { delayTime: DELAY_TIME_S, maxDelayTime: 2 });
          this.feedback = new GainNode(this.ctx, { gain: FEEDBACK_GAIN });
          this.filter.connect(this.dry).connect(this.master);
          this.filter.connect(this.delay);
          this.delay.connect(this.feedback).connect(this.delay);
          this.delay.connect(this.wet).connect(this.master);
          this.master.connect(this.out);
          this.filter.frequency.setValueAtTime(FILTER_BASE_HZ, this.ctx.currentTime);
          const sweep = () => {
            const t = this.ctx.currentTime;
            this.filter.frequency.cancelScheduledValues(t);
            this.filter.frequency.setTargetAtTime(
              FILTER_BASE_HZ + (FILTER_PEAK_HZ - FILTER_BASE_HZ) * (0.4 + 0.6 * this.params.brightness),
              t,
              SWEEP_SEG_S / 3
            );
            this.filter.frequency.setTargetAtTime(
              FILTER_BASE_HZ * (0.7 + 0.3 * this.params.brightness),
              t + SWEEP_SEG_S,
              SWEEP_SEG_S / 3
            );
            this.timeouts.push(window.setTimeout(() => this.running && sweep(), SWEEP_SEG_S * 2 * 1e3));
          };
          sweep();
          this.lfoNode = new OscillatorNode(this.ctx, { type: "sine", frequency: LFO_RATE_HZ });
          this.lfoGain = new GainNode(this.ctx, { gain: LFO_DEPTH_HZ * (0.5 + 0.5 * this.params.brightness) });
          this.lfoNode.connect(this.lfoGain).connect(this.filter.frequency);
          this.lfoNode.start();
          this.spawnRootDrone();
          this.scheduleNextDroneMove();
          this.chordCycle();
          this.stopFns.push(() => {
            var _a;
            try {
              (_a = this.lfoNode) == null ? void 0 : _a.stop();
            } catch (e) {
            }
            [this.master, this.filter, this.dry, this.wet, this.delay, this.feedback, this.lfoNode, this.lfoGain].forEach((n) => {
              try {
                n == null ? void 0 : n.disconnect();
              } catch (e) {
              }
            });
          });
        }
        stop() {
          if (!this.running) return;
          this.running = false;
          this.timeouts.splice(0).forEach((id) => window.clearTimeout(id));
          if (this.rootVoice) this.rootVoice.fadeOutKill(1.2);
          this.stopFns.splice(0).forEach((fn) => fn());
        }
        /* ------------------------- Musical engine below ------------------------- */
        currentDegrees() {
          return MODES[this.mode] || MODES.Lydian;
        }
        /** Drone root voice */
        spawnRootDrone() {
          const baseMidi = this.keyRootMidi + this.currentDegrees()[this.droneDegreeIdx];
          const v = new Voice(
            this.ctx,
            ROOT_MAX_GAIN,
            "sine",
            midiToFreq(baseMidi),
            this.filter,
            this.rng
          );
          v.fadeIn(ROOT_SWELL_TIME);
          this.rootVoice = v;
        }
        scheduleNextDroneMove() {
          if (!this.running) return;
          const waitMs = rand(this.rng, DRONE_SHIFT_MIN_S, DRONE_SHIFT_MAX_S) * 1e3;
          const id = window.setTimeout(() => {
            if (!this.running || !this.rootVoice) return;
            const glide = rand(this.rng, DRONE_GLIDE_MIN_S, DRONE_GLIDE_MAX_S);
            const nextIdx = this.pickNextDroneDegreeIdx();
            const targetMidi = this.keyRootMidi + this.currentDegrees()[nextIdx];
            this.rootVoice.setFreqGlide(midiToFreq(targetMidi), glide);
            this.droneDegreeIdx = nextIdx;
            this.scheduleNextDroneMove();
          }, waitMs);
          this.timeouts.push(id);
        }
        pickNextDroneDegreeIdx() {
          const order = [...PREFERRED_DEGREE_ORDER];
          const i = order.indexOf(this.droneDegreeIdx);
          if (i >= 0) {
            const [cur] = order.splice(i, 1);
            order.push(cur);
          }
          return choice(this.rng, order);
        }
        /** Build diatonic stacked-third chord degrees with optional extensions */
        buildChordDegrees(modeDegs, rootIndex, size = 4, add9 = false, add11 = false, add13 = false) {
          const steps = [0, 2, 4, 6];
          const chordIdxs = steps.slice(0, Math.min(size, 4)).map((s) => (rootIndex + s) % 7);
          if (add9) chordIdxs.push((rootIndex + 8) % 7);
          if (add11) chordIdxs.push((rootIndex + 10) % 7);
          if (add13) chordIdxs.push((rootIndex + 12) % 7);
          return chordIdxs.map((i) => modeDegs[i]);
        }
        *endlessChords() {
          while (true) {
            const modeDegs = this.currentDegrees();
            const rootDegreeIndex = this.rng() < CHORD_ANCHOR_PROB ? this.droneDegreeIdx : Math.floor(this.rng() * 7);
            const r = this.rng();
            let size = 3;
            let add9 = false, add11 = false, add13 = false;
            if (r < 0.35) {
              size = 3;
            } else if (r < 0.75) {
              size = 4;
            } else if (r < 0.9) {
              size = 4;
              add9 = true;
            } else if (r < 0.97) {
              size = 4;
              add11 = true;
            } else {
              size = 4;
              add13 = true;
            }
            const chordSemis = this.buildChordDegrees(modeDegs, rootDegreeIndex, size, add9, add11, add13);
            const spread = chordSemis.map((semi) => semi + choice(this.rng, [-12, 0, 0, 12]));
            if (!spread.includes(0) && this.rng() < 0.5) spread.push(0);
            yield spread;
          }
        }
        async chordCycle() {
          var _a;
          const gen = this.endlessChords();
          const voices = /* @__PURE__ */ new Set();
          const sleep = (ms) => new Promise((r) => {
            const id = window.setTimeout(() => r(), ms);
            this.timeouts.push(id);
          });
          while (this.running) {
            const thickness = Math.round(2 + this.params.density * 3);
            const baseMidi = this.keyRootMidi;
            const degreesOff = (_a = gen.next().value) != null ? _a : [];
            for (const off of degreesOff) {
              if (!this.running) break;
              if (voices.size >= Math.min(CHORD_VOICES_MAX, thickness)) break;
              const midi = baseMidi + off;
              const freq = midiToFreq(midi);
              const waveform = choice(this.rng, ["sine", "triangle", "sawtooth"]);
              const gainTarget = rand(this.rng, 0.08, 0.22) * (0.85 + 0.3 * this.params.intensity) * (0.9 + 0.2 * this.params.brightness);
              const v = new Voice(this.ctx, gainTarget, waveform, freq, this.filter, this.rng);
              voices.add(v);
              v.fadeIn(rand(this.rng, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S));
            }
            await sleep(rand(this.rng, CHORD_HOLD_MIN_S, CHORD_HOLD_MAX_S) * 1e3);
            const outs = Array.from(voices);
            for (const v of outs) v.fadeOutKill(rand(this.rng, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S));
            voices.clear();
            await sleep(rand(this.rng, CHORD_GAP_MIN_S, CHORD_GAP_MAX_S) * 1e3);
          }
          for (const v of Array.from(voices)) v.fadeOutKill(0.8);
        }
      };
    }
  });

  // web/src/audio/music/index.ts
  var MusicDirector;
  var init_music = __esm({
    "web/src/audio/music/index.ts"() {
      "use strict";
      init_ambient();
      MusicDirector = class {
        constructor(engine) {
          this.engine = engine;
          this.busOut = new GainNode(engine.ctx, { gain: 0.9 });
          this.busOut.connect(engine.getMusicBus());
        }
        /** Crossfade to a new scene */
        setScene(name, opts) {
          var _a, _b;
          if (((_a = this.current) == null ? void 0 : _a.name) === name) return;
          const old = this.current;
          const t = this.engine.now;
          const fadeOut = new GainNode(this.engine.ctx, { gain: 0.9 });
          fadeOut.connect(this.engine.getMusicBus());
          if (old) {
            old.stop();
            fadeOut.gain.linearRampToValueAtTime(0, t + 0.6);
            setTimeout(() => fadeOut.disconnect(), 650);
          }
          const sceneOut = new GainNode(this.engine.ctx, { gain: 0 });
          sceneOut.connect(this.busOut);
          let stop = () => sceneOut.disconnect();
          if (name === "ambient") {
            const s = new AmbientScene(this.engine.ctx, sceneOut, (_b = opts == null ? void 0 : opts.seed) != null ? _b : 1);
            s.start();
            stop = () => {
              s.stop();
              sceneOut.disconnect();
            };
          }
          this.current = { name, stop };
          sceneOut.gain.linearRampToValueAtTime(0.9, t + 0.6);
        }
        stop() {
          if (!this.current) return;
          this.current.stop();
          this.current = void 0;
        }
      };
    }
  });

  // web/src/audio/cues.ts
  function registerAudioBusBindings(bus, engine, music) {
    bus.on("audio:resume", () => engine.resume());
    bus.on("audio:mute", () => engine.setMasterGain(0));
    bus.on("audio:unmute", () => engine.setMasterGain(0.9));
    bus.on(
      "audio:set-master-gain",
      ({ gain }) => engine.setMasterGain(Math.max(0, Math.min(1, gain)))
    );
    bus.on("audio:sfx", (msg) => {
      playSfx(engine, msg.name, { velocity: msg.velocity, pan: msg.pan });
    });
    bus.on("audio:music:set-scene", (msg) => {
      engine.resume();
      music.setScene(msg.scene, { seed: msg.seed });
    });
    bus.on("audio:music:param", (_msg) => {
    });
    bus.on("audio:music:transport", ({ cmd }) => {
      if (cmd === "stop" || cmd === "pause") music.stop();
    });
  }
  var init_cues = __esm({
    "web/src/audio/cues.ts"() {
      "use strict";
      init_sfx();
    }
  });

  // web/src/mission/controller.ts
  function mountMissionController({ state, bus, mode, missionId }) {
    if (mode !== "campaign") {
      return { destroy() {
      } };
    }
    const spec = missionId && CAMPAIGN_MISSIONS[missionId] ? CAMPAIGN_MISSIONS[missionId] : CAMPAIGN_MISSIONS["1"];
    if (!spec) {
      return { destroy() {
      } };
    }
    const storageKey = `${STORAGE_PREFIX2}${spec.id}`;
    let persisted = loadProgress2(storageKey);
    const completedBefore = persisted.beaconIndex >= spec.beacons.length;
    if (completedBefore) {
      persisted = { beaconIndex: 0, holdAccum: 0 };
      try {
        saveProgress2(storageKey, JSON.stringify(persisted));
      } catch (e) {
      }
    }
    let mission = {
      active: true,
      missionId: spec.id,
      beaconIndex: clampBeaconIndex(persisted.beaconIndex, spec.beacons.length),
      holdAccum: clampHold(persisted.holdAccum, spec.holdSeconds),
      holdRequired: spec.holdSeconds,
      beacons: []
    };
    let lastWorldKey = "";
    let lastPersistedJSON = completedBefore ? JSON.stringify(persisted) : "";
    let lastServerNow = null;
    state.mission = mission;
    bus.emit("mission:start");
    syncBeacons(state.worldMeta);
    function syncBeacons(meta) {
      const worldW = resolveWorldValue(meta == null ? void 0 : meta.w, spec.defaultWorldSize.w);
      const worldH = resolveWorldValue(meta == null ? void 0 : meta.h, spec.defaultWorldSize.h);
      const key = `${worldW.toFixed(2)}:${worldH.toFixed(2)}`;
      if (key === lastWorldKey && mission.beacons.length === spec.beacons.length) {
        return;
      }
      lastWorldKey = key;
      mission.beacons = spec.beacons.map((def) => ({
        cx: def.fx * worldW,
        cy: def.fy * worldH,
        radius: def.radius
      }));
    }
    function persist(force = false) {
      if (!mission.active && mission.beaconIndex >= mission.beacons.length) {
        const payload2 = JSON.stringify({ beaconIndex: mission.beaconIndex, holdAccum: 0 });
        if (!force && payload2 === lastPersistedJSON) return;
        lastPersistedJSON = payload2;
        saveProgress2(storageKey, payload2);
        return;
      }
      const payload = JSON.stringify({
        beaconIndex: mission.beaconIndex,
        holdAccum: clampHold(mission.holdAccum, mission.holdRequired)
      });
      if (!force && payload === lastPersistedJSON) return;
      lastPersistedJSON = payload;
      saveProgress2(storageKey, payload);
    }
    function computeDt(nowSec) {
      if (!Number.isFinite(nowSec)) {
        return 0;
      }
      if (lastServerNow === null || !Number.isFinite(lastServerNow)) {
        lastServerNow = nowSec;
        return 0;
      }
      const dt = nowSec - lastServerNow;
      lastServerNow = nowSec;
      if (!Number.isFinite(dt) || dt <= 0) {
        return 0;
      }
      return dt;
    }
    function isInsideBeacon(cx, cy, radius) {
      const me = state.me;
      if (!me) return false;
      const dx = me.x - cx;
      const dy = me.y - cy;
      const distSq = dx * dx + dy * dy;
      return distSq <= radius * radius;
    }
    function isStalled() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat) return false;
      const now = monotonicNow();
      return Number.isFinite(heat.stallUntilMs) && now < heat.stallUntilMs;
    }
    function lockCurrentBeacon() {
      const lockedIndex = mission.beaconIndex;
      bus.emit("mission:beacon-locked", { index: lockedIndex });
      mission.beaconIndex = Math.min(mission.beaconIndex + 1, mission.beacons.length);
      mission.holdAccum = 0;
      persist(true);
      if (mission.beaconIndex >= mission.beacons.length) {
        mission.active = false;
        persist(true);
        bus.emit("mission:completed");
      }
    }
    function resetHoldIfNeeded() {
      if (mission.holdAccum > 0) {
        mission.holdAccum = 0;
        persist();
      }
    }
    const unsubscribe = bus.on("state:updated", () => {
      if (!state.mission || !state.mission.active) {
        return;
      }
      mission = state.mission;
      syncBeacons(state.worldMeta);
      if (mission.beaconIndex >= mission.beacons.length) {
        mission.active = false;
        persist(true);
        bus.emit("mission:completed");
        return;
      }
      const beacon = mission.beacons[mission.beaconIndex];
      if (!beacon) {
        mission.active = false;
        persist(true);
        bus.emit("mission:completed");
        return;
      }
      const dt = computeDt(state.now);
      if (!state.me) {
        lastServerNow = state.now;
        resetHoldIfNeeded();
        return;
      }
      if (isInsideBeacon(beacon.cx, beacon.cy, beacon.radius) && !isStalled()) {
        const nextHold = Math.min(mission.holdRequired, mission.holdAccum + dt);
        if (Math.abs(nextHold - mission.holdAccum) > HOLD_EPSILON) {
          mission.holdAccum = nextHold;
          persist();
        }
        if (mission.holdAccum + HOLD_EPSILON >= mission.holdRequired) {
          lockCurrentBeacon();
        }
      } else {
        resetHoldIfNeeded();
      }
    });
    return {
      destroy() {
        unsubscribe();
      }
    };
  }
  function resolveWorldValue(value, fallback) {
    if (typeof value === "number" && Number.isFinite(value) && value > 0) {
      return value;
    }
    return fallback;
  }
  function clampBeaconIndex(index, total) {
    if (!Number.isFinite(index)) {
      return 0;
    }
    if (index < 0) return 0;
    if (index > total) return total;
    return Math.floor(index);
  }
  function clampHold(hold, holdRequired) {
    if (!Number.isFinite(hold) || hold < 0) return 0;
    if (hold > holdRequired) return holdRequired;
    return hold;
  }
  function loadProgress2(storageKey) {
    var _a;
    try {
      const raw = window.localStorage.getItem(storageKey);
      if (!raw) {
        return { beaconIndex: 0, holdAccum: 0 };
      }
      const parsed = JSON.parse(raw);
      if (!parsed) {
        return { beaconIndex: 0, holdAccum: 0 };
      }
      return {
        beaconIndex: clampBeaconIndex((_a = parsed.beaconIndex) != null ? _a : 0, Number.MAX_SAFE_INTEGER),
        holdAccum: typeof parsed.holdAccum === "number" ? Math.max(0, parsed.holdAccum) : 0
      };
    } catch (e) {
      return { beaconIndex: 0, holdAccum: 0 };
    }
  }
  function saveProgress2(storageKey, payload) {
    try {
      window.localStorage.setItem(storageKey, payload);
    } catch (e) {
    }
  }
  var STORAGE_PREFIX2, HOLD_EPSILON, CAMPAIGN_MISSIONS;
  var init_controller2 = __esm({
    "web/src/mission/controller.ts"() {
      "use strict";
      init_state();
      STORAGE_PREFIX2 = "lsd:mission:";
      HOLD_EPSILON = 1e-4;
      CAMPAIGN_MISSIONS = {
        "1": {
          id: "campaign-1",
          holdSeconds: 10,
          defaultWorldSize: { w: 32e3, h: 18e3 },
          beacons: [
            { fx: 0.15, fy: 0.55, radius: 420 },
            { fx: 0.4, fy: 0.5, radius: 360 },
            { fx: 0.65, fy: 0.47, radius: 300 },
            { fx: 0.85, fy: 0.44, radius: 260 }
          ]
        }
      };
    }
  });

  // web/src/upgrades.ts
  function initUpgradesPanel(state, bus) {
    const panel = createPanelElement();
    document.body.appendChild(panel);
    const container = panel.querySelector(".tech-tree-container");
    const closeBtn = panel.querySelector(".close-btn");
    const overlay = panel.querySelector(".panel-overlay");
    let lastSig = "";
    function computeSig(nodes) {
      return nodes.slice().sort((a, b) => a.id.localeCompare(b.id)).map((n) => `${n.id}:${n.status}`).join("|");
    }
    function renderUpgrades(force = false) {
      var _a;
      const all = ((_a = state.dag) == null ? void 0 : _a.nodes) || [];
      const upgradeNodes = all.filter((n) => n.kind === "unit" || n.id.startsWith("upgrade."));
      const sig = computeSig(upgradeNodes);
      if (!force && sig === lastSig) return;
      lastSig = sig;
      renderTechTree(upgradeNodes, container);
    }
    function togglePanel(visible) {
      panel.classList.toggle("visible", visible);
      if (visible) {
        renderUpgrades();
      }
    }
    bus.on("upgrades:toggle", () => {
      const next = !panel.classList.contains("visible");
      togglePanel(next);
      if (next) renderUpgrades(true);
    });
    bus.on("upgrades:show", () => {
      togglePanel(true);
      renderUpgrades(true);
    });
    bus.on("upgrades:hide", () => togglePanel(false));
    closeBtn.addEventListener("click", () => togglePanel(false));
    overlay.addEventListener("click", () => togglePanel(false));
    bus.on("state:updated", () => {
      if (panel.classList.contains("visible")) {
        renderUpgrades(false);
      }
    });
    container.addEventListener("click", (e) => {
      var _a;
      const nodeEl = e.target.closest("[data-node-id]");
      if (!nodeEl) return;
      const nodeId = nodeEl.getAttribute("data-node-id");
      const node = (_a = state.dag) == null ? void 0 : _a.nodes.find((n) => n.id === nodeId);
      if ((node == null ? void 0 : node.status) === "available") {
        sendDagStart(nodeId);
      }
    });
  }
  function createPanelElement() {
    const panel = document.createElement("div");
    panel.className = "upgrades-panel";
    panel.innerHTML = `
    <div class="panel-overlay"></div>
    <div class="panel-content">
      <div class="panel-header">
        <h2>Ship Upgrades</h2>
        <button class="close-btn">\xD7</button>
      </div>
      <div class="tech-tree-container"></div>
    </div>
  `;
    return panel;
  }
  function renderTechTree(nodes, container) {
    const sorted = nodes.slice().sort((a, b) => a.id.localeCompare(b.id));
    container.innerHTML = `
    <div class="tech-tree">
      ${sorted.length > 0 ? sorted.map(renderNode).join("") : '<div class="muted">No upgrades available</div>'}
    </div>
  `;
  }
  function effectTypeToString(t) {
    if (typeof t === "string") return t;
    if (typeof t === "number") {
      switch (t) {
        case 1 /* SPEED_MULTIPLIER */:
          return "speed_multiplier";
        case 2 /* MISSILE_UNLOCK */:
          return "missile_unlock";
        case 3 /* HEAT_CAPACITY */:
          return "heat_capacity";
        case 4 /* HEAT_EFFICIENCY */:
          return "heat_efficiency";
        default:
          return "unknown";
      }
    }
    return "unknown";
  }
  function renderNode(node) {
    var _a;
    const statusClass = `node-${node.status}`;
    const effectsHtml = ((_a = node.effects) == null ? void 0 : _a.map((e) => {
      const type = effectTypeToString(e.type);
      const value = e.value;
      const isShip = node.id.startsWith("upgrade.ship.");
      const isMissile = node.id.startsWith("upgrade.missile.");
      if (type === "missile_unlock") {
        return `Unlock ${value}`;
      }
      if (typeof value === "number") {
        const pct = (value - 1) * 100;
        const pctStr = Number.isFinite(pct) ? pct.toFixed(0) : "0";
        if (type === "speed_multiplier") {
          return isShip ? `+${pctStr}% Ship Speed` : isMissile ? `+${pctStr}% Missile Speed` : `+${pctStr}% Speed`;
        }
        if (type === "heat_capacity") {
          return isShip ? `+${pctStr}% Ship Heat` : isMissile ? `+${pctStr}% Missile Heat` : `+${pctStr}% Heat Capacity`;
        }
        if (type === "heat_efficiency") {
          return `+${pctStr}% Cooling`;
        }
      }
      return "";
    }).join(", ")) || "";
    const countdownHtml = node.status === "in_progress" ? `<div class="countdown">${formatTime(node.remaining_s)}</div>` : "";
    return `
    <div class="node ${statusClass}" data-node-id="${node.id}">
      <h3>${node.label}</h3>
      ${effectsHtml ? `<p class="effects">${effectsHtml}</p>` : ""}
      <p class="duration">Duration: ${formatTime(node.duration_s)}</p>
      ${countdownHtml}
      ${node.status === "available" ? "<button>Start</button>" : ""}
      ${node.status === "completed" ? '<div class="checkmark">\u2713</div>' : ""}
    </div>
  `;
  }
  function formatTime(seconds) {
    if (seconds < 60) return `${Math.floor(seconds)}s`;
    if (seconds < 3600) return `${Math.floor(seconds / 60)}m`;
    return `${Math.floor(seconds / 3600)}h ${Math.floor(seconds % 3600 / 60)}m`;
  }
  function startCountdownTimer(state, bus) {
    if (countdownInterval) {
      clearInterval(countdownInterval);
    }
    countdownInterval = window.setInterval(() => {
      var _a;
      const upgradeNodes = ((_a = state.dag) == null ? void 0 : _a.nodes.filter(
        (n) => n.kind === "unit" && n.status === "in_progress"
      )) || [];
      upgradeNodes.forEach((node) => {
        const el = document.querySelector(`[data-node-id="${node.id}"] .countdown`);
        if (el && node.remaining_s > 0) {
          el.textContent = formatTime(node.remaining_s);
        }
      });
      const inProgressCount = upgradeNodes.length;
      bus.emit("upgrades:countUpdated", { count: inProgressCount });
    }, 1e3);
  }
  var countdownInterval;
  var init_upgrades = __esm({
    "web/src/upgrades.ts"() {
      "use strict";
      init_ws_messages_pb();
      init_net();
      countdownInterval = null;
    }
  });

  // web/src/main.ts
  var require_main = __commonJS({
    "web/src/main.ts"() {
      init_bus();
      init_net();
      init_game();
      init_state();
      init_tutorial();
      init_storage();
      init_story();
      init_start_gate();
      init_sfx2();
      init_engine2();
      init_music();
      init_cues();
      init_controller2();
      init_upgrades();
      var CALL_SIGN_STORAGE_KEY = "lsd:callsign";
      (async function bootstrap() {
        const qs = new URLSearchParams(window.location.search);
        const room = qs.get("room") || "default";
        const mode = qs.get("mode") || "";
        const missionId = qs.get("mission") || (mode === "campaign" ? "1" : null);
        const nameParam = sanitizeCallSign(qs.get("name"));
        const storedName = sanitizeCallSign(readStoredCallSign());
        const callSign = nameParam || storedName;
        const mapW = parseFloat(qs.get("mapW") || "8000");
        const mapH = parseFloat(qs.get("mapH") || "4500");
        if (nameParam && nameParam !== storedName) {
          persistCallSign(nameParam);
        }
        await waitForUserStart({
          label: "Start Game",
          requestFullscreen: false,
          // flip to true if you want fullscreen
          resumeAudio
          // uses story/sfx.ts
        });
        const state = createInitialState();
        const uiState = createInitialUIState();
        const bus = createEventBus();
        const engine = AudioEngine.get();
        await engine.resume();
        const music = new MusicDirector(engine);
        registerAudioBusBindings(bus, engine, music);
        bus.emit("audio:music:set-scene", { scene: "ambient", seed: 42 });
        bus.on("ship:speedChanged", ({ value }) => {
          if (value > 0) bus.emit("audio:sfx", { name: "thrust", velocity: Math.min(1, value) });
        });
        const game = initGame({ state, uiState, bus });
        mountMissionController({ state, bus, mode, missionId });
        initUpgradesPanel(state, bus);
        startCountdownTimer(state, bus);
        window.addEventListener("keydown", (e) => {
          if (e.key === "u" || e.key === "U") {
            bus.emit("upgrades:toggle");
          }
        });
        const upgradesBtn = document.getElementById("game-upgrades-btn");
        upgradesBtn == null ? void 0 : upgradesBtn.addEventListener("click", () => {
          bus.emit("upgrades:toggle");
        });
        bus.on("upgrades:countUpdated", ({ count }) => {
          const badge = document.getElementById("game-upgrades-badge");
          if (badge) {
            badge.textContent = count > 0 ? `${count}` : "";
            badge.style.display = count > 0 ? "inline" : "none";
          }
        });
        const enableTutorial = mode === "campaign" || mode === "tutorial";
        const enableStory = mode === "campaign";
        if (mode === "campaign") {
          const dispatchedWaves = /* @__PURE__ */ new Set();
          bus.on("mission:beacon-locked", ({ index }) => {
            const waveIndex = index + 1;
            if (waveIndex < 1 || waveIndex > 3) {
              return;
            }
            if (dispatchedWaves.has(waveIndex)) {
              return;
            }
            dispatchedWaves.add(waveIndex);
            sendMessage({ type: "mission_spawn_wave", wave_index: waveIndex });
          });
        }
        let tutorial = null;
        let tutorialStarted = false;
        if (enableTutorial) {
          tutorial = mountTutorial(bus);
        }
        const startTutorial = () => {
          if (!tutorial || tutorialStarted) return;
          tutorialStarted = true;
          clearProgress(BASIC_TUTORIAL_ID);
          tutorial.start({ resume: false });
        };
        if (enableStory) {
          mountStory({ bus, state, roomId: room });
        } else if (mode === "tutorial") {
          startTutorial();
        }
        connectWebSocket({
          room,
          state,
          bus,
          mapW,
          mapH,
          mode,
          missionId: missionId != null ? missionId : void 0,
          onStateUpdated: () => game.onStateUpdated(),
          onOpen: () => {
            const nameToSend = callSign || sanitizeCallSign(readStoredCallSign());
            if (nameToSend) sendMessage({ type: "join", name: nameToSend });
          }
        });
        document.addEventListener("visibilitychange", () => {
          if (document.visibilityState === "hidden") {
            void engine.suspend();
          } else {
            void engine.resume();
          }
        });
      })();
      function sanitizeCallSign(value) {
        if (!value) return "";
        const trimmed = value.trim();
        if (!trimmed) return "";
        return trimmed.slice(0, 24);
      }
      function persistCallSign(name) {
        try {
          if (name) window.localStorage.setItem(CALL_SIGN_STORAGE_KEY, name);
          else window.localStorage.removeItem(CALL_SIGN_STORAGE_KEY);
        } catch (e) {
        }
      }
      function readStoredCallSign() {
        var _a;
        try {
          return (_a = window.localStorage.getItem(CALL_SIGN_STORAGE_KEY)) != null ? _a : "";
        } catch (e) {
          return "";
        }
      }
    }
  });
  require_main();
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2J1cy50cyIsICJzcmMvc3RhdGUudHMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS90eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2lzLW1lc3NhZ2UuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9kZXNjcmlwdG9ycy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3dpcmUvdmFyaW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vcHJvdG8taW50NjQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L3NjYWxhci5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvdW5zYWZlLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vcmVmbGVjdC9ndWFyZC5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3drdC93cmFwcGVycy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NyZWF0ZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvZXJyb3IuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS93aXJlL3RleHQtZW5jb2RpbmcuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS93aXJlL2JpbmFyeS1lbmNvZGluZy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvcmVmbGVjdC1jaGVjay5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvcmVmbGVjdC5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Nsb25lLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vd2lyZS9iYXNlNjQtZW5jb2RpbmcuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L25hbWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL3Jlc3RvcmUtanNvbi1uYW1lcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3dpcmUvdGV4dC1mb3JtYXQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L25lc3RlZC10eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZ2lzdHJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL2Jvb3QuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvbWVzc2FnZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9lbnVtLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vd2t0L2dlbi9nb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvcl9wYi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Zyb20tYmluYXJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL2ZpbGUuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS90by1iaW5hcnkuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvZXh0ZW5zaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vZXF1YWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vZmllbGRzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vdG8tanNvbi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Zyb20tanNvbi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL21lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvZW1iZWQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvc2VydmljZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9zeW1ib2xzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL3NjYWxhci5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi90eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9pbmRleC5qcyIsICJzcmMvcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGIudHMiLCAic3JjL3Byb3RvX2hlbHBlcnMudHMiLCAic3JjL25ldC50cyIsICJzcmMvZ2FtZS9jb25zdGFudHMudHMiLCAic3JjL2dhbWUvY2FtZXJhLnRzIiwgInNyYy9nYW1lL2lucHV0LnRzIiwgInNyYy9yb3V0ZS50cyIsICJzcmMvZ2FtZS9sb2dpYy50cyIsICJzcmMvZ2FtZS9yZW5kZXIudHMiLCAic3JjL2dhbWUvdWkudHMiLCAic3JjL21pc3Npb24vaHVkLnRzIiwgInNyYy9nYW1lLnRzIiwgInNyYy90dXRvcmlhbC9oaWdobGlnaHQudHMiLCAic3JjL3R1dG9yaWFsL3N0b3JhZ2UudHMiLCAic3JjL3R1dG9yaWFsL3JvbGVzLnRzIiwgInNyYy90dXRvcmlhbC9lbmdpbmUudHMiLCAic3JjL3R1dG9yaWFsL3N0ZXBzX2Jhc2ljLnRzIiwgInNyYy90dXRvcmlhbC9pbmRleC50cyIsICJzcmMvc3Rvcnkvb3ZlcmxheS50cyIsICJzcmMvc3RvcnkvY29udHJvbGxlci50cyIsICJzcmMvc3RvcnkvaW5kZXgudHMiLCAic3JjL3N0YXJ0LWdhdGUudHMiLCAic3JjL2F1ZGlvL2VuZ2luZS50cyIsICJzcmMvYXVkaW8vZ3JhcGgudHMiLCAic3JjL2F1ZGlvL3NmeC50cyIsICJzcmMvc3Rvcnkvc2Z4LnRzIiwgInNyYy9hdWRpby9tdXNpYy9zY2VuZXMvYW1iaWVudC50cyIsICJzcmMvYXVkaW8vbXVzaWMvaW5kZXgudHMiLCAic3JjL2F1ZGlvL2N1ZXMudHMiLCAic3JjL21pc3Npb24vY29udHJvbGxlci50cyIsICJzcmMvdXBncmFkZXMudHMiLCAic3JjL21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB0eXBlIHsgTWlzc2lsZVNlbGVjdGlvbiB9IGZyb20gXCIuL3N0YXRlXCI7XG5pbXBvcnQgdHlwZSB7IERpYWxvZ3VlQ29udGVudCB9IGZyb20gXCIuL3N0b3J5L3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIFNoaXBDb250ZXh0ID0gXCJzaGlwXCIgfCBcIm1pc3NpbGVcIjtcbmV4cG9ydCB0eXBlIFNoaXBUb29sID0gXCJzZXRcIiB8IFwic2VsZWN0XCIgfCBudWxsO1xuZXhwb3J0IHR5cGUgTWlzc2lsZVRvb2wgPSBcInNldFwiIHwgXCJzZWxlY3RcIiB8IG51bGw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRNYXAge1xuICBcImNvbnRleHQ6Y2hhbmdlZFwiOiB7IGNvbnRleHQ6IFNoaXBDb250ZXh0IH07XG4gIFwic2hpcDp0b29sQ2hhbmdlZFwiOiB7IHRvb2w6IFNoaXBUb29sIH07XG4gIFwic2hpcDp3YXlwb2ludEFkZGVkXCI6IHsgaW5kZXg6IG51bWJlciB9O1xuICBcInNoaXA6d2F5cG9pbnRNb3ZlZFwiOiB7IGluZGV4OiBudW1iZXI7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIFwic2hpcDpsZWdTZWxlY3RlZFwiOiB7IGluZGV4OiBudW1iZXIgfCBudWxsIH07XG4gIFwic2hpcDp3YXlwb2ludERlbGV0ZWRcIjogeyBpbmRleDogbnVtYmVyIH07XG4gIFwic2hpcDp3YXlwb2ludHNDbGVhcmVkXCI6IHZvaWQ7XG4gIFwic2hpcDpjbGVhckludm9rZWRcIjogdm9pZDtcbiAgXCJzaGlwOnNwZWVkQ2hhbmdlZFwiOiB7IHZhbHVlOiBudW1iZXIgfTtcbiAgXCJzaGlwOmhlYXRQcm9qZWN0aW9uVXBkYXRlZFwiOiB7IGhlYXRWYWx1ZXM6IG51bWJlcltdIH07XG4gIFwiaGVhdDptYXJrZXJBbGlnbmVkXCI6IHsgdmFsdWU6IG51bWJlcjsgbWFya2VyOiBudW1iZXIgfTtcbiAgXCJoZWF0Ondhcm5FbnRlcmVkXCI6IHsgdmFsdWU6IG51bWJlcjsgd2FybkF0OiBudW1iZXIgfTtcbiAgXCJoZWF0OmNvb2xlZEJlbG93V2FyblwiOiB7IHZhbHVlOiBudW1iZXI7IHdhcm5BdDogbnVtYmVyIH07XG4gIFwiaGVhdDpzdGFsbFRyaWdnZXJlZFwiOiB7IHN0YWxsVW50aWw6IG51bWJlciB9O1xuICBcImhlYXQ6c3RhbGxSZWNvdmVyZWRcIjogeyB2YWx1ZTogbnVtYmVyIH07XG4gIFwiaGVhdDpkdWFsTWV0ZXJEaXZlcmdlZFwiOiB7IHBsYW5uZWQ6IG51bWJlcjsgYWN0dWFsOiBudW1iZXIgfTtcbiAgXCJ1aTp3YXlwb2ludEhvdmVyU3RhcnRcIjogeyBpbmRleDogbnVtYmVyIH07XG4gIFwidWk6d2F5cG9pbnRIb3ZlckVuZFwiOiB7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOnJvdXRlQWRkZWRcIjogeyByb3V0ZUlkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOnJvdXRlRGVsZXRlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6cm91dGVSZW5hbWVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB8IG51bGwgfTtcbiAgXCJtaXNzaWxlOnRvb2xDaGFuZ2VkXCI6IHsgdG9vbDogTWlzc2lsZVRvb2wgfTtcbiAgXCJtaXNzaWxlOnNlbGVjdGlvbkNoYW5nZWRcIjogeyBzZWxlY3Rpb246IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludE1vdmVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBpbmRleDogbnVtYmVyOyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6d2F5cG9pbnREZWxldGVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludHNDbGVhcmVkXCI6IHsgcm91dGVJZDogc3RyaW5nIH07XG4gIFwibWlzc2lsZTpzcGVlZENoYW5nZWRcIjogeyB2YWx1ZTogbnVtYmVyOyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lsZTphZ3JvQ2hhbmdlZFwiOiB7IHZhbHVlOiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6bGF1bmNoZWRcIjogeyByb3V0ZUlkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOmNvb2xkb3duVXBkYXRlZFwiOiB7IHNlY29uZHNSZW1haW5pbmc6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6ZGVsZXRlSW52b2tlZFwiOiB2b2lkO1xuICBcIm1pc3NpbGU6cHJlc2V0U2VsZWN0ZWRcIjogeyBwcmVzZXROYW1lOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOmhlYXRQcm9qZWN0aW9uVXBkYXRlZFwiOiB7IHdpbGxPdmVyaGVhdDogYm9vbGVhbjsgb3ZlcmhlYXRBdD86IG51bWJlciB9O1xuICBcIm1pc3NpbGU6b3ZlcmhlYXRlZFwiOiB7IG1pc3NpbGVJZDogc3RyaW5nOyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6Y3JhZnRSZXF1ZXN0ZWRcIjogeyBub2RlSWQ6IHN0cmluZzsgaGVhdENhcGFjaXR5OiBudW1iZXIgfTtcbiAgXCJoZWxwOnZpc2libGVDaGFuZ2VkXCI6IHsgdmlzaWJsZTogYm9vbGVhbiB9O1xuICBcInN0YXRlOnVwZGF0ZWRcIjogdm9pZDtcbiAgXCJjb25uZWN0aW9uOmVycm9yXCI6IHsgbWVzc2FnZTogc3RyaW5nIH07XG4gIFwiZGFnOmxpc3RcIjogeyBub2RlczogQXJyYXk8eyBpZDogc3RyaW5nOyBraW5kOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmc7IHN0YXR1czogc3RyaW5nOyByZW1haW5pbmdfczogbnVtYmVyOyBkdXJhdGlvbl9zOiBudW1iZXI7IHJlcGVhdGFibGU6IGJvb2xlYW4gfT4gfTtcbiAgXCJ0dXRvcmlhbDpzdGFydGVkXCI6IHsgaWQ6IHN0cmluZyB9O1xuICBcInR1dG9yaWFsOnN0ZXBDaGFuZ2VkXCI6IHsgaWQ6IHN0cmluZzsgc3RlcEluZGV4OiBudW1iZXI7IHRvdGFsOiBudW1iZXIgfTtcbiAgXCJ0dXRvcmlhbDpjb21wbGV0ZWRcIjogeyBpZDogc3RyaW5nIH07XG4gIFwidHV0b3JpYWw6c2tpcHBlZFwiOiB7IGlkOiBzdHJpbmc7IGF0U3RlcDogbnVtYmVyIH07XG4gIFwiYm90OnNwYXduUmVxdWVzdGVkXCI6IHZvaWQ7XG4gIFwiZGlhbG9ndWU6b3BlbmVkXCI6IHsgbm9kZUlkOiBzdHJpbmc7IGNoYXB0ZXJJZDogc3RyaW5nIH07XG4gIFwiZGlhbG9ndWU6Y2xvc2VkXCI6IHsgbm9kZUlkOiBzdHJpbmc7IGNoYXB0ZXJJZDogc3RyaW5nIH07XG4gIFwiZGlhbG9ndWU6Y2hvaWNlXCI6IHsgbm9kZUlkOiBzdHJpbmc7IGNob2ljZUlkOiBzdHJpbmc7IGNoYXB0ZXJJZDogc3RyaW5nIH07XG4gIFwic3Rvcnk6ZmxhZ1VwZGF0ZWRcIjogeyBmbGFnOiBzdHJpbmc7IHZhbHVlOiBib29sZWFuIH07XG4gIFwic3Rvcnk6cHJvZ3Jlc3NlZFwiOiB7IGNoYXB0ZXJJZDogc3RyaW5nOyBub2RlSWQ6IHN0cmluZyB9O1xuICBcInN0b3J5Om5vZGVBY3RpdmF0ZWRcIjogeyBub2RlSWQ6IHN0cmluZzsgZGlhbG9ndWU/OiBEaWFsb2d1ZUNvbnRlbnQgfTtcbiAgXCJtaXNzaW9uOnN0YXJ0XCI6IHZvaWQ7XG4gIFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCI6IHsgaW5kZXg6IG51bWJlciB9O1xuICBcIm1pc3Npb246Y29tcGxldGVkXCI6IHZvaWQ7XG4gIFwiYXVkaW86cmVzdW1lXCI6IHZvaWQ7XG4gIFwiYXVkaW86bXV0ZVwiOiB2b2lkO1xuICBcImF1ZGlvOnVubXV0ZVwiOiB2b2lkO1xuICBcImF1ZGlvOnNldC1tYXN0ZXItZ2FpblwiOiB7IGdhaW46IG51bWJlciB9O1xuICBcImF1ZGlvOnNmeFwiOiB7IG5hbWU6IFwidWlcIiB8IFwibGFzZXJcIiB8IFwidGhydXN0XCIgfCBcImV4cGxvc2lvblwiIHwgXCJsb2NrXCIgfCBcImRpYWxvZ3VlXCI7IHZlbG9jaXR5PzogbnVtYmVyOyBwYW4/OiBudW1iZXIgfTtcbiAgXCJhdWRpbzptdXNpYzpzZXQtc2NlbmVcIjogeyBzY2VuZTogXCJhbWJpZW50XCIgfCBcImNvbWJhdFwiIHwgXCJsb2JieVwiOyBzZWVkPzogbnVtYmVyIH07XG4gIFwiYXVkaW86bXVzaWM6cGFyYW1cIjogeyBrZXk6IHN0cmluZzsgdmFsdWU6IG51bWJlciB9O1xuICBcImF1ZGlvOm11c2ljOnRyYW5zcG9ydFwiOiB7IGNtZDogXCJzdGFydFwiIHwgXCJzdG9wXCIgfCBcInBhdXNlXCIgfTtcbiAgXCJ1cGdyYWRlczp0b2dnbGVcIjogdm9pZDtcbiAgXCJ1cGdyYWRlczpzaG93XCI6IHZvaWQ7XG4gIFwidXBncmFkZXM6aGlkZVwiOiB2b2lkO1xuICBcInVwZ3JhZGVzOmNvdW50VXBkYXRlZFwiOiB7IGNvdW50OiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IHR5cGUgRXZlbnRLZXkgPSBrZXlvZiBFdmVudE1hcDtcbmV4cG9ydCB0eXBlIEV2ZW50UGF5bG9hZDxLIGV4dGVuZHMgRXZlbnRLZXk+ID0gRXZlbnRNYXBbS107XG5leHBvcnQgdHlwZSBIYW5kbGVyPEsgZXh0ZW5kcyBFdmVudEtleT4gPSAocGF5bG9hZDogRXZlbnRQYXlsb2FkPEs+KSA9PiB2b2lkO1xuXG50eXBlIFZvaWRLZXlzID0ge1xuICBbSyBpbiBFdmVudEtleV06IEV2ZW50TWFwW0tdIGV4dGVuZHMgdm9pZCA/IEsgOiBuZXZlclxufVtFdmVudEtleV07XG5cbnR5cGUgTm9uVm9pZEtleXMgPSBFeGNsdWRlPEV2ZW50S2V5LCBWb2lkS2V5cz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRCdXMge1xuICBvbjxLIGV4dGVuZHMgRXZlbnRLZXk+KGV2ZW50OiBLLCBoYW5kbGVyOiBIYW5kbGVyPEs+KTogKCkgPT4gdm9pZDtcbiAgZW1pdDxLIGV4dGVuZHMgTm9uVm9pZEtleXM+KGV2ZW50OiBLLCBwYXlsb2FkOiBFdmVudFBheWxvYWQ8Sz4pOiB2b2lkO1xuICBlbWl0PEsgZXh0ZW5kcyBWb2lkS2V5cz4oZXZlbnQ6IEspOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRCdXMoKTogRXZlbnRCdXMge1xuICBjb25zdCBoYW5kbGVycyA9IG5ldyBNYXA8RXZlbnRLZXksIFNldDxGdW5jdGlvbj4+KCk7XG4gIHJldHVybiB7XG4gICAgb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgIGxldCBzZXQgPSBoYW5kbGVycy5nZXQoZXZlbnQpO1xuICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICBoYW5kbGVycy5zZXQoZXZlbnQsIHNldCk7XG4gICAgICB9XG4gICAgICBzZXQuYWRkKGhhbmRsZXIpO1xuICAgICAgcmV0dXJuICgpID0+IHNldCEuZGVsZXRlKGhhbmRsZXIpO1xuICAgIH0sXG4gICAgZW1pdChldmVudDogRXZlbnRLZXksIHBheWxvYWQ/OiB1bmtub3duKSB7XG4gICAgICBjb25zdCBzZXQgPSBoYW5kbGVycy5nZXQoZXZlbnQpO1xuICAgICAgaWYgKCFzZXQgfHwgc2V0LnNpemUgPT09IDApIHJldHVybjtcbiAgICAgIGZvciAoY29uc3QgZm4gb2Ygc2V0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgKGZuIGFzICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQpKHBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbYnVzXSBoYW5kbGVyIGZvciAke2V2ZW50fSBmYWlsZWRgLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFNoaXBDb250ZXh0LCBTaGlwVG9vbCwgTWlzc2lsZVRvb2wgfSBmcm9tIFwiLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgRGlhbG9ndWVDb250ZW50IH0gZnJvbSBcIi4vc3RvcnkvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTUlOX1NQRUVEID0gNDA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9NQVhfU1BFRUQgPSAyNTA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9NSU5fQUdSTyA9IDEwMDtcbmV4cG9ydCBjb25zdCBNSVNTSUxFX01BWF9MSUZFVElNRSA9IDEyMDtcbmV4cG9ydCBjb25zdCBNSVNTSUxFX01JTl9MSUZFVElNRSA9IDIwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTElGRVRJTUVfU1BFRURfUEVOQUxUWSA9IDgwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTElGRVRJTUVfQUdST19QRU5BTFRZID0gNDA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9MSUZFVElNRV9BR1JPX1JFRiA9IDIwMDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZUxpbWl0cyB7XG4gIHNwZWVkTWluOiBudW1iZXI7XG4gIHNwZWVkTWF4OiBudW1iZXI7XG4gIGFncm9NaW46IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXYXlwb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBzcGVlZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYXRWaWV3IHtcbiAgdmFsdWU6IG51bWJlcjtcbiAgbWF4OiBudW1iZXI7XG4gIHdhcm5BdDogbnVtYmVyO1xuICBvdmVyaGVhdEF0OiBudW1iZXI7XG4gIG1hcmtlclNwZWVkOiBudW1iZXI7XG4gIHN0YWxsVW50aWxNczogbnVtYmVyOyAvLyBjbGllbnQtc3luY2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gIGtVcDogbnVtYmVyO1xuICBrRG93bjogbnVtYmVyO1xuICBleHA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGlwU25hcHNob3Qge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgdng6IG51bWJlcjtcbiAgdnk6IG51bWJlcjtcbiAgaHA/OiBudW1iZXI7XG4gIGtpbGxzPzogbnVtYmVyO1xuICB3YXlwb2ludHM6IFdheXBvaW50W107XG4gIGN1cnJlbnRXYXlwb2ludEluZGV4PzogbnVtYmVyO1xuICBoZWF0PzogSGVhdFZpZXc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2hvc3RTbmFwc2hvdCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB2eDogbnVtYmVyO1xuICB2eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVTbmFwc2hvdCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB2eDogbnVtYmVyO1xuICB2eTogbnVtYmVyO1xuICBzZWxmPzogYm9vbGVhbjtcbiAgYWdyb19yYWRpdXM6IG51bWJlcjtcbiAgaGVhdD86IEhlYXRWaWV3OyAvLyBNaXNzaWxlIGhlYXQgZGF0YVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVSb3V0ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgd2F5cG9pbnRzOiBXYXlwb2ludFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYXRQYXJhbXMge1xuICBtYXg6IG51bWJlcjtcbiAgd2FybkF0OiBudW1iZXI7XG4gIG92ZXJoZWF0QXQ6IG51bWJlcjtcbiAgbWFya2VyU3BlZWQ6IG51bWJlcjtcbiAga1VwOiBudW1iZXI7XG4gIGtEb3duOiBudW1iZXI7XG4gIGV4cDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVDb25maWcge1xuICBzcGVlZDogbnVtYmVyO1xuICBhZ3JvUmFkaXVzOiBudW1iZXI7XG4gIGxpZmV0aW1lOiBudW1iZXI7XG4gIGhlYXRQYXJhbXM/OiBIZWF0UGFyYW1zOyAvLyBPcHRpb25hbCBjdXN0b20gaGVhdCBjb25maWd1cmF0aW9uXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVByZXNldCB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgc3BlZWQ6IG51bWJlcjtcbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuICBoZWF0UGFyYW1zOiBIZWF0UGFyYW1zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludmVudG9yeUl0ZW0ge1xuICB0eXBlOiBzdHJpbmc7XG4gIHZhcmlhbnRfaWQ6IHN0cmluZztcbiAgaGVhdF9jYXBhY2l0eTogbnVtYmVyO1xuICBxdWFudGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludmVudG9yeSB7XG4gIGl0ZW1zOiBJbnZlbnRvcnlJdGVtW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBncmFkZUVmZmVjdERhdGEge1xuICB0eXBlOiBzdHJpbmc7IC8vICdzcGVlZF9tdWx0aXBsaWVyJywgJ21pc3NpbGVfdW5sb2NrJywgZXRjLlxuICB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhZ05vZGUge1xuICBpZDogc3RyaW5nO1xuICBraW5kOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nOyAvLyBcImxvY2tlZFwiIHwgXCJhdmFpbGFibGVcIiB8IFwiaW5fcHJvZ3Jlc3NcIiB8IFwiY29tcGxldGVkXCJcbiAgcmVtYWluaW5nX3M6IG51bWJlcjtcbiAgZHVyYXRpb25fczogbnVtYmVyO1xuICByZXBlYXRhYmxlOiBib29sZWFuO1xuICBlZmZlY3RzPzogVXBncmFkZUVmZmVjdERhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWdTdGF0ZSB7XG4gIG5vZGVzOiBEYWdOb2RlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyQ2FwYWJpbGl0aWVzIHtcbiAgc3BlZWRNdWx0aXBsaWVyOiBudW1iZXI7XG4gIHVubG9ja2VkTWlzc2lsZXM6IHN0cmluZ1tdO1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcbiAgaGVhdEVmZmljaWVuY3k6IG51bWJlcjtcbn1cblxuLy8gTWlzc2lsZSBwcmVzZXQgZGVmaW5pdGlvbnMgbWF0Y2hpbmcgYmFja2VuZFxuZXhwb3J0IGNvbnN0IE1JU1NJTEVfUFJFU0VUUzogTWlzc2lsZVByZXNldFtdID0gW1xuICB7XG4gICAgbmFtZTogXCJTY291dFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNsb3csIGVmZmljaWVudCwgbG9uZy1yYW5nZS4gSGlnaCBoZWF0IGNhcGFjaXR5LlwiLFxuICAgIHNwZWVkOiA4MCxcbiAgICBhZ3JvUmFkaXVzOiAxNTAwLFxuICAgIGhlYXRQYXJhbXM6IHtcbiAgICAgIG1heDogNjAsXG4gICAgICB3YXJuQXQ6IDQyLFxuICAgICAgb3ZlcmhlYXRBdDogNjAsXG4gICAgICBtYXJrZXJTcGVlZDogNzAsXG4gICAgICBrVXA6IDIwLFxuICAgICAga0Rvd246IDE1LFxuICAgICAgZXhwOiAxLjUsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiSHVudGVyXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQmFsYW5jZWQgc3BlZWQgYW5kIGRldGVjdGlvbi4gU3RhbmRhcmQgaGVhdC5cIixcbiAgICBzcGVlZDogMTUwLFxuICAgIGFncm9SYWRpdXM6IDgwMCxcbiAgICBoZWF0UGFyYW1zOiB7XG4gICAgICBtYXg6IDUwLFxuICAgICAgd2FybkF0OiAzNSxcbiAgICAgIG92ZXJoZWF0QXQ6IDUwLFxuICAgICAgbWFya2VyU3BlZWQ6IDEyMCxcbiAgICAgIGtVcDogMjgsXG4gICAgICBrRG93bjogMTIsXG4gICAgICBleHA6IDEuNSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJTbmlwZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJGYXN0LCBuYXJyb3cgZGV0ZWN0aW9uLiBMb3cgaGVhdCBjYXBhY2l0eS5cIixcbiAgICBzcGVlZDogMjIwLFxuICAgIGFncm9SYWRpdXM6IDMwMCxcbiAgICBoZWF0UGFyYW1zOiB7XG4gICAgICBtYXg6IDQwLFxuICAgICAgd2FybkF0OiAyOCxcbiAgICAgIG92ZXJoZWF0QXQ6IDQwLFxuICAgICAgbWFya2VyU3BlZWQ6IDE4MCxcbiAgICAgIGtVcDogMzUsXG4gICAgICBrRG93bjogOCxcbiAgICAgIGV4cDogMS41LFxuICAgIH0sXG4gIH0sXG5dO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmxkTWV0YSB7XG4gIGM/OiBudW1iZXI7XG4gIHc/OiBudW1iZXI7XG4gIGg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmVhY29uRGVmaW5pdGlvbiB7XG4gIGN4OiBudW1iZXI7XG4gIGN5OiBudW1iZXI7XG4gIHJhZGl1czogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3Npb25TdGF0ZSB7XG4gIGFjdGl2ZTogYm9vbGVhbjtcbiAgbWlzc2lvbklkOiBzdHJpbmc7XG4gIGJlYWNvbkluZGV4OiBudW1iZXI7XG4gIGhvbGRBY2N1bTogbnVtYmVyO1xuICBob2xkUmVxdWlyZWQ6IG51bWJlcjtcbiAgYmVhY29uczogQmVhY29uRGVmaW5pdGlvbltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3J5RXZlbnQge1xuICBjaGFwdGVyOiBzdHJpbmc7XG4gIG5vZGU6IHN0cmluZztcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlTdGF0ZSB7XG4gIGFjdGl2ZU5vZGU6IHN0cmluZyB8IG51bGw7XG4gIGRpYWxvZ3VlOiBEaWFsb2d1ZUNvbnRlbnQgfCBudWxsO1xuICBhdmFpbGFibGU6IHN0cmluZ1tdO1xuICBmbGFnczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG4gIHJlY2VudEV2ZW50czogU3RvcnlFdmVudFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlIHtcbiAgbm93OiBudW1iZXI7XG4gIG5vd1N5bmNlZEF0OiBudW1iZXI7XG4gIG1lOiBTaGlwU25hcHNob3QgfCBudWxsO1xuICBnaG9zdHM6IEdob3N0U25hcHNob3RbXTtcbiAgbWlzc2lsZXM6IE1pc3NpbGVTbmFwc2hvdFtdO1xuICBtaXNzaWxlUm91dGVzOiBNaXNzaWxlUm91dGVbXTtcbiAgYWN0aXZlTWlzc2lsZVJvdXRlSWQ6IHN0cmluZyB8IG51bGw7XG4gIG5leHRNaXNzaWxlUmVhZHlBdDogbnVtYmVyO1xuICBtaXNzaWxlQ29uZmlnOiBNaXNzaWxlQ29uZmlnO1xuICBtaXNzaWxlTGltaXRzOiBNaXNzaWxlTGltaXRzO1xuICB3b3JsZE1ldGE6IFdvcmxkTWV0YTtcbiAgaW52ZW50b3J5OiBJbnZlbnRvcnkgfCBudWxsO1xuICBkYWc6IERhZ1N0YXRlIHwgbnVsbDtcbiAgbWlzc2lvbjogTWlzc2lvblN0YXRlIHwgbnVsbDtcbiAgc3Rvcnk6IFN0b3J5U3RhdGUgfCBudWxsO1xuICBjcmFmdEhlYXRDYXBhY2l0eTogbnVtYmVyOyAvLyBIZWF0IGNhcGFjaXR5IHNsaWRlciB2YWx1ZSBmb3IgY3JhZnRpbmdcbiAgY2FwYWJpbGl0aWVzOiBQbGF5ZXJDYXBhYmlsaXRpZXMgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvbiB7XG4gIHR5cGU6IFwid2F5cG9pbnRcIiB8IFwibGVnXCI7XG4gIGluZGV4OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVNlbGVjdGlvbiB7XG4gIHR5cGU6IFwid2F5cG9pbnRcIiB8IFwibGVnXCI7XG4gIGluZGV4OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIEFjdGl2ZVRvb2wgPVxuICB8IFwic2hpcC1zZXRcIlxuICB8IFwic2hpcC1zZWxlY3RcIlxuICB8IFwibWlzc2lsZS1zZXRcIlxuICB8IFwibWlzc2lsZS1zZWxlY3RcIlxuICB8IG51bGw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlTdGF0ZSB7XG4gIGlucHV0Q29udGV4dDogU2hpcENvbnRleHQ7XG4gIHNoaXBUb29sOiBTaGlwVG9vbDtcbiAgbWlzc2lsZVRvb2w6IE1pc3NpbGVUb29sO1xuICBhY3RpdmVUb29sOiBBY3RpdmVUb29sO1xuICBzaG93U2hpcFJvdXRlOiBib29sZWFuO1xuICBoZWxwVmlzaWJsZTogYm9vbGVhbjtcbiAgem9vbTogbnVtYmVyO1xuICBwYW5YOiBudW1iZXI7XG4gIHBhblk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxVSVN0YXRlKCk6IFVJU3RhdGUge1xuICByZXR1cm4ge1xuICAgIGlucHV0Q29udGV4dDogXCJzaGlwXCIsXG4gICAgc2hpcFRvb2w6IFwic2V0XCIsXG4gICAgbWlzc2lsZVRvb2w6IG51bGwsXG4gICAgYWN0aXZlVG9vbDogXCJzaGlwLXNldFwiLFxuICAgIHNob3dTaGlwUm91dGU6IHRydWUsXG4gICAgaGVscFZpc2libGU6IGZhbHNlLFxuICAgIHpvb206IDEuMCxcbiAgICBwYW5YOiAwLFxuICAgIHBhblk6IDAsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbml0aWFsU3RhdGUobGltaXRzOiBNaXNzaWxlTGltaXRzID0ge1xuICBzcGVlZE1pbjogTUlTU0lMRV9NSU5fU1BFRUQsXG4gIHNwZWVkTWF4OiBNSVNTSUxFX01BWF9TUEVFRCxcbiAgYWdyb01pbjogTUlTU0lMRV9NSU5fQUdSTyxcbn0pOiBBcHBTdGF0ZSB7XG4gIHJldHVybiB7XG4gICAgbm93OiAwLFxuICAgIG5vd1N5bmNlZEF0OiB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICA6IERhdGUubm93KCksXG4gICAgbWU6IG51bGwsXG4gICAgZ2hvc3RzOiBbXSxcbiAgICBtaXNzaWxlczogW10sXG4gICAgbWlzc2lsZVJvdXRlczogW10sXG4gICAgYWN0aXZlTWlzc2lsZVJvdXRlSWQ6IG51bGwsXG4gICAgbmV4dE1pc3NpbGVSZWFkeUF0OiAwLFxuICAgIG1pc3NpbGVDb25maWc6IHtcbiAgICAgIHNwZWVkOiAxODAsXG4gICAgICBhZ3JvUmFkaXVzOiA4MDAsXG4gICAgICBsaWZldGltZTogbWlzc2lsZUxpZmV0aW1lRm9yKDE4MCwgODAwLCBsaW1pdHMpLFxuICAgICAgaGVhdFBhcmFtczogTUlTU0lMRV9QUkVTRVRTWzFdLmhlYXRQYXJhbXMsIC8vIERlZmF1bHQgdG8gSHVudGVyIHByZXNldFxuICAgIH0sXG4gICAgbWlzc2lsZUxpbWl0czogbGltaXRzLFxuICAgIHdvcmxkTWV0YToge30sXG4gICAgaW52ZW50b3J5OiBudWxsLFxuICAgIGRhZzogbnVsbCxcbiAgICBtaXNzaW9uOiBudWxsLFxuICAgIHN0b3J5OiBudWxsLFxuICAgIGNyYWZ0SGVhdENhcGFjaXR5OiA4MCwgLy8gRGVmYXVsdCB0byBiYXNpYyBtaXNzaWxlIGhlYXQgY2FwYWNpdHlcbiAgICBjYXBhYmlsaXRpZXM6IG51bGwsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbHVlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaXNzaWxlTGlmZXRpbWVGb3Ioc3BlZWQ6IG51bWJlciwgYWdyb1JhZGl1czogbnVtYmVyLCBsaW1pdHM6IE1pc3NpbGVMaW1pdHMgPSB7XG4gIHNwZWVkTWluOiBNSVNTSUxFX01JTl9TUEVFRCxcbiAgc3BlZWRNYXg6IE1JU1NJTEVfTUFYX1NQRUVELFxuICBhZ3JvTWluOiBNSVNTSUxFX01JTl9BR1JPLFxufSk6IG51bWJlciB7XG4gIGNvbnN0IG1pblNwZWVkID0gTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5zcGVlZE1pbikgPyBsaW1pdHMuc3BlZWRNaW4gOiBNSVNTSUxFX01JTl9TUEVFRDtcbiAgY29uc3QgbWF4U3BlZWQgPSBOdW1iZXIuaXNGaW5pdGUobGltaXRzLnNwZWVkTWF4KSA/IGxpbWl0cy5zcGVlZE1heCA6IE1JU1NJTEVfTUFYX1NQRUVEO1xuICBjb25zdCBtaW5BZ3JvID0gTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5hZ3JvTWluKSA/IGxpbWl0cy5hZ3JvTWluIDogTUlTU0lMRV9NSU5fQUdSTztcbiAgY29uc3Qgc3BhbiA9IG1heFNwZWVkIC0gbWluU3BlZWQ7XG4gIGNvbnN0IHNwZWVkTm9ybSA9IHNwYW4gPiAwID8gY2xhbXAoKHNwZWVkIC0gbWluU3BlZWQpIC8gc3BhbiwgMCwgMSkgOiAwO1xuICBjb25zdCBhZGp1c3RlZEFncm8gPSBNYXRoLm1heCgwLCBhZ3JvUmFkaXVzIC0gbWluQWdybyk7XG4gIGNvbnN0IGFncm9Ob3JtID0gY2xhbXAoYWRqdXN0ZWRBZ3JvIC8gTUlTU0lMRV9MSUZFVElNRV9BR1JPX1JFRiwgMCwgMSk7XG4gIGNvbnN0IHJlZHVjdGlvbiA9IHNwZWVkTm9ybSAqIE1JU1NJTEVfTElGRVRJTUVfU1BFRURfUEVOQUxUWSArIGFncm9Ob3JtICogTUlTU0lMRV9MSUZFVElNRV9BR1JPX1BFTkFMVFk7XG4gIGNvbnN0IGJhc2UgPSBNSVNTSUxFX01BWF9MSUZFVElNRTtcbiAgcmV0dXJuIGNsYW1wKGJhc2UgLSByZWR1Y3Rpb24sIE1JU1NJTEVfTUlOX0xJRkVUSU1FLCBNSVNTSUxFX01BWF9MSUZFVElNRSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZU1pc3NpbGVDb25maWcoXG4gIGNmZzogUGFydGlhbDxQaWNrPE1pc3NpbGVDb25maWcsIFwic3BlZWRcIiB8IFwiYWdyb1JhZGl1c1wiIHwgXCJoZWF0UGFyYW1zXCI+PixcbiAgZmFsbGJhY2s6IE1pc3NpbGVDb25maWcsXG4gIGxpbWl0czogTWlzc2lsZUxpbWl0cyxcbik6IE1pc3NpbGVDb25maWcge1xuICBjb25zdCBtaW5TcGVlZCA9IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuc3BlZWRNaW4pID8gbGltaXRzLnNwZWVkTWluIDogTUlTU0lMRV9NSU5fU1BFRUQ7XG4gIGNvbnN0IG1heFNwZWVkID0gTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5zcGVlZE1heCkgPyBsaW1pdHMuc3BlZWRNYXggOiBNSVNTSUxFX01BWF9TUEVFRDtcbiAgY29uc3QgbWluQWdybyA9IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuYWdyb01pbikgPyBsaW1pdHMuYWdyb01pbiA6IE1JU1NJTEVfTUlOX0FHUk87XG4gIGNvbnN0IGJhc2UgPSBmYWxsYmFjayA/PyB7XG4gICAgc3BlZWQ6IG1pblNwZWVkLFxuICAgIGFncm9SYWRpdXM6IG1pbkFncm8sXG4gICAgbGlmZXRpbWU6IG1pc3NpbGVMaWZldGltZUZvcihtaW5TcGVlZCwgbWluQWdybywgbGltaXRzKSxcbiAgfTtcbiAgY29uc3QgbWVyZ2VkU3BlZWQgPSBOdW1iZXIuaXNGaW5pdGUoY2ZnLnNwZWVkID8/IGJhc2Uuc3BlZWQpID8gKGNmZy5zcGVlZCA/PyBiYXNlLnNwZWVkKSA6IGJhc2Uuc3BlZWQ7XG4gIGNvbnN0IG1lcmdlZEFncm8gPSBOdW1iZXIuaXNGaW5pdGUoY2ZnLmFncm9SYWRpdXMgPz8gYmFzZS5hZ3JvUmFkaXVzKSA/IChjZmcuYWdyb1JhZGl1cyA/PyBiYXNlLmFncm9SYWRpdXMpIDogYmFzZS5hZ3JvUmFkaXVzO1xuICBjb25zdCBzcGVlZCA9IGNsYW1wKG1lcmdlZFNwZWVkLCBtaW5TcGVlZCwgbWF4U3BlZWQpO1xuICBjb25zdCBhZ3JvUmFkaXVzID0gTWF0aC5tYXgobWluQWdybywgbWVyZ2VkQWdybyk7XG4gIGNvbnN0IGhlYXRQYXJhbXMgPSBjZmcuaGVhdFBhcmFtcyA/IHsgLi4uY2ZnLmhlYXRQYXJhbXMgfSA6IGJhc2UuaGVhdFBhcmFtcyA/IHsgLi4uYmFzZS5oZWF0UGFyYW1zIH0gOiB1bmRlZmluZWQ7XG4gIHJldHVybiB7XG4gICAgc3BlZWQsXG4gICAgYWdyb1JhZGl1cyxcbiAgICBsaWZldGltZTogbWlzc2lsZUxpZmV0aW1lRm9yKHNwZWVkLCBhZ3JvUmFkaXVzLCBsaW1pdHMpLFxuICAgIGhlYXRQYXJhbXMsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb25vdG9uaWNOb3coKTogbnVtYmVyIHtcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cbiAgcmV0dXJuIERhdGUubm93KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVdheXBvaW50TGlzdChsaXN0OiBXYXlwb2ludFtdIHwgdW5kZWZpbmVkIHwgbnVsbCk6IFdheXBvaW50W10ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdCkpIHJldHVybiBbXTtcbiAgcmV0dXJuIGxpc3QubWFwKCh3cCkgPT4gKHsgLi4ud3AgfSkpO1xufVxuXG4vLyBQcm9qZWN0IGhlYXQgYWxvbmcgYSBtaXNzaWxlIHJvdXRlXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVSb3V0ZVByb2plY3Rpb24ge1xuICB3YXlwb2ludHM6IFdheXBvaW50W107XG4gIGhlYXRBdFdheXBvaW50czogbnVtYmVyW107XG4gIHdpbGxPdmVyaGVhdDogYm9vbGVhbjtcbiAgb3ZlcmhlYXRBdD86IG51bWJlcjsgLy8gSW5kZXggd2hlcmUgb3ZlcmhlYXQgb2NjdXJzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0TWlzc2lsZUhlYXQoXG4gIHJvdXRlOiBXYXlwb2ludFtdLFxuICBkZWZhdWx0U3BlZWQ6IG51bWJlcixcbiAgaGVhdFBhcmFtczogSGVhdFBhcmFtc1xuKTogTWlzc2lsZVJvdXRlUHJvamVjdGlvbiB7XG4gIGNvbnN0IHByb2plY3Rpb246IE1pc3NpbGVSb3V0ZVByb2plY3Rpb24gPSB7XG4gICAgd2F5cG9pbnRzOiByb3V0ZSxcbiAgICBoZWF0QXRXYXlwb2ludHM6IFtdLFxuICAgIHdpbGxPdmVyaGVhdDogZmFsc2UsXG4gIH07XG5cbiAgaWYgKHJvdXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBwcm9qZWN0aW9uO1xuICB9XG5cbiAgbGV0IGhlYXQgPSAwOyAvLyBNaXNzaWxlcyBzdGFydCBhdCB6ZXJvIGhlYXRcbiAgbGV0IHBvcyA9IHsgeDogcm91dGVbMF0ueCwgeTogcm91dGVbMF0ueSB9O1xuICBsZXQgY3VycmVudFNwZWVkID0gcm91dGVbMF0uc3BlZWQgPiAwID8gcm91dGVbMF0uc3BlZWQgOiBkZWZhdWx0U3BlZWQ7XG5cbiAgcHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IHJvdXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGFyZ2V0UG9zID0gcm91dGVbaV07XG4gICAgY29uc3QgdGFyZ2V0U3BlZWQgPSB0YXJnZXRQb3Muc3BlZWQgPiAwID8gdGFyZ2V0UG9zLnNwZWVkIDogZGVmYXVsdFNwZWVkO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIGFuZCB0aW1lXG4gICAgY29uc3QgZHggPSB0YXJnZXRQb3MueCAtIHBvcy54O1xuICAgIGNvbnN0IGR5ID0gdGFyZ2V0UG9zLnkgLSBwb3MueTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICBpZiAoZGlzdGFuY2UgPCAwLjAwMSkge1xuICAgICAgcHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEF2ZXJhZ2Ugc3BlZWQgZHVyaW5nIHNlZ21lbnRcbiAgICBjb25zdCBhdmdTcGVlZCA9IChjdXJyZW50U3BlZWQgKyB0YXJnZXRTcGVlZCkgKiAwLjU7XG4gICAgY29uc3Qgc2VnbWVudFRpbWUgPSBkaXN0YW5jZSAvIE1hdGgubWF4KGF2Z1NwZWVkLCAxKTtcblxuICAgIC8vIENhbGN1bGF0ZSBoZWF0IHJhdGUgKG1hdGNoIHNlcnZlciBmb3JtdWxhKVxuICAgIGNvbnN0IFZuID0gTWF0aC5tYXgoaGVhdFBhcmFtcy5tYXJrZXJTcGVlZCwgMC4wMDAwMDEpO1xuICAgIGNvbnN0IGRldiA9IGF2Z1NwZWVkIC0gaGVhdFBhcmFtcy5tYXJrZXJTcGVlZDtcbiAgICBjb25zdCBwID0gaGVhdFBhcmFtcy5leHA7XG5cbiAgICBsZXQgaGRvdDogbnVtYmVyO1xuICAgIGlmIChkZXYgPj0gMCkge1xuICAgICAgLy8gSGVhdGluZ1xuICAgICAgaGRvdCA9IGhlYXRQYXJhbXMua1VwICogTWF0aC5wb3coZGV2IC8gVm4sIHApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb29saW5nXG4gICAgICBoZG90ID0gLWhlYXRQYXJhbXMua0Rvd24gKiBNYXRoLnBvdyhNYXRoLmFicyhkZXYpIC8gVm4sIHApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBoZWF0XG4gICAgaGVhdCArPSBoZG90ICogc2VnbWVudFRpbWU7XG4gICAgaGVhdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGhlYXQsIGhlYXRQYXJhbXMubWF4KSk7XG5cbiAgICBwcm9qZWN0aW9uLmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuICAgIHBvcyA9IHsgeDogdGFyZ2V0UG9zLngsIHk6IHRhcmdldFBvcy55IH07XG4gICAgY3VycmVudFNwZWVkID0gdGFyZ2V0U3BlZWQ7XG5cbiAgICAvLyBDaGVjayBmb3Igb3ZlcmhlYXRcbiAgICBpZiAoaGVhdCA+PSBoZWF0UGFyYW1zLm92ZXJoZWF0QXQgJiYgIXByb2plY3Rpb24ud2lsbE92ZXJoZWF0KSB7XG4gICAgICBwcm9qZWN0aW9uLndpbGxPdmVyaGVhdCA9IHRydWU7XG4gICAgICBwcm9qZWN0aW9uLm92ZXJoZWF0QXQgPSBpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiBhbmQgc3BlZWRcbiAgICBwb3MgPSB0YXJnZXRQb3M7XG4gICAgY3VycmVudFNwZWVkID0gdGFyZ2V0U3BlZWQ7XG4gIH1cblxuICByZXR1cm4gcHJvamVjdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1pc3NpbGVMaW1pdHMoc3RhdGU6IEFwcFN0YXRlLCBsaW1pdHM6IFBhcnRpYWw8TWlzc2lsZUxpbWl0cz4pOiB2b2lkIHtcbiAgc3RhdGUubWlzc2lsZUxpbWl0cyA9IHtcbiAgICBzcGVlZE1pbjogTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5zcGVlZE1pbikgPyBsaW1pdHMuc3BlZWRNaW4hIDogc3RhdGUubWlzc2lsZUxpbWl0cy5zcGVlZE1pbixcbiAgICBzcGVlZE1heDogTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5zcGVlZE1heCkgPyBsaW1pdHMuc3BlZWRNYXghIDogc3RhdGUubWlzc2lsZUxpbWl0cy5zcGVlZE1heCxcbiAgICBhZ3JvTWluOiBOdW1iZXIuaXNGaW5pdGUobGltaXRzLmFncm9NaW4pID8gbGltaXRzLmFncm9NaW4hIDogc3RhdGUubWlzc2lsZUxpbWl0cy5hZ3JvTWluLFxuICB9O1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5leHBvcnQge307XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIGBhcmdgIGlzIGEgbWVzc2FnZS5cbiAqIElmIGBkZXNjYCBpcyBzZXQsIGRldGVybWluZSB3aGV0aGVyIGBhcmdgIGlzIHRoaXMgc3BlY2lmaWMgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTWVzc2FnZShhcmcsIHNjaGVtYSkge1xuICAgIGNvbnN0IGlzTWVzc2FnZSA9IGFyZyAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgYXJnID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgXCIkdHlwZU5hbWVcIiBpbiBhcmcgJiZcbiAgICAgICAgdHlwZW9mIGFyZy4kdHlwZU5hbWUgPT0gXCJzdHJpbmdcIjtcbiAgICBpZiAoIWlzTWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzY2hlbWEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYS50eXBlTmFtZSA9PT0gYXJnLiR0eXBlTmFtZTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBTY2FsYXIgdmFsdWUgdHlwZXMuIFRoaXMgaXMgYSBzdWJzZXQgb2YgZmllbGQgdHlwZXMgZGVjbGFyZWQgYnkgcHJvdG9idWZcbiAqIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUgVGhlIHR5cGVzIEdST1VQIGFuZCBNRVNTQUdFXG4gKiBhcmUgb21pdHRlZCwgYnV0IHRoZSBudW1lcmljYWwgdmFsdWVzIGFyZSBpZGVudGljYWwuXG4gKi9cbmV4cG9ydCB2YXIgU2NhbGFyVHlwZTtcbihmdW5jdGlvbiAoU2NhbGFyVHlwZSkge1xuICAgIC8vIDAgaXMgcmVzZXJ2ZWQgZm9yIGVycm9ycy5cbiAgICAvLyBPcmRlciBpcyB3ZWlyZCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkRPVUJMRVwiXSA9IDFdID0gXCJET1VCTEVcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJGTE9BVFwiXSA9IDJdID0gXCJGTE9BVFwiO1xuICAgIC8vIE5vdCBaaWdaYWcgZW5jb2RlZC4gIE5lZ2F0aXZlIG51bWJlcnMgdGFrZSAxMCBieXRlcy4gIFVzZSBUWVBFX1NJTlQ2NCBpZlxuICAgIC8vIG5lZ2F0aXZlIHZhbHVlcyBhcmUgbGlrZWx5LlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIklOVDY0XCJdID0gM10gPSBcIklOVDY0XCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiVUlOVDY0XCJdID0gNF0gPSBcIlVJTlQ2NFwiO1xuICAgIC8vIE5vdCBaaWdaYWcgZW5jb2RlZC4gIE5lZ2F0aXZlIG51bWJlcnMgdGFrZSAxMCBieXRlcy4gIFVzZSBUWVBFX1NJTlQzMiBpZlxuICAgIC8vIG5lZ2F0aXZlIHZhbHVlcyBhcmUgbGlrZWx5LlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIklOVDMyXCJdID0gNV0gPSBcIklOVDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRklYRUQ2NFwiXSA9IDZdID0gXCJGSVhFRDY0XCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRklYRUQzMlwiXSA9IDddID0gXCJGSVhFRDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiQk9PTFwiXSA9IDhdID0gXCJCT09MXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU1RSSU5HXCJdID0gOV0gPSBcIlNUUklOR1wiO1xuICAgIC8vIFRhZy1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgIC8vIEdyb3VwIHR5cGUgaXMgZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZCBpbiBwcm90bzMuIEhvd2V2ZXIsIFByb3RvM1xuICAgIC8vIGltcGxlbWVudGF0aW9ucyBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byBwYXJzZSB0aGUgZ3JvdXAgd2lyZSBmb3JtYXQgYW5kXG4gICAgLy8gdHJlYXQgZ3JvdXAgZmllbGRzIGFzIHVua25vd24gZmllbGRzLlxuICAgIC8vIFRZUEVfR1JPVVAgPSAxMCxcbiAgICAvLyBUWVBFX01FU1NBR0UgPSAxMSwgIC8vIExlbmd0aC1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgIC8vIE5ldyBpbiB2ZXJzaW9uIDIuXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiQllURVNcIl0gPSAxMl0gPSBcIkJZVEVTXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiVUlOVDMyXCJdID0gMTNdID0gXCJVSU5UMzJcIjtcbiAgICAvLyBUWVBFX0VOVU0gPSAxNCxcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTRklYRUQzMlwiXSA9IDE1XSA9IFwiU0ZJWEVEMzJcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTRklYRUQ2NFwiXSA9IDE2XSA9IFwiU0ZJWEVENjRcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTSU5UMzJcIl0gPSAxN10gPSBcIlNJTlQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNJTlQ2NFwiXSA9IDE4XSA9IFwiU0lOVDY0XCI7XG59KShTY2FsYXJUeXBlIHx8IChTY2FsYXJUeXBlID0ge30pKTtcbiIsICIvLyBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuLy9cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBQcm90b2NvbCBCdWZmZXIgY29tcGlsZXIgaXMgb3duZWQgYnkgdGhlIG93bmVyXG4vLyBvZiB0aGUgaW5wdXQgZmlsZSB1c2VkIHdoZW4gZ2VuZXJhdGluZyBpdC4gIFRoaXMgY29kZSBpcyBub3Rcbi8vIHN0YW5kYWxvbmUgYW5kIHJlcXVpcmVzIGEgc3VwcG9ydCBsaWJyYXJ5IHRvIGJlIGxpbmtlZCB3aXRoIGl0LiAgVGhpc1xuLy8gc3VwcG9ydCBsaWJyYXJ5IGlzIGl0c2VsZiBjb3ZlcmVkIGJ5IHRoZSBhYm92ZSBsaWNlbnNlLlxuLyoqXG4gKiBSZWFkIGEgNjQgYml0IHZhcmludCBhcyB0d28gSlMgbnVtYmVycy5cbiAqXG4gKiBSZXR1cm5zIHR1cGxlOlxuICogWzBdOiBsb3cgYml0c1xuICogWzFdOiBoaWdoIGJpdHNcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iLzhhNzE5MjdkNzRhNGNlMzRlZmUyZDg3NjlmZGExOThmNTJkMjBkMTIvanMvZXhwZXJpbWVudGFsL3J1bnRpbWUva2VybmVsL2J1ZmZlcl9kZWNvZGVyLmpzI0wxNzVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhcmludDY0cmVhZCgpIHtcbiAgICBsZXQgbG93Qml0cyA9IDA7XG4gICAgbGV0IGhpZ2hCaXRzID0gMDtcbiAgICBmb3IgKGxldCBzaGlmdCA9IDA7IHNoaWZ0IDwgMjg7IHNoaWZ0ICs9IDcpIHtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICAgICAgbG93Qml0cyB8PSAoYiAmIDB4N2YpIDw8IHNoaWZ0O1xuICAgICAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICAgICAgcmV0dXJuIFtsb3dCaXRzLCBoaWdoQml0c107XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1pZGRsZUJ5dGUgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICAvLyBsYXN0IGZvdXIgYml0cyBvZiB0aGUgZmlyc3QgMzIgYml0IG51bWJlclxuICAgIGxvd0JpdHMgfD0gKG1pZGRsZUJ5dGUgJiAweDBmKSA8PCAyODtcbiAgICAvLyAzIHVwcGVyIGJpdHMgYXJlIHBhcnQgb2YgdGhlIG5leHQgMzIgYml0IG51bWJlclxuICAgIGhpZ2hCaXRzID0gKG1pZGRsZUJ5dGUgJiAweDcwKSA+PiA0O1xuICAgIGlmICgobWlkZGxlQnl0ZSAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIFtsb3dCaXRzLCBoaWdoQml0c107XG4gICAgfVxuICAgIGZvciAobGV0IHNoaWZ0ID0gMzsgc2hpZnQgPD0gMzE7IHNoaWZ0ICs9IDcpIHtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICAgICAgaGlnaEJpdHMgfD0gKGIgJiAweDdmKSA8PCBzaGlmdDtcbiAgICAgICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgICAgIHJldHVybiBbbG93Qml0cywgaGlnaEJpdHNdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdmFyaW50XCIpO1xufVxuLyoqXG4gKiBXcml0ZSBhIDY0IGJpdCB2YXJpbnQsIGdpdmVuIGFzIHR3byBKUyBudW1iZXJzLCB0byB0aGUgZ2l2ZW4gYnl0ZXMgYXJyYXkuXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYvYmxvYi84YTcxOTI3ZDc0YTRjZTM0ZWZlMmQ4NzY5ZmRhMTk4ZjUyZDIwZDEyL2pzL2V4cGVyaW1lbnRhbC9ydW50aW1lL2tlcm5lbC93cml0ZXIuanMjTDM0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50NjR3cml0ZShsbywgaGksIGJ5dGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyODsgaSA9IGkgKyA3KSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gbG8gPj4+IGk7XG4gICAgICAgIGNvbnN0IGhhc05leHQgPSAhKHNoaWZ0ID4+PiA3ID09IDAgJiYgaGkgPT0gMCk7XG4gICAgICAgIGNvbnN0IGJ5dGUgPSAoaGFzTmV4dCA/IHNoaWZ0IHwgMHg4MCA6IHNoaWZ0KSAmIDB4ZmY7XG4gICAgICAgIGJ5dGVzLnB1c2goYnl0ZSk7XG4gICAgICAgIGlmICghaGFzTmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNwbGl0Qml0cyA9ICgobG8gPj4+IDI4KSAmIDB4MGYpIHwgKChoaSAmIDB4MDcpIDw8IDQpO1xuICAgIGNvbnN0IGhhc01vcmVCaXRzID0gIShoaSA+PiAzID09IDApO1xuICAgIGJ5dGVzLnB1c2goKGhhc01vcmVCaXRzID8gc3BsaXRCaXRzIHwgMHg4MCA6IHNwbGl0Qml0cykgJiAweGZmKTtcbiAgICBpZiAoIWhhc01vcmVCaXRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDM7IGkgPCAzMTsgaSA9IGkgKyA3KSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gaGkgPj4+IGk7XG4gICAgICAgIGNvbnN0IGhhc05leHQgPSAhKHNoaWZ0ID4+PiA3ID09IDApO1xuICAgICAgICBjb25zdCBieXRlID0gKGhhc05leHQgPyBzaGlmdCB8IDB4ODAgOiBzaGlmdCkgJiAweGZmO1xuICAgICAgICBieXRlcy5wdXNoKGJ5dGUpO1xuICAgICAgICBpZiAoIWhhc05leHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBieXRlcy5wdXNoKChoaSA+Pj4gMzEpICYgMHgwMSk7XG59XG4vLyBjb25zdGFudHMgZm9yIGJpbmFyeSBtYXRoXG5jb25zdCBUV09fUFdSXzMyX0RCTCA9IDB4MTAwMDAwMDAwO1xuLyoqXG4gKiBQYXJzZSBkZWNpbWFsIHN0cmluZyBvZiA2NCBiaXQgaW50ZWdlciB2YWx1ZSBhcyB0d28gSlMgbnVtYmVycy5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi1qYXZhc2NyaXB0L2Jsb2IvYTQyOGM1ODI3M2FiYWQwN2M2NjA3MWQ5NzUzYmM0ZDEyODlkZTQyNi9leHBlcmltZW50YWwvcnVudGltZS9pbnQ2NC5qcyNMMTBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludDY0RnJvbVN0cmluZyhkZWMpIHtcbiAgICAvLyBDaGVjayBmb3IgbWludXMgc2lnbi5cbiAgICBjb25zdCBtaW51cyA9IGRlY1swXSA9PT0gXCItXCI7XG4gICAgaWYgKG1pbnVzKSB7XG4gICAgICAgIGRlYyA9IGRlYy5zbGljZSgxKTtcbiAgICB9XG4gICAgLy8gV29yayA2IGRlY2ltYWwgZGlnaXRzIGF0IGEgdGltZSwgYWN0aW5nIGxpa2Ugd2UncmUgY29udmVydGluZyBiYXNlIDFlNlxuICAgIC8vIGRpZ2l0cyB0byBiaW5hcnkuIFRoaXMgaXMgc2FmZSB0byBkbyB3aXRoIGZsb2F0aW5nIHBvaW50IG1hdGggYmVjYXVzZVxuICAgIC8vIE51bWJlci5pc1NhZmVJbnRlZ2VyKEFMTF8zMl9CSVRTICogMWU2KSA9PSB0cnVlLlxuICAgIGNvbnN0IGJhc2UgPSAxZTY7XG4gICAgbGV0IGxvd0JpdHMgPSAwO1xuICAgIGxldCBoaWdoQml0cyA9IDA7XG4gICAgZnVuY3Rpb24gYWRkMWU2ZGlnaXQoYmVnaW4sIGVuZCkge1xuICAgICAgICAvLyBOb3RlOiBOdW1iZXIoJycpIGlzIDAuXG4gICAgICAgIGNvbnN0IGRpZ2l0MWU2ID0gTnVtYmVyKGRlYy5zbGljZShiZWdpbiwgZW5kKSk7XG4gICAgICAgIGhpZ2hCaXRzICo9IGJhc2U7XG4gICAgICAgIGxvd0JpdHMgPSBsb3dCaXRzICogYmFzZSArIGRpZ2l0MWU2O1xuICAgICAgICAvLyBDYXJyeSBiaXRzIGZyb20gbG93Qml0cyB0b1xuICAgICAgICBpZiAobG93Qml0cyA+PSBUV09fUFdSXzMyX0RCTCkge1xuICAgICAgICAgICAgaGlnaEJpdHMgPSBoaWdoQml0cyArICgobG93Qml0cyAvIFRXT19QV1JfMzJfREJMKSB8IDApO1xuICAgICAgICAgICAgbG93Qml0cyA9IGxvd0JpdHMgJSBUV09fUFdSXzMyX0RCTDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGQxZTZkaWdpdCgtMjQsIC0xOCk7XG4gICAgYWRkMWU2ZGlnaXQoLTE4LCAtMTIpO1xuICAgIGFkZDFlNmRpZ2l0KC0xMiwgLTYpO1xuICAgIGFkZDFlNmRpZ2l0KC02KTtcbiAgICByZXR1cm4gbWludXMgPyBuZWdhdGUobG93Qml0cywgaGlnaEJpdHMpIDogbmV3Qml0cyhsb3dCaXRzLCBoaWdoQml0cyk7XG59XG4vKipcbiAqIExvc3NsZXNzbHkgY29udmVydHMgYSA2NC1iaXQgc2lnbmVkIGludGVnZXIgaW4gMzI6MzIgc3BsaXQgcmVwcmVzZW50YXRpb25cbiAqIGludG8gYSBkZWNpbWFsIHN0cmluZy5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi1qYXZhc2NyaXB0L2Jsb2IvYTQyOGM1ODI3M2FiYWQwN2M2NjA3MWQ5NzUzYmM0ZDEyODlkZTQyNi9leHBlcmltZW50YWwvcnVudGltZS9pbnQ2NC5qcyNMMTBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludDY0VG9TdHJpbmcobG8sIGhpKSB7XG4gICAgbGV0IGJpdHMgPSBuZXdCaXRzKGxvLCBoaSk7XG4gICAgLy8gSWYgd2UncmUgdHJlYXRpbmcgdGhlIGlucHV0IGFzIGEgc2lnbmVkIHZhbHVlIGFuZCB0aGUgaGlnaCBiaXQgaXMgc2V0LCBkb1xuICAgIC8vIGEgbWFudWFsIHR3bydzIGNvbXBsZW1lbnQgY29udmVyc2lvbiBiZWZvcmUgdGhlIGRlY2ltYWwgY29udmVyc2lvbi5cbiAgICBjb25zdCBuZWdhdGl2ZSA9IGJpdHMuaGkgJiAweDgwMDAwMDAwO1xuICAgIGlmIChuZWdhdGl2ZSkge1xuICAgICAgICBiaXRzID0gbmVnYXRlKGJpdHMubG8sIGJpdHMuaGkpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB1SW50NjRUb1N0cmluZyhiaXRzLmxvLCBiaXRzLmhpKTtcbiAgICByZXR1cm4gbmVnYXRpdmUgPyBcIi1cIiArIHJlc3VsdCA6IHJlc3VsdDtcbn1cbi8qKlxuICogTG9zc2xlc3NseSBjb252ZXJ0cyBhIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIGluIDMyOjMyIHNwbGl0IHJlcHJlc2VudGF0aW9uXG4gKiBpbnRvIGEgZGVjaW1hbCBzdHJpbmcuXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYtamF2YXNjcmlwdC9ibG9iL2E0MjhjNTgyNzNhYmFkMDdjNjYwNzFkOTc1M2JjNGQxMjg5ZGU0MjYvZXhwZXJpbWVudGFsL3J1bnRpbWUvaW50NjQuanMjTDEwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1SW50NjRUb1N0cmluZyhsbywgaGkpIHtcbiAgICAoeyBsbywgaGkgfSA9IHRvVW5zaWduZWQobG8sIGhpKSk7XG4gICAgLy8gU2tpcCB0aGUgZXhwZW5zaXZlIGNvbnZlcnNpb24gaWYgdGhlIG51bWJlciBpcyBzbWFsbCBlbm91Z2ggdG8gdXNlIHRoZVxuICAgIC8vIGJ1aWx0LWluIGNvbnZlcnNpb25zLlxuICAgIC8vIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSID0gMHgwMDFGRkZGRiBGRkZGRkZGRiwgdGh1cyBhbnkgbnVtYmVyIHdpdGhcbiAgICAvLyBoaWdoQml0cyA8PSAweDFGRkZGRiBjYW4gYmUgc2FmZWx5IGV4cHJlc3NlZCB3aXRoIGEgZG91YmxlIGFuZCByZXRhaW5cbiAgICAvLyBpbnRlZ2VyIHByZWNpc2lvbi5cbiAgICAvLyBQcm92ZW4gYnk6IE51bWJlci5pc1NhZmVJbnRlZ2VyKDB4MUZGRkZGICogMioqMzIgKyAweEZGRkZGRkZGKSA9PSB0cnVlLlxuICAgIGlmIChoaSA8PSAweDFmZmZmZikge1xuICAgICAgICByZXR1cm4gU3RyaW5nKFRXT19QV1JfMzJfREJMICogaGkgKyBsbyk7XG4gICAgfVxuICAgIC8vIFdoYXQgdGhpcyBjb2RlIGlzIGRvaW5nIGlzIGVzc2VudGlhbGx5IGNvbnZlcnRpbmcgdGhlIGlucHV0IG51bWJlciBmcm9tXG4gICAgLy8gYmFzZS0yIHRvIGJhc2UtMWU3LCB3aGljaCBhbGxvd3MgdXMgdG8gcmVwcmVzZW50IHRoZSA2NC1iaXQgcmFuZ2Ugd2l0aFxuICAgIC8vIG9ubHkgMyAodmVyeSBsYXJnZSkgZGlnaXRzLiBUaG9zZSBkaWdpdHMgYXJlIHRoZW4gdHJpdmlhbCB0byBjb252ZXJ0IHRvXG4gICAgLy8gYSBiYXNlLTEwIHN0cmluZy5cbiAgICAvLyBUaGUgbWFnaWMgbnVtYmVycyB1c2VkIGhlcmUgYXJlIC1cbiAgICAvLyAyXjI0ID0gMTY3NzcyMTYgPSAoMSw2Nzc3MjE2KSBpbiBiYXNlLTFlNy5cbiAgICAvLyAyXjQ4ID0gMjgxNDc0OTc2NzEwNjU2ID0gKDIsODE0NzQ5Nyw2NzEwNjU2KSBpbiBiYXNlLTFlNy5cbiAgICAvLyBTcGxpdCAzMjozMiByZXByZXNlbnRhdGlvbiBpbnRvIDE2OjI0OjI0IHJlcHJlc2VudGF0aW9uIHNvIG91clxuICAgIC8vIGludGVybWVkaWF0ZSBkaWdpdHMgZG9uJ3Qgb3ZlcmZsb3cuXG4gICAgY29uc3QgbG93ID0gbG8gJiAweGZmZmZmZjtcbiAgICBjb25zdCBtaWQgPSAoKGxvID4+PiAyNCkgfCAoaGkgPDwgOCkpICYgMHhmZmZmZmY7XG4gICAgY29uc3QgaGlnaCA9IChoaSA+PiAxNikgJiAweGZmZmY7XG4gICAgLy8gQXNzZW1ibGUgb3VyIHRocmVlIGJhc2UtMWU3IGRpZ2l0cywgaWdub3JpbmcgY2Fycmllcy4gVGhlIG1heGltdW1cbiAgICAvLyB2YWx1ZSBpbiBhIGRpZ2l0IGF0IHRoaXMgc3RlcCBpcyByZXByZXNlbnRhYmxlIGFzIGEgNDgtYml0IGludGVnZXIsIHdoaWNoXG4gICAgLy8gY2FuIGJlIHN0b3JlZCBpbiBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgbGV0IGRpZ2l0QSA9IGxvdyArIG1pZCAqIDY3NzcyMTYgKyBoaWdoICogNjcxMDY1NjtcbiAgICBsZXQgZGlnaXRCID0gbWlkICsgaGlnaCAqIDgxNDc0OTc7XG4gICAgbGV0IGRpZ2l0QyA9IGhpZ2ggKiAyO1xuICAgIC8vIEFwcGx5IGNhcnJpZXMgZnJvbSBBIHRvIEIgYW5kIGZyb20gQiB0byBDLlxuICAgIGNvbnN0IGJhc2UgPSAxMDAwMDAwMDtcbiAgICBpZiAoZGlnaXRBID49IGJhc2UpIHtcbiAgICAgICAgZGlnaXRCICs9IE1hdGguZmxvb3IoZGlnaXRBIC8gYmFzZSk7XG4gICAgICAgIGRpZ2l0QSAlPSBiYXNlO1xuICAgIH1cbiAgICBpZiAoZGlnaXRCID49IGJhc2UpIHtcbiAgICAgICAgZGlnaXRDICs9IE1hdGguZmxvb3IoZGlnaXRCIC8gYmFzZSk7XG4gICAgICAgIGRpZ2l0QiAlPSBiYXNlO1xuICAgIH1cbiAgICAvLyBJZiBkaWdpdEMgaXMgMCwgdGhlbiB3ZSBzaG91bGQgaGF2ZSByZXR1cm5lZCBpbiB0aGUgdHJpdmlhbCBjb2RlIHBhdGhcbiAgICAvLyBhdCB0aGUgdG9wIGZvciBub24tc2FmZSBpbnRlZ2Vycy4gR2l2ZW4gdGhpcywgd2UgY2FuIGFzc3VtZSBib3RoIGRpZ2l0QlxuICAgIC8vIGFuZCBkaWdpdEEgbmVlZCBsZWFkaW5nIHplcm9zLlxuICAgIHJldHVybiAoZGlnaXRDLnRvU3RyaW5nKCkgK1xuICAgICAgICBkZWNpbWFsRnJvbTFlN1dpdGhMZWFkaW5nWmVyb3MoZGlnaXRCKSArXG4gICAgICAgIGRlY2ltYWxGcm9tMWU3V2l0aExlYWRpbmdaZXJvcyhkaWdpdEEpKTtcbn1cbmZ1bmN0aW9uIHRvVW5zaWduZWQobG8sIGhpKSB7XG4gICAgcmV0dXJuIHsgbG86IGxvID4+PiAwLCBoaTogaGkgPj4+IDAgfTtcbn1cbmZ1bmN0aW9uIG5ld0JpdHMobG8sIGhpKSB7XG4gICAgcmV0dXJuIHsgbG86IGxvIHwgMCwgaGk6IGhpIHwgMCB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIHR3bydzIGNvbXBsaW1lbnQgbmVnYXRpb24gb2YgaW5wdXQuXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9CaXR3aXNlX09wZXJhdG9ycyNTaWduZWRfMzItYml0X2ludGVnZXJzXG4gKi9cbmZ1bmN0aW9uIG5lZ2F0ZShsb3dCaXRzLCBoaWdoQml0cykge1xuICAgIGhpZ2hCaXRzID0gfmhpZ2hCaXRzO1xuICAgIGlmIChsb3dCaXRzKSB7XG4gICAgICAgIGxvd0JpdHMgPSB+bG93Qml0cyArIDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBJZiBsb3dCaXRzIGlzIDAsIHRoZW4gYml0d2lzZS1ub3QgaXMgMHhGRkZGRkZGRixcbiAgICAgICAgLy8gYWRkaW5nIDEgdG8gdGhhdCwgcmVzdWx0cyBpbiAweDEwMDAwMDAwMCwgd2hpY2ggbGVhdmVzXG4gICAgICAgIC8vIHRoZSBsb3cgYml0cyAweDAgYW5kIHNpbXBseSBhZGRzIG9uZSB0byB0aGUgaGlnaCBiaXRzLlxuICAgICAgICBoaWdoQml0cyArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Qml0cyhsb3dCaXRzLCBoaWdoQml0cyk7XG59XG4vKipcbiAqIFJldHVybnMgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiBkaWdpdDFlNyB3aXRoIGxlYWRpbmcgemVyb3MuXG4gKi9cbmNvbnN0IGRlY2ltYWxGcm9tMWU3V2l0aExlYWRpbmdaZXJvcyA9IChkaWdpdDFlNykgPT4ge1xuICAgIGNvbnN0IHBhcnRpYWwgPSBTdHJpbmcoZGlnaXQxZTcpO1xuICAgIHJldHVybiBcIjAwMDAwMDBcIi5zbGljZShwYXJ0aWFsLmxlbmd0aCkgKyBwYXJ0aWFsO1xufTtcbi8qKlxuICogV3JpdGUgYSAzMiBiaXQgdmFyaW50LCBzaWduZWQgb3IgdW5zaWduZWQuIFNhbWUgYXMgYHZhcmludDY0d3JpdGUoMCwgdmFsdWUsIGJ5dGVzKWBcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iLzFiMTg4MzNmNGYyYTJmNjgxZjRlNGEyNWNkZjNiMGE0MzExNWVjMjYvanMvYmluYXJ5L2VuY29kZXIuanMjTDE0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50MzJ3cml0ZSh2YWx1ZSwgYnl0ZXMpIHtcbiAgICBpZiAodmFsdWUgPj0gMCkge1xuICAgICAgICAvLyB3cml0ZSB2YWx1ZSBhcyB2YXJpbnQgMzJcbiAgICAgICAgd2hpbGUgKHZhbHVlID4gMHg3Zikge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgJiAweDdmKSB8IDB4ODApO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+Pj4gNztcbiAgICAgICAgfVxuICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKCh2YWx1ZSAmIDEyNykgfCAxMjgpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiA3O1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVzLnB1c2goMSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZWFkIGFuIHVuc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYvYmxvYi84YTcxOTI3ZDc0YTRjZTM0ZWZlMmQ4NzY5ZmRhMTk4ZjUyZDIwZDEyL2pzL2V4cGVyaW1lbnRhbC9ydW50aW1lL2tlcm5lbC9idWZmZXJfZGVjb2Rlci5qcyNMMjIwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YXJpbnQzMnJlYWQoKSB7XG4gICAgbGV0IGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICBsZXQgcmVzdWx0ID0gYiAmIDB4N2Y7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3ZikgPDwgNztcbiAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICByZXN1bHQgfD0gKGIgJiAweDdmKSA8PCAxNDtcbiAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICByZXN1bHQgfD0gKGIgJiAweDdmKSA8PCAyMTtcbiAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIEV4dHJhY3Qgb25seSBsYXN0IDQgYml0c1xuICAgIGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICByZXN1bHQgfD0gKGIgJiAweDBmKSA8PCAyODtcbiAgICBmb3IgKGxldCByZWFkQnl0ZXMgPSA1OyAoYiAmIDB4ODApICE9PSAwICYmIHJlYWRCeXRlcyA8IDEwOyByZWFkQnl0ZXMrKylcbiAgICAgICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIGlmICgoYiAmIDB4ODApICE9IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdmFyaW50XCIpO1xuICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgLy8gUmVzdWx0IGNhbiBoYXZlIDMyIGJpdHMsIGNvbnZlcnQgaXQgdG8gdW5zaWduZWRcbiAgICByZXR1cm4gcmVzdWx0ID4+PiAwO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBpbnQ2NEZyb21TdHJpbmcsIGludDY0VG9TdHJpbmcsIHVJbnQ2NFRvU3RyaW5nLCB9IGZyb20gXCIuL3dpcmUvdmFyaW50LmpzXCI7XG4vKipcbiAqIEludDY0U3VwcG9ydCBmb3IgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwcm90b0ludDY0ID0gLypAX19QVVJFX18qLyBtYWtlSW50NjRTdXBwb3J0KCk7XG5mdW5jdGlvbiBtYWtlSW50NjRTdXBwb3J0KCkge1xuICAgIGNvbnN0IGR2ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcig4KSk7XG4gICAgLy8gbm90ZSB0aGF0IFNhZmFyaSAxNCBpbXBsZW1lbnRzIEJpZ0ludCwgYnV0IG5vdCB0aGUgRGF0YVZpZXcgbWV0aG9kc1xuICAgIGNvbnN0IG9rID0gdHlwZW9mIEJpZ0ludCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIHR5cGVvZiBkdi5nZXRCaWdJbnQ2NCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIHR5cGVvZiBkdi5nZXRCaWdVaW50NjQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZHYuc2V0QmlnSW50NjQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZHYuc2V0QmlnVWludDY0ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgKCEhZ2xvYmFsVGhpcy5EZW5vIHx8XG4gICAgICAgICAgICB0eXBlb2YgcHJvY2VzcyAhPSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgcHJvY2Vzcy5lbnYgIT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuQlVGX0JJR0lOVF9ESVNBQkxFICE9PSBcIjFcIik7XG4gICAgaWYgKG9rKSB7XG4gICAgICAgIGNvbnN0IE1JTiA9IEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpO1xuICAgICAgICBjb25zdCBNQVggPSBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpO1xuICAgICAgICBjb25zdCBVTUlOID0gQmlnSW50KFwiMFwiKTtcbiAgICAgICAgY29uc3QgVU1BWCA9IEJpZ0ludChcIjE4NDQ2NzQ0MDczNzA5NTUxNjE1XCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgemVybzogQmlnSW50KDApLFxuICAgICAgICAgICAgc3VwcG9ydGVkOiB0cnVlLFxuICAgICAgICAgICAgcGFyc2UodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaSA9IHR5cGVvZiB2YWx1ZSA9PSBcImJpZ2ludFwiID8gdmFsdWUgOiBCaWdJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChiaSA+IE1BWCB8fCBiaSA8IE1JTikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgaW50NjQ6ICR7dmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBiaTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1UGFyc2UodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaSA9IHR5cGVvZiB2YWx1ZSA9PSBcImJpZ2ludFwiID8gdmFsdWUgOiBCaWdJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChiaSA+IFVNQVggfHwgYmkgPCBVTUlOKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB1aW50NjQ6ICR7dmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBiaTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmModmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkdi5zZXRCaWdJbnQ2NCgwLCB0aGlzLnBhcnNlKHZhbHVlKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbG86IGR2LmdldEludDMyKDAsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBoaTogZHYuZ2V0SW50MzIoNCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1RW5jKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZHYuc2V0QmlnSW50NjQoMCwgdGhpcy51UGFyc2UodmFsdWUpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsbzogZHYuZ2V0SW50MzIoMCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGhpOiBkdi5nZXRJbnQzMig0LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlYyhsbywgaGkpIHtcbiAgICAgICAgICAgICAgICBkdi5zZXRJbnQzMigwLCBsbywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZHYuc2V0SW50MzIoNCwgaGksIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkdi5nZXRCaWdJbnQ2NCgwLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1RGVjKGxvLCBoaSkge1xuICAgICAgICAgICAgICAgIGR2LnNldEludDMyKDAsIGxvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBkdi5zZXRJbnQzMig0LCBoaSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR2LmdldEJpZ1VpbnQ2NCgwLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHplcm86IFwiMFwiLFxuICAgICAgICBzdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgICBwYXJzZSh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0SW50NjRTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICB1UGFyc2UodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2VydFVJbnQ2NFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVuYyh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0SW50NjRTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGludDY0RnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVFbmModmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2VydFVJbnQ2NFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW50NjRGcm9tU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjKGxvLCBoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGludDY0VG9TdHJpbmcobG8sIGhpKTtcbiAgICAgICAgfSxcbiAgICAgICAgdURlYyhsbywgaGkpIHtcbiAgICAgICAgICAgIHJldHVybiB1SW50NjRUb1N0cmluZyhsbywgaGkpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBhc3NlcnRJbnQ2NFN0cmluZyh2YWx1ZSkge1xuICAgIGlmICghL14tP1swLTldKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgaW50NjQ6IFwiICsgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFVJbnQ2NFN0cmluZyh2YWx1ZSkge1xuICAgIGlmICghL15bMC05XSskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHVpbnQ2NDogXCIgKyB2YWx1ZSk7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBwcm90b0ludDY0IH0gZnJvbSBcIi4uL3Byb3RvLWludDY0LmpzXCI7XG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4uL2Rlc2NyaXB0b3JzLmpzXCI7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBib3RoIHNjYWxhciB2YWx1ZXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGFyRXF1YWxzKHR5cGUsIGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAvLyBUaGlzIGNvcnJlY3RseSBtYXRjaGVzIGVxdWFsIHZhbHVlcyBleGNlcHQgQllURVMgYW5kIChwb3NzaWJseSkgNjQtYml0IGludGVnZXJzLlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gU3BlY2lhbCBjYXNlIEJZVEVTIC0gd2UgbmVlZCB0byBjb21wYXJlIGVhY2ggYnl0ZSBpbmRpdmlkdWFsbHlcbiAgICBpZiAodHlwZSA9PSBTY2FsYXJUeXBlLkJZVEVTKSB7XG4gICAgICAgIGlmICghKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB8fCAhKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBTcGVjaWFsIGNhc2UgNjQtYml0IGludGVnZXJzIC0gd2Ugc3VwcG9ydCBudW1iZXIsIHN0cmluZyBhbmQgYmlnaW50IHJlcHJlc2VudGF0aW9uLlxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAvLyBMb29zZSBjb21wYXJpc29uIHdpbGwgbWF0Y2ggYmV0d2VlbiAwbiwgMCBhbmQgXCIwXCIuXG4gICAgICAgICAgICByZXR1cm4gYSA9PSBiO1xuICAgIH1cbiAgICAvLyBBbnl0aGluZyB0aGF0IGhhc24ndCBiZWVuIGNhdWdodCBieSBzdHJpY3QgY29tcGFyaXNvbiBvciBzcGVjaWFsIGNhc2VkXG4gICAgLy8gQllURVMgYW5kIDY0LWJpdCBpbnRlZ2VycyBpcyBub3QgZXF1YWwuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB6ZXJvIHZhbHVlIGZvciB0aGUgZ2l2ZW4gc2NhbGFyIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsYXJaZXJvVmFsdWUodHlwZSwgbG9uZ0FzU3RyaW5nKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiAobG9uZ0FzU3RyaW5nID8gXCIwXCIgOiBwcm90b0ludDY0Lnplcm8pO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBIYW5kbGVzIElOVDMyLCBVSU5UMzIsIFNJTlQzMiwgRklYRUQzMiwgU0ZJWEVEMzIuXG4gICAgICAgICAgICAvLyBXZSBkbyBub3QgdXNlIGluZGl2aWR1YWwgY2FzZXMgdG8gc2F2ZSBhIGZldyBieXRlcyBjb2RlIHNpemUuXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBmb3IgYSB6ZXJvLXZhbHVlLiBGb3IgZXhhbXBsZSwgYW4gaW50ZWdlciBoYXMgdGhlIHplcm8tdmFsdWUgYDBgLFxuICogYSBib29sZWFuIGlzIGBmYWxzZWAsIGEgc3RyaW5nIGlzIGBcIlwiYCwgYW5kIGJ5dGVzIGlzIGFuIGVtcHR5IFVpbnQ4QXJyYXkuXG4gKlxuICogSW4gcHJvdG8zLCB6ZXJvLXZhbHVlcyBhcmUgbm90IHdyaXR0ZW4gdG8gdGhlIHdpcmUsIHVubGVzcyB0aGUgZmllbGQgaXNcbiAqIG9wdGlvbmFsIG9yIHJlcGVhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY2FsYXJaZXJvVmFsdWUodHlwZSwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBcIlwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmICF2YWx1ZS5ieXRlTGVuZ3RoO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDA7IC8vIExvb3NlIGNvbXBhcmlzb24gbWF0Y2hlcyAwbiwgMCBhbmQgXCIwXCJcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IGlzU2NhbGFyWmVyb1ZhbHVlLCBzY2FsYXJaZXJvVmFsdWUgfSBmcm9tIFwiLi9zY2FsYXIuanNcIjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5JTVBMSUNJVDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IElNUExJQ0lUID0gMjtcbmV4cG9ydCBjb25zdCB1bnNhZmVMb2NhbCA9IFN5bWJvbC5mb3IoXCJyZWZsZWN0IHVuc2FmZSBsb2NhbFwiKTtcbi8qKlxuICogUmV0dXJuIHRoZSBzZWxlY3RlZCBmaWVsZCBvZiBhIG9uZW9mIGdyb3VwLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVPbmVvZkNhc2UoXG4vLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IGBhbnlgIGlzIHRoZSBiZXN0IGNob2ljZSBmb3IgZHluYW1pYyBhY2Nlc3NcbnRhcmdldCwgb25lb2YpIHtcbiAgICBjb25zdCBjID0gdGFyZ2V0W29uZW9mLmxvY2FsTmFtZV0uY2FzZTtcbiAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICByZXR1cm4gb25lb2YuZmllbGRzLmZpbmQoKGYpID0+IGYubG9jYWxOYW1lID09PSBjKTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBmaWVsZCBpcyBzZXQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZUlzU2V0KFxuLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBgYW55YCBpcyB0aGUgYmVzdCBjaG9pY2UgZm9yIGR5bmFtaWMgYWNjZXNzXG50YXJnZXQsIGZpZWxkKSB7XG4gICAgY29uc3QgbmFtZSA9IGZpZWxkLmxvY2FsTmFtZTtcbiAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtmaWVsZC5vbmVvZi5sb2NhbE5hbWVdLmNhc2UgPT09IG5hbWU7XG4gICAgfVxuICAgIGlmIChmaWVsZC5wcmVzZW5jZSAhPSBJTVBMSUNJVCkge1xuICAgICAgICAvLyBGaWVsZHMgd2l0aCBleHBsaWNpdCBwcmVzZW5jZSBoYXZlIHByb3BlcnRpZXMgb24gdGhlIHByb3RvdHlwZSBjaGFpblxuICAgICAgICAvLyBmb3IgZGVmYXVsdCAvIHplcm8gdmFsdWVzIChleGNlcHQgZm9yIHByb3RvMykuXG4gICAgICAgIHJldHVybiAodGFyZ2V0W25hbWVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIG5hbWUpKTtcbiAgICB9XG4gICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbbmFtZV0ubGVuZ3RoID4gMDtcbiAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldFtuYW1lXSkubGVuZ3RoID4gMDtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgcmV0dXJuICFpc1NjYWxhclplcm9WYWx1ZShmaWVsZC5zY2FsYXIsIHRhcmdldFtuYW1lXSk7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdICE9PSBmaWVsZC5lbnVtLnZhbHVlc1swXS5udW1iZXI7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1lc3NhZ2UgZmllbGQgd2l0aCBpbXBsaWNpdCBwcmVzZW5jZVwiKTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBmaWVsZCBpcyBzZXQsIGJ1dCBvbmx5IGZvciBzaW5ndWxhciBmaWVsZHMgd2l0aCBleHBsaWNpdFxuICogcHJlc2VuY2UgKHByb3RvMikuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZUlzU2V0RXhwbGljaXQodGFyZ2V0LCBsb2NhbE5hbWUpIHtcbiAgICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGxvY2FsTmFtZSkgJiZcbiAgICAgICAgdGFyZ2V0W2xvY2FsTmFtZV0gIT09IHVuZGVmaW5lZCk7XG59XG4vKipcbiAqIFJldHVybiBhIGZpZWxkIHZhbHVlLCByZXNwZWN0aW5nIG9uZW9mIGdyb3Vwcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlR2V0KHRhcmdldCwgZmllbGQpIHtcbiAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgY29uc3Qgb25lb2YgPSB0YXJnZXRbZmllbGQub25lb2YubG9jYWxOYW1lXTtcbiAgICAgICAgaWYgKG9uZW9mLmNhc2UgPT09IGZpZWxkLmxvY2FsTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9uZW9mLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRbZmllbGQubG9jYWxOYW1lXTtcbn1cbi8qKlxuICogU2V0IGEgZmllbGQgdmFsdWUsIHJlc3BlY3Rpbmcgb25lb2YgZ3JvdXBzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTZXQodGFyZ2V0LCBmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgdGFyZ2V0W2ZpZWxkLm9uZW9mLmxvY2FsTmFtZV0gPSB7XG4gICAgICAgICAgICBjYXNlOiBmaWVsZC5sb2NhbE5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXRbZmllbGQubG9jYWxOYW1lXSA9IHZhbHVlO1xuICAgIH1cbn1cbi8qKlxuICogUmVzZXRzIHRoZSBmaWVsZCwgc28gdGhhdCB1bnNhZmVJc1NldCgpIHdpbGwgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVDbGVhcihcbi8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogYGFueWAgaXMgdGhlIGJlc3QgY2hvaWNlIGZvciBkeW5hbWljIGFjY2Vzc1xudGFyZ2V0LCBmaWVsZCkge1xuICAgIGNvbnN0IG5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgIGNvbnN0IG9uZW9mTG9jYWxOYW1lID0gZmllbGQub25lb2YubG9jYWxOYW1lO1xuICAgICAgICBpZiAodGFyZ2V0W29uZW9mTG9jYWxOYW1lXS5jYXNlID09PSBuYW1lKSB7XG4gICAgICAgICAgICB0YXJnZXRbb25lb2ZMb2NhbE5hbWVdID0geyBjYXNlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChmaWVsZC5wcmVzZW5jZSAhPSBJTVBMSUNJVCkge1xuICAgICAgICAvLyBGaWVsZHMgd2l0aCBleHBsaWNpdCBwcmVzZW5jZSBoYXZlIHByb3BlcnRpZXMgb24gdGhlIHByb3RvdHlwZSBjaGFpblxuICAgICAgICAvLyBmb3IgZGVmYXVsdCAvIHplcm8gdmFsdWVzIChleGNlcHQgZm9yIHByb3RvMykuIEJ5IGRlbGV0aW5nIHRoZWlyIG93blxuICAgICAgICAvLyBwcm9wZXJ0eSwgdGhlIGZpZWxkIGlzIHJlc2V0LlxuICAgICAgICBkZWxldGUgdGFyZ2V0W25hbWVdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB7fTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGZpZWxkLmVudW0udmFsdWVzWzBdLm51bWJlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBzY2FsYXJaZXJvVmFsdWUoZmllbGQuc2NhbGFyLCBmaWVsZC5sb25nQXNTdHJpbmcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyB1bnNhZmVMb2NhbCB9IGZyb20gXCIuL3Vuc2FmZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICAgIHJldHVybiBhcmcgIT09IG51bGwgJiYgdHlwZW9mIGFyZyA9PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGFyZyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPbmVvZkFEVChhcmcpIHtcbiAgICByZXR1cm4gKGFyZyAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgYXJnID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgXCJjYXNlXCIgaW4gYXJnICYmXG4gICAgICAgICgodHlwZW9mIGFyZy5jYXNlID09IFwic3RyaW5nXCIgJiYgXCJ2YWx1ZVwiIGluIGFyZyAmJiBhcmcudmFsdWUgIT0gbnVsbCkgfHxcbiAgICAgICAgICAgIChhcmcuY2FzZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgKCEoXCJ2YWx1ZVwiIGluIGFyZykgfHwgYXJnLnZhbHVlID09PSB1bmRlZmluZWQpKSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVmbGVjdExpc3QoYXJnLCBmaWVsZCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoaXNPYmplY3QoYXJnKSAmJlxuICAgICAgICB1bnNhZmVMb2NhbCBpbiBhcmcgJiZcbiAgICAgICAgXCJhZGRcIiBpbiBhcmcgJiZcbiAgICAgICAgXCJmaWVsZFwiIGluIGFyZyAmJlxuICAgICAgICB0eXBlb2YgYXJnLmZpZWxkID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoZmllbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IGZpZWxkO1xuICAgICAgICAgICAgY29uc3QgYiA9IGFyZy5maWVsZCgpO1xuICAgICAgICAgICAgcmV0dXJuIChhLmxpc3RLaW5kID09IGIubGlzdEtpbmQgJiZcbiAgICAgICAgICAgICAgICBhLnNjYWxhciA9PT0gYi5zY2FsYXIgJiZcbiAgICAgICAgICAgICAgICAoKF9hID0gYS5tZXNzYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZU5hbWUpID09PSAoKF9iID0gYi5tZXNzYWdlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHlwZU5hbWUpICYmXG4gICAgICAgICAgICAgICAgKChfYyA9IGEuZW51bSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnR5cGVOYW1lKSA9PT0gKChfZCA9IGIuZW51bSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnR5cGVOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZmxlY3RNYXAoYXJnLCBmaWVsZCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoaXNPYmplY3QoYXJnKSAmJlxuICAgICAgICB1bnNhZmVMb2NhbCBpbiBhcmcgJiZcbiAgICAgICAgXCJoYXNcIiBpbiBhcmcgJiZcbiAgICAgICAgXCJmaWVsZFwiIGluIGFyZyAmJlxuICAgICAgICB0eXBlb2YgYXJnLmZpZWxkID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoZmllbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IGZpZWxkLCBiID0gYXJnLmZpZWxkKCk7XG4gICAgICAgICAgICByZXR1cm4gKGEubWFwS2V5ID09PSBiLm1hcEtleSAmJlxuICAgICAgICAgICAgICAgIGEubWFwS2luZCA9PSBiLm1hcEtpbmQgJiZcbiAgICAgICAgICAgICAgICBhLnNjYWxhciA9PT0gYi5zY2FsYXIgJiZcbiAgICAgICAgICAgICAgICAoKF9hID0gYS5tZXNzYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZU5hbWUpID09PSAoKF9iID0gYi5tZXNzYWdlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHlwZU5hbWUpICYmXG4gICAgICAgICAgICAgICAgKChfYyA9IGEuZW51bSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnR5cGVOYW1lKSA9PT0gKChfZCA9IGIuZW51bSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnR5cGVOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZmxlY3RNZXNzYWdlKGFyZywgbWVzc2FnZURlc2MpIHtcbiAgICByZXR1cm4gKGlzT2JqZWN0KGFyZykgJiZcbiAgICAgICAgdW5zYWZlTG9jYWwgaW4gYXJnICYmXG4gICAgICAgIFwiZGVzY1wiIGluIGFyZyAmJlxuICAgICAgICBpc09iamVjdChhcmcuZGVzYykgJiZcbiAgICAgICAgYXJnLmRlc2Mua2luZCA9PT0gXCJtZXNzYWdlXCIgJiZcbiAgICAgICAgKG1lc3NhZ2VEZXNjID09PSB1bmRlZmluZWQgfHwgYXJnLmRlc2MudHlwZU5hbWUgPT0gbWVzc2FnZURlc2MudHlwZU5hbWUpKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuZXhwb3J0IGZ1bmN0aW9uIGlzV3JhcHBlcihhcmcpIHtcbiAgICByZXR1cm4gaXNXcmFwcGVyVHlwZU5hbWUoYXJnLiR0eXBlTmFtZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNXcmFwcGVyRGVzYyhtZXNzYWdlRGVzYykge1xuICAgIGNvbnN0IGYgPSBtZXNzYWdlRGVzYy5maWVsZHNbMF07XG4gICAgcmV0dXJuIChpc1dyYXBwZXJUeXBlTmFtZShtZXNzYWdlRGVzYy50eXBlTmFtZSkgJiZcbiAgICAgICAgZiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGYuZmllbGRLaW5kID09IFwic2NhbGFyXCIgJiZcbiAgICAgICAgZi5uYW1lID09IFwidmFsdWVcIiAmJlxuICAgICAgICBmLm51bWJlciA9PSAxKTtcbn1cbmZ1bmN0aW9uIGlzV3JhcHBlclR5cGVOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gKG5hbWUuc3RhcnRzV2l0aChcImdvb2dsZS5wcm90b2J1Zi5cIikgJiZcbiAgICAgICAgW1xuICAgICAgICAgICAgXCJEb3VibGVWYWx1ZVwiLFxuICAgICAgICAgICAgXCJGbG9hdFZhbHVlXCIsXG4gICAgICAgICAgICBcIkludDY0VmFsdWVcIixcbiAgICAgICAgICAgIFwiVUludDY0VmFsdWVcIixcbiAgICAgICAgICAgIFwiSW50MzJWYWx1ZVwiLFxuICAgICAgICAgICAgXCJVSW50MzJWYWx1ZVwiLFxuICAgICAgICAgICAgXCJCb29sVmFsdWVcIixcbiAgICAgICAgICAgIFwiU3RyaW5nVmFsdWVcIixcbiAgICAgICAgICAgIFwiQnl0ZXNWYWx1ZVwiLFxuICAgICAgICBdLmluY2x1ZGVzKG5hbWUuc3Vic3RyaW5nKDE2KSkpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBpc01lc3NhZ2UgfSBmcm9tIFwiLi9pcy1tZXNzYWdlLmpzXCI7XG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBzY2FsYXJaZXJvVmFsdWUgfSBmcm9tIFwiLi9yZWZsZWN0L3NjYWxhci5qc1wiO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tIFwiLi9yZWZsZWN0L2d1YXJkLmpzXCI7XG5pbXBvcnQgeyB1bnNhZmVHZXQsIHVuc2FmZU9uZW9mQ2FzZSwgdW5zYWZlU2V0IH0gZnJvbSBcIi4vcmVmbGVjdC91bnNhZmUuanNcIjtcbmltcG9ydCB7IGlzV3JhcHBlckRlc2MgfSBmcm9tIFwiLi93a3Qvd3JhcHBlcnMuanNcIjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkVkaXRpb24uRURJVElPTl9QUk9UTzM6IGNvbnN0ICRuYW1lOiBFZGl0aW9uLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgRURJVElPTl9QUk9UTzMgPSA5OTk7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uLkVESVRJT05fUFJPVE8yOiBjb25zdCAkbmFtZTogRWRpdGlvbi4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IEVESVRJT05fUFJPVE8yID0gOTk4O1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLklNUExJQ0lUOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgSU1QTElDSVQgPSAyO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWVzc2FnZSBpbnN0YW5jZS5cbiAqXG4gKiBUaGUgc2Vjb25kIGFyZ3VtZW50IGlzIGFuIG9wdGlvbmFsIGluaXRpYWxpemVyIG9iamVjdCwgd2hlcmUgYWxsIGZpZWxkcyBhcmVcbiAqIG9wdGlvbmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHNjaGVtYSwgaW5pdCkge1xuICAgIGlmIChpc01lc3NhZ2UoaW5pdCwgc2NoZW1hKSkge1xuICAgICAgICByZXR1cm4gaW5pdDtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZVplcm9NZXNzYWdlKHNjaGVtYSk7XG4gICAgaWYgKGluaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbml0TWVzc2FnZShzY2hlbWEsIG1lc3NhZ2UsIGluaXQpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbi8qKlxuICogU2V0cyBmaWVsZCB2YWx1ZXMgZnJvbSBhIE1lc3NhZ2VJbml0U2hhcGUgb24gYSB6ZXJvIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGluaXRNZXNzYWdlKG1lc3NhZ2VEZXNjLCBtZXNzYWdlLCBpbml0KSB7XG4gICAgZm9yIChjb25zdCBtZW1iZXIgb2YgbWVzc2FnZURlc2MubWVtYmVycykge1xuICAgICAgICBsZXQgdmFsdWUgPSBpbml0W21lbWJlci5sb2NhbE5hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaW50ZW50aW9uYWxseSBpZ25vcmUgdW5kZWZpbmVkIGFuZCBudWxsXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmllbGQ7XG4gICAgICAgIGlmIChtZW1iZXIua2luZCA9PSBcIm9uZW9mXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uZW9mRmllbGQgPSB1bnNhZmVPbmVvZkNhc2UoaW5pdCwgbWVtYmVyKTtcbiAgICAgICAgICAgIGlmICghb25lb2ZGaWVsZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGQgPSBvbmVvZkZpZWxkO1xuICAgICAgICAgICAgdmFsdWUgPSB1bnNhZmVHZXQoaW5pdCwgb25lb2ZGaWVsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaWVsZCA9IG1lbWJlcjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvTWVzc2FnZShmaWVsZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gaW5pdFNjYWxhcihmaWVsZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGluaXRMaXN0KGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpbml0TWFwKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdW5zYWZlU2V0KG1lc3NhZ2UsIGZpZWxkLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gaW5pdFNjYWxhcihmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQuc2NhbGFyID09IFNjYWxhclR5cGUuQllURVMpIHtcbiAgICAgICAgcmV0dXJuIHRvVThBcnIodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBpbml0TWFwKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGZpZWxkLnNjYWxhciA9PSBTY2FsYXJUeXBlLkJZVEVTKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydE9iamVjdFZhbHVlcyh2YWx1ZSwgdG9VOEFycik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLm1hcEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0T2JqZWN0VmFsdWVzKHZhbHVlLCAodmFsKSA9PiB0b01lc3NhZ2UoZmllbGQsIHZhbCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGluaXRMaXN0KGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAoZmllbGQuc2NhbGFyID09IFNjYWxhclR5cGUuQllURVMpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXAodG9VOEFycik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmxpc3RLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKChpdGVtKSA9PiB0b01lc3NhZ2UoZmllbGQsIGl0ZW0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB0b01lc3NhZ2UoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLmZpZWxkS2luZCA9PSBcIm1lc3NhZ2VcIiAmJlxuICAgICAgICAhZmllbGQub25lb2YgJiZcbiAgICAgICAgaXNXcmFwcGVyRGVzYyhmaWVsZC5tZXNzYWdlKSkge1xuICAgICAgICAvLyBUeXBlcyBmcm9tIGdvb2dsZS9wcm90b2J1Zi93cmFwcGVycy5wcm90byBhcmUgdW53cmFwcGVkIHdoZW4gdXNlZCBpblxuICAgICAgICAvLyBhIHNpbmd1bGFyIGZpZWxkIHRoYXQgaXMgbm90IHBhcnQgb2YgYSBvbmVvZiBncm91cC5cbiAgICAgICAgcmV0dXJuIGluaXRTY2FsYXIoZmllbGQubWVzc2FnZS5maWVsZHNbMF0sIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoZmllbGQubWVzc2FnZS50eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcIiAmJlxuICAgICAgICAgICAgZmllbGQucGFyZW50LnR5cGVOYW1lICE9PSBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiKSB7XG4gICAgICAgICAgICAvLyBnb29nbGUucHJvdG9idWYuU3RydWN0IGlzIHJlcHJlc2VudGVkIHdpdGggSnNvbk9iamVjdCB3aGVuIHVzZWQgaW4gYVxuICAgICAgICAgICAgLy8gZmllbGQsIGV4Y2VwdCB3aGVuIHVzZWQgaW4gZ29vZ2xlLnByb3RvYnVmLlZhbHVlLlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNNZXNzYWdlKHZhbHVlLCBmaWVsZC5tZXNzYWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZShmaWVsZC5tZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLy8gY29udmVydHMgYW55IEFycmF5TGlrZTxudW1iZXI+IHRvIFVpbnQ4QXJyYXkgaWYgbmVjZXNzYXJ5LlxuZnVuY3Rpb24gdG9VOEFycih2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IG5ldyBVaW50OEFycmF5KHZhbHVlKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gY29udmVydE9iamVjdFZhbHVlcyhvYmosIGZuKSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG4gICAgICAgIHJldFtlbnRyeVswXV0gPSBmbihlbnRyeVsxXSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5jb25zdCB0b2tlblplcm9NZXNzYWdlRmllbGQgPSBTeW1ib2woKTtcbmNvbnN0IG1lc3NhZ2VQcm90b3R5cGVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogQ3JlYXRlIGEgemVybyBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVaZXJvTWVzc2FnZShkZXNjKSB7XG4gICAgbGV0IG1zZztcbiAgICBpZiAoIW5lZWRzUHJvdG90eXBlQ2hhaW4oZGVzYykpIHtcbiAgICAgICAgbXNnID0ge1xuICAgICAgICAgICAgJHR5cGVOYW1lOiBkZXNjLnR5cGVOYW1lLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IG1lbWJlciBvZiBkZXNjLm1lbWJlcnMpIHtcbiAgICAgICAgICAgIGlmIChtZW1iZXIua2luZCA9PSBcIm9uZW9mXCIgfHwgbWVtYmVyLnByZXNlbmNlID09IElNUExJQ0lUKSB7XG4gICAgICAgICAgICAgICAgbXNnW21lbWJlci5sb2NhbE5hbWVdID0gY3JlYXRlWmVyb0ZpZWxkKG1lbWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFN1cHBvcnQgZGVmYXVsdCB2YWx1ZXMgYW5kIHRyYWNrIHByZXNlbmNlIHZpYSB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IG1lc3NhZ2VQcm90b3R5cGVzLmdldChkZXNjKTtcbiAgICAgICAgbGV0IHByb3RvdHlwZTtcbiAgICAgICAgbGV0IG1lbWJlcnM7XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgICh7IHByb3RvdHlwZSwgbWVtYmVycyB9ID0gY2FjaGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb3RvdHlwZSA9IHt9O1xuICAgICAgICAgICAgbWVtYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVtYmVyIG9mIGRlc2MubWVtYmVycykge1xuICAgICAgICAgICAgICAgIGlmIChtZW1iZXIua2luZCA9PSBcIm9uZW9mXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIG9ubHkgcHV0IGltbXV0YWJsZSB2YWx1ZXMgb24gdGhlIHByb3RvdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gb25lb2YgQURUcyBhcmUgbXV0YWJsZVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci5maWVsZEtpbmQgIT0gXCJzY2FsYXJcIiAmJiBtZW1iZXIuZmllbGRLaW5kICE9IFwiZW51bVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgc2NhbGFyIGFuZCBlbnVtIHZhbHVlcyBhcmUgaW1tdXRhYmxlLCBtYXAsIGxpc3QsIGFuZCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZSBub3RcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtZW1iZXIucHJlc2VuY2UgPT0gSU1QTElDSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW1wbGljaXQgcHJlc2VuY2UgdHJhY2tzIGZpZWxkIHByZXNlbmNlIGJ5IHplcm8gdmFsdWVzIC0gZS5nLiAwLCBmYWxzZSwgXCJcIiwgYXJlIHVuc2V0LCAxLCB0cnVlLCBcInhcIiBhcmUgc2V0LlxuICAgICAgICAgICAgICAgICAgICAvLyBtZXNzYWdlLCBtYXAsIGxpc3QgZmllbGRzIGFyZSBtdXRhYmxlLCBhbmQgYWxzbyBoYXZlIElNUExJQ0lUIHByZXNlbmNlLlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVtYmVycy5hZGQobWVtYmVyKTtcbiAgICAgICAgICAgICAgICBwcm90b3R5cGVbbWVtYmVyLmxvY2FsTmFtZV0gPSBjcmVhdGVaZXJvRmllbGQobWVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2VQcm90b3R5cGVzLnNldChkZXNjLCB7IHByb3RvdHlwZSwgbWVtYmVycyB9KTtcbiAgICAgICAgfVxuICAgICAgICBtc2cgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIG1zZy4kdHlwZU5hbWUgPSBkZXNjLnR5cGVOYW1lO1xuICAgICAgICBmb3IgKGNvbnN0IG1lbWJlciBvZiBkZXNjLm1lbWJlcnMpIHtcbiAgICAgICAgICAgIGlmIChtZW1iZXJzLmhhcyhtZW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVtYmVyLmtpbmQgPT0gXCJmaWVsZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci5maWVsZEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtZW1iZXIuZmllbGRLaW5kID09IFwic2NhbGFyXCIgfHwgbWVtYmVyLmZpZWxkS2luZCA9PSBcImVudW1cIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyLnByZXNlbmNlICE9IElNUExJQ0lUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1zZ1ttZW1iZXIubG9jYWxOYW1lXSA9IGNyZWF0ZVplcm9GaWVsZChtZW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtc2c7XG59XG4vKipcbiAqIERvIHdlIG5lZWQgdGhlIHByb3RvdHlwZSBjaGFpbiB0byB0cmFjayBmaWVsZCBwcmVzZW5jZT9cbiAqL1xuZnVuY3Rpb24gbmVlZHNQcm90b3R5cGVDaGFpbihkZXNjKSB7XG4gICAgc3dpdGNoIChkZXNjLmZpbGUuZWRpdGlvbikge1xuICAgICAgICBjYXNlIEVESVRJT05fUFJPVE8zOlxuICAgICAgICAgICAgLy8gcHJvdG8zIGFsd2F5cyB1c2VzIGltcGxpY2l0IHByZXNlbmNlLCB3ZSBuZXZlciBuZWVkIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgRURJVElPTl9QUk9UTzI6XG4gICAgICAgICAgICAvLyBwcm90bzIgbmV2ZXIgdXNlcyBpbXBsaWNpdCBwcmVzZW5jZSwgd2UgYWx3YXlzIG5lZWQgdGhlIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gSWYgYSBtZXNzYWdlIHVzZXMgc2NhbGFyIG9yIGVudW0gZmllbGRzIHdpdGggZXhwbGljaXQgcHJlc2VuY2UsIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gdHJhY2sgcHJlc2VuY2UuIFRoaXMgcnVsZSBkb2VzIG5vdCBhcHBseSB0byBmaWVsZHNcbiAgICAgICAgICAgIC8vIGluIGEgb25lb2YgZ3JvdXAgLSB0aGV5IHVzZSBhIGRpZmZlcmVudCBtZWNoYW5pc20gdG8gdHJhY2sgcHJlc2VuY2UuXG4gICAgICAgICAgICByZXR1cm4gZGVzYy5maWVsZHMuc29tZSgoZikgPT4gZi5wcmVzZW5jZSAhPSBJTVBMSUNJVCAmJiBmLmZpZWxkS2luZCAhPSBcIm1lc3NhZ2VcIiAmJiAhZi5vbmVvZik7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgemVybyB2YWx1ZSBmb3Igb25lb2YgZ3JvdXBzLCBhbmQgZm9yIGV2ZXJ5IGZpZWxkIGtpbmQgZXhjZXB0XG4gKiBtZXNzYWdlcy4gU2NhbGFyIGFuZCBlbnVtIGZpZWxkcyBjYW4gaGF2ZSBkZWZhdWx0IHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlWmVyb0ZpZWxkKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLmtpbmQgPT0gXCJvbmVvZlwiKSB7XG4gICAgICAgIHJldHVybiB7IGNhc2U6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgICBpZiAoZmllbGQuZmllbGRLaW5kID09IFwibGlzdFwiKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKGZpZWxkLmZpZWxkS2luZCA9PSBcIm1hcFwiKSB7XG4gICAgICAgIHJldHVybiB7fTsgLy8gT2JqZWN0LmNyZWF0ZShudWxsKSB3b3VsZCBiZSBkZXNpcmFibGUgaGVyZSwgYnV0IGlzIHVuc3VwcG9ydGVkIGJ5IHJlYWN0IGh0dHBzOi8vcmVhY3QuZGV2L3JlZmVyZW5jZS9yZWFjdC91c2Utc2VydmVyI3NlcmlhbGl6YWJsZS1wYXJhbWV0ZXJzLWFuZC1yZXR1cm4tdmFsdWVzXG4gICAgfVxuICAgIGlmIChmaWVsZC5maWVsZEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuWmVyb01lc3NhZ2VGaWVsZDtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZmllbGQuZ2V0RGVmYXVsdFZhbHVlKCk7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5maWVsZEtpbmQgPT0gXCJzY2FsYXJcIiAmJiBmaWVsZC5sb25nQXNTdHJpbmdcbiAgICAgICAgICAgID8gZGVmYXVsdFZhbHVlLnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZmllbGQuZmllbGRLaW5kID09IFwic2NhbGFyXCJcbiAgICAgICAgPyBzY2FsYXJaZXJvVmFsdWUoZmllbGQuc2NhbGFyLCBmaWVsZC5sb25nQXNTdHJpbmcpXG4gICAgICAgIDogZmllbGQuZW51bS52YWx1ZXNbMF0ubnVtYmVyO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5jb25zdCBlcnJvck5hbWVzID0gW1xuICAgIFwiRmllbGRWYWx1ZUludmFsaWRFcnJvclwiLFxuICAgIFwiRmllbGRMaXN0UmFuZ2VFcnJvclwiLFxuICAgIFwiRm9yZWlnbkZpZWxkRXJyb3JcIixcbl07XG5leHBvcnQgY2xhc3MgRmllbGRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZE9yT25lb2YsIG1lc3NhZ2UsIG5hbWUgPSBcIkZpZWxkVmFsdWVJbnZhbGlkRXJyb3JcIikge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5maWVsZCA9ICgpID0+IGZpZWxkT3JPbmVvZjtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGaWVsZEVycm9yKGFyZykge1xuICAgIHJldHVybiAoYXJnIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgZXJyb3JOYW1lcy5pbmNsdWRlcyhhcmcubmFtZSkgJiZcbiAgICAgICAgXCJmaWVsZFwiIGluIGFyZyAmJlxuICAgICAgICB0eXBlb2YgYXJnLmZpZWxkID09IFwiZnVuY3Rpb25cIik7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IoXCJAYnVmYnVpbGQvcHJvdG9idWYvdGV4dC1lbmNvZGluZ1wiKTtcbi8qKlxuICogUHJvdG9idWYtRVMgcmVxdWlyZXMgdGhlIFRleHQgRW5jb2RpbmcgQVBJIHRvIGNvbnZlcnQgVVRGLTggZnJvbSBhbmQgdG9cbiAqIGJpbmFyeS4gVGhpcyBXSEFUV0cgQVBJIGlzIHdpZGVseSBhdmFpbGFibGUsIGJ1dCBpdCBpcyBub3QgcGFydCBvZiB0aGVcbiAqIEVDTUFTY3JpcHQgc3RhbmRhcmQuIE9uIHJ1bnRpbWVzIHdoZXJlIGl0IGlzIG5vdCBhdmFpbGFibGUsIHVzZSB0aGlzXG4gKiBmdW5jdGlvbiB0byBwcm92aWRlIHlvdXIgb3duIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgVGV4dCBFbmNvZGluZyBBUEkgZG9lcyBub3QgcHJvdmlkZSBhIHdheSB0byB2YWxpZGF0ZSBVVEYtOC5cbiAqIE91ciBpbXBsZW1lbnRhdGlvbiBmYWxscyBiYWNrIHRvIHVzZSBlbmNvZGVVUklDb21wb25lbnQoKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZVRleHRFbmNvZGluZyh0ZXh0RW5jb2RpbmcpIHtcbiAgICBnbG9iYWxUaGlzW3N5bWJvbF0gPSB0ZXh0RW5jb2Rpbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dEVuY29kaW5nKCkge1xuICAgIGlmIChnbG9iYWxUaGlzW3N5bWJvbF0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHRlID0gbmV3IGdsb2JhbFRoaXMuVGV4dEVuY29kZXIoKTtcbiAgICAgICAgY29uc3QgdGQgPSBuZXcgZ2xvYmFsVGhpcy5UZXh0RGVjb2RlcigpO1xuICAgICAgICBnbG9iYWxUaGlzW3N5bWJvbF0gPSB7XG4gICAgICAgICAgICBlbmNvZGVVdGY4KHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGUuZW5jb2RlKHRleHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlY29kZVV0ZjgoYnl0ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGQuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGVja1V0ZjgodGV4dCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsVGhpc1tzeW1ib2xdO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyB2YXJpbnQzMnJlYWQsIHZhcmludDMyd3JpdGUsIHZhcmludDY0cmVhZCwgdmFyaW50NjR3cml0ZSwgfSBmcm9tIFwiLi92YXJpbnQuanNcIjtcbmltcG9ydCB7IHByb3RvSW50NjQgfSBmcm9tIFwiLi4vcHJvdG8taW50NjQuanNcIjtcbmltcG9ydCB7IGdldFRleHRFbmNvZGluZyB9IGZyb20gXCIuL3RleHQtZW5jb2RpbmcuanNcIjtcbi8qKlxuICogUHJvdG9idWYgYmluYXJ5IGZvcm1hdCB3aXJlIHR5cGVzLlxuICpcbiAqIEEgd2lyZSB0eXBlIHByb3ZpZGVzIGp1c3QgZW5vdWdoIGluZm9ybWF0aW9uIHRvIGZpbmQgdGhlIGxlbmd0aCBvZiB0aGVcbiAqIGZvbGxvd2luZyB2YWx1ZS5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL2VuY29kaW5nI3N0cnVjdHVyZVxuICovXG5leHBvcnQgdmFyIFdpcmVUeXBlO1xuKGZ1bmN0aW9uIChXaXJlVHlwZSkge1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIGludDMyLCBpbnQ2NCwgdWludDMyLCB1aW50NjQsIHNpbnQzMiwgc2ludDY0LCBib29sLCBlbnVtXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJWYXJpbnRcIl0gPSAwXSA9IFwiVmFyaW50XCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgZml4ZWQ2NCwgc2ZpeGVkNjQsIGRvdWJsZS5cbiAgICAgKiBBbHdheXMgOCBieXRlcyB3aXRoIGxpdHRsZS1lbmRpYW4gYnl0ZSBvcmRlci5cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIkJpdDY0XCJdID0gMV0gPSBcIkJpdDY0XCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3Igc3RyaW5nLCBieXRlcywgZW1iZWRkZWQgbWVzc2FnZXMsIHBhY2tlZCByZXBlYXRlZCBmaWVsZHNcbiAgICAgKlxuICAgICAqIE9ubHkgcmVwZWF0ZWQgbnVtZXJpYyB0eXBlcyAodHlwZXMgd2hpY2ggdXNlIHRoZSB2YXJpbnQsIDMyLWJpdCxcbiAgICAgKiBvciA2NC1iaXQgd2lyZSB0eXBlcykgY2FuIGJlIHBhY2tlZC4gSW4gcHJvdG8zLCBzdWNoIGZpZWxkcyBhcmVcbiAgICAgKiBwYWNrZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIkxlbmd0aERlbGltaXRlZFwiXSA9IDJdID0gXCJMZW5ndGhEZWxpbWl0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBTdGFydCBvZiBhIHRhZy1kZWxpbWl0ZWQgYWdncmVnYXRlLCBzdWNoIGFzIGEgcHJvdG8yIGdyb3VwLCBvciBhIG1lc3NhZ2VcbiAgICAgKiBpbiBlZGl0aW9ucyB3aXRoIG1lc3NhZ2VfZW5jb2RpbmcgPSBERUxJTUlURUQuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJTdGFydEdyb3VwXCJdID0gM10gPSBcIlN0YXJ0R3JvdXBcIjtcbiAgICAvKipcbiAgICAgKiBFbmQgb2YgYSB0YWctZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIkVuZEdyb3VwXCJdID0gNF0gPSBcIkVuZEdyb3VwXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgZml4ZWQzMiwgc2ZpeGVkMzIsIGZsb2F0LlxuICAgICAqIEFsd2F5cyA0IGJ5dGVzIHdpdGggbGl0dGxlLWVuZGlhbiBieXRlIG9yZGVyLlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiQml0MzJcIl0gPSA1XSA9IFwiQml0MzJcIjtcbn0pKFdpcmVUeXBlIHx8IChXaXJlVHlwZSA9IHt9KSk7XG4vKipcbiAqIE1heGltdW0gdmFsdWUgZm9yIGEgMzItYml0IGZsb2F0aW5nIHBvaW50IHZhbHVlIChQcm90b2J1ZiBGTE9BVCkuXG4gKi9cbmV4cG9ydCBjb25zdCBGTE9BVDMyX01BWCA9IDMuNDAyODIzNDY2Mzg1Mjg4NmUzODtcbi8qKlxuICogTWluaW11bSB2YWx1ZSBmb3IgYSAzMi1iaXQgZmxvYXRpbmcgcG9pbnQgdmFsdWUgKFByb3RvYnVmIEZMT0FUKS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZMT0FUMzJfTUlOID0gLTMuNDAyODIzNDY2Mzg1Mjg4NmUzODtcbi8qKlxuICogTWF4aW11bSB2YWx1ZSBmb3IgYW4gdW5zaWduZWQgMzItYml0IGludGVnZXIgKFByb3RvYnVmIFVJTlQzMiwgRklYRUQzMikuXG4gKi9cbmV4cG9ydCBjb25zdCBVSU5UMzJfTUFYID0gMHhmZmZmZmZmZjtcbi8qKlxuICogTWF4aW11bSB2YWx1ZSBmb3IgYSBzaWduZWQgMzItYml0IGludGVnZXIgKFByb3RvYnVmIElOVDMyLCBTRklYRUQzMiwgU0lOVDMyKS5cbiAqL1xuZXhwb3J0IGNvbnN0IElOVDMyX01BWCA9IDB4N2ZmZmZmZmY7XG4vKipcbiAqIE1pbmltdW0gdmFsdWUgZm9yIGEgc2lnbmVkIDMyLWJpdCBpbnRlZ2VyIChQcm90b2J1ZiBJTlQzMiwgU0ZJWEVEMzIsIFNJTlQzMikuXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQzMl9NSU4gPSAtMHg4MDAwMDAwMDtcbmV4cG9ydCBjbGFzcyBCaW5hcnlXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuY29kZVV0ZjggPSBnZXRUZXh0RW5jb2RpbmcoKS5lbmNvZGVVdGY4KSB7XG4gICAgICAgIHRoaXMuZW5jb2RlVXRmOCA9IGVuY29kZVV0Zjg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmV2aW91cyBmb3JrIHN0YXRlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBieXRlcyB3cml0dGVuIGFuZCByZXNldCB0aGlzIHdyaXRlci5cbiAgICAgKi9cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzLnB1c2gobmV3IFVpbnQ4QXJyYXkodGhpcy5idWYpKTsgLy8gZmx1c2ggdGhlIGJ1ZmZlclxuICAgICAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNodW5rcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGxlbiArPSB0aGlzLmNodW5rc1tpXS5sZW5ndGg7XG4gICAgICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBieXRlcy5zZXQodGhpcy5jaHVua3NbaV0sIG9mZnNldCk7XG4gICAgICAgICAgICBvZmZzZXQgKz0gdGhpcy5jaHVua3NbaV0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBuZXcgZm9yayBmb3IgbGVuZ3RoLWRlbGltaXRlZCBkYXRhIGxpa2UgYSBtZXNzYWdlXG4gICAgICogb3IgYSBwYWNrZWQgcmVwZWF0ZWQgZmllbGQuXG4gICAgICpcbiAgICAgKiBNdXN0IGJlIGpvaW5lZCBsYXRlciB3aXRoIGBqb2luKClgLlxuICAgICAqL1xuICAgIGZvcmsoKSB7XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh7IGNodW5rczogdGhpcy5jaHVua3MsIGJ1ZjogdGhpcy5idWYgfSk7XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgIHRoaXMuYnVmID0gW107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBKb2luIHRoZSBsYXN0IGZvcmsuIFdyaXRlIGl0cyBsZW5ndGggYW5kIGJ5dGVzLCB0aGVuXG4gICAgICogcmV0dXJuIHRvIHRoZSBwcmV2aW91cyBzdGF0ZS5cbiAgICAgKi9cbiAgICBqb2luKCkge1xuICAgICAgICAvLyBnZXQgY2h1bmsgb2YgZm9ya1xuICAgICAgICBsZXQgY2h1bmsgPSB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAvLyByZXN0b3JlIHByZXZpb3VzIHN0YXRlXG4gICAgICAgIGxldCBwcmV2ID0gdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFwcmV2KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzdGF0ZSwgZm9yayBzdGFjayBlbXB0eVwiKTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBwcmV2LmNodW5rcztcbiAgICAgICAgdGhpcy5idWYgPSBwcmV2LmJ1ZjtcbiAgICAgICAgLy8gd3JpdGUgbGVuZ3RoIG9mIGNodW5rIGFzIHZhcmludFxuICAgICAgICB0aGlzLnVpbnQzMihjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgdGFnIChmaWVsZCBudW1iZXIgYW5kIHdpcmUgdHlwZSkuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIGB1aW50MzIoIChmaWVsZE5vIDw8IDMgfCB0eXBlKSA+Pj4gMCApYC5cbiAgICAgKlxuICAgICAqIEdlbmVyYXRlZCBjb2RlIHNob3VsZCBjb21wdXRlIHRoZSB0YWcgYWhlYWQgb2YgdGltZSBhbmQgY2FsbCBgdWludDMyKClgLlxuICAgICAqL1xuICAgIHRhZyhmaWVsZE5vLCB0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVpbnQzMigoKGZpZWxkTm8gPDwgMykgfCB0eXBlKSA+Pj4gMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgY2h1bmsgb2YgcmF3IGJ5dGVzLlxuICAgICAqL1xuICAgIHJhdyhjaHVuaykge1xuICAgICAgICBpZiAodGhpcy5idWYubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rcy5wdXNoKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmKSk7XG4gICAgICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgdWludDMyYCB2YWx1ZSwgYW4gdW5zaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgKi9cbiAgICB1aW50MzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0VUludDMyKHZhbHVlKTtcbiAgICAgICAgLy8gd3JpdGUgdmFsdWUgYXMgdmFyaW50IDMyLCBpbmxpbmVkIGZvciBzcGVlZFxuICAgICAgICB3aGlsZSAodmFsdWUgPiAweDdmKSB7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCh2YWx1ZSAmIDB4N2YpIHwgMHg4MCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+PiA3O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgaW50MzJgIHZhbHVlLCBhIHNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICAgICAqL1xuICAgIGludDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgdmFyaW50MzJ3cml0ZSh2YWx1ZSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgYm9vbGAgdmFsdWUsIGEgdmFyaWFudC5cbiAgICAgKi9cbiAgICBib29sKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYnVmLnB1c2godmFsdWUgPyAxIDogMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBieXRlc2AgdmFsdWUsIGxlbmd0aC1kZWxpbWl0ZWQgYXJiaXRyYXJ5IGRhdGEuXG4gICAgICovXG4gICAgYnl0ZXModmFsdWUpIHtcbiAgICAgICAgdGhpcy51aW50MzIodmFsdWUuYnl0ZUxlbmd0aCk7IC8vIHdyaXRlIGxlbmd0aCBvZiBjaHVuayBhcyB2YXJpbnRcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc3RyaW5nYCB2YWx1ZSwgbGVuZ3RoLWRlbGltaXRlZCBkYXRhIGNvbnZlcnRlZCB0byBVVEYtOCB0ZXh0LlxuICAgICAqL1xuICAgIHN0cmluZyh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSB0aGlzLmVuY29kZVV0ZjgodmFsdWUpO1xuICAgICAgICB0aGlzLnVpbnQzMihjaHVuay5ieXRlTGVuZ3RoKTsgLy8gd3JpdGUgbGVuZ3RoIG9mIGNodW5rIGFzIHZhcmludFxuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBmbG9hdGAgdmFsdWUsIDMyLWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZmxvYXQodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0RmxvYXQzMih2YWx1ZSk7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRGbG9hdDMyKDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZG91YmxlYCB2YWx1ZSwgYSA2NC1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGRvdWJsZSh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcikuc2V0RmxvYXQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZpeGVkMzJgIHZhbHVlLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkMzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0VUludDMyKHZhbHVlKTtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldFVpbnQzMigwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHNmaXhlZDMyYCB2YWx1ZSwgYSBzaWduZWQsIGZpeGVkLWxlbmd0aCAzMi1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBzZml4ZWQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRJbnQzMih2YWx1ZSk7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRJbnQzMigwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHNpbnQzMmAgdmFsdWUsIGEgc2lnbmVkLCB6aWd6YWctZW5jb2RlZCAzMi1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRJbnQzMih2YWx1ZSk7XG4gICAgICAgIC8vIHppZ3phZyBlbmNvZGVcbiAgICAgICAgdmFsdWUgPSAoKHZhbHVlIDw8IDEpIF4gKHZhbHVlID4+IDMxKSkgPj4+IDA7XG4gICAgICAgIHZhcmludDMyd3JpdGUodmFsdWUsIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZpeGVkNjRgIHZhbHVlLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0LWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpLCB2aWV3ID0gbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlciksIHRjID0gcHJvdG9JbnQ2NC5lbmModmFsdWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDAsIHRjLmxvLCB0cnVlKTtcbiAgICAgICAgdmlldy5zZXRJbnQzMig0LCB0Yy5oaSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZpeGVkNjRgIHZhbHVlLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0IGJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkNjQodmFsdWUpIHtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoOCksIHZpZXcgPSBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKSwgdGMgPSBwcm90b0ludDY0LnVFbmModmFsdWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDAsIHRjLmxvLCB0cnVlKTtcbiAgICAgICAgdmlldy5zZXRJbnQzMig0LCB0Yy5oaSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGludDY0YCB2YWx1ZSwgYSBzaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBsZXQgdGMgPSBwcm90b0ludDY0LmVuYyh2YWx1ZSk7XG4gICAgICAgIHZhcmludDY0d3JpdGUodGMubG8sIHRjLmhpLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBzaW50NjRgIHZhbHVlLCBhIHNpZ25lZCwgemlnLXphZy1lbmNvZGVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDY0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRjID0gcHJvdG9JbnQ2NC5lbmModmFsdWUpLCBcbiAgICAgICAgLy8gemlnemFnIGVuY29kZVxuICAgICAgICBzaWduID0gdGMuaGkgPj4gMzEsIGxvID0gKHRjLmxvIDw8IDEpIF4gc2lnbiwgaGkgPSAoKHRjLmhpIDw8IDEpIHwgKHRjLmxvID4+PiAzMSkpIF4gc2lnbjtcbiAgICAgICAgdmFyaW50NjR3cml0ZShsbywgaGksIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHVpbnQ2NGAgdmFsdWUsIGFuIHVuc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgdWludDY0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRjID0gcHJvdG9JbnQ2NC51RW5jKHZhbHVlKTtcbiAgICAgICAgdmFyaW50NjR3cml0ZSh0Yy5sbywgdGMuaGksIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJpbmFyeVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IoYnVmLCBkZWNvZGVVdGY4ID0gZ2V0VGV4dEVuY29kaW5nKCkuZGVjb2RlVXRmOCkge1xuICAgICAgICB0aGlzLmRlY29kZVV0ZjggPSBkZWNvZGVVdGY4O1xuICAgICAgICB0aGlzLnZhcmludDY0ID0gdmFyaW50NjRyZWFkOyAvLyBkaXJ0eSBjYXN0IGZvciBgdGhpc2BcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlYWQgYSBgdWludDMyYCBmaWVsZCwgYW4gdW5zaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWludDMyID0gdmFyaW50MzJyZWFkO1xuICAgICAgICB0aGlzLmJ1ZiA9IGJ1ZjtcbiAgICAgICAgdGhpcy5sZW4gPSBidWYubGVuZ3RoO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBEYXRhVmlldyhidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhIHRhZyAtIGZpZWxkIG51bWJlciBhbmQgd2lyZSB0eXBlLlxuICAgICAqL1xuICAgIHRhZygpIHtcbiAgICAgICAgbGV0IHRhZyA9IHRoaXMudWludDMyKCksIGZpZWxkTm8gPSB0YWcgPj4+IDMsIHdpcmVUeXBlID0gdGFnICYgNztcbiAgICAgICAgaWYgKGZpZWxkTm8gPD0gMCB8fCB3aXJlVHlwZSA8IDAgfHwgd2lyZVR5cGUgPiA1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCB0YWc6IGZpZWxkIG5vIFwiICsgZmllbGRObyArIFwiIHdpcmUgdHlwZSBcIiArIHdpcmVUeXBlKTtcbiAgICAgICAgcmV0dXJuIFtmaWVsZE5vLCB3aXJlVHlwZV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNraXAgb25lIGVsZW1lbnQgYW5kIHJldHVybiB0aGUgc2tpcHBlZCBkYXRhLlxuICAgICAqXG4gICAgICogV2hlbiBza2lwcGluZyBTdGFydEdyb3VwLCBwcm92aWRlIHRoZSB0YWdzIGZpZWxkIG51bWJlciB0byBjaGVjayBmb3JcbiAgICAgKiBtYXRjaGluZyBmaWVsZCBudW1iZXIgaW4gdGhlIEVuZEdyb3VwIHRhZy5cbiAgICAgKi9cbiAgICBza2lwKHdpcmVUeXBlLCBmaWVsZE5vKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICBzd2l0Y2ggKHdpcmVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLlZhcmludDpcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgVFM3MDI5OiBGYWxsdGhyb3VnaCBjYXNlIGluIHN3aXRjaCAtLSBpZ25vcmUgaW5zdGVhZCBvZiBleHBlY3QtZXJyb3IgZm9yIGNvbXBpbGVyIHNldHRpbmdzIHdpdGhvdXQgbm9GYWxsdGhyb3VnaENhc2VzSW5Td2l0Y2g6IHRydWVcbiAgICAgICAgICAgIGNhc2UgV2lyZVR5cGUuQml0NjQ6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgICAgIGNhc2UgV2lyZVR5cGUuQml0MzI6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkOlxuICAgICAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2lyZVR5cGUuU3RhcnRHcm91cDpcbiAgICAgICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtmbiwgd3RdID0gdGhpcy50YWcoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHd0ID09PSBXaXJlVHlwZS5FbmRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkTm8gIT09IHVuZGVmaW5lZCAmJiBmbiAhPT0gZmllbGRObykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgZW5kIGdyb3VwIHRhZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpcCh3dCwgZm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FudCBza2lwIHdpcmUgdHlwZSBcIiArIHdpcmVUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoc3RhcnQsIHRoaXMucG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhyb3dzIGVycm9yIGlmIHBvc2l0aW9uIGluIGJ5dGUgYXJyYXkgaXMgb3V0IG9mIHJhbmdlLlxuICAgICAqL1xuICAgIGFzc2VydEJvdW5kcygpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID4gdGhpcy5sZW4pXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInByZW1hdHVyZSBFT0ZcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgaW50MzJgIGZpZWxkLCBhIHNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICAgICAqL1xuICAgIGludDMyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51aW50MzIoKSB8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgc2ludDMyYCBmaWVsZCwgYSBzaWduZWQsIHppZ3phZy1lbmNvZGVkIDMyLWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDMyKCkge1xuICAgICAgICBsZXQgenplID0gdGhpcy51aW50MzIoKTtcbiAgICAgICAgLy8gZGVjb2RlIHppZ3phZ1xuICAgICAgICByZXR1cm4gKHp6ZSA+Pj4gMSkgXiAtKHp6ZSAmIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGludDY0YCBmaWVsZCwgYSBzaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvSW50NjQuZGVjKC4uLnRoaXMudmFyaW50NjQoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgdWludDY0YCBmaWVsZCwgYW4gdW5zaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICB1aW50NjQoKSB7XG4gICAgICAgIHJldHVybiBwcm90b0ludDY0LnVEZWMoLi4udGhpcy52YXJpbnQ2NCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBzaW50NjRgIGZpZWxkLCBhIHNpZ25lZCwgemlnLXphZy1lbmNvZGVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDY0KCkge1xuICAgICAgICBsZXQgW2xvLCBoaV0gPSB0aGlzLnZhcmludDY0KCk7XG4gICAgICAgIC8vIGRlY29kZSB6aWcgemFnXG4gICAgICAgIGxldCBzID0gLShsbyAmIDEpO1xuICAgICAgICBsbyA9ICgobG8gPj4+IDEpIHwgKChoaSAmIDEpIDw8IDMxKSkgXiBzO1xuICAgICAgICBoaSA9IChoaSA+Pj4gMSkgXiBzO1xuICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC5kZWMobG8sIGhpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBib29sYCBmaWVsZCwgYSB2YXJpYW50LlxuICAgICAqL1xuICAgIGJvb2woKSB7XG4gICAgICAgIGxldCBbbG8sIGhpXSA9IHRoaXMudmFyaW50NjQoKTtcbiAgICAgICAgcmV0dXJuIGxvICE9PSAwIHx8IGhpICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZpeGVkMzJgIGZpZWxkLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkMzIoKSB7XG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBzZml4ZWQzMmAgZmllbGQsIGEgc2lnbmVkLCBmaXhlZC1sZW5ndGggMzItYml0IGludGVnZXIuXG4gICAgICovXG4gICAgc2ZpeGVkMzIoKSB7XG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDMyKCh0aGlzLnBvcyArPSA0KSAtIDQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZpeGVkNjRgIGZpZWxkLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0IGJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkNjQoKSB7XG4gICAgICAgIHJldHVybiBwcm90b0ludDY0LnVEZWModGhpcy5zZml4ZWQzMigpLCB0aGlzLnNmaXhlZDMyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZpeGVkNjRgIGZpZWxkLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0LWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDY0KCkge1xuICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC5kZWModGhpcy5zZml4ZWQzMigpLCB0aGlzLnNmaXhlZDMyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZsb2F0YCBmaWVsZCwgMzItYml0IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAgKi9cbiAgICBmbG9hdCgpIHtcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBkb3VibGVgIGZpZWxkLCBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZG91YmxlKCkge1xuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDY0KCh0aGlzLnBvcyArPSA4KSAtIDgsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGJ5dGVzYCBmaWVsZCwgbGVuZ3RoLWRlbGltaXRlZCBhcmJpdHJhcnkgZGF0YS5cbiAgICAgKi9cbiAgICBieXRlcygpIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMudWludDMyKCksIHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgc3RyaW5nYCBmaWVsZCwgbGVuZ3RoLWRlbGltaXRlZCBkYXRhIGNvbnZlcnRlZCB0byBVVEYtOCB0ZXh0LlxuICAgICAqL1xuICAgIHN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlVXRmOCh0aGlzLmJ5dGVzKCkpO1xuICAgIH1cbn1cbi8qKlxuICogQXNzZXJ0IGEgdmFsaWQgc2lnbmVkIHByb3RvYnVmIDMyLWJpdCBpbnRlZ2VyIGFzIGEgbnVtYmVyIG9yIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0SW50MzIoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBhcmcgPSBOdW1iZXIoYXJnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFyZyAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgaW50MzI6IFwiICsgdHlwZW9mIGFyZyk7XG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihhcmcpIHx8XG4gICAgICAgIGFyZyA+IElOVDMyX01BWCB8fFxuICAgICAgICBhcmcgPCBJTlQzMl9NSU4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgaW50MzI6IFwiICsgYXJnKTtcbn1cbi8qKlxuICogQXNzZXJ0IGEgdmFsaWQgdW5zaWduZWQgcHJvdG9idWYgMzItYml0IGludGVnZXIgYXMgYSBudW1iZXIgb3Igc3RyaW5nLlxuICovXG5mdW5jdGlvbiBhc3NlcnRVSW50MzIoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBhcmcgPSBOdW1iZXIoYXJnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFyZyAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdWludDMyOiBcIiArIHR5cGVvZiBhcmcpO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoYXJnKSB8fFxuICAgICAgICBhcmcgPiBVSU5UMzJfTUFYIHx8XG4gICAgICAgIGFyZyA8IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdWludDMyOiBcIiArIGFyZyk7XG59XG4vKipcbiAqIEFzc2VydCBhIHZhbGlkIHByb3RvYnVmIGZsb2F0IHZhbHVlIGFzIGEgbnVtYmVyIG9yIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0RmxvYXQzMihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG8gPSBhcmc7XG4gICAgICAgIGFyZyA9IE51bWJlcihhcmcpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGFyZykgJiYgbyAhPT0gXCJOYU5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmbG9hdDMyOiBcIiArIG8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgIT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZsb2F0MzI6IFwiICsgdHlwZW9mIGFyZyk7XG4gICAgfVxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoYXJnKSAmJlxuICAgICAgICAoYXJnID4gRkxPQVQzMl9NQVggfHwgYXJnIDwgRkxPQVQzMl9NSU4pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZsb2F0MzI6IFwiICsgYXJnKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IGlzTWVzc2FnZSB9IGZyb20gXCIuLi9pcy1tZXNzYWdlLmpzXCI7XG5pbXBvcnQgeyBGaWVsZEVycm9yIH0gZnJvbSBcIi4vZXJyb3IuanNcIjtcbmltcG9ydCB7IGlzUmVmbGVjdExpc3QsIGlzUmVmbGVjdE1hcCwgaXNSZWZsZWN0TWVzc2FnZSB9IGZyb20gXCIuL2d1YXJkLmpzXCI7XG5pbXBvcnQgeyBGTE9BVDMyX01BWCwgRkxPQVQzMl9NSU4sIElOVDMyX01BWCwgSU5UMzJfTUlOLCBVSU5UMzJfTUFYLCB9IGZyb20gXCIuLi93aXJlL2JpbmFyeS1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgZ2V0VGV4dEVuY29kaW5nIH0gZnJvbSBcIi4uL3dpcmUvdGV4dC1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgcHJvdG9JbnQ2NCB9IGZyb20gXCIuLi9wcm90by1pbnQ2NC5qc1wiO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBmaWVsZCB2YWx1ZSBpcyB2YWxpZCBmb3IgdGhlIHJlZmxlY3QgQVBJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpIHtcbiAgICBjb25zdCBjaGVjayA9IGZpZWxkLmZpZWxkS2luZCA9PSBcImxpc3RcIlxuICAgICAgICA/IGlzUmVmbGVjdExpc3QodmFsdWUsIGZpZWxkKVxuICAgICAgICA6IGZpZWxkLmZpZWxkS2luZCA9PSBcIm1hcFwiXG4gICAgICAgICAgICA/IGlzUmVmbGVjdE1hcCh2YWx1ZSwgZmllbGQpXG4gICAgICAgICAgICA6IGNoZWNrU2luZ3VsYXIoZmllbGQsIHZhbHVlKTtcbiAgICBpZiAoY2hlY2sgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IHJlYXNvbjtcbiAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgcmVhc29uID0gYGV4cGVjdGVkICR7Zm9ybWF0UmVmbGVjdExpc3QoZmllbGQpfSwgZ290ICR7Zm9ybWF0VmFsKHZhbHVlKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgIHJlYXNvbiA9IGBleHBlY3RlZCAke2Zvcm1hdFJlZmxlY3RNYXAoZmllbGQpfSwgZ290ICR7Zm9ybWF0VmFsKHZhbHVlKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJlYXNvbiA9IHJlYXNvblNpbmd1bGFyKGZpZWxkLCB2YWx1ZSwgY2hlY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmllbGRFcnJvcihmaWVsZCwgcmVhc29uKTtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gbGlzdCBpdGVtIGlzIHZhbGlkIGZvciB0aGUgcmVmbGVjdCBBUEkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0xpc3RJdGVtKGZpZWxkLCBpbmRleCwgdmFsdWUpIHtcbiAgICBjb25zdCBjaGVjayA9IGNoZWNrU2luZ3VsYXIoZmllbGQsIHZhbHVlKTtcbiAgICBpZiAoY2hlY2sgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEVycm9yKGZpZWxkLCBgbGlzdCBpdGVtICMke2luZGV4ICsgMX06ICR7cmVhc29uU2luZ3VsYXIoZmllbGQsIHZhbHVlLCBjaGVjayl9YCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIG1hcCBrZXkgYW5kIHZhbHVlIGFyZSB2YWxpZCBmb3IgdGhlIHJlZmxlY3QgQVBJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tNYXBFbnRyeShmaWVsZCwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGNoZWNrS2V5ID0gY2hlY2tTY2FsYXJWYWx1ZShrZXksIGZpZWxkLm1hcEtleSk7XG4gICAgaWYgKGNoZWNrS2V5ICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRFcnJvcihmaWVsZCwgYGludmFsaWQgbWFwIGtleTogJHtyZWFzb25TaW5ndWxhcih7IHNjYWxhcjogZmllbGQubWFwS2V5IH0sIGtleSwgY2hlY2tLZXkpfWApO1xuICAgIH1cbiAgICBjb25zdCBjaGVja1ZhbCA9IGNoZWNrU2luZ3VsYXIoZmllbGQsIHZhbHVlKTtcbiAgICBpZiAoY2hlY2tWYWwgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEVycm9yKGZpZWxkLCBgbWFwIGVudHJ5ICR7Zm9ybWF0VmFsKGtleSl9OiAke3JlYXNvblNpbmd1bGFyKGZpZWxkLCB2YWx1ZSwgY2hlY2tWYWwpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gY2hlY2tTaW5ndWxhcihmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQuc2NhbGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrU2NhbGFyVmFsdWUodmFsdWUsIGZpZWxkLnNjYWxhcik7XG4gICAgfVxuICAgIGlmIChmaWVsZC5lbnVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGZpZWxkLmVudW0ub3Blbikge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWVsZC5lbnVtLnZhbHVlcy5zb21lKCh2KSA9PiB2Lm51bWJlciA9PT0gdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gaXNSZWZsZWN0TWVzc2FnZSh2YWx1ZSwgZmllbGQubWVzc2FnZSk7XG59XG5mdW5jdGlvbiBjaGVja1NjYWxhclZhbHVlKHZhbHVlLCBzY2FsYXIpIHtcbiAgICBzd2l0Y2ggKHNjYWxhcikge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHZhbHVlKSB8fCAhTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID4gRkxPQVQzMl9NQVggfHwgdmFsdWUgPCBGTE9BVDMyX01JTikge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZS50b0ZpeGVkKCl9IG91dCBvZiByYW5nZWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAvLyBzaWduZWRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID4gSU5UMzJfTUFYIHx8IHZhbHVlIDwgSU5UMzJfTUlOKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlLnRvRml4ZWQoKX0gb3V0IG9mIHJhbmdlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIC8vIHVuc2lnbmVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IFVJTlQzMl9NQVggfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlLnRvRml4ZWQoKX0gb3V0IG9mIHJhbmdlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGV4dEVuY29kaW5nKCkuY2hlY2tVdGY4KHZhbHVlKSB8fCBcImludmFsaWQgVVRGOFwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5O1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIC8vIHNpZ25lZFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImJpZ2ludFwiIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgJiYgdmFsdWUubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwcm90b0ludDY0LnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZX0gb3V0IG9mIHJhbmdlYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgLy8gdW5zaWduZWRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJiaWdpbnRcIiB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmIHZhbHVlLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdG9JbnQ2NC51UGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfSBvdXQgb2YgcmFuZ2VgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWFzb25TaW5ndWxhcihmaWVsZCwgdmFsLCBkZXRhaWxzKSB7XG4gICAgZGV0YWlscyA9XG4gICAgICAgIHR5cGVvZiBkZXRhaWxzID09IFwic3RyaW5nXCIgPyBgOiAke2RldGFpbHN9YCA6IGAsIGdvdCAke2Zvcm1hdFZhbCh2YWwpfWA7XG4gICAgaWYgKGZpZWxkLnNjYWxhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBgZXhwZWN0ZWQgJHtzY2FsYXJUeXBlRGVzY3JpcHRpb24oZmllbGQuc2NhbGFyKX1gICsgZGV0YWlscztcbiAgICB9XG4gICAgaWYgKGZpZWxkLmVudW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYGV4cGVjdGVkICR7ZmllbGQuZW51bS50b1N0cmluZygpfWAgKyBkZXRhaWxzO1xuICAgIH1cbiAgICByZXR1cm4gYGV4cGVjdGVkICR7Zm9ybWF0UmVmbGVjdE1lc3NhZ2UoZmllbGQubWVzc2FnZSl9YCArIGRldGFpbHM7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VmFsKHZhbCkge1xuICAgIHN3aXRjaCAodHlwZW9mIHZhbCkge1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVpbnQ4QXJyYXkoJHt2YWwubGVuZ3RofSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgQXJyYXkoJHt2YWwubGVuZ3RofSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUmVmbGVjdExpc3QodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRSZWZsZWN0TGlzdCh2YWwuZmllbGQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZWZsZWN0TWFwKHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0UmVmbGVjdE1hcCh2YWwuZmllbGQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZWZsZWN0TWVzc2FnZSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFJlZmxlY3RNZXNzYWdlKHZhbC5kZXNjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc01lc3NhZ2UodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgbWVzc2FnZSAke3ZhbC4kdHlwZU5hbWV9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmxlbmd0aCA+IDMwID8gXCJzdHJpbmdcIiA6IGBcIiR7dmFsLnNwbGl0KCdcIicpLmpvaW4oJ1xcXFxcIicpfVwiYDtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCkgKyBcIm5cIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIFwic3ltYm9sXCIgfCBcInVuZGVmaW5lZFwiIHwgXCJvYmplY3RcIiB8IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWw7XG4gICAgfVxufVxuZnVuY3Rpb24gZm9ybWF0UmVmbGVjdE1lc3NhZ2UoZGVzYykge1xuICAgIHJldHVybiBgUmVmbGVjdE1lc3NhZ2UgKCR7ZGVzYy50eXBlTmFtZX0pYDtcbn1cbmZ1bmN0aW9uIGZvcm1hdFJlZmxlY3RMaXN0KGZpZWxkKSB7XG4gICAgc3dpdGNoIChmaWVsZC5saXN0S2luZCkge1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGBSZWZsZWN0TGlzdCAoJHtmaWVsZC5tZXNzYWdlLnRvU3RyaW5nKCl9KWA7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gYFJlZmxlY3RMaXN0ICgke2ZpZWxkLmVudW0udG9TdHJpbmcoKX0pYDtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgcmV0dXJuIGBSZWZsZWN0TGlzdCAoJHtTY2FsYXJUeXBlW2ZpZWxkLnNjYWxhcl19KWA7XG4gICAgfVxufVxuZnVuY3Rpb24gZm9ybWF0UmVmbGVjdE1hcChmaWVsZCkge1xuICAgIHN3aXRjaCAoZmllbGQubWFwS2luZCkge1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGBSZWZsZWN0TWFwICgke1NjYWxhclR5cGVbZmllbGQubWFwS2V5XX0sICR7ZmllbGQubWVzc2FnZS50b1N0cmluZygpfSlgO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmV0dXJuIGBSZWZsZWN0TWFwICgke1NjYWxhclR5cGVbZmllbGQubWFwS2V5XX0sICR7ZmllbGQuZW51bS50b1N0cmluZygpfSlgO1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICByZXR1cm4gYFJlZmxlY3RNYXAgKCR7U2NhbGFyVHlwZVtmaWVsZC5tYXBLZXldfSwgJHtTY2FsYXJUeXBlW2ZpZWxkLnNjYWxhcl19KWA7XG4gICAgfVxufVxuZnVuY3Rpb24gc2NhbGFyVHlwZURlc2NyaXB0aW9uKHNjYWxhcikge1xuICAgIHN3aXRjaCAoc2NhbGFyKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50IChpbnQ2NClcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICByZXR1cm4gXCJiaWdpbnQgKHVpbnQ2NClcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIFwiVWludDhBcnJheVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyIChmbG9hdDY0KVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXIgKGZsb2F0MzIpXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyICh1aW50MzIpXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyIChpbnQzMilcIjtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4uL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBjaGVja0ZpZWxkLCBjaGVja0xpc3RJdGVtLCBjaGVja01hcEVudHJ5IH0gZnJvbSBcIi4vcmVmbGVjdC1jaGVjay5qc1wiO1xuaW1wb3J0IHsgRmllbGRFcnJvciB9IGZyb20gXCIuL2Vycm9yLmpzXCI7XG5pbXBvcnQgeyB1bnNhZmVDbGVhciwgdW5zYWZlR2V0LCB1bnNhZmVJc1NldCwgdW5zYWZlTG9jYWwsIHVuc2FmZU9uZW9mQ2FzZSwgdW5zYWZlU2V0LCB9IGZyb20gXCIuL3Vuc2FmZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcIi4uL2NyZWF0ZS5qc1wiO1xuaW1wb3J0IHsgaXNXcmFwcGVyLCBpc1dyYXBwZXJEZXNjIH0gZnJvbSBcIi4uL3drdC93cmFwcGVycy5qc1wiO1xuaW1wb3J0IHsgc2NhbGFyWmVyb1ZhbHVlIH0gZnJvbSBcIi4vc2NhbGFyLmpzXCI7XG5pbXBvcnQgeyBwcm90b0ludDY0IH0gZnJvbSBcIi4uL3Byb3RvLWludDY0LmpzXCI7XG5pbXBvcnQgeyBpc09iamVjdCwgaXNSZWZsZWN0TGlzdCwgaXNSZWZsZWN0TWFwLCBpc1JlZmxlY3RNZXNzYWdlLCB9IGZyb20gXCIuL2d1YXJkLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBhIFJlZmxlY3RNZXNzYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdChtZXNzYWdlRGVzYywgbWVzc2FnZSwgXG4vKipcbiAqIEJ5IGRlZmF1bHQsIGZpZWxkIHZhbHVlcyBhcmUgdmFsaWRhdGVkIHdoZW4gc2V0dGluZyB0aGVtLiBGb3IgZXhhbXBsZSxcbiAqIGEgdmFsdWUgZm9yIGFuIHVpbnQzMiBmaWVsZCBtdXN0IGJlIGEgRUNNQVNjcmlwdCBOdW1iZXIgPj0gMC5cbiAqXG4gKiBXaGVuIGZpZWxkIHZhbHVlcyBhcmUgdHJ1c3RlZCwgcGVyZm9ybWFuY2UgY2FuIGJlIGltcHJvdmVkIGJ5IGRpc2FibGluZ1xuICogY2hlY2tzLlxuICovXG5jaGVjayA9IHRydWUpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RNZXNzYWdlSW1wbChtZXNzYWdlRGVzYywgbWVzc2FnZSwgY2hlY2spO1xufVxuY2xhc3MgUmVmbGVjdE1lc3NhZ2VJbXBsIHtcbiAgICBnZXQgc29ydGVkRmllbGRzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5fc29ydGVkRmllbGRzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgICh0aGlzLl9zb3J0ZWRGaWVsZHMgPSB0aGlzLmRlc2MuZmllbGRzXG4gICAgICAgICAgICAuY29uY2F0KClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLm51bWJlciAtIGIubnVtYmVyKSkpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlRGVzYywgbWVzc2FnZSwgY2hlY2sgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMubGlzdHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubWFwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5jaGVjayA9IGNoZWNrO1xuICAgICAgICB0aGlzLmRlc2MgPSBtZXNzYWdlRGVzYztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpc1t1bnNhZmVMb2NhbF0gPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiBjcmVhdGUobWVzc2FnZURlc2MpO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IG1lc3NhZ2VEZXNjLmZpZWxkcztcbiAgICAgICAgdGhpcy5vbmVvZnMgPSBtZXNzYWdlRGVzYy5vbmVvZnM7XG4gICAgICAgIHRoaXMubWVtYmVycyA9IG1lc3NhZ2VEZXNjLm1lbWJlcnM7XG4gICAgfVxuICAgIGZpbmROdW1iZXIobnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fZmllbGRzQnlOdW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpZWxkc0J5TnVtYmVyID0gbmV3IE1hcCh0aGlzLmRlc2MuZmllbGRzLm1hcCgoZikgPT4gW2YubnVtYmVyLCBmXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9maWVsZHNCeU51bWJlci5nZXQobnVtYmVyKTtcbiAgICB9XG4gICAgb25lb2ZDYXNlKG9uZW9mKSB7XG4gICAgICAgIGFzc2VydE93bih0aGlzLm1lc3NhZ2UsIG9uZW9mKTtcbiAgICAgICAgcmV0dXJuIHVuc2FmZU9uZW9mQ2FzZSh0aGlzLm1lc3NhZ2UsIG9uZW9mKTtcbiAgICB9XG4gICAgaXNTZXQoZmllbGQpIHtcbiAgICAgICAgYXNzZXJ0T3duKHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgICAgICByZXR1cm4gdW5zYWZlSXNTZXQodGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgfVxuICAgIGNsZWFyKGZpZWxkKSB7XG4gICAgICAgIGFzc2VydE93bih0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICAgICAgdW5zYWZlQ2xlYXIodGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgfVxuICAgIGdldChmaWVsZCkge1xuICAgICAgICBhc3NlcnRPd24odGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdW5zYWZlR2V0KHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHRoaXMubGlzdHMuZ2V0KGZpZWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3QgfHwgbGlzdFt1bnNhZmVMb2NhbF0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdHMuc2V0KGZpZWxkLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgICAgICAgICAgICAgIChsaXN0ID0gbmV3IFJlZmxlY3RMaXN0SW1wbChmaWVsZCwgdmFsdWUsIHRoaXMuY2hlY2spKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIGxldCBtYXAgPSB0aGlzLm1hcHMuZ2V0KGZpZWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoIW1hcCB8fCBtYXBbdW5zYWZlTG9jYWxdICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcHMuc2V0KGZpZWxkLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgICAgICAgICAgICAgIChtYXAgPSBuZXcgUmVmbGVjdE1hcEltcGwoZmllbGQsIHZhbHVlLCB0aGlzLmNoZWNrKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZVRvUmVmbGVjdChmaWVsZCwgdmFsdWUsIHRoaXMuY2hlY2spO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHNjYWxhclplcm9WYWx1ZShmaWVsZC5zY2FsYXIsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICA6IGxvbmdUb1JlZmxlY3QoZmllbGQsIHZhbHVlKSk7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogZmllbGQuZW51bS52YWx1ZXNbMF0ubnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQoZmllbGQsIHZhbHVlKSB7XG4gICAgICAgIGFzc2VydE93bih0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxvY2FsO1xuICAgICAgICBpZiAoZmllbGQuZmllbGRLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICBsb2NhbCA9IG1lc3NhZ2VUb0xvY2FsKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZWZsZWN0TWFwKHZhbHVlKSB8fCBpc1JlZmxlY3RMaXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgbG9jYWwgPSB2YWx1ZVt1bnNhZmVMb2NhbF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2NhbCA9IGxvbmdUb0xvY2FsKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdW5zYWZlU2V0KHRoaXMubWVzc2FnZSwgZmllbGQsIGxvY2FsKTtcbiAgICB9XG4gICAgZ2V0VW5rbm93bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZS4kdW5rbm93bjtcbiAgICB9XG4gICAgc2V0VW5rbm93bih2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuJHVua25vd24gPSB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRPd24ob3duZXIsIG1lbWJlcikge1xuICAgIGlmIChtZW1iZXIucGFyZW50LnR5cGVOYW1lICE9PSBvd25lci4kdHlwZU5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IobWVtYmVyLCBgY2Fubm90IHVzZSAke21lbWJlci50b1N0cmluZygpfSB3aXRoIG1lc3NhZ2UgJHtvd25lci4kdHlwZU5hbWV9YCwgXCJGb3JlaWduRmllbGRFcnJvclwiKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIFJlZmxlY3RMaXN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdExpc3QoZmllbGQsIHVuc2FmZUlucHV0LCBcbi8qKlxuICogQnkgZGVmYXVsdCwgZmllbGQgdmFsdWVzIGFyZSB2YWxpZGF0ZWQgd2hlbiBzZXR0aW5nIHRoZW0uIEZvciBleGFtcGxlLFxuICogYSB2YWx1ZSBmb3IgYW4gdWludDMyIGZpZWxkIG11c3QgYmUgYSBFQ01BU2NyaXB0IE51bWJlciA+PSAwLlxuICpcbiAqIFdoZW4gZmllbGQgdmFsdWVzIGFyZSB0cnVzdGVkLCBwZXJmb3JtYW5jZSBjYW4gYmUgaW1wcm92ZWQgYnkgZGlzYWJsaW5nXG4gKiBjaGVja3MuXG4gKi9cbmNoZWNrID0gdHJ1ZSkge1xuICAgIHJldHVybiBuZXcgUmVmbGVjdExpc3RJbXBsKGZpZWxkLCB1bnNhZmVJbnB1dCAhPT0gbnVsbCAmJiB1bnNhZmVJbnB1dCAhPT0gdm9pZCAwID8gdW5zYWZlSW5wdXQgOiBbXSwgY2hlY2spO1xufVxuY2xhc3MgUmVmbGVjdExpc3RJbXBsIHtcbiAgICBmaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Fyci5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkLCB1bnNhZmVJbnB1dCwgY2hlY2spIHtcbiAgICAgICAgdGhpcy5fZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5fYXJyID0gdGhpc1t1bnNhZmVMb2NhbF0gPSB1bnNhZmVJbnB1dDtcbiAgICAgICAgdGhpcy5jaGVjayA9IGNoZWNrO1xuICAgIH1cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2FycltpbmRleF07XG4gICAgICAgIHJldHVybiBpdGVtID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IGxpc3RJdGVtVG9SZWZsZWN0KHRoaXMuX2ZpZWxkLCBpdGVtLCB0aGlzLmNoZWNrKTtcbiAgICB9XG4gICAgc2V0KGluZGV4LCBpdGVtKSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5fYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IodGhpcy5fZmllbGQsIGBsaXN0IGl0ZW0gIyR7aW5kZXggKyAxfTogb3V0IG9mIHJhbmdlYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNoZWNrTGlzdEl0ZW0odGhpcy5fZmllbGQsIGluZGV4LCBpdGVtKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXJyW2luZGV4XSA9IGxpc3RJdGVtVG9Mb2NhbCh0aGlzLl9maWVsZCwgaXRlbSk7XG4gICAgfVxuICAgIGFkZChpdGVtKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjaGVja0xpc3RJdGVtKHRoaXMuX2ZpZWxkLCB0aGlzLl9hcnIubGVuZ3RoLCBpdGVtKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXJyLnB1c2gobGlzdEl0ZW1Ub0xvY2FsKHRoaXMuX2ZpZWxkLCBpdGVtKSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9hcnIuc3BsaWNlKDAsIHRoaXMuX2Fyci5sZW5ndGgpO1xuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgfVxuICAgIGtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcnIua2V5cygpO1xuICAgIH1cbiAgICAqdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5fYXJyKSB7XG4gICAgICAgICAgICB5aWVsZCBsaXN0SXRlbVRvUmVmbGVjdCh0aGlzLl9maWVsZCwgaXRlbSwgdGhpcy5jaGVjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB5aWVsZCBbaSwgbGlzdEl0ZW1Ub1JlZmxlY3QodGhpcy5fZmllbGQsIHRoaXMuX2FycltpXSwgdGhpcy5jaGVjayldO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBSZWZsZWN0TWFwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdE1hcChmaWVsZCwgdW5zYWZlSW5wdXQsIFxuLyoqXG4gKiBCeSBkZWZhdWx0LCBmaWVsZCB2YWx1ZXMgYXJlIHZhbGlkYXRlZCB3aGVuIHNldHRpbmcgdGhlbS4gRm9yIGV4YW1wbGUsXG4gKiBhIHZhbHVlIGZvciBhbiB1aW50MzIgZmllbGQgbXVzdCBiZSBhIEVDTUFTY3JpcHQgTnVtYmVyID49IDAuXG4gKlxuICogV2hlbiBmaWVsZCB2YWx1ZXMgYXJlIHRydXN0ZWQsIHBlcmZvcm1hbmNlIGNhbiBiZSBpbXByb3ZlZCBieSBkaXNhYmxpbmdcbiAqIGNoZWNrcy5cbiAqL1xuY2hlY2sgPSB0cnVlKSB7XG4gICAgcmV0dXJuIG5ldyBSZWZsZWN0TWFwSW1wbChmaWVsZCwgdW5zYWZlSW5wdXQsIGNoZWNrKTtcbn1cbmNsYXNzIFJlZmxlY3RNYXBJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZCwgdW5zYWZlSW5wdXQsIGNoZWNrID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm9iaiA9IHRoaXNbdW5zYWZlTG9jYWxdID0gdW5zYWZlSW5wdXQgIT09IG51bGwgJiYgdW5zYWZlSW5wdXQgIT09IHZvaWQgMCA/IHVuc2FmZUlucHV0IDoge307XG4gICAgICAgIHRoaXMuY2hlY2sgPSBjaGVjaztcbiAgICAgICAgdGhpcy5fZmllbGQgPSBmaWVsZDtcbiAgICB9XG4gICAgZmllbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWVsZDtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNoZWNrTWFwRW50cnkodGhpcy5fZmllbGQsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ialttYXBLZXlUb0xvY2FsKGtleSldID0gbWFwVmFsdWVUb0xvY2FsKHRoaXMuX2ZpZWxkLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGNvbnN0IGsgPSBtYXBLZXlUb0xvY2FsKGtleSk7XG4gICAgICAgIGNvbnN0IGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm9iaiwgayk7XG4gICAgICAgIGlmIChoYXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5vYmopKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5vYmpba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGxldCB2YWwgPSB0aGlzLm9ialttYXBLZXlUb0xvY2FsKGtleSldO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbCA9IG1hcFZhbHVlVG9SZWZsZWN0KHRoaXMuX2ZpZWxkLCB2YWwsIHRoaXMuY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm9iaiwgbWFwS2V5VG9Mb2NhbChrZXkpKTtcbiAgICB9XG4gICAgKmtleXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqS2V5IG9mIE9iamVjdC5rZXlzKHRoaXMub2JqKSkge1xuICAgICAgICAgICAgeWllbGQgbWFwS2V5VG9SZWZsZWN0KG9iaktleSwgdGhpcy5fZmllbGQubWFwS2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqZW50cmllcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBvYmpFbnRyeSBvZiBPYmplY3QuZW50cmllcyh0aGlzLm9iaikpIHtcbiAgICAgICAgICAgIHlpZWxkIFtcbiAgICAgICAgICAgICAgICBtYXBLZXlUb1JlZmxlY3Qob2JqRW50cnlbMF0sIHRoaXMuX2ZpZWxkLm1hcEtleSksXG4gICAgICAgICAgICAgICAgbWFwVmFsdWVUb1JlZmxlY3QodGhpcy5fZmllbGQsIG9iakVudHJ5WzFdLCB0aGlzLmNoZWNrKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLm9iaikubGVuZ3RoO1xuICAgIH1cbiAgICAqdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiBPYmplY3QudmFsdWVzKHRoaXMub2JqKSkge1xuICAgICAgICAgICAgeWllbGQgbWFwVmFsdWVUb1JlZmxlY3QodGhpcy5fZmllbGQsIHZhbCwgdGhpcy5jaGVjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4uY2FsbCh0aGlzQXJnLCBtYXBFbnRyeVsxXSwgbWFwRW50cnlbMF0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbWVzc2FnZVRvTG9jYWwoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKCFpc1JlZmxlY3RNZXNzYWdlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc1dyYXBwZXIodmFsdWUubWVzc2FnZSkgJiZcbiAgICAgICAgIWZpZWxkLm9uZW9mICYmXG4gICAgICAgIGZpZWxkLmZpZWxkS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAvLyBUeXBlcyBmcm9tIGdvb2dsZS9wcm90b2J1Zi93cmFwcGVycy5wcm90byBhcmUgdW53cmFwcGVkIHdoZW4gdXNlZCBpblxuICAgICAgICAvLyBhIHNpbmd1bGFyIGZpZWxkIHRoYXQgaXMgbm90IHBhcnQgb2YgYSBvbmVvZiBncm91cC5cbiAgICAgICAgcmV0dXJuIHZhbHVlLm1lc3NhZ2UudmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5kZXNjLnR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFwiICYmXG4gICAgICAgIGZpZWxkLnBhcmVudC50eXBlTmFtZSAhPSBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiKSB7XG4gICAgICAgIC8vIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgaXMgcmVwcmVzZW50ZWQgd2l0aCBKc29uT2JqZWN0IHdoZW4gdXNlZCBpbiBhXG4gICAgICAgIC8vIGZpZWxkLCBleGNlcHQgd2hlbiB1c2VkIGluIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZS5cbiAgICAgICAgcmV0dXJuIHdrdFN0cnVjdFRvTG9jYWwodmFsdWUubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5tZXNzYWdlO1xufVxuZnVuY3Rpb24gbWVzc2FnZVRvUmVmbGVjdChmaWVsZCwgdmFsdWUsIGNoZWNrKSB7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzV3JhcHBlckRlc2MoZmllbGQubWVzc2FnZSkgJiZcbiAgICAgICAgICAgICFmaWVsZC5vbmVvZiAmJlxuICAgICAgICAgICAgZmllbGQuZmllbGRLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICAvLyBUeXBlcyBmcm9tIGdvb2dsZS9wcm90b2J1Zi93cmFwcGVycy5wcm90byBhcmUgdW53cmFwcGVkIHdoZW4gdXNlZCBpblxuICAgICAgICAgICAgLy8gYSBzaW5ndWxhciBmaWVsZCB0aGF0IGlzIG5vdCBwYXJ0IG9mIGEgb25lb2YgZ3JvdXAuXG4gICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAkdHlwZU5hbWU6IGZpZWxkLm1lc3NhZ2UudHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGxvbmdUb1JlZmxlY3QoZmllbGQubWVzc2FnZS5maWVsZHNbMF0sIHZhbHVlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGQubWVzc2FnZS50eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcIiAmJlxuICAgICAgICAgICAgZmllbGQucGFyZW50LnR5cGVOYW1lICE9IFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCIgJiZcbiAgICAgICAgICAgIGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBpcyByZXByZXNlbnRlZCB3aXRoIEpzb25PYmplY3Qgd2hlbiB1c2VkIGluIGFcbiAgICAgICAgICAgIC8vIGZpZWxkLCBleGNlcHQgd2hlbiB1c2VkIGluIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZS5cbiAgICAgICAgICAgIHZhbHVlID0gd2t0U3RydWN0VG9SZWZsZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZmxlY3RNZXNzYWdlSW1wbChmaWVsZC5tZXNzYWdlLCB2YWx1ZSwgY2hlY2spO1xufVxuZnVuY3Rpb24gbGlzdEl0ZW1Ub0xvY2FsKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5saXN0S2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICByZXR1cm4gbWVzc2FnZVRvTG9jYWwoZmllbGQsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvbmdUb0xvY2FsKGZpZWxkLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBsaXN0SXRlbVRvUmVmbGVjdChmaWVsZCwgdmFsdWUsIGNoZWNrKSB7XG4gICAgaWYgKGZpZWxkLmxpc3RLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSwgY2hlY2spO1xuICAgIH1cbiAgICByZXR1cm4gbG9uZ1RvUmVmbGVjdChmaWVsZCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gbWFwVmFsdWVUb0xvY2FsKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5tYXBLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlVG9Mb2NhbChmaWVsZCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbG9uZ1RvTG9jYWwoZmllbGQsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG1hcFZhbHVlVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSwgY2hlY2spIHtcbiAgICBpZiAoZmllbGQubWFwS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICByZXR1cm4gbWVzc2FnZVRvUmVmbGVjdChmaWVsZCwgdmFsdWUsIGNoZWNrKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gbWFwS2V5VG9Mb2NhbChrZXkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGtleSA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBrZXkgPT0gXCJudW1iZXJcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIG1hcCBrZXkgKGFueSBzY2FsYXIgdmFsdWUgZXhjZXB0IGZsb2F0LCBkb3VibGUsIG9yIGJ5dGVzKSBmcm9tIGl0c1xuICogcmVwcmVzZW50YXRpb24gaW4gYSBtZXNzYWdlIChzdHJpbmcgb3IgbnVtYmVyLCB0aGUgb25seSBwb3NzaWJsZSBvYmplY3Qga2V5XG4gKiB0eXBlcykgdG8gdGhlIGNsb3Nlc3QgcG9zc2libGUgdHlwZSBpbiBFQ01BU2NyaXB0LlxuICovXG5mdW5jdGlvbiBtYXBLZXlUb1JlZmxlY3Qoa2V5LCB0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBOdW1iZXIucGFyc2VJbnQoa2V5KTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidHJ1ZVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmFsc2VcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC51UGFyc2Uoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIElOVDY0LCBTRklYRUQ2NCwgU0lOVDY0XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm90b0ludDY0LnBhcnNlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2IpIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiBsb25nVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSkge1xuICAgIHN3aXRjaCAoZmllbGQuc2NhbGFyKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgaWYgKFwibG9uZ0FzU3RyaW5nXCIgaW4gZmllbGQgJiZcbiAgICAgICAgICAgICAgICBmaWVsZC5sb25nQXNTdHJpbmcgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvdG9JbnQ2NC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICBpZiAoXCJsb25nQXNTdHJpbmdcIiBpbiBmaWVsZCAmJlxuICAgICAgICAgICAgICAgIGZpZWxkLmxvbmdBc1N0cmluZyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm90b0ludDY0LnVQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gbG9uZ1RvTG9jYWwoZmllbGQsIHZhbHVlKSB7XG4gICAgc3dpdGNoIChmaWVsZC5zY2FsYXIpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICBpZiAoXCJsb25nQXNTdHJpbmdcIiBpbiBmaWVsZCAmJiBmaWVsZC5sb25nQXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvdG9JbnQ2NC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICBpZiAoXCJsb25nQXNTdHJpbmdcIiBpbiBmaWVsZCAmJiBmaWVsZC5sb25nQXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvdG9JbnQ2NC51UGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHdrdFN0cnVjdFRvUmVmbGVjdChqc29uKSB7XG4gICAgY29uc3Qgc3RydWN0ID0ge1xuICAgICAgICAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFwiLFxuICAgICAgICBmaWVsZHM6IHt9LFxuICAgIH07XG4gICAgaWYgKGlzT2JqZWN0KGpzb24pKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24pKSB7XG4gICAgICAgICAgICBzdHJ1Y3QuZmllbGRzW2tdID0gd2t0VmFsdWVUb1JlZmxlY3Qodik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cnVjdDtcbn1cbmZ1bmN0aW9uIHdrdFN0cnVjdFRvTG9jYWwodmFsKSB7XG4gICAgY29uc3QganNvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHZhbC5maWVsZHMpKSB7XG4gICAgICAgIGpzb25ba10gPSB3a3RWYWx1ZVRvTG9jYWwodik7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gd2t0VmFsdWVUb0xvY2FsKHZhbCkge1xuICAgIHN3aXRjaCAodmFsLmtpbmQuY2FzZSkge1xuICAgICAgICBjYXNlIFwic3RydWN0VmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiB3a3RTdHJ1Y3RUb0xvY2FsKHZhbC5raW5kLnZhbHVlKTtcbiAgICAgICAgY2FzZSBcImxpc3RWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbC5raW5kLnZhbHVlLnZhbHVlcy5tYXAod2t0VmFsdWVUb0xvY2FsKTtcbiAgICAgICAgY2FzZSBcIm51bGxWYWx1ZVwiOlxuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbC5raW5kLnZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdrdFZhbHVlVG9SZWZsZWN0KGpzb24pIHtcbiAgICBjb25zdCB2YWx1ZSA9IHtcbiAgICAgICAgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiLFxuICAgICAgICBraW5kOiB7IGNhc2U6IHVuZGVmaW5lZCB9LFxuICAgIH07XG4gICAgc3dpdGNoICh0eXBlb2YganNvbikge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcIm51bWJlclZhbHVlXCIsIHZhbHVlOiBqc29uIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJzdHJpbmdWYWx1ZVwiLCB2YWx1ZToganNvbiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcImJvb2xWYWx1ZVwiLCB2YWx1ZToganNvbiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVsbFZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcIm51bGxWYWx1ZVwiLCB2YWx1ZTogbnVsbFZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdFZhbHVlID0ge1xuICAgICAgICAgICAgICAgICAgICAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIGpzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RWYWx1ZS52YWx1ZXMucHVzaCh3a3RWYWx1ZVRvUmVmbGVjdChlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUua2luZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZTogXCJsaXN0VmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGxpc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUua2luZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZTogXCJzdHJ1Y3RWYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogd2t0U3RydWN0VG9SZWZsZWN0KGpzb24pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbmltcG9ydCB7IGlzUmVmbGVjdE1lc3NhZ2UgfSBmcm9tIFwiLi9yZWZsZWN0L2d1YXJkLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBhIGRlZXAgY29weSBvZiBhIG1lc3NhZ2UsIGluY2x1ZGluZyBleHRlbnNpb25zIGFuZCB1bmtub3duIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKHNjaGVtYSwgbWVzc2FnZSkge1xuICAgIHJldHVybiBjbG9uZVJlZmxlY3QocmVmbGVjdChzY2hlbWEsIG1lc3NhZ2UpKS5tZXNzYWdlO1xufVxuZnVuY3Rpb24gY2xvbmVSZWZsZWN0KGkpIHtcbiAgICBjb25zdCBvID0gcmVmbGVjdChpLmRlc2MpO1xuICAgIGZvciAoY29uc3QgZiBvZiBpLmZpZWxkcykge1xuICAgICAgICBpZiAoIWkuaXNTZXQoZikpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZi5maWVsZEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IG8uZ2V0KGYpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpLmdldChmKSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0LmFkZChjbG9uZVNpbmd1bGFyKGYsIGl0ZW0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwID0gby5nZXQoZik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpLmdldChmKS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldChlbnRyeVswXSwgY2xvbmVTaW5ndWxhcihmLCBlbnRyeVsxXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBvLnNldChmLCBjbG9uZVNpbmd1bGFyKGYsIGkuZ2V0KGYpKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdW5rbm93biA9IGkuZ2V0VW5rbm93bigpO1xuICAgIGlmICh1bmtub3duICYmIHVua25vd24ubGVuZ3RoID4gMCkge1xuICAgICAgICBvLnNldFVua25vd24oWy4uLnVua25vd25dKTtcbiAgICB9XG4gICAgcmV0dXJuIG87XG59XG5mdW5jdGlvbiBjbG9uZVNpbmd1bGFyKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5tZXNzYWdlICE9PSB1bmRlZmluZWQgJiYgaXNSZWZsZWN0TWVzc2FnZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lUmVmbGVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChmaWVsZC5zY2FsYXIgPT0gU2NhbGFyVHlwZS5CWVRFUyAmJiB2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUIGNhbm5vdCBleHRlbmQgVWludDhBcnJheSBpbiBwcmFjdGljZVxuICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIERlY29kZXMgYSBiYXNlNjQgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIGlnbm9yZXMgd2hpdGUtc3BhY2UsIGluY2x1ZGluZyBsaW5lIGJyZWFrcyBhbmQgdGFic1xuICogLSBhbGxvd3MgaW5uZXIgcGFkZGluZyAoY2FuIGRlY29kZSBjb25jYXRlbmF0ZWQgYmFzZTY0IHN0cmluZ3MpXG4gKiAtIGRvZXMgbm90IHJlcXVpcmUgcGFkZGluZ1xuICogLSB1bmRlcnN0YW5kcyBiYXNlNjR1cmwgZW5jb2Rpbmc6XG4gKiAgIFwiLVwiIGluc3RlYWQgb2YgXCIrXCIsXG4gKiAgIFwiX1wiIGluc3RlYWQgb2YgXCIvXCIsXG4gKiAgIG5vIHBhZGRpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NERlY29kZShiYXNlNjRTdHIpIHtcbiAgICBjb25zdCB0YWJsZSA9IGdldERlY29kZVRhYmxlKCk7XG4gICAgLy8gZXN0aW1hdGUgYnl0ZSBzaXplLCBub3QgYWNjb3VudGluZyBmb3IgaW5uZXIgcGFkZGluZyBhbmQgd2hpdGVzcGFjZVxuICAgIGxldCBlcyA9IChiYXNlNjRTdHIubGVuZ3RoICogMykgLyA0O1xuICAgIGlmIChiYXNlNjRTdHJbYmFzZTY0U3RyLmxlbmd0aCAtIDJdID09IFwiPVwiKVxuICAgICAgICBlcyAtPSAyO1xuICAgIGVsc2UgaWYgKGJhc2U2NFN0cltiYXNlNjRTdHIubGVuZ3RoIC0gMV0gPT0gXCI9XCIpXG4gICAgICAgIGVzIC09IDE7XG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZXMpLCBieXRlUG9zID0gMCwgLy8gcG9zaXRpb24gaW4gYnl0ZSBhcnJheVxuICAgIGdyb3VwUG9zID0gMCwgLy8gcG9zaXRpb24gaW4gYmFzZTY0IGdyb3VwXG4gICAgYiwgLy8gY3VycmVudCBieXRlXG4gICAgcCA9IDA7IC8vIHByZXZpb3VzIGJ5dGVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhc2U2NFN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBiID0gdGFibGVbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGJhc2U2NFN0cltpXSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgVFM3MDI5OiBGYWxsdGhyb3VnaCBjYXNlIGluIHN3aXRjaCAtLSBpZ25vcmUgaW5zdGVhZCBvZiBleHBlY3QtZXJyb3IgZm9yIGNvbXBpbGVyIHNldHRpbmdzIHdpdGhvdXQgbm9GYWxsdGhyb3VnaENhc2VzSW5Td2l0Y2g6IHRydWVcbiAgICAgICAgICAgICAgICBjYXNlIFwiPVwiOlxuICAgICAgICAgICAgICAgICAgICBncm91cFBvcyA9IDA7IC8vIHJlc2V0IHN0YXRlIHdoZW4gcGFkZGluZyBmb3VuZFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIgXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHdoaXRlLXNwYWNlLCBhbmQgcGFkZGluZ1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW52YWxpZCBiYXNlNjQgc3RyaW5nXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZ3JvdXBQb3MpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwID0gYjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYnl0ZXNbYnl0ZVBvcysrXSA9IChwIDw8IDIpIHwgKChiICYgNDgpID4+IDQpO1xuICAgICAgICAgICAgICAgIHAgPSBiO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBieXRlc1tieXRlUG9zKytdID0gKChwICYgMTUpIDw8IDQpIHwgKChiICYgNjApID4+IDIpO1xuICAgICAgICAgICAgICAgIHAgPSBiO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBieXRlc1tieXRlUG9zKytdID0gKChwICYgMykgPDwgNikgfCBiO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZ3JvdXBQb3MgPT0gMSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGJhc2U2NCBzdHJpbmdcIik7XG4gICAgcmV0dXJuIGJ5dGVzLnN1YmFycmF5KDAsIGJ5dGVQb3MpO1xufVxuLyoqXG4gKiBFbmNvZGUgYSBieXRlIGFycmF5IHRvIGEgYmFzZTY0IHN0cmluZy5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGZ1bmN0aW9uIHVzZXMgdGhlIHN0YW5kYXJkIGJhc2U2NCBlbmNvZGluZyB3aXRoIHBhZGRpbmcuXG4gKlxuICogVG8gZW5jb2RlIHdpdGhvdXQgcGFkZGluZywgdXNlIGVuY29kaW5nID0gXCJzdGRfcmF3XCIuXG4gKlxuICogVG8gZW5jb2RlIHdpdGggdGhlIFVSTCBlbmNvZGluZywgdXNlIGVuY29kaW5nID0gXCJ1cmxcIiwgd2hpY2ggcmVwbGFjZXMgdGhlXG4gKiBjaGFyYWN0ZXJzICsvIGJ5IHRoZWlyIFVSTC1zYWZlIGNvdW50ZXJwYXJ0cyAtXywgYW5kIG9taXRzIHBhZGRpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRFbmNvZGUoYnl0ZXMsIGVuY29kaW5nID0gXCJzdGRcIikge1xuICAgIGNvbnN0IHRhYmxlID0gZ2V0RW5jb2RlVGFibGUoZW5jb2RpbmcpO1xuICAgIGNvbnN0IHBhZCA9IGVuY29kaW5nID09IFwic3RkXCI7XG4gICAgbGV0IGJhc2U2NCA9IFwiXCIsIGdyb3VwUG9zID0gMCwgLy8gcG9zaXRpb24gaW4gYmFzZTY0IGdyb3VwXG4gICAgYiwgLy8gY3VycmVudCBieXRlXG4gICAgcCA9IDA7IC8vIGNhcnJ5IG92ZXIgZnJvbSBwcmV2aW91cyBieXRlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiID0gYnl0ZXNbaV07XG4gICAgICAgIHN3aXRjaCAoZ3JvdXBQb3MpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gdGFibGVbYiA+PiAyXTtcbiAgICAgICAgICAgICAgICBwID0gKGIgJiAzKSA8PCA0O1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gdGFibGVbcCB8IChiID4+IDQpXTtcbiAgICAgICAgICAgICAgICBwID0gKGIgJiAxNSkgPDwgMjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IHRhYmxlW3AgfCAoYiA+PiA2KV07XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IHRhYmxlW2IgJiA2M107XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBvdXRwdXQgcGFkZGluZ1xuICAgIGlmIChncm91cFBvcykge1xuICAgICAgICBiYXNlNjQgKz0gdGFibGVbcF07XG4gICAgICAgIGlmIChwYWQpIHtcbiAgICAgICAgICAgIGJhc2U2NCArPSBcIj1cIjtcbiAgICAgICAgICAgIGlmIChncm91cFBvcyA9PSAxKVxuICAgICAgICAgICAgICAgIGJhc2U2NCArPSBcIj1cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYmFzZTY0O1xufVxuLy8gbG9va3VwIHRhYmxlIGZyb20gYmFzZTY0IGNoYXJhY3RlciB0byBieXRlXG5sZXQgZW5jb2RlVGFibGVTdGQ7XG5sZXQgZW5jb2RlVGFibGVVcmw7XG4vLyBsb29rdXAgdGFibGUgZnJvbSBiYXNlNjQgY2hhcmFjdGVyICpjb2RlKiB0byBieXRlIGJlY2F1c2UgbG9va3VwIGJ5IG51bWJlciBpcyBmYXN0XG5sZXQgZGVjb2RlVGFibGU7XG5mdW5jdGlvbiBnZXRFbmNvZGVUYWJsZShlbmNvZGluZykge1xuICAgIGlmICghZW5jb2RlVGFibGVTdGQpIHtcbiAgICAgICAgZW5jb2RlVGFibGVTdGQgPVxuICAgICAgICAgICAgXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuc3BsaXQoXCJcIik7XG4gICAgICAgIGVuY29kZVRhYmxlVXJsID0gZW5jb2RlVGFibGVTdGQuc2xpY2UoMCwgLTIpLmNvbmNhdChcIi1cIiwgXCJfXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RpbmcgPT0gXCJ1cmxcIlxuICAgICAgICA/IC8vIGJpb21lLWlnbm9yZSBsaW50L3N0eWxlL25vTm9uTnVsbEFzc2VydGlvbjogVFMgZmFpbHMgdG8gbmFycm93IGRvd25cbiAgICAgICAgICAgIGVuY29kZVRhYmxlVXJsXG4gICAgICAgIDogZW5jb2RlVGFibGVTdGQ7XG59XG5mdW5jdGlvbiBnZXREZWNvZGVUYWJsZSgpIHtcbiAgICBpZiAoIWRlY29kZVRhYmxlKSB7XG4gICAgICAgIGRlY29kZVRhYmxlID0gW107XG4gICAgICAgIGNvbnN0IGVuY29kZVRhYmxlID0gZ2V0RW5jb2RlVGFibGUoXCJzdGRcIik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlVGFibGUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBkZWNvZGVUYWJsZVtlbmNvZGVUYWJsZVtpXS5jaGFyQ29kZUF0KDApXSA9IGk7XG4gICAgICAgIC8vIHN1cHBvcnQgYmFzZTY0dXJsIHZhcmlhbnRzXG4gICAgICAgIGRlY29kZVRhYmxlW1wiLVwiLmNoYXJDb2RlQXQoMCldID0gZW5jb2RlVGFibGUuaW5kZXhPZihcIitcIik7XG4gICAgICAgIGRlY29kZVRhYmxlW1wiX1wiLmNoYXJDb2RlQXQoMCldID0gZW5jb2RlVGFibGUuaW5kZXhPZihcIi9cIik7XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVUYWJsZTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBSZXR1cm4gYSBmdWxseS1xdWFsaWZpZWQgbmFtZSBmb3IgYSBQcm90b2J1ZiBkZXNjcmlwdG9yLlxuICogRm9yIGEgZmlsZSBkZXNjcmlwdG9yLCByZXR1cm4gdGhlIG9yaWdpbmFsIGZpbGUgcGF0aC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9wcm90b2J1Zi5jb20vZG9jcy9sYW5ndWFnZS1zcGVjI2Z1bGx5LXF1YWxpZmllZC1uYW1lc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbGlmaWVkTmFtZShkZXNjKSB7XG4gICAgc3dpdGNoIChkZXNjLmtpbmQpIHtcbiAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgIGNhc2UgXCJvbmVvZlwiOlxuICAgICAgICBjYXNlIFwicnBjXCI6XG4gICAgICAgICAgICByZXR1cm4gZGVzYy5wYXJlbnQudHlwZU5hbWUgKyBcIi5cIiArIGRlc2MubmFtZTtcbiAgICAgICAgY2FzZSBcImVudW1fdmFsdWVcIjoge1xuICAgICAgICAgICAgY29uc3QgcCA9IGRlc2MucGFyZW50LnBhcmVudFxuICAgICAgICAgICAgICAgID8gZGVzYy5wYXJlbnQucGFyZW50LnR5cGVOYW1lXG4gICAgICAgICAgICAgICAgOiBkZXNjLnBhcmVudC5maWxlLnByb3RvLnBhY2thZ2U7XG4gICAgICAgICAgICByZXR1cm4gcCArIChwLmxlbmd0aCA+IDAgPyBcIi5cIiA6IFwiXCIpICsgZGVzYy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzZXJ2aWNlXCI6XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgIGNhc2UgXCJleHRlbnNpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBkZXNjLnR5cGVOYW1lO1xuICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2MucHJvdG8ubmFtZTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIHNuYWtlX2Nhc2UgdG8gcHJvdG9DYW1lbENhc2UgYWNjb3JkaW5nIHRvIHRoZSBjb252ZW50aW9uXG4gKiB1c2VkIGJ5IHByb3RvYyB0byBjb252ZXJ0IGEgZmllbGQgbmFtZSB0byBhIEpTT04gbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3RvQ2FtZWxDYXNlKHNuYWtlQ2FzZSkge1xuICAgIGxldCBjYXBOZXh0ID0gZmFsc2U7XG4gICAgY29uc3QgYiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc25ha2VDYXNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjID0gc25ha2VDYXNlLmNoYXJBdChpKTtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgICBjYXNlIFwiX1wiOlxuICAgICAgICAgICAgICAgIGNhcE5leHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgICAgY2FzZSBcIjlcIjpcbiAgICAgICAgICAgICAgICBiLnB1c2goYyk7XG4gICAgICAgICAgICAgICAgY2FwTmV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoY2FwTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBjYXBOZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBjLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGIucHVzaChjKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYi5qb2luKFwiXCIpO1xufVxuLyoqXG4gKiBOYW1lcyB0aGF0IGNhbm5vdCBiZSB1c2VkIGZvciBvYmplY3QgcHJvcGVydGllcyBiZWNhdXNlIHRoZXkgYXJlIHJlc2VydmVkXG4gKiBieSBidWlsdC1pbiBKYXZhU2NyaXB0IHByb3BlcnRpZXMuXG4gKi9cbmNvbnN0IHJlc2VydmVkT2JqZWN0UHJvcGVydGllcyA9IG5ldyBTZXQoW1xuICAgIC8vIG5hbWVzIHJlc2VydmVkIGJ5IEphdmFTY3JpcHRcbiAgICBcImNvbnN0cnVjdG9yXCIsXG4gICAgXCJ0b1N0cmluZ1wiLFxuICAgIFwidG9KU09OXCIsXG4gICAgXCJ2YWx1ZU9mXCIsXG5dKTtcbi8qKlxuICogRXNjYXBlcyBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBmb3IgRUNNQVNjcmlwdCBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcy5cbiAqXG4gKiBBbHNvIHNlZSBzYWZlSWRlbnRpZmllcigpIGZyb20gQGJ1ZmJ1aWxkL3Byb3RvcGx1Z2luLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZU9iamVjdFByb3BlcnR5KG5hbWUpIHtcbiAgICByZXR1cm4gcmVzZXJ2ZWRPYmplY3RQcm9wZXJ0aWVzLmhhcyhuYW1lKSA/IG5hbWUgKyBcIiRcIiA6IG5hbWU7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHByb3RvQ2FtZWxDYXNlIH0gZnJvbSBcIi4uL3JlZmxlY3QvbmFtZXMuanNcIjtcbmltcG9ydCB7IHVuc2FmZUlzU2V0RXhwbGljaXQgfSBmcm9tIFwiLi4vcmVmbGVjdC91bnNhZmUuanNcIjtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVKc29uTmFtZXMobWVzc2FnZSkge1xuICAgIGZvciAoY29uc3QgZiBvZiBtZXNzYWdlLmZpZWxkKSB7XG4gICAgICAgIGlmICghdW5zYWZlSXNTZXRFeHBsaWNpdChmLCBcImpzb25OYW1lXCIpKSB7XG4gICAgICAgICAgICBmLmpzb25OYW1lID0gcHJvdG9DYW1lbENhc2UoZi5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtZXNzYWdlLm5lc3RlZFR5cGUuZm9yRWFjaChyZXN0b3JlSnNvbk5hbWVzKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSB9IGZyb20gXCIuLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgcHJvdG9JbnQ2NCB9IGZyb20gXCIuLi9wcm90by1pbnQ2NC5qc1wiO1xuLyoqXG4gKiBQYXJzZSBhbiBlbnVtIHZhbHVlIGZyb20gdGhlIFByb3RvYnVmIHRleHQgZm9ybWF0LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRleHRGb3JtYXRFbnVtVmFsdWUoZGVzY0VudW0sIHZhbHVlKSB7XG4gICAgY29uc3QgZW51bVZhbHVlID0gZGVzY0VudW0udmFsdWVzLmZpbmQoKHYpID0+IHYubmFtZSA9PT0gdmFsdWUpO1xuICAgIGlmICghZW51bVZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IHBhcnNlICR7ZGVzY0VudW19IGRlZmF1bHQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIHJldHVybiBlbnVtVmFsdWUubnVtYmVyO1xufVxuLyoqXG4gKiBQYXJzZSBhIHNjYWxhciB2YWx1ZSBmcm9tIHRoZSBQcm90b2J1ZiB0ZXh0IGZvcm1hdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUZXh0Rm9ybWF0U2NhbGFyVmFsdWUodHlwZSwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOiB7XG4gICAgICAgICAgICBjb25zdCB1ID0gdW5lc2NhcGVCeXRlc0RlZmF1bHRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBwYXJzZSAke1NjYWxhclR5cGVbdHlwZV19IGRlZmF1bHQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiBwcm90b0ludDY0LnBhcnNlKHZhbHVlKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC51UGFyc2UodmFsdWUpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImluZlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgICAgIGNhc2UgXCItaW5mXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5hblwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk5hTjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBcInRydWVcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZXMgYSB0ZXh0LWVuY29kZWQgZGVmYXVsdCB2YWx1ZSAocHJvdG8yKSBvZiBhIEJZVEVTIGZpZWxkLlxuICovXG5mdW5jdGlvbiB1bmVzY2FwZUJ5dGVzRGVmYXVsdFZhbHVlKHN0cikge1xuICAgIGNvbnN0IGIgPSBbXTtcbiAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGFpbDogc3RyLFxuICAgICAgICBjOiBcIlwiLFxuICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFpbC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYyA9IHRoaXMudGFpbFswXTtcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IHRoaXMudGFpbC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgdGFrZShuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YWlsLmxlbmd0aCA+PSBuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHRoaXMudGFpbC5zdWJzdHJpbmcoMCwgbik7XG4gICAgICAgICAgICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHdoaWxlIChpbnB1dC5uZXh0KCkpIHtcbiAgICAgICAgc3dpdGNoIChpbnB1dC5jKSB7XG4gICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpbnB1dC5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaChpbnB1dC5jLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMHgwOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgweDBjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDB4MGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMHgwZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgweDA5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDB4MGIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI3XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gaW5wdXQuYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gaW5wdXQudGFrZSgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gcGFyc2VJbnQocyArIHQsIDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2gobik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGlucHV0LmM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGlucHV0LnRha2UoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHMgKyB0LCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaChuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gaW5wdXQuYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gaW5wdXQudGFrZSg0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gcGFyc2VJbnQocyArIHQsIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRJbnQzMigwLCBuLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goY2h1bmtbMF0sIGNodW5rWzFdLCBjaHVua1syXSwgY2h1bmtbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBpbnB1dC5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpbnB1dC50YWtlKDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRjID0gcHJvdG9JbnQ2NC51RW5jKHMgKyB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldEludDMyKDAsIHRjLmxvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldEludDMyKDQsIHRjLmhpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goY2h1bmtbMF0sIGNodW5rWzFdLCBjaHVua1syXSwgY2h1bmtbM10sIGNodW5rWzRdLCBjaHVua1s1XSwgY2h1bmtbNl0sIGNodW5rWzddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYi5wdXNoKGlucHV0LmMuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGIpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdHlwZXMgLSBlbnVtZXJhdGlvbnMsIGV4dGVuc2lvbnMsIHNlcnZpY2VzLCBtZXNzYWdlcyAtXG4gKiBhbmQgZW51bWVyYXRpb25zLCBleHRlbnNpb25zIGFuZCBtZXNzYWdlcyBuZXN0ZWQgaW4gbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiogbmVzdGVkVHlwZXMoZGVzYykge1xuICAgIHN3aXRjaCAoZGVzYy5raW5kKSB7XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgZGVzYy5tZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgeWllbGQqIG5lc3RlZFR5cGVzKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQqIGRlc2MuZW51bXM7XG4gICAgICAgICAgICB5aWVsZCogZGVzYy5zZXJ2aWNlcztcbiAgICAgICAgICAgIHlpZWxkKiBkZXNjLmV4dGVuc2lvbnM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBkZXNjLm5lc3RlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB5aWVsZCogbmVzdGVkVHlwZXMobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCogZGVzYy5uZXN0ZWRFbnVtcztcbiAgICAgICAgICAgIHlpZWxkKiBkZXNjLm5lc3RlZEV4dGVuc2lvbnM7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4vKipcbiAqIEl0ZXJhdGUgb3ZlciB0eXBlcyByZWZlcmVuY2VkIGJ5IGZpZWxkcyBvZiB0aGUgZ2l2ZW4gbWVzc2FnZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBwcm90b1xuICogc3ludGF4PVwicHJvdG8zXCI7XG4gKlxuICogbWVzc2FnZSBFeGFtcGxlIHtcbiAqICAgTXNnIHNpbmd1bGFyID0gMTtcbiAqICAgcmVwZWF0ZWQgTGV2ZWwgbGlzdCA9IDI7XG4gKiB9XG4gKlxuICogbWVzc2FnZSBNc2cge31cbiAqXG4gKiBlbnVtIExldmVsIHtcbiAqICAgTEVWRUxfVU5TUEVDSUZJRUQgPSAwO1xuICogfVxuICogYGBgXG4gKlxuICogVGhlIG1lc3NhZ2UgRXhhbXBsZSByZWZlcmVuY2VzIHRoZSBtZXNzYWdlIE1zZywgYW5kIHRoZSBlbnVtIExldmVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlZFR5cGVzKGRlc2NNZXNzYWdlKSB7XG4gICAgcmV0dXJuIHVzZWRUeXBlc0ludGVybmFsKGRlc2NNZXNzYWdlLCBuZXcgU2V0KCkpO1xufVxuZnVuY3Rpb24qIHVzZWRUeXBlc0ludGVybmFsKGRlc2NNZXNzYWdlLCBzZWVuKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGRlc2NNZXNzYWdlLmZpZWxkcykge1xuICAgICAgICBjb25zdCByZWYgPSAoX2IgPSAoX2EgPSBmaWVsZC5lbnVtKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmaWVsZC5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghcmVmIHx8IHNlZW4uaGFzKHJlZi50eXBlTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uYWRkKHJlZi50eXBlTmFtZSk7XG4gICAgICAgIHlpZWxkIHJlZjtcbiAgICAgICAgaWYgKHJlZi5raW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICB5aWVsZCogdXNlZFR5cGVzSW50ZXJuYWwocmVmLCBzZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgYW5jZXN0b3JzIG9mIGEgZ2l2ZW4gUHJvdG9idWYgZWxlbWVudCwgdXAgdG8gdGhlIGZpbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJlbnRUeXBlcyhkZXNjKSB7XG4gICAgY29uc3QgcGFyZW50cyA9IFtdO1xuICAgIHdoaWxlIChkZXNjLmtpbmQgIT09IFwiZmlsZVwiKSB7XG4gICAgICAgIGNvbnN0IHAgPSBwYXJlbnQoZGVzYyk7XG4gICAgICAgIGRlc2MgPSBwO1xuICAgICAgICBwYXJlbnRzLnB1c2gocCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gcGFyZW50KGRlc2MpIHtcbiAgICB2YXIgX2E7XG4gICAgc3dpdGNoIChkZXNjLmtpbmQpIHtcbiAgICAgICAgY2FzZSBcImVudW1fdmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgIGNhc2UgXCJvbmVvZlwiOlxuICAgICAgICBjYXNlIFwicnBjXCI6XG4gICAgICAgICAgICByZXR1cm4gZGVzYy5wYXJlbnQ7XG4gICAgICAgIGNhc2UgXCJzZXJ2aWNlXCI6XG4gICAgICAgICAgICByZXR1cm4gZGVzYy5maWxlO1xuICAgICAgICBjYXNlIFwiZXh0ZW5zaW9uXCI6XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gZGVzYy5wYXJlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlc2MuZmlsZTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHBhcnNlVGV4dEZvcm1hdEVudW1WYWx1ZSwgcGFyc2VUZXh0Rm9ybWF0U2NhbGFyVmFsdWUsIH0gZnJvbSBcIi4vd2lyZS90ZXh0LWZvcm1hdC5qc1wiO1xuaW1wb3J0IHsgbmVzdGVkVHlwZXMgfSBmcm9tIFwiLi9yZWZsZWN0L25lc3RlZC10eXBlcy5qc1wiO1xuaW1wb3J0IHsgdW5zYWZlSXNTZXRFeHBsaWNpdCB9IGZyb20gXCIuL3JlZmxlY3QvdW5zYWZlLmpzXCI7XG5pbXBvcnQgeyBwcm90b0NhbWVsQ2FzZSwgc2FmZU9iamVjdFByb3BlcnR5IH0gZnJvbSBcIi4vcmVmbGVjdC9uYW1lcy5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSByZWdpc3RyeSBmcm9tIHRoZSBnaXZlbiBpbnB1dHMuXG4gKlxuICogQW4gaW5wdXQgY2FuIGJlOlxuICogLSBBbnkgbWVzc2FnZSwgZW51bSwgc2VydmljZSwgb3IgZXh0ZW5zaW9uIGRlc2NyaXB0b3IsIHdoaWNoIGFkZHMganVzdCB0aGVcbiAqICAgZGVzY3JpcHRvciBmb3IgdGhpcyB0eXBlLlxuICogLSBBIGZpbGUgZGVzY3JpcHRvciwgd2hpY2ggYWRkcyBhbGwgdHlwZWQgZGVmaW5lZCBpbiB0aGlzIGZpbGUuXG4gKiAtIEEgcmVnaXN0cnksIHdoaWNoIGFkZHMgYWxsIHR5cGVzIGZyb20gdGhlIHJlZ2lzdHJ5LlxuICpcbiAqIEZvciBkdXBsaWNhdGUgZGVzY3JpcHRvcnMgKHNhbWUgdHlwZSBuYW1lKSwgdGhlIG9uZSBnaXZlbiBsYXN0IHdpbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWdpc3RyeSguLi5pbnB1dCkge1xuICAgIHJldHVybiBpbml0QmFzZVJlZ2lzdHJ5KGlucHV0KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgcmVnaXN0cnkgdGhhdCBhbGxvd3MgYWRkaW5nIGFuZCByZW1vdmluZyBkZXNjcmlwdG9ycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU11dGFibGVSZWdpc3RyeSguLi5pbnB1dCkge1xuICAgIGNvbnN0IHJlZyA9IGluaXRCYXNlUmVnaXN0cnkoaW5wdXQpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZyksIHsgcmVtb3ZlKGRlc2MpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChkZXNjLmtpbmQgPT0gXCJleHRlbnNpb25cIikge1xuICAgICAgICAgICAgICAgIChfYSA9IHJlZy5leHRlbmRlZXMuZ2V0KGRlc2MuZXh0ZW5kZWUudHlwZU5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVsZXRlKGRlc2MubnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZy50eXBlcy5kZWxldGUoZGVzYy50eXBlTmFtZSk7XG4gICAgICAgIH0gfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZVJlZ2lzdHJ5KC4uLmFyZ3MpIHtcbiAgICBjb25zdCByZWdpc3RyeSA9IGNyZWF0ZUJhc2VSZWdpc3RyeSgpO1xuICAgIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJ5O1xuICAgIH1cbiAgICBpZiAoXCIkdHlwZU5hbWVcIiBpbiBhcmdzWzBdICYmXG4gICAgICAgIGFyZ3NbMF0uJHR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0XCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGFyZ3NbMF0uZmlsZSkge1xuICAgICAgICAgICAgYWRkRmlsZShmaWxlLCByZWdpc3RyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJ5O1xuICAgIH1cbiAgICBpZiAoXCIkdHlwZU5hbWVcIiBpbiBhcmdzWzBdKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYXJnc1swXTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZSA9IGFyZ3NbMV07XG4gICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7XG4gICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2VEZXBzKGZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlcHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvdG9GaWxlTmFtZSBvZiBmaWxlLmRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnkuZ2V0RmlsZShwcm90b0ZpbGVOYW1lKSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWVuLmhhcyhwcm90b0ZpbGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGVwID0gcmVzb2x2ZShwcm90b0ZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRlcCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byByZXNvbHZlICR7cHJvdG9GaWxlTmFtZX0sIGltcG9ydGVkIGJ5ICR7ZmlsZS5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXCJraW5kXCIgaW4gZGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmFkZEZpbGUoZGVwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWVuLmFkZChkZXAubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXBzLmNvbmNhdCguLi5kZXBzLm1hcChyZWN1cnNlRGVwcykpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBbaW5wdXQsIC4uLnJlY3Vyc2VEZXBzKGlucHV0KV0ucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBhZGRGaWxlKGZpbGUsIHJlZ2lzdHJ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlUmVnIG9mIGFyZ3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlUmVnLmZpbGVzKSB7XG4gICAgICAgICAgICAgICAgcmVnaXN0cnkuYWRkRmlsZShmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVnaXN0cnk7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZWdpc3RyeSgpIHtcbiAgICBjb25zdCB0eXBlcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBleHRlbmRlZXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZmlsZXMgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJyZWdpc3RyeVwiLFxuICAgICAgICB0eXBlcyxcbiAgICAgICAgZXh0ZW5kZWVzLFxuICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlcy52YWx1ZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZpbGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVzLnZhbHVlcygpO1xuICAgICAgICB9LFxuICAgICAgICBhZGRGaWxlKGZpbGUsIHNraXBUeXBlcywgd2l0aERlcHMpIHtcbiAgICAgICAgICAgIGZpbGVzLnNldChmaWxlLnByb3RvLm5hbWUsIGZpbGUpO1xuICAgICAgICAgICAgaWYgKCFza2lwVHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgbmVzdGVkVHlwZXMoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGQodHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdpdGhEZXBzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGZpbGUuZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmlsZShmLCBza2lwVHlwZXMsIHdpdGhEZXBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZChkZXNjKSB7XG4gICAgICAgICAgICBpZiAoZGVzYy5raW5kID09IFwiZXh0ZW5zaW9uXCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgbnVtYmVyVG9FeHQgPSBleHRlbmRlZXMuZ2V0KGRlc2MuZXh0ZW5kZWUudHlwZU5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICghbnVtYmVyVG9FeHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWVzLnNldChkZXNjLmV4dGVuZGVlLnR5cGVOYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgICAgICAgICAgICAgIChudW1iZXJUb0V4dCA9IG5ldyBNYXAoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBudW1iZXJUb0V4dC5zZXQoZGVzYy5udW1iZXIsIGRlc2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZXMuc2V0KGRlc2MudHlwZU5hbWUsIGRlc2MpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQodHlwZU5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlcy5nZXQodHlwZU5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRGaWxlKGZpbGVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsZXMuZ2V0KGZpbGVOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TWVzc2FnZSh0eXBlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHR5cGVzLmdldCh0eXBlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gKHQgPT09IG51bGwgfHwgdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdC5raW5kKSA9PSBcIm1lc3NhZ2VcIiA/IHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEVudW0odHlwZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0eXBlcy5nZXQodHlwZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuICh0ID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHQua2luZCkgPT0gXCJlbnVtXCIgPyB0IDogdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRFeHRlbnNpb24odHlwZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0eXBlcy5nZXQodHlwZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuICh0ID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHQua2luZCkgPT0gXCJleHRlbnNpb25cIiA/IHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEV4dGVuc2lvbkZvcihleHRlbmRlZSwgbm8pIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSBleHRlbmRlZXMuZ2V0KGV4dGVuZGVlLnR5cGVOYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldChubyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNlcnZpY2UodHlwZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0eXBlcy5nZXQodHlwZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuICh0ID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHQua2luZCkgPT0gXCJzZXJ2aWNlXCIgPyB0IDogdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGluaXRCYXNlUmVnaXN0cnkoaW5wdXRzKSB7XG4gICAgY29uc3QgcmVnaXN0cnkgPSBjcmVhdGVCYXNlUmVnaXN0cnkoKTtcbiAgICBmb3IgKGNvbnN0IGlucHV0IG9mIGlucHV0cykge1xuICAgICAgICBzd2l0Y2ggKGlucHV0LmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJyZWdpc3RyeVwiOlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGQobik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGRGaWxlKGlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVnaXN0cnkuYWRkKGlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVnaXN0cnk7XG59XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uLkVESVRJT05fUFJPVE8yOiBjb25zdCAkbmFtZTogRWRpdGlvbi4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IEVESVRJT05fUFJPVE8yID0gOTk4O1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRWRpdGlvbi5FRElUSU9OX1BST1RPMzogY29uc3QgJG5hbWU6IEVkaXRpb24uJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBFRElUSU9OX1BST1RPMyA9IDk5OTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUuVFlQRV9TVFJJTkc6IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgVFlQRV9TVFJJTkcgPSA5O1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZS5UWVBFX0dST1VQOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IFRZUEVfR1JPVVAgPSAxMDtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUuVFlQRV9NRVNTQUdFOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IFRZUEVfTUVTU0FHRSA9IDExO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZS5UWVBFX0JZVEVTOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IFRZUEVfQllURVMgPSAxMjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUuVFlQRV9FTlVNOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IFRZUEVfRU5VTSA9IDE0O1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWwuTEFCRUxfUkVQRUFURUQ6IGNvbnN0ICRuYW1lOiBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbC4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IExBQkVMX1JFUEVBVEVEID0gMztcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsLkxBQkVMX1JFUVVJUkVEOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWwuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBMQUJFTF9SRVFVSVJFRCA9IDI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuSlNUeXBlLkpTX1NUUklORzogY29uc3QgJG5hbWU6IEZpZWxkT3B0aW9uc19KU1R5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBKU19TVFJJTkcgPSAxO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5JZGVtcG90ZW5jeUxldmVsLklERU1QT1RFTkNZX1VOS05PV046IGNvbnN0ICRuYW1lOiBNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWwuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBJREVNUE9URU5DWV9VTktOT1dOID0gMDtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5FWFBMSUNJVDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IEVYUExJQ0lUID0gMTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5JTVBMSUNJVDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IElNUExJQ0lUID0gMjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5MRUdBQ1lfUkVRVUlSRUQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBMRUdBQ1lfUkVRVUlSRUQgPSAzO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5SZXBlYXRlZEZpZWxkRW5jb2RpbmcuUEFDS0VEOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmcuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBQQUNLRUQgPSAxO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5NZXNzYWdlRW5jb2RpbmcuREVMSU1JVEVEOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmcuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBERUxJTUlURUQgPSAyO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbnVtVHlwZS5PUEVOOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9FbnVtVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IE9QRU4gPSAxO1xuLy8gYmlvbWUtaWdub3JlIGZvcm1hdDogd2FudCB0aGlzIHRvIHJlYWQgd2VsbFxuLy8gYm9vdHN0cmFwLWluamVjdCBkZWZhdWx0czogRURJVElPTl9QUk9UTzIgdG8gRURJVElPTl8yMDI0OiBleHBvcnQgY29uc3QgbWluaW11bUVkaXRpb246IFN1cHBvcnRlZEVkaXRpb24gPSAkbWluaW11bUVkaXRpb24sIG1heGltdW1FZGl0aW9uOiBTdXBwb3J0ZWRFZGl0aW9uID0gJG1heGltdW1FZGl0aW9uO1xuLy8gZ2VuZXJhdGVkIGZyb20gcHJvdG9jIHYzMi4wXG5leHBvcnQgY29uc3QgbWluaW11bUVkaXRpb24gPSA5OTgsIG1heGltdW1FZGl0aW9uID0gMTAwMTtcbmNvbnN0IGZlYXR1cmVEZWZhdWx0cyA9IHtcbiAgICAvLyBFRElUSU9OX1BST1RPMlxuICAgIDk5ODoge1xuICAgICAgICBmaWVsZFByZXNlbmNlOiAxLCAvLyBFWFBMSUNJVCxcbiAgICAgICAgZW51bVR5cGU6IDIsIC8vIENMT1NFRCxcbiAgICAgICAgcmVwZWF0ZWRGaWVsZEVuY29kaW5nOiAyLCAvLyBFWFBBTkRFRCxcbiAgICAgICAgdXRmOFZhbGlkYXRpb246IDMsIC8vIE5PTkUsXG4gICAgICAgIG1lc3NhZ2VFbmNvZGluZzogMSwgLy8gTEVOR1RIX1BSRUZJWEVELFxuICAgICAgICBqc29uRm9ybWF0OiAyLCAvLyBMRUdBQ1lfQkVTVF9FRkZPUlQsXG4gICAgICAgIGVuZm9yY2VOYW1pbmdTdHlsZTogMiwgLy8gU1RZTEVfTEVHQUNZLFxuICAgICAgICBkZWZhdWx0U3ltYm9sVmlzaWJpbGl0eTogMSwgLy8gRVhQT1JUX0FMTCxcbiAgICB9LFxuICAgIC8vIEVESVRJT05fUFJPVE8zXG4gICAgOTk5OiB7XG4gICAgICAgIGZpZWxkUHJlc2VuY2U6IDIsIC8vIElNUExJQ0lULFxuICAgICAgICBlbnVtVHlwZTogMSwgLy8gT1BFTixcbiAgICAgICAgcmVwZWF0ZWRGaWVsZEVuY29kaW5nOiAxLCAvLyBQQUNLRUQsXG4gICAgICAgIHV0ZjhWYWxpZGF0aW9uOiAyLCAvLyBWRVJJRlksXG4gICAgICAgIG1lc3NhZ2VFbmNvZGluZzogMSwgLy8gTEVOR1RIX1BSRUZJWEVELFxuICAgICAgICBqc29uRm9ybWF0OiAxLCAvLyBBTExPVyxcbiAgICAgICAgZW5mb3JjZU5hbWluZ1N0eWxlOiAyLCAvLyBTVFlMRV9MRUdBQ1ksXG4gICAgICAgIGRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5OiAxLCAvLyBFWFBPUlRfQUxMLFxuICAgIH0sXG4gICAgLy8gRURJVElPTl8yMDIzXG4gICAgMTAwMDoge1xuICAgICAgICBmaWVsZFByZXNlbmNlOiAxLCAvLyBFWFBMSUNJVCxcbiAgICAgICAgZW51bVR5cGU6IDEsIC8vIE9QRU4sXG4gICAgICAgIHJlcGVhdGVkRmllbGRFbmNvZGluZzogMSwgLy8gUEFDS0VELFxuICAgICAgICB1dGY4VmFsaWRhdGlvbjogMiwgLy8gVkVSSUZZLFxuICAgICAgICBtZXNzYWdlRW5jb2Rpbmc6IDEsIC8vIExFTkdUSF9QUkVGSVhFRCxcbiAgICAgICAganNvbkZvcm1hdDogMSwgLy8gQUxMT1csXG4gICAgICAgIGVuZm9yY2VOYW1pbmdTdHlsZTogMiwgLy8gU1RZTEVfTEVHQUNZLFxuICAgICAgICBkZWZhdWx0U3ltYm9sVmlzaWJpbGl0eTogMSwgLy8gRVhQT1JUX0FMTCxcbiAgICB9LFxuICAgIC8vIEVESVRJT05fMjAyNFxuICAgIDEwMDE6IHtcbiAgICAgICAgZmllbGRQcmVzZW5jZTogMSwgLy8gRVhQTElDSVQsXG4gICAgICAgIGVudW1UeXBlOiAxLCAvLyBPUEVOLFxuICAgICAgICByZXBlYXRlZEZpZWxkRW5jb2Rpbmc6IDEsIC8vIFBBQ0tFRCxcbiAgICAgICAgdXRmOFZhbGlkYXRpb246IDIsIC8vIFZFUklGWSxcbiAgICAgICAgbWVzc2FnZUVuY29kaW5nOiAxLCAvLyBMRU5HVEhfUFJFRklYRUQsXG4gICAgICAgIGpzb25Gb3JtYXQ6IDEsIC8vIEFMTE9XLFxuICAgICAgICBlbmZvcmNlTmFtaW5nU3R5bGU6IDEsIC8vIFNUWUxFMjAyNCxcbiAgICAgICAgZGVmYXVsdFN5bWJvbFZpc2liaWxpdHk6IDIsIC8vIEVYUE9SVF9UT1BfTEVWRUwsXG4gICAgfSxcbn07XG4vKipcbiAqIENyZWF0ZSBhIGRlc2NyaXB0b3IgZm9yIGEgZmlsZSwgYWRkIGl0IHRvIHRoZSByZWdpc3RyeS5cbiAqL1xuZnVuY3Rpb24gYWRkRmlsZShwcm90bywgcmVnKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBmaWxlID0ge1xuICAgICAgICBraW5kOiBcImZpbGVcIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IChfYiA9IChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgZWRpdGlvbjogZ2V0RmlsZUVkaXRpb24ocHJvdG8pLFxuICAgICAgICBuYW1lOiBwcm90by5uYW1lLnJlcGxhY2UoL1xcLnByb3RvJC8sIFwiXCIpLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IGZpbmRGaWxlRGVwZW5kZW5jaWVzKHByb3RvLCByZWcpLFxuICAgICAgICBlbnVtczogW10sXG4gICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgZXh0ZW5zaW9uczogW10sXG4gICAgICAgIHNlcnZpY2VzOiBbXSxcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXRlbXBsYXRlLWV4cHJlc3Npb25zIC0tIHdlIGFzc2VydGVkIGFib3ZlXG4gICAgICAgICAgICByZXR1cm4gYGZpbGUgJHtwcm90by5uYW1lfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBtYXBFbnRyaWVzU3RvcmUgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgbWFwRW50cmllcyA9IHtcbiAgICAgICAgZ2V0KHR5cGVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwRW50cmllc1N0b3JlLmdldCh0eXBlTmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZChkZXNjKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBhc3NlcnQoKChfYSA9IGRlc2MucHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcEVudHJ5KSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICBtYXBFbnRyaWVzU3RvcmUuc2V0KGRlc2MudHlwZU5hbWUsIGRlc2MpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZm9yIChjb25zdCBlbnVtUHJvdG8gb2YgcHJvdG8uZW51bVR5cGUpIHtcbiAgICAgICAgYWRkRW51bShlbnVtUHJvdG8sIGZpbGUsIHVuZGVmaW5lZCwgcmVnKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtZXNzYWdlUHJvdG8gb2YgcHJvdG8ubWVzc2FnZVR5cGUpIHtcbiAgICAgICAgYWRkTWVzc2FnZShtZXNzYWdlUHJvdG8sIGZpbGUsIHVuZGVmaW5lZCwgcmVnLCBtYXBFbnRyaWVzKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzZXJ2aWNlUHJvdG8gb2YgcHJvdG8uc2VydmljZSkge1xuICAgICAgICBhZGRTZXJ2aWNlKHNlcnZpY2VQcm90bywgZmlsZSwgcmVnKTtcbiAgICB9XG4gICAgYWRkRXh0ZW5zaW9ucyhmaWxlLCByZWcpO1xuICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgbWFwRW50cmllc1N0b3JlLnZhbHVlcygpKSB7XG4gICAgICAgIC8vIHRvIGNyZWF0ZSBhIG1hcCBmaWVsZCwgd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIG1hcCBlbnRyeSdzIGZpZWxkc1xuICAgICAgICBhZGRGaWVsZHMobWFwRW50cnksIHJlZywgbWFwRW50cmllcyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBmaWxlLm1lc3NhZ2VzKSB7XG4gICAgICAgIGFkZEZpZWxkcyhtZXNzYWdlLCByZWcsIG1hcEVudHJpZXMpO1xuICAgICAgICBhZGRFeHRlbnNpb25zKG1lc3NhZ2UsIHJlZyk7XG4gICAgfVxuICAgIHJlZy5hZGRGaWxlKGZpbGUsIHRydWUpO1xufVxuLyoqXG4gKiBDcmVhdGUgZGVzY3JpcHRvcnMgZm9yIGV4dGVuc2lvbnMsIGFuZCBhZGQgdGhlbSB0byB0aGUgbWVzc2FnZSAvIGZpbGUsXG4gKiBhbmQgdG8gb3VyIGNhcnQuXG4gKiBSZWN1cnNlcyBpbnRvIG5lc3RlZCB0eXBlcy5cbiAqL1xuZnVuY3Rpb24gYWRkRXh0ZW5zaW9ucyhkZXNjLCByZWcpIHtcbiAgICBzd2l0Y2ggKGRlc2Mua2luZCkge1xuICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm90byBvZiBkZXNjLnByb3RvLmV4dGVuc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IG5ld0ZpZWxkKHByb3RvLCBkZXNjLCByZWcpO1xuICAgICAgICAgICAgICAgIGRlc2MuZXh0ZW5zaW9ucy5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgcmVnLmFkZChleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3RvIG9mIGRlc2MucHJvdG8uZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3RmllbGQocHJvdG8sIGRlc2MsIHJlZyk7XG4gICAgICAgICAgICAgICAgZGVzYy5uZXN0ZWRFeHRlbnNpb25zLnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICByZWcuYWRkKGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgZGVzYy5uZXN0ZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIGFkZEV4dGVuc2lvbnMobWVzc2FnZSwgcmVnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGRlc2NyaXB0b3JzIGZvciBmaWVsZHMgYW5kIG9uZW9mIGdyb3VwcywgYW5kIGFkZCB0aGVtIHRvIHRoZSBtZXNzYWdlLlxuICogUmVjdXJzZXMgaW50byBuZXN0ZWQgdHlwZXMuXG4gKi9cbmZ1bmN0aW9uIGFkZEZpZWxkcyhtZXNzYWdlLCByZWcsIG1hcEVudHJpZXMpIHtcbiAgICBjb25zdCBhbGxPbmVvZnMgPSBtZXNzYWdlLnByb3RvLm9uZW9mRGVjbC5tYXAoKHByb3RvKSA9PiBuZXdPbmVvZihwcm90bywgbWVzc2FnZSkpO1xuICAgIGNvbnN0IG9uZW9mc1NlZW4gPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBwcm90byBvZiBtZXNzYWdlLnByb3RvLmZpZWxkKSB7XG4gICAgICAgIGNvbnN0IG9uZW9mID0gZmluZE9uZW9mKHByb3RvLCBhbGxPbmVvZnMpO1xuICAgICAgICBjb25zdCBmaWVsZCA9IG5ld0ZpZWxkKHByb3RvLCBtZXNzYWdlLCByZWcsIG9uZW9mLCBtYXBFbnRyaWVzKTtcbiAgICAgICAgbWVzc2FnZS5maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgIG1lc3NhZ2UuZmllbGRbZmllbGQubG9jYWxOYW1lXSA9IGZpZWxkO1xuICAgICAgICBpZiAob25lb2YgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVzc2FnZS5tZW1iZXJzLnB1c2goZmllbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb25lb2YuZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgaWYgKCFvbmVvZnNTZWVuLmhhcyhvbmVvZikpIHtcbiAgICAgICAgICAgICAgICBvbmVvZnNTZWVuLmFkZChvbmVvZik7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5tZW1iZXJzLnB1c2gob25lb2YpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgb25lb2Ygb2YgYWxsT25lb2ZzLmZpbHRlcigobykgPT4gb25lb2ZzU2Vlbi5oYXMobykpKSB7XG4gICAgICAgIG1lc3NhZ2Uub25lb2ZzLnB1c2gob25lb2YpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG1lc3NhZ2UubmVzdGVkTWVzc2FnZXMpIHtcbiAgICAgICAgYWRkRmllbGRzKGNoaWxkLCByZWcsIG1hcEVudHJpZXMpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgZGVzY3JpcHRvciBmb3IgYW4gZW51bWVyYXRpb24sIGFuZCBhZGQgaXQgb3VyIGNhcnQgYW5kIHRvIHRoZVxuICogcGFyZW50IHR5cGUsIGlmIGFueS5cbiAqL1xuZnVuY3Rpb24gYWRkRW51bShwcm90bywgZmlsZSwgcGFyZW50LCByZWcpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGNvbnN0IHNoYXJlZFByZWZpeCA9IGZpbmRFbnVtU2hhcmVkUHJlZml4KHByb3RvLm5hbWUsIHByb3RvLnZhbHVlKTtcbiAgICBjb25zdCBkZXNjID0ge1xuICAgICAgICBraW5kOiBcImVudW1cIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IChfYiA9IChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgZmlsZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICB0eXBlTmFtZTogbWFrZVR5cGVOYW1lKHByb3RvLCBwYXJlbnQsIGZpbGUpLFxuICAgICAgICB2YWx1ZToge30sXG4gICAgICAgIHZhbHVlczogW10sXG4gICAgICAgIHNoYXJlZFByZWZpeCxcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYGVudW0gJHt0aGlzLnR5cGVOYW1lfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBkZXNjLm9wZW4gPSBpc0VudW1PcGVuKGRlc2MpO1xuICAgIHJlZy5hZGQoZGVzYyk7XG4gICAgZm9yIChjb25zdCBwIG9mIHByb3RvLnZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBwLm5hbWU7XG4gICAgICAgIGRlc2MudmFsdWVzLnB1c2goXG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICAoZGVzYy52YWx1ZVtwLm51bWJlcl0gPSB7XG4gICAgICAgICAgICBraW5kOiBcImVudW1fdmFsdWVcIixcbiAgICAgICAgICAgIHByb3RvOiBwLFxuICAgICAgICAgICAgZGVwcmVjYXRlZDogKF9kID0gKF9jID0gcC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZmFsc2UsXG4gICAgICAgICAgICBwYXJlbnQ6IGRlc2MsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbG9jYWxOYW1lOiBzYWZlT2JqZWN0UHJvcGVydHkoc2hhcmVkUHJlZml4ID09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbmFtZVxuICAgICAgICAgICAgICAgIDogbmFtZS5zdWJzdHJpbmcoc2hhcmVkUHJlZml4Lmxlbmd0aCkpLFxuICAgICAgICAgICAgbnVtYmVyOiBwLm51bWJlcixcbiAgICAgICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgZW51bSB2YWx1ZSAke2Rlc2MudHlwZU5hbWV9LiR7bmFtZX1gO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAoKF9lID0gcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50Lm5lc3RlZEVudW1zKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBmaWxlLmVudW1zKS5wdXNoKGRlc2MpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBkZXNjcmlwdG9yIGZvciBhIG1lc3NhZ2UsIGluY2x1ZGluZyBuZXN0ZWQgdHlwZXMsIGFuZCBhZGQgaXQgdG8gb3VyXG4gKiBjYXJ0LiBOb3RlIHRoYXQgdGhpcyBkb2VzIG5vdCBjcmVhdGUgZGVzY3JpcHRvcnMgZmllbGRzLlxuICovXG5mdW5jdGlvbiBhZGRNZXNzYWdlKHByb3RvLCBmaWxlLCBwYXJlbnQsIHJlZywgbWFwRW50cmllcykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBkZXNjID0ge1xuICAgICAgICBraW5kOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IChfYiA9IChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgZmlsZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICB0eXBlTmFtZTogbWFrZVR5cGVOYW1lKHByb3RvLCBwYXJlbnQsIGZpbGUpLFxuICAgICAgICBmaWVsZHM6IFtdLFxuICAgICAgICBmaWVsZDoge30sXG4gICAgICAgIG9uZW9mczogW10sXG4gICAgICAgIG1lbWJlcnM6IFtdLFxuICAgICAgICBuZXN0ZWRFbnVtczogW10sXG4gICAgICAgIG5lc3RlZE1lc3NhZ2VzOiBbXSxcbiAgICAgICAgbmVzdGVkRXh0ZW5zaW9uczogW10sXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGBtZXNzYWdlICR7dGhpcy50eXBlTmFtZX1gO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgaWYgKCgoX2MgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubWFwRW50cnkpID09PSB0cnVlKSB7XG4gICAgICAgIG1hcEVudHJpZXMuYWRkKGRlc2MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgKChfZCA9IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5uZXN0ZWRNZXNzYWdlcykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZmlsZS5tZXNzYWdlcykucHVzaChkZXNjKTtcbiAgICAgICAgcmVnLmFkZChkZXNjKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBlbnVtUHJvdG8gb2YgcHJvdG8uZW51bVR5cGUpIHtcbiAgICAgICAgYWRkRW51bShlbnVtUHJvdG8sIGZpbGUsIGRlc2MsIHJlZyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbWVzc2FnZVByb3RvIG9mIHByb3RvLm5lc3RlZFR5cGUpIHtcbiAgICAgICAgYWRkTWVzc2FnZShtZXNzYWdlUHJvdG8sIGZpbGUsIGRlc2MsIHJlZywgbWFwRW50cmllcyk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBkZXNjcmlwdG9yIGZvciBhIHNlcnZpY2UsIGluY2x1ZGluZyBtZXRob2RzLCBhbmQgYWRkIGl0IHRvIG91clxuICogY2FydC5cbiAqL1xuZnVuY3Rpb24gYWRkU2VydmljZShwcm90bywgZmlsZSwgcmVnKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBkZXNjID0ge1xuICAgICAgICBraW5kOiBcInNlcnZpY2VcIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IChfYiA9IChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgZmlsZSxcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgdHlwZU5hbWU6IG1ha2VUeXBlTmFtZShwcm90bywgdW5kZWZpbmVkLCBmaWxlKSxcbiAgICAgICAgbWV0aG9kczogW10sXG4gICAgICAgIG1ldGhvZDoge30sXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGBzZXJ2aWNlICR7dGhpcy50eXBlTmFtZX1gO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZmlsZS5zZXJ2aWNlcy5wdXNoKGRlc2MpO1xuICAgIHJlZy5hZGQoZGVzYyk7XG4gICAgZm9yIChjb25zdCBtZXRob2RQcm90byBvZiBwcm90by5tZXRob2QpIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbmV3TWV0aG9kKG1ldGhvZFByb3RvLCBkZXNjLCByZWcpO1xuICAgICAgICBkZXNjLm1ldGhvZHMucHVzaChtZXRob2QpO1xuICAgICAgICBkZXNjLm1ldGhvZFttZXRob2QubG9jYWxOYW1lXSA9IG1ldGhvZDtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIGRlc2NyaXB0b3IgZm9yIGEgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBuZXdNZXRob2QocHJvdG8sIHBhcmVudCwgcmVnKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGxldCBtZXRob2RLaW5kO1xuICAgIGlmIChwcm90by5jbGllbnRTdHJlYW1pbmcgJiYgcHJvdG8uc2VydmVyU3RyZWFtaW5nKSB7XG4gICAgICAgIG1ldGhvZEtpbmQgPSBcImJpZGlfc3RyZWFtaW5nXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3RvLmNsaWVudFN0cmVhbWluZykge1xuICAgICAgICBtZXRob2RLaW5kID0gXCJjbGllbnRfc3RyZWFtaW5nXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3RvLnNlcnZlclN0cmVhbWluZykge1xuICAgICAgICBtZXRob2RLaW5kID0gXCJzZXJ2ZXJfc3RyZWFtaW5nXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXRob2RLaW5kID0gXCJ1bmFyeVwiO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IHJlZy5nZXRNZXNzYWdlKHRyaW1MZWFkaW5nRG90KHByb3RvLmlucHV0VHlwZSkpO1xuICAgIGNvbnN0IG91dHB1dCA9IHJlZy5nZXRNZXNzYWdlKHRyaW1MZWFkaW5nRG90KHByb3RvLm91dHB1dFR5cGUpKTtcbiAgICBhc3NlcnQoaW5wdXQsIGBpbnZhbGlkIE1ldGhvZERlc2NyaXB0b3JQcm90bzogaW5wdXRfdHlwZSAke3Byb3RvLmlucHV0VHlwZX0gbm90IGZvdW5kYCk7XG4gICAgYXNzZXJ0KG91dHB1dCwgYGludmFsaWQgTWV0aG9kRGVzY3JpcHRvclByb3RvOiBvdXRwdXRfdHlwZSAke3Byb3RvLmlucHV0VHlwZX0gbm90IGZvdW5kYCk7XG4gICAgY29uc3QgbmFtZSA9IHByb3RvLm5hbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJycGNcIixcbiAgICAgICAgcHJvdG8sXG4gICAgICAgIGRlcHJlY2F0ZWQ6IChfYiA9IChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXByZWNhdGVkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBuYW1lLFxuICAgICAgICBsb2NhbE5hbWU6IHNhZmVPYmplY3RQcm9wZXJ0eShuYW1lLmxlbmd0aFxuICAgICAgICAgICAgPyBzYWZlT2JqZWN0UHJvcGVydHkobmFtZVswXS50b0xvd2VyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSkpXG4gICAgICAgICAgICA6IG5hbWUpLFxuICAgICAgICBtZXRob2RLaW5kLFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBpZGVtcG90ZW5jeTogKF9kID0gKF9jID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmlkZW1wb3RlbmN5TGV2ZWwpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IElERU1QT1RFTkNZX1VOS05PV04sXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGBycGMgJHtwYXJlbnQudHlwZU5hbWV9LiR7bmFtZX1gO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIGRlc2NyaXB0b3IgZm9yIGEgb25lb2YgZ3JvdXAuXG4gKi9cbmZ1bmN0aW9uIG5ld09uZW9mKHByb3RvLCBwYXJlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIm9uZW9mXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiBmYWxzZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBmaWVsZHM6IFtdLFxuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICBsb2NhbE5hbWU6IHNhZmVPYmplY3RQcm9wZXJ0eShwcm90b0NhbWVsQ2FzZShwcm90by5uYW1lKSksXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGBvbmVvZiAke3BhcmVudC50eXBlTmFtZX0uJHt0aGlzLm5hbWV9YDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gbmV3RmllbGQocHJvdG8sIHBhcmVudE9yRmlsZSwgcmVnLCBvbmVvZiwgbWFwRW50cmllcykge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGlzRXh0ZW5zaW9uID0gbWFwRW50cmllcyA9PT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGZpZWxkID0ge1xuICAgICAgICBraW5kOiBcImZpZWxkXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiAoX2IgPSAoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIG51bWJlcjogcHJvdG8ubnVtYmVyLFxuICAgICAgICBzY2FsYXI6IHVuZGVmaW5lZCxcbiAgICAgICAgbWVzc2FnZTogdW5kZWZpbmVkLFxuICAgICAgICBlbnVtOiB1bmRlZmluZWQsXG4gICAgICAgIHByZXNlbmNlOiBnZXRGaWVsZFByZXNlbmNlKHByb3RvLCBvbmVvZiwgaXNFeHRlbnNpb24sIHBhcmVudE9yRmlsZSksXG4gICAgICAgIGxpc3RLaW5kOiB1bmRlZmluZWQsXG4gICAgICAgIG1hcEtpbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbWFwS2V5OiB1bmRlZmluZWQsXG4gICAgICAgIGRlbGltaXRlZEVuY29kaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIHBhY2tlZDogdW5kZWZpbmVkLFxuICAgICAgICBsb25nQXNTdHJpbmc6IGZhbHNlLFxuICAgICAgICBnZXREZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIGlmIChpc0V4dGVuc2lvbikge1xuICAgICAgICAvLyBleHRlbnNpb24gZmllbGRcbiAgICAgICAgY29uc3QgZmlsZSA9IHBhcmVudE9yRmlsZS5raW5kID09IFwiZmlsZVwiID8gcGFyZW50T3JGaWxlIDogcGFyZW50T3JGaWxlLmZpbGU7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHBhcmVudE9yRmlsZS5raW5kID09IFwiZmlsZVwiID8gdW5kZWZpbmVkIDogcGFyZW50T3JGaWxlO1xuICAgICAgICBjb25zdCB0eXBlTmFtZSA9IG1ha2VUeXBlTmFtZShwcm90bywgcGFyZW50LCBmaWxlKTtcbiAgICAgICAgZmllbGQua2luZCA9IFwiZXh0ZW5zaW9uXCI7XG4gICAgICAgIGZpZWxkLmZpbGUgPSBmaWxlO1xuICAgICAgICBmaWVsZC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGZpZWxkLm9uZW9mID0gdW5kZWZpbmVkO1xuICAgICAgICBmaWVsZC50eXBlTmFtZSA9IHR5cGVOYW1lO1xuICAgICAgICBmaWVsZC5qc29uTmFtZSA9IGBbJHt0eXBlTmFtZX1dYDsgLy8gb3B0aW9uIGpzb25fbmFtZSBpcyBub3QgYWxsb3dlZCBvbiBleHRlbnNpb24gZmllbGRzXG4gICAgICAgIGZpZWxkLnRvU3RyaW5nID0gKCkgPT4gYGV4dGVuc2lvbiAke3R5cGVOYW1lfWA7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVlID0gcmVnLmdldE1lc3NhZ2UodHJpbUxlYWRpbmdEb3QocHJvdG8uZXh0ZW5kZWUpKTtcbiAgICAgICAgYXNzZXJ0KGV4dGVuZGVlLCBgaW52YWxpZCBGaWVsZERlc2NyaXB0b3JQcm90bzogZXh0ZW5kZWUgJHtwcm90by5leHRlbmRlZX0gbm90IGZvdW5kYCk7XG4gICAgICAgIGZpZWxkLmV4dGVuZGVlID0gZXh0ZW5kZWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyByZWd1bGFyIGZpZWxkXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHBhcmVudE9yRmlsZTtcbiAgICAgICAgYXNzZXJ0KHBhcmVudC5raW5kID09IFwibWVzc2FnZVwiKTtcbiAgICAgICAgZmllbGQucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBmaWVsZC5vbmVvZiA9IG9uZW9mO1xuICAgICAgICBmaWVsZC5sb2NhbE5hbWUgPSBvbmVvZlxuICAgICAgICAgICAgPyBwcm90b0NhbWVsQ2FzZShwcm90by5uYW1lKVxuICAgICAgICAgICAgOiBzYWZlT2JqZWN0UHJvcGVydHkocHJvdG9DYW1lbENhc2UocHJvdG8ubmFtZSkpO1xuICAgICAgICBmaWVsZC5qc29uTmFtZSA9IHByb3RvLmpzb25OYW1lO1xuICAgICAgICBmaWVsZC50b1N0cmluZyA9ICgpID0+IGBmaWVsZCAke3BhcmVudC50eXBlTmFtZX0uJHtwcm90by5uYW1lfWA7XG4gICAgfVxuICAgIGNvbnN0IGxhYmVsID0gcHJvdG8ubGFiZWw7XG4gICAgY29uc3QgdHlwZSA9IHByb3RvLnR5cGU7XG4gICAgY29uc3QganN0eXBlID0gKF9jID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmpzdHlwZTtcbiAgICBpZiAobGFiZWwgPT09IExBQkVMX1JFUEVBVEVEKSB7XG4gICAgICAgIC8vIGxpc3Qgb3IgbWFwIGZpZWxkXG4gICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gdHlwZSA9PSBUWVBFX01FU1NBR0VcbiAgICAgICAgICAgID8gbWFwRW50cmllcyA9PT0gbnVsbCB8fCBtYXBFbnRyaWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXBFbnRyaWVzLmdldCh0cmltTGVhZGluZ0RvdChwcm90by50eXBlTmFtZSkpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG1hcEVudHJ5KSB7XG4gICAgICAgICAgICAvLyBtYXAgZmllbGRcbiAgICAgICAgICAgIGZpZWxkLmZpZWxkS2luZCA9IFwibWFwXCI7XG4gICAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IGZpbmRNYXBFbnRyeUZpZWxkcyhtYXBFbnRyeSk7XG4gICAgICAgICAgICBmaWVsZC5tYXBLZXkgPSBrZXkuc2NhbGFyO1xuICAgICAgICAgICAgZmllbGQubWFwS2luZCA9IHZhbHVlLmZpZWxkS2luZDtcbiAgICAgICAgICAgIGZpZWxkLm1lc3NhZ2UgPSB2YWx1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgZmllbGQuZGVsaW1pdGVkRW5jb2RpbmcgPSBmYWxzZTsgLy8gbWFwIGZpZWxkcyBhcmUgYWx3YXlzIExFTkdUSF9QUkVGSVhFRFxuICAgICAgICAgICAgZmllbGQuZW51bSA9IHZhbHVlLmVudW07XG4gICAgICAgICAgICBmaWVsZC5zY2FsYXIgPSB2YWx1ZS5zY2FsYXI7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGlzdCBmaWVsZFxuICAgICAgICBmaWVsZC5maWVsZEtpbmQgPSBcImxpc3RcIjtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRZUEVfTUVTU0FHRTpcbiAgICAgICAgICAgIGNhc2UgVFlQRV9HUk9VUDpcbiAgICAgICAgICAgICAgICBmaWVsZC5saXN0S2luZCA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgICAgICAgIGZpZWxkLm1lc3NhZ2UgPSByZWcuZ2V0TWVzc2FnZSh0cmltTGVhZGluZ0RvdChwcm90by50eXBlTmFtZSkpO1xuICAgICAgICAgICAgICAgIGFzc2VydChmaWVsZC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBmaWVsZC5kZWxpbWl0ZWRFbmNvZGluZyA9IGlzRGVsaW1pdGVkRW5jb2RpbmcocHJvdG8sIHBhcmVudE9yRmlsZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRZUEVfRU5VTTpcbiAgICAgICAgICAgICAgICBmaWVsZC5saXN0S2luZCA9IFwiZW51bVwiO1xuICAgICAgICAgICAgICAgIGZpZWxkLmVudW0gPSByZWcuZ2V0RW51bSh0cmltTGVhZGluZ0RvdChwcm90by50eXBlTmFtZSkpO1xuICAgICAgICAgICAgICAgIGFzc2VydChmaWVsZC5lbnVtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZmllbGQubGlzdEtpbmQgPSBcInNjYWxhclwiO1xuICAgICAgICAgICAgICAgIGZpZWxkLnNjYWxhciA9IHR5cGU7XG4gICAgICAgICAgICAgICAgZmllbGQubG9uZ0FzU3RyaW5nID0ganN0eXBlID09IEpTX1NUUklORztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmaWVsZC5wYWNrZWQgPSBpc1BhY2tlZEZpZWxkKHByb3RvLCBwYXJlbnRPckZpbGUpO1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfVxuICAgIC8vIHNpbmd1bGFyXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgVFlQRV9NRVNTQUdFOlxuICAgICAgICBjYXNlIFRZUEVfR1JPVVA6XG4gICAgICAgICAgICBmaWVsZC5maWVsZEtpbmQgPSBcIm1lc3NhZ2VcIjtcbiAgICAgICAgICAgIGZpZWxkLm1lc3NhZ2UgPSByZWcuZ2V0TWVzc2FnZSh0cmltTGVhZGluZ0RvdChwcm90by50eXBlTmFtZSkpO1xuICAgICAgICAgICAgYXNzZXJ0KGZpZWxkLm1lc3NhZ2UsIGBpbnZhbGlkIEZpZWxkRGVzY3JpcHRvclByb3RvOiB0eXBlX25hbWUgJHtwcm90by50eXBlTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICBmaWVsZC5kZWxpbWl0ZWRFbmNvZGluZyA9IGlzRGVsaW1pdGVkRW5jb2RpbmcocHJvdG8sIHBhcmVudE9yRmlsZSk7XG4gICAgICAgICAgICBmaWVsZC5nZXREZWZhdWx0VmFsdWUgPSAoKSA9PiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUWVBFX0VOVU06IHtcbiAgICAgICAgICAgIGNvbnN0IGVudW1lcmF0aW9uID0gcmVnLmdldEVudW0odHJpbUxlYWRpbmdEb3QocHJvdG8udHlwZU5hbWUpKTtcbiAgICAgICAgICAgIGFzc2VydChlbnVtZXJhdGlvbiAhPT0gdW5kZWZpbmVkLCBgaW52YWxpZCBGaWVsZERlc2NyaXB0b3JQcm90bzogdHlwZV9uYW1lICR7cHJvdG8udHlwZU5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgZmllbGQuZmllbGRLaW5kID0gXCJlbnVtXCI7XG4gICAgICAgICAgICBmaWVsZC5lbnVtID0gcmVnLmdldEVudW0odHJpbUxlYWRpbmdEb3QocHJvdG8udHlwZU5hbWUpKTtcbiAgICAgICAgICAgIGZpZWxkLmdldERlZmF1bHRWYWx1ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5zYWZlSXNTZXRFeHBsaWNpdChwcm90bywgXCJkZWZhdWx0VmFsdWVcIilcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJzZVRleHRGb3JtYXRFbnVtVmFsdWUoZW51bWVyYXRpb24sIHByb3RvLmRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgZmllbGQuZmllbGRLaW5kID0gXCJzY2FsYXJcIjtcbiAgICAgICAgICAgIGZpZWxkLnNjYWxhciA9IHR5cGU7XG4gICAgICAgICAgICBmaWVsZC5sb25nQXNTdHJpbmcgPSBqc3R5cGUgPT0gSlNfU1RSSU5HO1xuICAgICAgICAgICAgZmllbGQuZ2V0RGVmYXVsdFZhbHVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bnNhZmVJc1NldEV4cGxpY2l0KHByb3RvLCBcImRlZmF1bHRWYWx1ZVwiKVxuICAgICAgICAgICAgICAgICAgICA/IHBhcnNlVGV4dEZvcm1hdFNjYWxhclZhbHVlKHR5cGUsIHByb3RvLmRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkO1xufVxuLyoqXG4gKiBQYXJzZSB0aGUgXCJzeW50YXhcIiBhbmQgXCJlZGl0aW9uXCIgZmllbGRzLCByZXR1cm5pbmcgb25lIG9mIHRoZSBzdXBwb3J0ZWRcbiAqIGVkaXRpb25zLlxuICovXG5mdW5jdGlvbiBnZXRGaWxlRWRpdGlvbihwcm90bykge1xuICAgIHN3aXRjaCAocHJvdG8uc3ludGF4KSB7XG4gICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgY2FzZSBcInByb3RvMlwiOlxuICAgICAgICAgICAgcmV0dXJuIEVESVRJT05fUFJPVE8yO1xuICAgICAgICBjYXNlIFwicHJvdG8zXCI6XG4gICAgICAgICAgICByZXR1cm4gRURJVElPTl9QUk9UTzM7XG4gICAgICAgIGNhc2UgXCJlZGl0aW9uc1wiOlxuICAgICAgICAgICAgaWYgKHByb3RvLmVkaXRpb24gaW4gZmVhdHVyZURlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvLmVkaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cHJvdG8ubmFtZX06IHVuc3VwcG9ydGVkIGVkaXRpb25gKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtwcm90by5uYW1lfTogdW5zdXBwb3J0ZWQgc3ludGF4IFwiJHtwcm90by5zeW50YXh9XCJgKTtcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmUgZGVwZW5kZW5jaWVzIG9mIEZpbGVEZXNjcmlwdG9yUHJvdG8gdG8gRGVzY0ZpbGUuXG4gKi9cbmZ1bmN0aW9uIGZpbmRGaWxlRGVwZW5kZW5jaWVzKHByb3RvLCByZWcpIHtcbiAgICByZXR1cm4gcHJvdG8uZGVwZW5kZW5jeS5tYXAoKHdhbnROYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlcCA9IHJlZy5nZXRGaWxlKHdhbnROYW1lKTtcbiAgICAgICAgaWYgKCFkZXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgJHt3YW50TmFtZX0sIGltcG9ydGVkIGJ5ICR7cHJvdG8ubmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVwO1xuICAgIH0pO1xufVxuLyoqXG4gKiBGaW5kcyBhIHByZWZpeCBzaGFyZWQgYnkgZW51bSB2YWx1ZXMsIGZvciBleGFtcGxlIGBteV9lbnVtX2AgZm9yXG4gKiBgZW51bSBNeUVudW0ge01ZX0VOVU1fQT0wOyBNWV9FTlVNX0I9MTt9YC5cbiAqL1xuZnVuY3Rpb24gZmluZEVudW1TaGFyZWRQcmVmaXgoZW51bU5hbWUsIHZhbHVlcykge1xuICAgIGNvbnN0IHByZWZpeCA9IGNhbWVsVG9TbmFrZUNhc2UoZW51bU5hbWUpICsgXCJfXCI7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKCF2YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNob3J0TmFtZSA9IHZhbHVlLm5hbWUuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpO1xuICAgICAgICBpZiAoc2hvcnROYW1lLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvXlxcZC8udGVzdChzaG9ydE5hbWUpKSB7XG4gICAgICAgICAgICAvLyBpZGVudGlmaWVycyBtdXN0IG5vdCBzdGFydCB3aXRoIG51bWJlcnNcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByZWZpeDtcbn1cbi8qKlxuICogQ29udmVydHMgbG93ZXJDYW1lbENhc2Ugb3IgVXBwZXJDYW1lbENhc2UgaW50byBsb3dlcl9zbmFrZV9jYXNlLlxuICogVGhpcyBpcyB1c2VkIHRvIGZpbmQgc2hhcmVkIHByZWZpeGVzIGluIGFuIGVudW0uXG4gKi9cbmZ1bmN0aW9uIGNhbWVsVG9TbmFrZUNhc2UoY2FtZWwpIHtcbiAgICByZXR1cm4gKGNhbWVsLnN1YnN0cmluZygwLCAxKSArIGNhbWVsLnN1YnN0cmluZygxKS5yZXBsYWNlKC9bQS1aXS9nLCAoYykgPT4gXCJfXCIgKyBjKSkudG9Mb3dlckNhc2UoKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgZnVsbHkgcXVhbGlmaWVkIG5hbWUgZm9yIGEgcHJvdG9idWYgdHlwZSBvciBleHRlbnNpb24gZmllbGQuXG4gKlxuICogVGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lIGZvciBtZXNzYWdlcywgZW51bWVyYXRpb25zLCBhbmQgc2VydmljZXMgaXNcbiAqIGNvbnN0cnVjdGVkIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIHBhY2thZ2UgbmFtZSAoaWYgcHJlc2VudCksIHBhcmVudFxuICogbWVzc2FnZSBuYW1lcyAoZm9yIG5lc3RlZCB0eXBlcyksIGFuZCB0aGUgdHlwZSBuYW1lLiBXZSBvbWl0IHRoZSBsZWFkaW5nXG4gKiBkb3QgYWRkZWQgYnkgcHJvdG9idWYgY29tcGlsZXJzLiBFeGFtcGxlczpcbiAqIC0gbXlwYWNrYWdlLk15TWVzc2FnZVxuICogLSBteXBhY2thZ2UuTXlNZXNzYWdlLk5lc3RlZE1lc3NhZ2VcbiAqXG4gKiBUaGUgZnVsbHkgcXVhbGlmaWVkIG5hbWUgZm9yIGV4dGVuc2lvbiBmaWVsZHMgaXMgY29uc3RydWN0ZWQgYnlcbiAqIGNvbmNhdGVuYXRpbmcgdGhlIHBhY2thZ2UgbmFtZSAoaWYgcHJlc2VudCksIHBhcmVudCBtZXNzYWdlIG5hbWVzIChmb3JcbiAqIGV4dGVuc2lvbnMgZGVjbGFyZWQgd2l0aGluIGEgbWVzc2FnZSksIGFuZCB0aGUgZmllbGQgbmFtZS4gRXhhbXBsZXM6XG4gKiAtIG15cGFja2FnZS5leHRmaWVsZFxuICogLSBteXBhY2thZ2UuTXlNZXNzYWdlLmV4dGZpZWxkXG4gKi9cbmZ1bmN0aW9uIG1ha2VUeXBlTmFtZShwcm90bywgcGFyZW50LCBmaWxlKSB7XG4gICAgbGV0IHR5cGVOYW1lO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgdHlwZU5hbWUgPSBgJHtwYXJlbnQudHlwZU5hbWV9LiR7cHJvdG8ubmFtZX1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWxlLnByb3RvLnBhY2thZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICB0eXBlTmFtZSA9IGAke2ZpbGUucHJvdG8ucGFja2FnZX0uJHtwcm90by5uYW1lfWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0eXBlTmFtZSA9IGAke3Byb3RvLm5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVOYW1lO1xufVxuLyoqXG4gKiBSZW1vdmUgdGhlIGxlYWRpbmcgZG90IGZyb20gYSBmdWxseSBxdWFsaWZpZWQgdHlwZSBuYW1lLlxuICovXG5mdW5jdGlvbiB0cmltTGVhZGluZ0RvdCh0eXBlTmFtZSkge1xuICAgIHJldHVybiB0eXBlTmFtZS5zdGFydHNXaXRoKFwiLlwiKSA/IHR5cGVOYW1lLnN1YnN0cmluZygxKSA6IHR5cGVOYW1lO1xufVxuLyoqXG4gKiBEaWQgdGhlIHVzZXIgcHV0IHRoZSBmaWVsZCBpbiBhIG9uZW9mIGdyb3VwP1xuICogU3ludGhldGljIG9uZW9mcyBmb3IgcHJvdG8zIG9wdGlvbmFscyBhcmUgaWdub3JlZC5cbiAqL1xuZnVuY3Rpb24gZmluZE9uZW9mKHByb3RvLCBhbGxPbmVvZnMpIHtcbiAgICBpZiAoIXVuc2FmZUlzU2V0RXhwbGljaXQocHJvdG8sIFwib25lb2ZJbmRleFwiKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocHJvdG8ucHJvdG8zT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgb25lb2YgPSBhbGxPbmVvZnNbcHJvdG8ub25lb2ZJbmRleF07XG4gICAgYXNzZXJ0KG9uZW9mLCBgaW52YWxpZCBGaWVsZERlc2NyaXB0b3JQcm90bzogb25lb2YgIyR7cHJvdG8ub25lb2ZJbmRleH0gZm9yIGZpZWxkICMke3Byb3RvLm51bWJlcn0gbm90IGZvdW5kYCk7XG4gICAgcmV0dXJuIG9uZW9mO1xufVxuLyoqXG4gKiBQcmVzZW5jZSBvZiB0aGUgZmllbGQuXG4gKiBTZWUgaHR0cHM6Ly9wcm90b2J1Zi5kZXYvcHJvZ3JhbW1pbmctZ3VpZGVzL2ZpZWxkX3ByZXNlbmNlL1xuICovXG5mdW5jdGlvbiBnZXRGaWVsZFByZXNlbmNlKHByb3RvLCBvbmVvZiwgaXNFeHRlbnNpb24sIHBhcmVudCkge1xuICAgIGlmIChwcm90by5sYWJlbCA9PSBMQUJFTF9SRVFVSVJFRCkge1xuICAgICAgICAvLyBwcm90bzIgcmVxdWlyZWQgaXMgTEVHQUNZX1JFUVVJUkVEXG4gICAgICAgIHJldHVybiBMRUdBQ1lfUkVRVUlSRUQ7XG4gICAgfVxuICAgIGlmIChwcm90by5sYWJlbCA9PSBMQUJFTF9SRVBFQVRFRCkge1xuICAgICAgICAvLyByZXBlYXRlZCBmaWVsZHMgKGluY2x1ZGluZyBtYXBzKSBkbyBub3QgdHJhY2sgcHJlc2VuY2VcbiAgICAgICAgcmV0dXJuIElNUExJQ0lUO1xuICAgIH1cbiAgICBpZiAoISFvbmVvZiB8fCBwcm90by5wcm90bzNPcHRpb25hbCkge1xuICAgICAgICAvLyBvbmVvZiBpcyBhbHdheXMgZXhwbGljaXRcbiAgICAgICAgcmV0dXJuIEVYUExJQ0lUO1xuICAgIH1cbiAgICBpZiAoaXNFeHRlbnNpb24pIHtcbiAgICAgICAgLy8gZXh0ZW5zaW9ucyBhbHdheXMgdHJhY2sgcHJlc2VuY2VcbiAgICAgICAgcmV0dXJuIEVYUExJQ0lUO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVGZWF0dXJlKFwiZmllbGRQcmVzZW5jZVwiLCB7IHByb3RvLCBwYXJlbnQgfSk7XG4gICAgaWYgKHJlc29sdmVkID09IElNUExJQ0lUICYmXG4gICAgICAgIChwcm90by50eXBlID09IFRZUEVfTUVTU0FHRSB8fCBwcm90by50eXBlID09IFRZUEVfR1JPVVApKSB7XG4gICAgICAgIC8vIHNpbmd1bGFyIG1lc3NhZ2UgZmllbGQgY2Fubm90IGJlIGltcGxpY2l0XG4gICAgICAgIHJldHVybiBFWFBMSUNJVDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdmVkO1xufVxuLyoqXG4gKiBQYWNrIHRoaXMgcmVwZWF0ZWQgZmllbGQ/XG4gKi9cbmZ1bmN0aW9uIGlzUGFja2VkRmllbGQocHJvdG8sIHBhcmVudCkge1xuICAgIGlmIChwcm90by5sYWJlbCAhPSBMQUJFTF9SRVBFQVRFRCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAocHJvdG8udHlwZSkge1xuICAgICAgICBjYXNlIFRZUEVfU1RSSU5HOlxuICAgICAgICBjYXNlIFRZUEVfQllURVM6XG4gICAgICAgIGNhc2UgVFlQRV9HUk9VUDpcbiAgICAgICAgY2FzZSBUWVBFX01FU1NBR0U6XG4gICAgICAgICAgICAvLyBsZW5ndGgtZGVsaW1pdGVkIHR5cGVzIGNhbm5vdCBiZSBwYWNrZWRcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbyA9IHByb3RvLm9wdGlvbnM7XG4gICAgaWYgKG8gJiYgdW5zYWZlSXNTZXRFeHBsaWNpdChvLCBcInBhY2tlZFwiKSkge1xuICAgICAgICAvLyBwcmVmZXIgdGhlIGZpZWxkIG9wdGlvbiBvdmVyIGVkaXRpb24gZmVhdHVyZXNcbiAgICAgICAgcmV0dXJuIG8ucGFja2VkO1xuICAgIH1cbiAgICByZXR1cm4gKFBBQ0tFRCA9PVxuICAgICAgICByZXNvbHZlRmVhdHVyZShcInJlcGVhdGVkRmllbGRFbmNvZGluZ1wiLCB7XG4gICAgICAgICAgICBwcm90byxcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgfSkpO1xufVxuLyoqXG4gKiBGaW5kIHRoZSBrZXkgYW5kIHZhbHVlIGZpZWxkcyBvZiBhIHN5bnRoZXRpYyBtYXAgZW50cnkgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gZmluZE1hcEVudHJ5RmllbGRzKG1hcEVudHJ5KSB7XG4gICAgY29uc3Qga2V5ID0gbWFwRW50cnkuZmllbGRzLmZpbmQoKGYpID0+IGYubnVtYmVyID09PSAxKTtcbiAgICBjb25zdCB2YWx1ZSA9IG1hcEVudHJ5LmZpZWxkcy5maW5kKChmKSA9PiBmLm51bWJlciA9PT0gMik7XG4gICAgYXNzZXJ0KGtleSAmJlxuICAgICAgICBrZXkuZmllbGRLaW5kID09IFwic2NhbGFyXCIgJiZcbiAgICAgICAga2V5LnNjYWxhciAhPSBTY2FsYXJUeXBlLkJZVEVTICYmXG4gICAgICAgIGtleS5zY2FsYXIgIT0gU2NhbGFyVHlwZS5GTE9BVCAmJlxuICAgICAgICBrZXkuc2NhbGFyICE9IFNjYWxhclR5cGUuRE9VQkxFICYmXG4gICAgICAgIHZhbHVlICYmXG4gICAgICAgIHZhbHVlLmZpZWxkS2luZCAhPSBcImxpc3RcIiAmJlxuICAgICAgICB2YWx1ZS5maWVsZEtpbmQgIT0gXCJtYXBcIik7XG4gICAgcmV0dXJuIHsga2V5LCB2YWx1ZSB9O1xufVxuLyoqXG4gKiBFbnVtZXJhdGlvbnMgY2FuIGJlIG9wZW4gb3IgY2xvc2VkLlxuICogU2VlIGh0dHBzOi8vcHJvdG9idWYuZGV2L3Byb2dyYW1taW5nLWd1aWRlcy9lbnVtL1xuICovXG5mdW5jdGlvbiBpc0VudW1PcGVuKGRlc2MpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChPUEVOID09XG4gICAgICAgIHJlc29sdmVGZWF0dXJlKFwiZW51bVR5cGVcIiwge1xuICAgICAgICAgICAgcHJvdG86IGRlc2MucHJvdG8sXG4gICAgICAgICAgICBwYXJlbnQ6IChfYSA9IGRlc2MucGFyZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZXNjLmZpbGUsXG4gICAgICAgIH0pKTtcbn1cbi8qKlxuICogRW5jb2RlIHRoZSBtZXNzYWdlIGRlbGltaXRlZCAoYS5rLmEuIHByb3RvMiBncm91cCBlbmNvZGluZyksIG9yXG4gKiBsZW5ndGgtcHJlZml4ZWQ/XG4gKi9cbmZ1bmN0aW9uIGlzRGVsaW1pdGVkRW5jb2RpbmcocHJvdG8sIHBhcmVudCkge1xuICAgIGlmIChwcm90by50eXBlID09IFRZUEVfR1JPVVApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoREVMSU1JVEVEID09XG4gICAgICAgIHJlc29sdmVGZWF0dXJlKFwibWVzc2FnZUVuY29kaW5nXCIsIHtcbiAgICAgICAgICAgIHByb3RvLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICB9KSk7XG59XG5mdW5jdGlvbiByZXNvbHZlRmVhdHVyZShuYW1lLCByZWYpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGZlYXR1cmVTZXQgPSAoX2EgPSByZWYucHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZlYXR1cmVzO1xuICAgIGlmIChmZWF0dXJlU2V0KSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IGZlYXR1cmVTZXRbbmFtZV07XG4gICAgICAgIGlmICh2YWwgIT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoXCJraW5kXCIgaW4gcmVmKSB7XG4gICAgICAgIGlmIChyZWYua2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVGZWF0dXJlKG5hbWUsIChfYiA9IHJlZi5wYXJlbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHJlZi5maWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlZGl0aW9uRGVmYXVsdHMgPSBmZWF0dXJlRGVmYXVsdHNbcmVmLmVkaXRpb25dO1xuICAgICAgICBpZiAoIWVkaXRpb25EZWZhdWx0cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZWF0dXJlIGRlZmF1bHQgZm9yIGVkaXRpb24gJHtyZWYuZWRpdGlvbn0gbm90IGZvdW5kYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVkaXRpb25EZWZhdWx0c1tuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdmVGZWF0dXJlKG5hbWUsIHJlZi5wYXJlbnQpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBjb25kaXRpb24gaXMgdHJ1dGh5IG9yIHRocm93IGVycm9yICh3aXRoIG1lc3NhZ2UpXG4gKi9cbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1zZykge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcmVzdG9yZUpzb25OYW1lcyB9IGZyb20gXCIuL3Jlc3RvcmUtanNvbi1uYW1lcy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRmlsZVJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3JlZ2lzdHJ5LmpzXCI7XG4vKipcbiAqIEh5ZHJhdGUgYSBmaWxlIGRlc2NyaXB0b3IgZm9yIGdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvIGZyb20gYSBwbGFpblxuICogb2JqZWN0LlxuICpcbiAqIFNlZSBjcmVhdGVGaWxlRGVzY3JpcHRvclByb3RvQm9vdCgpIGZvciBkZXRhaWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib290KGJvb3QpIHtcbiAgICBjb25zdCByb290ID0gYm9vdEZpbGVEZXNjcmlwdG9yUHJvdG8oYm9vdCk7XG4gICAgcm9vdC5tZXNzYWdlVHlwZS5mb3JFYWNoKHJlc3RvcmVKc29uTmFtZXMpO1xuICAgIGNvbnN0IHJlZyA9IGNyZWF0ZUZpbGVSZWdpc3RyeShyb290LCAoKSA9PiB1bmRlZmluZWQpO1xuICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N0eWxlL25vTm9uTnVsbEFzc2VydGlvbjogbm9uLW51bGwgYXNzZXJ0aW9uIGJlY2F1c2Ugd2UganVzdCBjcmVhdGVkIHRoZSByZWdpc3RyeSBmcm9tIHRoZSBmaWxlIHdlIGxvb2sgdXBcbiAgICByZXR1cm4gcmVnLmdldEZpbGUocm9vdC5uYW1lKTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90byBmcm9tIGFuIG9iamVjdCBsaXRlcmFsLlxuICpcbiAqIFNlZSBjcmVhdGVGaWxlRGVzY3JpcHRvclByb3RvQm9vdCgpIGZvciBkZXRhaWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib290RmlsZURlc2NyaXB0b3JQcm90byhpbml0KSB7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgc3ludGF4OiBcIlwiLFxuICAgICAgICBlZGl0aW9uOiAwLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3RvLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG9cIiwgZGVwZW5kZW5jeTogW10sIHB1YmxpY0RlcGVuZGVuY3k6IFtdLCB3ZWFrRGVwZW5kZW5jeTogW10sIG9wdGlvbkRlcGVuZGVuY3k6IFtdLCBzZXJ2aWNlOiBbXSwgZXh0ZW5zaW9uOiBbXSB9LCBpbml0KSwgeyBtZXNzYWdlVHlwZTogaW5pdC5tZXNzYWdlVHlwZS5tYXAoYm9vdERlc2NyaXB0b3JQcm90byksIGVudW1UeXBlOiBpbml0LmVudW1UeXBlLm1hcChib290RW51bURlc2NyaXB0b3JQcm90bykgfSkpO1xufVxuZnVuY3Rpb24gYm9vdERlc2NyaXB0b3JQcm90byhpbml0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5jcmVhdGUoe1xuICAgICAgICB2aXNpYmlsaXR5OiAwLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3RvLCB7XG4gICAgICAgICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvXCIsXG4gICAgICAgIG5hbWU6IGluaXQubmFtZSxcbiAgICAgICAgZmllbGQ6IChfYiA9IChfYSA9IGluaXQuZmllbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoYm9vdEZpZWxkRGVzY3JpcHRvclByb3RvKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIGV4dGVuc2lvbjogW10sXG4gICAgICAgIG5lc3RlZFR5cGU6IChfZCA9IChfYyA9IGluaXQubmVzdGVkVHlwZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1hcChib290RGVzY3JpcHRvclByb3RvKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogW10sXG4gICAgICAgIGVudW1UeXBlOiAoX2YgPSAoX2UgPSBpbml0LmVudW1UeXBlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubWFwKGJvb3RFbnVtRGVzY3JpcHRvclByb3RvKSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogW10sXG4gICAgICAgIGV4dGVuc2lvblJhbmdlOiAoX2ggPSAoX2cgPSBpbml0LmV4dGVuc2lvblJhbmdlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cubWFwKChlKSA9PiAoT2JqZWN0LmFzc2lnbih7ICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlXCIgfSwgZSkpKSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogW10sXG4gICAgICAgIG9uZW9mRGVjbDogW10sXG4gICAgICAgIHJlc2VydmVkUmFuZ2U6IFtdLFxuICAgICAgICByZXNlcnZlZE5hbWU6IFtdLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gYm9vdEZpZWxkRGVzY3JpcHRvclByb3RvKGluaXQpIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5jcmVhdGUoe1xuICAgICAgICBsYWJlbDogMSxcbiAgICAgICAgdHlwZU5hbWU6IFwiXCIsXG4gICAgICAgIGV4dGVuZGVlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IFwiXCIsXG4gICAgICAgIG9uZW9mSW5kZXg6IDAsXG4gICAgICAgIGpzb25OYW1lOiBcIlwiLFxuICAgICAgICBwcm90bzNPcHRpb25hbDogZmFsc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvdG8sIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7ICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG9cIiB9LCBpbml0KSwgeyBvcHRpb25zOiBpbml0Lm9wdGlvbnMgPyBib290RmllbGRPcHRpb25zKGluaXQub3B0aW9ucykgOiB1bmRlZmluZWQgfSkpO1xufVxuZnVuY3Rpb24gYm9vdEZpZWxkT3B0aW9ucyhpbml0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgY3R5cGU6IDAsXG4gICAgICAgIHBhY2tlZDogZmFsc2UsXG4gICAgICAgIGpzdHlwZTogMCxcbiAgICAgICAgbGF6eTogZmFsc2UsXG4gICAgICAgIHVudmVyaWZpZWRMYXp5OiBmYWxzZSxcbiAgICAgICAgZGVwcmVjYXRlZDogZmFsc2UsXG4gICAgICAgIHdlYWs6IGZhbHNlLFxuICAgICAgICBkZWJ1Z1JlZGFjdDogZmFsc2UsXG4gICAgICAgIHJldGVudGlvbjogMCxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90bywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnNcIiB9LCBpbml0KSwgeyB0YXJnZXRzOiAoX2EgPSBpbml0LnRhcmdldHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLCBlZGl0aW9uRGVmYXVsdHM6IChfYyA9IChfYiA9IGluaXQuZWRpdGlvbkRlZmF1bHRzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKChlKSA9PiAoT2JqZWN0LmFzc2lnbih7ICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkVkaXRpb25EZWZhdWx0XCIgfSwgZSkpKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogW10sIHVuaW50ZXJwcmV0ZWRPcHRpb246IFtdIH0pKTtcbn1cbmZ1bmN0aW9uIGJvb3RFbnVtRGVzY3JpcHRvclByb3RvKGluaXQpIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5jcmVhdGUoe1xuICAgICAgICB2aXNpYmlsaXR5OiAwLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3RvLCB7XG4gICAgICAgICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90b1wiLFxuICAgICAgICBuYW1lOiBpbml0Lm5hbWUsXG4gICAgICAgIHJlc2VydmVkTmFtZTogW10sXG4gICAgICAgIHJlc2VydmVkUmFuZ2U6IFtdLFxuICAgICAgICB2YWx1ZTogaW5pdC52YWx1ZS5tYXAoKGUpID0+IChPYmplY3QuYXNzaWduKHsgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG9cIiB9LCBlKSkpLFxuICAgIH0pO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEh5ZHJhdGUgYSBtZXNzYWdlIGRlc2NyaXB0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lc3NhZ2VEZXNjKGZpbGUsIHBhdGgsIC4uLnBhdGhzKSB7XG4gICAgcmV0dXJuIHBhdGhzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYy5uZXN0ZWRNZXNzYWdlc1tjdXJdLCBmaWxlLm1lc3NhZ2VzW3BhdGhdKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBIeWRyYXRlIGFuIGVudW0gZGVzY3JpcHRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW51bURlc2MoZmlsZSwgcGF0aCwgLi4ucGF0aHMpIHtcbiAgICBpZiAocGF0aHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuIGZpbGUuZW51bXNbcGF0aF07XG4gICAgfVxuICAgIGNvbnN0IGUgPSBwYXRocy5wb3AoKTsgLy8gd2UgY2hlY2tlZCBsZW5ndGggYWJvdmVcbiAgICByZXR1cm4gcGF0aHMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjLm5lc3RlZE1lc3NhZ2VzW2N1cl0sIGZpbGUubWVzc2FnZXNbcGF0aF0pLm5lc3RlZEVudW1zW2VdO1xufVxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBUeXBlU2NyaXB0IGVudW0gb2JqZWN0IGF0IHJ1bnRpbWUgZnJvbSBhIGRlc2NyaXB0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0c0VudW0oZGVzYykge1xuICAgIGNvbnN0IGVudW1PYmplY3QgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRlc2MudmFsdWVzKSB7XG4gICAgICAgIGVudW1PYmplY3RbdmFsdWUubG9jYWxOYW1lXSA9IHZhbHVlLm51bWJlcjtcbiAgICAgICAgZW51bU9iamVjdFt2YWx1ZS5udW1iZXJdID0gdmFsdWUubG9jYWxOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW51bU9iamVjdDtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgYm9vdCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb2RlZ2VudjIvYm9vdC5qc1wiO1xuaW1wb3J0IHsgbWVzc2FnZURlc2MgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29kZWdlbnYyL21lc3NhZ2UuanNcIjtcbmltcG9ydCB7IGVudW1EZXNjIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvZGVnZW52Mi9lbnVtLmpzXCI7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZmlsZSBnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90by5cbiAqL1xuZXhwb3J0IGNvbnN0IGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IgPSAvKkBfX1BVUkVfXyovIGJvb3QoeyBcIm5hbWVcIjogXCJnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90b1wiLCBcInBhY2thZ2VcIjogXCJnb29nbGUucHJvdG9idWZcIiwgXCJtZXNzYWdlVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJGaWxlRGVzY3JpcHRvclNldFwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImZpbGVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG9cIiB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDUzNjAwMDAwMCwgXCJlbmRcIjogNTM2MDAwMDAxIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmlsZURlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInBhY2thZ2VcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImRlcGVuZGVuY3lcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMyB9LCB7IFwibmFtZVwiOiBcInB1YmxpY19kZXBlbmRlbmN5XCIsIFwibnVtYmVyXCI6IDEwLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAzIH0sIHsgXCJuYW1lXCI6IFwid2Vha19kZXBlbmRlbmN5XCIsIFwibnVtYmVyXCI6IDExLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAzIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uX2RlcGVuZGVuY3lcIiwgXCJudW1iZXJcIjogMTUsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJtZXNzYWdlX3R5cGVcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwiZW51bV90eXBlXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJzZXJ2aWNlXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJleHRlbnNpb25cIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDgsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9uc1wiIH0sIHsgXCJuYW1lXCI6IFwic291cmNlX2NvZGVfaW5mb1wiLCBcIm51bWJlclwiOiA5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm9cIiB9LCB7IFwibmFtZVwiOiBcInN5bnRheFwiLCBcIm51bWJlclwiOiAxMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImVkaXRpb25cIiwgXCJudW1iZXJcIjogMTQsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfV0gfSwgeyBcIm5hbWVcIjogXCJEZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJmaWVsZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcImV4dGVuc2lvblwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcIm5lc3RlZF90eXBlXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcImVudW1fdHlwZVwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwiZXh0ZW5zaW9uX3JhbmdlXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2VcIiB9LCB7IFwibmFtZVwiOiBcIm9uZW9mX2RlY2xcIiwgXCJudW1iZXJcIjogOCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9uc1wiIH0sIHsgXCJuYW1lXCI6IFwicmVzZXJ2ZWRfcmFuZ2VcIiwgXCJudW1iZXJcIjogOSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlXCIgfSwgeyBcIm5hbWVcIjogXCJyZXNlcnZlZF9uYW1lXCIsIFwibnVtYmVyXCI6IDEwLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAzIH0sIHsgXCJuYW1lXCI6IFwidmlzaWJpbGl0eVwiLCBcIm51bWJlclwiOiAxMSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlN5bWJvbFZpc2liaWxpdHlcIiB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkV4dGVuc2lvblJhbmdlXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwic3RhcnRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImVuZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zXCIgfV0gfSwgeyBcIm5hbWVcIjogXCJSZXNlcnZlZFJhbmdlXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwic3RhcnRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImVuZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH1dIH1dIH0sIHsgXCJuYW1lXCI6IFwiRXh0ZW5zaW9uUmFuZ2VPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH0sIHsgXCJuYW1lXCI6IFwiZGVjbGFyYXRpb25cIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5EZWNsYXJhdGlvblwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAyIH0gfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiA1MCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcInZlcmlmaWNhdGlvblwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLlZlcmlmaWNhdGlvblN0YXRlXCIsIFwiZGVmYXVsdFZhbHVlXCI6IFwiVU5WRVJJRklFRFwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAyIH0gfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJEZWNsYXJhdGlvblwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm51bWJlclwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZnVsbF9uYW1lXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJ0eXBlXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJyZXNlcnZlZFwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicmVwZWF0ZWRcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSB9XSB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJWZXJpZmljYXRpb25TdGF0ZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkRFQ0xBUkFUSU9OXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJVTlZFUklGSUVEXCIsIFwibnVtYmVyXCI6IDEgfV0gfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJGaWVsZERlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm51bWJlclwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwibGFiZWxcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsXCIgfSwgeyBcIm5hbWVcIjogXCJ0eXBlXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlXCIgfSwgeyBcIm5hbWVcIjogXCJ0eXBlX25hbWVcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImV4dGVuZGVlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJkZWZhdWx0X3ZhbHVlXCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvbmVvZl9pbmRleFwiLCBcIm51bWJlclwiOiA5LCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwianNvbl9uYW1lXCIsIFwibnVtYmVyXCI6IDEwLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiA4LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zXCIgfSwgeyBcIm5hbWVcIjogXCJwcm90bzNfb3B0aW9uYWxcIiwgXCJudW1iZXJcIjogMTcsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEgfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiVHlwZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlRZUEVfRE9VQkxFXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0ZMT0FUXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0lOVDY0XCIsIFwibnVtYmVyXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJUWVBFX1VJTlQ2NFwiLCBcIm51bWJlclwiOiA0IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9JTlQzMlwiLCBcIm51bWJlclwiOiA1IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9GSVhFRDY0XCIsIFwibnVtYmVyXCI6IDYgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0ZJWEVEMzJcIiwgXCJudW1iZXJcIjogNyB9LCB7IFwibmFtZVwiOiBcIlRZUEVfQk9PTFwiLCBcIm51bWJlclwiOiA4IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9TVFJJTkdcIiwgXCJudW1iZXJcIjogOSB9LCB7IFwibmFtZVwiOiBcIlRZUEVfR1JPVVBcIiwgXCJudW1iZXJcIjogMTAgfSwgeyBcIm5hbWVcIjogXCJUWVBFX01FU1NBR0VcIiwgXCJudW1iZXJcIjogMTEgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0JZVEVTXCIsIFwibnVtYmVyXCI6IDEyIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9VSU5UMzJcIiwgXCJudW1iZXJcIjogMTMgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0VOVU1cIiwgXCJudW1iZXJcIjogMTQgfSwgeyBcIm5hbWVcIjogXCJUWVBFX1NGSVhFRDMyXCIsIFwibnVtYmVyXCI6IDE1IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9TRklYRUQ2NFwiLCBcIm51bWJlclwiOiAxNiB9LCB7IFwibmFtZVwiOiBcIlRZUEVfU0lOVDMyXCIsIFwibnVtYmVyXCI6IDE3IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9TSU5UNjRcIiwgXCJudW1iZXJcIjogMTggfV0gfSwgeyBcIm5hbWVcIjogXCJMYWJlbFwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkxBQkVMX09QVElPTkFMXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJMQUJFTF9SRVBFQVRFRFwiLCBcIm51bWJlclwiOiAzIH0sIHsgXCJuYW1lXCI6IFwiTEFCRUxfUkVRVUlSRURcIiwgXCJudW1iZXJcIjogMiB9XSB9XSB9LCB7IFwibmFtZVwiOiBcIk9uZW9mRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zXCIgfV0gfSwgeyBcIm5hbWVcIjogXCJFbnVtRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwidmFsdWVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnNcIiB9LCB7IFwibmFtZVwiOiBcInJlc2VydmVkX3JhbmdlXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlXCIgfSwgeyBcIm5hbWVcIjogXCJyZXNlcnZlZF9uYW1lXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJ2aXNpYmlsaXR5XCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5TeW1ib2xWaXNpYmlsaXR5XCIgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJFbnVtUmVzZXJ2ZWRSYW5nZVwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcInN0YXJ0XCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJlbmRcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9XSB9XSB9LCB7IFwibmFtZVwiOiBcIkVudW1WYWx1ZURlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm51bWJlclwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9uc1wiIH1dIH0sIHsgXCJuYW1lXCI6IFwiU2VydmljZURlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm1ldGhvZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9uc1wiIH1dIH0sIHsgXCJuYW1lXCI6IFwiTWV0aG9kRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiaW5wdXRfdHlwZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib3V0cHV0X3R5cGVcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnNcIiB9LCB7IFwibmFtZVwiOiBcImNsaWVudF9zdHJlYW1pbmdcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwic2VydmVyX3N0cmVhbWluZ1wiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfV0gfSwgeyBcIm5hbWVcIjogXCJGaWxlT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImphdmFfcGFja2FnZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiamF2YV9vdXRlcl9jbGFzc25hbWVcIiwgXCJudW1iZXJcIjogOCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImphdmFfbXVsdGlwbGVfZmlsZXNcIiwgXCJudW1iZXJcIjogMTAsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImphdmFfZ2VuZXJhdGVfZXF1YWxzX2FuZF9oYXNoXCIsIFwibnVtYmVyXCI6IDIwLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcIm9wdGlvbnNcIjogeyBcImRlcHJlY2F0ZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwiamF2YV9zdHJpbmdfY2hlY2tfdXRmOFwiLCBcIm51bWJlclwiOiAyNywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwib3B0aW1pemVfZm9yXCIsIFwibnVtYmVyXCI6IDksIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5PcHRpbWl6ZU1vZGVcIiwgXCJkZWZhdWx0VmFsdWVcIjogXCJTUEVFRFwiIH0sIHsgXCJuYW1lXCI6IFwiZ29fcGFja2FnZVwiLCBcIm51bWJlclwiOiAxMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImNjX2dlbmVyaWNfc2VydmljZXNcIiwgXCJudW1iZXJcIjogMTYsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImphdmFfZ2VuZXJpY19zZXJ2aWNlc1wiLCBcIm51bWJlclwiOiAxNywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwicHlfZ2VuZXJpY19zZXJ2aWNlc1wiLCBcIm51bWJlclwiOiAxOCwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAyMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiY2NfZW5hYmxlX2FyZW5hc1wiLCBcIm51bWJlclwiOiAzMSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJ0cnVlXCIgfSwgeyBcIm5hbWVcIjogXCJvYmpjX2NsYXNzX3ByZWZpeFwiLCBcIm51bWJlclwiOiAzNiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImNzaGFycF9uYW1lc3BhY2VcIiwgXCJudW1iZXJcIjogMzcsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJzd2lmdF9wcmVmaXhcIiwgXCJudW1iZXJcIjogMzksIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJwaHBfY2xhc3NfcHJlZml4XCIsIFwibnVtYmVyXCI6IDQwLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicGhwX25hbWVzcGFjZVwiLCBcIm51bWJlclwiOiA0MSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInBocF9tZXRhZGF0YV9uYW1lc3BhY2VcIiwgXCJudW1iZXJcIjogNDQsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJydWJ5X3BhY2thZ2VcIiwgXCJudW1iZXJcIjogNDUsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiA1MCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJPcHRpbWl6ZU1vZGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJTUEVFRFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiQ09ERV9TSVpFXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJMSVRFX1JVTlRJTUVcIiwgXCJudW1iZXJcIjogMyB9XSB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIk1lc3NhZ2VPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibWVzc2FnZV9zZXRfd2lyZV9mb3JtYXRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwibm9fc3RhbmRhcmRfZGVzY3JpcHRvcl9hY2Nlc3NvclwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcIm1hcF9lbnRyeVwiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZF9sZWdhY3lfanNvbl9maWVsZF9jb25mbGljdHNcIiwgXCJudW1iZXJcIjogMTEsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwib3B0aW9uc1wiOiB7IFwiZGVwcmVjYXRlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiAxMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIkZpZWxkT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImN0eXBlXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuQ1R5cGVcIiwgXCJkZWZhdWx0VmFsdWVcIjogXCJTVFJJTkdcIiB9LCB7IFwibmFtZVwiOiBcInBhY2tlZFwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwianN0eXBlXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuSlNUeXBlXCIsIFwiZGVmYXVsdFZhbHVlXCI6IFwiSlNfTk9STUFMXCIgfSwgeyBcIm5hbWVcIjogXCJsYXp5XCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcInVudmVyaWZpZWRfbGF6eVwiLCBcIm51bWJlclwiOiAxNSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJ3ZWFrXCIsIFwibnVtYmVyXCI6IDEwLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIsIFwib3B0aW9uc1wiOiB7IFwiZGVwcmVjYXRlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJkZWJ1Z19yZWRhY3RcIiwgXCJudW1iZXJcIjogMTYsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcInJldGVudGlvblwiLCBcIm51bWJlclwiOiAxNywgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5PcHRpb25SZXRlbnRpb25cIiB9LCB7IFwibmFtZVwiOiBcInRhcmdldHNcIiwgXCJudW1iZXJcIjogMTksIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuT3B0aW9uVGFyZ2V0VHlwZVwiIH0sIHsgXCJuYW1lXCI6IFwiZWRpdGlvbl9kZWZhdWx0c1wiLCBcIm51bWJlclwiOiAyMCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5FZGl0aW9uRGVmYXVsdFwiIH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogMjEsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlX3N1cHBvcnRcIiwgXCJudW1iZXJcIjogMjIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuRmVhdHVyZVN1cHBvcnRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkVkaXRpb25EZWZhdWx0XCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZWRpdGlvblwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH0sIHsgXCJuYW1lXCI6IFwidmFsdWVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9XSB9LCB7IFwibmFtZVwiOiBcIkZlYXR1cmVTdXBwb3J0XCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZWRpdGlvbl9pbnRyb2R1Y2VkXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJlZGl0aW9uX2RlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0aW9uX3dhcm5pbmdcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImVkaXRpb25fcmVtb3ZlZFwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH1dIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIkNUeXBlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiU1RSSU5HXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJDT1JEXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJTVFJJTkdfUElFQ0VcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIkpTVHlwZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkpTX05PUk1BTFwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiSlNfU1RSSU5HXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJKU19OVU1CRVJcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIk9wdGlvblJldGVudGlvblwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlJFVEVOVElPTl9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJSRVRFTlRJT05fUlVOVElNRVwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiUkVURU5USU9OX1NPVVJDRVwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiT3B0aW9uVGFyZ2V0VHlwZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX0ZJTEVcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX0VYVEVOU0lPTl9SQU5HRVwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfTUVTU0FHRVwiLCBcIm51bWJlclwiOiAzIH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfRklFTERcIiwgXCJudW1iZXJcIjogNCB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX09ORU9GXCIsIFwibnVtYmVyXCI6IDUgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9FTlVNXCIsIFwibnVtYmVyXCI6IDYgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9FTlVNX0VOVFJZXCIsIFwibnVtYmVyXCI6IDcgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9TRVJWSUNFXCIsIFwibnVtYmVyXCI6IDggfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9NRVRIT0RcIiwgXCJudW1iZXJcIjogOSB9XSB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIk9uZW9mT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJFbnVtT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImFsbG93X2FsaWFzXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRfbGVnYWN5X2pzb25fZmllbGRfY29uZmxpY3RzXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwib3B0aW9uc1wiOiB7IFwiZGVwcmVjYXRlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiRW51bVZhbHVlT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcImRlYnVnX3JlZGFjdFwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlX3N1cHBvcnRcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5GZWF0dXJlU3VwcG9ydFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiU2VydmljZU9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiAzNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMzMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIk1ldGhvZE9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDMzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJpZGVtcG90ZW5jeV9sZXZlbFwiLCBcIm51bWJlclwiOiAzNCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuSWRlbXBvdGVuY3lMZXZlbFwiLCBcImRlZmF1bHRWYWx1ZVwiOiBcIklERU1QT1RFTkNZX1VOS05PV05cIiB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDM1LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIklkZW1wb3RlbmN5TGV2ZWxcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJJREVNUE9URU5DWV9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJOT19TSURFX0VGRkVDVFNcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIklERU1QT1RFTlRcIiwgXCJudW1iZXJcIjogMiB9XSB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIlVuaW50ZXJwcmV0ZWRPcHRpb25cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0XCIgfSwgeyBcIm5hbWVcIjogXCJpZGVudGlmaWVyX3ZhbHVlXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJwb3NpdGl2ZV9pbnRfdmFsdWVcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDQsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm5lZ2F0aXZlX2ludF92YWx1ZVwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMywgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZG91YmxlX3ZhbHVlXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiAxLCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJzdHJpbmdfdmFsdWVcIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDEyLCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJhZ2dyZWdhdGVfdmFsdWVcIiwgXCJudW1iZXJcIjogOCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIk5hbWVQYXJ0XCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZV9wYXJ0XCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJpc19leHRlbnNpb25cIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMiB9XSB9XSB9LCB7IFwibmFtZVwiOiBcIkZlYXR1cmVTZXRcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJmaWVsZF9wcmVzZW5jZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDEsIFwidGFyZ2V0c1wiOiBbNCwgMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJFWFBMSUNJVFwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIklNUExJQ0lUXCIsIFwiZWRpdGlvblwiOiA5OTkgfSwgeyBcInZhbHVlXCI6IFwiRVhQTElDSVRcIiwgXCJlZGl0aW9uXCI6IDEwMDAgfV0gfSB9LCB7IFwibmFtZVwiOiBcImVudW1fdHlwZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbnVtVHlwZVwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAxLCBcInRhcmdldHNcIjogWzYsIDFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiQ0xPU0VEXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiT1BFTlwiLCBcImVkaXRpb25cIjogOTk5IH1dIH0gfSwgeyBcIm5hbWVcIjogXCJyZXBlYXRlZF9maWVsZF9lbmNvZGluZ1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5SZXBlYXRlZEZpZWxkRW5jb2RpbmdcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMSwgXCJ0YXJnZXRzXCI6IFs0LCAxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIkVYUEFOREVEXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiUEFDS0VEXCIsIFwiZWRpdGlvblwiOiA5OTkgfV0gfSB9LCB7IFwibmFtZVwiOiBcInV0ZjhfdmFsaWRhdGlvblwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5VdGY4VmFsaWRhdGlvblwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAxLCBcInRhcmdldHNcIjogWzQsIDFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiTk9ORVwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIlZFUklGWVwiLCBcImVkaXRpb25cIjogOTk5IH1dIH0gfSwgeyBcIm5hbWVcIjogXCJtZXNzYWdlX2VuY29kaW5nXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lk1lc3NhZ2VFbmNvZGluZ1wiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAxLCBcInRhcmdldHNcIjogWzQsIDFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiTEVOR1RIX1BSRUZJWEVEXCIsIFwiZWRpdGlvblwiOiA5MDAgfV0gfSB9LCB7IFwibmFtZVwiOiBcImpzb25fZm9ybWF0XCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lkpzb25Gb3JtYXRcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMSwgXCJ0YXJnZXRzXCI6IFszLCA2LCAxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIkxFR0FDWV9CRVNUX0VGRk9SVFwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIkFMTE9XXCIsIFwiZWRpdGlvblwiOiA5OTkgfV0gfSB9LCB7IFwibmFtZVwiOiBcImVuZm9yY2VfbmFtaW5nX3N0eWxlXCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVuZm9yY2VOYW1pbmdTdHlsZVwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAyLCBcInRhcmdldHNcIjogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiU1RZTEVfTEVHQUNZXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiU1RZTEUyMDI0XCIsIFwiZWRpdGlvblwiOiAxMDAxIH1dIH0gfSwgeyBcIm5hbWVcIjogXCJkZWZhdWx0X3N5bWJvbF92aXNpYmlsaXR5XCIsIFwibnVtYmVyXCI6IDgsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlZpc2liaWxpdHlGZWF0dXJlLkRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5XCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDIsIFwidGFyZ2V0c1wiOiBbMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJFWFBPUlRfQUxMXCIsIFwiZWRpdGlvblwiOiA5MDAgfSwgeyBcInZhbHVlXCI6IFwiRVhQT1JUX1RPUF9MRVZFTFwiLCBcImVkaXRpb25cIjogMTAwMSB9XSB9IH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiVmlzaWJpbGl0eUZlYXR1cmVcIiwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJEZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkRFRkFVTFRfU1lNQk9MX1ZJU0lCSUxJVFlfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiRVhQT1JUX0FMTFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiRVhQT1JUX1RPUF9MRVZFTFwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiTE9DQUxfQUxMXCIsIFwibnVtYmVyXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJTVFJJQ1RcIiwgXCJudW1iZXJcIjogNCB9XSB9XSB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJGaWVsZFByZXNlbmNlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiRklFTERfUFJFU0VOQ0VfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiRVhQTElDSVRcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIklNUExJQ0lUXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJMRUdBQ1lfUkVRVUlSRURcIiwgXCJudW1iZXJcIjogMyB9XSB9LCB7IFwibmFtZVwiOiBcIkVudW1UeXBlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiRU5VTV9UWVBFX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIk9QRU5cIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkNMT1NFRFwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiUmVwZWF0ZWRGaWVsZEVuY29kaW5nXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiUkVQRUFURURfRklFTERfRU5DT0RJTkdfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiUEFDS0VEXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJFWFBBTkRFRFwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiVXRmOFZhbGlkYXRpb25cIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJVVEY4X1ZBTElEQVRJT05fVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiVkVSSUZZXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJOT05FXCIsIFwibnVtYmVyXCI6IDMgfV0gfSwgeyBcIm5hbWVcIjogXCJNZXNzYWdlRW5jb2RpbmdcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJNRVNTQUdFX0VOQ09ESU5HX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkxFTkdUSF9QUkVGSVhFRFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiREVMSU1JVEVEXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJKc29uRm9ybWF0XCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiSlNPTl9GT1JNQVRfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiQUxMT1dcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkxFR0FDWV9CRVNUX0VGRk9SVFwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiRW5mb3JjZU5hbWluZ1N0eWxlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiRU5GT1JDRV9OQU1JTkdfU1RZTEVfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiU1RZTEUyMDI0XCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJTVFlMRV9MRUdBQ1lcIiwgXCJudW1iZXJcIjogMiB9XSB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDk5OTUgfSwgeyBcInN0YXJ0XCI6IDk5OTUsIFwiZW5kXCI6IDEwMDAwIH0sIHsgXCJzdGFydFwiOiAxMDAwMCwgXCJlbmRcIjogMTAwMDEgfV0gfSwgeyBcIm5hbWVcIjogXCJGZWF0dXJlU2V0RGVmYXVsdHNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJkZWZhdWx0c1wiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldERlZmF1bHRzLkZlYXR1cmVTZXRFZGl0aW9uRGVmYXVsdFwiIH0sIHsgXCJuYW1lXCI6IFwibWluaW11bV9lZGl0aW9uXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJtYXhpbXVtX2VkaXRpb25cIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkZlYXR1cmVTZXRFZGl0aW9uRGVmYXVsdFwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImVkaXRpb25cIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9LCB7IFwibmFtZVwiOiBcIm92ZXJyaWRhYmxlX2ZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJmaXhlZF9mZWF0dXJlc1wiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH1dIH1dIH0sIHsgXCJuYW1lXCI6IFwiU291cmNlQ29kZUluZm9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJsb2NhdGlvblwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb25cIiB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkxvY2F0aW9uXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwicGF0aFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAzLCBcIm9wdGlvbnNcIjogeyBcInBhY2tlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJzcGFuXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDMsIFwib3B0aW9uc1wiOiB7IFwicGFja2VkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcImxlYWRpbmdfY29tbWVudHNcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInRyYWlsaW5nX2NvbW1lbnRzXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJsZWFkaW5nX2RldGFjaGVkX2NvbW1lbnRzXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDMgfV0gfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiA1MzYwMDAwMDAsIFwiZW5kXCI6IDUzNjAwMDAwMSB9XSB9LCB7IFwibmFtZVwiOiBcIkdlbmVyYXRlZENvZGVJbmZvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiYW5ub3RhdGlvblwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvblwiIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiQW5ub3RhdGlvblwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcInBhdGhcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMywgXCJvcHRpb25zXCI6IHsgXCJwYWNrZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwic291cmNlX2ZpbGVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImJlZ2luXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJlbmRcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInNlbWFudGljXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLlNlbWFudGljXCIgfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiU2VtYW50aWNcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJOT05FXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJTRVRcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkFMSUFTXCIsIFwibnVtYmVyXCI6IDIgfV0gfV0gfV0gfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRWRpdGlvblwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkVESVRJT05fVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl9MRUdBQ1lcIiwgXCJudW1iZXJcIjogOTAwIH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl9QUk9UTzJcIiwgXCJudW1iZXJcIjogOTk4IH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl9QUk9UTzNcIiwgXCJudW1iZXJcIjogOTk5IH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl8yMDIzXCIsIFwibnVtYmVyXCI6IDEwMDAgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzIwMjRcIiwgXCJudW1iZXJcIjogMTAwMSB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fMV9URVNUX09OTFlcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fMl9URVNUX09OTFlcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fOTk5OTdfVEVTVF9PTkxZXCIsIFwibnVtYmVyXCI6IDk5OTk3IH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl85OTk5OF9URVNUX09OTFlcIiwgXCJudW1iZXJcIjogOTk5OTggfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzk5OTk5X1RFU1RfT05MWVwiLCBcIm51bWJlclwiOiA5OTk5OSB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fTUFYXCIsIFwibnVtYmVyXCI6IDIxNDc0ODM2NDcgfV0gfSwgeyBcIm5hbWVcIjogXCJTeW1ib2xWaXNpYmlsaXR5XCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiVklTSUJJTElUWV9VTlNFVFwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiVklTSUJJTElUWV9MT0NBTFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiVklTSUJJTElUWV9FWFBPUlRcIiwgXCJudW1iZXJcIjogMiB9XSB9XSB9KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldC5cbiAqIFVzZSBgY3JlYXRlKEZpbGVEZXNjcmlwdG9yU2V0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlRGVzY3JpcHRvclNldFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKERlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuXG4gKiBVc2UgYGNyZWF0ZShEZXNjcmlwdG9yUHJvdG9fRXh0ZW5zaW9uUmFuZ2VTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0b3JQcm90b19FeHRlbnNpb25SYW5nZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMiwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuXG4gKiBVc2UgYGNyZWF0ZShEZXNjcmlwdG9yUHJvdG9fUmVzZXJ2ZWRSYW5nZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGVzY3JpcHRvclByb3RvX1Jlc2VydmVkUmFuZ2VTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIsIDEpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKEV4dGVuc2lvblJhbmdlT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRXh0ZW5zaW9uUmFuZ2VPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAzKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuRGVjbGFyYXRpb24uXG4gKiBVc2UgYGNyZWF0ZShFeHRlbnNpb25SYW5nZU9wdGlvbnNfRGVjbGFyYXRpb25TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEV4dGVuc2lvblJhbmdlT3B0aW9uc19EZWNsYXJhdGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMywgMCk7XG4vKipcbiAqIFRoZSB2ZXJpZmljYXRpb24gc3RhdGUgb2YgdGhlIGV4dGVuc2lvbiByYW5nZS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLlZlcmlmaWNhdGlvblN0YXRlXG4gKi9cbmV4cG9ydCB2YXIgRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGUpIHtcbiAgICAvKipcbiAgICAgKiBBbGwgdGhlIGV4dGVuc2lvbnMgb2YgdGhlIHJhbmdlIG11c3QgYmUgZGVjbGFyZWQuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREVDTEFSQVRJT04gPSAwO1xuICAgICAqL1xuICAgIEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZVtFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGVbXCJERUNMQVJBVElPTlwiXSA9IDBdID0gXCJERUNMQVJBVElPTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVTlZFUklGSUVEID0gMTtcbiAgICAgKi9cbiAgICBFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGVbRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlW1wiVU5WRVJJRklFRFwiXSA9IDFdID0gXCJVTlZFUklGSUVEXCI7XG59KShFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGUgfHwgKEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLlZlcmlmaWNhdGlvblN0YXRlLlxuICovXG5leHBvcnQgY29uc3QgRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAzLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlXG4gKi9cbmV4cG9ydCB2YXIgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZTtcbihmdW5jdGlvbiAoRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZSkge1xuICAgIC8qKlxuICAgICAqIDAgaXMgcmVzZXJ2ZWQgZm9yIGVycm9ycy5cbiAgICAgKiBPcmRlciBpcyB3ZWlyZCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfRE9VQkxFID0gMTtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJET1VCTEVcIl0gPSAxXSA9IFwiRE9VQkxFXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfRkxPQVQgPSAyO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkZMT0FUXCJdID0gMl0gPSBcIkZMT0FUXCI7XG4gICAgLyoqXG4gICAgICogTm90IFppZ1phZyBlbmNvZGVkLiAgTmVnYXRpdmUgbnVtYmVycyB0YWtlIDEwIGJ5dGVzLiAgVXNlIFRZUEVfU0lOVDY0IGlmXG4gICAgICogbmVnYXRpdmUgdmFsdWVzIGFyZSBsaWtlbHkuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9JTlQ2NCA9IDM7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiSU5UNjRcIl0gPSAzXSA9IFwiSU5UNjRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9VSU5UNjQgPSA0O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlVJTlQ2NFwiXSA9IDRdID0gXCJVSU5UNjRcIjtcbiAgICAvKipcbiAgICAgKiBOb3QgWmlnWmFnIGVuY29kZWQuICBOZWdhdGl2ZSBudW1iZXJzIHRha2UgMTAgYnl0ZXMuICBVc2UgVFlQRV9TSU5UMzIgaWZcbiAgICAgKiBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGxpa2VseS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0lOVDMyID0gNTtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJJTlQzMlwiXSA9IDVdID0gXCJJTlQzMlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0ZJWEVENjQgPSA2O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkZJWEVENjRcIl0gPSA2XSA9IFwiRklYRUQ2NFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0ZJWEVEMzIgPSA3O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkZJWEVEMzJcIl0gPSA3XSA9IFwiRklYRUQzMlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0JPT0wgPSA4O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkJPT0xcIl0gPSA4XSA9IFwiQk9PTFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1NUUklORyA9IDk7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiU1RSSU5HXCJdID0gOV0gPSBcIlNUUklOR1wiO1xuICAgIC8qKlxuICAgICAqIFRhZy1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgICAqIEdyb3VwIHR5cGUgaXMgZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZCBhZnRlciBnb29nbGUucHJvdG9idWYuIEhvd2V2ZXIsIFByb3RvM1xuICAgICAqIGltcGxlbWVudGF0aW9ucyBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byBwYXJzZSB0aGUgZ3JvdXAgd2lyZSBmb3JtYXQgYW5kXG4gICAgICogdHJlYXQgZ3JvdXAgZmllbGRzIGFzIHVua25vd24gZmllbGRzLiAgSW4gRWRpdGlvbnMsIHRoZSBncm91cCB3aXJlIGZvcm1hdFxuICAgICAqIGNhbiBiZSBlbmFibGVkIHZpYSB0aGUgYG1lc3NhZ2VfZW5jb2RpbmdgIGZlYXR1cmUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9HUk9VUCA9IDEwO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIkdST1VQXCJdID0gMTBdID0gXCJHUk9VUFwiO1xuICAgIC8qKlxuICAgICAqIExlbmd0aC1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfTUVTU0FHRSA9IDExO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIk1FU1NBR0VcIl0gPSAxMV0gPSBcIk1FU1NBR0VcIjtcbiAgICAvKipcbiAgICAgKiBOZXcgaW4gdmVyc2lvbiAyLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfQllURVMgPSAxMjtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJCWVRFU1wiXSA9IDEyXSA9IFwiQllURVNcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9VSU5UMzIgPSAxMztcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJVSU5UMzJcIl0gPSAxM10gPSBcIlVJTlQzMlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0VOVU0gPSAxNDtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJFTlVNXCJdID0gMTRdID0gXCJFTlVNXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfU0ZJWEVEMzIgPSAxNTtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJTRklYRUQzMlwiXSA9IDE1XSA9IFwiU0ZJWEVEMzJcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9TRklYRUQ2NCA9IDE2O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlNGSVhFRDY0XCJdID0gMTZdID0gXCJTRklYRUQ2NFwiO1xuICAgIC8qKlxuICAgICAqIFVzZXMgWmlnWmFnIGVuY29kaW5nLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfU0lOVDMyID0gMTc7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiU0lOVDMyXCJdID0gMTddID0gXCJTSU5UMzJcIjtcbiAgICAvKipcbiAgICAgKiBVc2VzIFppZ1phZyBlbmNvZGluZy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1NJTlQ2NCA9IDE4O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlNJTlQ2NFwiXSA9IDE4XSA9IFwiU0lOVDY0XCI7XG59KShGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlIHx8IChGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNCwgMCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbFxuICovXG5leHBvcnQgdmFyIEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsO1xuKGZ1bmN0aW9uIChGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbCkge1xuICAgIC8qKlxuICAgICAqIDAgaXMgcmVzZXJ2ZWQgZm9yIGVycm9yc1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExBQkVMX09QVElPTkFMID0gMTtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFtGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFtcIk9QVElPTkFMXCJdID0gMV0gPSBcIk9QVElPTkFMXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExBQkVMX1JFUEVBVEVEID0gMztcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFtGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFtcIlJFUEVBVEVEXCJdID0gM10gPSBcIlJFUEVBVEVEXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHJlcXVpcmVkIGxhYmVsIGlzIG9ubHkgYWxsb3dlZCBpbiBnb29nbGUucHJvdG9idWYuICBJbiBwcm90bzMgYW5kIEVkaXRpb25zXG4gICAgICogaXQncyBleHBsaWNpdGx5IHByb2hpYml0ZWQuICBJbiBFZGl0aW9ucywgdGhlIGBmaWVsZF9wcmVzZW5jZWAgZmVhdHVyZVxuICAgICAqIGNhbiBiZSB1c2VkIHRvIGdldCB0aGlzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExBQkVMX1JFUVVJUkVEID0gMjtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFtGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbFtcIlJFUVVJUkVEXCJdID0gMl0gPSBcIlJFUVVJUkVEXCI7XG59KShGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbCB8fCAoRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWwgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsLlxuICovXG5leHBvcnQgY29uc3QgRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDQsIDEpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoT25lb2ZEZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uZW9mRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA1KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoRW51bURlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRW51bURlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNik7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5cbiAqIFVzZSBgY3JlYXRlKEVudW1EZXNjcmlwdG9yUHJvdG9fRW51bVJlc2VydmVkUmFuZ2VTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1EZXNjcmlwdG9yUHJvdG9fRW51bVJlc2VydmVkUmFuZ2VTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDYsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKEVudW1WYWx1ZURlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRW51bVZhbHVlRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA3KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoU2VydmljZURlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU2VydmljZURlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgOCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLlxuICogVXNlIGBjcmVhdGUoTWV0aG9kRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNZXRob2REZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoRmlsZU9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMCk7XG4vKipcbiAqIEdlbmVyYXRlZCBjbGFzc2VzIGNhbiBiZSBvcHRpbWl6ZWQgZm9yIHNwZWVkIG9yIGNvZGUgc2l6ZS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlXG4gKi9cbmV4cG9ydCB2YXIgRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlO1xuKGZ1bmN0aW9uIChGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGUpIHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBjb21wbGV0ZSBjb2RlIGZvciBwYXJzaW5nLCBzZXJpYWxpemF0aW9uLFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNQRUVEID0gMTtcbiAgICAgKi9cbiAgICBGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVbRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlW1wiU1BFRURcIl0gPSAxXSA9IFwiU1BFRURcIjtcbiAgICAvKipcbiAgICAgKiBldGMuXG4gICAgICpcbiAgICAgKiBVc2UgUmVmbGVjdGlvbk9wcyB0byBpbXBsZW1lbnQgdGhlc2UgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBDT0RFX1NJWkUgPSAyO1xuICAgICAqL1xuICAgIEZpbGVPcHRpb25zX09wdGltaXplTW9kZVtGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVbXCJDT0RFX1NJWkVcIl0gPSAyXSA9IFwiQ09ERV9TSVpFXCI7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgY29kZSB1c2luZyBNZXNzYWdlTGl0ZSBhbmQgdGhlIGxpdGUgcnVudGltZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMSVRFX1JVTlRJTUUgPSAzO1xuICAgICAqL1xuICAgIEZpbGVPcHRpb25zX09wdGltaXplTW9kZVtGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVbXCJMSVRFX1JVTlRJTUVcIl0gPSAzXSA9IFwiTElURV9SVU5USU1FXCI7XG59KShGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGUgfHwgKEZpbGVPcHRpb25zX09wdGltaXplTW9kZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlLlxuICovXG5leHBvcnQgY29uc3QgRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMCwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShNZXNzYWdlT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWVzc2FnZU9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDExKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShGaWVsZE9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5FZGl0aW9uRGVmYXVsdC5cbiAqIFVzZSBgY3JlYXRlKEZpZWxkT3B0aW9uc19FZGl0aW9uRGVmYXVsdFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zX0VkaXRpb25EZWZhdWx0U2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMiwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkZlYXR1cmVTdXBwb3J0LlxuICogVXNlIGBjcmVhdGUoRmllbGRPcHRpb25zX0ZlYXR1cmVTdXBwb3J0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNfRmVhdHVyZVN1cHBvcnRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyLCAxKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5DVHlwZVxuICovXG5leHBvcnQgdmFyIEZpZWxkT3B0aW9uc19DVHlwZTtcbihmdW5jdGlvbiAoRmllbGRPcHRpb25zX0NUeXBlKSB7XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBtb2RlLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUUklORyA9IDA7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX0NUeXBlW0ZpZWxkT3B0aW9uc19DVHlwZVtcIlNUUklOR1wiXSA9IDBdID0gXCJTVFJJTkdcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3B0aW9uIFtjdHlwZT1DT1JEXSBtYXkgYmUgYXBwbGllZCB0byBhIG5vbi1yZXBlYXRlZCBmaWVsZCBvZiB0eXBlXG4gICAgICogXCJieXRlc1wiLiBJdCBpbmRpY2F0ZXMgdGhhdCBpbiBDKyssIHRoZSBkYXRhIHNob3VsZCBiZSBzdG9yZWQgaW4gYSBDb3JkXG4gICAgICogaW5zdGVhZCBvZiBhIHN0cmluZy4gIEZvciB2ZXJ5IGxhcmdlIHN0cmluZ3MsIHRoaXMgbWF5IHJlZHVjZSBtZW1vcnlcbiAgICAgKiBmcmFnbWVudGF0aW9uLiBJdCBtYXkgYWxzbyBhbGxvdyBiZXR0ZXIgcGVyZm9ybWFuY2Ugd2hlbiBwYXJzaW5nIGZyb20gYVxuICAgICAqIENvcmQsIG9yIHdoZW4gcGFyc2luZyB3aXRoIGFsaWFzaW5nIGVuYWJsZWQsIGFzIHRoZSBwYXJzZWQgQ29yZCBtYXkgdGhlblxuICAgICAqIGFsaWFzIHRoZSBvcmlnaW5hbCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogQ09SRCA9IDE7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX0NUeXBlW0ZpZWxkT3B0aW9uc19DVHlwZVtcIkNPUkRcIl0gPSAxXSA9IFwiQ09SRFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVFJJTkdfUElFQ0UgPSAyO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19DVHlwZVtGaWVsZE9wdGlvbnNfQ1R5cGVbXCJTVFJJTkdfUElFQ0VcIl0gPSAyXSA9IFwiU1RSSU5HX1BJRUNFXCI7XG59KShGaWVsZE9wdGlvbnNfQ1R5cGUgfHwgKEZpZWxkT3B0aW9uc19DVHlwZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkNUeXBlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zX0NUeXBlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMiwgMCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuSlNUeXBlXG4gKi9cbmV4cG9ydCB2YXIgRmllbGRPcHRpb25zX0pTVHlwZTtcbihmdW5jdGlvbiAoRmllbGRPcHRpb25zX0pTVHlwZSkge1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgZGVmYXVsdCB0eXBlLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEpTX05PUk1BTCA9IDA7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX0pTVHlwZVtGaWVsZE9wdGlvbnNfSlNUeXBlW1wiSlNfTk9STUFMXCJdID0gMF0gPSBcIkpTX05PUk1BTFwiO1xuICAgIC8qKlxuICAgICAqIFVzZSBKYXZhU2NyaXB0IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSlNfU1RSSU5HID0gMTtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfSlNUeXBlW0ZpZWxkT3B0aW9uc19KU1R5cGVbXCJKU19TVFJJTkdcIl0gPSAxXSA9IFwiSlNfU1RSSU5HXCI7XG4gICAgLyoqXG4gICAgICogVXNlIEphdmFTY3JpcHQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBKU19OVU1CRVIgPSAyO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19KU1R5cGVbRmllbGRPcHRpb25zX0pTVHlwZVtcIkpTX05VTUJFUlwiXSA9IDJdID0gXCJKU19OVU1CRVJcIjtcbn0pKEZpZWxkT3B0aW9uc19KU1R5cGUgfHwgKEZpZWxkT3B0aW9uc19KU1R5cGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5KU1R5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNfSlNUeXBlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMiwgMSk7XG4vKipcbiAqIElmIHNldCB0byBSRVRFTlRJT05fU09VUkNFLCB0aGUgb3B0aW9uIHdpbGwgYmUgb21pdHRlZCBmcm9tIHRoZSBiaW5hcnkuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5PcHRpb25SZXRlbnRpb25cbiAqL1xuZXhwb3J0IHZhciBGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uO1xuKGZ1bmN0aW9uIChGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFJFVEVOVElPTl9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uW0ZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25bXCJSRVRFTlRJT05fVU5LTk9XTlwiXSA9IDBdID0gXCJSRVRFTlRJT05fVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBSRVRFTlRJT05fUlVOVElNRSA9IDE7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbltGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uW1wiUkVURU5USU9OX1JVTlRJTUVcIl0gPSAxXSA9IFwiUkVURU5USU9OX1JVTlRJTUVcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogUkVURU5USU9OX1NPVVJDRSA9IDI7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbltGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uW1wiUkVURU5USU9OX1NPVVJDRVwiXSA9IDJdID0gXCJSRVRFTlRJT05fU09VUkNFXCI7XG59KShGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uIHx8IChGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuT3B0aW9uUmV0ZW50aW9uLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIsIDIpO1xuLyoqXG4gKiBUaGlzIGluZGljYXRlcyB0aGUgdHlwZXMgb2YgZW50aXRpZXMgdGhhdCB0aGUgZmllbGQgbWF5IGFwcGx5IHRvIHdoZW4gdXNlZFxuICogYXMgYW4gb3B0aW9uLiBJZiBpdCBpcyB1bnNldCwgdGhlbiB0aGUgZmllbGQgbWF5IGJlIGZyZWVseSB1c2VkIGFzIGFuXG4gKiBvcHRpb24gb24gYW55IGtpbmQgb2YgZW50aXR5LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuT3B0aW9uVGFyZ2V0VHlwZVxuICovXG5leHBvcnQgdmFyIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlO1xuKGZ1bmN0aW9uIChGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZSkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX1VOS05PV05cIl0gPSAwXSA9IFwiVEFSR0VUX1RZUEVfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9GSUxFID0gMTtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX0ZJTEVcIl0gPSAxXSA9IFwiVEFSR0VUX1RZUEVfRklMRVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9FWFRFTlNJT05fUkFOR0UgPSAyO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfRVhURU5TSU9OX1JBTkdFXCJdID0gMl0gPSBcIlRBUkdFVF9UWVBFX0VYVEVOU0lPTl9SQU5HRVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9NRVNTQUdFID0gMztcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX01FU1NBR0VcIl0gPSAzXSA9IFwiVEFSR0VUX1RZUEVfTUVTU0FHRVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9GSUVMRCA9IDQ7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9GSUVMRFwiXSA9IDRdID0gXCJUQVJHRVRfVFlQRV9GSUVMRFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9PTkVPRiA9IDU7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9PTkVPRlwiXSA9IDVdID0gXCJUQVJHRVRfVFlQRV9PTkVPRlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9FTlVNID0gNjtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX0VOVU1cIl0gPSA2XSA9IFwiVEFSR0VUX1RZUEVfRU5VTVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9FTlVNX0VOVFJZID0gNztcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX0VOVU1fRU5UUllcIl0gPSA3XSA9IFwiVEFSR0VUX1RZUEVfRU5VTV9FTlRSWVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9TRVJWSUNFID0gODtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX1NFUlZJQ0VcIl0gPSA4XSA9IFwiVEFSR0VUX1RZUEVfU0VSVklDRVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUQVJHRVRfVFlQRV9NRVRIT0QgPSA5O1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfTUVUSE9EXCJdID0gOV0gPSBcIlRBUkdFVF9UWVBFX01FVEhPRFwiO1xufSkoRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGUgfHwgKEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuT3B0aW9uVGFyZ2V0VHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMiwgMyk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoT25lb2ZPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBPbmVvZk9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEzKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKEVudW1PcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFbnVtT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTQpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShFbnVtVmFsdWVPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFbnVtVmFsdWVPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxNSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShTZXJ2aWNlT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU2VydmljZU9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE2KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoTWV0aG9kT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWV0aG9kT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTcpO1xuLyoqXG4gKiBJcyB0aGlzIG1ldGhvZCBzaWRlLWVmZmVjdC1mcmVlIChvciBzYWZlIGluIEhUVFAgcGFybGFuY2UpLCBvciBpZGVtcG90ZW50LFxuICogb3IgbmVpdGhlcj8gSFRUUCBiYXNlZCBSUEMgaW1wbGVtZW50YXRpb24gbWF5IGNob29zZSBHRVQgdmVyYiBmb3Igc2FmZVxuICogbWV0aG9kcywgYW5kIFBVVCB2ZXJiIGZvciBpZGVtcG90ZW50IG1ldGhvZHMgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBQT1NULlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWxcbiAqL1xuZXhwb3J0IHZhciBNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWw7XG4oZnVuY3Rpb24gKE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbCkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBJREVNUE9URU5DWV9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxbTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsW1wiSURFTVBPVEVOQ1lfVU5LTk9XTlwiXSA9IDBdID0gXCJJREVNUE9URU5DWV9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogaW1wbGllcyBpZGVtcG90ZW50XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTk9fU0lERV9FRkZFQ1RTID0gMTtcbiAgICAgKi9cbiAgICBNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxbTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsW1wiTk9fU0lERV9FRkZFQ1RTXCJdID0gMV0gPSBcIk5PX1NJREVfRUZGRUNUU1wiO1xuICAgIC8qKlxuICAgICAqIGlkZW1wb3RlbnQsIGJ1dCBtYXkgaGF2ZSBzaWRlIGVmZmVjdHNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBJREVNUE9URU5UID0gMjtcbiAgICAgKi9cbiAgICBNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWxbTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsW1wiSURFTVBPVEVOVFwiXSA9IDJdID0gXCJJREVNUE9URU5UXCI7XG59KShNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWwgfHwgKE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbCA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5JZGVtcG90ZW5jeUxldmVsLlxuICovXG5leHBvcnQgY29uc3QgTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxNywgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5cbiAqIFVzZSBgY3JlYXRlKFVuaW50ZXJwcmV0ZWRPcHRpb25TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuaW50ZXJwcmV0ZWRPcHRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE4KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LlxuICogVXNlIGBjcmVhdGUoVW5pbnRlcnByZXRlZE9wdGlvbl9OYW1lUGFydFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgVW5pbnRlcnByZXRlZE9wdGlvbl9OYW1lUGFydFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTgsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuXG4gKiBVc2UgYGNyZWF0ZShGZWF0dXJlU2V0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0U2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5WaXNpYmlsaXR5RmVhdHVyZS5cbiAqIFVzZSBgY3JlYXRlKEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCAwKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVmlzaWJpbGl0eUZlYXR1cmUuRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5O1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5KSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERFRkFVTFRfU1lNQk9MX1ZJU0lCSUxJVFlfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W1wiREVGQVVMVF9TWU1CT0xfVklTSUJJTElUWV9VTktOT1dOXCJdID0gMF0gPSBcIkRFRkFVTFRfU1lNQk9MX1ZJU0lCSUxJVFlfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcHJlLUVESVRJT05fMjAyNCwgYWxsIFVOU0VUIHZpc2liaWxpdHkgYXJlIGV4cG9ydC5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFWFBPUlRfQUxMID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W0ZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbXCJFWFBPUlRfQUxMXCJdID0gMV0gPSBcIkVYUE9SVF9BTExcIjtcbiAgICAvKipcbiAgICAgKiBBbGwgdG9wLWxldmVsIHN5bWJvbHMgZGVmYXVsdCB0byBleHBvcnQsIG5lc3RlZCBkZWZhdWx0IHRvIGxvY2FsLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVYUE9SVF9UT1BfTEVWRUwgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtcIkVYUE9SVF9UT1BfTEVWRUxcIl0gPSAyXSA9IFwiRVhQT1JUX1RPUF9MRVZFTFwiO1xuICAgIC8qKlxuICAgICAqIEFsbCBzeW1ib2xzIGRlZmF1bHQgdG8gbG9jYWwuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTE9DQUxfQUxMID0gMztcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W0ZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbXCJMT0NBTF9BTExcIl0gPSAzXSA9IFwiTE9DQUxfQUxMXCI7XG4gICAgLyoqXG4gICAgICogQWxsIHN5bWJvbHMgbG9jYWwgYnkgZGVmYXVsdC4gTmVzdGVkIHR5cGVzIGNhbm5vdCBiZSBleHBvcnRlZC5cbiAgICAgKiBXaXRoIHNwZWNpYWwgY2FzZSBjYXZlYXQgZm9yIG1lc3NhZ2UgeyBlbnVtIHt9IHJlc2VydmVkIDEgdG8gbWF4OyB9XG4gICAgICogVGhpcyBpcyB0aGUgcmVjb21tZW5kZWQgc2V0dGluZyBmb3IgbmV3IHByb3Rvcy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVFJJQ1QgPSA0O1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtcIlNUUklDVFwiXSA9IDRdID0gXCJTVFJJQ1RcIjtcbn0pKEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHkgfHwgKEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHkgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVmlzaWJpbGl0eUZlYXR1cmUuRGVmYXVsdFN5bWJvbFZpc2liaWxpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5U2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgMCwgMCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2VcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2U7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZSkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBGSUVMRF9QUkVTRU5DRV9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW1wiRklFTERfUFJFU0VOQ0VfVU5LTk9XTlwiXSA9IDBdID0gXCJGSUVMRF9QUkVTRU5DRV9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVYUExJQ0lUID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW1wiRVhQTElDSVRcIl0gPSAxXSA9IFwiRVhQTElDSVRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSU1QTElDSVQgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbXCJJTVBMSUNJVFwiXSA9IDJdID0gXCJJTVBMSUNJVFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMRUdBQ1lfUkVRVUlSRUQgPSAzO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbXCJMRUdBQ1lfUkVRVUlSRURcIl0gPSAzXSA9IFwiTEVHQUNZX1JFUVVJUkVEXCI7XG59KShGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UgfHwgKEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgMCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVudW1UeXBlXG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9FbnVtVHlwZTtcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9FbnVtVHlwZSkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFTlVNX1RZUEVfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9FbnVtVHlwZVtGZWF0dXJlU2V0X0VudW1UeXBlW1wiRU5VTV9UWVBFX1VOS05PV05cIl0gPSAwXSA9IFwiRU5VTV9UWVBFX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogT1BFTiA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9FbnVtVHlwZVtGZWF0dXJlU2V0X0VudW1UeXBlW1wiT1BFTlwiXSA9IDFdID0gXCJPUEVOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IENMT1NFRCA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9FbnVtVHlwZVtGZWF0dXJlU2V0X0VudW1UeXBlW1wiQ0xPU0VEXCJdID0gMl0gPSBcIkNMT1NFRFwiO1xufSkoRmVhdHVyZVNldF9FbnVtVHlwZSB8fCAoRmVhdHVyZVNldF9FbnVtVHlwZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbnVtVHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfRW51bVR5cGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCAxKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuUmVwZWF0ZWRGaWVsZEVuY29kaW5nXG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2Rpbmc7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFJFUEVBVEVEX0ZJRUxEX0VOQ09ESU5HX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nW0ZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nW1wiUkVQRUFURURfRklFTERfRU5DT0RJTkdfVU5LTk9XTlwiXSA9IDBdID0gXCJSRVBFQVRFRF9GSUVMRF9FTkNPRElOR19VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFBBQ0tFRCA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdbRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdbXCJQQUNLRURcIl0gPSAxXSA9IFwiUEFDS0VEXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVYUEFOREVEID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1tGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1tcIkVYUEFOREVEXCJdID0gMl0gPSBcIkVYUEFOREVEXCI7XG59KShGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZyB8fCAoRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmcgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuUmVwZWF0ZWRGaWVsZEVuY29kaW5nLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCAyKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVXRmOFZhbGlkYXRpb25cbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uO1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVURjhfVkFMSURBVElPTl9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uW0ZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25bXCJVVEY4X1ZBTElEQVRJT05fVU5LTk9XTlwiXSA9IDBdID0gXCJVVEY4X1ZBTElEQVRJT05fVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBWRVJJRlkgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25bRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbltcIlZFUklGWVwiXSA9IDJdID0gXCJWRVJJRllcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTk9ORSA9IDM7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbltGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uW1wiTk9ORVwiXSA9IDNdID0gXCJOT05FXCI7XG59KShGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uIHx8IChGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlV0ZjhWYWxpZGF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDMpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5NZXNzYWdlRW5jb2RpbmdcbiAqL1xuZXhwb3J0IHZhciBGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZztcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmcpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUVTU0FHRV9FTkNPRElOR19VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1tGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1tcIk1FU1NBR0VfRU5DT0RJTkdfVU5LTk9XTlwiXSA9IDBdID0gXCJNRVNTQUdFX0VOQ09ESU5HX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTEVOR1RIX1BSRUZJWEVEID0gMTtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1tGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1tcIkxFTkdUSF9QUkVGSVhFRFwiXSA9IDFdID0gXCJMRU5HVEhfUFJFRklYRURcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREVMSU1JVEVEID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1tGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1tcIkRFTElNSVRFRFwiXSA9IDJdID0gXCJERUxJTUlURURcIjtcbn0pKEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nIHx8IChGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZyA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5NZXNzYWdlRW5jb2RpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZ1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDQpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5Kc29uRm9ybWF0XG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9Kc29uRm9ybWF0O1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X0pzb25Gb3JtYXQpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSlNPTl9GT1JNQVRfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9Kc29uRm9ybWF0W0ZlYXR1cmVTZXRfSnNvbkZvcm1hdFtcIkpTT05fRk9STUFUX1VOS05PV05cIl0gPSAwXSA9IFwiSlNPTl9GT1JNQVRfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBBTExPVyA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9Kc29uRm9ybWF0W0ZlYXR1cmVTZXRfSnNvbkZvcm1hdFtcIkFMTE9XXCJdID0gMV0gPSBcIkFMTE9XXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExFR0FDWV9CRVNUX0VGRk9SVCA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9Kc29uRm9ybWF0W0ZlYXR1cmVTZXRfSnNvbkZvcm1hdFtcIkxFR0FDWV9CRVNUX0VGRk9SVFwiXSA9IDJdID0gXCJMRUdBQ1lfQkVTVF9FRkZPUlRcIjtcbn0pKEZlYXR1cmVTZXRfSnNvbkZvcm1hdCB8fCAoRmVhdHVyZVNldF9Kc29uRm9ybWF0ID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0Lkpzb25Gb3JtYXQuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X0pzb25Gb3JtYXRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCA1KTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW5mb3JjZU5hbWluZ1N0eWxlXG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGU7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVORk9SQ0VfTkFNSU5HX1NUWUxFX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlW0ZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlW1wiRU5GT1JDRV9OQU1JTkdfU1RZTEVfVU5LTk9XTlwiXSA9IDBdID0gXCJFTkZPUkNFX05BTUlOR19TVFlMRV9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUWUxFMjAyNCA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVbRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVbXCJTVFlMRTIwMjRcIl0gPSAxXSA9IFwiU1RZTEUyMDI0XCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUWUxFX0xFR0FDWSA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVbRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVbXCJTVFlMRV9MRUdBQ1lcIl0gPSAyXSA9IFwiU1RZTEVfTEVHQUNZXCI7XG59KShGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZSB8fCAoRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW5mb3JjZU5hbWluZ1N0eWxlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCA2KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0RGVmYXVsdHMuXG4gKiBVc2UgYGNyZWF0ZShGZWF0dXJlU2V0RGVmYXVsdHNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXREZWZhdWx0c1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXREZWZhdWx0cy5GZWF0dXJlU2V0RWRpdGlvbkRlZmF1bHQuXG4gKiBVc2UgYGNyZWF0ZShGZWF0dXJlU2V0RGVmYXVsdHNfRmVhdHVyZVNldEVkaXRpb25EZWZhdWx0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0RGVmYXVsdHNfRmVhdHVyZVNldEVkaXRpb25EZWZhdWx0U2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMCwgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uXG4gKiBVc2UgYGNyZWF0ZShTb3VyY2VDb2RlSW5mb1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU291cmNlQ29kZUluZm9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIxKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5cbiAqIFVzZSBgY3JlYXRlKFNvdXJjZUNvZGVJbmZvX0xvY2F0aW9uU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTb3VyY2VDb2RlSW5mb19Mb2NhdGlvblNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjEsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLlxuICogVXNlIGBjcmVhdGUoR2VuZXJhdGVkQ29kZUluZm9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEdlbmVyYXRlZENvZGVJbmZvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMik7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5cbiAqIFVzZSBgY3JlYXRlKEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIyLCAwKTtcbi8qKlxuICogUmVwcmVzZW50cyB0aGUgaWRlbnRpZmllZCBvYmplY3QncyBlZmZlY3Qgb24gdGhlIGVsZW1lbnQgaW4gdGhlIG9yaWdpbmFsXG4gKiAucHJvdG8gZmlsZS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5TZW1hbnRpY1xuICovXG5leHBvcnQgdmFyIEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWM7XG4oZnVuY3Rpb24gKEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWMpIHtcbiAgICAvKipcbiAgICAgKiBUaGVyZSBpcyBubyBlZmZlY3Qgb3IgdGhlIGVmZmVjdCBpcyBpbmRlc2NyaWJhYmxlLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE5PTkUgPSAwO1xuICAgICAqL1xuICAgIEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNbR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IGlzIHNldCBvciBvdGhlcndpc2UgbXV0YXRlZC5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTRVQgPSAxO1xuICAgICAqL1xuICAgIEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNbR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1tcIlNFVFwiXSA9IDFdID0gXCJTRVRcIjtcbiAgICAvKipcbiAgICAgKiBBbiBhbGlhcyB0byB0aGUgZWxlbWVudCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBBTElBUyA9IDI7XG4gICAgICovXG4gICAgR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1tHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljW1wiQUxJQVNcIl0gPSAyXSA9IFwiQUxJQVNcIjtcbn0pKEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWMgfHwgKEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWMgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uU2VtYW50aWMuXG4gKi9cbmV4cG9ydCBjb25zdCBHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMiwgMCwgMCk7XG4vKipcbiAqIFRoZSBmdWxsIHNldCBvZiBrbm93biBlZGl0aW9ucy5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRWRpdGlvblxuICovXG5leHBvcnQgdmFyIEVkaXRpb247XG4oZnVuY3Rpb24gKEVkaXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBBIHBsYWNlaG9sZGVyIGZvciBhbiB1bmtub3duIGVkaXRpb24gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OX1VOS05PV05cIl0gPSAwXSA9IFwiRURJVElPTl9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQSBwbGFjZWhvbGRlciBlZGl0aW9uIGZvciBzcGVjaWZ5aW5nIGRlZmF1bHQgYmVoYXZpb3JzICpiZWZvcmUqIGEgZmVhdHVyZVxuICAgICAqIHdhcyBmaXJzdCBpbnRyb2R1Y2VkLiAgVGhpcyBpcyBlZmZlY3RpdmVseSBhbiBcImluZmluaXRlIHBhc3RcIi5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OX0xFR0FDWSA9IDkwMDtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OX0xFR0FDWVwiXSA9IDkwMF0gPSBcIkVESVRJT05fTEVHQUNZXCI7XG4gICAgLyoqXG4gICAgICogTGVnYWN5IHN5bnRheCBcImVkaXRpb25zXCIuICBUaGVzZSBwcmUtZGF0ZSBlZGl0aW9ucywgYnV0IGJlaGF2ZSBtdWNoIGxpa2VcbiAgICAgKiBkaXN0aW5jdCBlZGl0aW9ucy4gIFRoZXNlIGNhbid0IGJlIHVzZWQgdG8gc3BlY2lmeSB0aGUgZWRpdGlvbiBvZiBwcm90b1xuICAgICAqIGZpbGVzLCBidXQgZmVhdHVyZSBkZWZpbml0aW9ucyBtdXN0IHN1cHBseSBwcm90bzIvcHJvdG8zIGRlZmF1bHRzIGZvclxuICAgICAqIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fUFJPVE8yID0gOTk4O1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fUFJPVE8yXCJdID0gOTk4XSA9IFwiRURJVElPTl9QUk9UTzJcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl9QUk9UTzMgPSA5OTk7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl9QUk9UTzNcIl0gPSA5OTldID0gXCJFRElUSU9OX1BST1RPM1wiO1xuICAgIC8qKlxuICAgICAqIEVkaXRpb25zIHRoYXQgaGF2ZSBiZWVuIHJlbGVhc2VkLiAgVGhlIHNwZWNpZmljIHZhbHVlcyBhcmUgYXJiaXRyYXJ5IGFuZFxuICAgICAqIHNob3VsZCBub3QgYmUgZGVwZW5kZWQgb24sIGJ1dCB0aGV5IHdpbGwgYWx3YXlzIGJlIHRpbWUtb3JkZXJlZCBmb3IgZWFzeVxuICAgICAqIGNvbXBhcmlzb24uXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl8yMDIzID0gMTAwMDtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzIwMjNcIl0gPSAxMDAwXSA9IFwiRURJVElPTl8yMDIzXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fMjAyNCA9IDEwMDE7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl8yMDI0XCJdID0gMTAwMV0gPSBcIkVESVRJT05fMjAyNFwiO1xuICAgIC8qKlxuICAgICAqIFBsYWNlaG9sZGVyIGVkaXRpb25zIGZvciB0ZXN0aW5nIGZlYXR1cmUgcmVzb2x1dGlvbi4gIFRoZXNlIHNob3VsZCBub3QgYmVcbiAgICAgKiB1c2VkIG9yIHJlbGllZCBvbiBvdXRzaWRlIG9mIHRlc3RzLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fMV9URVNUX09OTFkgPSAxO1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fMV9URVNUX09OTFlcIl0gPSAxXSA9IFwiRURJVElPTl8xX1RFU1RfT05MWVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzJfVEVTVF9PTkxZID0gMjtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzJfVEVTVF9PTkxZXCJdID0gMl0gPSBcIkVESVRJT05fMl9URVNUX09OTFlcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl85OTk5N19URVNUX09OTFkgPSA5OTk5NztcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzk5OTk3X1RFU1RfT05MWVwiXSA9IDk5OTk3XSA9IFwiRURJVElPTl85OTk5N19URVNUX09OTFlcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl85OTk5OF9URVNUX09OTFkgPSA5OTk5ODtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzk5OTk4X1RFU1RfT05MWVwiXSA9IDk5OTk4XSA9IFwiRURJVElPTl85OTk5OF9URVNUX09OTFlcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl85OTk5OV9URVNUX09OTFkgPSA5OTk5OTtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzk5OTk5X1RFU1RfT05MWVwiXSA9IDk5OTk5XSA9IFwiRURJVElPTl85OTk5OV9URVNUX09OTFlcIjtcbiAgICAvKipcbiAgICAgKiBQbGFjZWhvbGRlciBmb3Igc3BlY2lmeWluZyB1bmJvdW5kZWQgZWRpdGlvbiBzdXBwb3J0LiAgVGhpcyBzaG91bGQgb25seVxuICAgICAqIGV2ZXIgYmUgdXNlZCBieSBwbHVnaW5zIHRoYXQgY2FuIGV4cGVjdCB0byBuZXZlciByZXF1aXJlIGFueSBjaGFuZ2VzIHRvXG4gICAgICogc3VwcG9ydCBhIG5ldyBlZGl0aW9uLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fTUFYID0gMjE0NzQ4MzY0NztcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OX01BWFwiXSA9IDIxNDc0ODM2NDddID0gXCJFRElUSU9OX01BWFwiO1xufSkoRWRpdGlvbiB8fCAoRWRpdGlvbiA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRWRpdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEVkaXRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlICd2aXNpYmlsaXR5JyBvZiBhIHN5bWJvbCB3aXRoIHJlc3BlY3QgdG8gdGhlIHByb3RvIGltcG9ydFxuICogc3lzdGVtLiBTeW1ib2xzIGNhbiBvbmx5IGJlIGltcG9ydGVkIHdoZW4gdGhlIHZpc2liaWxpdHkgcnVsZXMgZG8gbm90IHByZXZlbnRcbiAqIGl0IChleDogbG9jYWwgc3ltYm9scyBjYW5ub3QgYmUgaW1wb3J0ZWQpLiAgVmlzaWJpbGl0eSBtb2RpZmllcnMgY2FuIG9ubHkgc2V0XG4gKiBvbiBgbWVzc2FnZWAgYW5kIGBlbnVtYCBhcyB0aGV5IGFyZSB0aGUgb25seSB0eXBlcyBhdmFpbGFibGUgdG8gYmUgcmVmZXJlbmNlZFxuICogZnJvbSBvdGhlciBmaWxlcy5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuU3ltYm9sVmlzaWJpbGl0eVxuICovXG5leHBvcnQgdmFyIFN5bWJvbFZpc2liaWxpdHk7XG4oZnVuY3Rpb24gKFN5bWJvbFZpc2liaWxpdHkpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVklTSUJJTElUWV9VTlNFVCA9IDA7XG4gICAgICovXG4gICAgU3ltYm9sVmlzaWJpbGl0eVtTeW1ib2xWaXNpYmlsaXR5W1wiVklTSUJJTElUWV9VTlNFVFwiXSA9IDBdID0gXCJWSVNJQklMSVRZX1VOU0VUXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFZJU0lCSUxJVFlfTE9DQUwgPSAxO1xuICAgICAqL1xuICAgIFN5bWJvbFZpc2liaWxpdHlbU3ltYm9sVmlzaWJpbGl0eVtcIlZJU0lCSUxJVFlfTE9DQUxcIl0gPSAxXSA9IFwiVklTSUJJTElUWV9MT0NBTFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBWSVNJQklMSVRZX0VYUE9SVCA9IDI7XG4gICAgICovXG4gICAgU3ltYm9sVmlzaWJpbGl0eVtTeW1ib2xWaXNpYmlsaXR5W1wiVklTSUJJTElUWV9FWFBPUlRcIl0gPSAyXSA9IFwiVklTSUJJTElUWV9FWFBPUlRcIjtcbn0pKFN5bWJvbFZpc2liaWxpdHkgfHwgKFN5bWJvbFZpc2liaWxpdHkgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLlN5bWJvbFZpc2liaWxpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTeW1ib2xWaXNpYmlsaXR5U2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxKTtcbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBzY2FsYXJaZXJvVmFsdWUgfSBmcm9tIFwiLi9yZWZsZWN0L3NjYWxhci5qc1wiO1xuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuaW1wb3J0IHsgQmluYXJ5UmVhZGVyLCBXaXJlVHlwZSB9IGZyb20gXCIuL3dpcmUvYmluYXJ5LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyB2YXJpbnQzMndyaXRlIH0gZnJvbSBcIi4vd2lyZS92YXJpbnQuanNcIjtcbi8vIERlZmF1bHQgb3B0aW9ucyBmb3IgcGFyc2luZyBiaW5hcnkgZGF0YS5cbmNvbnN0IHJlYWREZWZhdWx0cyA9IHtcbiAgICByZWFkVW5rbm93bkZpZWxkczogdHJ1ZSxcbn07XG5mdW5jdGlvbiBtYWtlUmVhZE9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWFkRGVmYXVsdHMpLCBvcHRpb25zKSA6IHJlYWREZWZhdWx0cztcbn1cbi8qKlxuICogUGFyc2Ugc2VyaWFsaXplZCBiaW5hcnkgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21CaW5hcnkoc2NoZW1hLCBieXRlcywgb3B0aW9ucykge1xuICAgIGNvbnN0IG1zZyA9IHJlZmxlY3Qoc2NoZW1hLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICByZWFkTWVzc2FnZShtc2csIG5ldyBCaW5hcnlSZWFkZXIoYnl0ZXMpLCBtYWtlUmVhZE9wdGlvbnMob3B0aW9ucyksIGZhbHNlLCBieXRlcy5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gbXNnLm1lc3NhZ2U7XG59XG4vKipcbiAqIFBhcnNlIGZyb20gYmluYXJ5IGRhdGEsIG1lcmdpbmcgZmllbGRzLlxuICpcbiAqIFJlcGVhdGVkIGZpZWxkcyBhcmUgYXBwZW5kZWQuIE1hcCBlbnRyaWVzIGFyZSBhZGRlZCwgb3ZlcndyaXRpbmdcbiAqIGV4aXN0aW5nIGtleXMuXG4gKlxuICogSWYgYSBtZXNzYWdlIGZpZWxkIGlzIGFscmVhZHkgcHJlc2VudCwgaXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGVcbiAqIG5ldyBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VGcm9tQmluYXJ5KHNjaGVtYSwgdGFyZ2V0LCBieXRlcywgb3B0aW9ucykge1xuICAgIHJlYWRNZXNzYWdlKHJlZmxlY3Qoc2NoZW1hLCB0YXJnZXQsIGZhbHNlKSwgbmV3IEJpbmFyeVJlYWRlcihieXRlcyksIG1ha2VSZWFkT3B0aW9ucyhvcHRpb25zKSwgZmFsc2UsIGJ5dGVzLmJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIElmIGBkZWxpbWl0ZWRgIGlzIGZhbHNlLCByZWFkIHRoZSBsZW5ndGggZ2l2ZW4gaW4gYGxlbmd0aE9yRGVsaW1pdGVkRmllbGROb2AuXG4gKlxuICogSWYgYGRlbGltaXRlZGAgaXMgdHJ1ZSwgcmVhZCB1bnRpbCBhbiBFbmRHcm91cCB0YWcuIGBsZW5ndGhPckRlbGltaXRlZEZpZWxkTm9gXG4gKiBpcyB0aGUgZXhwZWN0ZWQgZmllbGQgbnVtYmVyLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlYWRNZXNzYWdlKG1lc3NhZ2UsIHJlYWRlciwgb3B0aW9ucywgZGVsaW1pdGVkLCBsZW5ndGhPckRlbGltaXRlZEZpZWxkTm8pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZW5kID0gZGVsaW1pdGVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGhPckRlbGltaXRlZEZpZWxkTm87XG4gICAgbGV0IGZpZWxkTm87XG4gICAgbGV0IHdpcmVUeXBlO1xuICAgIGNvbnN0IHVua25vd25GaWVsZHMgPSAoX2EgPSBtZXNzYWdlLmdldFVua25vd24oKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgICAgaWYgKGRlbGltaXRlZCAmJiB3aXJlVHlwZSA9PSBXaXJlVHlwZS5FbmRHcm91cCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmllbGQgPSBtZXNzYWdlLmZpbmROdW1iZXIoZmllbGRObyk7XG4gICAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSwgZmllbGRObyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkcykge1xuICAgICAgICAgICAgICAgIHVua25vd25GaWVsZHMucHVzaCh7IG5vOiBmaWVsZE5vLCB3aXJlVHlwZSwgZGF0YSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlYWRGaWVsZChtZXNzYWdlLCByZWFkZXIsIGZpZWxkLCB3aXJlVHlwZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChkZWxpbWl0ZWQpIHtcbiAgICAgICAgaWYgKHdpcmVUeXBlICE9IFdpcmVUeXBlLkVuZEdyb3VwIHx8IGZpZWxkTm8gIT09IGxlbmd0aE9yRGVsaW1pdGVkRmllbGRObykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBlbmQgZ3JvdXAgdGFnXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh1bmtub3duRmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWVzc2FnZS5zZXRVbmtub3duKHVua25vd25GaWVsZHMpO1xuICAgIH1cbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRGaWVsZChtZXNzYWdlLCByZWFkZXIsIGZpZWxkLCB3aXJlVHlwZSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICBtZXNzYWdlLnNldChmaWVsZCwgcmVhZFNjYWxhcihyZWFkZXIsIGZpZWxkLnNjYWxhcikpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICBjb25zdCB2YWwgPSByZWFkU2NhbGFyKHJlYWRlciwgU2NhbGFyVHlwZS5JTlQzMik7XG4gICAgICAgICAgICBpZiAoZmllbGQuZW51bS5vcGVuKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXQoZmllbGQsIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvayA9IGZpZWxkLmVudW0udmFsdWVzLnNvbWUoKHYpID0+IHYubnVtYmVyID09PSB2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChvaykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNldChmaWVsZCwgdmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBieXRlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXJpbnQzMndyaXRlKHZhbCwgYnl0ZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bmtub3duRmllbGRzID0gKF9hID0gbWVzc2FnZS5nZXRVbmtub3duKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICB1bmtub3duRmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbm86IGZpZWxkLm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpcmVUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoYnl0ZXMpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRVbmtub3duKHVua25vd25GaWVsZHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgbWVzc2FnZS5zZXQoZmllbGQsIHJlYWRNZXNzYWdlRmllbGQocmVhZGVyLCBvcHRpb25zLCBmaWVsZCwgbWVzc2FnZS5nZXQoZmllbGQpKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIHJlYWRMaXN0RmllbGQocmVhZGVyLCB3aXJlVHlwZSwgbWVzc2FnZS5nZXQoZmllbGQpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICByZWFkTWFwRW50cnkocmVhZGVyLCBtZXNzYWdlLmdldChmaWVsZCksIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuLy8gUmVhZCBhIG1hcCBmaWVsZCwgZXhwZWN0aW5nIGtleSBmaWVsZCA9IDEsIHZhbHVlIGZpZWxkID0gMlxuZnVuY3Rpb24gcmVhZE1hcEVudHJ5KHJlYWRlciwgbWFwLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmllbGQgPSBtYXAuZmllbGQoKTtcbiAgICBsZXQga2V5O1xuICAgIGxldCB2YWw7XG4gICAgLy8gUmVhZCB0aGUgbGVuZ3RoIG9mIHRoZSBtYXAgZW50cnksIHdoaWNoIGlzIGEgdmFyaW50LlxuICAgIGNvbnN0IGxlbiA9IHJlYWRlci51aW50MzIoKTtcbiAgICAvLyBXQVJOSU5HOiBDYWxjdWxhdGUgZW5kIEFGVEVSIGFkdmFuY2luZyByZWFkZXIucG9zIChhYm92ZSksIHNvIHRoYXRcbiAgICAvLyAgICAgICAgICByZWFkZXIucG9zIGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgbWFwIGVudHJ5LlxuICAgIGNvbnN0IGVuZCA9IHJlYWRlci5wb3MgKyBsZW47XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgY29uc3QgW2ZpZWxkTm9dID0gcmVhZGVyLnRhZygpO1xuICAgICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBrZXkgPSByZWFkU2NhbGFyKHJlYWRlciwgZmllbGQubWFwS2V5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLm1hcEtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcmVhZFNjYWxhcihyZWFkZXIsIGZpZWxkLnNjYWxhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSByZWFkTWVzc2FnZUZpZWxkKHJlYWRlciwgb3B0aW9ucywgZmllbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXkgPSBzY2FsYXJaZXJvVmFsdWUoZmllbGQubWFwS2V5LCBmYWxzZSk7XG4gICAgfVxuICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLm1hcEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICB2YWwgPSBzY2FsYXJaZXJvVmFsdWUoZmllbGQuc2NhbGFyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkLmVudW0udmFsdWVzWzBdLm51bWJlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgdmFsID0gcmVmbGVjdChmaWVsZC5tZXNzYWdlLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXAuc2V0KGtleSwgdmFsKTtcbn1cbmZ1bmN0aW9uIHJlYWRMaXN0RmllbGQocmVhZGVyLCB3aXJlVHlwZSwgbGlzdCwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGQoKTtcbiAgICBpZiAoZmllbGQubGlzdEtpbmQgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIGxpc3QuYWRkKHJlYWRNZXNzYWdlRmllbGQocmVhZGVyLCBvcHRpb25zLCBmaWVsZCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjYWxhclR5cGUgPSAoX2EgPSBmaWVsZC5zY2FsYXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFNjYWxhclR5cGUuSU5UMzI7XG4gICAgY29uc3QgcGFja2VkID0gd2lyZVR5cGUgPT0gV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkICYmXG4gICAgICAgIHNjYWxhclR5cGUgIT0gU2NhbGFyVHlwZS5TVFJJTkcgJiZcbiAgICAgICAgc2NhbGFyVHlwZSAhPSBTY2FsYXJUeXBlLkJZVEVTO1xuICAgIGlmICghcGFja2VkKSB7XG4gICAgICAgIGxpc3QuYWRkKHJlYWRTY2FsYXIocmVhZGVyLCBzY2FsYXJUeXBlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZSA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlKSB7XG4gICAgICAgIGxpc3QuYWRkKHJlYWRTY2FsYXIocmVhZGVyLCBzY2FsYXJUeXBlKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZE1lc3NhZ2VGaWVsZChyZWFkZXIsIG9wdGlvbnMsIGZpZWxkLCBtZXJnZU1lc3NhZ2UpIHtcbiAgICBjb25zdCBkZWxpbWl0ZWQgPSBmaWVsZC5kZWxpbWl0ZWRFbmNvZGluZztcbiAgICBjb25zdCBtZXNzYWdlID0gbWVyZ2VNZXNzYWdlICE9PSBudWxsICYmIG1lcmdlTWVzc2FnZSAhPT0gdm9pZCAwID8gbWVyZ2VNZXNzYWdlIDogcmVmbGVjdChmaWVsZC5tZXNzYWdlLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICByZWFkTWVzc2FnZShtZXNzYWdlLCByZWFkZXIsIG9wdGlvbnMsIGRlbGltaXRlZCwgZGVsaW1pdGVkID8gZmllbGQubnVtYmVyIDogcmVhZGVyLnVpbnQzMigpKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHJlYWRTY2FsYXIocmVhZGVyLCB0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuYm9vbCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5mbG9hdCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmludDMyKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuaW50NjQoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIudWludDY0KCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5maXhlZDY0KCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmZpeGVkMzIoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zZml4ZWQzMigpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnNmaXhlZDY0KCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnNpbnQ2NCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuc2ludDMyKCk7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBiYXNlNjREZWNvZGUgfSBmcm9tIFwiLi4vd2lyZS9iYXNlNjQtZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEgfSBmcm9tIFwiLi4vd2t0L2dlbi9nb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvcl9wYi5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRmlsZVJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3JlZ2lzdHJ5LmpzXCI7XG5pbXBvcnQgeyByZXN0b3JlSnNvbk5hbWVzIH0gZnJvbSBcIi4vcmVzdG9yZS1qc29uLW5hbWVzLmpzXCI7XG5pbXBvcnQgeyBmcm9tQmluYXJ5IH0gZnJvbSBcIi4uL2Zyb20tYmluYXJ5LmpzXCI7XG4vKipcbiAqIEh5ZHJhdGUgYSBmaWxlIGRlc2NyaXB0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGVEZXNjKGI2NCwgaW1wb3J0cykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByb290ID0gZnJvbUJpbmFyeShGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hLCBiYXNlNjREZWNvZGUoYjY0KSk7XG4gICAgcm9vdC5tZXNzYWdlVHlwZS5mb3JFYWNoKHJlc3RvcmVKc29uTmFtZXMpO1xuICAgIHJvb3QuZGVwZW5kZW5jeSA9IChfYSA9IGltcG9ydHMgPT09IG51bGwgfHwgaW1wb3J0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1wb3J0cy5tYXAoKGYpID0+IGYucHJvdG8ubmFtZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIGNvbnN0IHJlZyA9IGNyZWF0ZUZpbGVSZWdpc3RyeShyb290LCAocHJvdG9GaWxlTmFtZSkgPT4gaW1wb3J0cyA9PT0gbnVsbCB8fCBpbXBvcnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbXBvcnRzLmZpbmQoKGYpID0+IGYucHJvdG8ubmFtZSA9PT0gcHJvdG9GaWxlTmFtZSkpO1xuICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N0eWxlL25vTm9uTnVsbEFzc2VydGlvbjogbm9uLW51bGwgYXNzZXJ0aW9uIGJlY2F1c2Ugd2UganVzdCBjcmVhdGVkIHRoZSByZWdpc3RyeSBmcm9tIHRoZSBmaWxlIHdlIGxvb2sgdXBcbiAgICByZXR1cm4gcmVnLmdldEZpbGUocm9vdC5uYW1lKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuaW1wb3J0IHsgQmluYXJ5V3JpdGVyLCBXaXJlVHlwZSB9IGZyb20gXCIuL3dpcmUvYmluYXJ5LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5MRUdBQ1lfUkVRVUlSRUQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBMRUdBQ1lfUkVRVUlSRUQgPSAzO1xuLy8gRGVmYXVsdCBvcHRpb25zIGZvciBzZXJpYWxpemluZyBiaW5hcnkgZGF0YS5cbmNvbnN0IHdyaXRlRGVmYXVsdHMgPSB7XG4gICAgd3JpdGVVbmtub3duRmllbGRzOiB0cnVlLFxufTtcbmZ1bmN0aW9uIG1ha2VXcml0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB3cml0ZURlZmF1bHRzKSwgb3B0aW9ucykgOiB3cml0ZURlZmF1bHRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvQmluYXJ5KHNjaGVtYSwgbWVzc2FnZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB3cml0ZUZpZWxkcyhuZXcgQmluYXJ5V3JpdGVyKCksIG1ha2VXcml0ZU9wdGlvbnMob3B0aW9ucyksIHJlZmxlY3Qoc2NoZW1hLCBtZXNzYWdlKSkuZmluaXNoKCk7XG59XG5mdW5jdGlvbiB3cml0ZUZpZWxkcyh3cml0ZXIsIG9wdHMsIG1zZykge1xuICAgIHZhciBfYTtcbiAgICBmb3IgKGNvbnN0IGYgb2YgbXNnLnNvcnRlZEZpZWxkcykge1xuICAgICAgICBpZiAoIW1zZy5pc1NldChmKSkge1xuICAgICAgICAgICAgaWYgKGYucHJlc2VuY2UgPT0gTEVHQUNZX1JFUVVJUkVEKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7Zn0gdG8gYmluYXJ5OiByZXF1aXJlZCBmaWVsZCBub3Qgc2V0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZUZpZWxkKHdyaXRlciwgb3B0cywgbXNnLCBmKTtcbiAgICB9XG4gICAgaWYgKG9wdHMud3JpdGVVbmtub3duRmllbGRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgeyBubywgd2lyZVR5cGUsIGRhdGEgfSBvZiAoX2EgPSBtc2cuZ2V0VW5rbm93bigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkge1xuICAgICAgICAgICAgd3JpdGVyLnRhZyhubywgd2lyZVR5cGUpLnJhdyhkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVGaWVsZCh3cml0ZXIsIG9wdHMsIG1zZywgZmllbGQpIHtcbiAgICB2YXIgX2E7XG4gICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgd3JpdGVTY2FsYXIod3JpdGVyLCBtc2cuZGVzYy50eXBlTmFtZSwgZmllbGQubmFtZSwgKF9hID0gZmllbGQuc2NhbGFyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTY2FsYXJUeXBlLklOVDMyLCBmaWVsZC5udW1iZXIsIG1zZy5nZXQoZmllbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgd3JpdGVMaXN0RmllbGQod3JpdGVyLCBvcHRzLCBmaWVsZCwgbXNnLmdldChmaWVsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICB3cml0ZU1lc3NhZ2VGaWVsZCh3cml0ZXIsIG9wdHMsIGZpZWxkLCBtc2cuZ2V0KGZpZWxkKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIG1zZy5nZXQoZmllbGQpKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVNYXBFbnRyeSh3cml0ZXIsIG9wdHMsIGZpZWxkLCBrZXksIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiB3cml0ZVNjYWxhcih3cml0ZXIsIG1zZ05hbWUsIGZpZWxkTmFtZSwgc2NhbGFyVHlwZSwgZmllbGRObywgdmFsdWUpIHtcbiAgICB3cml0ZVNjYWxhclZhbHVlKHdyaXRlci50YWcoZmllbGRObywgd3JpdGVUeXBlT2ZTY2FsYXIoc2NhbGFyVHlwZSkpLCBtc2dOYW1lLCBmaWVsZE5hbWUsIHNjYWxhclR5cGUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHdyaXRlTWVzc2FnZUZpZWxkKHdyaXRlciwgb3B0cywgZmllbGQsIG1lc3NhZ2UpIHtcbiAgICBpZiAoZmllbGQuZGVsaW1pdGVkRW5jb2RpbmcpIHtcbiAgICAgICAgd3JpdGVGaWVsZHMod3JpdGVyLnRhZyhmaWVsZC5udW1iZXIsIFdpcmVUeXBlLlN0YXJ0R3JvdXApLCBvcHRzLCBtZXNzYWdlKS50YWcoZmllbGQubnVtYmVyLCBXaXJlVHlwZS5FbmRHcm91cCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3cml0ZUZpZWxkcyh3cml0ZXIudGFnKGZpZWxkLm51bWJlciwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdHMsIG1lc3NhZ2UpLmpvaW4oKTtcbiAgICB9XG59XG5mdW5jdGlvbiB3cml0ZUxpc3RGaWVsZCh3cml0ZXIsIG9wdHMsIGZpZWxkLCBsaXN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChmaWVsZC5saXN0S2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgd3JpdGVNZXNzYWdlRmllbGQod3JpdGVyLCBvcHRzLCBmaWVsZCwgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzY2FsYXJUeXBlID0gKF9hID0gZmllbGQuc2NhbGFyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTY2FsYXJUeXBlLklOVDMyO1xuICAgIGlmIChmaWVsZC5wYWNrZWQpIHtcbiAgICAgICAgaWYgKCFsaXN0LnNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIudGFnKGZpZWxkLm51bWJlciwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgICAgICAgICB3cml0ZVNjYWxhclZhbHVlKHdyaXRlciwgZmllbGQucGFyZW50LnR5cGVOYW1lLCBmaWVsZC5uYW1lLCBzY2FsYXJUeXBlLCBpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIuam9pbigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgICAgIHdyaXRlU2NhbGFyKHdyaXRlciwgZmllbGQucGFyZW50LnR5cGVOYW1lLCBmaWVsZC5uYW1lLCBzY2FsYXJUeXBlLCBmaWVsZC5udW1iZXIsIGl0ZW0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyaXRlTWFwRW50cnkod3JpdGVyLCBvcHRzLCBmaWVsZCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICB3cml0ZXIudGFnKGZpZWxkLm51bWJlciwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCk7XG4gICAgLy8gd3JpdGUga2V5LCBleHBlY3Rpbmcga2V5IGZpZWxkIG51bWJlciA9IDFcbiAgICB3cml0ZVNjYWxhcih3cml0ZXIsIGZpZWxkLnBhcmVudC50eXBlTmFtZSwgZmllbGQubmFtZSwgZmllbGQubWFwS2V5LCAxLCBrZXkpO1xuICAgIC8vIHdyaXRlIHZhbHVlLCBleHBlY3RpbmcgdmFsdWUgZmllbGQgbnVtYmVyID0gMlxuICAgIHN3aXRjaCAoZmllbGQubWFwS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICB3cml0ZVNjYWxhcih3cml0ZXIsIGZpZWxkLnBhcmVudC50eXBlTmFtZSwgZmllbGQubmFtZSwgKF9hID0gZmllbGQuc2NhbGFyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTY2FsYXJUeXBlLklOVDMyLCAyLCB2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHdyaXRlRmllbGRzKHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdHMsIHZhbHVlKS5qb2luKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgd3JpdGVyLmpvaW4oKTtcbn1cbmZ1bmN0aW9uIHdyaXRlU2NhbGFyVmFsdWUod3JpdGVyLCBtc2dOYW1lLCBmaWVsZE5hbWUsIHR5cGUsIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgICAgIHdyaXRlci5zdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmJvb2wodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgICAgICAgICB3cml0ZXIuZG91YmxlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICB3cml0ZXIuZmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgICAgIHdyaXRlci5pbnQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmludDY0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQ2NCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgICAgICB3cml0ZXIuZml4ZWQ2NCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmJ5dGVzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICAgICAgICAgIHdyaXRlci5maXhlZDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgICAgICB3cml0ZXIuc2ZpeGVkMzIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgICAgIHdyaXRlci5zZml4ZWQ2NCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgICAgIHdyaXRlci5zaW50NjQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnNpbnQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlIGZpZWxkICR7bXNnTmFtZX0uJHtmaWVsZE5hbWV9IHRvIGJpbmFyeTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG59XG5mdW5jdGlvbiB3cml0ZVR5cGVPZlNjYWxhcih0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQ7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgICAgICByZXR1cm4gV2lyZVR5cGUuQml0NjQ7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiBXaXJlVHlwZS5CaXQzMjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBXaXJlVHlwZS5WYXJpbnQ7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEh5ZHJhdGUgYW4gZXh0ZW5zaW9uIGRlc2NyaXB0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dERlc2MoZmlsZSwgcGF0aCwgLi4ucGF0aHMpIHtcbiAgICBpZiAocGF0aHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuIGZpbGUuZXh0ZW5zaW9uc1twYXRoXTtcbiAgICB9XG4gICAgY29uc3QgZSA9IHBhdGhzLnBvcCgpOyAvLyB3ZSBjaGVja2VkIGxlbmd0aCBhYm92ZVxuICAgIHJldHVybiBwYXRocy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MubmVzdGVkTWVzc2FnZXNbY3VyXSwgZmlsZS5tZXNzYWdlc1twYXRoXSkubmVzdGVkRXh0ZW5zaW9uc1tlXTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgc2NhbGFyRXF1YWxzIH0gZnJvbSBcIi4vcmVmbGVjdC9zY2FsYXIuanNcIjtcbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IGFueVVucGFjayB9IGZyb20gXCIuL3drdC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyLCBnZXRFeHRlbnNpb24gfSBmcm9tIFwiLi9leHRlbnNpb25zLmpzXCI7XG4vKipcbiAqIENvbXBhcmUgdHdvIG1lc3NhZ2VzIG9mIHRoZSBzYW1lIHR5cGUuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gZGlzcmVnYXJkcyBleHRlbnNpb25zIGFuZCB1bmtub3duIGZpZWxkcywgYW5kIHRoYXRcbiAqIE5hTiBpcyBub3QgZXF1YWwgTmFOLCBmb2xsb3dpbmcgdGhlIElFRUUgc3RhbmRhcmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoc2NoZW1hLCBhLCBiLCBvcHRpb25zKSB7XG4gICAgaWYgKGEuJHR5cGVOYW1lICE9IHNjaGVtYS50eXBlTmFtZSB8fCBiLiR0eXBlTmFtZSAhPSBzY2hlbWEudHlwZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZmxlY3RFcXVhbHMocmVmbGVjdChzY2hlbWEsIGEpLCByZWZsZWN0KHNjaGVtYSwgYiksIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVmbGVjdEVxdWFscyhhLCBiLCBvcHRzKSB7XG4gICAgaWYgKGEuZGVzYy50eXBlTmFtZSA9PT0gXCJnb29nbGUucHJvdG9idWYuQW55XCIgJiYgKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy51bnBhY2tBbnkpID09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGFueVVucGFja2VkRXF1YWxzKGEubWVzc2FnZSwgYi5tZXNzYWdlLCBvcHRzKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBmIG9mIGEuZmllbGRzKSB7XG4gICAgICAgIGlmICghZmllbGRFcXVhbHMoZiwgYSwgYiwgb3B0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy51bmtub3duKSA9PSB0cnVlICYmICF1bmtub3duRXF1YWxzKGEsIGIsIG9wdHMucmVnaXN0cnkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuZXh0ZW5zaW9ucykgPT0gdHJ1ZSAmJiAhZXh0ZW5zaW9uc0VxdWFscyhhLCBiLCBvcHRzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8gVE9ETyh0c3RhbW0pIGFkZCBhbiBvcHRpb24gdG8gY29uc2lkZXIgTmFOIGVxdWFsIHRvIE5hTj9cbmZ1bmN0aW9uIGZpZWxkRXF1YWxzKGYsIGEsIGIsIG9wdHMpIHtcbiAgICBpZiAoIWEuaXNTZXQoZikgJiYgIWIuaXNTZXQoZikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghYS5pc1NldChmKSB8fCAhYi5pc1NldChmKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAoZi5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgcmV0dXJuIHNjYWxhckVxdWFscyhmLnNjYWxhciwgYS5nZXQoZiksIGIuZ2V0KGYpKTtcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJldHVybiBhLmdldChmKSA9PT0gYi5nZXQoZik7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZXR1cm4gcmVmbGVjdEVxdWFscyhhLmdldChmKSwgYi5nZXQoZiksIG9wdHMpO1xuICAgICAgICBjYXNlIFwibWFwXCI6IHtcbiAgICAgICAgICAgIC8vIFRPRE8odHN0YW1tKSBjYW4ndCB3ZSBjb21wYXJlIHNpemVzIGZpcnN0P1xuICAgICAgICAgICAgY29uc3QgbWFwQSA9IGEuZ2V0KGYpO1xuICAgICAgICAgICAgY29uc3QgbWFwQiA9IGIuZ2V0KGYpO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrIG9mIG1hcEEua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXBCLmhhcyhrKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBtYXBCLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwQS5oYXMoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YSA9IG1hcEEuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmIgPSBtYXBCLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmICh2YSA9PT0gdmIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZi5tYXBLaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZmxlY3RFcXVhbHModmEsIHZiLCBvcHRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNjYWxhckVxdWFscyhmLnNjYWxhciwgdmEsIHZiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RBID0gYS5nZXQoZik7XG4gICAgICAgICAgICBjb25zdCBsaXN0QiA9IGIuZ2V0KGYpO1xuICAgICAgICAgICAgaWYgKGxpc3RBLnNpemUgIT0gbGlzdEIuc2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdEEuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmEgPSBsaXN0QS5nZXQoaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmIgPSBsaXN0Qi5nZXQoaSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhID09PSB2Yikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmLmxpc3RLaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZmxlY3RFcXVhbHModmEsIHZiLCBvcHRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNjYWxhckVxdWFscyhmLnNjYWxhciwgdmEsIHZiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYW55VW5wYWNrZWRFcXVhbHMoYSwgYiwgb3B0cykge1xuICAgIGlmIChhLnR5cGVVcmwgIT09IGIudHlwZVVybCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHVucGFja2VkQSA9IGFueVVucGFjayhhLCBvcHRzLnJlZ2lzdHJ5KTtcbiAgICBjb25zdCB1bnBhY2tlZEIgPSBhbnlVbnBhY2soYiwgb3B0cy5yZWdpc3RyeSk7XG4gICAgaWYgKHVucGFja2VkQSAmJiB1bnBhY2tlZEIpIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gb3B0cy5yZWdpc3RyeS5nZXRNZXNzYWdlKHVucGFja2VkQS4kdHlwZU5hbWUpO1xuICAgICAgICBpZiAoc2NoZW1hKSB7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxzKHNjaGVtYSwgdW5wYWNrZWRBLCB1bnBhY2tlZEIsIG9wdHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY2FsYXJFcXVhbHMoU2NhbGFyVHlwZS5CWVRFUywgYS52YWx1ZSwgYi52YWx1ZSk7XG59XG5mdW5jdGlvbiB1bmtub3duRXF1YWxzKGEsIGIsIHJlZ2lzdHJ5KSB7XG4gICAgZnVuY3Rpb24gZ2V0VHJ1bHlVbmtub3duKG1zZywgcmVnaXN0cnkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB1ID0gKF9hID0gbXNnLmdldFVua25vd24oKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgIHJldHVybiByZWdpc3RyeVxuICAgICAgICAgICAgPyB1LmZpbHRlcigodWYpID0+ICFyZWdpc3RyeS5nZXRFeHRlbnNpb25Gb3IobXNnLmRlc2MsIHVmLm5vKSlcbiAgICAgICAgICAgIDogdTtcbiAgICB9XG4gICAgY29uc3QgdW5rbm93bkEgPSBnZXRUcnVseVVua25vd24oYSwgcmVnaXN0cnkpO1xuICAgIGNvbnN0IHVua25vd25CID0gZ2V0VHJ1bHlVbmtub3duKGIsIHJlZ2lzdHJ5KTtcbiAgICBpZiAodW5rbm93bkEubGVuZ3RoICE9IHVua25vd25CLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5rbm93bkEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IHVua25vd25BW2ldO1xuICAgICAgICBjb25zdCBiID0gdW5rbm93bkJbaV07XG4gICAgICAgIGlmIChhLm5vICE9IGIubm8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS53aXJlVHlwZSAhPSBiLndpcmVUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzY2FsYXJFcXVhbHMoU2NhbGFyVHlwZS5CWVRFUywgYS5kYXRhLCBiLmRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBleHRlbnNpb25zRXF1YWxzKGEsIGIsIG9wdHMpIHtcbiAgICBmdW5jdGlvbiBnZXRTZXRFeHRlbnNpb25zKG1zZywgcmVnaXN0cnkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKChfYSA9IG1zZy5nZXRVbmtub3duKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKVxuICAgICAgICAgICAgLm1hcCgodWYpID0+IHJlZ2lzdHJ5LmdldEV4dGVuc2lvbkZvcihtc2cuZGVzYywgdWYubm8pKVxuICAgICAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICAuZmlsdGVyKChlLCBpbmRleCwgYXJyKSA9PiBhcnIuaW5kZXhPZihlKSA9PT0gaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCBleHRlbnNpb25zQSA9IGdldFNldEV4dGVuc2lvbnMoYSwgb3B0cy5yZWdpc3RyeSk7XG4gICAgY29uc3QgZXh0ZW5zaW9uc0IgPSBnZXRTZXRFeHRlbnNpb25zKGIsIG9wdHMucmVnaXN0cnkpO1xuICAgIGlmIChleHRlbnNpb25zQS5sZW5ndGggIT0gZXh0ZW5zaW9uc0IubGVuZ3RoIHx8XG4gICAgICAgIGV4dGVuc2lvbnNBLnNvbWUoKGUpID0+ICFleHRlbnNpb25zQi5pbmNsdWRlcyhlKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBleHRlbnNpb25zQSkge1xuICAgICAgICBjb25zdCBbY29udGFpbmVyQSwgZmllbGRdID0gY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGV4dGVuc2lvbiwgZ2V0RXh0ZW5zaW9uKGEubWVzc2FnZSwgZXh0ZW5zaW9uKSk7XG4gICAgICAgIGNvbnN0IFtjb250YWluZXJCXSA9IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lcihleHRlbnNpb24sIGdldEV4dGVuc2lvbihiLm1lc3NhZ2UsIGV4dGVuc2lvbikpO1xuICAgICAgICBpZiAoIWZpZWxkRXF1YWxzKGZpZWxkLCBjb250YWluZXJBLCBjb250YWluZXJCLCBvcHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyB1bnNhZmVDbGVhciwgdW5zYWZlSXNTZXQgfSBmcm9tIFwiLi9yZWZsZWN0L3Vuc2FmZS5qc1wiO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZpZWxkIGlzIHNldC5cbiAqXG4gKiAtIFNjYWxhciBhbmQgZW51bSBmaWVsZHMgd2l0aCBpbXBsaWNpdCBwcmVzZW5jZSAocHJvdG8zKTpcbiAqICAgU2V0IGlmIG5vdCBhIHplcm8gdmFsdWUuXG4gKlxuICogLSBTY2FsYXIgYW5kIGVudW0gZmllbGRzIHdpdGggZXhwbGljaXQgcHJlc2VuY2UgKHByb3RvMiwgb25lb2YpOlxuICogICBTZXQgaWYgYSB2YWx1ZSB3YXMgc2V0IHdoZW4gY3JlYXRpbmcgb3IgcGFyc2luZyB0aGUgbWVzc2FnZSwgb3Igd2hlbiBhXG4gKiAgIHZhbHVlIHdhcyBhc3NpZ25lZCB0byB0aGUgZmllbGQncyBwcm9wZXJ0eS5cbiAqXG4gKiAtIE1lc3NhZ2UgZmllbGRzOlxuICogICBTZXQgaWYgdGhlIHByb3BlcnR5IGlzIG5vdCB1bmRlZmluZWQuXG4gKlxuICogLSBMaXN0IGFuZCBtYXAgZmllbGRzOlxuICogICBTZXQgaWYgbm90IGVtcHR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGaWVsZFNldChtZXNzYWdlLCBmaWVsZCkge1xuICAgIHJldHVybiAoZmllbGQucGFyZW50LnR5cGVOYW1lID09IG1lc3NhZ2UuJHR5cGVOYW1lICYmIHVuc2FmZUlzU2V0KG1lc3NhZ2UsIGZpZWxkKSk7XG59XG4vKipcbiAqIFJlc2V0cyB0aGUgZmllbGQsIHNvIHRoYXQgaXNGaWVsZFNldCgpIHdpbGwgcmV0dXJuIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJGaWVsZChtZXNzYWdlLCBmaWVsZCkge1xuICAgIGlmIChmaWVsZC5wYXJlbnQudHlwZU5hbWUgPT0gbWVzc2FnZS4kdHlwZU5hbWUpIHtcbiAgICAgICAgdW5zYWZlQ2xlYXIobWVzc2FnZSwgZmllbGQpO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgcHJvdG9DYW1lbENhc2UgfSBmcm9tIFwiLi9yZWZsZWN0L25hbWVzLmpzXCI7XG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG5pbXBvcnQgeyBhbnlVbnBhY2sgfSBmcm9tIFwiLi93a3QvaW5kZXguanNcIjtcbmltcG9ydCB7IGlzV3JhcHBlckRlc2MgfSBmcm9tIFwiLi93a3Qvd3JhcHBlcnMuanNcIjtcbmltcG9ydCB7IGJhc2U2NEVuY29kZSB9IGZyb20gXCIuL3dpcmUvaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lciwgZ2V0RXh0ZW5zaW9uIH0gZnJvbSBcIi4vZXh0ZW5zaW9ucy5qc1wiO1xuaW1wb3J0IHsgY2hlY2tGaWVsZCwgZm9ybWF0VmFsIH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LWNoZWNrLmpzXCI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuTEVHQUNZX1JFUVVJUkVEOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgTEVHQUNZX1JFUVVJUkVEID0gMztcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5JTVBMSUNJVDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IElNUExJQ0lUID0gMjtcbi8vIERlZmF1bHQgb3B0aW9ucyBmb3Igc2VyaWFsaXppbmcgdG8gSlNPTi5cbmNvbnN0IGpzb25Xcml0ZURlZmF1bHRzID0ge1xuICAgIGFsd2F5c0VtaXRJbXBsaWNpdDogZmFsc2UsXG4gICAgZW51bUFzSW50ZWdlcjogZmFsc2UsXG4gICAgdXNlUHJvdG9GaWVsZE5hbWU6IGZhbHNlLFxufTtcbmZ1bmN0aW9uIG1ha2VXcml0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBqc29uV3JpdGVEZWZhdWx0cyksIG9wdGlvbnMpIDoganNvbldyaXRlRGVmYXVsdHM7XG59XG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgbWVzc2FnZSB0byBhIEpTT04gdmFsdWUsIGEgSmF2YVNjcmlwdCB2YWx1ZSB0aGF0IGNhbiBiZVxuICogcGFzc2VkIHRvIEpTT04uc3RyaW5naWZ5KCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0pzb24oc2NoZW1hLCBtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJlZmxlY3RUb0pzb24ocmVmbGVjdChzY2hlbWEsIG1lc3NhZ2UpLCBtYWtlV3JpdGVPcHRpb25zKG9wdGlvbnMpKTtcbn1cbi8qKlxuICogU2VyaWFsaXplIHRoZSBtZXNzYWdlIHRvIGEgSlNPTiBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0pzb25TdHJpbmcoc2NoZW1hLCBtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGpzb25WYWx1ZSA9IHRvSnNvbihzY2hlbWEsIG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uVmFsdWUsIG51bGwsIChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmV0dHlTcGFjZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgYSBzaW5nbGUgZW51bSB2YWx1ZSB0byBKU09OLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW51bVRvSnNvbihkZXNjRW51bSwgdmFsdWUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGRlc2NFbnVtLnR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZVwiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gKF9hID0gZGVzY0VudW0udmFsdWVbdmFsdWVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZTtcbiAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt2YWx1ZX0gaXMgbm90IGEgdmFsdWUgaW4gJHtkZXNjRW51bX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiByZWZsZWN0VG9Kc29uKG1zZywgb3B0cykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB3a3RKc29uID0gdHJ5V2t0VG9Kc29uKG1zZywgb3B0cyk7XG4gICAgaWYgKHdrdEpzb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHdrdEpzb247XG4gICAgY29uc3QganNvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgZiBvZiBtc2cuc29ydGVkRmllbGRzKSB7XG4gICAgICAgIGlmICghbXNnLmlzU2V0KGYpKSB7XG4gICAgICAgICAgICBpZiAoZi5wcmVzZW5jZSA9PSBMRUdBQ1lfUkVRVUlSRUQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmfSB0byBKU09OOiByZXF1aXJlZCBmaWVsZCBub3Qgc2V0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdHMuYWx3YXlzRW1pdEltcGxpY2l0IHx8IGYucHJlc2VuY2UgIT09IElNUExJQ0lUKSB7XG4gICAgICAgICAgICAgICAgLy8gRmllbGRzIHdpdGggaW1wbGljaXQgcHJlc2VuY2Ugb21pdCB6ZXJvIHZhbHVlcyAoZS5nLiBlbXB0eSBzdHJpbmcpIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqc29uVmFsdWUgPSBmaWVsZFRvSnNvbihmLCBtc2cuZ2V0KGYpLCBvcHRzKTtcbiAgICAgICAgaWYgKGpzb25WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBqc29uW2pzb25OYW1lKGYsIG9wdHMpXSA9IGpzb25WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0cy5yZWdpc3RyeSkge1xuICAgICAgICBjb25zdCB0YWdTZWVuID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHsgbm8gfSBvZiAoX2EgPSBtc2cuZ2V0VW5rbm93bigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkge1xuICAgICAgICAgICAgLy8gU2FtZSB0YWcgY2FuIGFwcGVhciBtdWx0aXBsZSB0aW1lcywgc28gd2VcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgYW5kIHNraXAgaWRlbnRpY2FsIG9uZXMuXG4gICAgICAgICAgICBpZiAoIXRhZ1NlZW4uaGFzKG5vKSkge1xuICAgICAgICAgICAgICAgIHRhZ1NlZW4uYWRkKG5vKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbnNpb24gPSBvcHRzLnJlZ2lzdHJ5LmdldEV4dGVuc2lvbkZvcihtc2cuZGVzYywgbm8pO1xuICAgICAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldEV4dGVuc2lvbihtc2cubWVzc2FnZSwgZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBbY29udGFpbmVyLCBmaWVsZF0gPSBjcmVhdGVFeHRlbnNpb25Db250YWluZXIoZXh0ZW5zaW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QganNvblZhbHVlID0gZmllbGRUb0pzb24oZmllbGQsIGNvbnRhaW5lci5nZXQoZmllbGQpLCBvcHRzKTtcbiAgICAgICAgICAgICAgICBpZiAoanNvblZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAganNvbltleHRlbnNpb24uanNvbk5hbWVdID0ganNvblZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmZ1bmN0aW9uIGZpZWxkVG9Kc29uKGYsIHZhbCwgb3B0cykge1xuICAgIHN3aXRjaCAoZi5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgcmV0dXJuIHNjYWxhclRvSnNvbihmLCB2YWwpO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3RUb0pzb24odmFsLCBvcHRzKTtcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJldHVybiBlbnVtVG9Kc29uSW50ZXJuYWwoZi5lbnVtLCB2YWwsIG9wdHMuZW51bUFzSW50ZWdlcik7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICByZXR1cm4gbGlzdFRvSnNvbih2YWwsIG9wdHMpO1xuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICByZXR1cm4gbWFwVG9Kc29uKHZhbCwgb3B0cyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwVG9Kc29uKG1hcCwgb3B0cykge1xuICAgIGNvbnN0IGYgPSBtYXAuZmllbGQoKTtcbiAgICBjb25zdCBqc29uT2JqID0ge307XG4gICAgc3dpdGNoIChmLm1hcEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50cnlLZXksIGVudHJ5VmFsdWVdIG9mIG1hcCkge1xuICAgICAgICAgICAgICAgIGpzb25PYmpbZW50cnlLZXldID0gc2NhbGFyVG9Kc29uKGYsIGVudHJ5VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRyeUtleSwgZW50cnlWYWx1ZV0gb2YgbWFwKSB7XG4gICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleV0gPSByZWZsZWN0VG9Kc29uKGVudHJ5VmFsdWUsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRyeUtleSwgZW50cnlWYWx1ZV0gb2YgbWFwKSB7XG4gICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleV0gPSBlbnVtVG9Kc29uSW50ZXJuYWwoZi5lbnVtLCBlbnRyeVZhbHVlLCBvcHRzLmVudW1Bc0ludGVnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBvcHRzLmFsd2F5c0VtaXRJbXBsaWNpdCB8fCBtYXAuc2l6ZSA+IDAgPyBqc29uT2JqIDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gbGlzdFRvSnNvbihsaXN0LCBvcHRzKSB7XG4gICAgY29uc3QgZiA9IGxpc3QuZmllbGQoKTtcbiAgICBjb25zdCBqc29uQXJyID0gW107XG4gICAgc3dpdGNoIChmLmxpc3RLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgICAgICAgICAgICAganNvbkFyci5wdXNoKHNjYWxhclRvSnNvbihmLCBpdGVtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgICAgICAgICAgICAganNvbkFyci5wdXNoKGVudW1Ub0pzb25JbnRlcm5hbChmLmVudW0sIGl0ZW0sIG9wdHMuZW51bUFzSW50ZWdlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgICAgIGpzb25BcnIucHVzaChyZWZsZWN0VG9Kc29uKGl0ZW0sIG9wdHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gb3B0cy5hbHdheXNFbWl0SW1wbGljaXQgfHwganNvbkFyci5sZW5ndGggPiAwID8ganNvbkFyciA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGVudW1Ub0pzb25JbnRlcm5hbChkZXNjLCB2YWx1ZSwgZW51bUFzSW50ZWdlcikge1xuICAgIHZhciBfYTtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZGVzY30gdG8gSlNPTjogZXhwZWN0ZWQgbnVtYmVyLCBnb3QgJHtmb3JtYXRWYWwodmFsdWUpfWApO1xuICAgIH1cbiAgICBpZiAoZGVzYy50eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWVcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGVudW1Bc0ludGVnZXIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB2YWwgPSBkZXNjLnZhbHVlW3ZhbHVlXTtcbiAgICByZXR1cm4gKF9hID0gdmFsID09PSBudWxsIHx8IHZhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsLm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHZhbHVlOyAvLyBpZiB3ZSBkb24ndCBrbm93IHRoZSBlbnVtIHZhbHVlLCBqdXN0IHJldHVybiB0aGUgbnVtYmVyXG59XG5mdW5jdGlvbiBzY2FsYXJUb0pzb24oZmllbGQsIHZhbHVlKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgc3dpdGNoIChmaWVsZC5zY2FsYXIpIHtcbiAgICAgICAgLy8gaW50MzIsIGZpeGVkMzIsIHVpbnQzMjogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBudW1iZXIuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmaWVsZH0gdG8gSlNPTjogJHsoX2EgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAvLyBmbG9hdCwgZG91YmxlOiBKU09OIHZhbHVlIHdpbGwgYmUgYSBudW1iZXIgb3Igb25lIG9mIHRoZSBzcGVjaWFsIHN0cmluZyB2YWx1ZXMgXCJOYU5cIiwgXCJJbmZpbml0eVwiLCBhbmQgXCItSW5maW5pdHlcIi5cbiAgICAgICAgLy8gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuIEV4cG9uZW50IG5vdGF0aW9uIGlzIGFsc28gYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZmllbGR9IHRvIEpTT046ICR7KF9iID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5maW5pdHlcIjtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIi1JbmZpbml0eVwiO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAvLyBzdHJpbmc6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmaWVsZH0gdG8gSlNPTjogJHsoX2MgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAvLyBib29sOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmaWVsZH0gdG8gSlNPTjogJHsoX2QgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAvLyBKU09OIHZhbHVlIHdpbGwgYmUgYSBkZWNpbWFsIHN0cmluZy4gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJiaWdpbnRcIiAmJiB0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2ZpZWxkfSB0byBKU09OOiAkeyhfZSA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gYnl0ZXM6IEpTT04gdmFsdWUgd2lsbCBiZSB0aGUgZGF0YSBlbmNvZGVkIGFzIGEgc3RyaW5nIHVzaW5nIHN0YW5kYXJkIGJhc2U2NCBlbmNvZGluZyB3aXRoIHBhZGRpbmdzLlxuICAgICAgICAvLyBFaXRoZXIgc3RhbmRhcmQgb3IgVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nIHdpdGgvd2l0aG91dCBwYWRkaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2ZpZWxkfSB0byBKU09OOiAkeyhfZiA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLm1lc3NhZ2V9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24ganNvbk5hbWUoZiwgb3B0cykge1xuICAgIHJldHVybiBvcHRzLnVzZVByb3RvRmllbGROYW1lID8gZi5uYW1lIDogZi5qc29uTmFtZTtcbn1cbi8vIHJldHVybnMgYSBqc29uIHZhbHVlIGlmIHdrdCwgb3RoZXJ3aXNlIHJldHVybnMgdW5kZWZpbmVkLlxuZnVuY3Rpb24gdHJ5V2t0VG9Kc29uKG1zZywgb3B0cykge1xuICAgIGlmICghbXNnLmRlc2MudHlwZU5hbWUuc3RhcnRzV2l0aChcImdvb2dsZS5wcm90b2J1Zi5cIikpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc3dpdGNoIChtc2cuZGVzYy50eXBlTmFtZSkge1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkFueVwiOlxuICAgICAgICAgICAgcmV0dXJuIGFueVRvSnNvbihtc2cubWVzc2FnZSwgb3B0cyk7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuVGltZXN0YW1wXCI6XG4gICAgICAgICAgICByZXR1cm4gdGltZXN0YW1wVG9Kc29uKG1zZy5tZXNzYWdlKTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIGR1cmF0aW9uVG9Kc29uKG1zZy5tZXNzYWdlKTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5GaWVsZE1hc2tcIjpcbiAgICAgICAgICAgIHJldHVybiBmaWVsZE1hc2tUb0pzb24obXNnLm1lc3NhZ2UpO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFwiOlxuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdFRvSnNvbihtc2cubWVzc2FnZSk7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVRvSnNvbihtc2cubWVzc2FnZSk7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gbGlzdFZhbHVlVG9Kc29uKG1zZy5tZXNzYWdlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChpc1dyYXBwZXJEZXNjKG1zZy5kZXNjKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlRmllbGQgPSBtc2cuZGVzYy5maWVsZHNbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjYWxhclRvSnNvbih2YWx1ZUZpZWxkLCBtc2cuZ2V0KHZhbHVlRmllbGQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYW55VG9Kc29uKHZhbCwgb3B0cykge1xuICAgIGlmICh2YWwudHlwZVVybCA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IHsgcmVnaXN0cnkgfSA9IG9wdHM7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgbGV0IGRlc2M7XG4gICAgaWYgKHJlZ2lzdHJ5KSB7XG4gICAgICAgIG1lc3NhZ2UgPSBhbnlVbnBhY2sodmFsLCByZWdpc3RyeSk7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBkZXNjID0gcmVnaXN0cnkuZ2V0TWVzc2FnZShtZXNzYWdlLiR0eXBlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFkZXNjIHx8ICFtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSBtZXNzYWdlICR7dmFsLiR0eXBlTmFtZX0gdG8gSlNPTjogXCIke3ZhbC50eXBlVXJsfVwiIGlzIG5vdCBpbiB0aGUgdHlwZSByZWdpc3RyeWApO1xuICAgIH1cbiAgICBsZXQganNvbiA9IHJlZmxlY3RUb0pzb24ocmVmbGVjdChkZXNjLCBtZXNzYWdlKSwgb3B0cyk7XG4gICAgaWYgKGRlc2MudHlwZU5hbWUuc3RhcnRzV2l0aChcImdvb2dsZS5wcm90b2J1Zi5cIikgfHxcbiAgICAgICAganNvbiA9PT0gbnVsbCB8fFxuICAgICAgICBBcnJheS5pc0FycmF5KGpzb24pIHx8XG4gICAgICAgIHR5cGVvZiBqc29uICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGpzb24gPSB7IHZhbHVlOiBqc29uIH07XG4gICAgfVxuICAgIGpzb25bXCJAdHlwZVwiXSA9IHZhbC50eXBlVXJsO1xuICAgIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gZHVyYXRpb25Ub0pzb24odmFsKSB7XG4gICAgaWYgKE51bWJlcih2YWwuc2Vjb25kcykgPiAzMTU1NzYwMDAwMDAgfHxcbiAgICAgICAgTnVtYmVyKHZhbC5zZWNvbmRzKSA8IC0zMTU1NzYwMDAwMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlIG1lc3NhZ2UgJHt2YWwuJHR5cGVOYW1lfSB0byBKU09OOiB2YWx1ZSBvdXQgb2YgcmFuZ2VgKTtcbiAgICB9XG4gICAgbGV0IHRleHQgPSB2YWwuc2Vjb25kcy50b1N0cmluZygpO1xuICAgIGlmICh2YWwubmFub3MgIT09IDApIHtcbiAgICAgICAgbGV0IG5hbm9zU3RyID0gTWF0aC5hYnModmFsLm5hbm9zKS50b1N0cmluZygpO1xuICAgICAgICBuYW5vc1N0ciA9IFwiMFwiLnJlcGVhdCg5IC0gbmFub3NTdHIubGVuZ3RoKSArIG5hbm9zU3RyO1xuICAgICAgICBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDMpID09PSBcIjAwMDAwMFwiKSB7XG4gICAgICAgICAgICBuYW5vc1N0ciA9IG5hbm9zU3RyLnN1YnN0cmluZygwLCAzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoNikgPT09IFwiMDAwXCIpIHtcbiAgICAgICAgICAgIG5hbm9zU3RyID0gbmFub3NTdHIuc3Vic3RyaW5nKDAsIDYpO1xuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gXCIuXCIgKyBuYW5vc1N0cjtcbiAgICAgICAgaWYgKHZhbC5uYW5vcyA8IDAgJiYgTnVtYmVyKHZhbC5zZWNvbmRzKSA9PSAwKSB7XG4gICAgICAgICAgICB0ZXh0ID0gXCItXCIgKyB0ZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0ICsgXCJzXCI7XG59XG5mdW5jdGlvbiBmaWVsZE1hc2tUb0pzb24odmFsKSB7XG4gICAgcmV0dXJuIHZhbC5wYXRoc1xuICAgICAgICAubWFwKChwKSA9PiB7XG4gICAgICAgIGlmIChwLm1hdGNoKC9fWzAtOV0/Xy9nKSB8fCBwLm1hdGNoKC9bQS1aXS9nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlIG1lc3NhZ2UgJHt2YWwuJHR5cGVOYW1lfSB0byBKU09OOiBsb3dlckNhbWVsQ2FzZSBvZiBwYXRoIG5hbWUgXCJgICtcbiAgICAgICAgICAgICAgICBwICtcbiAgICAgICAgICAgICAgICAnXCIgaXMgaXJyZXZlcnNpYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3RvQ2FtZWxDYXNlKHApO1xuICAgIH0pXG4gICAgICAgIC5qb2luKFwiLFwiKTtcbn1cbmZ1bmN0aW9uIHN0cnVjdFRvSnNvbih2YWwpIHtcbiAgICBjb25zdCBqc29uID0ge307XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsLmZpZWxkcykpIHtcbiAgICAgICAganNvbltrXSA9IHZhbHVlVG9Kc29uKHYpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmZ1bmN0aW9uIHZhbHVlVG9Kc29uKHZhbCkge1xuICAgIHN3aXRjaCAodmFsLmtpbmQuY2FzZSkge1xuICAgICAgICBjYXNlIFwibnVsbFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSBcIm51bWJlclZhbHVlXCI6XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWwua2luZC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsLiR0eXBlTmFtZX0gY2Fubm90IGJlIE5hTiBvciBJbmZpbml0eWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbC5raW5kLnZhbHVlO1xuICAgICAgICBjYXNlIFwiYm9vbFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmtpbmQudmFsdWU7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbC5raW5kLnZhbHVlO1xuICAgICAgICBjYXNlIFwic3RydWN0VmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3RUb0pzb24odmFsLmtpbmQudmFsdWUpO1xuICAgICAgICBjYXNlIFwibGlzdFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gbGlzdFZhbHVlVG9Kc29uKHZhbC5raW5kLnZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt2YWwuJHR5cGVOYW1lfSBtdXN0IGhhdmUgYSB2YWx1ZWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxpc3RWYWx1ZVRvSnNvbih2YWwpIHtcbiAgICByZXR1cm4gdmFsLnZhbHVlcy5tYXAodmFsdWVUb0pzb24pO1xufVxuZnVuY3Rpb24gdGltZXN0YW1wVG9Kc29uKHZhbCkge1xuICAgIGNvbnN0IG1zID0gTnVtYmVyKHZhbC5zZWNvbmRzKSAqIDEwMDA7XG4gICAgaWYgKG1zIDwgRGF0ZS5wYXJzZShcIjAwMDEtMDEtMDFUMDA6MDA6MDBaXCIpIHx8XG4gICAgICAgIG1zID4gRGF0ZS5wYXJzZShcIjk5OTktMTItMzFUMjM6NTk6NTlaXCIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSBtZXNzYWdlICR7dmFsLiR0eXBlTmFtZX0gdG8gSlNPTjogbXVzdCBiZSBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvIDk5OTktMTItMzFUMjM6NTk6NTlaIGluY2x1c2l2ZWApO1xuICAgIH1cbiAgICBpZiAodmFsLm5hbm9zIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgbWVzc2FnZSAke3ZhbC4kdHlwZU5hbWV9IHRvIEpTT046IG5hbm9zIG11c3Qgbm90IGJlIG5lZ2F0aXZlYCk7XG4gICAgfVxuICAgIGxldCB6ID0gXCJaXCI7XG4gICAgaWYgKHZhbC5uYW5vcyA+IDApIHtcbiAgICAgICAgY29uc3QgbmFub3NTdHIgPSAodmFsLm5hbm9zICsgMTAwMDAwMDAwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoMykgPT09IFwiMDAwMDAwXCIpIHtcbiAgICAgICAgICAgIHogPSBcIi5cIiArIG5hbm9zU3RyLnN1YnN0cmluZygwLCAzKSArIFwiWlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5hbm9zU3RyLnN1YnN0cmluZyg2KSA9PT0gXCIwMDBcIikge1xuICAgICAgICAgICAgeiA9IFwiLlwiICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDYpICsgXCJaXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB6ID0gXCIuXCIgKyBuYW5vc1N0ciArIFwiWlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShtcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKFwiLjAwMFpcIiwgeik7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHByb3RvSW50NjQgfSBmcm9tIFwiLi9wcm90by1pbnQ2NC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcIi4vY3JlYXRlLmpzXCI7XG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG5pbXBvcnQgeyBGaWVsZEVycm9yLCBpc0ZpZWxkRXJyb3IgfSBmcm9tIFwiLi9yZWZsZWN0L2Vycm9yLmpzXCI7XG5pbXBvcnQgeyBmb3JtYXRWYWwgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QtY2hlY2suanNcIjtcbmltcG9ydCB7IHNjYWxhclplcm9WYWx1ZSB9IGZyb20gXCIuL3JlZmxlY3Qvc2NhbGFyLmpzXCI7XG5pbXBvcnQgeyBiYXNlNjREZWNvZGUgfSBmcm9tIFwiLi93aXJlL2Jhc2U2NC1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgaXNXcmFwcGVyRGVzYywgYW55UGFjaywgTGlzdFZhbHVlU2NoZW1hLCBOdWxsVmFsdWUsIFN0cnVjdFNjaGVtYSwgVmFsdWVTY2hlbWEsIH0gZnJvbSBcIi4vd2t0L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVFeHRlbnNpb25Db250YWluZXIsIHNldEV4dGVuc2lvbiB9IGZyb20gXCIuL2V4dGVuc2lvbnMuanNcIjtcbi8vIERlZmF1bHQgb3B0aW9ucyBmb3IgcGFyc2luZyBKU09OLlxuY29uc3QganNvblJlYWREZWZhdWx0cyA9IHtcbiAgICBpZ25vcmVVbmtub3duRmllbGRzOiBmYWxzZSxcbn07XG5mdW5jdGlvbiBtYWtlUmVhZE9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBqc29uUmVhZERlZmF1bHRzKSwgb3B0aW9ucykgOiBqc29uUmVhZERlZmF1bHRzO1xufVxuLyoqXG4gKiBQYXJzZSBhIG1lc3NhZ2UgZnJvbSBhIEpTT04gc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUpzb25TdHJpbmcoc2NoZW1hLCBqc29uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZyb21Kc29uKHNjaGVtYSwgcGFyc2VKc29uU3RyaW5nKGpzb24sIHNjaGVtYS50eXBlTmFtZSksIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBQYXJzZSBhIG1lc3NhZ2UgZnJvbSBhIEpTT04gc3RyaW5nLCBtZXJnaW5nIGZpZWxkcy5cbiAqXG4gKiBSZXBlYXRlZCBmaWVsZHMgYXJlIGFwcGVuZGVkLiBNYXAgZW50cmllcyBhcmUgYWRkZWQsIG92ZXJ3cml0aW5nXG4gKiBleGlzdGluZyBrZXlzLlxuICpcbiAqIElmIGEgbWVzc2FnZSBmaWVsZCBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlXG4gKiBuZXcgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRnJvbUpzb25TdHJpbmcoc2NoZW1hLCB0YXJnZXQsIGpzb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbWVyZ2VGcm9tSnNvbihzY2hlbWEsIHRhcmdldCwgcGFyc2VKc29uU3RyaW5nKGpzb24sIHNjaGVtYS50eXBlTmFtZSksIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBQYXJzZSBhIG1lc3NhZ2UgZnJvbSBhIEpTT04gdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSnNvbihzY2hlbWEsIGpzb24sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtc2cgPSByZWZsZWN0KHNjaGVtYSk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVhZE1lc3NhZ2UobXNnLCBqc29uLCBtYWtlUmVhZE9wdGlvbnMob3B0aW9ucykpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNGaWVsZEVycm9yKGUpKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHdlIHVzZSB0aGUgRVMyMDIyIGVycm9yIENUT1Igb3B0aW9uIFwiY2F1c2VcIiBmb3IgYmV0dGVyIHN0YWNrIHRyYWNlc1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlICR7ZS5maWVsZCgpfSBmcm9tIEpTT046ICR7ZS5tZXNzYWdlfWAsIHtcbiAgICAgICAgICAgICAgICBjYXVzZTogZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiBtc2cubWVzc2FnZTtcbn1cbi8qKlxuICogUGFyc2UgYSBtZXNzYWdlIGZyb20gYSBKU09OIHZhbHVlLCBtZXJnaW5nIGZpZWxkcy5cbiAqXG4gKiBSZXBlYXRlZCBmaWVsZHMgYXJlIGFwcGVuZGVkLiBNYXAgZW50cmllcyBhcmUgYWRkZWQsIG92ZXJ3cml0aW5nXG4gKiBleGlzdGluZyBrZXlzLlxuICpcbiAqIElmIGEgbWVzc2FnZSBmaWVsZCBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlXG4gKiBuZXcgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRnJvbUpzb24oc2NoZW1hLCB0YXJnZXQsIGpzb24sIG9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgICByZWFkTWVzc2FnZShyZWZsZWN0KHNjaGVtYSwgdGFyZ2V0KSwganNvbiwgbWFrZVJlYWRPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzRmllbGRFcnJvcihlKSkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB3ZSB1c2UgdGhlIEVTMjAyMiBlcnJvciBDVE9SIG9wdGlvbiBcImNhdXNlXCIgZm9yIGJldHRlciBzdGFjayB0cmFjZXNcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSAke2UuZmllbGQoKX0gZnJvbSBKU09OOiAke2UubWVzc2FnZX1gLCB7XG4gICAgICAgICAgICAgICAgY2F1c2U6IGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLyoqXG4gKiBQYXJzZXMgYW4gZW51bSB2YWx1ZSBmcm9tIEpTT04uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnVtRnJvbUpzb24oZGVzY0VudW0sIGpzb24pIHtcbiAgICBjb25zdCB2YWwgPSByZWFkRW51bShkZXNjRW51bSwganNvbiwgZmFsc2UsIGZhbHNlKTtcbiAgICBpZiAodmFsID09PSB0b2tlbklnbm9yZWRVbmtub3duRW51bSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgJHtkZXNjRW51bX0gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cbi8qKlxuICogSXMgdGhlIGdpdmVuIHZhbHVlIGEgSlNPTiBlbnVtIHZhbHVlP1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbnVtSnNvbihkZXNjRW51bSwgdmFsdWUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkICE9PSBkZXNjRW51bS52YWx1ZXMuZmluZCgodikgPT4gdi5uYW1lID09PSB2YWx1ZSk7XG59XG5mdW5jdGlvbiByZWFkTWVzc2FnZShtc2csIGpzb24sIG9wdHMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRyeVdrdEZyb21Kc29uKG1zZywganNvbiwgb3B0cykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoanNvbiA9PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoanNvbikgfHwgdHlwZW9mIGpzb24gIT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgJHttc2cuZGVzY30gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgY29uc3Qgb25lb2ZTZWVuID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGpzb25OYW1lcyA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIG1zZy5kZXNjLmZpZWxkcykge1xuICAgICAgICBqc29uTmFtZXMuc2V0KGZpZWxkLm5hbWUsIGZpZWxkKS5zZXQoZmllbGQuanNvbk5hbWUsIGZpZWxkKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbanNvbktleSwganNvblZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGpzb25OYW1lcy5nZXQoanNvbktleSk7XG4gICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbCAmJiBmaWVsZC5maWVsZEtpbmQgPT0gXCJzY2FsYXJcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWUgY29uZm9ybWFuY2UgdGVzdCBSZXF1aXJlZC5Qcm90bzMuSnNvbklucHV0Lk9uZW9mRmllbGROdWxse0ZpcnN0LFNlY29uZH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBvbmVvZlNlZW4uZ2V0KGZpZWxkLm9uZW9mKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLm9uZW9mLCBgb25lb2Ygc2V0IG11bHRpcGxlIHRpbWVzIGJ5ICR7c2Vlbi5uYW1lfSBhbmQgJHtmaWVsZC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbmVvZlNlZW4uc2V0KGZpZWxkLm9uZW9mLCBmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkRmllbGQobXNnLCBmaWVsZCwganNvblZhbHVlLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBleHRlbnNpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoanNvbktleS5zdGFydHNXaXRoKFwiW1wiKSAmJlxuICAgICAgICAgICAgICAgIGpzb25LZXkuZW5kc1dpdGgoXCJdXCIpICYmXG4gICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgICAgICAgICAgKGV4dGVuc2lvbiA9IChfYSA9IG9wdHMucmVnaXN0cnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRFeHRlbnNpb24oanNvbktleS5zdWJzdHJpbmcoMSwganNvbktleS5sZW5ndGggLSAxKSkpICYmXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uLmV4dGVuZGVlLnR5cGVOYW1lID09PSBtc2cuZGVzYy50eXBlTmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtjb250YWluZXIsIGZpZWxkLCBnZXRdID0gY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGV4dGVuc2lvbik7XG4gICAgICAgICAgICAgICAgcmVhZEZpZWxkKGNvbnRhaW5lciwgZmllbGQsIGpzb25WYWx1ZSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgc2V0RXh0ZW5zaW9uKG1zZy5tZXNzYWdlLCBleHRlbnNpb24sIGdldCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uICYmICFvcHRzLmlnbm9yZVVua25vd25GaWVsZHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgJHttc2cuZGVzY30gZnJvbSBKU09OOiBrZXkgXCIke2pzb25LZXl9XCIgaXMgdW5rbm93bmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZEZpZWxkKG1zZywgZmllbGQsIGpzb24sIG9wdHMpIHtcbiAgICBzd2l0Y2ggKGZpZWxkLmZpZWxkS2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICByZWFkU2NhbGFyRmllbGQobXNnLCBmaWVsZCwganNvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJlYWRFbnVtRmllbGQobXNnLCBmaWVsZCwganNvbiwgb3B0cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJlYWRNZXNzYWdlRmllbGQobXNnLCBmaWVsZCwganNvbiwgb3B0cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIHJlYWRMaXN0RmllbGQobXNnLmdldChmaWVsZCksIGpzb24sIG9wdHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgIHJlYWRNYXBGaWVsZChtc2cuZ2V0KGZpZWxkKSwganNvbiwgb3B0cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiByZWFkTWFwRmllbGQobWFwLCBqc29uLCBvcHRzKSB7XG4gICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IG1hcC5maWVsZCgpO1xuICAgIGlmICh0eXBlb2YganNvbiAhPSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIFwiZXhwZWN0ZWQgb2JqZWN0LCBnb3QgXCIgKyBmb3JtYXRWYWwoanNvbikpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtqc29uTWFwS2V5LCBqc29uTWFwVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24pKSB7XG4gICAgICAgIGlmIChqc29uTWFwVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBcIm1hcCB2YWx1ZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5tYXBLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1ZhbHVlID0gcmVmbGVjdChmaWVsZC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZWFkTWVzc2FnZShtc2dWYWx1ZSwganNvbk1hcFZhbHVlLCBvcHRzKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG1zZ1ZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlYWRFbnVtKGZpZWxkLmVudW0sIGpzb25NYXBWYWx1ZSwgb3B0cy5pZ25vcmVVbmtub3duRmllbGRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRva2VuSWdub3JlZFVua25vd25FbnVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzY2FsYXJGcm9tSnNvbihmaWVsZCwganNvbk1hcFZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBtYXBLZXlGcm9tSnNvbihmaWVsZC5tYXBLZXksIGpzb25NYXBLZXkpO1xuICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRMaXN0RmllbGQobGlzdCwganNvbiwgb3B0cykge1xuICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmllbGQgPSBsaXN0LmZpZWxkKCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBcImV4cGVjdGVkIEFycmF5LCBnb3QgXCIgKyBmb3JtYXRWYWwoanNvbikpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGpzb25JdGVtIG9mIGpzb24pIHtcbiAgICAgICAgaWYgKGpzb25JdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgXCJsaXN0IGl0ZW0gbXVzdCBub3QgYmUgbnVsbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGZpZWxkLmxpc3RLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1ZhbHVlID0gcmVmbGVjdChmaWVsZC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZWFkTWVzc2FnZShtc2dWYWx1ZSwganNvbkl0ZW0sIG9wdHMpO1xuICAgICAgICAgICAgICAgIGxpc3QuYWRkKG1zZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgZW51bVZhbHVlID0gcmVhZEVudW0oZmllbGQuZW51bSwganNvbkl0ZW0sIG9wdHMuaWdub3JlVW5rbm93bkZpZWxkcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGVudW1WYWx1ZSAhPT0gdG9rZW5JZ25vcmVkVW5rbm93bkVudW0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoZW51bVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgbGlzdC5hZGQoc2NhbGFyRnJvbUpzb24oZmllbGQsIGpzb25JdGVtLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiByZWFkTWVzc2FnZUZpZWxkKG1zZywgZmllbGQsIGpzb24sIG9wdHMpIHtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCAmJiBmaWVsZC5tZXNzYWdlLnR5cGVOYW1lICE9IFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCIpIHtcbiAgICAgICAgbXNnLmNsZWFyKGZpZWxkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtc2dWYWx1ZSA9IG1zZy5pc1NldChmaWVsZCkgPyBtc2cuZ2V0KGZpZWxkKSA6IHJlZmxlY3QoZmllbGQubWVzc2FnZSk7XG4gICAgcmVhZE1lc3NhZ2UobXNnVmFsdWUsIGpzb24sIG9wdHMpO1xuICAgIG1zZy5zZXQoZmllbGQsIG1zZ1ZhbHVlKTtcbn1cbmZ1bmN0aW9uIHJlYWRFbnVtRmllbGQobXNnLCBmaWVsZCwganNvbiwgb3B0cykge1xuICAgIGNvbnN0IGVudW1WYWx1ZSA9IHJlYWRFbnVtKGZpZWxkLmVudW0sIGpzb24sIG9wdHMuaWdub3JlVW5rbm93bkZpZWxkcywgZmFsc2UpO1xuICAgIGlmIChlbnVtVmFsdWUgPT09IHRva2VuTnVsbCkge1xuICAgICAgICBtc2cuY2xlYXIoZmllbGQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbnVtVmFsdWUgIT09IHRva2VuSWdub3JlZFVua25vd25FbnVtKSB7XG4gICAgICAgIG1zZy5zZXQoZmllbGQsIGVudW1WYWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZFNjYWxhckZpZWxkKG1zZywgZmllbGQsIGpzb24pIHtcbiAgICBjb25zdCBzY2FsYXJWYWx1ZSA9IHNjYWxhckZyb21Kc29uKGZpZWxkLCBqc29uLCBmYWxzZSk7XG4gICAgaWYgKHNjYWxhclZhbHVlID09PSB0b2tlbk51bGwpIHtcbiAgICAgICAgbXNnLmNsZWFyKGZpZWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1zZy5zZXQoZmllbGQsIHNjYWxhclZhbHVlKTtcbiAgICB9XG59XG5jb25zdCB0b2tlbklnbm9yZWRVbmtub3duRW51bSA9IFN5bWJvbCgpO1xuZnVuY3Rpb24gcmVhZEVudW0oZGVzYywganNvbiwgaWdub3JlVW5rbm93bkZpZWxkcywgbnVsbEFzWmVyb1ZhbHVlKSB7XG4gICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgaWYgKGRlc2MudHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAwOyAvLyBnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlLk5VTExfVkFMVUUgPSAwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxBc1plcm9WYWx1ZSA/IGRlc2MudmFsdWVzWzBdLm51bWJlciA6IHRva2VuTnVsbDtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlb2YganNvbikge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihqc29uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGVzYy52YWx1ZXMuZmluZCgoZXYpID0+IGV2Lm5hbWUgPT09IGpzb24pO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlnbm9yZVVua25vd25GaWVsZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5JZ25vcmVkVW5rbm93bkVudW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlICR7ZGVzY30gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbn1cbmNvbnN0IHRva2VuTnVsbCA9IFN5bWJvbCgpO1xuZnVuY3Rpb24gc2NhbGFyRnJvbUpzb24oZmllbGQsIGpzb24sIG51bGxBc1plcm9WYWx1ZSkge1xuICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgIGlmIChudWxsQXNaZXJvVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2FsYXJaZXJvVmFsdWUoZmllbGQuc2NhbGFyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuTnVsbDtcbiAgICB9XG4gICAgLy8gaW50NjQsIHNmaXhlZDY0LCBzaW50NjQsIGZpeGVkNjQsIHVpbnQ2NDogUmVmbGVjdCBzdXBwb3J0cyBzdHJpbmcgYW5kIG51bWJlci5cbiAgICAvLyBzdHJpbmcsIGJvb2w6IFN1cHBvcnRlZCBieSByZWZsZWN0LlxuICAgIHN3aXRjaCAoZmllbGQuc2NhbGFyKSB7XG4gICAgICAgIC8vIGZsb2F0LCBkb3VibGU6IEpTT04gdmFsdWUgd2lsbCBiZSBhIG51bWJlciBvciBvbmUgb2YgdGhlIHNwZWNpYWwgc3RyaW5nIHZhbHVlcyBcIk5hTlwiLCBcIkluZmluaXR5XCIsIGFuZCBcIi1JbmZpbml0eVwiLlxuICAgICAgICAvLyBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC4gRXhwb25lbnQgbm90YXRpb24gaXMgYWxzbyBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiTmFOXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIGlmIChqc29uID09PSBcIkluZmluaXR5XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgIGlmIChqc29uID09PSBcIi1JbmZpbml0eVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmFOIG11c3QgYmUgZW5jb2RlZCB3aXRoIHN0cmluZyBjb25zdGFudHNcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIFwidW5leHBlY3RlZCBOYU4gbnVtYmVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbmZpbml0eSBtdXN0IGJlIGVuY29kZWQgd2l0aCBzdHJpbmcgY29uc3RhbnRzXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBcInVuZXhwZWN0ZWQgaW5maW5pdGUgbnVtYmVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCBhIG51bWJlclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGpzb24udHJpbSgpLmxlbmd0aCAhPT0ganNvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXh0cmEgd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXQgPSBOdW1iZXIoanNvbik7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZmxvYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluZmluaXR5IGFuZCBOYU4gbXVzdCBiZSBlbmNvZGVkIHdpdGggc3RyaW5nIGNvbnN0YW50c1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsb2F0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIGludDMyLCBmaXhlZDMyLCB1aW50MzI6IEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgbnVtYmVyLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIGludDMyRnJvbUpzb24oanNvbik7XG4gICAgICAgIC8vIGJ5dGVzOiBKU09OIHZhbHVlIHdpbGwgYmUgdGhlIGRhdGEgZW5jb2RlZCBhcyBhIHN0cmluZyB1c2luZyBzdGFuZGFyZCBiYXNlNjQgZW5jb2Rpbmcgd2l0aCBwYWRkaW5ncy5cbiAgICAgICAgLy8gRWl0aGVyIHN0YW5kYXJkIG9yIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyB3aXRoL3dpdGhvdXQgcGFkZGluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmIChqc29uID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U2NERlY29kZShqc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFN0cmluZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbi8qKlxuICogVHJ5IHRvIHBhcnNlIGEgSlNPTiB2YWx1ZSB0byBhIG1hcCBrZXkgZm9yIHRoZSByZWZsZWN0IEFQSS5cbiAqXG4gKiBSZXR1cm5zIHRoZSBpbnB1dCBpZiB0aGUgSlNPTiB2YWx1ZSBjYW5ub3QgYmUgY29udmVydGVkLlxuICovXG5mdW5jdGlvbiBtYXBLZXlGcm9tSnNvbih0eXBlLCBqc29uKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgc3dpdGNoIChqc29uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZhbHNlXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gaW50MzJGcm9tSnNvbihqc29uKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbn1cbi8qKlxuICogVHJ5IHRvIHBhcnNlIGEgSlNPTiB2YWx1ZSB0byBhIDMyLWJpdCBpbnRlZ2VyIGZvciB0aGUgcmVmbGVjdCBBUEkuXG4gKlxuICogUmV0dXJucyB0aGUgaW5wdXQgaWYgdGhlIEpTT04gdmFsdWUgY2Fubm90IGJlIGNvbnZlcnRlZC5cbiAqL1xuZnVuY3Rpb24gaW50MzJGcm9tSnNvbihqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGpzb24gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgYSBudW1iZXJcbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uLnRyaW0oKS5sZW5ndGggIT09IGpzb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBleHRyYSB3aGl0ZXNwYWNlXG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIoanNvbik7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4obnVtKSkge1xuICAgICAgICAgICAgLy8gbm90IGEgbnVtYmVyXG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblN0cmluZyhqc29uU3RyaW5nLCB0eXBlTmFtZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3R5cGVOYW1lfSBmcm9tIEpTT046ICR7bWVzc2FnZX1gLCBcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB3ZSB1c2UgdGhlIEVTMjAyMiBlcnJvciBDVE9SIG9wdGlvbiBcImNhdXNlXCIgZm9yIGJldHRlciBzdGFjayB0cmFjZXNcbiAgICAgICAgeyBjYXVzZTogZSB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cnlXa3RGcm9tSnNvbihtc2csIGpzb25WYWx1ZSwgb3B0cykge1xuICAgIGlmICghbXNnLmRlc2MudHlwZU5hbWUuc3RhcnRzV2l0aChcImdvb2dsZS5wcm90b2J1Zi5cIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzd2l0Y2ggKG1zZy5kZXNjLnR5cGVOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuQW55XCI6XG4gICAgICAgICAgICBhbnlGcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlLCBvcHRzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFwiOlxuICAgICAgICAgICAgdGltZXN0YW1wRnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvblwiOlxuICAgICAgICAgICAgZHVyYXRpb25Gcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkZpZWxkTWFza1wiOlxuICAgICAgICAgICAgZmllbGRNYXNrRnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcIjpcbiAgICAgICAgICAgIHN0cnVjdEZyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIjpcbiAgICAgICAgICAgIHZhbHVlRnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcIjpcbiAgICAgICAgICAgIGxpc3RWYWx1ZUZyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoaXNXcmFwcGVyRGVzYyhtc2cuZGVzYykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUZpZWxkID0gbXNnLmRlc2MuZmllbGRzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnLmNsZWFyKHZhbHVlRmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnLnNldCh2YWx1ZUZpZWxkLCBzY2FsYXJGcm9tSnNvbih2YWx1ZUZpZWxkLCBqc29uVmFsdWUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gYW55RnJvbUpzb24oYW55LCBqc29uLCBvcHRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChqc29uID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoanNvbikgfHwgdHlwZW9mIGpzb24gIT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2FueS4kdHlwZU5hbWV9IGZyb20gSlNPTjogZXhwZWN0ZWQgb2JqZWN0IGJ1dCBnb3QgJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyhqc29uKS5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHR5cGVVcmwgPSBqc29uW1wiQHR5cGVcIl07XG4gICAgaWYgKHR5cGVvZiB0eXBlVXJsICE9IFwic3RyaW5nXCIgfHwgdHlwZVVybCA9PSBcIlwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7YW55LiR0eXBlTmFtZX0gZnJvbSBKU09OOiBcIkB0eXBlXCIgaXMgZW1wdHlgKTtcbiAgICB9XG4gICAgY29uc3QgdHlwZU5hbWUgPSB0eXBlVXJsLmluY2x1ZGVzKFwiL1wiKVxuICAgICAgICA/IHR5cGVVcmwuc3Vic3RyaW5nKHR5cGVVcmwubGFzdEluZGV4T2YoXCIvXCIpICsgMSlcbiAgICAgICAgOiB0eXBlVXJsO1xuICAgIGlmICghdHlwZU5hbWUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7YW55LiR0eXBlTmFtZX0gZnJvbSBKU09OOiBcIkB0eXBlXCIgaXMgaW52YWxpZGApO1xuICAgIH1cbiAgICBjb25zdCBkZXNjID0gKF9hID0gb3B0cy5yZWdpc3RyeSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE1lc3NhZ2UodHlwZU5hbWUpO1xuICAgIGlmICghZGVzYykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2FueS4kdHlwZU5hbWV9IGZyb20gSlNPTjogJHt0eXBlVXJsfSBpcyBub3QgaW4gdGhlIHR5cGUgcmVnaXN0cnlgKTtcbiAgICB9XG4gICAgY29uc3QgbXNnID0gcmVmbGVjdChkZXNjKTtcbiAgICBpZiAodHlwZU5hbWUuc3RhcnRzV2l0aChcImdvb2dsZS5wcm90b2J1Zi5cIikgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIFwidmFsdWVcIikpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBqc29uLnZhbHVlO1xuICAgICAgICByZWFkTWVzc2FnZShtc2csIHZhbHVlLCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvcHkgPSBPYmplY3QuYXNzaWduKHt9LCBqc29uKTtcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvcGVyZm9ybWFuY2Uvbm9EZWxldGU6IDxleHBsYW5hdGlvbj5cbiAgICAgICAgZGVsZXRlIGNvcHlbXCJAdHlwZVwiXTtcbiAgICAgICAgcmVhZE1lc3NhZ2UobXNnLCBjb3B5LCBvcHRzKTtcbiAgICB9XG4gICAgYW55UGFjayhtc2cuZGVzYywgbXNnLm1lc3NhZ2UsIGFueSk7XG59XG5mdW5jdGlvbiB0aW1lc3RhbXBGcm9tSnNvbih0aW1lc3RhbXAsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHt0aW1lc3RhbXAuJHR5cGVOYW1lfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaGVzID0ganNvbi5tYXRjaCgvXihbMC05XXs0fSktKFswLTldezJ9KS0oWzAtOV17Mn0pVChbMC05XXsyfSk6KFswLTldezJ9KTooWzAtOV17Mn0pKD86XFwuKFswLTldezEsOX0pKT8oPzpafChbKy1dWzAtOV1bMC05XTpbMC05XVswLTldKSkkLyk7XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7dGltZXN0YW1wLiR0eXBlTmFtZX0gZnJvbSBKU09OOiBpbnZhbGlkIFJGQyAzMzM5IHN0cmluZ2ApO1xuICAgIH1cbiAgICBjb25zdCBtcyA9IERhdGUucGFyc2UoXG4gICAgLy8gYmlvbWUtaWdub3JlIGZvcm1hdDogd2FudCB0aGlzIHRvIHJlYWQgd2VsbFxuICAgIG1hdGNoZXNbMV0gKyBcIi1cIiArIG1hdGNoZXNbMl0gKyBcIi1cIiArIG1hdGNoZXNbM10gKyBcIlRcIiArIG1hdGNoZXNbNF0gKyBcIjpcIiArIG1hdGNoZXNbNV0gKyBcIjpcIiArIG1hdGNoZXNbNl0gKyAobWF0Y2hlc1s4XSA/IG1hdGNoZXNbOF0gOiBcIlpcIikpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7dGltZXN0YW1wLiR0eXBlTmFtZX0gZnJvbSBKU09OOiBpbnZhbGlkIFJGQyAzMzM5IHN0cmluZ2ApO1xuICAgIH1cbiAgICBpZiAobXMgPCBEYXRlLnBhcnNlKFwiMDAwMS0wMS0wMVQwMDowMDowMFpcIikgfHxcbiAgICAgICAgbXMgPiBEYXRlLnBhcnNlKFwiOTk5OS0xMi0zMVQyMzo1OTo1OVpcIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHt0aW1lc3RhbXAuJHR5cGVOYW1lfSBmcm9tIEpTT046IG11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmVgKTtcbiAgICB9XG4gICAgdGltZXN0YW1wLnNlY29uZHMgPSBwcm90b0ludDY0LnBhcnNlKG1zIC8gMTAwMCk7XG4gICAgdGltZXN0YW1wLm5hbm9zID0gMDtcbiAgICBpZiAobWF0Y2hlc1s3XSkge1xuICAgICAgICB0aW1lc3RhbXAubmFub3MgPVxuICAgICAgICAgICAgcGFyc2VJbnQoXCIxXCIgKyBtYXRjaGVzWzddICsgXCIwXCIucmVwZWF0KDkgLSBtYXRjaGVzWzddLmxlbmd0aCkpIC1cbiAgICAgICAgICAgICAgICAxMDAwMDAwMDAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGR1cmF0aW9uRnJvbUpzb24oZHVyYXRpb24sIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtkdXJhdGlvbi4kdHlwZU5hbWV9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0ganNvbi5tYXRjaCgvXigtP1swLTldKykoPzpcXC4oWzAtOV0rKSk/cy8pO1xuICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2R1cmF0aW9uLiR0eXBlTmFtZX0gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgY29uc3QgbG9uZ1NlY29uZHMgPSBOdW1iZXIobWF0Y2hbMV0pO1xuICAgIGlmIChsb25nU2Vjb25kcyA+IDMxNTU3NjAwMDAwMCB8fCBsb25nU2Vjb25kcyA8IC0zMTU1NzYwMDAwMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtkdXJhdGlvbi4kdHlwZU5hbWV9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGR1cmF0aW9uLnNlY29uZHMgPSBwcm90b0ludDY0LnBhcnNlKGxvbmdTZWNvbmRzKTtcbiAgICBpZiAodHlwZW9mIG1hdGNoWzJdICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFub3NTdHIgPSBtYXRjaFsyXSArIFwiMFwiLnJlcGVhdCg5IC0gbWF0Y2hbMl0ubGVuZ3RoKTtcbiAgICBkdXJhdGlvbi5uYW5vcyA9IHBhcnNlSW50KG5hbm9zU3RyKTtcbiAgICBpZiAobG9uZ1NlY29uZHMgPCAwIHx8IE9iamVjdC5pcyhsb25nU2Vjb25kcywgLTApKSB7XG4gICAgICAgIGR1cmF0aW9uLm5hbm9zID0gLWR1cmF0aW9uLm5hbm9zO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpZWxkTWFza0Zyb21Kc29uKGZpZWxkTWFzaywganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2ZpZWxkTWFzay4kdHlwZU5hbWV9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGlmIChqc29uID09PSBcIlwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FtZWxUb1NuYWtlKHN0cikge1xuICAgICAgICBpZiAoc3RyLmluY2x1ZGVzKFwiX1wiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtmaWVsZE1hc2suJHR5cGVOYW1lfSBmcm9tIEpTT046IHBhdGggbmFtZXMgbXVzdCBiZSBsb3dlckNhbWVsQ2FzZWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjID0gc3RyLnJlcGxhY2UoL1tBLVpdL2csIChsZXR0ZXIpID0+IFwiX1wiICsgbGV0dGVyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICByZXR1cm4gc2NbMF0gPT09IFwiX1wiID8gc2Muc3Vic3RyaW5nKDEpIDogc2M7XG4gICAgfVxuICAgIGZpZWxkTWFzay5wYXRocyA9IGpzb24uc3BsaXQoXCIsXCIpLm1hcChjYW1lbFRvU25ha2UpO1xufVxuZnVuY3Rpb24gc3RydWN0RnJvbUpzb24oc3RydWN0LCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9IFwib2JqZWN0XCIgfHwganNvbiA9PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtzdHJ1Y3QuJHR5cGVOYW1lfSBmcm9tIEpTT04gJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24pKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFYgPSBjcmVhdGUoVmFsdWVTY2hlbWEpO1xuICAgICAgICB2YWx1ZUZyb21Kc29uKHBhcnNlZFYsIHYpO1xuICAgICAgICBzdHJ1Y3QuZmllbGRzW2tdID0gcGFyc2VkVjtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWx1ZUZyb21Kc29uKHZhbHVlLCBqc29uKSB7XG4gICAgc3dpdGNoICh0eXBlb2YganNvbikge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcIm51bWJlclZhbHVlXCIsIHZhbHVlOiBqc29uIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJzdHJpbmdWYWx1ZVwiLCB2YWx1ZToganNvbiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcImJvb2xWYWx1ZVwiLCB2YWx1ZToganNvbiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJudWxsVmFsdWVcIiwgdmFsdWU6IE51bGxWYWx1ZS5OVUxMX1ZBTFVFIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdFZhbHVlID0gY3JlYXRlKExpc3RWYWx1ZVNjaGVtYSk7XG4gICAgICAgICAgICAgICAgbGlzdFZhbHVlRnJvbUpzb24obGlzdFZhbHVlLCBqc29uKTtcbiAgICAgICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcImxpc3RWYWx1ZVwiLCB2YWx1ZTogbGlzdFZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgPSBjcmVhdGUoU3RydWN0U2NoZW1hKTtcbiAgICAgICAgICAgICAgICBzdHJ1Y3RGcm9tSnNvbihzdHJ1Y3QsIGpzb24pO1xuICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwic3RydWN0VmFsdWVcIiwgdmFsdWU6IHN0cnVjdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3ZhbHVlLiR0eXBlTmFtZX0gZnJvbSBKU09OICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBsaXN0VmFsdWVGcm9tSnNvbihsaXN0VmFsdWUsIGpzb24pIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtsaXN0VmFsdWUuJHR5cGVOYW1lfSBmcm9tIEpTT04gJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZSBvZiBqc29uKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY3JlYXRlKFZhbHVlU2NoZW1hKTtcbiAgICAgICAgdmFsdWVGcm9tSnNvbih2YWx1ZSwgZSk7XG4gICAgICAgIGxpc3RWYWx1ZS52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG4vKipcbiAqIE1lcmdlIG1lc3NhZ2UgYHNvdXJjZWAgaW50byBtZXNzYWdlIGB0YXJnZXRgLCBmb2xsb3dpbmcgUHJvdG9idWYgc2VtYW50aWNzLlxuICpcbiAqIFRoaXMgaXMgdGhlIHNhbWUgYXMgc2VyaWFsaXppbmcgdGhlIHNvdXJjZSBtZXNzYWdlLCB0aGVuIGRlc2VyaWFsaXppbmcgaXRcbiAqIGludG8gdGhlIHRhcmdldCBtZXNzYWdlIHZpYSBgbWVyZ2VGcm9tQmluYXJ5KClgLCB3aXRoIG9uZSBkaWZmZXJlbmNlOlxuICogV2hpbGUgc2VyaWFsaXphdGlvbiB3aWxsIGNyZWF0ZSBhIGNvcHkgb2YgYWxsIHZhbHVlcywgYG1lcmdlKClgIHdpbGwgY29weVxuICogdGhlIHJlZmVyZW5jZSBmb3IgYGJ5dGVzYCBhbmQgbWVzc2FnZXMuXG4gKlxuICogQWxzbyBzZWUgaHR0cHM6Ly9wcm90b2J1Zi5jb20vZG9jcy9sYW5ndWFnZS1zcGVjI21lcmdpbmctcHJvdG9idWYtbWVzc2FnZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKHNjaGVtYSwgdGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZWZsZWN0TWVyZ2UocmVmbGVjdChzY2hlbWEsIHRhcmdldCksIHJlZmxlY3Qoc2NoZW1hLCBzb3VyY2UpKTtcbn1cbmZ1bmN0aW9uIHJlZmxlY3RNZXJnZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgX2I7XG4gICAgY29uc3Qgc291cmNlVW5rbm93biA9IHNvdXJjZS5tZXNzYWdlLiR1bmtub3duO1xuICAgIGlmIChzb3VyY2VVbmtub3duICE9PSB1bmRlZmluZWQgJiYgc291cmNlVW5rbm93bi5sZW5ndGggPiAwKSB7XG4gICAgICAgIChfYSA9IChfYiA9IHRhcmdldC5tZXNzYWdlKS4kdW5rbm93bikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9iLiR1bmtub3duID0gW10pO1xuICAgICAgICB0YXJnZXQubWVzc2FnZS4kdW5rbm93bi5wdXNoKC4uLnNvdXJjZVVua25vd24pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGYgb2YgdGFyZ2V0LmZpZWxkcykge1xuICAgICAgICBpZiAoIXNvdXJjZS5pc1NldChmKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChmLmZpZWxkS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0KGYsIHNvdXJjZS5nZXQoZikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlzU2V0KGYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmxlY3RNZXJnZSh0YXJnZXQuZ2V0KGYpLCBzb3VyY2UuZ2V0KGYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5zZXQoZiwgc291cmNlLmdldChmKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ID0gdGFyZ2V0LmdldChmKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygc291cmNlLmdldChmKSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0LmFkZChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwID0gdGFyZ2V0LmdldChmKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBzb3VyY2UuZ2V0KGYpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXQoaywgdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5leHBvcnQgKiBmcm9tIFwiLi90eXBlcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vaXMtbWVzc2FnZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY3JlYXRlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2VxdWFscy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZmllbGRzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZWdpc3RyeS5qc1wiO1xuZXhwb3J0IHsgdG9CaW5hcnkgfSBmcm9tIFwiLi90by1iaW5hcnkuanNcIjtcbmV4cG9ydCB7IGZyb21CaW5hcnksIG1lcmdlRnJvbUJpbmFyeSB9IGZyb20gXCIuL2Zyb20tYmluYXJ5LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90by1qc29uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9mcm9tLWpzb24uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21lcmdlLmpzXCI7XG5leHBvcnQgeyBoYXNFeHRlbnNpb24sIGdldEV4dGVuc2lvbiwgc2V0RXh0ZW5zaW9uLCBjbGVhckV4dGVuc2lvbiwgaGFzT3B0aW9uLCBnZXRPcHRpb24sIH0gZnJvbSBcIi4vZXh0ZW5zaW9ucy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcHJvdG8taW50NjQuanNcIjtcbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcHJvdG9DYW1lbENhc2UgfSBmcm9tIFwiLi4vcmVmbGVjdC9uYW1lcy5qc1wiO1xuaW1wb3J0IHsgaXNGaWVsZFNldCwgY2xlYXJGaWVsZCB9IGZyb20gXCIuLi9maWVsZHMuanNcIjtcbmltcG9ydCB7IGJhc2U2NEVuY29kZSB9IGZyb20gXCIuLi93aXJlL2Jhc2U2NC1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgdG9CaW5hcnkgfSBmcm9tIFwiLi4vdG8tYmluYXJ5LmpzXCI7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gXCIuLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHsgRWRpdGlvbiwgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEsIEZpZWxkT3B0aW9uc1NjaGVtYSwgRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSwgRGVzY3JpcHRvclByb3RvU2NoZW1hLCBFbnVtRGVzY3JpcHRvclByb3RvU2NoZW1hLCB9IGZyb20gXCIuLi93a3QvZ2VuL2dvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yX3BiLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gZW1iZWQgYSBmaWxlIGRlc2NyaXB0b3IgaW5cbiAqIGdlbmVyYXRlZCBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZEZpbGVEZXNjKGZpbGUpIHtcbiAgICBjb25zdCBlbWJlZCA9IHtcbiAgICAgICAgYm9vdGFibGU6IGZhbHNlLFxuICAgICAgICBwcm90bygpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkID0gY2xvbmUoRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSwgZmlsZSk7XG4gICAgICAgICAgICBjbGVhckZpZWxkKHN0cmlwcGVkLCBGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLmRlcGVuZGVuY3kpO1xuICAgICAgICAgICAgY2xlYXJGaWVsZChzdHJpcHBlZCwgRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5zb3VyY2VDb2RlSW5mbyk7XG4gICAgICAgICAgICBzdHJpcHBlZC5tZXNzYWdlVHlwZS5tYXAoc3RyaXBKc29uTmFtZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmlwcGVkO1xuICAgICAgICB9LFxuICAgICAgICBiYXNlNjQoKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IHRvQmluYXJ5KEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEsIHRoaXMucHJvdG8oKSk7XG4gICAgICAgICAgICByZXR1cm4gYmFzZTY0RW5jb2RlKGJ5dGVzLCBcInN0ZF9yYXdcIik7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZmlsZS5uYW1lID09IFwiZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG9cIlxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZW1iZWQpLCB7IGJvb3RhYmxlOiB0cnVlLCBib290KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVGaWxlRGVzY3JpcHRvclByb3RvQm9vdCh0aGlzLnByb3RvKCkpO1xuICAgICAgICAgICAgfSB9KSA6IGVtYmVkO1xufVxuZnVuY3Rpb24gc3RyaXBKc29uTmFtZXMoZCkge1xuICAgIGZvciAoY29uc3QgZiBvZiBkLmZpZWxkKSB7XG4gICAgICAgIGlmIChmLmpzb25OYW1lID09PSBwcm90b0NhbWVsQ2FzZShmLm5hbWUpKSB7XG4gICAgICAgICAgICBjbGVhckZpZWxkKGYsIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLmpzb25OYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IG4gb2YgZC5uZXN0ZWRUeXBlKSB7XG4gICAgICAgIHN0cmlwSnNvbk5hbWVzKG4pO1xuICAgIH1cbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgcGF0aCB0byBhIG1lc3NhZ2UsIGVudW1lcmF0aW9uLCBleHRlbnNpb24sIG9yIHNlcnZpY2UgaW4gYVxuICogZmlsZSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXRoSW5GaWxlRGVzYyhkZXNjKSB7XG4gICAgaWYgKGRlc2Mua2luZCA9PSBcInNlcnZpY2VcIikge1xuICAgICAgICByZXR1cm4gW2Rlc2MuZmlsZS5zZXJ2aWNlcy5pbmRleE9mKGRlc2MpXTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50ID0gZGVzYy5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3dpdGNoIChkZXNjLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtkZXNjLmZpbGUuZW51bXMuaW5kZXhPZihkZXNjKV07XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbZGVzYy5maWxlLm1lc3NhZ2VzLmluZGV4T2YoZGVzYyldO1xuICAgICAgICAgICAgY2FzZSBcImV4dGVuc2lvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbZGVzYy5maWxlLmV4dGVuc2lvbnMuaW5kZXhPZihkZXNjKV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZFBhdGgoY3VyKSB7XG4gICAgICAgIGNvbnN0IG5lc3RlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSBjdXIucGFyZW50OyBwYXJlbnQ7KSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBwYXJlbnQubmVzdGVkTWVzc2FnZXMuaW5kZXhPZihjdXIpO1xuICAgICAgICAgICAgbmVzdGVkLnVuc2hpZnQoaWR4KTtcbiAgICAgICAgICAgIGN1ciA9IHBhcmVudDtcbiAgICAgICAgICAgIHBhcmVudCA9IGN1ci5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmVzdGVkLnVuc2hpZnQoY3VyLmZpbGUubWVzc2FnZXMuaW5kZXhPZihjdXIpKTtcbiAgICAgICAgcmV0dXJuIG5lc3RlZDtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGZpbmRQYXRoKHBhcmVudCk7XG4gICAgc3dpdGNoIChkZXNjLmtpbmQpIHtcbiAgICAgICAgY2FzZSBcImV4dGVuc2lvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFsuLi5wYXRoLCBwYXJlbnQubmVzdGVkRXh0ZW5zaW9ucy5pbmRleE9mKGRlc2MpXTtcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJldHVybiBbLi4ucGF0aCwgcGFyZW50Lm5lc3RlZE1lc3NhZ2VzLmluZGV4T2YoZGVzYyldO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmV0dXJuIFsuLi5wYXRoLCBwYXJlbnQubmVzdGVkRW51bXMuaW5kZXhPZihkZXNjKV07XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgZmlsZSBkZXNjcmlwdG9yIGZvciBnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90byBjYW5ub3QgYmUgZW1iZWRkZWRcbiAqIGluIHNlcmlhbGl6ZWQgZm9ybSwgc2luY2UgaXQgaXMgcmVxdWlyZWQgdG8gcGFyc2UgaXRzZWxmLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIG1lc3NhZ2UsIGFuZCByZXR1cm5zIGEgcGxhaW4gb2JqZWN0XG4gKiB0aGF0IGNhbiBiZSBoeWRyYXRlZCB0byB0aGUgbWVzc2FnZSBhZ2FpbiB2aWEgYm9vdEZpbGVEZXNjcmlwdG9yUHJvdG8oKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG9ubHkgd29ya3Mgd2l0aCBhIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG9cbiAqIGZvciBnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90bywgYW5kIG9ubHkgc3VwcG9ydHMgZmVhdHVyZXMgdGhhdCBhcmVcbiAqIHJlbGV2YW50IGZvciB0aGUgc3BlY2lmaWMgdXNlIGNhc2UuIEZvciBleGFtcGxlLCBpdCBkaXNjYXJkcyBmaWxlIG9wdGlvbnMsXG4gKiByZXNlcnZlZCByYW5nZXMgYW5kIHJlc2VydmVkIG5hbWVzLCBhbmQgZmllbGQgb3B0aW9ucyB0aGF0IGFyZSB1bnVzZWQgaW5cbiAqIGRlc2NyaXB0b3IucHJvdG8uXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVEZXNjcmlwdG9yUHJvdG9Cb290KHByb3RvKSB7XG4gICAgdmFyIF9hO1xuICAgIGFzc2VydChwcm90by5uYW1lID09IFwiZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG9cIik7XG4gICAgYXNzZXJ0KHByb3RvLnBhY2thZ2UgPT0gXCJnb29nbGUucHJvdG9idWZcIik7XG4gICAgYXNzZXJ0KCFwcm90by5kZXBlbmRlbmN5Lmxlbmd0aCk7XG4gICAgYXNzZXJ0KCFwcm90by5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aCk7XG4gICAgYXNzZXJ0KCFwcm90by53ZWFrRGVwZW5kZW5jeS5sZW5ndGgpO1xuICAgIGFzc2VydCghcHJvdG8ub3B0aW9uRGVwZW5kZW5jeS5sZW5ndGgpO1xuICAgIGFzc2VydCghcHJvdG8uc2VydmljZS5sZW5ndGgpO1xuICAgIGFzc2VydCghcHJvdG8uZXh0ZW5zaW9uLmxlbmd0aCk7XG4gICAgYXNzZXJ0KHByb3RvLnNvdXJjZUNvZGVJbmZvID09PSB1bmRlZmluZWQpO1xuICAgIGFzc2VydChwcm90by5zeW50YXggPT0gXCJcIiB8fCBwcm90by5zeW50YXggPT0gXCJwcm90bzJcIik7XG4gICAgYXNzZXJ0KCEoKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZlYXR1cmVzKSk7IC8vIHdlJ3JlIGRyb3BwaW5nIGZpbGUgb3B0aW9uc1xuICAgIGFzc2VydChwcm90by5lZGl0aW9uID09PSBFZGl0aW9uLkVESVRJT05fVU5LTk9XTik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgcGFja2FnZTogcHJvdG8ucGFja2FnZSxcbiAgICAgICAgbWVzc2FnZVR5cGU6IHByb3RvLm1lc3NhZ2VUeXBlLm1hcChjcmVhdGVEZXNjcmlwdG9yQm9vdCksXG4gICAgICAgIGVudW1UeXBlOiBwcm90by5lbnVtVHlwZS5tYXAoY3JlYXRlRW51bURlc2NyaXB0b3JCb290KSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRGVzY3JpcHRvckJvb3QocHJvdG8pIHtcbiAgICBhc3NlcnQocHJvdG8uZXh0ZW5zaW9uLmxlbmd0aCA9PSAwKTtcbiAgICBhc3NlcnQoIXByb3RvLm9uZW9mRGVjbC5sZW5ndGgpO1xuICAgIGFzc2VydCghcHJvdG8ub3B0aW9ucyk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBEZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQudmlzaWJpbGl0eSkpO1xuICAgIGNvbnN0IGIgPSB7XG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgfTtcbiAgICBpZiAocHJvdG8uZmllbGQubGVuZ3RoKSB7XG4gICAgICAgIGIuZmllbGQgPSBwcm90by5maWVsZC5tYXAoY3JlYXRlRmllbGREZXNjcmlwdG9yQm9vdCk7XG4gICAgfVxuICAgIGlmIChwcm90by5uZXN0ZWRUeXBlLmxlbmd0aCkge1xuICAgICAgICBiLm5lc3RlZFR5cGUgPSBwcm90by5uZXN0ZWRUeXBlLm1hcChjcmVhdGVEZXNjcmlwdG9yQm9vdCk7XG4gICAgfVxuICAgIGlmIChwcm90by5lbnVtVHlwZS5sZW5ndGgpIHtcbiAgICAgICAgYi5lbnVtVHlwZSA9IHByb3RvLmVudW1UeXBlLm1hcChjcmVhdGVFbnVtRGVzY3JpcHRvckJvb3QpO1xuICAgIH1cbiAgICBpZiAocHJvdG8uZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoKSB7XG4gICAgICAgIGIuZXh0ZW5zaW9uUmFuZ2UgPSBwcm90by5leHRlbnNpb25SYW5nZS5tYXAoKHIpID0+IHtcbiAgICAgICAgICAgIGFzc2VydCghci5vcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiByLnN0YXJ0LCBlbmQ6IHIuZW5kIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkRGVzY3JpcHRvckJvb3QocHJvdG8pIHtcbiAgICBhc3NlcnQoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQubmFtZSkpO1xuICAgIGFzc2VydChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5udW1iZXIpKTtcbiAgICBhc3NlcnQoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQudHlwZSkpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQub25lb2ZJbmRleCkpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQuanNvbk5hbWUpIHx8XG4gICAgICAgIHByb3RvLmpzb25OYW1lID09PSBwcm90b0NhbWVsQ2FzZShwcm90by5uYW1lKSk7XG4gICAgY29uc3QgYiA9IHtcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgbnVtYmVyOiBwcm90by5udW1iZXIsXG4gICAgICAgIHR5cGU6IHByb3RvLnR5cGUsXG4gICAgfTtcbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQubGFiZWwpKSB7XG4gICAgICAgIGIubGFiZWwgPSBwcm90by5sYWJlbDtcbiAgICB9XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLnR5cGVOYW1lKSkge1xuICAgICAgICBiLnR5cGVOYW1lID0gcHJvdG8udHlwZU5hbWU7XG4gICAgfVxuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5leHRlbmRlZSkpIHtcbiAgICAgICAgYi5leHRlbmRlZSA9IHByb3RvLmV4dGVuZGVlO1xuICAgIH1cbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQuZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICBiLmRlZmF1bHRWYWx1ZSA9IHByb3RvLmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHByb3RvLm9wdGlvbnMpIHtcbiAgICAgICAgYi5vcHRpb25zID0gY3JlYXRlRmllbGRPcHRpb25zQm9vdChwcm90by5vcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGI7XG59XG5mdW5jdGlvbiBjcmVhdGVGaWVsZE9wdGlvbnNCb290KHByb3RvKSB7XG4gICAgY29uc3QgYiA9IHt9O1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLmN0eXBlKSk7XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5wYWNrZWQpKSB7XG4gICAgICAgIGIucGFja2VkID0gcHJvdG8ucGFja2VkO1xuICAgIH1cbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5qc3R5cGUpKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5sYXp5KSk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQudW52ZXJpZmllZExhenkpKTtcbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLmRlcHJlY2F0ZWQpKSB7XG4gICAgICAgIGIuZGVwcmVjYXRlZCA9IHByb3RvLmRlcHJlY2F0ZWQ7XG4gICAgfVxuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLndlYWspKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5kZWJ1Z1JlZGFjdCkpO1xuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQucmV0ZW50aW9uKSkge1xuICAgICAgICBiLnJldGVudGlvbiA9IHByb3RvLnJldGVudGlvbjtcbiAgICB9XG4gICAgaWYgKHByb3RvLnRhcmdldHMubGVuZ3RoKSB7XG4gICAgICAgIGIudGFyZ2V0cyA9IHByb3RvLnRhcmdldHM7XG4gICAgfVxuICAgIGlmIChwcm90by5lZGl0aW9uRGVmYXVsdHMubGVuZ3RoKSB7XG4gICAgICAgIGIuZWRpdGlvbkRlZmF1bHRzID0gcHJvdG8uZWRpdGlvbkRlZmF1bHRzLm1hcCgoZCkgPT4gKHtcbiAgICAgICAgICAgIHZhbHVlOiBkLnZhbHVlLFxuICAgICAgICAgICAgZWRpdGlvbjogZC5lZGl0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLmZlYXR1cmVzKSk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQudW5pbnRlcnByZXRlZE9wdGlvbikpO1xuICAgIHJldHVybiBiO1xufVxuZnVuY3Rpb24gY3JlYXRlRW51bURlc2NyaXB0b3JCb290KHByb3RvKSB7XG4gICAgYXNzZXJ0KCFwcm90by5vcHRpb25zKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEVudW1EZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQudmlzaWJpbGl0eSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIHZhbHVlOiBwcm90by52YWx1ZS5tYXAoKHYpID0+IHtcbiAgICAgICAgICAgIGFzc2VydCghdi5vcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdi5uYW1lLFxuICAgICAgICAgICAgICAgIG51bWJlcjogdi5udW1iZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICB9O1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBjb25kaXRpb24gaXMgdHJ1dGh5IG9yIHRocm93IGVycm9yLlxuICovXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEh5ZHJhdGUgYSBzZXJ2aWNlIGRlc2NyaXB0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcnZpY2VEZXNjKGZpbGUsIHBhdGgsIC4uLnBhdGhzKSB7XG4gICAgaWYgKHBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBmaWxlLnNlcnZpY2VzW3BhdGhdO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBwYWNrYWdlTmFtZSA9IFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCB3a3RQdWJsaWNJbXBvcnRQYXRocyA9IHtcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9jb21waWxlci9wbHVnaW4ucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9hbnkucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9hcGkucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9jcHBfZmVhdHVyZXMucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9lbXB0eS5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2ZpZWxkX21hc2sucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9nb19mZWF0dXJlcy5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2phdmFfZmVhdHVyZXMucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9zb3VyY2VfY29udGV4dC5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL3R5cGUucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi93cmFwcGVycy5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxufTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuLy8gYmlvbWUtaWdub3JlIGZvcm1hdDogd2FudCB0aGlzIHRvIHJlYWQgd2VsbFxuZXhwb3J0IGNvbnN0IHN5bWJvbHMgPSB7XG4gICAgaXNNZXNzYWdlOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9pcy1tZXNzYWdlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgTWVzc2FnZTogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi90eXBlcy5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIGNyZWF0ZTogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY3JlYXRlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgZnJvbUpzb246IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2Zyb20tanNvbi5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIGZyb21Kc29uU3RyaW5nOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9mcm9tLWpzb24uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBmcm9tQmluYXJ5OiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9mcm9tLWJpbmFyeS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIHRvQmluYXJ5OiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi90by1iaW5hcnkuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICB0b0pzb246IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL3RvLWpzb24uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICB0b0pzb25TdHJpbmc6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL3RvLWpzb24uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBwcm90b0ludDY0OiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9wcm90by1pbnQ2NC5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIEpzb25WYWx1ZTogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9qc29uLXZhbHVlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgSnNvbk9iamVjdDogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9qc29uLXZhbHVlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgY29kZWdlbjoge1xuICAgICAgICBib290OiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvYm9vdC5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIGZpbGVEZXNjOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvZmlsZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIGVudW1EZXNjOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvZW51bS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIGV4dERlc2M6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9leHRlbnNpb24uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBtZXNzYWdlRGVzYzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL21lc3NhZ2UuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBzZXJ2aWNlRGVzYzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL3NlcnZpY2UuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICB0c0VudW06IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9lbnVtLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgR2VuRmlsZTogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvdHlwZXMuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBHZW5FbnVtOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi90eXBlcy5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIEdlbkV4dGVuc2lvbjogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvdHlwZXMuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBHZW5NZXNzYWdlOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi90eXBlcy5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIEdlblNlcnZpY2U6IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL3R5cGVzLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICB9LFxufTtcbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSB9IGZyb20gXCIuLi9kZXNjcmlwdG9ycy5qc1wiO1xuLyoqXG4gKiBSZXR1cm4gdGhlIFR5cGVTY3JpcHQgdHlwZSAoYXMgYSBzdHJpbmcpIGZvciB0aGUgZ2l2ZW4gc2NhbGFyIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsYXJUeXBlU2NyaXB0VHlwZShzY2FsYXIsIGxvbmdBc1N0cmluZykge1xuICAgIHN3aXRjaCAoc2NhbGFyKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiBsb25nQXNTdHJpbmcgPyBcInN0cmluZ1wiIDogXCJiaWdpbnRcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIFwiVWludDhBcnJheVwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm4gdGhlIEpTT04gdHlwZSAoYXMgYSBzdHJpbmcpIGZvciB0aGUgZ2l2ZW4gc2NhbGFyIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsYXJKc29uVHlwZShzY2FsYXIpIHtcbiAgICBzd2l0Y2ggKHNjYWxhcikge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICByZXR1cm4gYG51bWJlciB8IFwiTmFOXCIgfCBcIkluZmluaXR5XCIgfCBcIi1JbmZpbml0eVwiYDtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmNsYXNzIGJyYW5kdjIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnYgPSBcImNvZGVnZW52MlwiO1xuICAgICAgICB0aGlzLmEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iID0gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IHt9O1xuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5leHBvcnQgKiBmcm9tIFwiLi9ib290LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lbWJlZC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZW51bS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXh0ZW5zaW9uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9maWxlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tZXNzYWdlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zZXJ2aWNlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zeW1ib2xzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zY2FsYXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzLmpzXCI7XG4iLCAiLy8gQGdlbmVyYXRlZCBieSBwcm90b2MtZ2VuLWVzIHYyLjkuMCB3aXRoIHBhcmFtZXRlciBcInRhcmdldD10c1wiXG4vLyBAZ2VuZXJhdGVkIGZyb20gZmlsZSBwcm90by93c19tZXNzYWdlcy5wcm90byAocGFja2FnZSBsaWdodHNwZWVkZHVlbC53cywgc3ludGF4IHByb3RvMylcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmltcG9ydCB0eXBlIHsgR2VuRW51bSwgR2VuRmlsZSwgR2VuTWVzc2FnZSB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWYvY29kZWdlbnYyXCI7XG5pbXBvcnQgeyBlbnVtRGVzYywgZmlsZURlc2MsIG1lc3NhZ2VEZXNjIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1Zi9jb2RlZ2VudjJcIjtcbmltcG9ydCB0eXBlIHsgTWVzc2FnZSB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGZpbGUgcHJvdG8vd3NfbWVzc2FnZXMucHJvdG8uXG4gKi9cbmV4cG9ydCBjb25zdCBmaWxlX3Byb3RvX3dzX21lc3NhZ2VzOiBHZW5GaWxlID0gLypAX19QVVJFX18qL1xuICBmaWxlRGVzYyhcIkNoZHdjbTkwYnk5M2MxOXRaWE56WVdkbGN5NXdjbTkwYnhJUmJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNaXdBMEtDbGR6Ulc1MlpXeHZjR1VTTmdvTWMzUmhkR1ZmZFhCa1lYUmxHQUVnQVNnTE1oNHViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVM1JoZEdWVmNHUmhkR1ZJQUJJMUNnbHliMjl0WDJaMWJHd1lBaUFCS0FzeUlDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVNiMjl0Um5Wc2JFVnljbTl5U0FBU0xRb0VhbTlwYmhnS0lBRW9DeklkTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtOc2FXVnVkRXB2YVc1SUFCSXdDZ2x6Y0dGM2JsOWliM1FZQ3lBQktBc3lHeTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVUY0dGM2JrSnZkRWdBRWpZS0RHRmtaRjkzWVhsd2IybHVkQmdNSUFFb0N6SWVMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa0ZrWkZkaGVYQnZhVzUwU0FBU1BBb1BkWEJrWVhSbFgzZGhlWEJ2YVc1MEdBMGdBU2dMTWlFdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVZYQmtZWFJsVjJGNWNHOXBiblJJQUJJNENnMXRiM1psWDNkaGVYQnZhVzUwR0E0Z0FTZ0xNaDh1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VFc5MlpWZGhlWEJ2YVc1MFNBQVNQQW9QWkdWc1pYUmxYM2RoZVhCdmFXNTBHQThnQVNnTE1pRXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVSR1ZzWlhSbFYyRjVjRzlwYm5SSUFCSThDZzlqYkdWaGNsOTNZWGx3YjJsdWRITVlFQ0FCS0FzeUlTNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NURiR1ZoY2xkaGVYQnZhVzUwYzBnQUVrQUtFV052Ym1acFozVnlaVjl0YVhOemFXeGxHQkVnQVNnTE1pTXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVRMjl1Wm1sbmRYSmxUV2x6YzJsc1pVZ0FFa1VLRkdGa1pGOXRhWE56YVd4bFgzZGhlWEJ2YVc1MEdCSWdBU2dMTWlVdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVFXUmtUV2x6YzJsc1pWZGhlWEJ2YVc1MFNBQVNWZ29kZFhCa1lYUmxYMjFwYzNOcGJHVmZkMkY1Y0c5cGJuUmZjM0JsWldRWUV5QUJLQXN5TFM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1VmNHUmhkR1ZOYVhOemFXeGxWMkY1Y0c5cGJuUlRjR1ZsWkVnQUVrY0tGVzF2ZG1WZmJXbHpjMmxzWlY5M1lYbHdiMmx1ZEJnVUlBRW9DekltTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGsxdmRtVk5hWE56YVd4bFYyRjVjRzlwYm5SSUFCSkxDaGRrWld4bGRHVmZiV2x6YzJsc1pWOTNZWGx3YjJsdWRCZ1ZJQUVvQ3pJb0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmxiR1YwWlUxcGMzTnBiR1ZYWVhsd2IybHVkRWdBRWtNS0UyTnNaV0Z5WDIxcGMzTnBiR1ZmY205MWRHVVlGaUFCS0FzeUpDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NURiR1ZoY2sxcGMzTnBiR1ZTYjNWMFpVZ0FFajhLRVdGa1pGOXRhWE56YVd4bFgzSnZkWFJsR0JjZ0FTZ0xNaUl1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011UVdSa1RXbHpjMmxzWlZKdmRYUmxTQUFTUlFvVWNtVnVZVzFsWDIxcGMzTnBiR1ZmY205MWRHVVlHQ0FCS0FzeUpTNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVNaVzVoYldWTmFYTnphV3hsVW05MWRHVklBQkpGQ2hSa1pXeGxkR1ZmYldsemMybHNaVjl5YjNWMFpSZ1pJQUVvQ3pJbExteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmxiR1YwWlUxcGMzTnBiR1ZTYjNWMFpVZ0FFa3dLR0hObGRGOWhZM1JwZG1WZmJXbHpjMmxzWlY5eWIzVjBaUmdhSUFFb0N6SW9MbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMbE5sZEVGamRHbDJaVTFwYzNOcGJHVlNiM1YwWlVnQUVqb0tEbXhoZFc1amFGOXRhWE56YVd4bEdCc2dBU2dMTWlBdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRHRjFibU5vVFdsemMybHNaVWdBRWpBS0NXUmhaMTl6ZEdGeWRCZ2VJQUVvQ3pJYkxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmhaMU4wWVhKMFNBQVNNZ29LWkdGblgyTmhibU5sYkJnZklBRW9DekljTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtSaFowTmhibU5sYkVnQUVqY0tEV1JoWjE5emRHOXllVjloWTJzWUlDQUJLQXN5SGk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1RVlXZFRkRzl5ZVVGamEwZ0FFaTRLQ0dSaFoxOXNhWE4wR0NFZ0FTZ0xNaG91YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011UkdGblRHbHpkRWdBRWtFS0VtMXBjM05wYjI1ZmMzQmhkMjVmZDJGMlpSZ29JQUVvQ3pJakxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrMXBjM05wYjI1VGNHRjNibGRoZG1WSUFCSkRDaE50YVhOemFXOXVYM04wYjNKNVgyVjJaVzUwR0NrZ0FTZ0xNaVF1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VFdsemMybHZibE4wYjNKNVJYWmxiblJJQUJJL0NoRmtZV2RmYkdsemRGOXlaWE53YjI1elpSZ3lJQUVvQ3pJaUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmhaMHhwYzNSU1pYTndiMjV6WlVnQVFna0tCM0JoZVd4dllXUWlzd1VLQzFOMFlYUmxWWEJrWVhSbEVnc0tBMjV2ZHhnQklBRW9BUklrQ2dKdFpSZ0NJQUVvQ3pJWUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrZG9iM04wRWlnS0JtZG9iM04wY3hnRElBTW9DeklZTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtkb2IzTjBFaWtLQkcxbGRHRVlCQ0FCS0FzeUd5NXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVNiMjl0VFdWMFlSSXNDZ2h0YVhOemFXeGxjeGdGSUFNb0N6SWFMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMazFwYzNOcGJHVVNPQW9PYldsemMybHNaVjlqYjI1bWFXY1lCaUFCS0FzeUlDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NU5hWE56YVd4bFEyOXVabWxuRWpZS0VXMXBjM05wYkdWZmQyRjVjRzlwYm5SekdBY2dBeWdMTWhzdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVYyRjVjRzlwYm5RU053b09iV2x6YzJsc1pWOXliM1YwWlhNWUNDQURLQXN5SHk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1TmFYTnphV3hsVW05MWRHVVNIQW9VWVdOMGFYWmxYMjFwYzNOcGJHVmZjbTkxZEdVWUNTQUJLQWtTR2dvU2JtVjRkRjl0YVhOemFXeGxYM0psWVdSNUdBb2dBU2dCRWkwS0EyUmhaeGdMSUFFb0N6SWJMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JoWjFOMFlYUmxTQUNJQVFFU05Bb0phVzUyWlc1MGIzSjVHQXdnQVNnTE1od3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVTVzUyWlc1MGIzSjVTQUdJQVFFU01Rb0ZjM1J2Y25rWURTQUJLQXN5SFM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1VGRHOXllVk4wWVhSbFNBS0lBUUVTUUFvTVkyRndZV0pwYkdsMGFXVnpHQTRnQVNnTE1pVXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVR3hoZVdWeVEyRndZV0pwYkdsMGFXVnpTQU9JQVFGQ0Jnb0VYMlJoWjBJTUNncGZhVzUyWlc1MGIzSjVRZ2dLQmw5emRHOXllVUlQQ2cxZlkyRndZV0pwYkdsMGFXVnpJaUFLRFZKdmIyMUdkV3hzUlhKeWIzSVNEd29IYldWemMyRm5aUmdCSUFFb0NTSkdDZ3BEYkdsbGJuUktiMmx1RWd3S0JHNWhiV1VZQVNBQktBa1NEQW9FY205dmJSZ0NJQUVvQ1JJTkNnVnRZWEJmZHhnRElBRW9BUklOQ2dWdFlYQmZhQmdFSUFFb0FTSUtDZ2hUY0dGM2JrSnZkQ0l5Q2d0QlpHUlhZWGx3YjJsdWRCSUpDZ0Y0R0FFZ0FTZ0JFZ2tLQVhrWUFpQUJLQUVTRFFvRmMzQmxaV1FZQXlBQktBRWlMZ29PVlhCa1lYUmxWMkY1Y0c5cGJuUVNEUW9GYVc1a1pYZ1lBU0FCS0FVU0RRb0ZjM0JsWldRWUFpQUJLQUVpTXdvTVRXOTJaVmRoZVhCdmFXNTBFZzBLQldsdVpHVjRHQUVnQVNnRkVna0tBWGdZQWlBQktBRVNDUW9CZVJnRElBRW9BU0lmQ2c1RVpXeGxkR1ZYWVhsd2IybHVkQklOQ2dWcGJtUmxlQmdCSUFFb0JTSVFDZzVEYkdWaGNsZGhlWEJ2YVc1MGN5SS9DaEJEYjI1bWFXZDFjbVZOYVhOemFXeGxFaFVLRFcxcGMzTnBiR1ZmYzNCbFpXUVlBU0FCS0FFU0ZBb01iV2x6YzJsc1pWOWhaM0p2R0FJZ0FTZ0JJa3NLRWtGa1pFMXBjM05wYkdWWFlYbHdiMmx1ZEJJUUNnaHliM1YwWlY5cFpCZ0JJQUVvQ1JJSkNnRjRHQUlnQVNnQkVna0tBWGtZQXlBQktBRVNEUW9GYzNCbFpXUVlCQ0FCS0FFaVRBb2FWWEJrWVhSbFRXbHpjMmxzWlZkaGVYQnZhVzUwVTNCbFpXUVNFQW9JY205MWRHVmZhV1FZQVNBQktBa1NEUW9GYVc1a1pYZ1lBaUFCS0FVU0RRb0ZjM0JsWldRWUF5QUJLQUVpVEFvVFRXOTJaVTFwYzNOcGJHVlhZWGx3YjJsdWRCSVFDZ2h5YjNWMFpWOXBaQmdCSUFFb0NSSU5DZ1ZwYm1SbGVCZ0NJQUVvQlJJSkNnRjRHQU1nQVNnQkVna0tBWGtZQkNBQktBRWlPQW9WUkdWc1pYUmxUV2x6YzJsc1pWZGhlWEJ2YVc1MEVoQUtDSEp2ZFhSbFgybGtHQUVnQVNnSkVnMEtCV2x1WkdWNEdBSWdBU2dGSWlVS0VVTnNaV0Z5VFdsemMybHNaVkp2ZFhSbEVoQUtDSEp2ZFhSbFgybGtHQUVnQVNnSkloOEtEMEZrWkUxcGMzTnBiR1ZTYjNWMFpSSU1DZ1J1WVcxbEdBRWdBU2dKSWpRS0VsSmxibUZ0WlUxcGMzTnBiR1ZTYjNWMFpSSVFDZ2h5YjNWMFpWOXBaQmdCSUFFb0NSSU1DZ1J1WVcxbEdBSWdBU2dKSWlZS0VrUmxiR1YwWlUxcGMzTnBiR1ZTYjNWMFpSSVFDZ2h5YjNWMFpWOXBaQmdCSUFFb0NTSXBDaFZUWlhSQlkzUnBkbVZOYVhOemFXeGxVbTkxZEdVU0VBb0ljbTkxZEdWZmFXUVlBU0FCS0FraUlRb05UR0YxYm1Ob1RXbHpjMmxzWlJJUUNnaHliM1YwWlY5cFpCZ0JJQUVvQ1NLQ0Fnb0ZSMmh2YzNRU0Nnb0NhV1FZQVNBQktBa1NDUW9CZUJnQ0lBRW9BUklKQ2dGNUdBTWdBU2dCRWdvS0FuWjRHQVFnQVNnQkVnb0tBblo1R0FVZ0FTZ0JFZ2tLQVhRWUJpQUJLQUVTREFvRWMyVnNaaGdISUFFb0NCSXVDZ2wzWVhsd2IybHVkSE1ZQ0NBREtBc3lHeTVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVYWVhsd2IybHVkQkllQ2haamRYSnlaVzUwWDNkaGVYQnZhVzUwWDJsdVpHVjRHQWtnQVNnRkVnb0tBbWh3R0FvZ0FTZ0ZFZzBLQld0cGJHeHpHQXNnQVNnRkVqSUtCR2hsWVhRWURDQUJLQXN5SHk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1VGFHbHdTR1ZoZEZacFpYZElBSWdCQVVJSENnVmZhR1ZoZENJdkNnaFhZWGx3YjJsdWRCSUpDZ0Y0R0FFZ0FTZ0JFZ2tLQVhrWUFpQUJLQUVTRFFvRmMzQmxaV1FZQXlBQktBRWlLd29JVW05dmJVMWxkR0VTQ1FvQll4Z0JJQUVvQVJJSkNnRjNHQUlnQVNnQkVna0tBV2dZQXlBQktBRWlpd0lLQjAxcGMzTnBiR1VTQ2dvQ2FXUVlBU0FCS0FrU0RRb0ZiM2R1WlhJWUFpQUJLQWtTREFvRWMyVnNaaGdESUFFb0NCSUpDZ0Y0R0FRZ0FTZ0JFZ2tLQVhrWUJTQUJLQUVTQ2dvQ2RuZ1lCaUFCS0FFU0Nnb0NkbmtZQnlBQktBRVNDUW9CZEJnSUlBRW9BUklUQ2d0aFozSnZYM0poWkdsMWN4Z0pJQUVvQVJJUUNnaHNhV1psZEdsdFpSZ0tJQUVvQVJJVENndHNZWFZ1WTJoZmRHbHRaUmdMSUFFb0FSSVNDZ3BsZUhCcGNtVnpYMkYwR0F3Z0FTZ0JFaEVLQ1hSaGNtZGxkRjlwWkJnTklBRW9DUkl5Q2dSb1pXRjBHQTRnQVNnTE1oOHViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVMmhwY0VobFlYUldhV1YzU0FDSUFRRkNCd29GWDJobFlYUWl4Z0VLRFUxcGMzTnBiR1ZEYjI1bWFXY1NEUW9GYzNCbFpXUVlBU0FCS0FFU0VRb0pjM0JsWldSZmJXbHVHQUlnQVNnQkVoRUtDWE53WldWa1gyMWhlQmdESUFFb0FSSVFDZ2hoWjNKdlgyMXBiaGdFSUFFb0FSSVRDZ3RoWjNKdlgzSmhaR2wxY3hnRklBRW9BUklRQ2doc2FXWmxkR2x0WlJnR0lBRW9BUkkzQ2d0b1pXRjBYMk52Ym1acFp4Z0hJQUVvQ3pJZExteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxraGxZWFJRWVhKaGJYTklBSWdCQVVJT0NneGZhR1ZoZEY5amIyNW1hV2NpV0FvTVRXbHpjMmxzWlZKdmRYUmxFZ29LQW1sa0dBRWdBU2dKRWd3S0JHNWhiV1VZQWlBQktBa1NMZ29KZDJGNWNHOXBiblJ6R0FNZ0F5Z0xNaHN1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VjJGNWNHOXBiblFpZGdvTVUyaHBjRWhsWVhSV2FXVjNFZ2tLQVhZWUFTQUJLQUVTQ1FvQmJSZ0NJQUVvQVJJSkNnRjNHQU1nQVNnQkVna0tBVzhZQkNBQktBRVNDZ29DYlhNWUJTQUJLQUVTQ2dvQ2MzVVlCaUFCS0FFU0Nnb0NhM1VZQnlBQktBRVNDZ29DYTJRWUNDQUJLQUVTQ2dvQ1pYZ1lDU0FCS0FFaWdBRUtDa2hsWVhSUVlYSmhiWE1TQ3dvRGJXRjRHQUVnQVNnQkVnOEtCM2RoY201ZllYUVlBaUFCS0FFU0V3b0xiM1psY21obFlYUmZZWFFZQXlBQktBRVNGQW9NYldGeWEyVnlYM053WldWa0dBUWdBU2dCRWd3S0JHdGZkWEFZQlNBQktBRVNEZ29HYTE5a2IzZHVHQVlnQVNnQkVnc0tBMlY0Y0JnSElBRW9BU0ozQ2cxVmNHZHlZV1JsUldabVpXTjBFaklLQkhSNWNHVVlBU0FCS0E0eUpDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVZjR2R5WVdSbFJXWm1aV04wVkhsd1pSSVVDZ3B0ZFd4MGFYQnNhV1Z5R0FJZ0FTZ0JTQUFTRXdvSmRXNXNiMk5yWDJsa0dBTWdBU2dKU0FCQ0J3b0ZkbUZzZFdVaWVRb1NVR3hoZVdWeVEyRndZV0pwYkdsMGFXVnpFaGdLRUhOd1pXVmtYMjExYkhScGNHeHBaWElZQVNBQktBRVNHUW9SZFc1c2IyTnJaV1JmYldsemMybHNaWE1ZQWlBREtBa1NGUW9OYUdWaGRGOWpZWEJoWTJsMGVSZ0RJQUVvQVJJWENnOW9aV0YwWDJWbVptbGphV1Z1WTNrWUJDQUJLQUVpOUFFS0IwUmhaMDV2WkdVU0Nnb0NhV1FZQVNBQktBa1NMQW9FYTJsdVpCZ0NJQUVvRGpJZUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmhaMDV2WkdWTGFXNWtFZzBLQld4aFltVnNHQU1nQVNnSkVqQUtCbk4wWVhSMWN4Z0VJQUVvRGpJZ0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmhaMDV2WkdWVGRHRjBkWE1TRXdvTGNtVnRZV2x1YVc1blgzTVlCU0FCS0FFU0Vnb0taSFZ5WVhScGIyNWZjeGdHSUFFb0FSSVNDZ3B5WlhCbFlYUmhZbXhsR0FjZ0FTZ0lFakVLQjJWbVptVmpkSE1ZQ0NBREtBc3lJQzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVWY0dkeVlXUmxSV1ptWldOMElqVUtDRVJoWjFOMFlYUmxFaWtLQlc1dlpHVnpHQUVnQXlnTE1ob3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVSR0ZuVG05a1pTSWJDZ2hFWVdkVGRHRnlkQklQQ2dkdWIyUmxYMmxrR0FFZ0FTZ0pJaHdLQ1VSaFowTmhibU5sYkJJUENnZHViMlJsWDJsa0dBRWdBU2dKSWpFS0MwUmhaMU4wYjNKNVFXTnJFZzhLQjI1dlpHVmZhV1FZQVNBQktBa1NFUW9KWTJodmFXTmxYMmxrR0FJZ0FTZ0pJZ2tLQjBSaFoweHBjM1FpT3dvUFJHRm5UR2x6ZEZKbGMzQnZibk5sRWlnS0EyUmhaeGdCSUFFb0N6SWJMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JoWjFOMFlYUmxJbG9LRFVsdWRtVnVkRzl5ZVVsMFpXMFNEQW9FZEhsd1pSZ0JJQUVvQ1JJU0NncDJZWEpwWVc1MFgybGtHQUlnQVNnSkVoVUtEV2hsWVhSZlkyRndZV05wZEhrWUF5QUJLQUVTRUFvSWNYVmhiblJwZEhrWUJDQUJLQVVpUEFvSlNXNTJaVzUwYjNKNUVpOEtCV2wwWlcxekdBRWdBeWdMTWlBdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVNXNTJaVzUwYjNKNVNYUmxiU0l2Q2hOVGRHOXllVVJwWVd4dlozVmxRMmh2YVdObEVnb0tBbWxrR0FFZ0FTZ0pFZ3dLQkhSbGVIUVlBaUFCS0FraUx3b1FVM1J2Y25sVWRYUnZjbWxoYkZScGNCSU5DZ1YwYVhSc1pSZ0JJQUVvQ1JJTUNnUjBaWGgwR0FJZ0FTZ0pJb0FDQ2cxVGRHOXllVVJwWVd4dlozVmxFZzhLQjNOd1pXRnJaWElZQVNBQktBa1NEQW9FZEdWNGRCZ0NJQUVvQ1JJdUNnWnBiblJsYm5RWUF5QUJLQTR5SGk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1VGRHOXllVWx1ZEdWdWRCSVdDZzVqYjI1MGFXNTFaVjlzWVdKbGJCZ0VJQUVvQ1JJM0NnZGphRzlwWTJWekdBVWdBeWdMTWlZdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUzUnZjbmxFYVdGc2IyZDFaVU5vYjJsalpSSStDZ3gwZFhSdmNtbGhiRjkwYVhBWUJpQUJLQXN5SXk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1VGRHOXllVlIxZEc5eWFXRnNWR2x3U0FDSUFRRkNEd29OWDNSMWRHOXlhV0ZzWDNScGNDSkVDZ3BUZEc5eWVVVjJaVzUwRWhJS0NtTm9ZWEIwWlhKZmFXUVlBU0FCS0FrU0R3b0hibTlrWlY5cFpCZ0NJQUVvQ1JJUkNnbDBhVzFsYzNSaGJYQVlBeUFCS0FFaWx3SUtDbE4wYjNKNVUzUmhkR1VTRXdvTFlXTjBhWFpsWDI1dlpHVVlBU0FCS0FrU053b0laR2xoYkc5bmRXVVlBaUFCS0FzeUlDNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVRkRzl5ZVVScFlXeHZaM1ZsU0FDSUFRRVNFUW9KWVhaaGFXeGhZbXhsR0FNZ0F5Z0pFamNLQldac1lXZHpHQVFnQXlnTE1pZ3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVM1J2Y25sVGRHRjBaUzVHYkdGbmMwVnVkSEo1RWpRS0RYSmxZMlZ1ZEY5bGRtVnVkSE1ZQlNBREtBc3lIUzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVUZEc5eWVVVjJaVzUwR2l3S0NrWnNZV2R6Ulc1MGNua1NDd29EYTJWNUdBRWdBU2dKRWcwS0JYWmhiSFZsR0FJZ0FTZ0lPZ0k0QVVJTENnbGZaR2xoYkc5bmRXVWlKZ29RVFdsemMybHZibE53WVhkdVYyRjJaUklTQ2dwM1lYWmxYMmx1WkdWNEdBRWdBU2dGSWpJS0VVMXBjM05wYjI1VGRHOXllVVYyWlc1MEVnMEtCV1YyWlc1MEdBRWdBU2dKRWc0S0JtSmxZV052YmhnQ0lBRW9CU3FyQVFvTlJHRm5UbTlrWlZOMFlYUjFjeElmQ2h0RVFVZGZUazlFUlY5VFZFRlVWVk5mVlU1VFVFVkRTVVpKUlVRUUFCSWFDaFpFUVVkZlRrOUVSVjlUVkVGVVZWTmZURTlEUzBWRUVBRVNIUW9aUkVGSFgwNVBSRVZmVTFSQlZGVlRYMEZXUVVsTVFVSk1SUkFDRWg4S0cwUkJSMTlPVDBSRlgxTlVRVlJWVTE5SlRsOVFVazlIVWtWVFV4QURFaDBLR1VSQlIxOU9UMFJGWDFOVVFWUlZVMTlEVDAxUVRFVlVSVVFRQkNxUkFRb0xSR0ZuVG05a1pVdHBibVFTSFFvWlJFRkhYMDVQUkVWZlMwbE9SRjlWVGxOUVJVTkpSa2xGUkJBQUVoa0tGVVJCUjE5T1QwUkZYMHRKVGtSZlJrRkRWRTlTV1JBQkVoWUtFa1JCUjE5T1QwUkZYMHRKVGtSZlZVNUpWQkFDRWhjS0UwUkJSMTlPVDBSRlgwdEpUa1JmVTFSUFVsa1FBeElYQ2hORVFVZGZUazlFUlY5TFNVNUVYME5TUVVaVUVBUXEyZ0VLRVZWd1ozSmhaR1ZGWm1abFkzUlVlWEJsRWlNS0gxVlFSMUpCUkVWZlJVWkdSVU5VWDFSWlVFVmZWVTVUVUVWRFNVWkpSVVFRQUJJb0NpUlZVRWRTUVVSRlgwVkdSa1ZEVkY5VVdWQkZYMU5RUlVWRVgwMVZURlJKVUV4SlJWSVFBUkltQ2lKVlVFZFNRVVJGWDBWR1JrVkRWRjlVV1ZCRlgwMUpVMU5KVEVWZlZVNU1UME5MRUFJU0pRb2hWVkJIVWtGRVJWOUZSa1pGUTFSZlZGbFFSVjlJUlVGVVgwTkJVRUZEU1ZSWkVBTVNKd29qVlZCSFVrRkVSVjlGUmtaRlExUmZWRmxRUlY5SVJVRlVYMFZHUmtsRFNVVk9RMWtRQkNwY0NndFRkRzl5ZVVsdWRHVnVkQkljQ2hoVFZFOVNXVjlKVGxSRlRsUmZWVTVUVUVWRFNVWkpSVVFRQUJJWUNoUlRWRTlTV1Y5SlRsUkZUbFJmUmtGRFZFOVNXUkFCRWhVS0VWTlVUMUpaWDBsT1ZFVk9WRjlWVGtsVUVBSkNJbG9nVEdsbmFIUlRjR1ZsWkVSMVpXd3ZhVzUwWlhKdVlXd3ZjSEp2ZEc4dmQzTmlCbkJ5YjNSdk13XCIpO1xuXG4vKipcbiAqIFdzRW52ZWxvcGUgd3JhcHMgYWxsIFdlYlNvY2tldCBtZXNzYWdlcyBpbiBhIGRpc2NyaW1pbmF0ZWQgdW5pb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Xc0VudmVsb3BlXG4gKi9cbmV4cG9ydCB0eXBlIFdzRW52ZWxvcGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuV3NFbnZlbG9wZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBvbmVvZiBsaWdodHNwZWVkZHVlbC53cy5Xc0VudmVsb3BlLnBheWxvYWRcbiAgICovXG4gIHBheWxvYWQ6IHtcbiAgICAvKipcbiAgICAgKiBTZXJ2ZXIgXHUyMTkyIENsaWVudFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZSBzdGF0ZV91cGRhdGUgPSAxO1xuICAgICAqL1xuICAgIHZhbHVlOiBTdGF0ZVVwZGF0ZTtcbiAgICBjYXNlOiBcInN0YXRlVXBkYXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yIHJvb21fZnVsbCA9IDI7XG4gICAgICovXG4gICAgdmFsdWU6IFJvb21GdWxsRXJyb3I7XG4gICAgY2FzZTogXCJyb29tRnVsbFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIENsaWVudCBcdTIxOTIgU2VydmVyXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW4gam9pbiA9IDEwO1xuICAgICAqL1xuICAgIHZhbHVlOiBDbGllbnRKb2luO1xuICAgIGNhc2U6IFwiam9pblwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3Qgc3Bhd25fYm90ID0gMTE7XG4gICAgICovXG4gICAgdmFsdWU6IFNwYXduQm90O1xuICAgIGNhc2U6IFwic3Bhd25Cb3RcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50IGFkZF93YXlwb2ludCA9IDEyO1xuICAgICAqL1xuICAgIHZhbHVlOiBBZGRXYXlwb2ludDtcbiAgICBjYXNlOiBcImFkZFdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5VcGRhdGVXYXlwb2ludCB1cGRhdGVfd2F5cG9pbnQgPSAxMztcbiAgICAgKi9cbiAgICB2YWx1ZTogVXBkYXRlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJ1cGRhdGVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50IG1vdmVfd2F5cG9pbnQgPSAxNDtcbiAgICAgKi9cbiAgICB2YWx1ZTogTW92ZVdheXBvaW50O1xuICAgIGNhc2U6IFwibW92ZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVXYXlwb2ludCBkZWxldGVfd2F5cG9pbnQgPSAxNTtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGVsZXRlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJkZWxldGVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJXYXlwb2ludHMgY2xlYXJfd2F5cG9pbnRzID0gMTY7XG4gICAgICovXG4gICAgdmFsdWU6IENsZWFyV2F5cG9pbnRzO1xuICAgIGNhc2U6IFwiY2xlYXJXYXlwb2ludHNcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkNvbmZpZ3VyZU1pc3NpbGUgY29uZmlndXJlX21pc3NpbGUgPSAxNztcbiAgICAgKi9cbiAgICB2YWx1ZTogQ29uZmlndXJlTWlzc2lsZTtcbiAgICBjYXNlOiBcImNvbmZpZ3VyZU1pc3NpbGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVXYXlwb2ludCBhZGRfbWlzc2lsZV93YXlwb2ludCA9IDE4O1xuICAgICAqL1xuICAgIHZhbHVlOiBBZGRNaXNzaWxlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJhZGRNaXNzaWxlV2F5cG9pbnRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkIHVwZGF0ZV9taXNzaWxlX3dheXBvaW50X3NwZWVkID0gMTk7XG4gICAgICovXG4gICAgdmFsdWU6IFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkO1xuICAgIGNhc2U6IFwidXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1vdmVNaXNzaWxlV2F5cG9pbnQgbW92ZV9taXNzaWxlX3dheXBvaW50ID0gMjA7XG4gICAgICovXG4gICAgdmFsdWU6IE1vdmVNaXNzaWxlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJtb3ZlTWlzc2lsZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlV2F5cG9pbnQgZGVsZXRlX21pc3NpbGVfd2F5cG9pbnQgPSAyMTtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGVsZXRlTWlzc2lsZVdheXBvaW50O1xuICAgIGNhc2U6IFwiZGVsZXRlTWlzc2lsZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZSBjbGVhcl9taXNzaWxlX3JvdXRlID0gMjI7XG4gICAgICovXG4gICAgdmFsdWU6IENsZWFyTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwiY2xlYXJNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVSb3V0ZSBhZGRfbWlzc2lsZV9yb3V0ZSA9IDIzO1xuICAgICAqL1xuICAgIHZhbHVlOiBBZGRNaXNzaWxlUm91dGU7XG4gICAgY2FzZTogXCJhZGRNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlJlbmFtZU1pc3NpbGVSb3V0ZSByZW5hbWVfbWlzc2lsZV9yb3V0ZSA9IDI0O1xuICAgICAqL1xuICAgIHZhbHVlOiBSZW5hbWVNaXNzaWxlUm91dGU7XG4gICAgY2FzZTogXCJyZW5hbWVNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVSb3V0ZSBkZWxldGVfbWlzc2lsZV9yb3V0ZSA9IDI1O1xuICAgICAqL1xuICAgIHZhbHVlOiBEZWxldGVNaXNzaWxlUm91dGU7XG4gICAgY2FzZTogXCJkZWxldGVNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZSBzZXRfYWN0aXZlX21pc3NpbGVfcm91dGUgPSAyNjtcbiAgICAgKi9cbiAgICB2YWx1ZTogU2V0QWN0aXZlTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwic2V0QWN0aXZlTWlzc2lsZVJvdXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5MYXVuY2hNaXNzaWxlIGxhdW5jaF9taXNzaWxlID0gMjc7XG4gICAgICovXG4gICAgdmFsdWU6IExhdW5jaE1pc3NpbGU7XG4gICAgY2FzZTogXCJsYXVuY2hNaXNzaWxlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogUGhhc2UgMjogREFHIGNvbW1hbmRzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0IGRhZ19zdGFydCA9IDMwO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdTdGFydDtcbiAgICBjYXNlOiBcImRhZ1N0YXJ0XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdDYW5jZWwgZGFnX2NhbmNlbCA9IDMxO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdDYW5jZWw7XG4gICAgY2FzZTogXCJkYWdDYW5jZWxcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrIGRhZ19zdG9yeV9hY2sgPSAzMjtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGFnU3RvcnlBY2s7XG4gICAgY2FzZTogXCJkYWdTdG9yeUFja1wiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdCBkYWdfbGlzdCA9IDMzO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdMaXN0O1xuICAgIGNhc2U6IFwiZGFnTGlzdFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIFBoYXNlIDI6IE1pc3Npb24gY29tbWFuZHNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblNwYXduV2F2ZSBtaXNzaW9uX3NwYXduX3dhdmUgPSA0MDtcbiAgICAgKi9cbiAgICB2YWx1ZTogTWlzc2lvblNwYXduV2F2ZTtcbiAgICBjYXNlOiBcIm1pc3Npb25TcGF3bldhdmVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TdG9yeUV2ZW50IG1pc3Npb25fc3RvcnlfZXZlbnQgPSA0MTtcbiAgICAgKi9cbiAgICB2YWx1ZTogTWlzc2lvblN0b3J5RXZlbnQ7XG4gICAgY2FzZTogXCJtaXNzaW9uU3RvcnlFdmVudFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIFBoYXNlIDI6IFNlcnZlciByZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFJlc3BvbnNlIGRhZ19saXN0X3Jlc3BvbnNlID0gNTA7XG4gICAgICovXG4gICAgdmFsdWU6IERhZ0xpc3RSZXNwb25zZTtcbiAgICBjYXNlOiBcImRhZ0xpc3RSZXNwb25zZVwiO1xuICB9IHwgeyBjYXNlOiB1bmRlZmluZWQ7IHZhbHVlPzogdW5kZWZpbmVkIH07XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Xc0VudmVsb3BlLlxuICogVXNlIGBjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgV3NFbnZlbG9wZVNjaGVtYTogR2VuTWVzc2FnZTxXc0VudmVsb3BlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMCk7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IEZ1bGwgZ2FtZSBzdGF0ZVxuICogU2VudCBldmVyeSB0aWNrICh+MjBIeikgY29udGFpbmluZyB0aGUgcGxheWVyJ3MgdmlldyBvZiB0aGUgZ2FtZSB3b3JsZFxuICogd2l0aCBsaWdodC1kZWxheWVkIHBvc2l0aW9ucyBvZiBvdGhlciBzaGlwcyBhbmQgbWlzc2lsZXNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZVxuICovXG5leHBvcnQgdHlwZSBTdGF0ZVVwZGF0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG5vdyA9IDE7XG4gICAqL1xuICBub3c6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5HaG9zdCBtZSA9IDI7XG4gICAqL1xuICBtZT86IEdob3N0O1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLkdob3N0IGdob3N0cyA9IDM7XG4gICAqL1xuICBnaG9zdHM6IEdob3N0W107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGEgbWV0YSA9IDQ7XG4gICAqL1xuICBtZXRhPzogUm9vbU1ldGE7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZSBtaXNzaWxlcyA9IDU7XG4gICAqL1xuICBtaXNzaWxlczogTWlzc2lsZVtdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVDb25maWcgbWlzc2lsZV9jb25maWcgPSA2O1xuICAgKi9cbiAgbWlzc2lsZUNvbmZpZz86IE1pc3NpbGVDb25maWc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnQgbWlzc2lsZV93YXlwb2ludHMgPSA3O1xuICAgKi9cbiAgbWlzc2lsZVdheXBvaW50czogV2F5cG9pbnRbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlUm91dGUgbWlzc2lsZV9yb3V0ZXMgPSA4O1xuICAgKi9cbiAgbWlzc2lsZVJvdXRlczogTWlzc2lsZVJvdXRlW107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGFjdGl2ZV9taXNzaWxlX3JvdXRlID0gOTtcbiAgICovXG4gIGFjdGl2ZU1pc3NpbGVSb3V0ZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBuZXh0X21pc3NpbGVfcmVhZHkgPSAxMDtcbiAgICovXG4gIG5leHRNaXNzaWxlUmVhZHk6IG51bWJlcjtcblxuICAvKipcbiAgICogUGhhc2UgMiBhZGRpdGlvbnM6XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhdGUgZGFnID0gMTE7XG4gICAqL1xuICBkYWc/OiBEYWdTdGF0ZTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnkgaW52ZW50b3J5ID0gMTI7XG4gICAqL1xuICBpbnZlbnRvcnk/OiBJbnZlbnRvcnk7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlTdGF0ZSBzdG9yeSA9IDEzO1xuICAgKi9cbiAgc3Rvcnk/OiBTdG9yeVN0YXRlO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllcyBjYXBhYmlsaXRpZXMgPSAxNDtcbiAgICovXG4gIGNhcGFiaWxpdGllcz86IFBsYXllckNhcGFiaWxpdGllcztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0YXRlVXBkYXRlLlxuICogVXNlIGBjcmVhdGUoU3RhdGVVcGRhdGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRlVXBkYXRlU2NoZW1hOiBHZW5NZXNzYWdlPFN0YXRlVXBkYXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMSk7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IFJvb20gZnVsbCBlcnJvclxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlJvb21GdWxsRXJyb3JcbiAqL1xuZXhwb3J0IHR5cGUgUm9vbUZ1bGxFcnJvciA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDE7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yLlxuICogVXNlIGBjcmVhdGUoUm9vbUZ1bGxFcnJvclNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgUm9vbUZ1bGxFcnJvclNjaGVtYTogR2VuTWVzc2FnZTxSb29tRnVsbEVycm9yPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMik7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IEpvaW4gZ2FtZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xpZW50Sm9pbiA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5DbGllbnRKb2luXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvb20gPSAyO1xuICAgKi9cbiAgcm9vbTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtYXBfdyA9IDM7XG4gICAqL1xuICBtYXBXOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1hcF9oID0gNDtcbiAgICovXG4gIG1hcEg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW4uXG4gKiBVc2UgYGNyZWF0ZShDbGllbnRKb2luU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnRKb2luU2NoZW1hOiBHZW5NZXNzYWdlPENsaWVudEpvaW4+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzKTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogU3Bhd24gQUkgYm90XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3RcbiAqL1xuZXhwb3J0IHR5cGUgU3Bhd25Cb3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3RcIj4gJiB7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TcGF3bkJvdC5cbiAqIFVzZSBgY3JlYXRlKFNwYXduQm90U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTcGF3bkJvdFNjaGVtYTogR2VuTWVzc2FnZTxTcGF3bkJvdD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBBZGQgd2F5cG9pbnQgdG8gc2hpcCByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIEFkZFdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDE7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSAyO1xuICAgKi9cbiAgeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZCA9IDM7XG4gICAqL1xuICBzcGVlZDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQWRkV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShBZGRXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQWRkV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8QWRkV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA1KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogVXBkYXRlIHdheXBvaW50IHNwZWVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRcbiAqL1xuZXhwb3J0IHR5cGUgVXBkYXRlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMTtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gMjtcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5VcGRhdGVXYXlwb2ludC5cbiAqIFVzZSBgY3JlYXRlKFVwZGF0ZVdheXBvaW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBVcGRhdGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxVcGRhdGVXYXlwb2ludD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDYpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBNb3ZlIHdheXBvaW50IHBvc2l0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIE1vdmVXYXlwb2ludCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Nb3ZlV2F5cG9pbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMTtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAyO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMztcbiAgICovXG4gIHk6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1vdmVXYXlwb2ludC5cbiAqIFVzZSBgY3JlYXRlKE1vdmVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTW92ZVdheXBvaW50U2NoZW1hOiBHZW5NZXNzYWdlPE1vdmVXYXlwb2ludD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDcpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBEZWxldGUgd2F5cG9pbnQgZnJvbSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIERlbGV0ZVdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDE7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShEZWxldGVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGVsZXRlV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8RGVsZXRlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA4KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQ2xlYXIgYWxsIHdheXBvaW50c1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyV2F5cG9pbnRzXG4gKi9cbmV4cG9ydCB0eXBlIENsZWFyV2F5cG9pbnRzID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyV2F5cG9pbnRzXCI+ICYge1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJXYXlwb2ludHMuXG4gKiBVc2UgYGNyZWF0ZShDbGVhcldheXBvaW50c1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ2xlYXJXYXlwb2ludHNTY2hlbWE6IEdlbk1lc3NhZ2U8Q2xlYXJXYXlwb2ludHM+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA5KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQ29uZmlndXJlIG1pc3NpbGUgcGFyYW1ldGVyc1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNvbmZpZ3VyZU1pc3NpbGVcbiAqL1xuZXhwb3J0IHR5cGUgQ29uZmlndXJlTWlzc2lsZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Db25maWd1cmVNaXNzaWxlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWlzc2lsZV9zcGVlZCA9IDE7XG4gICAqL1xuICBtaXNzaWxlU3BlZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWlzc2lsZV9hZ3JvID0gMjtcbiAgICovXG4gIG1pc3NpbGVBZ3JvOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Db25maWd1cmVNaXNzaWxlLlxuICogVXNlIGBjcmVhdGUoQ29uZmlndXJlTWlzc2lsZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ29uZmlndXJlTWlzc2lsZVNjaGVtYTogR2VuTWVzc2FnZTxDb25maWd1cmVNaXNzaWxlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTApO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBBZGQgd2F5cG9pbnQgdG8gbWlzc2lsZSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBBZGRNaXNzaWxlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMjtcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDM7XG4gICAqL1xuICB5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gNDtcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShBZGRNaXNzaWxlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEFkZE1pc3NpbGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxBZGRNaXNzaWxlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxMSk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFVwZGF0ZSBtaXNzaWxlIHdheXBvaW50IHNwZWVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRcbiAqL1xuZXhwb3J0IHR5cGUgVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgaW5kZXggPSAyO1xuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3BlZWQgPSAzO1xuICAgKi9cbiAgc3BlZWQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkLlxuICogVXNlIGBjcmVhdGUoVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkU2NoZW1hOiBHZW5NZXNzYWdlPFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTIpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBNb3ZlIG1pc3NpbGUgd2F5cG9pbnQgcG9zaXRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Nb3ZlTWlzc2lsZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIE1vdmVNaXNzaWxlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTW92ZU1pc3NpbGVXYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDI7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMztcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDQ7XG4gICAqL1xuICB5OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Nb3ZlTWlzc2lsZVdheXBvaW50LlxuICogVXNlIGBjcmVhdGUoTW92ZU1pc3NpbGVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTW92ZU1pc3NpbGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxNb3ZlTWlzc2lsZVdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTMpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBEZWxldGUgbWlzc2lsZSB3YXlwb2ludFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBEZWxldGVNaXNzaWxlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMjtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShEZWxldGVNaXNzaWxlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlbGV0ZU1pc3NpbGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxEZWxldGVNaXNzaWxlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxNCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENsZWFyIG1pc3NpbGUgcm91dGUgd2F5cG9pbnRzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJNaXNzaWxlUm91dGVcbiAqL1xuZXhwb3J0IHR5cGUgQ2xlYXJNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZS5cbiAqIFVzZSBgY3JlYXRlKENsZWFyTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGVhck1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxDbGVhck1pc3NpbGVSb3V0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDE1KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQ3JlYXRlIG5ldyBtaXNzaWxlIHJvdXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIEFkZE1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVSb3V0ZS5cbiAqIFVzZSBgY3JlYXRlKEFkZE1pc3NpbGVSb3V0ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQWRkTWlzc2lsZVJvdXRlU2NoZW1hOiBHZW5NZXNzYWdlPEFkZE1pc3NpbGVSb3V0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDE2KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogUmVuYW1lIG1pc3NpbGUgcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGVcbiAqL1xuZXhwb3J0IHR5cGUgUmVuYW1lTWlzc2lsZVJvdXRlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlJlbmFtZU1pc3NpbGVSb3V0ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDI7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGUuXG4gKiBVc2UgYGNyZWF0ZShSZW5hbWVNaXNzaWxlUm91dGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlbmFtZU1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxSZW5hbWVNaXNzaWxlUm91dGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxNyk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IERlbGV0ZSBtaXNzaWxlIHJvdXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIERlbGV0ZU1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlUm91dGUuXG4gKiBVc2UgYGNyZWF0ZShEZWxldGVNaXNzaWxlUm91dGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlbGV0ZU1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxEZWxldGVNaXNzaWxlUm91dGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxOCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFNldCBhY3RpdmUgbWlzc2lsZSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZVxuICovXG5leHBvcnQgdHlwZSBTZXRBY3RpdmVNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU2V0QWN0aXZlTWlzc2lsZVJvdXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU2V0QWN0aXZlTWlzc2lsZVJvdXRlLlxuICogVXNlIGBjcmVhdGUoU2V0QWN0aXZlTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXRBY3RpdmVNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8U2V0QWN0aXZlTWlzc2lsZVJvdXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTkpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBMYXVuY2ggbWlzc2lsZSBvbiByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkxhdW5jaE1pc3NpbGVcbiAqL1xuZXhwb3J0IHR5cGUgTGF1bmNoTWlzc2lsZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5MYXVuY2hNaXNzaWxlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZS5cbiAqIFVzZSBgY3JlYXRlKExhdW5jaE1pc3NpbGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IExhdW5jaE1pc3NpbGVTY2hlbWE6IEdlbk1lc3NhZ2U8TGF1bmNoTWlzc2lsZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIwKTtcblxuLyoqXG4gKiBTaGlwL2dob3N0IHNuYXBzaG90IHdpdGggcG9zaXRpb24sIHZlbG9jaXR5LCBhbmQgc3RhdGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5HaG9zdFxuICovXG5leHBvcnQgdHlwZSBHaG9zdCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5HaG9zdFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGlkID0gMTtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAyO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMztcbiAgICovXG4gIHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdnggPSA0O1xuICAgKi9cbiAgdng6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdnkgPSA1O1xuICAgKi9cbiAgdnk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdCA9IDY7XG4gICAqL1xuICB0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogYm9vbCBzZWxmID0gNztcbiAgICovXG4gIHNlbGY6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnQgd2F5cG9pbnRzID0gODtcbiAgICovXG4gIHdheXBvaW50czogV2F5cG9pbnRbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBjdXJyZW50X3dheXBvaW50X2luZGV4ID0gOTtcbiAgICovXG4gIGN1cnJlbnRXYXlwb2ludEluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgaHAgPSAxMDtcbiAgICovXG4gIGhwOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIga2lsbHMgPSAxMTtcbiAgICovXG4gIGtpbGxzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3IGhlYXQgPSAxMjtcbiAgICovXG4gIGhlYXQ/OiBTaGlwSGVhdFZpZXc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5HaG9zdC5cbiAqIFVzZSBgY3JlYXRlKEdob3N0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBHaG9zdFNjaGVtYTogR2VuTWVzc2FnZTxHaG9zdD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIxKTtcblxuLyoqXG4gKiBXYXlwb2ludCB3aXRoIHBvc2l0aW9uIGFuZCB0YXJnZXQgc3BlZWRcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBXYXlwb2ludCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAxO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMjtcbiAgICovXG4gIHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3BlZWQgPSAzO1xuICAgKi9cbiAgc3BlZWQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLldheXBvaW50LlxuICogVXNlIGBjcmVhdGUoV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFdheXBvaW50U2NoZW1hOiBHZW5NZXNzYWdlPFdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjIpO1xuXG4vKipcbiAqIFJvb20gY29uc3RhbnRzIChzcGVlZCBvZiBsaWdodCwgd29ybGQgZGltZW5zaW9ucylcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Sb29tTWV0YVxuICovXG5leHBvcnQgdHlwZSBSb29tTWV0YSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Sb29tTWV0YVwiPiAmIHtcbiAgLyoqXG4gICAqIFNwZWVkIG9mIGxpZ2h0XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGMgPSAxO1xuICAgKi9cbiAgYzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBXb3JsZCB3aWR0aFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB3ID0gMjtcbiAgICovXG4gIHc6IG51bWJlcjtcblxuICAvKipcbiAgICogV29ybGQgaGVpZ2h0XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGggPSAzO1xuICAgKi9cbiAgaDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGEuXG4gKiBVc2UgYGNyZWF0ZShSb29tTWV0YVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgUm9vbU1ldGFTY2hlbWE6IEdlbk1lc3NhZ2U8Um9vbU1ldGE+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyMyk7XG5cbi8qKlxuICogTWlzc2lsZSBzbmFwc2hvdCB3aXRoIHBvc2l0aW9uLCB2ZWxvY2l0eSwgYW5kIHRhcmdldGluZ1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lsZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgb3duZXIgPSAyO1xuICAgKi9cbiAgb3duZXI6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBib29sIHNlbGYgPSAzO1xuICAgKi9cbiAgc2VsZjogYm9vbGVhbjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDQ7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSA1O1xuICAgKi9cbiAgeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB2eCA9IDY7XG4gICAqL1xuICB2eDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB2eSA9IDc7XG4gICAqL1xuICB2eTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB0ID0gODtcbiAgICovXG4gIHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgYWdyb19yYWRpdXMgPSA5O1xuICAgKi9cbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBsaWZldGltZSA9IDEwO1xuICAgKi9cbiAgbGlmZXRpbWU6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbGF1bmNoX3RpbWUgPSAxMTtcbiAgICovXG4gIGxhdW5jaFRpbWU6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZXhwaXJlc19hdCA9IDEyO1xuICAgKi9cbiAgZXhwaXJlc0F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHRhcmdldF9pZCA9IDEzO1xuICAgKi9cbiAgdGFyZ2V0SWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5TaGlwSGVhdFZpZXcgaGVhdCA9IDE0O1xuICAgKi9cbiAgaGVhdD86IFNoaXBIZWF0Vmlldztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGUuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaWxlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaWxlU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3NpbGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyNCk7XG5cbi8qKlxuICogTWlzc2lsZSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlQ29uZmlnXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3NpbGVDb25maWcgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZUNvbmZpZ1wiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gMTtcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkX21pbiA9IDI7XG4gICAqL1xuICBzcGVlZE1pbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZF9tYXggPSAzO1xuICAgKi9cbiAgc3BlZWRNYXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgYWdyb19taW4gPSA0O1xuICAgKi9cbiAgYWdyb01pbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBhZ3JvX3JhZGl1cyA9IDU7XG4gICAqL1xuICBhZ3JvUmFkaXVzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGxpZmV0aW1lID0gNjtcbiAgICovXG4gIGxpZmV0aW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuSGVhdFBhcmFtcyBoZWF0X2NvbmZpZyA9IDc7XG4gICAqL1xuICBoZWF0Q29uZmlnPzogSGVhdFBhcmFtcztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVDb25maWcuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaWxlQ29uZmlnU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaWxlQ29uZmlnU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3NpbGVDb25maWc+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyNSk7XG5cbi8qKlxuICogTWlzc2lsZSByb3V0ZSBkZWZpbml0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBpZCA9IDE7XG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBuYW1lID0gMjtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludCB3YXlwb2ludHMgPSAzO1xuICAgKi9cbiAgd2F5cG9pbnRzOiBXYXlwb2ludFtdO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlLlxuICogVXNlIGBjcmVhdGUoTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lsZVJvdXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjYpO1xuXG4vKipcbiAqIEhlYXQgdmlldyAoYWJicmV2aWF0ZWQgZmllbGQgbmFtZXMgbWF0Y2ggSlNPTilcbiAqIFVzZWQgZm9yIGJvdGggc2hpcHMgYW5kIG1pc3NpbGVzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3XG4gKi9cbmV4cG9ydCB0eXBlIFNoaXBIZWF0VmlldyA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TaGlwSGVhdFZpZXdcIj4gJiB7XG4gIC8qKlxuICAgKiB2YWx1ZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB2ID0gMTtcbiAgICovXG4gIHY6IG51bWJlcjtcblxuICAvKipcbiAgICogbWF4XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG0gPSAyO1xuICAgKi9cbiAgbTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiB3YXJuQXRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdyA9IDM7XG4gICAqL1xuICB3OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIG92ZXJoZWF0QXRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbyA9IDQ7XG4gICAqL1xuICBvOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIG1hcmtlclNwZWVkXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1zID0gNTtcbiAgICovXG4gIG1zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIHN0YWxsVW50aWxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3UgPSA2O1xuICAgKi9cbiAgc3U6IG51bWJlcjtcblxuICAvKipcbiAgICoga1VwXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGt1ID0gNztcbiAgICovXG4gIGt1OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGtEb3duXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGtkID0gODtcbiAgICovXG4gIGtkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGV4cFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBleCA9IDk7XG4gICAqL1xuICBleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3LlxuICogVXNlIGBjcmVhdGUoU2hpcEhlYXRWaWV3U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTaGlwSGVhdFZpZXdTY2hlbWE6IEdlbk1lc3NhZ2U8U2hpcEhlYXRWaWV3PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjcpO1xuXG4vKipcbiAqIEhlYXQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSGVhdFBhcmFtc1xuICovXG5leHBvcnQgdHlwZSBIZWF0UGFyYW1zID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkhlYXRQYXJhbXNcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtYXggPSAxO1xuICAgKi9cbiAgbWF4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHdhcm5fYXQgPSAyO1xuICAgKi9cbiAgd2FybkF0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG92ZXJoZWF0X2F0ID0gMztcbiAgICovXG4gIG92ZXJoZWF0QXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWFya2VyX3NwZWVkID0gNDtcbiAgICovXG4gIG1hcmtlclNwZWVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGtfdXAgPSA1O1xuICAgKi9cbiAga1VwOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGtfZG93biA9IDY7XG4gICAqL1xuICBrRG93bjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBleHAgPSA3O1xuICAgKi9cbiAgZXhwOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5IZWF0UGFyYW1zLlxuICogVXNlIGBjcmVhdGUoSGVhdFBhcmFtc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgSGVhdFBhcmFtc1NjaGVtYTogR2VuTWVzc2FnZTxIZWF0UGFyYW1zPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjgpO1xuXG4vKipcbiAqIFVwZ3JhZGUgZWZmZWN0IGRlZmluaXRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0XG4gKi9cbmV4cG9ydCB0eXBlIFVwZ3JhZGVFZmZlY3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFR5cGUgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBVcGdyYWRlRWZmZWN0VHlwZTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIG9uZW9mIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3QudmFsdWVcbiAgICovXG4gIHZhbHVlOiB7XG4gICAgLyoqXG4gICAgICogRm9yIHNwZWVkL2hlYXQgbXVsdGlwbGllcnNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG11bHRpcGxpZXIgPSAyO1xuICAgICAqL1xuICAgIHZhbHVlOiBudW1iZXI7XG4gICAgY2FzZTogXCJtdWx0aXBsaWVyXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogRm9yIG1pc3NpbGUgdW5sb2NrcyAoZS5nLiwgXCJzY291dFwiKVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdW5sb2NrX2lkID0gMztcbiAgICAgKi9cbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIGNhc2U6IFwidW5sb2NrSWRcIjtcbiAgfSB8IHsgY2FzZTogdW5kZWZpbmVkOyB2YWx1ZT86IHVuZGVmaW5lZCB9O1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdC5cbiAqIFVzZSBgY3JlYXRlKFVwZ3JhZGVFZmZlY3RTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVwZ3JhZGVFZmZlY3RTY2hlbWE6IEdlbk1lc3NhZ2U8VXBncmFkZUVmZmVjdD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDI5KTtcblxuLyoqXG4gKiBQbGF5ZXIgY2FwYWJpbGl0aWVzIChjb21wdXRlZCBmcm9tIGNvbXBsZXRlZCB1cGdyYWRlcylcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5QbGF5ZXJDYXBhYmlsaXRpZXNcbiAqL1xuZXhwb3J0IHR5cGUgUGxheWVyQ2FwYWJpbGl0aWVzID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllc1wiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkX211bHRpcGxpZXIgPSAxO1xuICAgKi9cbiAgc3BlZWRNdWx0aXBsaWVyOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIHVubG9ja2VkX21pc3NpbGVzID0gMjtcbiAgICovXG4gIHVubG9ja2VkTWlzc2lsZXM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBoZWF0X2NhcGFjaXR5ID0gMztcbiAgICovXG4gIGhlYXRDYXBhY2l0eTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBoZWF0X2VmZmljaWVuY3kgPSA0O1xuICAgKi9cbiAgaGVhdEVmZmljaWVuY3k6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllcy5cbiAqIFVzZSBgY3JlYXRlKFBsYXllckNhcGFiaWxpdGllc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgUGxheWVyQ2FwYWJpbGl0aWVzU2NoZW1hOiBHZW5NZXNzYWdlPFBsYXllckNhcGFiaWxpdGllcz4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDMwKTtcblxuLyoqXG4gKiBEQUcgbm9kZSBzdGF0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVcbiAqL1xuZXhwb3J0IHR5cGUgRGFnTm9kZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlS2luZCBraW5kID0gMjtcbiAgICovXG4gIGtpbmQ6IERhZ05vZGVLaW5kO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBsYWJlbCA9IDM7XG4gICAqL1xuICBsYWJlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVTdGF0dXMgc3RhdHVzID0gNDtcbiAgICovXG4gIHN0YXR1czogRGFnTm9kZVN0YXR1cztcblxuICAvKipcbiAgICogVGltZSByZW1haW5pbmcgZm9yIGluLXByb2dyZXNzIGpvYnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgcmVtYWluaW5nX3MgPSA1O1xuICAgKi9cbiAgcmVtYWluaW5nUzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUb3RhbCBkdXJhdGlvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBkdXJhdGlvbl9zID0gNjtcbiAgICovXG4gIGR1cmF0aW9uUzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYW4gYmUgcmVwZWF0ZWQgYWZ0ZXIgY29tcGxldGlvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGJvb2wgcmVwZWF0YWJsZSA9IDc7XG4gICAqL1xuICByZXBlYXRhYmxlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBPbmx5IHBvcHVsYXRlZCBmb3IgdXBncmFkZSBub2Rlc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3QgZWZmZWN0cyA9IDg7XG4gICAqL1xuICBlZmZlY3RzOiBVcGdyYWRlRWZmZWN0W107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlLlxuICogVXNlIGBjcmVhdGUoRGFnTm9kZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnTm9kZVNjaGVtYTogR2VuTWVzc2FnZTxEYWdOb2RlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzEpO1xuXG4vKipcbiAqIEZ1bGwgREFHIHN0YXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhdGVcbiAqL1xuZXhwb3J0IHR5cGUgRGFnU3RhdGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhdGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGUgbm9kZXMgPSAxO1xuICAgKi9cbiAgbm9kZXM6IERhZ05vZGVbXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlLlxuICogVXNlIGBjcmVhdGUoRGFnU3RhdGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ1N0YXRlU2NoZW1hOiBHZW5NZXNzYWdlPERhZ1N0YXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzIpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBTdGFydCBhIERBRyBub2RlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhcnRcbiAqL1xuZXhwb3J0IHR5cGUgRGFnU3RhcnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhcnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBub2RlX2lkID0gMTtcbiAgICovXG4gIG5vZGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhcnQuXG4gKiBVc2UgYGNyZWF0ZShEYWdTdGFydFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnU3RhcnRTY2hlbWE6IEdlbk1lc3NhZ2U8RGFnU3RhcnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzMyk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENhbmNlbCBhIERBRyBub2RlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnQ2FuY2VsXG4gKi9cbmV4cG9ydCB0eXBlIERhZ0NhbmNlbCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdDYW5jZWxcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBub2RlX2lkID0gMTtcbiAgICovXG4gIG5vZGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnQ2FuY2VsLlxuICogVXNlIGBjcmVhdGUoRGFnQ2FuY2VsU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdDYW5jZWxTY2hlbWE6IEdlbk1lc3NhZ2U8RGFnQ2FuY2VsPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzQpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBBY2tub3dsZWRnZSBzdG9yeSBkaWFsb2d1ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrXG4gKi9cbmV4cG9ydCB0eXBlIERhZ1N0b3J5QWNrID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbm9kZV9pZCA9IDE7XG4gICAqL1xuICBub2RlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogRW1wdHkgaWYganVzdCBjb250aW51ZSAobm8gY2hvaWNlKVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBjaG9pY2VfaWQgPSAyO1xuICAgKi9cbiAgY2hvaWNlSWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrLlxuICogVXNlIGBjcmVhdGUoRGFnU3RvcnlBY2tTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ1N0b3J5QWNrU2NoZW1hOiBHZW5NZXNzYWdlPERhZ1N0b3J5QWNrPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzUpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBSZXF1ZXN0IGZ1bGwgREFHIGxpc3RcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdMaXN0XG4gKi9cbmV4cG9ydCB0eXBlIERhZ0xpc3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFwiPiAmIHtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3QuXG4gKiBVc2UgYGNyZWF0ZShEYWdMaXN0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdMaXN0U2NoZW1hOiBHZW5NZXNzYWdlPERhZ0xpc3Q+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzNik7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IERBRyBsaXN0IHJlc3BvbnNlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFJlc3BvbnNlXG4gKi9cbmV4cG9ydCB0eXBlIERhZ0xpc3RSZXNwb25zZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdMaXN0UmVzcG9uc2VcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlIGRhZyA9IDE7XG4gICAqL1xuICBkYWc/OiBEYWdTdGF0ZTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZS5cbiAqIFVzZSBgY3JlYXRlKERhZ0xpc3RSZXNwb25zZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnTGlzdFJlc3BvbnNlU2NoZW1hOiBHZW5NZXNzYWdlPERhZ0xpc3RSZXNwb25zZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM3KTtcblxuLyoqXG4gKiBJbnZlbnRvcnkgaXRlbVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW1cbiAqL1xuZXhwb3J0IHR5cGUgSW52ZW50b3J5SXRlbSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnlJdGVtXCI+ICYge1xuICAvKipcbiAgICogXCJtaXNzaWxlXCIsIFwiY29tcG9uZW50XCIsIGV0Yy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljIHZhcmlhbnQgaWRlbnRpZmllclxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB2YXJpYW50X2lkID0gMjtcbiAgICovXG4gIHZhcmlhbnRJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIZWF0IGNhcGFjaXR5IGZvciB0aGlzIGl0ZW1cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaGVhdF9jYXBhY2l0eSA9IDM7XG4gICAqL1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcblxuICAvKipcbiAgICogU3RhY2sgcXVhbnRpdHlcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBxdWFudGl0eSA9IDQ7XG4gICAqL1xuICBxdWFudGl0eTogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5SXRlbS5cbiAqIFVzZSBgY3JlYXRlKEludmVudG9yeUl0ZW1TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEludmVudG9yeUl0ZW1TY2hlbWE6IEdlbk1lc3NhZ2U8SW52ZW50b3J5SXRlbT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM4KTtcblxuLyoqXG4gKiBQbGF5ZXIgaW52ZW50b3J5XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5XG4gKi9cbmV4cG9ydCB0eXBlIEludmVudG9yeSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnlcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW0gaXRlbXMgPSAxO1xuICAgKi9cbiAgaXRlbXM6IEludmVudG9yeUl0ZW1bXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeS5cbiAqIFVzZSBgY3JlYXRlKEludmVudG9yeVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgSW52ZW50b3J5U2NoZW1hOiBHZW5NZXNzYWdlPEludmVudG9yeT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM5KTtcblxuLyoqXG4gKiBTdG9yeSBkaWFsb2d1ZSBjaG9pY2Ugb3B0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZUNob2ljZVxuICovXG5leHBvcnQgdHlwZSBTdG9yeURpYWxvZ3VlQ2hvaWNlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2VcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBpZCA9IDE7XG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0ZXh0ID0gMjtcbiAgICovXG4gIHRleHQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2UuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeURpYWxvZ3VlQ2hvaWNlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeURpYWxvZ3VlQ2hvaWNlU2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5RGlhbG9ndWVDaG9pY2U+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0MCk7XG5cbi8qKlxuICogU3RvcnkgdHV0b3JpYWwgdGlwXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlUdXRvcmlhbFRpcFxuICovXG5leHBvcnQgdHlwZSBTdG9yeVR1dG9yaWFsVGlwID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5VHV0b3JpYWxUaXBcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0aXRsZSA9IDE7XG4gICAqL1xuICB0aXRsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0ZXh0ID0gMjtcbiAgICovXG4gIHRleHQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5VHV0b3JpYWxUaXAuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeVR1dG9yaWFsVGlwU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeVR1dG9yaWFsVGlwU2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5VHV0b3JpYWxUaXA+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0MSk7XG5cbi8qKlxuICogU3RvcnkgZGlhbG9ndWUgY29udGVudFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlEaWFsb2d1ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgc3BlYWtlciA9IDE7XG4gICAqL1xuICBzcGVha2VyOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHRleHQgPSAyO1xuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5SW50ZW50IGludGVudCA9IDM7XG4gICAqL1xuICBpbnRlbnQ6IFN0b3J5SW50ZW50O1xuXG4gIC8qKlxuICAgKiBFbXB0eSA9IGRlZmF1bHQgXCJDb250aW51ZVwiXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGNvbnRpbnVlX2xhYmVsID0gNDtcbiAgICovXG4gIGNvbnRpbnVlTGFiZWw6IHN0cmluZztcblxuICAvKipcbiAgICogRW1wdHkgPSBzaG93IGNvbnRpbnVlIGJ1dHRvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2UgY2hvaWNlcyA9IDU7XG4gICAqL1xuICBjaG9pY2VzOiBTdG9yeURpYWxvZ3VlQ2hvaWNlW107XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGdhbWVwbGF5IGhpbnRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5TdG9yeVR1dG9yaWFsVGlwIHR1dG9yaWFsX3RpcCA9IDY7XG4gICAqL1xuICB0dXRvcmlhbFRpcD86IFN0b3J5VHV0b3JpYWxUaXA7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlLlxuICogVXNlIGBjcmVhdGUoU3RvcnlEaWFsb2d1ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU3RvcnlEaWFsb2d1ZVNjaGVtYTogR2VuTWVzc2FnZTxTdG9yeURpYWxvZ3VlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDIpO1xuXG4vKipcbiAqIFN0b3J5IGV2ZW50IChoaXN0b3J5IGVudHJ5KVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RXZlbnRcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlFdmVudCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeUV2ZW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgY2hhcHRlcl9pZCA9IDE7XG4gICAqL1xuICBjaGFwdGVySWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbm9kZV9pZCA9IDI7XG4gICAqL1xuICBub2RlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdGltZXN0YW1wID0gMztcbiAgICovXG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlFdmVudC5cbiAqIFVzZSBgY3JlYXRlKFN0b3J5RXZlbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3J5RXZlbnRTY2hlbWE6IEdlbk1lc3NhZ2U8U3RvcnlFdmVudD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQzKTtcblxuLyoqXG4gKiBTdG9yeSBzdGF0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGVcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlTdGF0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeVN0YXRlXCI+ICYge1xuICAvKipcbiAgICogQ3VycmVudGx5IGFjdGl2ZSBzdG9yeSBub2RlIElEXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGFjdGl2ZV9ub2RlID0gMTtcbiAgICovXG4gIGFjdGl2ZU5vZGU6IHN0cmluZztcblxuICAvKipcbiAgICogRnVsbCBkaWFsb2d1ZSBjb250ZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZSBkaWFsb2d1ZSA9IDI7XG4gICAqL1xuICBkaWFsb2d1ZT86IFN0b3J5RGlhbG9ndWU7XG5cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBzdG9yeSBub2RlIElEc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIHN0cmluZyBhdmFpbGFibGUgPSAzO1xuICAgKi9cbiAgYXZhaWxhYmxlOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogU3RvcnkgZmxhZ3MgZm9yIGJyYW5jaGluZ1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG1hcDxzdHJpbmcsIGJvb2w+IGZsYWdzID0gNDtcbiAgICovXG4gIGZsYWdzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcblxuICAvKipcbiAgICogUmVjZW50IHN0b3J5IGV2ZW50c1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RXZlbnQgcmVjZW50X2V2ZW50cyA9IDU7XG4gICAqL1xuICByZWNlbnRFdmVudHM6IFN0b3J5RXZlbnRbXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGUuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeVN0YXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeVN0YXRlU2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5U3RhdGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0NCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFNwYXduIG1pc3Npb24gd2F2ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TcGF3bldhdmVcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvblNwYXduV2F2ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3Bhd25XYXZlXCI+ICYge1xuICAvKipcbiAgICogMSwgMiwgb3IgM1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIHdhdmVfaW5kZXggPSAxO1xuICAgKi9cbiAgd2F2ZUluZGV4OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3Bhd25XYXZlLlxuICogVXNlIGBjcmVhdGUoTWlzc2lvblNwYXduV2F2ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvblNwYXduV2F2ZVNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uU3Bhd25XYXZlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDUpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBUcmlnZ2VyIG1pc3Npb24gc3RvcnkgZXZlbnRcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3RvcnlFdmVudFxuICovXG5leHBvcnQgdHlwZSBNaXNzaW9uU3RvcnlFdmVudCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3RvcnlFdmVudFwiPiAmIHtcbiAgLyoqXG4gICAqIGUuZy4gXCJtaXNzaW9uOnN0YXJ0XCIsIFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgZXZlbnQgPSAxO1xuICAgKi9cbiAgZXZlbnQ6IHN0cmluZztcblxuICAvKipcbiAgICogQmVhY29uIGluZGV4IGZvciBiZWFjb24tc3BlY2lmaWMgZXZlbnRzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgYmVhY29uID0gMjtcbiAgICovXG4gIGJlYWNvbjogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnQuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uU3RvcnlFdmVudFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvblN0b3J5RXZlbnRTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvblN0b3J5RXZlbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0Nik7XG5cbi8qKlxuICogREFHIG5vZGUgc3RhdHVzIGVudW1cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlU3RhdHVzXG4gKi9cbmV4cG9ydCBlbnVtIERhZ05vZGVTdGF0dXMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX1NUQVRVU19VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9TVEFUVVNfTE9DS0VEID0gMTtcbiAgICovXG4gIExPQ0tFRCA9IDEsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9TVEFUVVNfQVZBSUxBQkxFID0gMjtcbiAgICovXG4gIEFWQUlMQUJMRSA9IDIsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9TVEFUVVNfSU5fUFJPR1JFU1MgPSAzO1xuICAgKi9cbiAgSU5fUFJPR1JFU1MgPSAzLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfU1RBVFVTX0NPTVBMRVRFRCA9IDQ7XG4gICAqL1xuICBDT01QTEVURUQgPSA0LFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlU3RhdHVzLlxuICovXG5leHBvcnQgY29uc3QgRGFnTm9kZVN0YXR1c1NjaGVtYTogR2VuRW51bTxEYWdOb2RlU3RhdHVzPiA9IC8qQF9fUFVSRV9fKi9cbiAgZW51bURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMCk7XG5cbi8qKlxuICogREFHIG5vZGUga2luZCBlbnVtXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZUtpbmRcbiAqL1xuZXhwb3J0IGVudW0gRGFnTm9kZUtpbmQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX0tJTkRfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfS0lORF9GQUNUT1JZID0gMTtcbiAgICovXG4gIEZBQ1RPUlkgPSAxLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfS0lORF9VTklUID0gMjtcbiAgICovXG4gIFVOSVQgPSAyLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfS0lORF9TVE9SWSA9IDM7XG4gICAqL1xuICBTVE9SWSA9IDMsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9LSU5EX0NSQUZUID0gNDtcbiAgICovXG4gIENSQUZUID0gNCxcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZUtpbmQuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdOb2RlS2luZFNjaGVtYTogR2VuRW51bTxEYWdOb2RlS2luZD4gPSAvKkBfX1BVUkVfXyovXG4gIGVudW1EZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDEpO1xuXG4vKipcbiAqIFVwZ3JhZGUgZWZmZWN0IHR5cGUgZW51bVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3RUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFVwZ3JhZGVFZmZlY3RUeXBlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVUEdSQURFX0VGRkVDVF9UWVBFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVQR1JBREVfRUZGRUNUX1RZUEVfU1BFRURfTVVMVElQTElFUiA9IDE7XG4gICAqL1xuICBTUEVFRF9NVUxUSVBMSUVSID0gMSxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVQR1JBREVfRUZGRUNUX1RZUEVfTUlTU0lMRV9VTkxPQ0sgPSAyO1xuICAgKi9cbiAgTUlTU0lMRV9VTkxPQ0sgPSAyLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVVBHUkFERV9FRkZFQ1RfVFlQRV9IRUFUX0NBUEFDSVRZID0gMztcbiAgICovXG4gIEhFQVRfQ0FQQUNJVFkgPSAzLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVVBHUkFERV9FRkZFQ1RfVFlQRV9IRUFUX0VGRklDSUVOQ1kgPSA0O1xuICAgKi9cbiAgSEVBVF9FRkZJQ0lFTkNZID0gNCxcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBVcGdyYWRlRWZmZWN0VHlwZVNjaGVtYTogR2VuRW51bTxVcGdyYWRlRWZmZWN0VHlwZT4gPSAvKkBfX1BVUkVfXyovXG4gIGVudW1EZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIpO1xuXG4vKipcbiAqIFN0b3J5IGludGVudCBlbnVtXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlJbnRlbnRcbiAqL1xuZXhwb3J0IGVudW0gU3RvcnlJbnRlbnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUT1JZX0lOVEVOVF9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVE9SWV9JTlRFTlRfRkFDVE9SWSA9IDE7XG4gICAqL1xuICBGQUNUT1JZID0gMSxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFNUT1JZX0lOVEVOVF9VTklUID0gMjtcbiAgICovXG4gIFVOSVQgPSAyLFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeUludGVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3J5SW50ZW50U2NoZW1hOiBHZW5FbnVtPFN0b3J5SW50ZW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgZW51bURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMyk7XG5cbiIsICIvLyBQcm90b2J1ZiBjb252ZXJzaW9uIGhlbHBlcnNcbmltcG9ydCB0eXBlIHtcbiAgR2hvc3QsXG4gIE1pc3NpbGUsXG4gIFN0YXRlVXBkYXRlLFxuICBEYWdOb2RlLFxuICBEYWdTdGF0ZSxcbiAgSW52ZW50b3J5SXRlbSxcbiAgSW52ZW50b3J5LFxuICBTdG9yeVN0YXRlLFxuICBTdG9yeURpYWxvZ3VlLFxuICBTdG9yeUV2ZW50LFxuICBTdG9yeURpYWxvZ3VlQ2hvaWNlLFxuICBTdG9yeVR1dG9yaWFsVGlwLFxuICBVcGdyYWRlRWZmZWN0LFxuICBQbGF5ZXJDYXBhYmlsaXRpZXMsXG59IGZyb20gJy4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGInO1xuLy8gSW1wb3J0IGVudW1zIGFzIHZhbHVlcywgbm90IHR5cGVzXG5pbXBvcnQge1xuICBEYWdOb2RlU3RhdHVzLFxuICBEYWdOb2RlS2luZCxcbiAgU3RvcnlJbnRlbnQsXG59IGZyb20gJy4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGInO1xuXG4vLyBBZGFwdGVyIHR5cGVzIGZvciBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgY29kZVxuZXhwb3J0IGludGVyZmFjZSBHaG9zdFNuYXBzaG90IHtcbiAgaWQ6IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG4gIHQ6IG51bWJlcjtcbiAgc2VsZjogYm9vbGVhbjtcbiAgd2F5cG9pbnRzPzogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgc3BlZWQ6IG51bWJlciB9W107XG4gIGN1cnJlbnRXYXlwb2ludEluZGV4PzogbnVtYmVyO1xuICBocDogbnVtYmVyO1xuICBraWxsczogbnVtYmVyO1xuICBoZWF0Pzoge1xuICAgIHY6IG51bWJlcjtcbiAgICBtOiBudW1iZXI7XG4gICAgdzogbnVtYmVyO1xuICAgIG86IG51bWJlcjtcbiAgICBtczogbnVtYmVyO1xuICAgIHN1OiBudW1iZXI7XG4gICAga3U6IG51bWJlcjtcbiAgICBrZDogbnVtYmVyO1xuICAgIGV4OiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVNuYXBzaG90IHtcbiAgaWQ6IHN0cmluZztcbiAgb3duZXI6IHN0cmluZztcbiAgc2VsZjogYm9vbGVhbjtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG4gIHQ6IG51bWJlcjtcbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuICBsaWZldGltZTogbnVtYmVyO1xuICBsYXVuY2g6IG51bWJlcjtcbiAgZXhwaXJlczogbnVtYmVyO1xuICB0YXJnZXRJZD86IHN0cmluZztcbiAgaGVhdD86IHtcbiAgICB2OiBudW1iZXI7XG4gICAgbTogbnVtYmVyO1xuICAgIHc6IG51bWJlcjtcbiAgICBvOiBudW1iZXI7XG4gICAgbXM6IG51bWJlcjtcbiAgICBzdTogbnVtYmVyO1xuICAgIGt1OiBudW1iZXI7XG4gICAga2Q6IG51bWJlcjtcbiAgICBleDogbnVtYmVyO1xuICB9O1xufVxuXG4vLyBDb252ZXJ0IHByb3RvIEdob3N0IHRvIEdob3N0U25hcHNob3RcbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvR2hvc3QocHJvdG86IEdob3N0KTogR2hvc3RTbmFwc2hvdCB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHByb3RvLmlkLFxuICAgIHg6IHByb3RvLngsXG4gICAgeTogcHJvdG8ueSxcbiAgICB2eDogcHJvdG8udngsXG4gICAgdnk6IHByb3RvLnZ5LFxuICAgIHQ6IHByb3RvLnQsXG4gICAgc2VsZjogcHJvdG8uc2VsZixcbiAgICB3YXlwb2ludHM6IHByb3RvLndheXBvaW50cz8ubWFwKHdwID0+ICh7IHg6IHdwLngsIHk6IHdwLnksIHNwZWVkOiB3cC5zcGVlZCB9KSksXG4gICAgY3VycmVudFdheXBvaW50SW5kZXg6IHByb3RvLmN1cnJlbnRXYXlwb2ludEluZGV4LFxuICAgIGhwOiBwcm90by5ocCxcbiAgICBraWxsczogcHJvdG8ua2lsbHMsXG4gICAgaGVhdDogcHJvdG8uaGVhdCA/IHtcbiAgICAgIHY6IHByb3RvLmhlYXQudixcbiAgICAgIG06IHByb3RvLmhlYXQubSxcbiAgICAgIHc6IHByb3RvLmhlYXQudyxcbiAgICAgIG86IHByb3RvLmhlYXQubyxcbiAgICAgIG1zOiBwcm90by5oZWF0Lm1zLFxuICAgICAgc3U6IHByb3RvLmhlYXQuc3UsXG4gICAgICBrdTogcHJvdG8uaGVhdC5rdSxcbiAgICAgIGtkOiBwcm90by5oZWF0LmtkLFxuICAgICAgZXg6IHByb3RvLmhlYXQuZXgsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLy8gQ29udmVydCBwcm90byBNaXNzaWxlIHRvIE1pc3NpbGVTbmFwc2hvdFxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9NaXNzaWxlKHByb3RvOiBNaXNzaWxlKTogTWlzc2lsZVNuYXBzaG90IHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcHJvdG8uaWQsXG4gICAgb3duZXI6IHByb3RvLm93bmVyLFxuICAgIHNlbGY6IHByb3RvLnNlbGYsXG4gICAgeDogcHJvdG8ueCxcbiAgICB5OiBwcm90by55LFxuICAgIHZ4OiBwcm90by52eCxcbiAgICB2eTogcHJvdG8udnksXG4gICAgdDogcHJvdG8udCxcbiAgICBhZ3JvUmFkaXVzOiBwcm90by5hZ3JvUmFkaXVzLFxuICAgIGxpZmV0aW1lOiBwcm90by5saWZldGltZSxcbiAgICBsYXVuY2g6IHByb3RvLmxhdW5jaFRpbWUsXG4gICAgZXhwaXJlczogcHJvdG8uZXhwaXJlc0F0LFxuICAgIHRhcmdldElkOiBwcm90by50YXJnZXRJZCB8fCB1bmRlZmluZWQsXG4gICAgaGVhdDogcHJvdG8uaGVhdCA/IHtcbiAgICAgIHY6IHByb3RvLmhlYXQudixcbiAgICAgIG06IHByb3RvLmhlYXQubSxcbiAgICAgIHc6IHByb3RvLmhlYXQudyxcbiAgICAgIG86IHByb3RvLmhlYXQubyxcbiAgICAgIG1zOiBwcm90by5oZWF0Lm1zLFxuICAgICAgc3U6IHByb3RvLmhlYXQuc3UsXG4gICAgICBrdTogcHJvdG8uaGVhdC5rdSxcbiAgICAgIGtkOiBwcm90by5oZWF0LmtkLFxuICAgICAgZXg6IHByb3RvLmhlYXQuZXgsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLy8gQ29udmVydCBwcm90byBTdGF0ZVVwZGF0ZSB0byBBcHBTdGF0ZSBmb3JtYXRcbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvU3RhdGUocHJvdG86IFN0YXRlVXBkYXRlKSB7XG4gIGNvbnN0IGJhc2UgPSB7XG4gICAgbm93OiBwcm90by5ub3csXG4gICAgbWU6IHByb3RvLm1lID8gcHJvdG9Ub0dob3N0KHByb3RvLm1lKSA6IG51bGwsXG4gICAgZ2hvc3RzOiBwcm90by5naG9zdHMubWFwKHByb3RvVG9HaG9zdCksXG4gICAgbWlzc2lsZXM6IHByb3RvLm1pc3NpbGVzLm1hcChwcm90b1RvTWlzc2lsZSksXG4gICAgbWV0YTogcHJvdG8ubWV0YSA/IHtcbiAgICAgIGM6IHByb3RvLm1ldGEuYyxcbiAgICAgIHc6IHByb3RvLm1ldGEudyxcbiAgICAgIGg6IHByb3RvLm1ldGEuaCxcbiAgICB9IDogeyBjOiAyOTksIHc6IDE2MDAwLCBoOiA5MDAwIH0sXG4gICAgbWlzc2lsZUNvbmZpZzogcHJvdG8ubWlzc2lsZUNvbmZpZyA/IHtcbiAgICAgIHNwZWVkOiBwcm90by5taXNzaWxlQ29uZmlnLnNwZWVkLFxuICAgICAgc3BlZWRNaW46IHByb3RvLm1pc3NpbGVDb25maWcuc3BlZWRNaW4sXG4gICAgICBzcGVlZE1heDogcHJvdG8ubWlzc2lsZUNvbmZpZy5zcGVlZE1heCxcbiAgICAgIGFncm9NaW46IHByb3RvLm1pc3NpbGVDb25maWcuYWdyb01pbixcbiAgICAgIGFncm9SYWRpdXM6IHByb3RvLm1pc3NpbGVDb25maWcuYWdyb1JhZGl1cyxcbiAgICAgIGxpZmV0aW1lOiBwcm90by5taXNzaWxlQ29uZmlnLmxpZmV0aW1lLFxuICAgICAgaGVhdENvbmZpZzogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnID8ge1xuICAgICAgICBtYXg6IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy5tYXgsXG4gICAgICAgIHdhcm5BdDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLndhcm5BdCxcbiAgICAgICAgb3ZlcmhlYXRBdDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLm92ZXJoZWF0QXQsXG4gICAgICAgIG1hcmtlclNwZWVkOiBwcm90by5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcubWFya2VyU3BlZWQsXG4gICAgICAgIGtVcDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLmtVcCxcbiAgICAgICAga0Rvd246IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy5rRG93bixcbiAgICAgICAgZXhwOiBwcm90by5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcuZXhwLFxuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICB9IDoge1xuICAgICAgc3BlZWQ6IDAsXG4gICAgICBzcGVlZE1pbjogMCxcbiAgICAgIHNwZWVkTWF4OiAwLFxuICAgICAgYWdyb01pbjogMCxcbiAgICAgIGFncm9SYWRpdXM6IDAsXG4gICAgICBsaWZldGltZTogMCxcbiAgICB9LFxuICAgIG1pc3NpbGVXYXlwb2ludHM6IHByb3RvLm1pc3NpbGVXYXlwb2ludHMubWFwKHdwID0+ICh7IHg6IHdwLngsIHk6IHdwLnksIHNwZWVkOiB3cC5zcGVlZCB9KSksXG4gICAgbWlzc2lsZVJvdXRlczogcHJvdG8ubWlzc2lsZVJvdXRlcy5tYXAociA9PiAoe1xuICAgICAgaWQ6IHIuaWQsXG4gICAgICBuYW1lOiByLm5hbWUsXG4gICAgICB3YXlwb2ludHM6IHIud2F5cG9pbnRzLm1hcCh3cCA9PiAoeyB4OiB3cC54LCB5OiB3cC55LCBzcGVlZDogd3Auc3BlZWQgfSkpLFxuICAgIH0pKSxcbiAgICBhY3RpdmVNaXNzaWxlUm91dGU6IHByb3RvLmFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBuZXh0TWlzc2lsZVJlYWR5OiBwcm90by5uZXh0TWlzc2lsZVJlYWR5LFxuICB9O1xuXG4gIC8vIFBoYXNlIDIgYWRkaXRpb25zXG4gIHJldHVybiB7XG4gICAgLi4uYmFzZSxcbiAgICBkYWc6IHByb3RvLmRhZyA/IHByb3RvVG9EYWdTdGF0ZShwcm90by5kYWcpIDogdW5kZWZpbmVkLFxuICAgIGludmVudG9yeTogcHJvdG8uaW52ZW50b3J5ID8gcHJvdG9Ub0ludmVudG9yeShwcm90by5pbnZlbnRvcnkpIDogdW5kZWZpbmVkLFxuICAgIHN0b3J5OiBwcm90by5zdG9yeSA/IHByb3RvVG9TdG9yeVN0YXRlKHByb3RvLnN0b3J5KSA6IHVuZGVmaW5lZCxcbiAgICBjYXBhYmlsaXRpZXM6IHByb3RvLmNhcGFiaWxpdGllcyA/IHByb3RvVG9QbGF5ZXJDYXBhYmlsaXRpZXMocHJvdG8uY2FwYWJpbGl0aWVzKSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLy8gPT09PT09PT09PSBQaGFzZSAyOiBFbnVtIENvbnZlcnRlcnMgPT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9TdGF0dXNUb1N0cmluZyhzdGF0dXM6IERhZ05vZGVTdGF0dXMpOiBzdHJpbmcge1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgRGFnTm9kZVN0YXR1cy5MT0NLRUQ6IHJldHVybiAnbG9ja2VkJztcbiAgICBjYXNlIERhZ05vZGVTdGF0dXMuQVZBSUxBQkxFOiByZXR1cm4gJ2F2YWlsYWJsZSc7XG4gICAgY2FzZSBEYWdOb2RlU3RhdHVzLklOX1BST0dSRVNTOiByZXR1cm4gJ2luX3Byb2dyZXNzJztcbiAgICBjYXNlIERhZ05vZGVTdGF0dXMuQ09NUExFVEVEOiByZXR1cm4gJ2NvbXBsZXRlZCc7XG4gICAgZGVmYXVsdDogcmV0dXJuICd1bmtub3duJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9LaW5kVG9TdHJpbmcoa2luZDogRGFnTm9kZUtpbmQpOiBzdHJpbmcge1xuICBzd2l0Y2ggKGtpbmQpIHtcbiAgICBjYXNlIERhZ05vZGVLaW5kLkZBQ1RPUlk6IHJldHVybiAnZmFjdG9yeSc7XG4gICAgY2FzZSBEYWdOb2RlS2luZC5VTklUOiByZXR1cm4gJ3VuaXQnO1xuICAgIGNhc2UgRGFnTm9kZUtpbmQuU1RPUlk6IHJldHVybiAnc3RvcnknO1xuICAgIGNhc2UgRGFnTm9kZUtpbmQuQ1JBRlQ6IHJldHVybiAnY3JhZnQnO1xuICAgIGRlZmF1bHQ6IHJldHVybiAndW5rbm93bic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvSW50ZW50VG9TdHJpbmcoaW50ZW50OiBTdG9yeUludGVudCk6IHN0cmluZyB7XG4gIHN3aXRjaCAoaW50ZW50KSB7XG4gICAgY2FzZSBTdG9yeUludGVudC5GQUNUT1JZOiByZXR1cm4gJ2ZhY3RvcnknO1xuICAgIGNhc2UgU3RvcnlJbnRlbnQuVU5JVDogcmV0dXJuICd1bml0JztcbiAgICBkZWZhdWx0OiByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvRWZmZWN0VHlwZVRvU3RyaW5nKHR5cGU6IGFueSk6IHN0cmluZyB7XG4gIC8vIE1hcCBwcm90byBlbnVtIHZhbHVlcyB0byBzdHJpbmdzXG4gIC8vIFRPRE86IFVzZSBwcm9wZXIgZW51bSB3aGVuIHByb3RvIGlzIHJlZ2VuZXJhdGVkXG4gIGNvbnN0IHR5cGVNYXA6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XG4gICAgMTogJ3NwZWVkX211bHRpcGxpZXInLFxuICAgIDI6ICdtaXNzaWxlX3VubG9jaycsXG4gICAgMzogJ2hlYXRfY2FwYWNpdHknLFxuICAgIDQ6ICdoZWF0X2VmZmljaWVuY3knLFxuICB9O1xuICByZXR1cm4gdHlwZU1hcFt0eXBlXSB8fCAndW5rbm93bic7XG59XG5cbi8vID09PT09PT09PT0gUGhhc2UgMjogVHlwZSBEZWZpbml0aW9ucyA9PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBncmFkZUVmZmVjdERhdGEge1xuICB0eXBlOiBzdHJpbmc7XG4gIHZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFnTm9kZURhdGEge1xuICBpZDogc3RyaW5nO1xuICBraW5kOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICByZW1haW5pbmdTOiBudW1iZXI7XG4gIGR1cmF0aW9uUzogbnVtYmVyO1xuICByZXBlYXRhYmxlOiBib29sZWFuO1xuICBlZmZlY3RzPzogVXBncmFkZUVmZmVjdERhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJDYXBhYmlsaXRpZXNEYXRhIHtcbiAgc3BlZWRNdWx0aXBsaWVyOiBudW1iZXI7XG4gIHVubG9ja2VkTWlzc2lsZXM6IHN0cmluZ1tdO1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcbiAgaGVhdEVmZmljaWVuY3k6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWdTdGF0ZURhdGEge1xuICBub2RlczogRGFnTm9kZURhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnlJdGVtRGF0YSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdmFyaWFudElkOiBzdHJpbmc7XG4gIGhlYXRDYXBhY2l0eTogbnVtYmVyO1xuICBxdWFudGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludmVudG9yeURhdGEge1xuICBpdGVtczogSW52ZW50b3J5SXRlbURhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeURpYWxvZ3VlQ2hvaWNlRGF0YSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeVR1dG9yaWFsVGlwRGF0YSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeURpYWxvZ3VlRGF0YSB7XG4gIHNwZWFrZXI6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICBpbnRlbnQ6IHN0cmluZztcbiAgY29udGludWVMYWJlbDogc3RyaW5nO1xuICBjaG9pY2VzOiBTdG9yeURpYWxvZ3VlQ2hvaWNlRGF0YVtdO1xuICB0dXRvcmlhbFRpcD86IFN0b3J5VHV0b3JpYWxUaXBEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3J5RXZlbnREYXRhIHtcbiAgY2hhcHRlcklkOiBzdHJpbmc7XG4gIG5vZGVJZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeVN0YXRlRGF0YSB7XG4gIGFjdGl2ZU5vZGU6IHN0cmluZztcbiAgZGlhbG9ndWU/OiBTdG9yeURpYWxvZ3VlRGF0YTtcbiAgYXZhaWxhYmxlOiBzdHJpbmdbXTtcbiAgZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICByZWNlbnRFdmVudHM6IFN0b3J5RXZlbnREYXRhW107XG59XG5cbi8vID09PT09PT09PT0gUGhhc2UgMjogQ29udmVyc2lvbiBGdW5jdGlvbnMgPT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub1VwZ3JhZGVFZmZlY3QocHJvdG86IFVwZ3JhZGVFZmZlY3QpOiBVcGdyYWRlRWZmZWN0RGF0YSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcHJvdG9FZmZlY3RUeXBlVG9TdHJpbmcocHJvdG8udHlwZSksXG4gICAgdmFsdWU6IHByb3RvLnZhbHVlLmNhc2UgPT09ICdtdWx0aXBsaWVyJyA/IHByb3RvLnZhbHVlLnZhbHVlIDogcHJvdG8udmFsdWUudmFsdWUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvUGxheWVyQ2FwYWJpbGl0aWVzKHByb3RvOiBQbGF5ZXJDYXBhYmlsaXRpZXMpOiBQbGF5ZXJDYXBhYmlsaXRpZXNEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBzcGVlZE11bHRpcGxpZXI6IHByb3RvLnNwZWVkTXVsdGlwbGllcixcbiAgICB1bmxvY2tlZE1pc3NpbGVzOiBwcm90by51bmxvY2tlZE1pc3NpbGVzLFxuICAgIGhlYXRDYXBhY2l0eTogcHJvdG8uaGVhdENhcGFjaXR5LFxuICAgIGhlYXRFZmZpY2llbmN5OiBwcm90by5oZWF0RWZmaWNpZW5jeSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9EYWdOb2RlKHByb3RvOiBEYWdOb2RlKTogRGFnTm9kZURhdGEge1xuICByZXR1cm4ge1xuICAgIGlkOiBwcm90by5pZCxcbiAgICBraW5kOiBwcm90b0tpbmRUb1N0cmluZyhwcm90by5raW5kKSxcbiAgICBsYWJlbDogcHJvdG8ubGFiZWwsXG4gICAgc3RhdHVzOiBwcm90b1N0YXR1c1RvU3RyaW5nKHByb3RvLnN0YXR1cyksXG4gICAgcmVtYWluaW5nUzogcHJvdG8ucmVtYWluaW5nUyxcbiAgICBkdXJhdGlvblM6IHByb3RvLmR1cmF0aW9uUyxcbiAgICByZXBlYXRhYmxlOiBwcm90by5yZXBlYXRhYmxlLFxuICAgIGVmZmVjdHM6IHByb3RvLmVmZmVjdHM/Lm1hcChwcm90b1RvVXBncmFkZUVmZmVjdCkgfHwgW10sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvRGFnU3RhdGUocHJvdG86IERhZ1N0YXRlKTogRGFnU3RhdGVEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBub2RlczogcHJvdG8ubm9kZXMubWFwKHByb3RvVG9EYWdOb2RlKSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9JbnZlbnRvcnlJdGVtKHByb3RvOiBJbnZlbnRvcnlJdGVtKTogSW52ZW50b3J5SXRlbURhdGEge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHByb3RvLnR5cGUsXG4gICAgdmFyaWFudElkOiBwcm90by52YXJpYW50SWQsXG4gICAgaGVhdENhcGFjaXR5OiBwcm90by5oZWF0Q2FwYWNpdHksXG4gICAgcXVhbnRpdHk6IHByb3RvLnF1YW50aXR5LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub0ludmVudG9yeShwcm90bzogSW52ZW50b3J5KTogSW52ZW50b3J5RGF0YSB7XG4gIHJldHVybiB7XG4gICAgaXRlbXM6IHByb3RvLml0ZW1zLm1hcChwcm90b1RvSW52ZW50b3J5SXRlbSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvU3RvcnlEaWFsb2d1ZShwcm90bzogU3RvcnlEaWFsb2d1ZSk6IFN0b3J5RGlhbG9ndWVEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBzcGVha2VyOiBwcm90by5zcGVha2VyLFxuICAgIHRleHQ6IHByb3RvLnRleHQsXG4gICAgaW50ZW50OiBwcm90b0ludGVudFRvU3RyaW5nKHByb3RvLmludGVudCksXG4gICAgY29udGludWVMYWJlbDogcHJvdG8uY29udGludWVMYWJlbCxcbiAgICBjaG9pY2VzOiBwcm90by5jaG9pY2VzLm1hcChjID0+ICh7IGlkOiBjLmlkLCB0ZXh0OiBjLnRleHQgfSkpLFxuICAgIHR1dG9yaWFsVGlwOiBwcm90by50dXRvcmlhbFRpcCA/IHtcbiAgICAgIHRpdGxlOiBwcm90by50dXRvcmlhbFRpcC50aXRsZSxcbiAgICAgIHRleHQ6IHByb3RvLnR1dG9yaWFsVGlwLnRleHQsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9TdG9yeVN0YXRlKHByb3RvOiBTdG9yeVN0YXRlKTogU3RvcnlTdGF0ZURhdGEge1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZU5vZGU6IHByb3RvLmFjdGl2ZU5vZGUsXG4gICAgZGlhbG9ndWU6IHByb3RvLmRpYWxvZ3VlID8gcHJvdG9Ub1N0b3J5RGlhbG9ndWUocHJvdG8uZGlhbG9ndWUpIDogdW5kZWZpbmVkLFxuICAgIGF2YWlsYWJsZTogcHJvdG8uYXZhaWxhYmxlLFxuICAgIGZsYWdzOiBwcm90by5mbGFncyxcbiAgICByZWNlbnRFdmVudHM6IHByb3RvLnJlY2VudEV2ZW50cy5tYXAoZSA9PiAoe1xuICAgICAgY2hhcHRlcklkOiBlLmNoYXB0ZXJJZCxcbiAgICAgIG5vZGVJZDogZS5ub2RlSWQsXG4gICAgICB0aW1lc3RhbXA6IGUudGltZXN0YW1wLFxuICAgIH0pKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyB0eXBlIEV2ZW50QnVzIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQge1xuICB0eXBlIEFwcFN0YXRlLFxuICB0eXBlIE1pc3NpbGVSb3V0ZSxcbiAgbW9ub3RvbmljTm93LFxuICBzYW5pdGl6ZU1pc3NpbGVDb25maWcsXG4gIHVwZGF0ZU1pc3NpbGVMaW1pdHMsXG59IGZyb20gXCIuL3N0YXRlXCI7XG5pbXBvcnQgdHlwZSB7IERpYWxvZ3VlQ29udGVudCB9IGZyb20gXCIuL3N0b3J5L3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGUsIHRvQmluYXJ5LCBmcm9tQmluYXJ5IH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuaW1wb3J0IHsgV3NFbnZlbG9wZVNjaGVtYSwgdHlwZSBXc0VudmVsb3BlIH0gZnJvbSBcIi4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGJcIjtcbmltcG9ydCB7IHByb3RvVG9TdGF0ZSwgcHJvdG9Ub0RhZ1N0YXRlIH0gZnJvbSBcIi4vcHJvdG9faGVscGVyc1wiO1xuXG5pbnRlcmZhY2UgQ29ubmVjdE9wdGlvbnMge1xuICByb29tOiBzdHJpbmc7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgb25TdGF0ZVVwZGF0ZWQ/OiAoKSA9PiB2b2lkO1xuICBvbk9wZW4/OiAoc29ja2V0OiBXZWJTb2NrZXQpID0+IHZvaWQ7XG4gIG1hcFc/OiBudW1iZXI7XG4gIG1hcEg/OiBudW1iZXI7XG4gIG1vZGU/OiBzdHJpbmc7XG4gIG1pc3Npb25JZD86IHN0cmluZztcbn1cblxubGV0IHdzOiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcblxuLy8gSGVscGVyIHRvIHNlbmQgcHJvdG9idWYgbWVzc2FnZXNcbmZ1bmN0aW9uIHNlbmRQcm90byhlbnZlbG9wZTogV3NFbnZlbG9wZSkge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gIGNvbnN0IGJ5dGVzID0gdG9CaW5hcnkoV3NFbnZlbG9wZVNjaGVtYSwgZW52ZWxvcGUpO1xuICB3cy5zZW5kKGJ5dGVzKTtcbn1cblxuLy8gTGVnYWN5IEpTT04gbWVzc2FnZSBzZW5kZXIgKGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYW5kIERBRyBtZXNzYWdlcylcbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZShwYXlsb2FkOiB1bmtub3duKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcblxuICAvLyBJZiBwYXlsb2FkIGhhcyBhIFwidHlwZVwiIGZpZWxkLCBjb252ZXJ0IHRvIHByb3RvYnVmXG4gIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJiBwYXlsb2FkICE9PSBudWxsICYmIFwidHlwZVwiIGluIHBheWxvYWQpIHtcbiAgICBjb25zdCBtc2cgPSBwYXlsb2FkIGFzIGFueTtcblxuICAgIC8vIENvbnZlcnQgY29tbW9uIG1lc3NhZ2UgdHlwZXMgdG8gcHJvdG9idWZcbiAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XG4gICAgICBjYXNlIFwiam9pblwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImpvaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgIG5hbWU6IG1zZy5uYW1lIHx8IFwiXCIsXG4gICAgICAgICAgICAgIHJvb206IG1zZy5yb29tIHx8IFwiXCIsXG4gICAgICAgICAgICAgIG1hcFc6IG1zZy5tYXBfdyB8fCAwLFxuICAgICAgICAgICAgICBtYXBIOiBtc2cubWFwX2ggfHwgMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJzcGF3bl9ib3RcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDogeyBjYXNlOiBcInNwYXduQm90XCIsIHZhbHVlOiB7fSB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImFkZF93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImFkZFdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyB4OiBtc2cueCwgeTogbXNnLnksIHNwZWVkOiBtc2cuc3BlZWQgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcInVwZGF0ZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcInVwZGF0ZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBpbmRleDogbXNnLmluZGV4LCBzcGVlZDogbXNnLnNwZWVkIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJtb3ZlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwibW92ZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBpbmRleDogbXNnLmluZGV4LCB4OiBtc2cueCwgeTogbXNnLnkgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImRlbGV0ZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImRlbGV0ZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBpbmRleDogbXNnLmluZGV4IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJjbGVhcl93YXlwb2ludHNcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDogeyBjYXNlOiBcImNsZWFyV2F5cG9pbnRzXCIsIHZhbHVlOiB7fSB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImNvbmZpZ3VyZV9taXNzaWxlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiY29uZmlndXJlTWlzc2lsZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgbWlzc2lsZVNwZWVkOiBtc2cubWlzc2lsZV9zcGVlZCwgbWlzc2lsZUFncm86IG1zZy5taXNzaWxlX2Fncm8gfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImxhdW5jaF9taXNzaWxlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwibGF1bmNoTWlzc2lsZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImFkZF9taXNzaWxlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiYWRkTWlzc2lsZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiwgeDogbXNnLngsIHk6IG1zZy55LCBzcGVlZDogbXNnLnNwZWVkIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJ1cGRhdGVfbWlzc2lsZV93YXlwb2ludF9zcGVlZFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcInVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiwgaW5kZXg6IG1zZy5pbmRleCwgc3BlZWQ6IG1zZy5zcGVlZCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwibW92ZV9taXNzaWxlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwibW92ZU1pc3NpbGVXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIsIGluZGV4OiBtc2cuaW5kZXgsIHg6IG1zZy54LCB5OiBtc2cueSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiZGVsZXRlX21pc3NpbGVfd2F5cG9pbnRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJkZWxldGVNaXNzaWxlV2F5cG9pbnRcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiLCBpbmRleDogbXNnLmluZGV4IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJjbGVhcl9taXNzaWxlX3JvdXRlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiY2xlYXJNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJhZGRfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImFkZE1pc3NpbGVSb3V0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgbmFtZTogbXNnLm5hbWUgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwicmVuYW1lX21pc3NpbGVfcm91dGVcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJyZW5hbWVNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiLCBuYW1lOiBtc2cubmFtZSB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJkZWxldGVfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImRlbGV0ZU1pc3NpbGVSb3V0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcInNldF9hY3RpdmVfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcInNldEFjdGl2ZU1pc3NpbGVSb3V0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImRhZ19zdGFydFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImRhZ1N0YXJ0XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBub2RlSWQ6IG1zZy5ub2RlX2lkIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImNsZWFyX21pc3NpbGVfd2F5cG9pbnRzXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiY2xlYXJNaXNzaWxlV2F5cG9pbnRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufVxuXG4vLyA9PT09PT09PT09IFBoYXNlIDI6IERBRyBDb21tYW5kIEZ1bmN0aW9ucyA9PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kRGFnU3RhcnQobm9kZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXNlOiBcImRhZ1N0YXJ0XCIsXG4gICAgICB2YWx1ZTogeyBub2RlSWQgfSxcbiAgICB9LFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kRGFnQ2FuY2VsKG5vZGVJZDogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgcGF5bG9hZDoge1xuICAgICAgY2FzZTogXCJkYWdDYW5jZWxcIixcbiAgICAgIHZhbHVlOiB7IG5vZGVJZCB9LFxuICAgIH0sXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmREYWdTdG9yeUFjayhub2RlSWQ6IHN0cmluZywgY2hvaWNlSWQ6IHN0cmluZyA9IFwiXCIpOiB2b2lkIHtcbiAgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXNlOiBcImRhZ1N0b3J5QWNrXCIsXG4gICAgICB2YWx1ZTogeyBub2RlSWQsIGNob2ljZUlkIH0sXG4gICAgfSxcbiAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZERhZ0xpc3QoKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgcGF5bG9hZDoge1xuICAgICAgY2FzZTogXCJkYWdMaXN0XCIsXG4gICAgICB2YWx1ZToge30sXG4gICAgfSxcbiAgfSkpO1xufVxuXG4vLyA9PT09PT09PT09IFBoYXNlIDI6IE1pc3Npb24gRXZlbnQgRnVuY3Rpb25zID09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRNaXNzaW9uU3Bhd25XYXZlKHdhdmVJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgcGF5bG9hZDoge1xuICAgICAgY2FzZTogXCJtaXNzaW9uU3Bhd25XYXZlXCIsXG4gICAgICB2YWx1ZTogeyB3YXZlSW5kZXggfSxcbiAgICB9LFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWlzc2lvblN0b3J5RXZlbnQoZXZlbnQ6IHN0cmluZywgYmVhY29uOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgcGF5bG9hZDoge1xuICAgICAgY2FzZTogXCJtaXNzaW9uU3RvcnlFdmVudFwiLFxuICAgICAgdmFsdWU6IHsgZXZlbnQsIGJlYWNvbiB9LFxuICAgIH0sXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RXZWJTb2NrZXQoe1xuICByb29tLFxuICBzdGF0ZSxcbiAgYnVzLFxuICBvblN0YXRlVXBkYXRlZCxcbiAgb25PcGVuLFxuICBtYXBXLFxuICBtYXBILFxuICBtb2RlLFxuICBtaXNzaW9uSWQsXG59OiBDb25uZWN0T3B0aW9ucyk6IHZvaWQge1xuICBjb25zdCBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJodHRwczpcIiA/IFwid3NzOi8vXCIgOiBcIndzOi8vXCI7XG4gIGxldCB3c1VybCA9IGAke3Byb3RvY29sfSR7d2luZG93LmxvY2F0aW9uLmhvc3R9L3dzP3Jvb209JHtlbmNvZGVVUklDb21wb25lbnQocm9vbSl9YDtcbiAgaWYgKG1hcFcgJiYgbWFwVyA+IDApIHtcbiAgICB3c1VybCArPSBgJm1hcFc9JHttYXBXfWA7XG4gIH1cbiAgaWYgKG1hcEggJiYgbWFwSCA+IDApIHtcbiAgICB3c1VybCArPSBgJm1hcEg9JHttYXBIfWA7XG4gIH1cbiAgaWYgKG1vZGUpIHtcbiAgICB3c1VybCArPSBgJm1vZGU9JHtlbmNvZGVVUklDb21wb25lbnQobW9kZSl9YDtcbiAgfVxuICBpZiAobWlzc2lvbklkKSB7XG4gICAgd3NVcmwgKz0gYCZtaXNzaW9uPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG1pc3Npb25JZCl9YDtcbiAgfVxuICB3cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xuICAvLyBTZXQgYmluYXJ5IHR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2VzXG4gIHdzLmJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlt3c10gb3BlblwiKTtcbiAgICBjb25zdCBzb2NrZXQgPSB3cztcbiAgICBpZiAoc29ja2V0ICYmIG9uT3Blbikge1xuICAgICAgb25PcGVuKHNvY2tldCk7XG4gICAgfVxuICB9KTtcbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsICgpID0+IGNvbnNvbGUubG9nKFwiW3dzXSBjbG9zZVwiKSk7XG5cbiAgbGV0IHByZXZSb3V0ZXMgPSBuZXcgTWFwPHN0cmluZywgTWlzc2lsZVJvdXRlPigpO1xuICBsZXQgcHJldkFjdGl2ZVJvdXRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IHByZXZNaXNzaWxlQ291bnQgPSAwO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgIC8vIEhhbmRsZSBiaW5hcnkgcHJvdG9idWYgbWVzc2FnZXNcbiAgICBpZiAoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnZlbG9wZSA9IGZyb21CaW5hcnkoV3NFbnZlbG9wZVNjaGVtYSwgbmV3IFVpbnQ4QXJyYXkoZXZlbnQuZGF0YSkpO1xuXG4gICAgICAgIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwic3RhdGVVcGRhdGVcIikge1xuICAgICAgICAgIGNvbnN0IHByb3RvU3RhdGUgPSBwcm90b1RvU3RhdGUoZW52ZWxvcGUucGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgaGFuZGxlUHJvdG9TdGF0ZU1lc3NhZ2Uoc3RhdGUsIHByb3RvU3RhdGUsIGJ1cywgcHJldlJvdXRlcywgcHJldkFjdGl2ZVJvdXRlLCBwcmV2TWlzc2lsZUNvdW50KTtcbiAgICAgICAgICBwcmV2Um91dGVzID0gbmV3IE1hcChzdGF0ZS5taXNzaWxlUm91dGVzLm1hcCgocm91dGUpID0+IFtyb3V0ZS5pZCwgY2xvbmVSb3V0ZShyb3V0ZSldKSk7XG4gICAgICAgICAgcHJldkFjdGl2ZVJvdXRlID0gc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQ7XG4gICAgICAgICAgcHJldk1pc3NpbGVDb3VudCA9IHN0YXRlLm1pc3NpbGVzLmxlbmd0aDtcbiAgICAgICAgICBidXMuZW1pdChcInN0YXRlOnVwZGF0ZWRcIik7XG4gICAgICAgICAgb25TdGF0ZVVwZGF0ZWQ/LigpO1xuICAgICAgICB9IGVsc2UgaWYgKGVudmVsb3BlLnBheWxvYWQuY2FzZSA9PT0gXCJyb29tRnVsbFwiKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlt3c10gUm9vbSBmdWxsOlwiLCBlbnZlbG9wZS5wYXlsb2FkLnZhbHVlLm1lc3NhZ2UpO1xuICAgICAgICAgIGJ1cy5lbWl0KFwiY29ubmVjdGlvbjplcnJvclwiLCB7IG1lc3NhZ2U6IGVudmVsb3BlLnBheWxvYWQudmFsdWUubWVzc2FnZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwiZGFnTGlzdFJlc3BvbnNlXCIpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgREFHIGxpc3QgcmVzcG9uc2UgZnJvbSBQaGFzZSAyXG4gICAgICAgICAgY29uc3QgZGFnRGF0YSA9IGVudmVsb3BlLnBheWxvYWQudmFsdWUuZGFnO1xuICAgICAgICAgIGlmIChkYWdEYXRhKSB7XG4gICAgICAgICAgICBidXMuZW1pdChcImRhZzpsaXN0XCIsIHByb3RvVG9EYWdTdGF0ZShkYWdEYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlt3c10gVW5rbm93biBwcm90b2J1ZiBtZXNzYWdlIHR5cGU6XCIsIGVudmVsb3BlLnBheWxvYWQuY2FzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW3dzXSBGYWlsZWQgdG8gZGVjb2RlIHByb3RvYnVmIG1lc3NhZ2U6XCIsIGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcbn1cblxuXG4vLyBIYW5kbGUgcHJvdG9idWYgc3RhdGUgbWVzc2FnZXMgKHNpbXBsaWZpZWQgdmVyc2lvbiBvZiBoYW5kbGVTdGF0ZU1lc3NhZ2UpXG5mdW5jdGlvbiBoYW5kbGVQcm90b1N0YXRlTWVzc2FnZShcbiAgc3RhdGU6IEFwcFN0YXRlLFxuICBtc2c6IFJldHVyblR5cGU8dHlwZW9mIHByb3RvVG9TdGF0ZT4sXG4gIGJ1czogRXZlbnRCdXMsXG4gIHByZXZSb3V0ZXM6IE1hcDxzdHJpbmcsIE1pc3NpbGVSb3V0ZT4sXG4gIHByZXZBY3RpdmVSb3V0ZTogc3RyaW5nIHwgbnVsbCxcbiAgcHJldk1pc3NpbGVDb3VudDogbnVtYmVyLFxuKTogdm9pZCB7XG4gIHN0YXRlLm5vdyA9IG1zZy5ub3c7XG4gIHN0YXRlLm5vd1N5bmNlZEF0ID0gbW9ub3RvbmljTm93KCk7XG4gIHN0YXRlLm5leHRNaXNzaWxlUmVhZHlBdCA9IG1zZy5uZXh0TWlzc2lsZVJlYWR5O1xuXG4gIC8vIFVwZGF0ZSBwbGF5ZXIgc2hpcFxuICBpZiAobXNnLm1lKSB7XG4gICAgc3RhdGUubWUgPSB7XG4gICAgICB4OiBtc2cubWUueCxcbiAgICAgIHk6IG1zZy5tZS55LFxuICAgICAgdng6IG1zZy5tZS52eCxcbiAgICAgIHZ5OiBtc2cubWUudnksXG4gICAgICBocDogbXNnLm1lLmhwLFxuICAgICAga2lsbHM6IG1zZy5tZS5raWxscyxcbiAgICAgIHdheXBvaW50czogbXNnLm1lLndheXBvaW50cyA/PyBbXSxcbiAgICAgIGN1cnJlbnRXYXlwb2ludEluZGV4OiBtc2cubWUuY3VycmVudFdheXBvaW50SW5kZXggPz8gMCxcbiAgICAgIGhlYXQ6IG1zZy5tZS5oZWF0ID8gY29udmVydEhlYXRWaWV3KG1zZy5tZS5oZWF0LCBzdGF0ZS5ub3dTeW5jZWRBdCwgc3RhdGUubm93KSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLm1lID0gbnVsbDtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBnaG9zdHMgYW5kIG1pc3NpbGVzIChhbHJlYWR5IGluIGNvcnJlY3QgZm9ybWF0IGZyb20gcHJvdG9faGVscGVycylcbiAgc3RhdGUuZ2hvc3RzID0gbXNnLmdob3N0cztcbiAgc3RhdGUubWlzc2lsZXMgPSBtc2cubWlzc2lsZXM7XG5cbiAgLy8gVXBkYXRlIG1pc3NpbGUgcm91dGVzXG4gIGNvbnN0IG5ld1JvdXRlczogTWlzc2lsZVJvdXRlW10gPSBtc2cubWlzc2lsZVJvdXRlcztcbiAgZGlmZlJvdXRlcyhwcmV2Um91dGVzLCBuZXdSb3V0ZXMsIGJ1cyk7XG4gIHN0YXRlLm1pc3NpbGVSb3V0ZXMgPSBuZXdSb3V0ZXM7XG5cbiAgLy8gVXBkYXRlIGFjdGl2ZSByb3V0ZVxuICBjb25zdCBuZXh0QWN0aXZlID0gbXNnLmFjdGl2ZU1pc3NpbGVSb3V0ZSB8fCAobmV3Um91dGVzLmxlbmd0aCA+IDAgPyBuZXdSb3V0ZXNbMF0uaWQgOiBudWxsKTtcbiAgc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQgPSBuZXh0QWN0aXZlO1xuICBpZiAobmV4dEFjdGl2ZSAhPT0gcHJldkFjdGl2ZVJvdXRlKSB7XG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiLCB7IHJvdXRlSWQ6IG5leHRBY3RpdmUgfSk7XG4gIH1cblxuICAvLyBVcGRhdGUgbWlzc2lsZSBjb25maWdcbiAgaWYgKG1zZy5taXNzaWxlQ29uZmlnKSB7XG4gICAgdXBkYXRlTWlzc2lsZUxpbWl0cyhzdGF0ZSwge1xuICAgICAgc3BlZWRNaW46IG1zZy5taXNzaWxlQ29uZmlnLnNwZWVkTWluLFxuICAgICAgc3BlZWRNYXg6IG1zZy5taXNzaWxlQ29uZmlnLnNwZWVkTWF4LFxuICAgICAgYWdyb01pbjogbXNnLm1pc3NpbGVDb25maWcuYWdyb01pbixcbiAgICB9KTtcblxuICAgIGNvbnN0IHByZXZIZWF0ID0gc3RhdGUubWlzc2lsZUNvbmZpZy5oZWF0UGFyYW1zO1xuICAgIGxldCBoZWF0UGFyYW1zOiB7IG1heDogbnVtYmVyOyB3YXJuQXQ6IG51bWJlcjsgb3ZlcmhlYXRBdDogbnVtYmVyOyBtYXJrZXJTcGVlZDogbnVtYmVyOyBrVXA6IG51bWJlcjsga0Rvd246IG51bWJlcjsgZXhwOiBudW1iZXIgfSB8IHVuZGVmaW5lZDtcbiAgICBpZiAobXNnLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZykge1xuICAgICAgY29uc3QgaGVhdENvbmZpZyA9IG1zZy5taXNzaWxlQ29uZmlnLmhlYXRDb25maWc7XG4gICAgICBoZWF0UGFyYW1zID0ge1xuICAgICAgICBtYXg6IGhlYXRDb25maWcubWF4ID8/IHByZXZIZWF0Py5tYXggPz8gMCxcbiAgICAgICAgd2FybkF0OiBoZWF0Q29uZmlnLndhcm5BdCA/PyBwcmV2SGVhdD8ud2FybkF0ID8/IDAsXG4gICAgICAgIG92ZXJoZWF0QXQ6IGhlYXRDb25maWcub3ZlcmhlYXRBdCA/PyBwcmV2SGVhdD8ub3ZlcmhlYXRBdCA/PyAwLFxuICAgICAgICBtYXJrZXJTcGVlZDogaGVhdENvbmZpZy5tYXJrZXJTcGVlZCA/PyBwcmV2SGVhdD8ubWFya2VyU3BlZWQgPz8gMCxcbiAgICAgICAga1VwOiBoZWF0Q29uZmlnLmtVcCA/PyBwcmV2SGVhdD8ua1VwID8/IDAsXG4gICAgICAgIGtEb3duOiBoZWF0Q29uZmlnLmtEb3duID8/IHByZXZIZWF0Py5rRG93biA/PyAwLFxuICAgICAgICBleHA6IGhlYXRDb25maWcuZXhwID8/IHByZXZIZWF0Py5leHAgPz8gMSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc2FuaXRpemVkID0gc2FuaXRpemVNaXNzaWxlQ29uZmlnKHtcbiAgICAgIHNwZWVkOiBtc2cubWlzc2lsZUNvbmZpZy5zcGVlZCxcbiAgICAgIGFncm9SYWRpdXM6IG1zZy5taXNzaWxlQ29uZmlnLmFncm9SYWRpdXMsXG4gICAgICBoZWF0UGFyYW1zLFxuICAgIH0sIHN0YXRlLm1pc3NpbGVDb25maWcsIHN0YXRlLm1pc3NpbGVMaW1pdHMpO1xuICAgIHNhbml0aXplZC5saWZldGltZSA9IG1zZy5taXNzaWxlQ29uZmlnLmxpZmV0aW1lO1xuICAgIHN0YXRlLm1pc3NpbGVDb25maWcgPSBzYW5pdGl6ZWQ7XG4gIH1cblxuICAvLyBVcGRhdGUgd29ybGQgbWV0YVxuICBzdGF0ZS53b3JsZE1ldGEgPSB7XG4gICAgYzogbXNnLm1ldGEuYyxcbiAgICB3OiBtc2cubWV0YS53LFxuICAgIGg6IG1zZy5tZXRhLmgsXG4gIH07XG5cbiAgLy8gUGhhc2UgMjogVXBkYXRlIGludmVudG9yeVxuICBpZiAobXNnLmludmVudG9yeSkge1xuICAgIHN0YXRlLmludmVudG9yeSA9IHtcbiAgICAgIGl0ZW1zOiBtc2cuaW52ZW50b3J5Lml0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICB2YXJpYW50X2lkOiBpdGVtLnZhcmlhbnRJZCxcbiAgICAgICAgaGVhdF9jYXBhY2l0eTogaXRlbS5oZWF0Q2FwYWNpdHksXG4gICAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxuICAgICAgfSkpLFxuICAgIH07XG4gIH1cblxuICAvLyBQaGFzZSAyOiBVcGRhdGUgREFHIChwcm90b1RvU3RhdGUgYWxyZWFkeSBub3JtYWxpemVkIHZpYSBwcm90b19oZWxwZXJzKVxuICBpZiAobXNnLmRhZykge1xuICAgIHN0YXRlLmRhZyA9IHtcbiAgICAgIG5vZGVzOiBtc2cuZGFnLm5vZGVzLm1hcCgobikgPT4gKHtcbiAgICAgICAgaWQ6IG4uaWQsXG4gICAgICAgIGtpbmQ6IG4ua2luZCxcbiAgICAgICAgbGFiZWw6IG4ubGFiZWwsXG4gICAgICAgIHN0YXR1czogbi5zdGF0dXMsXG4gICAgICAgIHJlbWFpbmluZ19zOiBuLnJlbWFpbmluZ1MsXG4gICAgICAgIGR1cmF0aW9uX3M6IG4uZHVyYXRpb25TLFxuICAgICAgICByZXBlYXRhYmxlOiBuLnJlcGVhdGFibGUsXG4gICAgICAgIGVmZmVjdHM6IG4uZWZmZWN0cyxcbiAgICAgIH0pKSxcbiAgICB9O1xuICB9XG5cbiAgLy8gUGhhc2UgMjogVXBkYXRlIGNhcGFiaWxpdGllc1xuICBpZiAobXNnLmNhcGFiaWxpdGllcykge1xuICAgIHN0YXRlLmNhcGFiaWxpdGllcyA9IHtcbiAgICAgIHNwZWVkTXVsdGlwbGllcjogbXNnLmNhcGFiaWxpdGllcy5zcGVlZE11bHRpcGxpZXIsXG4gICAgICB1bmxvY2tlZE1pc3NpbGVzOiBtc2cuY2FwYWJpbGl0aWVzLnVubG9ja2VkTWlzc2lsZXMsXG4gICAgICBoZWF0Q2FwYWNpdHk6IG1zZy5jYXBhYmlsaXRpZXMuaGVhdENhcGFjaXR5LFxuICAgICAgaGVhdEVmZmljaWVuY3k6IG1zZy5jYXBhYmlsaXRpZXMuaGVhdEVmZmljaWVuY3ksXG4gICAgfTtcbiAgfVxuXG4gIC8vIFBoYXNlIDI6IFVwZGF0ZSBzdG9yeVxuICBpZiAobXNnLnN0b3J5KSB7XG4gICAgY29uc3QgcHJldkFjdGl2ZU5vZGUgPSBzdGF0ZS5zdG9yeT8uYWN0aXZlTm9kZSA/PyBudWxsO1xuXG4gICAgLy8gQ29udmVydCBzdG9yeSBkaWFsb2d1ZSB0byBEaWFsb2d1ZUNvbnRlbnQgZm9ybWF0XG4gICAgbGV0IGRpYWxvZ3VlOiBEaWFsb2d1ZUNvbnRlbnQgfCBudWxsID0gbnVsbDtcbiAgICBpZiAobXNnLnN0b3J5LmRpYWxvZ3VlKSB7XG4gICAgICBjb25zdCBkID0gbXNnLnN0b3J5LmRpYWxvZ3VlO1xuICAgICAgZGlhbG9ndWUgPSB7XG4gICAgICAgIHNwZWFrZXI6IGQuc3BlYWtlcixcbiAgICAgICAgdGV4dDogZC50ZXh0LFxuICAgICAgICBpbnRlbnQ6IGQuaW50ZW50IGFzIFwiZmFjdG9yeVwiIHwgXCJ1bml0XCIsXG4gICAgICAgIHR5cGluZ1NwZWVkTXM6IDE4LFxuICAgICAgICBjb250aW51ZUxhYmVsOiBkLmNvbnRpbnVlTGFiZWwsXG4gICAgICAgIGNob2ljZXM6IGQuY2hvaWNlcz8ubWFwKGMgPT4gKHsgaWQ6IGMuaWQsIHRleHQ6IGMudGV4dCB9KSksXG4gICAgICAgIHR1dG9yaWFsVGlwOiBkLnR1dG9yaWFsVGlwID8ge1xuICAgICAgICAgIHRpdGxlOiBkLnR1dG9yaWFsVGlwLnRpdGxlLFxuICAgICAgICAgIHRleHQ6IGQudHV0b3JpYWxUaXAudGV4dCxcbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGUuc3RvcnkgPSB7XG4gICAgICBhY3RpdmVOb2RlOiBtc2cuc3RvcnkuYWN0aXZlTm9kZSB8fCBudWxsLFxuICAgICAgZGlhbG9ndWUsXG4gICAgICBhdmFpbGFibGU6IG1zZy5zdG9yeS5hdmFpbGFibGUsXG4gICAgICBmbGFnczogbXNnLnN0b3J5LmZsYWdzLFxuICAgICAgcmVjZW50RXZlbnRzOiBtc2cuc3RvcnkucmVjZW50RXZlbnRzLm1hcCgoZXZ0KSA9PiAoe1xuICAgICAgICBjaGFwdGVyOiBldnQuY2hhcHRlcklkLFxuICAgICAgICBub2RlOiBldnQubm9kZUlkLFxuICAgICAgICB0aW1lc3RhbXA6IGV2dC50aW1lc3RhbXAsXG4gICAgICB9KSksXG4gICAgfTtcblxuICAgIC8vIEVtaXQgZXZlbnQgd2hlbiBhY3RpdmUgc3Rvcnkgbm9kZSBjaGFuZ2VzXG4gICAgaWYgKHN0YXRlLnN0b3J5LmFjdGl2ZU5vZGUgIT09IHByZXZBY3RpdmVOb2RlICYmIHN0YXRlLnN0b3J5LmFjdGl2ZU5vZGUpIHtcbiAgICAgIGJ1cy5lbWl0KFwic3Rvcnk6bm9kZUFjdGl2YXRlZFwiLCB7XG4gICAgICAgIG5vZGVJZDogc3RhdGUuc3RvcnkuYWN0aXZlTm9kZSxcbiAgICAgICAgZGlhbG9ndWU6IHN0YXRlLnN0b3J5LmRpYWxvZ3VlID8/IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEVtaXQgbWlzc2lsZSBjb3VudCBjaGFuZ2UgaWYgbmVlZGVkXG4gIGNvbnN0IG5ld01pc3NpbGVDb3VudCA9IHN0YXRlLm1pc3NpbGVzLmxlbmd0aDtcbiAgaWYgKG5ld01pc3NpbGVDb3VudCA+IHByZXZNaXNzaWxlQ291bnQpIHtcbiAgICBmb3IgKGxldCBpID0gcHJldk1pc3NpbGVDb3VudDsgaSA8IG5ld01pc3NpbGVDb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBtID0gc3RhdGUubWlzc2lsZXNbaV07XG4gICAgICBpZiAobSAmJiBtLnNlbGYpIHtcbiAgICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOmxhdW5jaGVkXCIsIHsgcm91dGVJZDogbXNnLmFjdGl2ZU1pc3NpbGVSb3V0ZSB8fCBcIlwiIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEVtaXQgY29vbGRvd24gdXBkYXRlXG4gIGNvbnN0IGNvb2xkb3duUmVtYWluaW5nID0gTWF0aC5tYXgoMCwgc3RhdGUubmV4dE1pc3NpbGVSZWFkeUF0IC0gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlKSk7XG4gIGJ1cy5lbWl0KFwibWlzc2lsZTpjb29sZG93blVwZGF0ZWRcIiwgeyBzZWNvbmRzUmVtYWluaW5nOiBjb29sZG93blJlbWFpbmluZyB9KTtcbn1cblxuZnVuY3Rpb24gZGlmZlJvdXRlcyhwcmV2Um91dGVzOiBNYXA8c3RyaW5nLCBNaXNzaWxlUm91dGU+LCBuZXh0Um91dGVzOiBNaXNzaWxlUm91dGVbXSwgYnVzOiBFdmVudEJ1cyk6IHZvaWQge1xuICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGZvciAoY29uc3Qgcm91dGUgb2YgbmV4dFJvdXRlcykge1xuICAgIHNlZW4uYWRkKHJvdXRlLmlkKTtcbiAgICBjb25zdCBwcmV2ID0gcHJldlJvdXRlcy5nZXQocm91dGUuaWQpO1xuICAgIGlmICghcHJldikge1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOnJvdXRlQWRkZWRcIiwgeyByb3V0ZUlkOiByb3V0ZS5pZCB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAocm91dGUubmFtZSAhPT0gcHJldi5uYW1lKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6cm91dGVSZW5hbWVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQsIG5hbWU6IHJvdXRlLm5hbWUgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS53YXlwb2ludHMubGVuZ3RoID4gcHJldi53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkLCBpbmRleDogcm91dGUud2F5cG9pbnRzLmxlbmd0aCAtIDEgfSk7XG4gICAgfSBlbHNlIGlmIChyb3V0ZS53YXlwb2ludHMubGVuZ3RoIDwgcHJldi53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnREZWxldGVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQsIGluZGV4OiBwcmV2LndheXBvaW50cy5sZW5ndGggLSAxIH0pO1xuICAgIH1cbiAgICBpZiAocHJldi53YXlwb2ludHMubGVuZ3RoID4gMCAmJiByb3V0ZS53YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRzQ2xlYXJlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkIH0pO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IFtyb3V0ZUlkXSBvZiBwcmV2Um91dGVzKSB7XG4gICAgaWYgKCFzZWVuLmhhcyhyb3V0ZUlkKSkge1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOnJvdXRlRGVsZXRlZFwiLCB7IHJvdXRlSWQgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lUm91dGUocm91dGU6IE1pc3NpbGVSb3V0ZSk6IE1pc3NpbGVSb3V0ZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJvdXRlLmlkLFxuICAgIG5hbWU6IHJvdXRlLm5hbWUsXG4gICAgd2F5cG9pbnRzOiByb3V0ZS53YXlwb2ludHMubWFwKCh3cCkgPT4gKHsgLi4ud3AgfSkpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlOiBBcHBTdGF0ZSk6IG51bWJlciB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHN0YXRlLm5vdykpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBzeW5jZWRBdCA9IE51bWJlci5pc0Zpbml0ZShzdGF0ZS5ub3dTeW5jZWRBdCkgPyBzdGF0ZS5ub3dTeW5jZWRBdCA6IG51bGw7XG4gIGlmICghc3luY2VkQXQpIHtcbiAgICByZXR1cm4gc3RhdGUubm93O1xuICB9XG4gIGNvbnN0IGVsYXBzZWRNcyA9IG1vbm90b25pY05vdygpIC0gc3luY2VkQXQ7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGVsYXBzZWRNcykgfHwgZWxhcHNlZE1zIDwgMCkge1xuICAgIHJldHVybiBzdGF0ZS5ub3c7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLm5vdyArIGVsYXBzZWRNcyAvIDEwMDA7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRIZWF0VmlldyhzZXJ2ZXJIZWF0OiB7IHY6IG51bWJlcjsgbTogbnVtYmVyOyB3OiBudW1iZXI7IG86IG51bWJlcjsgbXM6IG51bWJlcjsgc3U6IG51bWJlcjsga3U6IG51bWJlcjsga2Q6IG51bWJlcjsgZXg6IG51bWJlciB9LCBub3dTeW5jZWRBdE1zOiBudW1iZXIsIHNlcnZlck5vd1NlYzogbnVtYmVyKTogaW1wb3J0KFwiLi9zdGF0ZVwiKS5IZWF0VmlldyB7XG4gIC8vIENvbnZlcnQgc2VydmVyIHRpbWUgKHN0YWxsVW50aWwgaW4gc2Vjb25kcykgdG8gY2xpZW50IHRpbWUgKG1pbGxpc2Vjb25kcylcbiAgLy8gc3RhbGxVbnRpbCBpcyBhYnNvbHV0ZSBzZXJ2ZXIgdGltZSwgc28gd2UgbmVlZCB0byBjb252ZXJ0IGl0IHRvIGNsaWVudCB0aW1lXG4gIGNvbnN0IHNlcnZlclN0YWxsVW50aWxTZWMgPSBzZXJ2ZXJIZWF0LnN1O1xuICBjb25zdCBvZmZzZXRGcm9tTm93U2VjID0gc2VydmVyU3RhbGxVbnRpbFNlYyAtIHNlcnZlck5vd1NlYztcbiAgY29uc3Qgc3RhbGxVbnRpbE1zID0gbm93U3luY2VkQXRNcyArIChvZmZzZXRGcm9tTm93U2VjICogMTAwMCk7XG5cbiAgY29uc3QgaGVhdFZpZXcgPSB7XG4gICAgdmFsdWU6IHNlcnZlckhlYXQudixcbiAgICBtYXg6IHNlcnZlckhlYXQubSxcbiAgICB3YXJuQXQ6IHNlcnZlckhlYXQudyxcbiAgICBvdmVyaGVhdEF0OiBzZXJ2ZXJIZWF0Lm8sXG4gICAgbWFya2VyU3BlZWQ6IHNlcnZlckhlYXQubXMsXG4gICAgc3RhbGxVbnRpbE1zOiBzdGFsbFVudGlsTXMsXG4gICAga1VwOiBzZXJ2ZXJIZWF0Lmt1LFxuICAgIGtEb3duOiBzZXJ2ZXJIZWF0LmtkLFxuICAgIGV4cDogc2VydmVySGVhdC5leCxcbiAgfTtcbiAgcmV0dXJuIGhlYXRWaWV3O1xufVxuIiwgImV4cG9ydCBjb25zdCBNSU5fWk9PTSA9IDEuMDtcbmV4cG9ydCBjb25zdCBNQVhfWk9PTSA9IDMuMDtcblxuZXhwb3J0IGNvbnN0IEhFTFBfVEVYVCA9IFtcbiAgXCJQcmltYXJ5IE1vZGVzXCIsXG4gIFwiICAxIFx1MjAxMyBUb2dnbGUgc2hpcCBuYXZpZ2F0aW9uIG1vZGVcIixcbiAgXCIgIDIgXHUyMDEzIFRvZ2dsZSBtaXNzaWxlIGNvb3JkaW5hdGlvbiBtb2RlXCIsXG4gIFwiXCIsXG4gIFwiU2hpcCBOYXZpZ2F0aW9uXCIsXG4gIFwiICBUIFx1MjAxMyBTd2l0Y2ggYmV0d2VlbiBzZXQvc2VsZWN0XCIsXG4gIFwiICBDIFx1MjAxMyBDbGVhciBhbGwgd2F5cG9pbnRzXCIsXG4gIFwiICBIIFx1MjAxMyBIb2xkIChjbGVhciB3YXlwb2ludHMgJiBzdG9wKVwiLFxuICBcIiAgUiBcdTIwMTMgVG9nZ2xlIHNob3cgcm91dGVcIixcbiAgXCIgIFsgLyBdIFx1MjAxMyBBZGp1c3Qgd2F5cG9pbnQgc3BlZWRcIixcbiAgXCIgIFNoaWZ0K1sgLyBdIFx1MjAxMyBDb2Fyc2Ugc3BlZWQgYWRqdXN0XCIsXG4gIFwiICBUYWIgLyBTaGlmdCtUYWIgXHUyMDEzIEN5Y2xlIHdheXBvaW50c1wiLFxuICBcIiAgRGVsZXRlIFx1MjAxMyBEZWxldGUgZnJvbSBzZWxlY3RlZCB3YXlwb2ludFwiLFxuICBcIlwiLFxuICBcIk1pc3NpbGUgQ29vcmRpbmF0aW9uXCIsXG4gIFwiICBOIFx1MjAxMyBBZGQgbmV3IG1pc3NpbGUgcm91dGVcIixcbiAgXCIgIEwgXHUyMDEzIExhdW5jaCBtaXNzaWxlc1wiLFxuICBcIiAgRSBcdTIwMTMgU3dpdGNoIGJldHdlZW4gc2V0L3NlbGVjdFwiLFxuICBcIiAgLCAvIC4gXHUyMDEzIEFkanVzdCBhZ3JvIHJhZGl1c1wiLFxuICBcIiAgOyAvICcgXHUyMDEzIEFkanVzdCBtaXNzaWxlIHNwZWVkXCIsXG4gIFwiICBTaGlmdCtzbGlkZXIga2V5cyBcdTIwMTMgQ29hcnNlIGFkanVzdFwiLFxuICBcIiAgRGVsZXRlIFx1MjAxMyBEZWxldGUgc2VsZWN0ZWQgbWlzc2lsZSB3YXlwb2ludFwiLFxuICBcIlwiLFxuICBcIk1hcCBDb250cm9sc1wiLFxuICBcIiAgKy8tIFx1MjAxMyBab29tIGluL291dFwiLFxuICBcIiAgQ3RybCswIFx1MjAxMyBSZXNldCB6b29tXCIsXG4gIFwiICBNb3VzZSB3aGVlbCBcdTIwMTMgWm9vbSBhdCBjdXJzb3JcIixcbiAgXCIgIFBpbmNoIFx1MjAxMyBab29tIG9uIHRvdWNoIGRldmljZXNcIixcbiAgXCJcIixcbiAgXCJHZW5lcmFsXCIsXG4gIFwiICA/IFx1MjAxMyBUb2dnbGUgdGhpcyBvdmVybGF5XCIsXG4gIFwiICBFc2MgXHUyMDEzIENhbmNlbCBzZWxlY3Rpb24gb3IgY2xvc2Ugb3ZlcmxheVwiLFxuXS5qb2luKFwiXFxuXCIpO1xuIiwgImltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIFVJU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgeyBNQVhfWk9PTSwgTUlOX1pPT00gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFEZXBlbmRlbmNpZXMge1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICB1aVN0YXRlOiBVSVN0YXRlO1xufVxuXG5pbnRlcmZhY2UgV29ybGRTaXplIHtcbiAgdzogbnVtYmVyO1xuICBoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhIHtcbiAgc2V0Wm9vbShuZXdab29tOiBudW1iZXIsIGNlbnRlclg/OiBudW1iZXIsIGNlbnRlclk/OiBudW1iZXIpOiB2b2lkO1xuICBnZXRDYW1lcmFQb3NpdGlvbigpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHdvcmxkVG9DYW52YXMocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBjYW52YXNUb1dvcmxkKHA6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgdXBkYXRlV29ybGRGcm9tTWV0YShtZXRhOiBQYXJ0aWFsPFdvcmxkU2l6ZSB8IHVuZGVmaW5lZD4pOiB2b2lkO1xuICBnZXRXb3JsZFNpemUoKTogV29ybGRTaXplO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FtZXJhKHsgY2FudmFzLCBzdGF0ZSwgdWlTdGF0ZSB9OiBDYW1lcmFEZXBlbmRlbmNpZXMpOiBDYW1lcmEge1xuICBjb25zdCB3b3JsZDogV29ybGRTaXplID0geyB3OiA4MDAwLCBoOiA0NTAwIH07XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUNhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiBjYW52YXMgPz8gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFpvb20obmV3Wm9vbTogbnVtYmVyLCBjZW50ZXJYPzogbnVtYmVyLCBjZW50ZXJZPzogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gY2VudGVyIHBhcmFtZXRlcnMgcmVzZXJ2ZWQgZm9yIHBvdGVudGlhbCBzbW9vdGggem9vbWluZyBsb2dpY1xuICAgIHZvaWQgY2VudGVyWDtcbiAgICB2b2lkIGNlbnRlclk7XG4gICAgdWlTdGF0ZS56b29tID0gY2xhbXAobmV3Wm9vbSwgTUlOX1pPT00sIE1BWF9aT09NKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENhbWVyYVBvc2l0aW9uKCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gICAgY29uc3QgY3YgPSByZXNvbHZlQ2FudmFzKCk7XG4gICAgaWYgKCFjdikgcmV0dXJuIHsgeDogd29ybGQudyAvIDIsIHk6IHdvcmxkLmggLyAyIH07XG5cbiAgICBjb25zdCB6b29tID0gdWlTdGF0ZS56b29tO1xuXG4gICAgbGV0IGNhbWVyYVggPSBzdGF0ZS5tZSA/IHN0YXRlLm1lLnggOiB3b3JsZC53IC8gMjtcbiAgICBsZXQgY2FtZXJhWSA9IHN0YXRlLm1lID8gc3RhdGUubWUueSA6IHdvcmxkLmggLyAyO1xuXG4gICAgY29uc3Qgc2NhbGVYID0gY3Yud2lkdGggLyB3b3JsZC53O1xuICAgIGNvbnN0IHNjYWxlWSA9IGN2LmhlaWdodCAvIHdvcmxkLmg7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkgKiB6b29tO1xuXG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IGN2LndpZHRoIC8gc2NhbGU7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBjdi5oZWlnaHQgLyBzY2FsZTtcblxuICAgIGNvbnN0IG1pbkNhbWVyYVggPSB2aWV3cG9ydFdpZHRoIC8gMjtcbiAgICBjb25zdCBtYXhDYW1lcmFYID0gd29ybGQudyAtIHZpZXdwb3J0V2lkdGggLyAyO1xuICAgIGNvbnN0IG1pbkNhbWVyYVkgPSB2aWV3cG9ydEhlaWdodCAvIDI7XG4gICAgY29uc3QgbWF4Q2FtZXJhWSA9IHdvcmxkLmggLSB2aWV3cG9ydEhlaWdodCAvIDI7XG5cbiAgICBpZiAodmlld3BvcnRXaWR0aCA8IHdvcmxkLncpIHtcbiAgICAgIGNhbWVyYVggPSBjbGFtcChjYW1lcmFYLCBtaW5DYW1lcmFYLCBtYXhDYW1lcmFYKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FtZXJhWCA9IHdvcmxkLncgLyAyO1xuICAgIH1cblxuICAgIGlmICh2aWV3cG9ydEhlaWdodCA8IHdvcmxkLmgpIHtcbiAgICAgIGNhbWVyYVkgPSBjbGFtcChjYW1lcmFZLCBtaW5DYW1lcmFZLCBtYXhDYW1lcmFZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FtZXJhWSA9IHdvcmxkLmggLyAyO1xuICAgIH1cblxuICAgIHJldHVybiB7IHg6IGNhbWVyYVgsIHk6IGNhbWVyYVkgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdvcmxkVG9DYW52YXMocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCBjdiA9IHJlc29sdmVDYW52YXMoKTtcbiAgICBpZiAoIWN2KSByZXR1cm4geyB4OiBwLngsIHk6IHAueSB9O1xuXG4gICAgY29uc3Qgem9vbSA9IHVpU3RhdGUuem9vbTtcbiAgICBjb25zdCBjYW1lcmEgPSBnZXRDYW1lcmFQb3NpdGlvbigpO1xuXG4gICAgY29uc3Qgd29ybGRYID0gcC54IC0gY2FtZXJhLng7XG4gICAgY29uc3Qgd29ybGRZID0gcC55IC0gY2FtZXJhLnk7XG5cbiAgICBjb25zdCBzY2FsZVggPSBjdi53aWR0aCAvIHdvcmxkLnc7XG4gICAgY29uc3Qgc2NhbGVZID0gY3YuaGVpZ2h0IC8gd29ybGQuaDtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIHpvb207XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogd29ybGRYICogc2NhbGUgKyBjdi53aWR0aCAvIDIsXG4gICAgICB5OiB3b3JsZFkgKiBzY2FsZSArIGN2LmhlaWdodCAvIDIsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbnZhc1RvV29ybGQocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCBjdiA9IHJlc29sdmVDYW52YXMoKTtcbiAgICBpZiAoIWN2KSByZXR1cm4geyB4OiBwLngsIHk6IHAueSB9O1xuXG4gICAgY29uc3Qgem9vbSA9IHVpU3RhdGUuem9vbTtcbiAgICBjb25zdCBjYW1lcmEgPSBnZXRDYW1lcmFQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgY2FudmFzWCA9IHAueCAtIGN2LndpZHRoIC8gMjtcbiAgICBjb25zdCBjYW52YXNZID0gcC55IC0gY3YuaGVpZ2h0IC8gMjtcblxuICAgIGNvbnN0IHNjYWxlWCA9IGN2LndpZHRoIC8gd29ybGQudztcbiAgICBjb25zdCBzY2FsZVkgPSBjdi5oZWlnaHQgLyB3b3JsZC5oO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpICogem9vbTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBjYW52YXNYIC8gc2NhbGUgKyBjYW1lcmEueCxcbiAgICAgIHk6IGNhbnZhc1kgLyBzY2FsZSArIGNhbWVyYS55LFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVXb3JsZEZyb21NZXRhKG1ldGE6IFBhcnRpYWw8V29ybGRTaXplIHwgdW5kZWZpbmVkPik6IHZvaWQge1xuICAgIGlmICghbWV0YSkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgbWV0YS53ID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShtZXRhLncpKSB7XG4gICAgICB3b3JsZC53ID0gbWV0YS53O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG1ldGEuaCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUobWV0YS5oKSkge1xuICAgICAgd29ybGQuaCA9IG1ldGEuaDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRXb3JsZFNpemUoKTogV29ybGRTaXplIHtcbiAgICByZXR1cm4geyAuLi53b3JsZCB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRab29tLFxuICAgIGdldENhbWVyYVBvc2l0aW9uLFxuICAgIHdvcmxkVG9DYW52YXMsXG4gICAgY2FudmFzVG9Xb3JsZCxcbiAgICB1cGRhdGVXb3JsZEZyb21NZXRhLFxuICAgIGdldFdvcmxkU2l6ZSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBDYW1lcmEgfSBmcm9tIFwiLi9jYW1lcmFcIjtcbmltcG9ydCB0eXBlIHsgTG9naWMsIFBvaW50ZXJQb2ludCB9IGZyb20gXCIuL2xvZ2ljXCI7XG5pbXBvcnQgdHlwZSB7IFVJQ29udHJvbGxlciB9IGZyb20gXCIuL3VpXCI7XG5cbmludGVyZmFjZSBJbnB1dERlcGVuZGVuY2llcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHVpOiBVSUNvbnRyb2xsZXI7XG4gIGxvZ2ljOiBMb2dpYztcbiAgY2FtZXJhOiBDYW1lcmE7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgdWlTdGF0ZTogVUlTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgc2VuZE1lc3NhZ2UocGF5bG9hZDogdW5rbm93bik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRDb250cm9sbGVyIHtcbiAgYmluZElucHV0KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnB1dCh7XG4gIGNhbnZhcyxcbiAgdWksXG4gIGxvZ2ljLFxuICBjYW1lcmEsXG4gIHN0YXRlLFxuICB1aVN0YXRlLFxuICBidXMsXG4gIHNlbmRNZXNzYWdlLFxufTogSW5wdXREZXBlbmRlbmNpZXMpOiBJbnB1dENvbnRyb2xsZXIge1xuICBsZXQgbGFzdFRvdWNoRGlzdGFuY2U6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBsZXQgcGVuZGluZ1RvdWNoVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcbiAgbGV0IGlzUGluY2hpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnZXRQb2ludGVyQ2FudmFzUG9pbnQoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IFBvaW50ZXJQb2ludCB7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzY2FsZVggPSByZWN0LndpZHRoICE9PSAwID8gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCA6IDE7XG4gICAgY29uc3Qgc2NhbGVZID0gcmVjdC5oZWlnaHQgIT09IDAgPyBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQgOiAxO1xuICAgIHJldHVybiB7XG4gICAgICB4OiAoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgKiBzY2FsZVgsXG4gICAgICB5OiAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxlWSxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9pbnRlclBsYWNlbWVudChjYW52YXNQb2ludDogUG9pbnRlclBvaW50LCB3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwibWlzc2lsZVwiID8gXCJtaXNzaWxlXCIgOiBcInNoaXBcIjtcbiAgICBpZiAoY29udGV4dCA9PT0gXCJtaXNzaWxlXCIpIHtcbiAgICAgIGxvZ2ljLmhhbmRsZU1pc3NpbGVQb2ludGVyKGNhbnZhc1BvaW50LCB3b3JsZFBvaW50KTtcbiAgICAgIHVpLnJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2ljLmhhbmRsZVNoaXBQb2ludGVyKGNhbnZhc1BvaW50LCB3b3JsZFBvaW50KTtcbiAgICAgIHVpLnVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DYW52YXNQb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgY2FudmFzUG9pbnQgPSBnZXRQb2ludGVyQ2FudmFzUG9pbnQoZXZlbnQpO1xuICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBjYW1lcmEuY2FudmFzVG9Xb3JsZChjYW52YXNQb2ludCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVpU3RhdGUuaW5wdXRDb250ZXh0ID09PSBcIm1pc3NpbGVcIiA/IFwibWlzc2lsZVwiIDogXCJzaGlwXCI7XG5cbiAgICBpZiAoY29udGV4dCA9PT0gXCJzaGlwXCIgJiYgdWlTdGF0ZS5zaGlwVG9vbCA9PT0gXCJzZWxlY3RcIiAmJiBzdGF0ZS5tZT8ud2F5cG9pbnRzKSB7XG4gICAgICBjb25zdCB3cEluZGV4ID0gbG9naWMuZmluZFdheXBvaW50QXRQb3NpdGlvbihjYW52YXNQb2ludCk7XG4gICAgICBpZiAod3BJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBsb2dpYy5iZWdpblNoaXBEcmFnKHdwSW5kZXgsIGNhbnZhc1BvaW50KTtcbiAgICAgICAgY2FudmFzLnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCA9PT0gXCJtaXNzaWxlXCIgJiYgdWlTdGF0ZS5taXNzaWxlVG9vbCA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgY29uc3QgaGl0ID0gbG9naWMuaGl0VGVzdE1pc3NpbGVSb3V0ZXMoY2FudmFzUG9pbnQpO1xuICAgICAgaWYgKGhpdCkge1xuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKGhpdC5zZWxlY3Rpb24sIGhpdC5yb3V0ZS5pZCk7XG4gICAgICAgIHVpLnJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgICAgIGlmIChoaXQuc2VsZWN0aW9uLnR5cGUgPT09IFwid2F5cG9pbnRcIikge1xuICAgICAgICAgIGxvZ2ljLmJlZ2luTWlzc2lsZURyYWcoaGl0LnNlbGVjdGlvbi5pbmRleCwgY2FudmFzUG9pbnQpO1xuICAgICAgICAgIGNhbnZhcy5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICB1aS5yZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIH1cblxuICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICBpZiAocGVuZGluZ1RvdWNoVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocGVuZGluZ1RvdWNoVGltZW91dCk7XG4gICAgICB9XG4gICAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChpc1BpbmNoaW5nKSByZXR1cm47XG4gICAgICAgIGhhbmRsZVBvaW50ZXJQbGFjZW1lbnQoY2FudmFzUG9pbnQsIHdvcmxkUG9pbnQpO1xuICAgICAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVBvaW50ZXJQbGFjZW1lbnQoY2FudmFzUG9pbnQsIHdvcmxkUG9pbnQpO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1BvaW50ZXJNb3ZlKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBkcmFnZ2luZ1NoaXAgPSBsb2dpYy5nZXREcmFnZ2VkV2F5cG9pbnQoKSAhPT0gbnVsbDtcbiAgICBjb25zdCBkcmFnZ2luZ01pc3NpbGUgPSBsb2dpYy5nZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50KCkgIT09IG51bGw7XG4gICAgaWYgKCFkcmFnZ2luZ1NoaXAgJiYgIWRyYWdnaW5nTWlzc2lsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2FudmFzUG9pbnQgPSBnZXRQb2ludGVyQ2FudmFzUG9pbnQoZXZlbnQpO1xuICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBjYW1lcmEuY2FudmFzVG9Xb3JsZChjYW52YXNQb2ludCk7XG5cbiAgICBpZiAoZHJhZ2dpbmdTaGlwKSB7XG4gICAgICBsb2dpYy51cGRhdGVTaGlwRHJhZyh3b3JsZFBvaW50KTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnaW5nTWlzc2lsZSkge1xuICAgICAgbG9naWMudXBkYXRlTWlzc2lsZURyYWcod29ybGRQb2ludCk7XG4gICAgICB1aS5yZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1BvaW50ZXJVcChldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgbG9naWMuZW5kRHJhZygpO1xuICAgIGlmIChjYW52YXMuaGFzUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgY2FudmFzLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgIH1cbiAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzV2hlZWwoZXZlbnQ6IFdoZWVsRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY2VudGVyWCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgY29uc3QgY2VudGVyWSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICBjb25zdCBzY2FsZVggPSByZWN0LndpZHRoICE9PSAwID8gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCA6IDE7XG4gICAgY29uc3Qgc2NhbGVZID0gcmVjdC5oZWlnaHQgIT09IDAgPyBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQgOiAxO1xuICAgIGNvbnN0IGNhbnZhc0NlbnRlclggPSBjZW50ZXJYICogc2NhbGVYO1xuICAgIGNvbnN0IGNhbnZhc0NlbnRlclkgPSBjZW50ZXJZICogc2NhbGVZO1xuICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGVsdGFZO1xuICAgIGNvbnN0IHpvb21GYWN0b3IgPSBkZWx0YSA+IDAgPyAwLjkgOiAxLjE7XG4gICAgY29uc3QgbmV3Wm9vbSA9IHVpU3RhdGUuem9vbSAqIHpvb21GYWN0b3I7XG4gICAgY2FtZXJhLnNldFpvb20obmV3Wm9vbSwgY2FudmFzQ2VudGVyWCwgY2FudmFzQ2VudGVyWSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUb3VjaERpc3RhbmNlKHRvdWNoZXM6IFRvdWNoTGlzdCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICh0b3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGR4ID0gdG91Y2hlc1swXS5jbGllbnRYIC0gdG91Y2hlc1sxXS5jbGllbnRYO1xuICAgIGNvbnN0IGR5ID0gdG91Y2hlc1swXS5jbGllbnRZIC0gdG91Y2hlc1sxXS5jbGllbnRZO1xuICAgIHJldHVybiBNYXRoLmh5cG90KGR4LCBkeSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUb3VjaENlbnRlcih0b3VjaGVzOiBUb3VjaExpc3QpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBpZiAodG91Y2hlcy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgeDogKHRvdWNoZXNbMF0uY2xpZW50WCArIHRvdWNoZXNbMV0uY2xpZW50WCkgLyAyLFxuICAgICAgeTogKHRvdWNoZXNbMF0uY2xpZW50WSArIHRvdWNoZXNbMV0uY2xpZW50WSkgLyAyLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1RvdWNoU3RhcnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpc1BpbmNoaW5nID0gdHJ1ZTtcbiAgICAgIGxhc3RUb3VjaERpc3RhbmNlID0gZ2V0VG91Y2hEaXN0YW5jZShldmVudC50b3VjaGVzKTtcbiAgICAgIGlmIChwZW5kaW5nVG91Y2hUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVG91Y2hUaW1lb3V0KTtcbiAgICAgICAgcGVuZGluZ1RvdWNoVGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DYW52YXNUb3VjaE1vdmUoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDIpIHtcbiAgICAgIGxhc3RUb3VjaERpc3RhbmNlID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBjdXJyZW50RGlzdGFuY2UgPSBnZXRUb3VjaERpc3RhbmNlKGV2ZW50LnRvdWNoZXMpO1xuICAgIGlmIChjdXJyZW50RGlzdGFuY2UgPT09IG51bGwgfHwgbGFzdFRvdWNoRGlzdGFuY2UgPT09IG51bGwpIHJldHVybjtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGNlbnRlciA9IGdldFRvdWNoQ2VudGVyKGV2ZW50LnRvdWNoZXMpO1xuICAgIGlmICghY2VudGVyKSByZXR1cm47XG4gICAgY29uc3Qgc2NhbGVYID0gcmVjdC53aWR0aCAhPT0gMCA/IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGggOiAxO1xuICAgIGNvbnN0IHNjYWxlWSA9IHJlY3QuaGVpZ2h0ICE9PSAwID8gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0IDogMTtcbiAgICBjb25zdCBjYW52YXNDZW50ZXJYID0gKGNlbnRlci54IC0gcmVjdC5sZWZ0KSAqIHNjYWxlWDtcbiAgICBjb25zdCBjYW52YXNDZW50ZXJZID0gKGNlbnRlci55IC0gcmVjdC50b3ApICogc2NhbGVZO1xuICAgIGNvbnN0IHpvb21GYWN0b3IgPSBjdXJyZW50RGlzdGFuY2UgLyBsYXN0VG91Y2hEaXN0YW5jZTtcbiAgICBjb25zdCBuZXdab29tID0gdWlTdGF0ZS56b29tICogem9vbUZhY3RvcjtcbiAgICBjYW1lcmEuc2V0Wm9vbShuZXdab29tLCBjYW52YXNDZW50ZXJYLCBjYW52YXNDZW50ZXJZKTtcbiAgICBsYXN0VG91Y2hEaXN0YW5jZSA9IGN1cnJlbnREaXN0YW5jZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzVG91Y2hFbmQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICBsYXN0VG91Y2hEaXN0YW5jZSA9IG51bGw7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaXNQaW5jaGluZyA9IGZhbHNlO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVBZGRNaXNzaWxlUm91dGUoKTogdm9pZCB7XG4gICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiYWRkX21pc3NpbGVfcm91dGVcIiB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uV2luZG93S2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGNvbnN0IGlzRWRpdGFibGUgPVxuICAgICAgISF0YXJnZXQgJiZcbiAgICAgICh0YXJnZXQudGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICAgIHRhcmdldC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIgfHxcbiAgICAgICAgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKTtcblxuICAgIGlmICh1aVN0YXRlLmhlbHBWaXNpYmxlICYmIGV2ZW50LmtleSAhPT0gXCJFc2NhcGVcIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0YXJnZXQuYmx1cigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgY2FzZSBcIkRpZ2l0MVwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiRGlnaXQyXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJLZXlUXCI6XG4gICAgICAgIGlmICh1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwic2hpcC1zZXRcIikge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJzaGlwLXNlbGVjdFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwic2hpcC1zZWxlY3RcIikge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJzaGlwLXNldFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1aS5zZXRBY3RpdmVUb29sKFwic2hpcC1zZXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIktleUNcIjpcbiAgICAgIGNhc2UgXCJLZXlIXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIGxvZ2ljLmNsZWFyU2hpcFJvdXRlKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJCcmFja2V0TGVmdFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICB1aS5hZGp1c3RTaGlwU3BlZWQoLTEsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIkJyYWNrZXRSaWdodFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICB1aS5hZGp1c3RTaGlwU3BlZWQoMSwgZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiVGFiXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIGxvZ2ljLmN5Y2xlU2hpcFNlbGVjdGlvbihldmVudC5zaGlmdEtleSA/IC0xIDogMSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJLZXlOXCI6XG4gICAgICAgIGhhbmRsZUFkZE1pc3NpbGVSb3V0ZSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiS2V5TFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICBsb2dpYy5sYXVuY2hBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIktleUVcIjpcbiAgICAgICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJtaXNzaWxlLXNldFwiKSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2VsZWN0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJtaXNzaWxlLXNlbGVjdFwiKSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2V0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJtaXNzaWxlLXNldFwiKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiQ29tbWFcIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgICAgdWkuYWRqdXN0TWlzc2lsZUFncm8oLTEsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlBlcmlvZFwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICB1aS5hZGp1c3RNaXNzaWxlQWdybygxLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJTZW1pY29sb25cIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgICAgdWkuYWRqdXN0TWlzc2lsZVNwZWVkKC0xLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJRdW90ZVwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICB1aS5hZGp1c3RNaXNzaWxlU3BlZWQoMSwgZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiRGVsZXRlXCI6XG4gICAgICBjYXNlIFwiQmFja3NwYWNlXCI6XG4gICAgICAgIGlmICh1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJtaXNzaWxlXCIgJiYgbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpKSB7XG4gICAgICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2dpYy5nZXRTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGxvZ2ljLmRlbGV0ZVNlbGVjdGVkU2hpcFdheXBvaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIkVzY2FwZVwiOiB7XG4gICAgICAgIGlmICh1aVN0YXRlLmhlbHBWaXNpYmxlKSB7XG4gICAgICAgICAgdWkuc2V0SGVscFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9naWMuZ2V0U2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICBsb2dpYy5zZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwibWlzc2lsZVwiKSB7XG4gICAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIFwiRXF1YWxcIjpcbiAgICAgIGNhc2UgXCJOdW1wYWRBZGRcIjoge1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgICAgICBjYW1lcmEuc2V0Wm9vbSh1aVN0YXRlLnpvb20gKiAxLjIsIGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIFwiTWludXNcIjpcbiAgICAgIGNhc2UgXCJOdW1wYWRTdWJ0cmFjdFwiOiB7XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgICAgIGNhbWVyYS5zZXRab29tKHVpU3RhdGUuem9vbSAvIDEuMiwgY2VudGVyWCwgY2VudGVyWSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJEaWdpdDBcIjpcbiAgICAgIGNhc2UgXCJOdW1wYWQwXCI6XG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgICAgICBjYW1lcmEuc2V0Wm9vbSgxLjApO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCI/XCIpIHtcbiAgICAgIHVpLnNldEhlbHBWaXNpYmxlKCF1aVN0YXRlLmhlbHBWaXNpYmxlKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYmluZElucHV0KCk6IHZvaWQge1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgb25DYW52YXNQb2ludGVyRG93bik7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBvbkNhbnZhc1BvaW50ZXJNb3ZlKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBvbkNhbnZhc1BvaW50ZXJVcCk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsIG9uQ2FudmFzUG9pbnRlclVwKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIG9uQ2FudmFzV2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG9uQ2FudmFzVG91Y2hTdGFydCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvbkNhbnZhc1RvdWNoTW92ZSwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIG9uQ2FudmFzVG91Y2hFbmQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uV2luZG93S2V5RG93biwgeyBjYXB0dXJlOiBmYWxzZSB9KTtcblxuICAgIGJ1cy5vbihcImNvbnRleHQ6Y2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ1RvdWNoVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocGVuZGluZ1RvdWNoVGltZW91dCk7XG4gICAgICAgIHBlbmRpbmdUb3VjaFRpbWVvdXQgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiaW5kSW5wdXQsXG4gIH07XG59XG4iLCAiLy8gU2hhcmVkIHJvdXRlIHBsYW5uaW5nIG1vZHVsZSBmb3Igc2hpcHMgYW5kIG1pc3NpbGVzXG4vLyBQaGFzZSAxOiBTaGFyZWQgTW9kZWwgJiBIZWxwZXJzXG5cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4vc3RhdGVcIjtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVHlwZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZVdheXBvaW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHNwZWVkPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlUG9pbnRzIHtcbiAgd2F5cG9pbnRzOiBSb3V0ZVdheXBvaW50W107XG4gIHdvcmxkUG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXTtcbiAgY2FudmFzUG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29uc3RhbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBXQVlQT0lOVF9ISVRfUkFESVVTID0gMTI7XG5leHBvcnQgY29uc3QgTEVHX0hJVF9ESVNUQU5DRSA9IDEwO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBCdWlsZGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEJ1aWxkcyByb3V0ZSBwb2ludHMgZnJvbSBhIHN0YXJ0IHBvc2l0aW9uIGFuZCB3YXlwb2ludHMuXG4gKiBJbmNsdWRlcyB3b3JsZCBjb29yZGluYXRlcyAod3JhcHBpbmcpIGFuZCBjYW52YXMgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJvdXRlUG9pbnRzKFxuICBzdGFydDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuICB3YXlwb2ludHM6IFJvdXRlV2F5cG9pbnRbXSxcbiAgd29ybGQ6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSxcbiAgY2FtZXJhOiAoKSA9PiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG4gIHpvb206ICgpID0+IG51bWJlcixcbiAgd29ybGRUb0NhbnZhczogKHA6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4geyB4OiBudW1iZXI7IHk6IG51bWJlciB9XG4pOiBSb3V0ZVBvaW50cyB7XG4gIGNvbnN0IHdvcmxkUG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXSA9IFt7IHg6IHN0YXJ0LngsIHk6IHN0YXJ0LnkgfV07XG5cbiAgZm9yIChjb25zdCB3cCBvZiB3YXlwb2ludHMpIHtcbiAgICB3b3JsZFBvaW50cy5wdXNoKHsgeDogd3AueCwgeTogd3AueSB9KTtcbiAgfVxuXG4gIGNvbnN0IGNhbnZhc1BvaW50cyA9IHdvcmxkUG9pbnRzLm1hcCgocG9pbnQpID0+IHdvcmxkVG9DYW52YXMocG9pbnQpKTtcblxuICByZXR1cm4ge1xuICAgIHdheXBvaW50czogd2F5cG9pbnRzLnNsaWNlKCksXG4gICAgd29ybGRQb2ludHMsXG4gICAgY2FudmFzUG9pbnRzLFxuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBHZW9tZXRyeSAvIEhpdC10ZXN0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgZnJvbSBhIHBvaW50IHRvIGEgbGluZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRTZWdtZW50RGlzdGFuY2UoXG4gIHA6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgYTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuICBiOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1cbik6IG51bWJlciB7XG4gIGNvbnN0IGFieCA9IGIueCAtIGEueDtcbiAgY29uc3QgYWJ5ID0gYi55IC0gYS55O1xuICBjb25zdCBhcHggPSBwLnggLSBhLng7XG4gIGNvbnN0IGFweSA9IHAueSAtIGEueTtcbiAgY29uc3QgYWJMZW5TcSA9IGFieCAqIGFieCArIGFieSAqIGFieTtcbiAgY29uc3QgdCA9IGFiTGVuU3EgPT09IDAgPyAwIDogY2xhbXAoYXB4ICogYWJ4ICsgYXB5ICogYWJ5LCAwLCBhYkxlblNxKSAvIGFiTGVuU3E7XG4gIGNvbnN0IHByb2p4ID0gYS54ICsgYWJ4ICogdDtcbiAgY29uc3QgcHJvankgPSBhLnkgKyBhYnkgKiB0O1xuICBjb25zdCBkeCA9IHAueCAtIHByb2p4O1xuICBjb25zdCBkeSA9IHAueSAtIHByb2p5O1xuICByZXR1cm4gTWF0aC5oeXBvdChkeCwgZHkpO1xufVxuXG4vKipcbiAqIEhpdC10ZXN0cyBhIHJvdXRlIGFnYWluc3QgYSBjYW52YXMgcG9pbnQuXG4gKiBSZXR1cm5zIHRoZSBoaXQgdHlwZSBhbmQgaW5kZXgsIG9yIG51bGwgaWYgbm8gaGl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGl0VGVzdFJvdXRlR2VuZXJpYyhcbiAgY2FudmFzUG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgcm91dGVQb2ludHM6IFJvdXRlUG9pbnRzLFxuICBvcHRzOiB7XG4gICAgd2F5cG9pbnRIaXRSYWRpdXM/OiBudW1iZXI7XG4gICAgbGVnSGl0RGlzdGFuY2U/OiBudW1iZXI7XG4gICAgc2tpcExlZ3M/OiBib29sZWFuO1xuICB9ID0ge31cbik6IHsgdHlwZTogXCJ3YXlwb2ludFwiIHwgXCJsZWdcIjsgaW5kZXg6IG51bWJlciB9IHwgbnVsbCB7XG4gIGNvbnN0IHdheXBvaW50SGl0UmFkaXVzID0gb3B0cy53YXlwb2ludEhpdFJhZGl1cyA/PyBXQVlQT0lOVF9ISVRfUkFESVVTO1xuICBjb25zdCBsZWdIaXREaXN0YW5jZSA9IG9wdHMubGVnSGl0RGlzdGFuY2UgPz8gTEVHX0hJVF9ESVNUQU5DRTtcbiAgY29uc3Qgc2tpcExlZ3MgPSBvcHRzLnNraXBMZWdzID8/IGZhbHNlO1xuXG4gIGNvbnN0IHsgd2F5cG9pbnRzLCBjYW52YXNQb2ludHMgfSA9IHJvdXRlUG9pbnRzO1xuXG4gIGlmICh3YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayB3YXlwb2ludHMgZmlyc3QgKGhpZ2hlciBwcmlvcml0eSB0aGFuIGxlZ3MpXG4gIC8vIFNraXAgaW5kZXggMCB3aGljaCBpcyB0aGUgc3RhcnQgcG9zaXRpb25cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB3cENhbnZhcyA9IGNhbnZhc1BvaW50c1tpICsgMV07IC8vICsxIGJlY2F1c2UgZmlyc3QgcG9pbnQgaXMgc3RhcnQgcG9zaXRpb25cbiAgICBjb25zdCBkeCA9IGNhbnZhc1BvaW50LnggLSB3cENhbnZhcy54O1xuICAgIGNvbnN0IGR5ID0gY2FudmFzUG9pbnQueSAtIHdwQ2FudmFzLnk7XG4gICAgaWYgKE1hdGguaHlwb3QoZHgsIGR5KSA8PSB3YXlwb2ludEhpdFJhZGl1cykge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ3YXlwb2ludFwiLCBpbmRleDogaSB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGxlZ3MgKGxvd2VyIHByaW9yaXR5KVxuICBpZiAoIXNraXBMZWdzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGRpc3QgPSBwb2ludFNlZ21lbnREaXN0YW5jZShjYW52YXNQb2ludCwgY2FudmFzUG9pbnRzW2ldLCBjYW52YXNQb2ludHNbaSArIDFdKTtcbiAgICAgIGlmIChkaXN0IDw9IGxlZ0hpdERpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwibGVnXCIsIGluZGV4OiBpIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERhc2ggQW5pbWF0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogVXBkYXRlcyBkYXNoIG9mZnNldHMgZm9yIHJvdXRlIGxlZ3MgdG8gY3JlYXRlIG1hcmNoaW5nIGFudHMgYW5pbWF0aW9uLlxuICogTXV0YXRlcyB0aGUgcHJvdmlkZWQgc3RvcmUgbWFwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRGFzaE9mZnNldHNGb3JSb3V0ZShcbiAgc3RvcmU6IE1hcDxudW1iZXIsIG51bWJlcj4sXG4gIHdheXBvaW50czogQXJyYXk8eyBzcGVlZD86IG51bWJlciB9PixcbiAgd29ybGRQb2ludHM6IEFycmF5PHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4sXG4gIGNhbnZhc1BvaW50czogQXJyYXk8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9PixcbiAgZmFsbGJhY2tTcGVlZDogbnVtYmVyLFxuICBkdFNlY29uZHM6IG51bWJlcixcbiAgY3ljbGUgPSA2NFxuKTogdm9pZCB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGR0U2Vjb25kcykgfHwgZHRTZWNvbmRzIDwgMCkge1xuICAgIGR0U2Vjb25kcyA9IDA7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHdwID0gd2F5cG9pbnRzW2ldO1xuICAgIGNvbnN0IHNwZWVkID0gdHlwZW9mIHdwLnNwZWVkID09PSBcIm51bWJlclwiICYmIHdwLnNwZWVkID4gMCA/IHdwLnNwZWVkIDogZmFsbGJhY2tTcGVlZDtcbiAgICBjb25zdCBhV29ybGQgPSB3b3JsZFBvaW50c1tpXTtcbiAgICBjb25zdCBiV29ybGQgPSB3b3JsZFBvaW50c1tpICsgMV07XG4gICAgY29uc3Qgd29ybGREaXN0ID0gTWF0aC5oeXBvdChiV29ybGQueCAtIGFXb3JsZC54LCBiV29ybGQueSAtIGFXb3JsZC55KTtcbiAgICBjb25zdCBhQ2FudmFzID0gY2FudmFzUG9pbnRzW2ldO1xuICAgIGNvbnN0IGJDYW52YXMgPSBjYW52YXNQb2ludHNbaSArIDFdO1xuICAgIGNvbnN0IGNhbnZhc0Rpc3QgPSBNYXRoLmh5cG90KGJDYW52YXMueCAtIGFDYW52YXMueCwgYkNhbnZhcy55IC0gYUNhbnZhcy55KTtcblxuICAgIGlmIChcbiAgICAgICFOdW1iZXIuaXNGaW5pdGUoc3BlZWQpIHx8XG4gICAgICBzcGVlZCA8PSAxZS0zIHx8XG4gICAgICAhTnVtYmVyLmlzRmluaXRlKHdvcmxkRGlzdCkgfHxcbiAgICAgIHdvcmxkRGlzdCA8PSAxZS0zIHx8XG4gICAgICBjYW52YXNEaXN0IDw9IDFlLTNcbiAgICApIHtcbiAgICAgIHN0b3JlLnNldChpLCAwKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChkdFNlY29uZHMgPD0gMCkge1xuICAgICAgaWYgKCFzdG9yZS5oYXMoaSkpIHtcbiAgICAgICAgc3RvcmUuc2V0KGksIDApO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NhbGUgPSBjYW52YXNEaXN0IC8gd29ybGREaXN0O1xuICAgIGNvbnN0IGRhc2hTcGVlZCA9IHNwZWVkICogc2NhbGU7XG4gICAgbGV0IG5leHQgPSAoc3RvcmUuZ2V0KGkpID8/IDApIC0gZGFzaFNwZWVkICogZHRTZWNvbmRzO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKG5leHQpKSB7XG4gICAgICBuZXh0ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dCA9ICgobmV4dCAlIGN5Y2xlKSArIGN5Y2xlKSAlIGN5Y2xlO1xuICAgIH1cbiAgICBzdG9yZS5zZXQoaSwgbmV4dCk7XG4gIH1cbiAgLy8gQ2xlYW4gdXAgb2xkIGtleXNcbiAgZm9yIChjb25zdCBrZXkgb2YgQXJyYXkuZnJvbShzdG9yZS5rZXlzKCkpKSB7XG4gICAgaWYgKGtleSA+PSB3YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBzdG9yZS5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVhdCBQcm9qZWN0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhdFByb2plY3Rpb25QYXJhbXMge1xuICBtYXJrZXJTcGVlZDogbnVtYmVyO1xuICBrVXA6IG51bWJlcjtcbiAga0Rvd246IG51bWJlcjtcbiAgZXhwOiBudW1iZXI7XG4gIG1heDogbnVtYmVyO1xuICBvdmVyaGVhdEF0OiBudW1iZXI7XG4gIHdhcm5BdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYXRQcm9qZWN0aW9uUmVzdWx0IHtcbiAgaGVhdEF0V2F5cG9pbnRzOiBudW1iZXJbXTtcbiAgd2lsbE92ZXJoZWF0OiBib29sZWFuO1xuICBvdmVyaGVhdEF0PzogbnVtYmVyOyAvLyBJbmRleCB3aGVyZSBvdmVyaGVhdCBvY2N1cnNcbn1cblxuLyoqXG4gKiBQcm9qZWN0cyBoZWF0IGFsb25nIGEgcm91dGUgZ2l2ZW4gaW5pdGlhbCBoZWF0IGFuZCBoZWF0IHBhcmFtZXRlcnMuXG4gKiBSZXR1cm5zIGhlYXQgYXQgZWFjaCB3YXlwb2ludCBhbmQgd2hldGhlciBvdmVyaGVhdCB3aWxsIG9jY3VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdFJvdXRlSGVhdChcbiAgcm91dGU6IFJvdXRlV2F5cG9pbnRbXSxcbiAgaW5pdGlhbEhlYXQ6IG51bWJlcixcbiAgcGFyYW1zOiBIZWF0UHJvamVjdGlvblBhcmFtc1xuKTogSGVhdFByb2plY3Rpb25SZXN1bHQge1xuICBjb25zdCByZXN1bHQ6IEhlYXRQcm9qZWN0aW9uUmVzdWx0ID0ge1xuICAgIGhlYXRBdFdheXBvaW50czogW10sXG4gICAgd2lsbE92ZXJoZWF0OiBmYWxzZSxcbiAgfTtcblxuICBpZiAocm91dGUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGxldCBoZWF0ID0gY2xhbXAoaW5pdGlhbEhlYXQsIDAsIHBhcmFtcy5tYXgpO1xuICBsZXQgcHJldlBvaW50ID0geyB4OiByb3V0ZVswXS54LCB5OiByb3V0ZVswXS55IH07XG5cbiAgcmVzdWx0LmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcm91dGUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0YXJnZXRQb3MgPSByb3V0ZVtpXTtcblxuICAgIC8vIENhbGN1bGF0ZSBkaXN0YW5jZSBhbmQgdGltZVxuICAgIGNvbnN0IGR4ID0gdGFyZ2V0UG9zLnggLSBwcmV2UG9pbnQueDtcbiAgICBjb25zdCBkeSA9IHRhcmdldFBvcy55IC0gcHJldlBvaW50Lnk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgaWYgKGRpc3RhbmNlIDwgMC4wMDEpIHtcbiAgICAgIHJlc3VsdC5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcbiAgICAgIHByZXZQb2ludCA9IHsgeDogdGFyZ2V0UG9zLngsIHk6IHRhcmdldFBvcy55IH07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCByYXdTcGVlZCA9IHRhcmdldFBvcy5zcGVlZCA/PyBwYXJhbXMubWFya2VyU3BlZWQ7XG4gICAgY29uc3Qgc2VnbWVudFNwZWVkID0gTWF0aC5tYXgocmF3U3BlZWQsIDAuMDAwMDAxKTtcbiAgICBjb25zdCBzZWdtZW50VGltZSA9IGRpc3RhbmNlIC8gc2VnbWVudFNwZWVkO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGhlYXQgcmF0ZSAobWF0Y2ggc2VydmVyIGZvcm11bGEpXG4gICAgY29uc3QgVm4gPSBNYXRoLm1heChwYXJhbXMubWFya2VyU3BlZWQsIDAuMDAwMDAxKTtcbiAgICBjb25zdCBkZXYgPSBzZWdtZW50U3BlZWQgLSBwYXJhbXMubWFya2VyU3BlZWQ7XG4gICAgY29uc3QgcCA9IHBhcmFtcy5leHA7XG5cbiAgICBsZXQgaGRvdDogbnVtYmVyO1xuICAgIGlmIChkZXYgPj0gMCkge1xuICAgICAgLy8gSGVhdGluZ1xuICAgICAgaGRvdCA9IHBhcmFtcy5rVXAgKiBNYXRoLnBvdyhkZXYgLyBWbiwgcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvb2xpbmdcbiAgICAgIGhkb3QgPSAtcGFyYW1zLmtEb3duICogTWF0aC5wb3coTWF0aC5hYnMoZGV2KSAvIFZuLCBwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgaGVhdFxuICAgIGhlYXQgKz0gaGRvdCAqIHNlZ21lbnRUaW1lO1xuICAgIGhlYXQgPSBjbGFtcChoZWF0LCAwLCBwYXJhbXMubWF4KTtcblxuICAgIHJlc3VsdC5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcblxuICAgIC8vIENoZWNrIGZvciBvdmVyaGVhdFxuICAgIGlmICghcmVzdWx0LndpbGxPdmVyaGVhdCAmJiBoZWF0ID49IHBhcmFtcy5vdmVyaGVhdEF0KSB7XG4gICAgICByZXN1bHQud2lsbE92ZXJoZWF0ID0gdHJ1ZTtcbiAgICAgIHJlc3VsdC5vdmVyaGVhdEF0ID0gaTtcbiAgICB9XG5cbiAgICBwcmV2UG9pbnQgPSB7IHg6IHRhcmdldFBvcy54LCB5OiB0YXJnZXRQb3MueSB9O1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb21wYXRpYmlsaXR5IHdyYXBwZXIgZm9yIG1pc3NpbGUgaGVhdCBwcm9qZWN0aW9uLlxuICogTWlzc2lsZXMgc3RhcnQgYXQgemVybyBoZWF0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdE1pc3NpbGVIZWF0Q29tcGF0KFxuICByb3V0ZTogUm91dGVXYXlwb2ludFtdLFxuICBkZWZhdWx0U3BlZWQ6IG51bWJlcixcbiAgaGVhdFBhcmFtczogSGVhdFByb2plY3Rpb25QYXJhbXNcbik6IEhlYXRQcm9qZWN0aW9uUmVzdWx0IHtcbiAgLy8gTWlzc2lsZXMgc3RhcnQgYXQgemVybyBoZWF0XG4gIC8vIEVuc3VyZSBhbGwgd2F5cG9pbnRzIGhhdmUgc3BlZWQgc2V0ICh1c2UgZGVmYXVsdCBpZiBtaXNzaW5nKVxuICBjb25zdCByb3V0ZVdpdGhTcGVlZCA9IHJvdXRlLm1hcCgod3ApID0+ICh7XG4gICAgeDogd3AueCxcbiAgICB5OiB3cC55LFxuICAgIHNwZWVkOiB3cC5zcGVlZCA/PyBkZWZhdWx0U3BlZWQsXG4gIH0pKTtcblxuICByZXR1cm4gcHJvamVjdFJvdXRlSGVhdChyb3V0ZVdpdGhTcGVlZCwgMCwgaGVhdFBhcmFtcyk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJlbmRlcmluZ1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIExpbmVhciBjb2xvciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIFJHQiBjb2xvcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUNvbG9yKFxuICBjb2xvcjE6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgY29sb3IyOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gIHQ6IG51bWJlclxuKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcbiAgcmV0dXJuIFtcbiAgICBNYXRoLnJvdW5kKGNvbG9yMVswXSArIChjb2xvcjJbMF0gLSBjb2xvcjFbMF0pICogdCksXG4gICAgTWF0aC5yb3VuZChjb2xvcjFbMV0gKyAoY29sb3IyWzFdIC0gY29sb3IxWzFdKSAqIHQpLFxuICAgIE1hdGgucm91bmQoY29sb3IxWzJdICsgKGNvbG9yMlsyXSAtIGNvbG9yMVsyXSkgKiB0KSxcbiAgXTtcbn1cblxuLyoqXG4gKiBDb2xvciBwYWxldHRlIGZvciByb3V0ZSByZW5kZXJpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVQYWxldHRlIHtcbiAgLy8gRGVmYXVsdCBsaW5lIGNvbG9yICh3aGVuIG5vIGhlYXQgZGF0YSlcbiAgZGVmYXVsdExpbmU6IHN0cmluZztcbiAgLy8gU2VsZWN0aW9uIGhpZ2hsaWdodCBjb2xvclxuICBzZWxlY3Rpb246IHN0cmluZztcbiAgLy8gV2F5cG9pbnQgY29sb3JzXG4gIHdheXBvaW50RGVmYXVsdDogc3RyaW5nO1xuICB3YXlwb2ludFNlbGVjdGVkOiBzdHJpbmc7XG4gIHdheXBvaW50RHJhZ2dpbmc/OiBzdHJpbmc7XG4gIHdheXBvaW50U3Ryb2tlOiBzdHJpbmc7XG4gIHdheXBvaW50U3Ryb2tlU2VsZWN0ZWQ/OiBzdHJpbmc7XG4gIC8vIEhlYXQgZ3JhZGllbnQgY29sb3JzIChmcm9tIGNvb2wgdG8gaG90KVxuICBoZWF0Q29vbFJnYj86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgaGVhdEhvdFJnYj86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNoaXAgcGFsZXR0ZSAoYmx1ZSB0aGVtZSkuXG4gKi9cbmV4cG9ydCBjb25zdCBTSElQX1BBTEVUVEU6IFJvdXRlUGFsZXR0ZSA9IHtcbiAgZGVmYXVsdExpbmU6IFwiIzM4YmRmOFwiLFxuICBzZWxlY3Rpb246IFwiI2Y5NzMxNlwiLFxuICB3YXlwb2ludERlZmF1bHQ6IFwiIzM4YmRmOFwiLFxuICB3YXlwb2ludFNlbGVjdGVkOiBcIiNmOTczMTZcIixcbiAgd2F5cG9pbnREcmFnZ2luZzogXCIjZmFjYzE1XCIsXG4gIHdheXBvaW50U3Ryb2tlOiBcIiMwZjE3MmFcIixcbiAgaGVhdENvb2xSZ2I6IFsxMDAsIDE1MCwgMjU1XSxcbiAgaGVhdEhvdFJnYjogWzI1NSwgNTAsIDUwXSxcbn07XG5cbi8qKlxuICogTWlzc2lsZSBwYWxldHRlIChyZWQgdGhlbWUpLlxuICovXG5leHBvcnQgY29uc3QgTUlTU0lMRV9QQUxFVFRFOiBSb3V0ZVBhbGV0dGUgPSB7XG4gIGRlZmF1bHRMaW5lOiBcIiNmODcxNzFhYVwiLFxuICBzZWxlY3Rpb246IFwiI2Y5NzMxNlwiLFxuICB3YXlwb2ludERlZmF1bHQ6IFwiI2Y4NzE3MVwiLFxuICB3YXlwb2ludFNlbGVjdGVkOiBcIiNmYWNjMTVcIixcbiAgd2F5cG9pbnRTdHJva2U6IFwiIzdmMWQxZFwiLFxuICB3YXlwb2ludFN0cm9rZVNlbGVjdGVkOiBcIiM4NTRkMGVcIixcbiAgaGVhdENvb2xSZ2I6IFsyNDgsIDEyOSwgMTI5XSxcbiAgaGVhdEhvdFJnYjogWzIyMCwgMzgsIDM4XSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd1BsYW5uZWRSb3V0ZU9wdGlvbnMge1xuICAvLyBDYW52YXMgcG9pbnRzIGZvciB0aGUgcm91dGVcbiAgcm91dGVQb2ludHM6IFJvdXRlUG9pbnRzO1xuICAvLyBTZWxlY3Rpb24gc3RhdGUgKHdoaWNoIHdheXBvaW50L2xlZyBpcyBzZWxlY3RlZClcbiAgc2VsZWN0aW9uOiB7IHR5cGU6IFwid2F5cG9pbnRcIiB8IFwibGVnXCI7IGluZGV4OiBudW1iZXIgfSB8IG51bGw7XG4gIC8vIERyYWdnZWQgd2F5cG9pbnQgaW5kZXggKGZvciBkcmFnLWFuZC1kcm9wKVxuICBkcmFnZ2VkV2F5cG9pbnQ/OiBudW1iZXIgfCBudWxsO1xuICAvLyBEYXNoIGFuaW1hdGlvbiBvZmZzZXRzXG4gIGRhc2hTdG9yZTogTWFwPG51bWJlciwgbnVtYmVyPjtcbiAgLy8gQ29sb3IgcGFsZXR0ZSAoZGVmYXVsdHMgdG8gc2hpcCBwYWxldHRlKVxuICBwYWxldHRlPzogUm91dGVQYWxldHRlO1xuICAvLyBXaGV0aGVyIHRvIHNob3cgdGhlIHJvdXRlIGxlZ3NcbiAgc2hvd0xlZ3M6IGJvb2xlYW47XG4gIC8vIEhlYXQgcGFyYW1ldGVycyBhbmQgaW5pdGlhbCBoZWF0IChvcHRpb25hbClcbiAgaGVhdFBhcmFtcz86IEhlYXRQcm9qZWN0aW9uUGFyYW1zO1xuICBpbml0aWFsSGVhdD86IG51bWJlcjtcbiAgLy8gRGVmYXVsdCBzcGVlZCBmb3Igd2F5cG9pbnRzIHdpdGhvdXQgc3BlZWQgc2V0XG4gIGRlZmF1bHRTcGVlZDogbnVtYmVyO1xuICAvLyBXb3JsZCBwb2ludHMgKGZvciBoZWF0IGNhbGN1bGF0aW9uKVxuICB3b3JsZFBvaW50cz86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVtdO1xufVxuXG4vKipcbiAqIERyYXdzIGEgcGxhbm5lZCByb3V0ZSAoc2hpcCBvciBtaXNzaWxlKSB3aXRoIHVuaWZpZWQgdmlzdWFscy5cbiAqIFVzZXMgc2hpcC1zdHlsZSByZW5kZXJpbmcgYnkgZGVmYXVsdCwgd2l0aCBvcHRpb25hbCBwYWxldHRlIG92ZXJyaWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd1BsYW5uZWRSb3V0ZShcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIG9wdHM6IERyYXdQbGFubmVkUm91dGVPcHRpb25zXG4pOiB2b2lkIHtcbiAgY29uc3Qge1xuICAgIHJvdXRlUG9pbnRzLFxuICAgIHNlbGVjdGlvbixcbiAgICBkcmFnZ2VkV2F5cG9pbnQsXG4gICAgZGFzaFN0b3JlLFxuICAgIHBhbGV0dGUgPSBTSElQX1BBTEVUVEUsXG4gICAgc2hvd0xlZ3MsXG4gICAgaGVhdFBhcmFtcyxcbiAgICBpbml0aWFsSGVhdCA9IDAsXG4gICAgZGVmYXVsdFNwZWVkLFxuICAgIHdvcmxkUG9pbnRzLFxuICB9ID0gb3B0cztcblxuICBjb25zdCB7IHdheXBvaW50cywgY2FudmFzUG9pbnRzIH0gPSByb3V0ZVBvaW50cztcblxuICBpZiAod2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBoZWF0IHByb2plY3Rpb24gaWYgaGVhdCBwYXJhbXMgYXZhaWxhYmxlXG4gIGxldCBoZWF0UHJvamVjdGlvbjogSGVhdFByb2plY3Rpb25SZXN1bHQgfCBudWxsID0gbnVsbDtcbiAgaWYgKGhlYXRQYXJhbXMgJiYgd29ybGRQb2ludHMgJiYgd29ybGRQb2ludHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHJvdXRlRm9ySGVhdDogUm91dGVXYXlwb2ludFtdID0gd29ybGRQb2ludHMubWFwKChwdCwgaSkgPT4gKHtcbiAgICAgIHg6IHB0LngsXG4gICAgICB5OiBwdC55LFxuICAgICAgc3BlZWQ6IGkgPT09IDAgPyB1bmRlZmluZWQgOiB3YXlwb2ludHNbaSAtIDFdPy5zcGVlZCA/PyBkZWZhdWx0U3BlZWQsXG4gICAgfSkpO1xuICAgIGhlYXRQcm9qZWN0aW9uID0gcHJvamVjdFJvdXRlSGVhdChyb3V0ZUZvckhlYXQsIGluaXRpYWxIZWF0LCBoZWF0UGFyYW1zKTtcbiAgfVxuXG4gIC8vIERyYXcgcm91dGUgc2VnbWVudHNcbiAgaWYgKHNob3dMZWdzKSB7XG4gICAgbGV0IGN1cnJlbnRIZWF0ID0gaW5pdGlhbEhlYXQ7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXNGaXJzdExlZyA9IGkgPT09IDA7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0aW9uPy50eXBlID09PSBcImxlZ1wiICYmIHNlbGVjdGlvbi5pbmRleCA9PT0gaTtcblxuICAgICAgLy8gR2V0IGhlYXQgYXQgZW5kIG9mIHRoaXMgc2VnbWVudFxuICAgICAgbGV0IHNlZ21lbnRIZWF0ID0gY3VycmVudEhlYXQ7XG4gICAgICBpZiAoaGVhdFByb2plY3Rpb24gJiYgaSArIDEgPCBoZWF0UHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIHNlZ21lbnRIZWF0ID0gaGVhdFByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzW2kgKyAxXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIGhlYXQtYmFzZWQgY29sb3IgaWYgaGVhdCBkYXRhIGF2YWlsYWJsZVxuICAgICAgbGV0IHN0cm9rZVN0eWxlOiBzdHJpbmc7XG4gICAgICBsZXQgbGluZVdpZHRoOiBudW1iZXI7XG4gICAgICBsZXQgbGluZURhc2g6IG51bWJlcltdIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgYWxwaGFPdmVycmlkZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgIC8vIFNlbGVjdGlvbiBzdHlsaW5nXG4gICAgICAgIHN0cm9rZVN0eWxlID0gcGFsZXR0ZS5zZWxlY3Rpb247XG4gICAgICAgIGxpbmVXaWR0aCA9IDMuNTtcbiAgICAgICAgbGluZURhc2ggPSBbNCwgNF07XG4gICAgICB9IGVsc2UgaWYgKGhlYXRQcm9qZWN0aW9uICYmIGhlYXRQYXJhbXMgJiYgcGFsZXR0ZS5oZWF0Q29vbFJnYiAmJiBwYWxldHRlLmhlYXRIb3RSZ2IpIHtcbiAgICAgICAgLy8gSGVhdC1iYXNlZCBjb2xvciBpbnRlcnBvbGF0aW9uIChzaGlwIHN0eWxlKVxuICAgICAgICBjb25zdCBoZWF0UmF0aW8gPSBjbGFtcChzZWdtZW50SGVhdCAvIGhlYXRQYXJhbXMub3ZlcmhlYXRBdCwgMCwgMSk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gaW50ZXJwb2xhdGVDb2xvcihwYWxldHRlLmhlYXRDb29sUmdiLCBwYWxldHRlLmhlYXRIb3RSZ2IsIGhlYXRSYXRpbyk7XG4gICAgICAgIGNvbnN0IGJhc2VXaWR0aCA9IGlzRmlyc3RMZWcgPyAzIDogMS41O1xuICAgICAgICBsaW5lV2lkdGggPSBiYXNlV2lkdGggKyBoZWF0UmF0aW8gKiA0O1xuICAgICAgICBjb25zdCBhbHBoYSA9IGlzRmlyc3RMZWcgPyAxIDogMC40O1xuICAgICAgICBzdHJva2VTdHlsZSA9IGByZ2JhKCR7Y29sb3JbMF19LCAke2NvbG9yWzFdfSwgJHtjb2xvclsyXX0sICR7YWxwaGF9KWA7XG4gICAgICAgIGxpbmVEYXNoID0gaXNGaXJzdExlZyA/IFs2LCA2XSA6IFs4LCA4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQgc3R5bGluZyAobm8gaGVhdClcbiAgICAgICAgY29uc3QgYmFzZVdpZHRoID0gaXNGaXJzdExlZyA/IDMgOiAxLjU7XG4gICAgICAgIGxpbmVXaWR0aCA9IGJhc2VXaWR0aDtcbiAgICAgICAgc3Ryb2tlU3R5bGUgPSBwYWxldHRlLmRlZmF1bHRMaW5lO1xuICAgICAgICBsaW5lRGFzaCA9IGlzRmlyc3RMZWcgPyBbNiwgNl0gOiBbOCwgOF07XG4gICAgICAgIGFscGhhT3ZlcnJpZGUgPSBpc0ZpcnN0TGVnID8gMSA6IDAuNDtcbiAgICAgIH1cblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGlmIChsaW5lRGFzaCkge1xuICAgICAgICBjdHguc2V0TGluZURhc2gobGluZURhc2gpO1xuICAgICAgfVxuICAgICAgaWYgKGFscGhhT3ZlcnJpZGUgIT09IG51bGwpIHtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGFPdmVycmlkZTtcbiAgICAgIH1cbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IGRhc2hTdG9yZS5nZXQoaSkgPz8gMDtcbiAgICAgIGN0eC5tb3ZlVG8oY2FudmFzUG9pbnRzW2ldLngsIGNhbnZhc1BvaW50c1tpXS55KTtcbiAgICAgIGN0eC5saW5lVG8oY2FudmFzUG9pbnRzW2kgKyAxXS54LCBjYW52YXNQb2ludHNbaSArIDFdLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgY3VycmVudEhlYXQgPSBzZWdtZW50SGVhdDtcbiAgICB9XG4gIH1cblxuICAvLyBEcmF3IHdheXBvaW50IG1hcmtlcnNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwdCA9IGNhbnZhc1BvaW50c1tpICsgMV07IC8vICsxIGJlY2F1c2UgZmlyc3QgcG9pbnQgaXMgc3RhcnQgcG9zaXRpb25cbiAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0aW9uPy50eXBlID09PSBcIndheXBvaW50XCIgJiYgc2VsZWN0aW9uLmluZGV4ID09PSBpO1xuICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSBkcmFnZ2VkV2F5cG9pbnQgPT09IGk7XG5cbiAgICAvLyBEZXRlcm1pbmUgZmlsbCBjb2xvclxuICAgIGxldCBmaWxsQ29sb3I6IHN0cmluZztcbiAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgZmlsbENvbG9yID0gcGFsZXR0ZS53YXlwb2ludFNlbGVjdGVkO1xuICAgIH0gZWxzZSBpZiAoaXNEcmFnZ2luZyAmJiBwYWxldHRlLndheXBvaW50RHJhZ2dpbmcpIHtcbiAgICAgIGZpbGxDb2xvciA9IHBhbGV0dGUud2F5cG9pbnREcmFnZ2luZztcbiAgICB9IGVsc2UgaWYgKGhlYXRQcm9qZWN0aW9uICYmIGhlYXRQYXJhbXMpIHtcbiAgICAgIC8vIEhlYXQtYmFzZWQgd2F5cG9pbnQgY29sb3JpbmcgKHRocmVzaG9sZC1iYXNlZCBmb3IgbWlzc2lsZXMpXG4gICAgICBjb25zdCBoZWF0ID0gaGVhdFByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzW2kgKyAxXSA/PyAwO1xuICAgICAgY29uc3QgaGVhdFJhdGlvID0gaGVhdCAvIGhlYXRQYXJhbXMubWF4O1xuICAgICAgY29uc3Qgd2FyblJhdGlvID0gaGVhdFBhcmFtcy53YXJuQXQgLyBoZWF0UGFyYW1zLm1heDtcbiAgICAgIGNvbnN0IG92ZXJoZWF0UmF0aW8gPSBoZWF0UGFyYW1zLm92ZXJoZWF0QXQgLyBoZWF0UGFyYW1zLm1heDtcblxuICAgICAgaWYgKGhlYXRSYXRpbyA8IHdhcm5SYXRpbykge1xuICAgICAgICBmaWxsQ29sb3IgPSBcIiMzM2FhMzNcIjsgLy8gR3JlZW5cbiAgICAgIH0gZWxzZSBpZiAoaGVhdFJhdGlvIDwgb3ZlcmhlYXRSYXRpbykge1xuICAgICAgICBmaWxsQ29sb3IgPSBcIiNmZmFhMzNcIjsgLy8gT3JhbmdlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWxsQ29sb3IgPSBcIiNmZjMzMzNcIjsgLy8gUmVkXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbGxDb2xvciA9IHBhbGV0dGUud2F5cG9pbnREZWZhdWx0O1xuICAgIH1cblxuICAgIC8vIERldGVybWluZSBzdHJva2UgY29sb3JcbiAgICBjb25zdCBzdHJva2VDb2xvciA9IGlzU2VsZWN0ZWQgJiYgcGFsZXR0ZS53YXlwb2ludFN0cm9rZVNlbGVjdGVkXG4gICAgICA/IHBhbGV0dGUud2F5cG9pbnRTdHJva2VTZWxlY3RlZFxuICAgICAgOiBwYWxldHRlLndheXBvaW50U3Ryb2tlO1xuXG4gICAgLy8gRHJhdyB3YXlwb2ludFxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGNvbnN0IHJhZGl1cyA9IGlzU2VsZWN0ZWQgfHwgaXNEcmFnZ2luZyA/IDcgOiA1O1xuICAgIGN0eC5hcmMocHQueCwgcHQueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBpc1NlbGVjdGVkIHx8IGlzRHJhZ2dpbmcgPyAwLjk1IDogMC44O1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcbiAgICBjdHgubGluZVdpZHRoID0gaXNTZWxlY3RlZCA/IDIgOiAxLjU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUge1xuICBBcHBTdGF0ZSxcbiAgTWlzc2lsZVJvdXRlLFxuICBNaXNzaWxlU2VsZWN0aW9uLFxuICBTZWxlY3Rpb24sXG4gIFVJU3RhdGUsXG59IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgTUlTU0lMRV9NQVhfU1BFRUQsIE1JU1NJTEVfTUlOX1NQRUVELCBjbGFtcCB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBSb3V0ZVBvaW50cyB9IGZyb20gXCIuLi9yb3V0ZVwiO1xuaW1wb3J0IHtcbiAgV0FZUE9JTlRfSElUX1JBRElVUyxcbiAgYnVpbGRSb3V0ZVBvaW50cyxcbiAgaGl0VGVzdFJvdXRlR2VuZXJpYyxcbiAgdXBkYXRlRGFzaE9mZnNldHNGb3JSb3V0ZSxcbn0gZnJvbSBcIi4uL3JvdXRlXCI7XG5pbXBvcnQgdHlwZSB7IENhbWVyYSB9IGZyb20gXCIuL2NhbWVyYVwiO1xuXG5pbnRlcmZhY2UgTG9naWNEZXBlbmRlbmNpZXMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG4gIHNlbmRNZXNzYWdlKHBheWxvYWQ6IHVua25vd24pOiB2b2lkO1xuICBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGU6IEFwcFN0YXRlKTogbnVtYmVyO1xuICBjYW1lcmE6IENhbWVyYTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludGVyUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dpYyB7XG4gIGdldFNlbGVjdGlvbigpOiBTZWxlY3Rpb24gfCBudWxsO1xuICBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uOiBTZWxlY3Rpb24gfCBudWxsKTogdm9pZDtcbiAgZ2V0TWlzc2lsZVNlbGVjdGlvbigpOiBNaXNzaWxlU2VsZWN0aW9uIHwgbnVsbDtcbiAgc2V0TWlzc2lsZVNlbGVjdGlvbihzZWxlY3Rpb246IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsLCByb3V0ZUlkPzogc3RyaW5nKTogdm9pZDtcbiAgZ2V0RGVmYXVsdFNoaXBTcGVlZCgpOiBudW1iZXI7XG4gIHNldERlZmF1bHRTaGlwU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIGdldERlZmF1bHRNaXNzaWxlTGVnU3BlZWQoKTogbnVtYmVyO1xuICByZWNvcmRNaXNzaWxlTGVnU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIGdldFNoaXBXYXlwb2ludE9mZnNldCgpOiBudW1iZXI7XG4gIGRpc3BsYXlJbmRleFRvQWN0dWFsSW5kZXgoZGlzcGxheUluZGV4OiBudW1iZXIpOiBudW1iZXI7XG4gIGFjdHVhbEluZGV4VG9EaXNwbGF5SW5kZXgoYWN0dWFsSW5kZXg6IG51bWJlcik6IG51bWJlcjtcbiAgY29tcHV0ZVJvdXRlUG9pbnRzKCk6IFJvdXRlUG9pbnRzIHwgbnVsbDtcbiAgY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpOiBSb3V0ZVBvaW50cyB8IG51bGw7XG4gIGZpbmRXYXlwb2ludEF0UG9zaXRpb24oY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCk6IG51bWJlciB8IG51bGw7XG4gIGhpdFRlc3RSb3V0ZShjYW52YXNQb2ludDogUG9pbnRlclBvaW50KTogU2VsZWN0aW9uIHwgbnVsbDtcbiAgaGl0VGVzdE1pc3NpbGVSb3V0ZXMoXG4gICAgY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludFxuICApOiB7IHJvdXRlOiBNaXNzaWxlUm91dGU7IHNlbGVjdGlvbjogTWlzc2lsZVNlbGVjdGlvbiB9IHwgbnVsbDtcbiAgc2hpcExlZ0Rhc2hPZmZzZXRzOiBNYXA8bnVtYmVyLCBudW1iZXI+O1xuICBtaXNzaWxlTGVnRGFzaE9mZnNldHM6IE1hcDxudW1iZXIsIG51bWJlcj47XG4gIHVwZGF0ZVJvdXRlQW5pbWF0aW9ucyhkdFNlY29uZHM6IG51bWJlcik6IHZvaWQ7XG4gIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiBNaXNzaWxlUm91dGUgfCBudWxsO1xuICBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTogTWlzc2lsZVJvdXRlIHwgbnVsbDtcbiAgY3ljbGVNaXNzaWxlUm91dGUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICBjeWNsZVNoaXBTZWxlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICBjbGVhclNoaXBSb3V0ZSgpOiB2b2lkO1xuICBkZWxldGVTZWxlY3RlZFNoaXBXYXlwb2ludCgpOiB2b2lkO1xuICBkZWxldGVTZWxlY3RlZE1pc3NpbGVXYXlwb2ludCgpOiB2b2lkO1xuICBsYXVuY2hBY3RpdmVNaXNzaWxlUm91dGUoKTogdm9pZDtcbiAgaGFuZGxlU2hpcFBvaW50ZXIoY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCwgd29ybGRQb2ludDogUG9pbnRlclBvaW50KTogdm9pZDtcbiAgaGFuZGxlTWlzc2lsZVBvaW50ZXIoY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCwgd29ybGRQb2ludDogUG9pbnRlclBvaW50KTogdm9pZDtcbiAgYmVnaW5TaGlwRHJhZyhpbmRleDogbnVtYmVyLCBvcmlnaW46IFBvaW50ZXJQb2ludCk6IHZvaWQ7XG4gIGJlZ2luTWlzc2lsZURyYWcoaW5kZXg6IG51bWJlciwgb3JpZ2luOiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICB1cGRhdGVTaGlwRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICB1cGRhdGVNaXNzaWxlRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICBlbmREcmFnKCk6IHZvaWQ7XG4gIGdldERyYWdnZWRXYXlwb2ludCgpOiBudW1iZXIgfCBudWxsO1xuICBnZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50KCk6IG51bWJlciB8IG51bGw7XG4gIGdldE1pc3NpbGVDb29sZG93blJlbWFpbmluZygpOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2dpYyh7XG4gIHN0YXRlLFxuICB1aVN0YXRlLFxuICBidXMsXG4gIHNlbmRNZXNzYWdlLFxuICBnZXRBcHByb3hTZXJ2ZXJOb3csXG4gIGNhbWVyYSxcbn06IExvZ2ljRGVwZW5kZW5jaWVzKTogTG9naWMge1xuICBsZXQgc2VsZWN0aW9uOiBTZWxlY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTZWxlY3Rpb246IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgbGV0IGRlZmF1bHRTcGVlZCA9IDE1MDtcbiAgbGV0IGxhc3RNaXNzaWxlTGVnU3BlZWQgPSAwO1xuICBjb25zdCBzaGlwTGVnRGFzaE9mZnNldHMgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuICBjb25zdCBtaXNzaWxlTGVnRGFzaE9mZnNldHMgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuICBsZXQgZHJhZ2dlZFdheXBvaW50OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgbGV0IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpOiBTZWxlY3Rpb24gfCBudWxsIHtcbiAgICByZXR1cm4gc2VsZWN0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHNlbDogU2VsZWN0aW9uIHwgbnVsbCk6IHZvaWQge1xuICAgIHNlbGVjdGlvbiA9IHNlbDtcbiAgICBjb25zdCBpbmRleCA9IHNlbGVjdGlvbiA/IHNlbGVjdGlvbi5pbmRleCA6IG51bGw7XG4gICAgYnVzLmVtaXQoXCJzaGlwOmxlZ1NlbGVjdGVkXCIsIHsgaW5kZXggfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaXNzaWxlU2VsZWN0aW9uKCk6IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsIHtcbiAgICByZXR1cm4gbWlzc2lsZVNlbGVjdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldE1pc3NpbGVTZWxlY3Rpb24oc2VsOiBNaXNzaWxlU2VsZWN0aW9uIHwgbnVsbCwgcm91dGVJZD86IHN0cmluZyk6IHZvaWQge1xuICAgIG1pc3NpbGVTZWxlY3Rpb24gPSBzZWw7XG4gICAgaWYgKHJvdXRlSWQpIHtcbiAgICAgIHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkID0gcm91dGVJZDtcbiAgICB9XG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOnNlbGVjdGlvbkNoYW5nZWRcIiwgeyBzZWxlY3Rpb246IG1pc3NpbGVTZWxlY3Rpb24gfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWZhdWx0U2hpcFNwZWVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGRlZmF1bHRTcGVlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERlZmF1bHRTaGlwU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGRlZmF1bHRTcGVlZCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdE1pc3NpbGVMZWdTcGVlZCgpOiBudW1iZXIge1xuICAgIGNvbnN0IG1pblNwZWVkID0gc3RhdGUubWlzc2lsZUxpbWl0cy5zcGVlZE1pbiA/PyBNSVNTSUxFX01JTl9TUEVFRDtcbiAgICBjb25zdCBtYXhTcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNYXggPz8gTUlTU0lMRV9NQVhfU1BFRUQ7XG4gICAgY29uc3QgYmFzZSA9XG4gICAgICBsYXN0TWlzc2lsZUxlZ1NwZWVkID4gMCA/IGxhc3RNaXNzaWxlTGVnU3BlZWQgOiBzdGF0ZS5taXNzaWxlQ29uZmlnLnNwZWVkO1xuICAgIHJldHVybiBjbGFtcChiYXNlLCBtaW5TcGVlZCwgbWF4U3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkTWlzc2lsZUxlZ1NwZWVkKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSAmJiB2YWx1ZSA+IDApIHtcbiAgICAgIGxhc3RNaXNzaWxlTGVnU3BlZWQgPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaGlwV2F5cG9pbnRPZmZzZXQoKTogbnVtYmVyIHtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGF0ZS5tZT8uY3VycmVudFdheXBvaW50SW5kZXg7XG4gICAgaWYgKHR5cGVvZiBjdXJyZW50SW5kZXggPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGN1cnJlbnRJbmRleCkgJiYgY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5SW5kZXhUb0FjdHVhbEluZGV4KGRpc3BsYXlJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZGlzcGxheUluZGV4ICsgZ2V0U2hpcFdheXBvaW50T2Zmc2V0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBhY3R1YWxJbmRleFRvRGlzcGxheUluZGV4KGFjdHVhbEluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IG9mZnNldCA9IGdldFNoaXBXYXlwb2ludE9mZnNldCgpO1xuICAgIHJldHVybiBhY3R1YWxJbmRleCAtIG9mZnNldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVSb3V0ZVBvaW50cygpOiBSb3V0ZVBvaW50cyB8IG51bGwge1xuICAgIGlmICghc3RhdGUubWUpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGFsbFdheXBvaW50cyA9IEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSA/IHN0YXRlLm1lLndheXBvaW50cyA6IFtdO1xuICAgIGNvbnN0IG9mZnNldCA9IGdldFNoaXBXYXlwb2ludE9mZnNldCgpO1xuICAgIGNvbnN0IHZpc2libGVXYXlwb2ludHMgPSBvZmZzZXQgPiAwID8gYWxsV2F5cG9pbnRzLnNsaWNlKG9mZnNldCkgOiBhbGxXYXlwb2ludHM7XG4gICAgaWYgKCF2aXNpYmxlV2F5cG9pbnRzLmxlbmd0aCAmJiAhdWlTdGF0ZS5zaG93U2hpcFJvdXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkUm91dGVQb2ludHMoXG4gICAgICB7IHg6IHN0YXRlLm1lLngsIHk6IHN0YXRlLm1lLnkgfSxcbiAgICAgIHZpc2libGVXYXlwb2ludHMsXG4gICAgICBjYW1lcmEuZ2V0V29ybGRTaXplKCksXG4gICAgICBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24sXG4gICAgICAoKSA9PiB1aVN0YXRlLnpvb20sXG4gICAgICBjYW1lcmEud29ybGRUb0NhbnZhc1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzKCk6IFJvdXRlUG9pbnRzIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBpZiAoIXJvdXRlIHx8ICFBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykgfHwgIXJvdXRlLndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW4gPSByb3V0ZS5vcmlnaW4gPz8geyB4OiBzdGF0ZS5tZT8ueCA/PyAwLCB5OiBzdGF0ZS5tZT8ueSA/PyAwIH07XG4gICAgcmV0dXJuIGJ1aWxkUm91dGVQb2ludHMoXG4gICAgICBvcmlnaW4sXG4gICAgICByb3V0ZS53YXlwb2ludHMsXG4gICAgICBjYW1lcmEuZ2V0V29ybGRTaXplKCksXG4gICAgICBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24sXG4gICAgICAoKSA9PiB1aVN0YXRlLnpvb20sXG4gICAgICBjYW1lcmEud29ybGRUb0NhbnZhc1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kV2F5cG9pbnRBdFBvc2l0aW9uKGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQpOiBudW1iZXIgfCBudWxsIHtcbiAgICBjb25zdCByb3V0ZSA9IGNvbXB1dGVSb3V0ZVBvaW50cygpO1xuICAgIGlmICghcm91dGUpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaGl0ID0gaGl0VGVzdFJvdXRlR2VuZXJpYyhjYW52YXNQb2ludCwgcm91dGUsIHtcbiAgICAgIHdheXBvaW50UmFkaXVzOiBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICAgICAgbGVnSGl0VG9sZXJhbmNlOiAwLFxuICAgIH0pO1xuXG4gICAgaWYgKCFoaXQgfHwgaGl0LnR5cGUgIT09IFwid2F5cG9pbnRcIikgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGRpc3BsYXlJbmRleFRvQWN0dWFsSW5kZXgoaGl0LmluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpdFRlc3RSb3V0ZShjYW52YXNQb2ludDogUG9pbnRlclBvaW50KTogU2VsZWN0aW9uIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGUgPSBjb21wdXRlUm91dGVQb2ludHMoKTtcbiAgICBpZiAoIXJvdXRlKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gaGl0VGVzdFJvdXRlR2VuZXJpYyhjYW52YXNQb2ludCwgcm91dGUsIHtcbiAgICAgIHdheXBvaW50UmFkaXVzOiBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICAgICAgbGVnSGl0VG9sZXJhbmNlOiA2LFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGl0VGVzdE1pc3NpbGVSb3V0ZXMoY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCkge1xuICAgIGNvbnN0IHJvdXRlUG9pbnRzID0gY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpO1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKCFyb3V0ZVBvaW50cyB8fCAhcm91dGUpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaGl0ID0gaGl0VGVzdFJvdXRlR2VuZXJpYyhjYW52YXNQb2ludCwgcm91dGVQb2ludHMsIHtcbiAgICAgIHdheXBvaW50UmFkaXVzOiBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICAgICAgbGVnSGl0VG9sZXJhbmNlOiA2LFxuICAgIH0pO1xuICAgIGlmICghaGl0KSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHNlbGVjdGlvbiA9XG4gICAgICBoaXQudHlwZSA9PT0gXCJsZWdcIlxuICAgICAgICA/ICh7IHR5cGU6IFwibGVnXCIsIGluZGV4OiBoaXQuaW5kZXggfSBhcyBNaXNzaWxlU2VsZWN0aW9uKVxuICAgICAgICA6ICh7IHR5cGU6IFwid2F5cG9pbnRcIiwgaW5kZXg6IGhpdC5pbmRleCB9IGFzIE1pc3NpbGVTZWxlY3Rpb24pO1xuXG4gICAgcmV0dXJuIHsgcm91dGUsIHNlbGVjdGlvbiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUm91dGVBbmltYXRpb25zKGR0U2Vjb25kczogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgc2hpcFJvdXRlID0gY29tcHV0ZVJvdXRlUG9pbnRzKCk7XG4gICAgaWYgKHNoaXBSb3V0ZSAmJiBzaGlwUm91dGUud2F5cG9pbnRzLmxlbmd0aCA+IDAgJiYgdWlTdGF0ZS5zaG93U2hpcFJvdXRlKSB7XG4gICAgICB1cGRhdGVEYXNoT2Zmc2V0c0ZvclJvdXRlKFxuICAgICAgICBzaGlwTGVnRGFzaE9mZnNldHMsXG4gICAgICAgIHNoaXBSb3V0ZS53YXlwb2ludHMsXG4gICAgICAgIHNoaXBSb3V0ZS53b3JsZFBvaW50cyxcbiAgICAgICAgc2hpcFJvdXRlLmNhbnZhc1BvaW50cyxcbiAgICAgICAgZGVmYXVsdFNwZWVkLFxuICAgICAgICBkdFNlY29uZHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNoaXBMZWdEYXNoT2Zmc2V0cy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNvbnN0IG1pc3NpbGVSb3V0ZSA9IGNvbXB1dGVNaXNzaWxlUm91dGVQb2ludHMoKTtcbiAgICBpZiAobWlzc2lsZVJvdXRlKSB7XG4gICAgICB1cGRhdGVEYXNoT2Zmc2V0c0ZvclJvdXRlKFxuICAgICAgICBtaXNzaWxlTGVnRGFzaE9mZnNldHMsXG4gICAgICAgIG1pc3NpbGVSb3V0ZS53YXlwb2ludHMsXG4gICAgICAgIG1pc3NpbGVSb3V0ZS53b3JsZFBvaW50cyxcbiAgICAgICAgbWlzc2lsZVJvdXRlLmNhbnZhc1BvaW50cyxcbiAgICAgICAgc3RhdGUubWlzc2lsZUNvbmZpZy5zcGVlZCxcbiAgICAgICAgZHRTZWNvbmRzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXNzaWxlTGVnRGFzaE9mZnNldHMuY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbnN1cmVBY3RpdmVNaXNzaWxlUm91dGUoKTogTWlzc2lsZVJvdXRlIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBpZiAoIXJvdXRlcy5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKCFzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCkge1xuICAgICAgc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQgPSByb3V0ZXNbMF0uaWQ7XG4gICAgfVxuXG4gICAgbGV0IHJvdXRlID0gcm91dGVzLmZpbmQoKHIpID0+IHIuaWQgPT09IHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkKSB8fCBudWxsO1xuICAgIGlmICghcm91dGUpIHtcbiAgICAgIHJvdXRlID0gcm91dGVzWzBdID8/IG51bGw7XG4gICAgICBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCA9IHJvdXRlPy5pZCA/PyBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTogTWlzc2lsZVJvdXRlIHwgbnVsbCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBpZiAoIXJvdXRlcy5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIGlmICghc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQpIHtcbiAgICAgIHJldHVybiBlbnN1cmVBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHJvdXRlcy5maW5kKChyKSA9PiByLmlkID09PSBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCkgPz9cbiAgICAgIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGN5Y2xlTWlzc2lsZVJvdXRlKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBpZiAoIXJvdXRlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gcm91dGVzLmZpbmRJbmRleChcbiAgICAgIChyb3V0ZSkgPT4gcm91dGUuaWQgPT09IHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkXG4gICAgKTtcbiAgICBjb25zdCBiYXNlSW5kZXggPSBjdXJyZW50SW5kZXggPj0gMCA/IGN1cnJlbnRJbmRleCA6IDA7XG4gICAgY29uc3QgbmV4dEluZGV4ID1cbiAgICAgICgoYmFzZUluZGV4ICsgZGlyZWN0aW9uKSAlIHJvdXRlcy5sZW5ndGggKyByb3V0ZXMubGVuZ3RoKSAlIHJvdXRlcy5sZW5ndGg7XG4gICAgY29uc3QgbmV4dFJvdXRlID0gcm91dGVzW25leHRJbmRleF07XG4gICAgaWYgKCFuZXh0Um91dGUpIHJldHVybjtcbiAgICBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCA9IG5leHRSb3V0ZS5pZDtcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwic2V0X2FjdGl2ZV9taXNzaWxlX3JvdXRlXCIsXG4gICAgICByb3V0ZV9pZDogbmV4dFJvdXRlLmlkLFxuICAgIH0pO1xuICAgIGJ1cy5lbWl0KFwibWlzc2lsZTphY3RpdmVSb3V0ZUNoYW5nZWRcIiwgeyByb3V0ZUlkOiBuZXh0Um91dGUuaWQgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjeWNsZVNoaXBTZWxlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB3cHMgPSBzdGF0ZS5tZSAmJiBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cykgPyBzdGF0ZS5tZS53YXlwb2ludHMgOiBbXTtcbiAgICBpZiAoIXdwcy5sZW5ndGgpIHtcbiAgICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gc2VsZWN0aW9uID8gc2VsZWN0aW9uLmluZGV4IDogZGlyZWN0aW9uID4gMCA/IC0xIDogd3BzLmxlbmd0aDtcbiAgICBpbmRleCArPSBkaXJlY3Rpb247XG4gICAgaWYgKGluZGV4IDwgMCkgaW5kZXggPSB3cHMubGVuZ3RoIC0gMTtcbiAgICBpZiAoaW5kZXggPj0gd3BzLmxlbmd0aCkgaW5kZXggPSAwO1xuICAgIHNldFNlbGVjdGlvbih7IHR5cGU6IFwibGVnXCIsIGluZGV4IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJTaGlwUm91dGUoKTogdm9pZCB7XG4gICAgY29uc3Qgd3BzID1cbiAgICAgIHN0YXRlLm1lICYmIEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSA/IHN0YXRlLm1lLndheXBvaW50cyA6IFtdO1xuICAgIGlmICghd3BzLmxlbmd0aCkgcmV0dXJuO1xuICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJjbGVhcl93YXlwb2ludHNcIiB9KTtcbiAgICBpZiAoc3RhdGUubWUpIHtcbiAgICAgIHN0YXRlLm1lLndheXBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgYnVzLmVtaXQoXCJzaGlwOndheXBvaW50c0NsZWFyZWRcIik7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVTZWxlY3RlZFNoaXBXYXlwb2ludCgpOiB2b2lkIHtcbiAgICBpZiAoIXNlbGVjdGlvbikgcmV0dXJuO1xuICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJkZWxldGVfd2F5cG9pbnRcIiwgaW5kZXg6IHNlbGVjdGlvbi5pbmRleCB9KTtcbiAgICBpZiAoc3RhdGUubWUgJiYgQXJyYXkuaXNBcnJheShzdGF0ZS5tZS53YXlwb2ludHMpKSB7XG4gICAgICBzdGF0ZS5tZS53YXlwb2ludHMgPSBzdGF0ZS5tZS53YXlwb2ludHMuc2xpY2UoMCwgc2VsZWN0aW9uLmluZGV4KTtcbiAgICB9XG4gICAgYnVzLmVtaXQoXCJzaGlwOndheXBvaW50RGVsZXRlZFwiLCB7IGluZGV4OiBzZWxlY3Rpb24uaW5kZXggfSk7XG4gICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQoKTogdm9pZCB7XG4gICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBpZiAoIXJvdXRlIHx8ICFtaXNzaWxlU2VsZWN0aW9uKSByZXR1cm47XG4gICAgY29uc3QgaW5kZXggPSBtaXNzaWxlU2VsZWN0aW9uLmluZGV4O1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpIHx8IGluZGV4IDwgMCB8fCBpbmRleCA+PSByb3V0ZS53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiZGVsZXRlX21pc3NpbGVfd2F5cG9pbnRcIixcbiAgICAgIHJvdXRlX2lkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4LFxuICAgIH0pO1xuICAgIHJvdXRlLndheXBvaW50cyA9IFtcbiAgICAgIC4uLnJvdXRlLndheXBvaW50cy5zbGljZSgwLCBpbmRleCksXG4gICAgICAuLi5yb3V0ZS53YXlwb2ludHMuc2xpY2UoaW5kZXggKyAxKSxcbiAgICBdO1xuICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludERlbGV0ZWRcIiwgeyByb3V0ZUlkOiByb3V0ZS5pZCwgaW5kZXggfSk7XG4gICAgc2V0TWlzc2lsZVNlbGVjdGlvbihudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxhdW5jaEFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmICghcm91dGUgfHwgIUFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSB8fCByb3V0ZS53YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChnZXRNaXNzaWxlQ29vbGRvd25SZW1haW5pbmcoKSA+IDAuMDUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBwbGF5ZXIgaGFzIG1pc3NpbGVzIGluIGludmVudG9yeVxuICAgIGxldCBoYXNNaXNzaWxlcyA9IGZhbHNlO1xuICAgIGlmIChzdGF0ZS5pbnZlbnRvcnk/Lml0ZW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RhdGUuaW52ZW50b3J5Lml0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwibWlzc2lsZVwiICYmIGl0ZW0ucXVhbnRpdHkgPiAwKSB7XG4gICAgICAgICAgaGFzTWlzc2lsZXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaGFzTWlzc2lsZXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gbWlzc2lsZXMgYXZhaWxhYmxlIC0gY3JhZnQgbWlzc2lsZXMgZmlyc3RcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkIH0pO1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwibGF1bmNoX21pc3NpbGVcIixcbiAgICAgIHJvdXRlX2lkOiByb3V0ZS5pZCxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNoaXBQb2ludGVyKFxuICAgIGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQsXG4gICAgd29ybGRQb2ludDogUG9pbnRlclBvaW50XG4gICk6IHZvaWQge1xuICAgIGlmICghc3RhdGUubWUpIHJldHVybjtcbiAgICBpZiAodWlTdGF0ZS5zaGlwVG9vbCA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgY29uc3QgaGl0ID0gaGl0VGVzdFJvdXRlKGNhbnZhc1BvaW50KTtcbiAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgY29uc3QgYWN0dWFsSW5kZXggPSBkaXNwbGF5SW5kZXhUb0FjdHVhbEluZGV4KGhpdC5pbmRleCk7XG4gICAgICAgIHNldFNlbGVjdGlvbih7IHR5cGU6IGhpdC50eXBlLCBpbmRleDogYWN0dWFsSW5kZXggfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd3AgPSB7IHg6IHdvcmxkUG9pbnQueCwgeTogd29ybGRQb2ludC55LCBzcGVlZDogZGVmYXVsdFNwZWVkIH07XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJhZGRfd2F5cG9pbnRcIixcbiAgICAgIHg6IHdwLngsXG4gICAgICB5OiB3cC55LFxuICAgICAgc3BlZWQ6IGRlZmF1bHRTcGVlZCxcbiAgICB9KTtcbiAgICBjb25zdCB3cHMgPSBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cylcbiAgICAgID8gc3RhdGUubWUud2F5cG9pbnRzLnNsaWNlKClcbiAgICAgIDogW107XG4gICAgd3BzLnB1c2god3ApO1xuICAgIHN0YXRlLm1lLndheXBvaW50cyA9IHdwcztcbiAgICBidXMuZW1pdChcInNoaXA6d2F5cG9pbnRBZGRlZFwiLCB7IGluZGV4OiB3cHMubGVuZ3RoIC0gMSB9KTtcbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNaXNzaWxlUG9pbnRlcihcbiAgICBjYW52YXNQb2ludDogUG9pbnRlclBvaW50LFxuICAgIHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludFxuICApOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmICghcm91dGUpIHJldHVybjtcblxuICAgIGlmICh1aVN0YXRlLm1pc3NpbGVUb29sID09PSBcInNlbGVjdFwiKSB7XG4gICAgICBjb25zdCBoaXQgPSBoaXRUZXN0TWlzc2lsZVJvdXRlcyhjYW52YXNQb2ludCk7XG4gICAgICBpZiAoaGl0KSB7XG4gICAgICAgIHNldE1pc3NpbGVTZWxlY3Rpb24oaGl0LnNlbGVjdGlvbiwgaGl0LnJvdXRlLmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3BlZWQgPSBnZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkKCk7XG4gICAgY29uc3Qgd3AgPSB7IHg6IHdvcmxkUG9pbnQueCwgeTogd29ybGRQb2ludC55LCBzcGVlZCB9O1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiYWRkX21pc3NpbGVfd2F5cG9pbnRcIixcbiAgICAgIHJvdXRlX2lkOiByb3V0ZS5pZCxcbiAgICAgIHg6IHdwLngsXG4gICAgICB5OiB3cC55LFxuICAgICAgc3BlZWQ6IHdwLnNwZWVkLFxuICAgIH0pO1xuICAgIHJvdXRlLndheXBvaW50cyA9IHJvdXRlLndheXBvaW50cyA/IFsuLi5yb3V0ZS53YXlwb2ludHMsIHdwXSA6IFt3cF07XG4gICAgcmVjb3JkTWlzc2lsZUxlZ1NwZWVkKHNwZWVkKTtcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwsIHJvdXRlLmlkKTtcbiAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLCB7XG4gICAgICByb3V0ZUlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS53YXlwb2ludHMubGVuZ3RoIC0gMSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlZ2luU2hpcERyYWcoaW5kZXg6IG51bWJlciwgX29yaWdpbjogUG9pbnRlclBvaW50KTogdm9pZCB7XG4gICAgZHJhZ2dlZFdheXBvaW50ID0gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbk1pc3NpbGVEcmFnKGluZGV4OiBudW1iZXIsIF9vcmlnaW46IFBvaW50ZXJQb2ludCk6IHZvaWQge1xuICAgIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPSBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYW1wVG9Xb3JsZChwb2ludDogUG9pbnRlclBvaW50KTogUG9pbnRlclBvaW50IHtcbiAgICBjb25zdCB3b3JsZFcgPSBzdGF0ZS53b3JsZE1ldGEudyA/PyA0MDAwO1xuICAgIGNvbnN0IHdvcmxkSCA9IHN0YXRlLndvcmxkTWV0YS5oID8/IDQwMDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGNsYW1wKHBvaW50LngsIDAsIHdvcmxkVyksXG4gICAgICB5OiBjbGFtcChwb2ludC55LCAwLCB3b3JsZEgpLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTaGlwRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBpZiAoZHJhZ2dlZFdheXBvaW50ID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wVG9Xb3JsZCh3b3JsZFBvaW50KTtcbiAgICBzZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIm1vdmVfd2F5cG9pbnRcIixcbiAgICAgIGluZGV4OiBkcmFnZ2VkV2F5cG9pbnQsXG4gICAgICB4OiBjbGFtcGVkLngsXG4gICAgICB5OiBjbGFtcGVkLnksXG4gICAgfSk7XG4gICAgaWYgKHN0YXRlLm1lICYmIHN0YXRlLm1lLndheXBvaW50cyAmJiBkcmFnZ2VkV2F5cG9pbnQgPCBzdGF0ZS5tZS53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5tZS53YXlwb2ludHNbZHJhZ2dlZFdheXBvaW50XS54ID0gY2xhbXBlZC54O1xuICAgICAgc3RhdGUubWUud2F5cG9pbnRzW2RyYWdnZWRXYXlwb2ludF0ueSA9IGNsYW1wZWQueTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlRHJhZyh3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBpZiAoZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKCFyb3V0ZSB8fCAhQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpKSByZXR1cm47XG4gICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wVG9Xb3JsZCh3b3JsZFBvaW50KTtcbiAgICBpZiAoZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA+PSByb3V0ZS53YXlwb2ludHMubGVuZ3RoKSByZXR1cm47XG5cbiAgICBzZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIm1vdmVfbWlzc2lsZV93YXlwb2ludFwiLFxuICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXg6IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQsXG4gICAgICB4OiBjbGFtcGVkLngsXG4gICAgICB5OiBjbGFtcGVkLnksXG4gICAgfSk7XG5cbiAgICByb3V0ZS53YXlwb2ludHMgPSByb3V0ZS53YXlwb2ludHMubWFwKCh3cCwgaWR4KSA9PlxuICAgICAgaWR4ID09PSBkcmFnZ2VkTWlzc2lsZVdheXBvaW50ID8geyAuLi53cCwgeDogY2xhbXBlZC54LCB5OiBjbGFtcGVkLnkgfSA6IHdwXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZERyYWcoKTogdm9pZCB7XG4gICAgaWYgKGRyYWdnZWRXYXlwb2ludCAhPT0gbnVsbCAmJiBzdGF0ZS5tZT8ud2F5cG9pbnRzKSB7XG4gICAgICBjb25zdCB3cCA9IHN0YXRlLm1lLndheXBvaW50c1tkcmFnZ2VkV2F5cG9pbnRdO1xuICAgICAgaWYgKHdwKSB7XG4gICAgICAgIGJ1cy5lbWl0KFwic2hpcDp3YXlwb2ludE1vdmVkXCIsIHtcbiAgICAgICAgICBpbmRleDogZHJhZ2dlZFdheXBvaW50LFxuICAgICAgICAgIHg6IHdwLngsXG4gICAgICAgICAgeTogd3AueSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICBpZiAocm91dGUgJiYgcm91dGUud2F5cG9pbnRzICYmIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPCByb3V0ZS53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHdwID0gcm91dGUud2F5cG9pbnRzW2RyYWdnZWRNaXNzaWxlV2F5cG9pbnRdO1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6d2F5cG9pbnRNb3ZlZFwiLCB7XG4gICAgICAgICAgcm91dGVJZDogcm91dGUuaWQsXG4gICAgICAgICAgaW5kZXg6IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQsXG4gICAgICAgICAgeDogd3AueCxcbiAgICAgICAgICB5OiB3cC55LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkcmFnZ2VkV2F5cG9pbnQgPSBudWxsO1xuICAgIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHJhZ2dlZFdheXBvaW50KCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiBkcmFnZ2VkV2F5cG9pbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50KCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiBkcmFnZ2VkTWlzc2lsZVdheXBvaW50O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWlzc2lsZUNvb2xkb3duUmVtYWluaW5nKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVtYWluaW5nID0gc3RhdGUubmV4dE1pc3NpbGVSZWFkeUF0IC0gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlKTtcbiAgICByZXR1cm4gcmVtYWluaW5nID4gMCA/IHJlbWFpbmluZyA6IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFNlbGVjdGlvbixcbiAgICBzZXRTZWxlY3Rpb24sXG4gICAgZ2V0TWlzc2lsZVNlbGVjdGlvbixcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uLFxuICAgIGdldERlZmF1bHRTaGlwU3BlZWQsXG4gICAgc2V0RGVmYXVsdFNoaXBTcGVlZCxcbiAgICBnZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkLFxuICAgIHJlY29yZE1pc3NpbGVMZWdTcGVlZCxcbiAgICBnZXRTaGlwV2F5cG9pbnRPZmZzZXQsXG4gICAgZGlzcGxheUluZGV4VG9BY3R1YWxJbmRleCxcbiAgICBhY3R1YWxJbmRleFRvRGlzcGxheUluZGV4LFxuICAgIGNvbXB1dGVSb3V0ZVBvaW50cyxcbiAgICBjb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzLFxuICAgIGZpbmRXYXlwb2ludEF0UG9zaXRpb24sXG4gICAgaGl0VGVzdFJvdXRlLFxuICAgIGhpdFRlc3RNaXNzaWxlUm91dGVzLFxuICAgIHNoaXBMZWdEYXNoT2Zmc2V0cyxcbiAgICBtaXNzaWxlTGVnRGFzaE9mZnNldHMsXG4gICAgdXBkYXRlUm91dGVBbmltYXRpb25zLFxuICAgIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBnZXRBY3RpdmVNaXNzaWxlUm91dGUsXG4gICAgY3ljbGVNaXNzaWxlUm91dGUsXG4gICAgY3ljbGVTaGlwU2VsZWN0aW9uLFxuICAgIGNsZWFyU2hpcFJvdXRlLFxuICAgIGRlbGV0ZVNlbGVjdGVkU2hpcFdheXBvaW50LFxuICAgIGRlbGV0ZVNlbGVjdGVkTWlzc2lsZVdheXBvaW50LFxuICAgIGxhdW5jaEFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBoYW5kbGVTaGlwUG9pbnRlcixcbiAgICBoYW5kbGVNaXNzaWxlUG9pbnRlcixcbiAgICBiZWdpblNoaXBEcmFnLFxuICAgIGJlZ2luTWlzc2lsZURyYWcsXG4gICAgdXBkYXRlU2hpcERyYWcsXG4gICAgdXBkYXRlTWlzc2lsZURyYWcsXG4gICAgZW5kRHJhZyxcbiAgICBnZXREcmFnZ2VkV2F5cG9pbnQsXG4gICAgZ2V0RHJhZ2dlZE1pc3NpbGVXYXlwb2ludCxcbiAgICBnZXRNaXNzaWxlQ29vbGRvd25SZW1haW5pbmcsXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgTUlTU0lMRV9QQUxFVFRFLCBTSElQX1BBTEVUVEUsIGRyYXdQbGFubmVkUm91dGUgfSBmcm9tIFwiLi4vcm91dGVcIjtcbmltcG9ydCB0eXBlIHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCI7XG5pbXBvcnQgdHlwZSB7IExvZ2ljIH0gZnJvbSBcIi4vbG9naWNcIjtcblxuaW50ZXJmYWNlIFJlbmRlckRlcGVuZGVuY2llcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG4gIGNhbWVyYTogQ2FtZXJhO1xuICBsb2dpYzogTG9naWM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyZXIge1xuICBkcmF3U2NlbmUoKTogdm9pZDtcbiAgZHJhd0dyaWQoKTogdm9pZDtcbiAgZHJhd0JlYWNvbnMoKTogdm9pZDtcbiAgZHJhd1NoaXAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHZ4OiBudW1iZXIsIHZ5OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIGZpbGxlZDogYm9vbGVhbik6IHZvaWQ7XG4gIGRyYXdHaG9zdERvdCh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQ7XG4gIGRyYXdSb3V0ZSgpOiB2b2lkO1xuICBkcmF3TWlzc2lsZVJvdXRlKCk6IHZvaWQ7XG4gIGRyYXdNaXNzaWxlcygpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoe1xuICBjYW52YXMsXG4gIGN0eCxcbiAgc3RhdGUsXG4gIHVpU3RhdGUsXG4gIGNhbWVyYSxcbiAgbG9naWMsXG59OiBSZW5kZXJEZXBlbmRlbmNpZXMpOiBSZW5kZXJlciB7XG4gIGZ1bmN0aW9uIGRyYXdTaGlwKFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgdng6IG51bWJlcixcbiAgICB2eTogbnVtYmVyLFxuICAgIGNvbG9yOiBzdHJpbmcsXG4gICAgZmlsbGVkOiBib29sZWFuXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHAgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHgsIHkgfSk7XG4gICAgY29uc3QgciA9IDEwO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHZ5LCB2eCk7XG4gICAgY3R4LnJvdGF0ZShhbmdsZSk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8ociwgMCk7XG4gICAgY3R4LmxpbmVUbygtciAqIDAuNywgciAqIDAuNik7XG4gICAgY3R4LmxpbmVUbygtciAqIDAuNCwgMCk7XG4gICAgY3R4LmxpbmVUbygtciAqIDAuNywgLXIgKiAwLjYpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICBpZiAoZmlsbGVkKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYCR7Y29sb3J9Y2NgO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R2hvc3REb3QoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBwID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4LCB5IH0pO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHAueCwgcC55LCAzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiI2NjY2NjY2FhXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdSb3V0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXN0YXRlLm1lKSByZXR1cm47XG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5jb21wdXRlUm91dGVQb2ludHMoKTtcbiAgICBpZiAoIXJvdXRlIHx8IHJvdXRlLndheXBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGhlYXQgPSBzdGF0ZS5tZS5oZWF0O1xuICAgIGNvbnN0IGhlYXRQYXJhbXMgPSBoZWF0XG4gICAgICA/IHtcbiAgICAgICAgICBtYXJrZXJTcGVlZDogaGVhdC5tYXJrZXJTcGVlZCxcbiAgICAgICAgICBrVXA6IGhlYXQua1VwLFxuICAgICAgICAgIGtEb3duOiBoZWF0LmtEb3duLFxuICAgICAgICAgIGV4cDogaGVhdC5leHAsXG4gICAgICAgICAgbWF4OiBoZWF0Lm1heCxcbiAgICAgICAgICBvdmVyaGVhdEF0OiBoZWF0Lm92ZXJoZWF0QXQsXG4gICAgICAgICAgd2FybkF0OiBoZWF0Lndhcm5BdCxcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBjdXJyZW50U2VsZWN0aW9uID0gbG9naWMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgY29uc3QgZGlzcGxheVNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb25cbiAgICAgID8ge1xuICAgICAgICAgIHR5cGU6IGN1cnJlbnRTZWxlY3Rpb24udHlwZSxcbiAgICAgICAgICBpbmRleDogbG9naWMuYWN0dWFsSW5kZXhUb0Rpc3BsYXlJbmRleChjdXJyZW50U2VsZWN0aW9uLmluZGV4KSxcbiAgICAgICAgfVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHZhbGlkU2VsZWN0aW9uID1cbiAgICAgIGRpc3BsYXlTZWxlY3Rpb24gJiYgZGlzcGxheVNlbGVjdGlvbi5pbmRleCA+PSAwID8gZGlzcGxheVNlbGVjdGlvbiA6IG51bGw7XG5cbiAgICBjb25zdCBkcmFnZ2VkID0gbG9naWMuZ2V0RHJhZ2dlZFdheXBvaW50KCk7XG4gICAgY29uc3QgZGlzcGxheURyYWdnZWQgPVxuICAgICAgZHJhZ2dlZCAhPT0gbnVsbCA/IGxvZ2ljLmFjdHVhbEluZGV4VG9EaXNwbGF5SW5kZXgoZHJhZ2dlZCkgOiBudWxsO1xuICAgIGNvbnN0IHZhbGlkRHJhZ2dlZCA9XG4gICAgICBkaXNwbGF5RHJhZ2dlZCAhPT0gbnVsbCAmJiBkaXNwbGF5RHJhZ2dlZCA+PSAwID8gZGlzcGxheURyYWdnZWQgOiBudWxsO1xuXG4gICAgZHJhd1BsYW5uZWRSb3V0ZShjdHgsIHtcbiAgICAgIHJvdXRlUG9pbnRzOiByb3V0ZSxcbiAgICAgIHNlbGVjdGlvbjogdmFsaWRTZWxlY3Rpb24sXG4gICAgICBkcmFnZ2VkV2F5cG9pbnQ6IHZhbGlkRHJhZ2dlZCxcbiAgICAgIGRhc2hTdG9yZTogbG9naWMuc2hpcExlZ0Rhc2hPZmZzZXRzLFxuICAgICAgcGFsZXR0ZTogU0hJUF9QQUxFVFRFLFxuICAgICAgc2hvd0xlZ3M6IHVpU3RhdGUuc2hvd1NoaXBSb3V0ZSxcbiAgICAgIGhlYXRQYXJhbXMsXG4gICAgICBpbml0aWFsSGVhdDogaGVhdD8udmFsdWUgPz8gMCxcbiAgICAgIGRlZmF1bHRTcGVlZDogbG9naWMuZ2V0RGVmYXVsdFNoaXBTcGVlZCgpLFxuICAgICAgd29ybGRQb2ludHM6IHJvdXRlLndvcmxkUG9pbnRzLFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd01pc3NpbGVSb3V0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXN0YXRlLm1lKSByZXR1cm47XG4gICAgaWYgKHVpU3RhdGUuaW5wdXRDb250ZXh0ICE9PSBcIm1pc3NpbGVcIikgcmV0dXJuO1xuICAgIGNvbnN0IHJvdXRlID0gbG9naWMuY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpO1xuICAgIGlmICghcm91dGUgfHwgcm91dGUud2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGVhdFBhcmFtcyA9IHN0YXRlLm1pc3NpbGVDb25maWcuaGVhdFBhcmFtcztcbiAgICBjb25zdCBtaXNzaWxlU2VsZWN0aW9uID0gbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpO1xuICAgIGNvbnN0IGdlbmVyaWNTZWxlY3Rpb24gPVxuICAgICAgbWlzc2lsZVNlbGVjdGlvbiAmJiBtaXNzaWxlU2VsZWN0aW9uLnR5cGUgPT09IFwibGVnXCJcbiAgICAgICAgPyB7IHR5cGU6IFwibGVnXCIsIGluZGV4OiBtaXNzaWxlU2VsZWN0aW9uLmluZGV4IH1cbiAgICAgICAgOiBtaXNzaWxlU2VsZWN0aW9uICYmIG1pc3NpbGVTZWxlY3Rpb24udHlwZSA9PT0gXCJ3YXlwb2ludFwiXG4gICAgICAgID8geyB0eXBlOiBcIndheXBvaW50XCIsIGluZGV4OiBtaXNzaWxlU2VsZWN0aW9uLmluZGV4IH1cbiAgICAgICAgOiBudWxsO1xuXG4gICAgZHJhd1BsYW5uZWRSb3V0ZShjdHgsIHtcbiAgICAgIHJvdXRlUG9pbnRzOiByb3V0ZSxcbiAgICAgIHNlbGVjdGlvbjogZ2VuZXJpY1NlbGVjdGlvbixcbiAgICAgIGRyYWdnZWRXYXlwb2ludDogbnVsbCxcbiAgICAgIGRhc2hTdG9yZTogbG9naWMubWlzc2lsZUxlZ0Rhc2hPZmZzZXRzLFxuICAgICAgcGFsZXR0ZTogTUlTU0lMRV9QQUxFVFRFLFxuICAgICAgc2hvd0xlZ3M6IHRydWUsXG4gICAgICBoZWF0UGFyYW1zLFxuICAgICAgaW5pdGlhbEhlYXQ6IDAsXG4gICAgICBkZWZhdWx0U3BlZWQ6IHN0YXRlLm1pc3NpbGVDb25maWcuc3BlZWQsXG4gICAgICB3b3JsZFBvaW50czogcm91dGUud29ybGRQb2ludHMsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3TWlzc2lsZXMoKTogdm9pZCB7XG4gICAgaWYgKCFzdGF0ZS5taXNzaWxlcyB8fCBzdGF0ZS5taXNzaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCB3b3JsZCA9IGNhbWVyYS5nZXRXb3JsZFNpemUoKTtcbiAgICBjb25zdCBzY2FsZVggPSBjYW52YXMud2lkdGggLyB3b3JsZC53O1xuICAgIGNvbnN0IHNjYWxlWSA9IGNhbnZhcy5oZWlnaHQgLyB3b3JsZC5oO1xuICAgIGNvbnN0IHJhZGl1c1NjYWxlID0gKHNjYWxlWCArIHNjYWxlWSkgLyAyO1xuICAgIGZvciAoY29uc3QgbWlzcyBvZiBzdGF0ZS5taXNzaWxlcykge1xuICAgICAgY29uc3QgcCA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeDogbWlzcy54LCB5OiBtaXNzLnkgfSk7XG4gICAgICBjb25zdCBzZWxmT3duZWQgPSBCb29sZWFuKG1pc3Muc2VsZik7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhwLngsIHAueSwgc2VsZk93bmVkID8gNiA6IDUsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBzZWxmT3duZWQgPyBcIiNmODcxNzFcIiA6IFwiI2ZjYTVhNVwiO1xuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gc2VsZk93bmVkID8gMC45NSA6IDAuODtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDEuNTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzExMTgyN1wiO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgaWYgKHNlbGZPd25lZCAmJiBtaXNzLmFncm9fcmFkaXVzID4gMCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnN0IHJDYW52YXMgPSBtaXNzLmFncm9fcmFkaXVzICogcmFkaXVzU2NhbGU7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChbMTQsIDEwXSk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSgyNDgsMTEzLDExMywwLjM1KVwiO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMS4yO1xuICAgICAgICBjdHguYXJjKHAueCwgcC55LCByQ2FudmFzLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R3JpZCgpOiB2b2lkIHtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzIzNFwiO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuXG4gICAgY29uc3Qgem9vbSA9IHVpU3RhdGUuem9vbTtcbiAgICBsZXQgc3RlcCA9IDEwMDA7XG4gICAgaWYgKHpvb20gPCAwLjcpIHtcbiAgICAgIHN0ZXAgPSAyMDAwO1xuICAgIH0gZWxzZSBpZiAoem9vbSA+IDEuNSkge1xuICAgICAgc3RlcCA9IDUwMDtcbiAgICB9IGVsc2UgaWYgKHpvb20gPiAyLjUpIHtcbiAgICAgIHN0ZXAgPSAyNTA7XG4gICAgfVxuXG4gICAgY29uc3QgY2FtZXJhUG9zID0gY2FtZXJhLmdldENhbWVyYVBvc2l0aW9uKCk7XG4gICAgY29uc3Qgd29ybGQgPSBjYW1lcmEuZ2V0V29ybGRTaXplKCk7XG4gICAgY29uc3Qgc2NhbGVYID0gY2FudmFzLndpZHRoIC8gd29ybGQudztcbiAgICBjb25zdCBzY2FsZVkgPSBjYW52YXMuaGVpZ2h0IC8gd29ybGQuaDtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIHpvb207XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IGNhbnZhcy53aWR0aCAvIHNjYWxlO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlO1xuXG4gICAgY29uc3QgbWluWCA9IE1hdGgubWF4KDAsIGNhbWVyYVBvcy54IC0gdmlld3BvcnRXaWR0aCAvIDIpO1xuICAgIGNvbnN0IG1heFggPSBNYXRoLm1pbih3b3JsZC53LCBjYW1lcmFQb3MueCArIHZpZXdwb3J0V2lkdGggLyAyKTtcbiAgICBjb25zdCBtaW5ZID0gTWF0aC5tYXgoMCwgY2FtZXJhUG9zLnkgLSB2aWV3cG9ydEhlaWdodCAvIDIpO1xuICAgIGNvbnN0IG1heFkgPSBNYXRoLm1pbih3b3JsZC5oLCBjYW1lcmFQb3MueSArIHZpZXdwb3J0SGVpZ2h0IC8gMik7XG5cbiAgICBjb25zdCBzdGFydFggPSBNYXRoLmZsb29yKG1pblggLyBzdGVwKSAqIHN0ZXA7XG4gICAgY29uc3QgZW5kWCA9IE1hdGguY2VpbChtYXhYIC8gc3RlcCkgKiBzdGVwO1xuICAgIGNvbnN0IHN0YXJ0WSA9IE1hdGguZmxvb3IobWluWSAvIHN0ZXApICogc3RlcDtcbiAgICBjb25zdCBlbmRZID0gTWF0aC5jZWlsKG1heFkgLyBzdGVwKSAqIHN0ZXA7XG5cbiAgICBmb3IgKGxldCB4ID0gc3RhcnRYOyB4IDw9IGVuZFg7IHggKz0gc3RlcCkge1xuICAgICAgY29uc3QgYSA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeCwgeTogTWF0aC5tYXgoMCwgbWluWSkgfSk7XG4gICAgICBjb25zdCBiID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4LCB5OiBNYXRoLm1pbih3b3JsZC5oLCBtYXhZKSB9KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgY3R4LmxpbmVUbyhiLngsIGIueSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgeSA9IHN0YXJ0WTsgeSA8PSBlbmRZOyB5ICs9IHN0ZXApIHtcbiAgICAgIGNvbnN0IGEgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHg6IE1hdGgubWF4KDAsIG1pblgpLCB5IH0pO1xuICAgICAgY29uc3QgYiA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeDogTWF0aC5taW4od29ybGQudywgbWF4WCksIHkgfSk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKGEueCwgYS55KTtcbiAgICAgIGN0eC5saW5lVG8oYi54LCBiLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0JlYWNvbnMoKTogdm9pZCB7XG4gICAgY29uc3QgbWlzc2lvbiA9IHN0YXRlLm1pc3Npb247XG4gICAgaWYgKCFtaXNzaW9uIHx8ICFtaXNzaW9uLmFjdGl2ZSB8fCBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd29ybGQgPSBjYW1lcmEuZ2V0V29ybGRTaXplKCk7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihjYW52YXMud2lkdGggLyB3b3JsZC53LCBjYW52YXMuaGVpZ2h0IC8gd29ybGQuaCkgKiB1aVN0YXRlLnpvb207XG4gICAgY29uc3QgbWUgPSBzdGF0ZS5tZTtcbiAgICBjb25zdCBob2xkUmVxdWlyZWQgPSBtaXNzaW9uLmhvbGRSZXF1aXJlZCB8fCAxMDtcblxuICAgIG1pc3Npb24uYmVhY29ucy5mb3JFYWNoKChiZWFjb24sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBjZW50ZXIgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHg6IGJlYWNvbi5jeCwgeTogYmVhY29uLmN5IH0pO1xuICAgICAgY29uc3QgZWRnZSA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeDogYmVhY29uLmN4ICsgYmVhY29uLnJhZGl1cywgeTogYmVhY29uLmN5IH0pO1xuICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5oeXBvdChlZGdlLnggLSBjZW50ZXIueCwgZWRnZS55IC0gY2VudGVyLnkpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocmFkaXVzKSB8fCByYWRpdXMgPD0gMC41KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNMb2NrZWQgPSBpbmRleCA8IG1pc3Npb24uYmVhY29uSW5kZXg7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGluZGV4ID09PSBtaXNzaW9uLmJlYWNvbkluZGV4O1xuICAgICAgY29uc3QgYmFzZUxpbmVXaWR0aCA9IE1hdGgubWF4KDEuNSwgMi41ICogTWF0aC5taW4oMSwgc2NhbGUgKiAxLjIpKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gaXNMb2NrZWRcbiAgICAgICAgPyBcInJnYmEoNzQsMjIyLDEyOCwwLjg1KVwiXG4gICAgICAgIDogaXNBY3RpdmVcbiAgICAgICAgPyBcInJnYmEoNTYsMTg5LDI0OCwwLjk1KVwiXG4gICAgICAgIDogXCJyZ2JhKDE0OCwxNjMsMTg0LDAuNjUpXCI7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguc2V0TGluZURhc2goaXNBY3RpdmUgPyBbXSA6IFsxMCwgMTJdKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBpc0FjdGl2ZSA/IGJhc2VMaW5lV2lkdGggKiAxLjQgOiBiYXNlTGluZVdpZHRoO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSBpc0xvY2tlZCA/IDAuOSA6IDAuODtcbiAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY29uc3QgaW5zaWRlID1cbiAgICAgICAgaXNBY3RpdmUgJiYgbWVcbiAgICAgICAgICA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGR4ID0gbWUueCAtIGJlYWNvbi5jeDtcbiAgICAgICAgICAgICAgY29uc3QgZHkgPSBtZS55IC0gYmVhY29uLmN5O1xuICAgICAgICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gYmVhY29uLnJhZGl1cyAqIGJlYWNvbi5yYWRpdXM7XG4gICAgICAgICAgICB9KSgpXG4gICAgICAgICAgOiBmYWxzZTtcblxuICAgICAgaWYgKGluc2lkZSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoNTYsMTg5LDI0OCwwLjEyKVwiO1xuICAgICAgICBjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGhvbGRSZXF1aXJlZCA+IDAgPyBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBtaXNzaW9uLmhvbGRBY2N1bSAvIGhvbGRSZXF1aXJlZCkpIDogMDtcbiAgICAgICAgaWYgKHByb2dyZXNzID4gMCkge1xuICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoNTYsMTg5LDI0OCwwLjk1KVwiO1xuICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBNYXRoLm1heChiYXNlTGluZVdpZHRoICogMS44LCAyKTtcbiAgICAgICAgICBjdHguc2V0TGluZURhc2goW10pO1xuICAgICAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIC1NYXRoLlBJIC8gMiwgLU1hdGguUEkgLyAyICsgcHJvZ3Jlc3MgKiBNYXRoLlBJICogMik7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0xvY2tlZCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoNzQsMjIyLDEyOCwwLjc1KVwiO1xuICAgICAgICBjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgTWF0aC5tYXgoNCwgcmFkaXVzICogMC4wNSksIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cblxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdTY2VuZSgpOiB2b2lkIHtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgZHJhd0dyaWQoKTtcbiAgICBkcmF3QmVhY29ucygpO1xuICAgIGRyYXdSb3V0ZSgpO1xuICAgIGRyYXdNaXNzaWxlUm91dGUoKTtcbiAgICBkcmF3TWlzc2lsZXMoKTtcblxuICAgIGZvciAoY29uc3QgZyBvZiBzdGF0ZS5naG9zdHMpIHtcbiAgICAgIGRyYXdTaGlwKGcueCwgZy55LCBnLnZ4LCBnLnZ5LCBcIiM5Y2EzYWZcIiwgZmFsc2UpO1xuICAgICAgZHJhd0dob3N0RG90KGcueCwgZy55KTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLm1lKSB7XG4gICAgICBkcmF3U2hpcChzdGF0ZS5tZS54LCBzdGF0ZS5tZS55LCBzdGF0ZS5tZS52eCwgc3RhdGUubWUudnksIFwiIzIyZDNlZVwiLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRyYXdTY2VuZSxcbiAgICBkcmF3R3JpZCxcbiAgICBkcmF3QmVhY29ucyxcbiAgICBkcmF3U2hpcCxcbiAgICBkcmF3R2hvc3REb3QsXG4gICAgZHJhd1JvdXRlLFxuICAgIGRyYXdNaXNzaWxlUm91dGUsXG4gICAgZHJhd01pc3NpbGVzLFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IEFjdGl2ZVRvb2wsIEFwcFN0YXRlLCBVSVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQge1xuICBNSVNTSUxFX01BWF9TUEVFRCxcbiAgTUlTU0lMRV9NSU5fQUdSTyxcbiAgTUlTU0lMRV9NSU5fU1BFRUQsXG4gIGNsYW1wLFxuICBzYW5pdGl6ZU1pc3NpbGVDb25maWcsXG59IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgSEVMUF9URVhUIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgdHlwZSB7IENhbWVyYSB9IGZyb20gXCIuL2NhbWVyYVwiO1xuaW1wb3J0IHR5cGUgeyBMb2dpYyB9IGZyb20gXCIuL2xvZ2ljXCI7XG5pbXBvcnQgeyBwcm9qZWN0Um91dGVIZWF0IH0gZnJvbSBcIi4uL3JvdXRlXCI7XG5cbmludGVyZmFjZSBVSURlcGVuZGVuY2llcyB7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgdWlTdGF0ZTogVUlTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgbG9naWM6IExvZ2ljO1xuICBjYW1lcmE6IENhbWVyYTtcbiAgc2VuZE1lc3NhZ2UocGF5bG9hZDogdW5rbm93bik6IHZvaWQ7XG4gIGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZTogQXBwU3RhdGUpOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBDYWNoZWRDYW52YXMge1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVJQ29udHJvbGxlciB7XG4gIGNhY2hlRG9tKCk6IENhY2hlZENhbnZhcztcbiAgYmluZFVJKCk6IHZvaWQ7XG4gIHNldEFjdGl2ZVRvb2wodG9vbDogQWN0aXZlVG9vbCk6IHZvaWQ7XG4gIHNldElucHV0Q29udGV4dChjb250ZXh0OiBcInNoaXBcIiB8IFwibWlzc2lsZVwiKTogdm9pZDtcbiAgdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMoKTogdm9pZDtcbiAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpOiB2b2lkO1xuICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk6IHZvaWQ7XG4gIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk6IHZvaWQ7XG4gIHN5bmNNaXNzaWxlVUlGcm9tU3RhdGUoKTogdm9pZDtcbiAgdXBkYXRlSGVscE92ZXJsYXkoKTogdm9pZDtcbiAgc2V0SGVscFZpc2libGUoZmxhZzogYm9vbGVhbik6IHZvaWQ7XG4gIHVwZGF0ZU1pc3NpbGVMYXVuY2hCdXR0b25TdGF0ZSgpOiB2b2lkO1xuICB1cGRhdGVNaXNzaWxlQ291bnREaXNwbGF5KCk6IHZvaWQ7XG4gIHVwZGF0ZUNyYWZ0VGltZXIoKTogdm9pZDtcbiAgdXBkYXRlU3RhdHVzSW5kaWNhdG9ycygpOiB2b2lkO1xuICB1cGRhdGVQbGFubmVkSGVhdEJhcigpOiB2b2lkO1xuICB1cGRhdGVTcGVlZE1hcmtlcigpOiB2b2lkO1xuICB1cGRhdGVIZWF0QmFyKCk6IHZvaWQ7XG4gIHByb2plY3RQbGFubmVkSGVhdCgpOiBudW1iZXIgfCBudWxsO1xuICBnZXRDYW52YXMoKTogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICBnZXRDb250ZXh0KCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGw7XG4gIGFkanVzdFNoaXBTcGVlZChzdGVwczogbnVtYmVyLCBjb2Fyc2U6IGJvb2xlYW4pOiB2b2lkO1xuICBhZGp1c3RNaXNzaWxlQWdybyhzdGVwczogbnVtYmVyLCBjb2Fyc2U6IGJvb2xlYW4pOiB2b2lkO1xuICBhZGp1c3RNaXNzaWxlU3BlZWQoc3RlcHM6IG51bWJlciwgY29hcnNlOiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJKHtcbiAgc3RhdGUsXG4gIHVpU3RhdGUsXG4gIGJ1cyxcbiAgbG9naWMsXG4gIGNhbWVyYSxcbiAgc2VuZE1lc3NhZ2UsXG4gIGdldEFwcHJveFNlcnZlck5vdyxcbn06IFVJRGVwZW5kZW5jaWVzKTogVUlDb250cm9sbGVyIHtcbiAgbGV0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbCA9IG51bGw7XG4gIGxldCBIUHNwYW46IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBraWxsc1NwYW46IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwQ29udHJvbHNDYXJkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcENsZWFyQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFNldEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBTZWxlY3RCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwUm91dGVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFJvdXRlTGVnOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFJvdXRlU3BlZWQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwRGVsZXRlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFNwZWVkQ2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBTcGVlZFNsaWRlcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFNwZWVkVmFsdWU6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlU3BlZWRNYXJrZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IG1pc3NpbGVDb250cm9sc0NhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQWRkUm91dGVCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlTGF1bmNoQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUxhdW5jaFRleHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlTGF1bmNoSW5mbzogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTZXRCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlU2VsZWN0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZURlbGV0ZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTcGVlZENhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlU3BlZWRTbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVTcGVlZFZhbHVlOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUFncm9DYXJkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUFncm9TbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVBZ3JvVmFsdWU6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlSGVhdENhcGFjaXR5Q2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVIZWF0Q2FwYWNpdHlTbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVIZWF0Q2FwYWNpdHlWYWx1ZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVDcmFmdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVDb3VudFNwYW46IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQ3JhZnRUaW1lckRpdjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGNyYWZ0VGltZVJlbWFpbmluZ1NwYW46IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzcGF3bkJvdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNwYXduQm90VGV4dDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBsZXQgcm91dGVQcmV2QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgcm91dGVOZXh0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgcm91dGVNZW51VG9nZ2xlOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgcm91dGVNZW51OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgcmVuYW1lTWlzc2lsZVJvdXRlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgZGVsZXRlTWlzc2lsZVJvdXRlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgY2xlYXJNaXNzaWxlV2F5cG9pbnRzQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVJvdXRlTmFtZUxhYmVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVJvdXRlQ291bnRMYWJlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBsZXQgaGVscFRvZ2dsZTogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGhlbHBPdmVybGF5OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVscENsb3NlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVscFRleHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IGhlYXRCYXJGaWxsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVhdEJhclBsYW5uZWQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBoZWF0VmFsdWVUZXh0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc3BlZWRNYXJrZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzdGFsbE92ZXJsYXk6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IG1hcmtlckFsaWduZWQgPSBmYWxzZTtcbiAgbGV0IGhlYXRXYXJuQWN0aXZlID0gZmFsc2U7XG4gIGxldCBzdGFsbEFjdGl2ZSA9IGZhbHNlO1xuICBsZXQgZHVhbE1ldGVyQWxlcnQgPSBmYWxzZTtcbiAgbGV0IGxhc3RNaXNzaWxlTGF1bmNoVGV4dEhUTUwgPSBcIlwiO1xuICBsZXQgbGFzdE1pc3NpbGVMYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG4gIGxldCBsYXN0TWlzc2lsZUNvbmZpZ1NlbnQ6IHsgc3BlZWQ6IG51bWJlcjsgYWdyb1JhZGl1czogbnVtYmVyIH0gfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBjYWNoZURvbSgpOiBDYWNoZWRDYW52YXMge1xuICAgIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3ZcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICAgIGN0eCA9IGNhbnZhcz8uZ2V0Q29udGV4dChcIjJkXCIpID8/IG51bGw7XG4gICAgSFBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWhwXCIpO1xuICAgIHNoaXBDb250cm9sc0NhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtY29udHJvbHNcIik7XG4gICAgc2hpcENsZWFyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWNsZWFyXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBzaGlwU2V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNldFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgc2hpcFNlbGVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zZWxlY3RcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBSb3V0ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtcm91dGVzXCIpO1xuICAgIHNoaXBSb3V0ZUxlZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1yb3V0ZS1sZWdcIik7XG4gICAgc2hpcFJvdXRlU3BlZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtcm91dGUtc3BlZWRcIik7XG4gICAgc2hpcERlbGV0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1kZWxldGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBTcGVlZENhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc3BlZWQtY2FyZFwiKTtcbiAgICBzaGlwU3BlZWRTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc3BlZWQtc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBTcGVlZFZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNwZWVkLXZhbHVlXCIpO1xuXG4gICAgbWlzc2lsZUNvbnRyb2xzQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1jb250cm9sc1wiKTtcbiAgICBtaXNzaWxlQWRkUm91dGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtYWRkLXJvdXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlTGF1bmNoQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWxhdW5jaFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZUxhdW5jaFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoLXRleHRcIik7XG4gICAgbWlzc2lsZUxhdW5jaEluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoLWluZm9cIik7XG4gICAgbWlzc2lsZVNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zZXRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVTZWxlY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtc2VsZWN0XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlRGVsZXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWRlbGV0ZVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZVNwZWVkQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zcGVlZC1jYXJkXCIpO1xuICAgIG1pc3NpbGVTcGVlZFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zcGVlZC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZVNwZWVkVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtc3BlZWQtdmFsdWVcIik7XG4gICAgbWlzc2lsZUFncm9DYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tY2FyZFwiKTtcbiAgICBtaXNzaWxlQWdyb1NsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1hZ3JvLXNsaWRlclwiKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlQWdyb1ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tdmFsdWVcIik7XG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eUNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtaGVhdC1jYXBhY2l0eS1jYXJkXCIpO1xuICAgIG1pc3NpbGVIZWF0Q2FwYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtaGVhdC1jYXBhY2l0eS1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eVZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWhlYXQtY2FwYWNpdHktdmFsdWVcIik7XG4gICAgbWlzc2lsZUNyYWZ0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNyYWZ0XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlQ291bnRTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNvdW50XCIpO1xuICAgIG1pc3NpbGVDcmFmdFRpbWVyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNyYWZ0LXRpbWVyXCIpO1xuICAgIGNyYWZ0VGltZVJlbWFpbmluZ1NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyYWZ0LXRpbWUtcmVtYWluaW5nXCIpO1xuXG4gICAgc3Bhd25Cb3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwYXduLWJvdFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgc3Bhd25Cb3RUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGF3bi1ib3QtdGV4dFwiKTtcbiAgICBraWxsc1NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAta2lsbHNcIik7XG4gICAgcm91dGVQcmV2QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1wcmV2XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICByb3V0ZU5leHRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdXRlLW5leHRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHJvdXRlTWVudVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtbWVudS10b2dnbGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHJvdXRlTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtbWVudVwiKTtcbiAgICByZW5hbWVNaXNzaWxlUm91dGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmFtZS1taXNzaWxlLXJvdXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBkZWxldGVNaXNzaWxlUm91dGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZS1taXNzaWxlLXJvdXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBjbGVhck1pc3NpbGVXYXlwb2ludHNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsZWFyLW1pc3NpbGUtd2F5cG9pbnRzXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlUm91dGVOYW1lTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtcm91dGUtbmFtZVwiKTtcbiAgICBtaXNzaWxlUm91dGVDb3VudExhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXJvdXRlLWNvdW50XCIpO1xuXG4gICAgaGVscFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscC10b2dnbGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGhlbHBPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwLW92ZXJsYXlcIik7XG4gICAgaGVscENsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwLWNsb3NlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBoZWxwVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscC10ZXh0XCIpO1xuXG4gICAgaGVhdEJhckZpbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYXQtYmFyLWZpbGxcIik7XG4gICAgaGVhdEJhclBsYW5uZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYXQtYmFyLXBsYW5uZWRcIik7XG4gICAgaGVhdFZhbHVlVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhdC12YWx1ZS10ZXh0XCIpO1xuICAgIHNwZWVkTWFya2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVlZC1tYXJrZXJcIik7XG4gICAgbWlzc2lsZVNwZWVkTWFya2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNwZWVkLW1hcmtlclwiKTtcbiAgICBzdGFsbE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YWxsLW92ZXJsYXlcIik7XG5cbiAgICBjb25zdCBzbGlkZXJEZWZhdWx0ID0gcGFyc2VGbG9hdChzaGlwU3BlZWRTbGlkZXI/LnZhbHVlID8/IFwiMTUwXCIpO1xuICAgIGxvZ2ljLnNldERlZmF1bHRTaGlwU3BlZWQoTnVtYmVyLmlzRmluaXRlKHNsaWRlckRlZmF1bHQpID8gc2xpZGVyRGVmYXVsdCA6IDE1MCk7XG4gICAgaWYgKG1pc3NpbGVTcGVlZFNsaWRlcikge1xuICAgICAgbWlzc2lsZVNwZWVkU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgY2FudmFzLCBjdHggfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpbmRVSSgpOiB2b2lkIHtcbiAgICBzcGF3bkJvdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmICghc3Bhd25Cb3RCdG4gfHwgc3Bhd25Cb3RCdG4uZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcInNwYXduX2JvdFwiIH0pO1xuICAgICAgYnVzLmVtaXQoXCJib3Q6c3Bhd25SZXF1ZXN0ZWRcIik7XG5cbiAgICAgIHNwYXduQm90QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzcGF3bkJvdFRleHQpIHtcbiAgICAgICAgc3Bhd25Cb3RUZXh0LnRleHRDb250ZW50ID0gXCJTcGF3bmVkXCI7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoc3Bhd25Cb3RCdG4pIHtcbiAgICAgICAgICBzcGF3bkJvdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGF3bkJvdFRleHQpIHtcbiAgICAgICAgICBzcGF3bkJvdFRleHQudGV4dENvbnRlbnQgPSBcIkJvdFwiO1xuICAgICAgICB9XG4gICAgICB9LCA1MDAwKTtcbiAgICB9KTtcblxuICAgIHNoaXBDbGVhckJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICBsb2dpYy5jbGVhclNoaXBSb3V0ZSgpO1xuICAgICAgYnVzLmVtaXQoXCJzaGlwOmNsZWFySW52b2tlZFwiKTtcbiAgICB9KTtcblxuICAgIHNoaXBTZXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRBY3RpdmVUb29sKFwic2hpcC1zZXRcIik7XG4gICAgfSk7XG5cbiAgICBzaGlwU2VsZWN0QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlVG9vbChcInNoaXAtc2VsZWN0XCIpO1xuICAgIH0pO1xuXG4gICAgc2hpcFNwZWVkU2xpZGVyPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHJldHVybjtcbiAgICAgIHVwZGF0ZVNwZWVkTGFiZWwodmFsdWUpO1xuICAgICAgbG9naWMuc2V0RGVmYXVsdFNoaXBTcGVlZCh2YWx1ZSk7XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSBsb2dpYy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIGlmIChcbiAgICAgICAgc2VsZWN0aW9uICYmXG4gICAgICAgIHN0YXRlLm1lICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSAmJlxuICAgICAgICBzdGF0ZS5tZS53YXlwb2ludHNbc2VsZWN0aW9uLmluZGV4XVxuICAgICAgKSB7XG4gICAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJ1cGRhdGVfd2F5cG9pbnRcIiwgaW5kZXg6IHNlbGVjdGlvbi5pbmRleCwgc3BlZWQ6IHZhbHVlIH0pO1xuICAgICAgICBzdGF0ZS5tZS53YXlwb2ludHNbc2VsZWN0aW9uLmluZGV4XS5zcGVlZCA9IHZhbHVlO1xuICAgICAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBoZWF0ID0gc3RhdGUubWU/LmhlYXQ7XG4gICAgICBpZiAoaGVhdCkge1xuICAgICAgICBjb25zdCB0b2xlcmFuY2UgPSBNYXRoLm1heCg1LCBoZWF0Lm1hcmtlclNwZWVkICogMC4wMik7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyh2YWx1ZSAtIGhlYXQubWFya2VyU3BlZWQpO1xuICAgICAgICBjb25zdCBpblJhbmdlID0gZGlmZiA8PSB0b2xlcmFuY2U7XG4gICAgICAgIGlmIChpblJhbmdlICYmICFtYXJrZXJBbGlnbmVkKSB7XG4gICAgICAgICAgbWFya2VyQWxpZ25lZCA9IHRydWU7XG4gICAgICAgICAgYnVzLmVtaXQoXCJoZWF0Om1hcmtlckFsaWduZWRcIiwgeyB2YWx1ZSwgbWFya2VyOiBoZWF0Lm1hcmtlclNwZWVkIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFpblJhbmdlICYmIG1hcmtlckFsaWduZWQpIHtcbiAgICAgICAgICBtYXJrZXJBbGlnbmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmtlckFsaWduZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGJ1cy5lbWl0KFwic2hpcDpzcGVlZENoYW5nZWRcIiwgeyB2YWx1ZSB9KTtcbiAgICB9KTtcblxuICAgIHNoaXBEZWxldGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRTaGlwV2F5cG9pbnQoKTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVBZGRSb3V0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiYWRkX21pc3NpbGVfcm91dGVcIiB9KTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVMYXVuY2hCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgbG9naWMubGF1bmNoQWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlU2V0QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2V0XCIpO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZVNlbGVjdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldEFjdGl2ZVRvb2woXCJtaXNzaWxlLXNlbGVjdFwiKTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVEZWxldGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQoKTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTpkZWxldGVJbnZva2VkXCIpO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBzbGlkZXIgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChzbGlkZXIuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmF3ID0gcGFyc2VGbG9hdChzbGlkZXIudmFsdWUpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocmF3KSkgcmV0dXJuO1xuICAgICAgY29uc3QgbWluU3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWluID8/IE1JU1NJTEVfTUlOX1NQRUVEO1xuICAgICAgY29uc3QgbWF4U3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWF4ID8/IE1JU1NJTEVfTUFYX1NQRUVEO1xuICAgICAgY29uc3QgY2xhbXBlZFZhbHVlID0gY2xhbXAocmF3LCBtaW5TcGVlZCwgbWF4U3BlZWQpO1xuICAgICAgc2xpZGVyLnZhbHVlID0gY2xhbXBlZFZhbHVlLnRvRml4ZWQoMCk7XG4gICAgICBpZiAobWlzc2lsZVNwZWVkVmFsdWUpIHtcbiAgICAgICAgbWlzc2lsZVNwZWVkVmFsdWUudGV4dENvbnRlbnQgPSBgJHtjbGFtcGVkVmFsdWUudG9GaXhlZCgwKX1gO1xuICAgICAgfVxuICAgICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgIGNvbnN0IG1pc3NpbGVTZWxlY3Rpb24gPSBsb2dpYy5nZXRNaXNzaWxlU2VsZWN0aW9uKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHJvdXRlICYmXG4gICAgICAgIG1pc3NpbGVTZWxlY3Rpb24gJiZcbiAgICAgICAgbWlzc2lsZVNlbGVjdGlvbi50eXBlID09PSBcImxlZ1wiICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSAmJlxuICAgICAgICBtaXNzaWxlU2VsZWN0aW9uLmluZGV4ID49IDAgJiZcbiAgICAgICAgbWlzc2lsZVNlbGVjdGlvbi5pbmRleCA8IHJvdXRlLndheXBvaW50cy5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICByb3V0ZS53YXlwb2ludHMgPSByb3V0ZS53YXlwb2ludHMubWFwKCh3LCBpZHgpID0+XG4gICAgICAgICAgaWR4ID09PSBtaXNzaWxlU2VsZWN0aW9uLmluZGV4ID8geyAuLi53LCBzcGVlZDogY2xhbXBlZFZhbHVlIH0gOiB3XG4gICAgICAgICk7XG4gICAgICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcInVwZGF0ZV9taXNzaWxlX3dheXBvaW50X3NwZWVkXCIsXG4gICAgICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgICAgIGluZGV4OiBtaXNzaWxlU2VsZWN0aW9uLmluZGV4LFxuICAgICAgICAgIHNwZWVkOiBjbGFtcGVkVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6c3BlZWRDaGFuZ2VkXCIsIHsgdmFsdWU6IGNsYW1wZWRWYWx1ZSwgaW5kZXg6IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXggfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjZmcgPSBzYW5pdGl6ZU1pc3NpbGVDb25maWcoXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3BlZWQ6IGNsYW1wZWRWYWx1ZSxcbiAgICAgICAgICAgIGFncm9SYWRpdXM6IHN0YXRlLm1pc3NpbGVDb25maWcuYWdyb1JhZGl1cyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlLm1pc3NpbGVDb25maWcsXG4gICAgICAgICAgc3RhdGUubWlzc2lsZUxpbWl0c1xuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5taXNzaWxlQ29uZmlnID0gY2ZnO1xuICAgICAgICBzZW5kTWlzc2lsZUNvbmZpZyhjZmcpO1xuICAgICAgICBidXMuZW1pdChcIm1pc3NpbGU6c3BlZWRDaGFuZ2VkXCIsIHsgdmFsdWU6IGNsYW1wZWRWYWx1ZSwgaW5kZXg6IC0xIH0pO1xuICAgICAgfVxuICAgICAgbG9naWMucmVjb3JkTWlzc2lsZUxlZ1NwZWVkKGNsYW1wZWRWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlQWdyb1NsaWRlcj8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3Qgc2xpZGVyID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBjb25zdCByYXcgPSBwYXJzZUZsb2F0KHNsaWRlci52YWx1ZSk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShyYXcpKSByZXR1cm47XG4gICAgICBjb25zdCBtaW5BZ3JvID0gc3RhdGUubWlzc2lsZUxpbWl0cy5hZ3JvTWluID8/IE1JU1NJTEVfTUlOX0FHUk87XG4gICAgICBjb25zdCBjbGFtcGVkVmFsdWUgPSBNYXRoLm1heChtaW5BZ3JvLCByYXcpO1xuICAgICAgc2xpZGVyLnZhbHVlID0gY2xhbXBlZFZhbHVlLnRvRml4ZWQoMCk7XG4gICAgICBpZiAobWlzc2lsZUFncm9WYWx1ZSkge1xuICAgICAgICBtaXNzaWxlQWdyb1ZhbHVlLnRleHRDb250ZW50ID0gYCR7Y2xhbXBlZFZhbHVlLnRvRml4ZWQoMCl9YDtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZU1pc3NpbGVDb25maWdGcm9tVUkoeyBhZ3JvUmFkaXVzOiBjbGFtcGVkVmFsdWUgfSk7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6YWdyb0NoYW5nZWRcIiwgeyB2YWx1ZTogY2xhbXBlZFZhbHVlIH0pO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eVNsaWRlcj8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gcGFyc2VGbG9hdCgoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHJhdykpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsYW1wZWRWYWx1ZSA9IE1hdGgubWF4KDgwLCBNYXRoLm1pbigyMDAsIHJhdykpO1xuICAgICAgbWlzc2lsZUhlYXRDYXBhY2l0eVNsaWRlci52YWx1ZSA9IGNsYW1wZWRWYWx1ZS50b0ZpeGVkKDApO1xuICAgICAgaWYgKG1pc3NpbGVIZWF0Q2FwYWNpdHlWYWx1ZSkge1xuICAgICAgICBtaXNzaWxlSGVhdENhcGFjaXR5VmFsdWUudGV4dENvbnRlbnQgPSBgJHtjbGFtcGVkVmFsdWUudG9GaXhlZCgwKX1gO1xuICAgICAgfVxuICAgICAgc3RhdGUuY3JhZnRIZWF0Q2FwYWNpdHkgPSBjbGFtcGVkVmFsdWU7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlQ3JhZnRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAobWlzc2lsZUNyYWZ0QnRuLmRpc2FibGVkKSByZXR1cm47XG5cbiAgICAgIC8vIEZpbmQgdGhlIGNyYWZ0IG5vZGUgZm9yIHRoZSBzZWxlY3RlZCBoZWF0IGNhcGFjaXR5XG4gICAgICBjb25zdCBoZWF0Q2FwID0gc3RhdGUuY3JhZnRIZWF0Q2FwYWNpdHk7XG4gICAgICBsZXQgbm9kZUlkID0gXCJjcmFmdC5taXNzaWxlLmJhc2ljXCI7IC8vIERlZmF1bHRcblxuICAgICAgaWYgKHN0YXRlLmRhZykge1xuICAgICAgICAvLyBGaW5kIHRoZSBiZXN0IG1hdGNoaW5nIGNyYWZ0IG5vZGUgYmFzZWQgb24gaGVhdCBjYXBhY2l0eVxuICAgICAgICBjb25zdCBjcmFmdE5vZGVzID0gc3RhdGUuZGFnLm5vZGVzLmZpbHRlcihuID0+IG4ua2luZCA9PT0gXCJjcmFmdFwiICYmIG4uaWQuaW5jbHVkZXMoXCJtaXNzaWxlXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGNyYWZ0Tm9kZXMpIHtcbiAgICAgICAgICBjb25zdCBub2RlSGVhdENhcCA9IHBhcnNlSW50KG5vZGUuaWQubWF0Y2goLyhcXGQrKS8pPy5bMV0gfHwgXCI4MFwiKTtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMobm9kZUhlYXRDYXAgLSBoZWF0Q2FwKSA8IDUpIHtcbiAgICAgICAgICAgIG5vZGVJZCA9IG5vZGUuaWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHJpZ2h0IG5vZGUgYmFzZWQgb24gaGVhdCBjYXBhY2l0eSByYW5nZXNcbiAgICAgICAgaWYgKGhlYXRDYXAgPj0gMTgwKSB7XG4gICAgICAgICAgbm9kZUlkID0gXCJjcmFmdC5taXNzaWxlLmV4dGVuZGVkXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVhdENhcCA+PSAxNDApIHtcbiAgICAgICAgICBub2RlSWQgPSBcImNyYWZ0Lm1pc3NpbGUuaGlnaF9oZWF0XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVhdENhcCA+PSAxMTApIHtcbiAgICAgICAgICBub2RlSWQgPSBcImNyYWZ0Lm1pc3NpbGUubG9uZ19yYW5nZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGVJZCA9IFwiY3JhZnQubWlzc2lsZS5iYXNpY1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJkYWdfc3RhcnRcIiwgbm9kZV9pZDogbm9kZUlkIH0pO1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOmNyYWZ0UmVxdWVzdGVkXCIsIHsgbm9kZUlkLCBoZWF0Q2FwYWNpdHk6IGhlYXRDYXAgfSk7XG4gICAgfSk7XG5cbiAgICByb3V0ZVByZXZCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBsb2dpYy5jeWNsZU1pc3NpbGVSb3V0ZSgtMSkpO1xuICAgIHJvdXRlTmV4dEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGxvZ2ljLmN5Y2xlTWlzc2lsZVJvdXRlKDEpKTtcblxuICAgIHJvdXRlTWVudVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHJvdXRlTWVudT8uY2xhc3NMaXN0LnRvZ2dsZShcInZpc2libGVcIik7XG4gICAgfSk7XG5cbiAgICByZW5hbWVNaXNzaWxlUm91dGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgaWYgKCFyb3V0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgbmV4dE5hbWUgPSBwcm9tcHQoXCJSZW5hbWUgcm91dGVcIiwgcm91dGUubmFtZSA/PyBcIlwiKSA/PyBcIlwiO1xuICAgICAgY29uc3QgdHJpbW1lZCA9IG5leHROYW1lLnRyaW0oKTtcbiAgICAgIGlmICh0cmltbWVkID09PSByb3V0ZS5uYW1lKSByZXR1cm47XG4gICAgICBzZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwicmVuYW1lX21pc3NpbGVfcm91dGVcIixcbiAgICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgICBuYW1lOiB0cmltbWVkLFxuICAgICAgfSk7XG4gICAgICByb3V0ZS5uYW1lID0gdHJpbW1lZDtcbiAgICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSk7XG5cbiAgICBkZWxldGVNaXNzaWxlUm91dGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgaWYgKCFyb3V0ZSkgcmV0dXJuO1xuICAgICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImRlbGV0ZV9taXNzaWxlX3JvdXRlXCIsIHJvdXRlX2lkOiByb3V0ZS5pZCB9KTtcbiAgICB9KTtcblxuICAgIGNsZWFyTWlzc2lsZVdheXBvaW50c0J0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICBpZiAoIXJvdXRlIHx8ICFBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykgfHwgcm91dGUud2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiY2xlYXJfbWlzc2lsZV93YXlwb2ludHNcIiwgcm91dGVfaWQ6IHJvdXRlLmlkIH0pO1xuICAgICAgcm91dGUud2F5cG9pbnRzID0gW107XG4gICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9KTtcblxuICAgIGhlbHBUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRIZWxwVmlzaWJsZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGhlbHBDbG9zZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldEhlbHBWaXNpYmxlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGJ1cy5vbihcInNoaXA6bGVnU2VsZWN0ZWRcIiwgKCkgPT4ge1xuICAgICAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcInNoaXA6d2F5cG9pbnRBZGRlZFwiLCAoKSA9PiB7XG4gICAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgICB1cGRhdGVQbGFubmVkSGVhdEJhcigpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcInNoaXA6d2F5cG9pbnREZWxldGVkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwic2hpcDp3YXlwb2ludHNDbGVhcmVkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTpzZWxlY3Rpb25DaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCIsICgpID0+IHtcbiAgICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTp3YXlwb2ludERlbGV0ZWRcIiwgKCkgPT4ge1xuICAgICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9KTtcbiAgICBidXMub24oXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcIm1pc3NpbGU6Y3JhZnRSZXF1ZXN0ZWRcIiwgKCkgPT4ge1xuICAgICAgLy8gRGlzYWJsZSBjcmFmdCBidXR0b24gdGVtcG9yYXJpbHkgdG8gcHJldmVudCBkb3VibGUtY2xpY2tzXG4gICAgICBpZiAobWlzc2lsZUNyYWZ0QnRuKSB7XG4gICAgICAgIG1pc3NpbGVDcmFmdEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICAvLyBGb3JjZSBpbW1lZGlhdGUgdGltZXIgdXBkYXRlXG4gICAgICB1cGRhdGVDcmFmdFRpbWVyKCk7XG4gICAgICAvLyBSZS1lbmFibGUgYWZ0ZXIgYSBzaG9ydCBkZWxheSAoc2VydmVyIHdpbGwgdXBkYXRlIHN0YXRlKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChtaXNzaWxlQ3JhZnRCdG4pIHtcbiAgICAgICAgICBtaXNzaWxlQ3JhZnRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb250ZXh0KCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwge1xuICAgIHJldHVybiBjdHg7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTcGVlZExhYmVsKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXNoaXBTcGVlZFZhbHVlKSByZXR1cm47XG4gICAgc2hpcFNwZWVkVmFsdWUudGV4dENvbnRlbnQgPSBgJHt2YWx1ZS50b0ZpeGVkKDApfSB1L3NgO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0U2xpZGVyVmFsdWUoXG4gICAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsLFxuICAgIHN0ZXBzOiBudW1iZXIsXG4gICAgY29hcnNlOiBib29sZWFuXG4gICk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghaW5wdXQpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHN0ZXAgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGlucHV0LnN0ZXApKSB8fCAxO1xuICAgIGNvbnN0IG11bHRpcGxpZXIgPSBjb2Fyc2UgPyA0IDogMTtcbiAgICBjb25zdCBtaW4gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VGbG9hdChpbnB1dC5taW4pKSA/IHBhcnNlRmxvYXQoaW5wdXQubWluKSA6IC1JbmZpbml0eTtcbiAgICBjb25zdCBtYXggPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VGbG9hdChpbnB1dC5tYXgpKSA/IHBhcnNlRmxvYXQoaW5wdXQubWF4KSA6IEluZmluaXR5O1xuICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSB8fCAwO1xuICAgIGxldCBuZXh0ID0gY3VycmVudCArIHN0ZXBzICogc3RlcCAqIG11bHRpcGxpZXI7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShtaW4pKSBuZXh0ID0gTWF0aC5tYXgobWluLCBuZXh0KTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG1heCkpIG5leHQgPSBNYXRoLm1pbihtYXgsIG5leHQpO1xuICAgIGlmIChNYXRoLmFicyhuZXh0IC0gY3VycmVudCkgPCAxZS00KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5wdXQudmFsdWUgPSBTdHJpbmcobmV4dCk7XG4gICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0U2hpcFNwZWVkKHN0ZXBzOiBudW1iZXIsIGNvYXJzZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGFkanVzdFNsaWRlclZhbHVlKHNoaXBTcGVlZFNsaWRlciwgc3RlcHMsIGNvYXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RNaXNzaWxlQWdybyhzdGVwczogbnVtYmVyLCBjb2Fyc2U6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBhZGp1c3RTbGlkZXJWYWx1ZShtaXNzaWxlQWdyb1NsaWRlciwgc3RlcHMsIGNvYXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RNaXNzaWxlU3BlZWQoc3RlcHM6IG51bWJlciwgY29hcnNlOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKG1pc3NpbGVTcGVlZFNsaWRlciAmJiAhbWlzc2lsZVNwZWVkU2xpZGVyLmRpc2FibGVkKSB7XG4gICAgICBhZGp1c3RTbGlkZXJWYWx1ZShtaXNzaWxlU3BlZWRTbGlkZXIsIHN0ZXBzLCBjb2Fyc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNoaXBTbGlkZXJWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFzaGlwU3BlZWRTbGlkZXIpIHJldHVybjtcbiAgICBzaGlwU3BlZWRTbGlkZXIudmFsdWUgPSB2YWx1ZS50b0ZpeGVkKDApO1xuICAgIHVwZGF0ZVNwZWVkTGFiZWwodmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTogdm9pZCB7XG4gICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICBjb25zdCBhY3RpdmVSb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmIChtaXNzaWxlUm91dGVOYW1lTGFiZWwpIHtcbiAgICAgIGlmICghYWN0aXZlUm91dGUpIHtcbiAgICAgICAgbWlzc2lsZVJvdXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gcm91dGVzLmxlbmd0aCA9PT0gMCA/IFwiTm8gcm91dGVcIiA6IFwiUm91dGVcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3NpbGVSb3V0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IGFjdGl2ZVJvdXRlLm5hbWUgfHwgXCJSb3V0ZVwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtaXNzaWxlUm91dGVDb3VudExhYmVsKSB7XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIGFjdGl2ZVJvdXRlICYmIEFycmF5LmlzQXJyYXkoYWN0aXZlUm91dGUud2F5cG9pbnRzKSA/IGFjdGl2ZVJvdXRlLndheXBvaW50cy5sZW5ndGggOiAwO1xuICAgICAgbWlzc2lsZVJvdXRlQ291bnRMYWJlbC50ZXh0Q29udGVudCA9IGAke2NvdW50fSBwdHNgO1xuICAgIH1cblxuICAgIGlmIChkZWxldGVNaXNzaWxlUm91dGVCdG4pIHtcbiAgICAgIGRlbGV0ZU1pc3NpbGVSb3V0ZUJ0bi5kaXNhYmxlZCA9IHJvdXRlcy5sZW5ndGggPD0gMTtcbiAgICB9XG4gICAgaWYgKHJlbmFtZU1pc3NpbGVSb3V0ZUJ0bikge1xuICAgICAgcmVuYW1lTWlzc2lsZVJvdXRlQnRuLmRpc2FibGVkID0gIWFjdGl2ZVJvdXRlO1xuICAgIH1cbiAgICBpZiAoY2xlYXJNaXNzaWxlV2F5cG9pbnRzQnRuKSB7XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIGFjdGl2ZVJvdXRlICYmIEFycmF5LmlzQXJyYXkoYWN0aXZlUm91dGUud2F5cG9pbnRzKSA/IGFjdGl2ZVJvdXRlLndheXBvaW50cy5sZW5ndGggOiAwO1xuICAgICAgY2xlYXJNaXNzaWxlV2F5cG9pbnRzQnRuLmRpc2FibGVkID0gIWFjdGl2ZVJvdXRlIHx8IGNvdW50ID09PSAwO1xuICAgIH1cbiAgICBpZiAocm91dGVQcmV2QnRuKSB7XG4gICAgICByb3V0ZVByZXZCdG4uZGlzYWJsZWQgPSByb3V0ZXMubGVuZ3RoIDw9IDE7XG4gICAgfVxuICAgIGlmIChyb3V0ZU5leHRCdG4pIHtcbiAgICAgIHJvdXRlTmV4dEJ0bi5kaXNhYmxlZCA9IHJvdXRlcy5sZW5ndGggPD0gMTtcbiAgICB9XG5cbiAgICB1cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTtcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jTWlzc2lsZVVJRnJvbVN0YXRlKCk6IHZvaWQge1xuICAgIGxvZ2ljLmVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGNvbnN0IGFjdGl2ZVJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgY29uc3QgbWlzc2lsZVNlbCA9IGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKTtcbiAgICBjb25zdCByb3V0ZUhhc1NlbGVjdGlvbiA9XG4gICAgICAhIWFjdGl2ZVJvdXRlICYmXG4gICAgICBBcnJheS5pc0FycmF5KGFjdGl2ZVJvdXRlLndheXBvaW50cykgJiZcbiAgICAgICEhbWlzc2lsZVNlbCAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA+PSAwICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4IDwgYWN0aXZlUm91dGUud2F5cG9pbnRzLmxlbmd0aDtcbiAgICBpZiAoIXJvdXRlSGFzU2VsZWN0aW9uKSB7XG4gICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBjZmcgPSBzdGF0ZS5taXNzaWxlQ29uZmlnO1xuICAgIGFwcGx5TWlzc2lsZVVJKGNmZyk7XG4gICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseU1pc3NpbGVVSShjZmc6IHsgc3BlZWQ6IG51bWJlcjsgYWdyb1JhZGl1czogbnVtYmVyIH0pOiB2b2lkIHtcbiAgICBpZiAobWlzc2lsZUFncm9TbGlkZXIpIHtcbiAgICAgIGNvbnN0IG1pbkFncm8gPSBzdGF0ZS5taXNzaWxlTGltaXRzLmFncm9NaW4gPz8gTUlTU0lMRV9NSU5fQUdSTztcbiAgICAgIGNvbnN0IG1heEFncm8gPSBNYXRoLm1heCg1MDAwLCBNYXRoLmNlaWwoKGNmZy5hZ3JvUmFkaXVzICsgNTAwKSAvIDUwMCkgKiA1MDApO1xuICAgICAgbWlzc2lsZUFncm9TbGlkZXIubWluID0gU3RyaW5nKG1pbkFncm8pO1xuICAgICAgbWlzc2lsZUFncm9TbGlkZXIubWF4ID0gU3RyaW5nKG1heEFncm8pO1xuICAgICAgbWlzc2lsZUFncm9TbGlkZXIudmFsdWUgPSBjZmcuYWdyb1JhZGl1cy50b0ZpeGVkKDApO1xuICAgIH1cbiAgICBpZiAobWlzc2lsZUFncm9WYWx1ZSkge1xuICAgICAgbWlzc2lsZUFncm9WYWx1ZS50ZXh0Q29udGVudCA9IGNmZy5hZ3JvUmFkaXVzLnRvRml4ZWQoMCk7XG4gICAgfVxuICAgIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk7XG4gICAgdXBkYXRlU3BlZWRNYXJrZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1pc3NpbGVDb25maWdGcm9tVUkoXG4gICAgb3ZlcnJpZGVzOiBQYXJ0aWFsPHsgYWdyb1JhZGl1czogbnVtYmVyIH0+ID0ge31cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgY3VycmVudCA9IHN0YXRlLm1pc3NpbGVDb25maWc7XG4gICAgY29uc3QgY2ZnID0gc2FuaXRpemVNaXNzaWxlQ29uZmlnKFxuICAgICAge1xuICAgICAgICBzcGVlZDogY3VycmVudC5zcGVlZCxcbiAgICAgICAgYWdyb1JhZGl1czogb3ZlcnJpZGVzLmFncm9SYWRpdXMgPz8gY3VycmVudC5hZ3JvUmFkaXVzLFxuICAgICAgfSxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBzdGF0ZS5taXNzaWxlTGltaXRzXG4gICAgKTtcbiAgICBzdGF0ZS5taXNzaWxlQ29uZmlnID0gY2ZnO1xuICAgIGFwcGx5TWlzc2lsZVVJKGNmZyk7XG4gICAgY29uc3QgbGFzdCA9IGxhc3RNaXNzaWxlQ29uZmlnU2VudDtcbiAgICBjb25zdCBuZWVkc1NlbmQgPVxuICAgICAgIWxhc3QgfHwgTWF0aC5hYnMoKGxhc3QuYWdyb1JhZGl1cyA/PyAwKSAtIGNmZy5hZ3JvUmFkaXVzKSA+IDU7XG4gICAgaWYgKG5lZWRzU2VuZCkge1xuICAgICAgc2VuZE1pc3NpbGVDb25maWcoY2ZnKTtcbiAgICB9XG4gICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbmRNaXNzaWxlQ29uZmlnKGNmZzogeyBzcGVlZDogbnVtYmVyOyBhZ3JvUmFkaXVzOiBudW1iZXIgfSk6IHZvaWQge1xuICAgIGxhc3RNaXNzaWxlQ29uZmlnU2VudCA9IHtcbiAgICAgIHNwZWVkOiBjZmcuc3BlZWQsXG4gICAgICBhZ3JvUmFkaXVzOiBjZmcuYWdyb1JhZGl1cyxcbiAgICB9O1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiY29uZmlndXJlX21pc3NpbGVcIixcbiAgICAgIG1pc3NpbGVfc3BlZWQ6IGNmZy5zcGVlZCxcbiAgICAgIG1pc3NpbGVfYWdybzogY2ZnLmFncm9SYWRpdXMsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk6IHZvaWQge1xuICAgIGlmICghc2hpcFJvdXRlc0NvbnRhaW5lciB8fCAhc2hpcFJvdXRlTGVnIHx8ICFzaGlwUm91dGVTcGVlZCB8fCAhc2hpcERlbGV0ZUJ0bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3cHMgPSBzdGF0ZS5tZSAmJiBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cykgPyBzdGF0ZS5tZS53YXlwb2ludHMgOiBbXTtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBsb2dpYy5nZXRTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBoYXNWYWxpZFNlbGVjdGlvbiA9XG4gICAgICBzZWxlY3Rpb24gIT09IG51bGwgJiYgc2VsZWN0aW9uLmluZGV4ID49IDAgJiYgc2VsZWN0aW9uLmluZGV4IDwgd3BzLmxlbmd0aDtcbiAgICBjb25zdCBpc1NoaXBDb250ZXh0ID0gdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwic2hpcFwiO1xuXG4gICAgc2hpcFJvdXRlc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgc2hpcFJvdXRlc0NvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gaXNTaGlwQ29udGV4dCA/IFwiMVwiIDogXCIwLjZcIjtcblxuICAgIGlmICghc3RhdGUubWUgfHwgIWhhc1ZhbGlkU2VsZWN0aW9uIHx8ICFzZWxlY3Rpb24pIHtcbiAgICAgIHNoaXBSb3V0ZUxlZy50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBzaGlwUm91dGVTcGVlZC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBzaGlwRGVsZXRlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGlmIChpc1NoaXBDb250ZXh0KSB7XG4gICAgICAgIHNldFNoaXBTbGlkZXJWYWx1ZShsb2dpYy5nZXREZWZhdWx0U2hpcFNwZWVkKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdwID0gd3BzW3NlbGVjdGlvbi5pbmRleF07XG4gICAgY29uc3Qgc3BlZWQgPVxuICAgICAgd3AgJiYgdHlwZW9mIHdwLnNwZWVkID09PSBcIm51bWJlclwiID8gd3Auc3BlZWQgOiBsb2dpYy5nZXREZWZhdWx0U2hpcFNwZWVkKCk7XG4gICAgaWYgKFxuICAgICAgaXNTaGlwQ29udGV4dCAmJlxuICAgICAgc2hpcFNwZWVkU2xpZGVyICYmXG4gICAgICBNYXRoLmFicyhwYXJzZUZsb2F0KHNoaXBTcGVlZFNsaWRlci52YWx1ZSkgLSBzcGVlZCkgPiAwLjI1XG4gICAgKSB7XG4gICAgICBzZXRTaGlwU2xpZGVyVmFsdWUoc3BlZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVTcGVlZExhYmVsKHNwZWVkKTtcbiAgICB9XG4gICAgY29uc3QgZGlzcGxheUluZGV4ID0gc2VsZWN0aW9uLmluZGV4ICsgMTtcbiAgICBzaGlwUm91dGVMZWcudGV4dENvbnRlbnQgPSBgJHtkaXNwbGF5SW5kZXh9YDtcbiAgICBzaGlwUm91dGVTcGVlZC50ZXh0Q29udGVudCA9IGAke3NwZWVkLnRvRml4ZWQoMCl9IHUvc2A7XG4gICAgc2hpcERlbGV0ZUJ0bi5kaXNhYmxlZCA9ICFpc1NoaXBDb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGNvbnN0IGNvdW50ID0gcm91dGUgJiYgQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpID8gcm91dGUud2F5cG9pbnRzLmxlbmd0aCA6IDA7XG4gICAgY29uc3QgbWlzc2lsZVNlbCA9IGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBpc1dheXBvaW50U2VsZWN0aW9uID1cbiAgICAgIG1pc3NpbGVTZWwgIT09IG51bGwgJiZcbiAgICAgIG1pc3NpbGVTZWwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgbWlzc2lsZVNlbC50eXBlID09PSBcIndheXBvaW50XCIgJiZcbiAgICAgIG1pc3NpbGVTZWwuaW5kZXggPj0gMCAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA8IGNvdW50O1xuICAgIGlmIChtaXNzaWxlRGVsZXRlQnRuKSB7XG4gICAgICBtaXNzaWxlRGVsZXRlQnRuLmRpc2FibGVkID0gIWlzV2F5cG9pbnRTZWxlY3Rpb247XG4gICAgfVxuICAgIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlU3BlZWRDb250cm9scygpOiB2b2lkIHtcbiAgICBpZiAoIW1pc3NpbGVTcGVlZFNsaWRlciB8fCAhbWlzc2lsZVNwZWVkVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5TcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNaW4gPz8gTUlTU0lMRV9NSU5fU1BFRUQ7XG4gICAgY29uc3QgbWF4U3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWF4ID8/IE1JU1NJTEVfTUFYX1NQRUVEO1xuICAgIG1pc3NpbGVTcGVlZFNsaWRlci5taW4gPSBTdHJpbmcobWluU3BlZWQpO1xuICAgIG1pc3NpbGVTcGVlZFNsaWRlci5tYXggPSBTdHJpbmcobWF4U3BlZWQpO1xuXG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBjb25zdCBtaXNzaWxlU2VsID0gbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpO1xuICAgIGNvbnN0IHdheXBvaW50cyA9IHJvdXRlICYmIEFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSA/IHJvdXRlLndheXBvaW50cyA6IG51bGw7XG4gICAgbGV0IHNlbGVjdGVkU3BlZWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIGxldCBzZWxlY3RlZFR5cGU6IFwibGVnXCIgfCBcIndheXBvaW50XCIgfCBudWxsID0gbnVsbDtcblxuICAgIGlmIChcbiAgICAgIHdheXBvaW50cyAmJlxuICAgICAgbWlzc2lsZVNlbCAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA+PSAwICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4IDwgd2F5cG9pbnRzLmxlbmd0aFxuICAgICkge1xuICAgICAgY29uc3Qgd3AgPSB3YXlwb2ludHNbbWlzc2lsZVNlbC5pbmRleF07XG4gICAgICBjb25zdCB2YWx1ZSA9XG4gICAgICAgIHR5cGVvZiB3cC5zcGVlZCA9PT0gXCJudW1iZXJcIiAmJiB3cC5zcGVlZCA+IDBcbiAgICAgICAgICA/IHdwLnNwZWVkXG4gICAgICAgICAgOiBsb2dpYy5nZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkKCk7XG4gICAgICBzZWxlY3RlZFNwZWVkID0gY2xhbXAodmFsdWUsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gICAgICBzZWxlY3RlZFR5cGUgPSBtaXNzaWxlU2VsLnR5cGU7XG4gICAgfVxuXG4gICAgY29uc3Qgc2xpZGVyRGlzYWJsZWQgPSBzZWxlY3RlZFR5cGUgPT09IFwid2F5cG9pbnRcIjtcbiAgICBsZXQgc2xpZGVyVmFsdWU6IG51bWJlcjtcbiAgICBpZiAoc2VsZWN0ZWRTcGVlZCAhPT0gbnVsbCkge1xuICAgICAgc2xpZGVyVmFsdWUgPSBzZWxlY3RlZFNwZWVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYXdWYWx1ZSA9IHBhcnNlRmxvYXQobWlzc2lsZVNwZWVkU2xpZGVyLnZhbHVlKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrID0gbG9naWMuZ2V0RGVmYXVsdE1pc3NpbGVMZWdTcGVlZCgpO1xuICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBOdW1iZXIuaXNGaW5pdGUocmF3VmFsdWUpID8gcmF3VmFsdWUgOiBmYWxsYmFjaztcbiAgICAgIHNsaWRlclZhbHVlID0gY2xhbXAodGFyZ2V0VmFsdWUsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gICAgfVxuXG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyLmRpc2FibGVkID0gc2xpZGVyRGlzYWJsZWQ7XG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyLnZhbHVlID0gc2xpZGVyVmFsdWUudG9GaXhlZCgwKTtcbiAgICBtaXNzaWxlU3BlZWRWYWx1ZS50ZXh0Q29udGVudCA9IGAke3NsaWRlclZhbHVlLnRvRml4ZWQoMCl9YDtcblxuICAgIGlmICghc2xpZGVyRGlzYWJsZWQpIHtcbiAgICAgIGxvZ2ljLnJlY29yZE1pc3NpbGVMZWdTcGVlZChzbGlkZXJWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5wdXRDb250ZXh0KGNvbnRleHQ6IFwic2hpcFwiIHwgXCJtaXNzaWxlXCIpOiB2b2lkIHtcbiAgICBjb25zdCBuZXh0ID0gY29udGV4dCA9PT0gXCJtaXNzaWxlXCIgPyBcIm1pc3NpbGVcIiA6IFwic2hpcFwiO1xuICAgIGlmICh1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gbmV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1aVN0YXRlLmlucHV0Q29udGV4dCA9IG5leHQ7XG5cbiAgICBpZiAobmV4dCA9PT0gXCJzaGlwXCIpIHtcbiAgICAgIGNvbnN0IHNoaXBUb29sVG9Vc2UgPSB1aVN0YXRlLnNoaXBUb29sID09PSBcInNlbGVjdFwiID8gXCJzaGlwLXNlbGVjdFwiIDogXCJzaGlwLXNldFwiO1xuICAgICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCAhPT0gc2hpcFRvb2xUb1VzZSkge1xuICAgICAgICB1aVN0YXRlLmFjdGl2ZVRvb2wgPSBzaGlwVG9vbFRvVXNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtaXNzaWxlVG9vbFRvVXNlID1cbiAgICAgICAgdWlTdGF0ZS5taXNzaWxlVG9vbCA9PT0gXCJzZWxlY3RcIiA/IFwibWlzc2lsZS1zZWxlY3RcIiA6IFwibWlzc2lsZS1zZXRcIjtcbiAgICAgIGlmICh1aVN0YXRlLmFjdGl2ZVRvb2wgIT09IG1pc3NpbGVUb29sVG9Vc2UpIHtcbiAgICAgICAgdWlTdGF0ZS5hY3RpdmVUb29sID0gbWlzc2lsZVRvb2xUb1VzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBidXMuZW1pdChcImNvbnRleHQ6Y2hhbmdlZFwiLCB7IGNvbnRleHQ6IG5leHQgfSk7XG4gICAgdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMoKTtcbiAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWN0aXZlVG9vbCh0b29sOiBBY3RpdmVUb29sKTogdm9pZCB7XG4gICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gdG9vbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVpU3RhdGUuYWN0aXZlVG9vbCA9IHRvb2w7XG5cbiAgICBpZiAodG9vbCA9PT0gXCJzaGlwLXNldFwiKSB7XG4gICAgICB1aVN0YXRlLnNoaXBUb29sID0gXCJzZXRcIjtcbiAgICAgIHVpU3RhdGUubWlzc2lsZVRvb2wgPSBudWxsO1xuICAgICAgc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgIGJ1cy5lbWl0KFwic2hpcDp0b29sQ2hhbmdlZFwiLCB7IHRvb2w6IFwic2V0XCIgfSk7XG4gICAgfSBlbHNlIGlmICh0b29sID09PSBcInNoaXAtc2VsZWN0XCIpIHtcbiAgICAgIHVpU3RhdGUuc2hpcFRvb2wgPSBcInNlbGVjdFwiO1xuICAgICAgdWlTdGF0ZS5taXNzaWxlVG9vbCA9IG51bGw7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgYnVzLmVtaXQoXCJzaGlwOnRvb2xDaGFuZ2VkXCIsIHsgdG9vbDogXCJzZWxlY3RcIiB9KTtcbiAgICB9IGVsc2UgaWYgKHRvb2wgPT09IFwibWlzc2lsZS1zZXRcIikge1xuICAgICAgdWlTdGF0ZS5zaGlwVG9vbCA9IG51bGw7XG4gICAgICB1aVN0YXRlLm1pc3NpbGVUb29sID0gXCJzZXRcIjtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBsb2dpYy5zZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOnRvb2xDaGFuZ2VkXCIsIHsgdG9vbDogXCJzZXRcIiB9KTtcbiAgICB9IGVsc2UgaWYgKHRvb2wgPT09IFwibWlzc2lsZS1zZWxlY3RcIikge1xuICAgICAgdWlTdGF0ZS5zaGlwVG9vbCA9IG51bGw7XG4gICAgICB1aVN0YXRlLm1pc3NpbGVUb29sID0gXCJzZWxlY3RcIjtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6dG9vbENoYW5nZWRcIiwgeyB0b29sOiBcInNlbGVjdFwiIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRCdXR0b25TdGF0ZShidG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCwgYWN0aXZlOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKCFidG4pIHJldHVybjtcbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICBidG4uZGF0YXNldC5zdGF0ZSA9IFwiYWN0aXZlXCI7XG4gICAgICBidG4uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwidHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIGJ0bi5kYXRhc2V0LnN0YXRlO1xuICAgICAgYnRuLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCBcImZhbHNlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzKCk6IHZvaWQge1xuICAgIHNldEJ1dHRvblN0YXRlKHNoaXBTZXRCdG4sIHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJzaGlwLXNldFwiKTtcbiAgICBzZXRCdXR0b25TdGF0ZShzaGlwU2VsZWN0QnRuLCB1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwic2hpcC1zZWxlY3RcIik7XG4gICAgc2V0QnV0dG9uU3RhdGUobWlzc2lsZVNldEJ0biwgdWlTdGF0ZS5hY3RpdmVUb29sID09PSBcIm1pc3NpbGUtc2V0XCIpO1xuICAgIHNldEJ1dHRvblN0YXRlKG1pc3NpbGVTZWxlY3RCdG4sIHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJtaXNzaWxlLXNlbGVjdFwiKTtcblxuICAgIGlmIChzaGlwQ29udHJvbHNDYXJkKSB7XG4gICAgICBzaGlwQ29udHJvbHNDYXJkLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIiwgdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwic2hpcFwiKTtcbiAgICB9XG4gICAgaWYgKG1pc3NpbGVDb250cm9sc0NhcmQpIHtcbiAgICAgIG1pc3NpbGVDb250cm9sc0NhcmQuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiLCB1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJtaXNzaWxlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEhlbHBWaXNpYmxlKGZsYWc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB1aVN0YXRlLmhlbHBWaXNpYmxlID0gZmxhZztcbiAgICB1cGRhdGVIZWxwT3ZlcmxheSgpO1xuICAgIGJ1cy5lbWl0KFwiaGVscDp2aXNpYmxlQ2hhbmdlZFwiLCB7IHZpc2libGU6IHVpU3RhdGUuaGVscFZpc2libGUgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVIZWxwT3ZlcmxheSgpOiB2b2lkIHtcbiAgICBpZiAoIWhlbHBPdmVybGF5IHx8ICFoZWxwVGV4dCkgcmV0dXJuO1xuICAgIGhlbHBPdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoXCJ2aXNpYmxlXCIsIHVpU3RhdGUuaGVscFZpc2libGUpO1xuICAgIGhlbHBUZXh0LnRleHRDb250ZW50ID0gSEVMUF9URVhUO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlKCk6IHZvaWQge1xuICAgIGlmICghbWlzc2lsZUxhdW5jaEJ0biB8fCAhbWlzc2lsZUxhdW5jaFRleHQgfHwgIW1pc3NpbGVMYXVuY2hJbmZvKSByZXR1cm47XG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBjb25zdCBjb3VudCA9IHJvdXRlICYmIEFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSA/IHJvdXRlLndheXBvaW50cy5sZW5ndGggOiAwO1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IGxvZ2ljLmdldE1pc3NpbGVDb29sZG93blJlbWFpbmluZygpO1xuICAgIGNvbnN0IGNvb2xpbmdEb3duID0gcmVtYWluaW5nID4gMC4wNTtcbiAgICBjb25zdCBzaG91bGREaXNhYmxlID0gIXJvdXRlIHx8IGNvdW50ID09PSAwIHx8IGNvb2xpbmdEb3duO1xuICAgIG1pc3NpbGVMYXVuY2hCdG4uZGlzYWJsZWQgPSBzaG91bGREaXNhYmxlO1xuXG4gICAgY29uc3QgbGF1bmNoVGV4dEhUTUwgPVxuICAgICAgJzxzcGFuIGNsYXNzPVwiYnRuLXRleHQtZnVsbFwiPkxhdW5jaDwvc3Bhbj48c3BhbiBjbGFzcz1cImJ0bi10ZXh0LXNob3J0XCI+RmlyZTwvc3Bhbj4nO1xuICAgIGxldCBsYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG5cbiAgICBpZiAoIXJvdXRlKSB7XG4gICAgICBsYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG4gICAgfSBlbHNlIGlmIChjb29saW5nRG93bikge1xuICAgICAgbGF1bmNoSW5mb0hUTUwgPSBgJHtyZW1haW5pbmcudG9GaXhlZCgxKX1zYDtcbiAgICB9IGVsc2UgaWYgKHJvdXRlLm5hbWUpIHtcbiAgICAgIGNvbnN0IHJvdXRlcyA9IEFycmF5LmlzQXJyYXkoc3RhdGUubWlzc2lsZVJvdXRlcykgPyBzdGF0ZS5taXNzaWxlUm91dGVzIDogW107XG4gICAgICBjb25zdCByb3V0ZUluZGV4ID0gcm91dGVzLmZpbmRJbmRleCgocikgPT4gci5pZCA9PT0gcm91dGUuaWQpICsgMTtcbiAgICAgIGxhdW5jaEluZm9IVE1MID0gYDxzcGFuIGNsYXNzPVwiYnRuLXRleHQtZnVsbFwiPiR7cm91dGUubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9XCJidG4tdGV4dC1zaG9ydFwiPiR7cm91dGVJbmRleH08L3NwYW4+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGF1bmNoSW5mb0hUTUwgPSBcIlwiO1xuICAgIH1cblxuICAgIGlmIChsYXN0TWlzc2lsZUxhdW5jaFRleHRIVE1MICE9PSBsYXVuY2hUZXh0SFRNTCkge1xuICAgICAgbWlzc2lsZUxhdW5jaFRleHQuaW5uZXJIVE1MID0gbGF1bmNoVGV4dEhUTUw7XG4gICAgICBsYXN0TWlzc2lsZUxhdW5jaFRleHRIVE1MID0gbGF1bmNoVGV4dEhUTUw7XG4gICAgfVxuXG4gICAgaWYgKGxhc3RNaXNzaWxlTGF1bmNoSW5mb0hUTUwgIT09IGxhdW5jaEluZm9IVE1MKSB7XG4gICAgICBtaXNzaWxlTGF1bmNoSW5mby5pbm5lckhUTUwgPSBsYXVuY2hJbmZvSFRNTDtcbiAgICAgIGxhc3RNaXNzaWxlTGF1bmNoSW5mb0hUTUwgPSBsYXVuY2hJbmZvSFRNTDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlQ291bnREaXNwbGF5KCk6IHZvaWQge1xuICAgIGlmICghbWlzc2lsZUNvdW50U3BhbikgcmV0dXJuO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBpZiAoc3RhdGUuaW52ZW50b3J5ICYmIHN0YXRlLmludmVudG9yeS5pdGVtcykge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHN0YXRlLmludmVudG9yeS5pdGVtcykge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSBcIm1pc3NpbGVcIikge1xuICAgICAgICAgIGNvdW50ICs9IGl0ZW0ucXVhbnRpdHk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBtaXNzaWxlQ291bnRTcGFuLnRleHRDb250ZW50ID0gY291bnQudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNyYWZ0VGltZXIoKTogdm9pZCB7XG4gICAgaWYgKCFtaXNzaWxlQ3JhZnRUaW1lckRpdiB8fCAhY3JhZnRUaW1lUmVtYWluaW5nU3BhbikgcmV0dXJuO1xuXG4gICAgLy8gTG9vayBmb3IgYW55IGNyYWZ0IG5vZGUgdGhhdCdzIGluIHByb2dyZXNzXG4gICAgbGV0IGNyYWZ0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCByZW1haW5pbmdUaW1lID0gMDtcblxuICAgIGlmIChzdGF0ZS5kYWcgJiYgc3RhdGUuZGFnLm5vZGVzKSB7XG4gICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygc3RhdGUuZGFnLm5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmtpbmQgPT09IFwiY3JhZnRcIiAmJiBub2RlLnN0YXR1cyA9PT0gXCJpbl9wcm9ncmVzc1wiKSB7XG4gICAgICAgICAgY3JhZnRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICByZW1haW5pbmdUaW1lID0gbm9kZS5yZW1haW5pbmdfcztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjcmFmdEluUHJvZ3Jlc3MgJiYgcmVtYWluaW5nVGltZSA+IDApIHtcbiAgICAgIG1pc3NpbGVDcmFmdFRpbWVyRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBjcmFmdFRpbWVSZW1haW5pbmdTcGFuLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKHJlbWFpbmluZ1RpbWUpLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NpbGVDcmFmdFRpbWVyRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTdGF0dXNJbmRpY2F0b3JzKCk6IHZvaWQge1xuICAgIGNvbnN0IG1ldGEgPSBzdGF0ZS53b3JsZE1ldGEgPz8ge307XG4gICAgY2FtZXJhLnVwZGF0ZVdvcmxkRnJvbU1ldGEobWV0YSk7XG5cbiAgICBpZiAoSFBzcGFuKSB7XG4gICAgICBpZiAoc3RhdGUubWUgJiYgTnVtYmVyLmlzRmluaXRlKHN0YXRlLm1lLmhwKSkge1xuICAgICAgICBIUHNwYW4udGV4dENvbnRlbnQgPSBOdW1iZXIoc3RhdGUubWUuaHApLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBIUHNwYW4udGV4dENvbnRlbnQgPSBcIlx1MjAxM1wiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2lsbHNTcGFuKSB7XG4gICAgICBpZiAoc3RhdGUubWUgJiYgTnVtYmVyLmlzRmluaXRlKHN0YXRlLm1lLmtpbGxzKSkge1xuICAgICAgICBraWxsc1NwYW4udGV4dENvbnRlbnQgPSBOdW1iZXIoc3RhdGUubWUua2lsbHMpLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBraWxsc1NwYW4udGV4dENvbnRlbnQgPSBcIjBcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIZWF0QmFyKCk7XG4gICAgdXBkYXRlUGxhbm5lZEhlYXRCYXIoKTtcbiAgICB1cGRhdGVTcGVlZE1hcmtlcigpO1xuICAgIHVwZGF0ZVN0YWxsT3ZlcmxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSGVhdEJhcigpOiB2b2lkIHtcbiAgICBjb25zdCBoZWF0ID0gc3RhdGUubWU/LmhlYXQ7XG4gICAgaWYgKCFoZWF0IHx8ICFoZWF0QmFyRmlsbCB8fCAhaGVhdFZhbHVlVGV4dCkge1xuICAgICAgaGVhdFdhcm5BY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwZXJjZW50ID0gKGhlYXQudmFsdWUgLyBoZWF0Lm1heCkgKiAxMDA7XG4gICAgaGVhdEJhckZpbGwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuXG4gICAgaGVhdFZhbHVlVGV4dC50ZXh0Q29udGVudCA9IGBIZWF0ICR7TWF0aC5yb3VuZChoZWF0LnZhbHVlKX1gO1xuXG4gICAgaGVhdEJhckZpbGwuY2xhc3NMaXN0LnJlbW92ZShcIndhcm5cIiwgXCJvdmVyaGVhdFwiKTtcbiAgICBpZiAoaGVhdC52YWx1ZSA+PSBoZWF0Lm92ZXJoZWF0QXQpIHtcbiAgICAgIGhlYXRCYXJGaWxsLmNsYXNzTGlzdC5hZGQoXCJvdmVyaGVhdFwiKTtcbiAgICB9IGVsc2UgaWYgKGhlYXQudmFsdWUgPj0gaGVhdC53YXJuQXQpIHtcbiAgICAgIGhlYXRCYXJGaWxsLmNsYXNzTGlzdC5hZGQoXCJ3YXJuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IG5vd1dhcm4gPSBoZWF0LnZhbHVlID49IGhlYXQud2FybkF0O1xuICAgIGlmIChub3dXYXJuICYmICFoZWF0V2FybkFjdGl2ZSkge1xuICAgICAgaGVhdFdhcm5BY3RpdmUgPSB0cnVlO1xuICAgICAgYnVzLmVtaXQoXCJoZWF0Ondhcm5FbnRlcmVkXCIsIHsgdmFsdWU6IGhlYXQudmFsdWUsIHdhcm5BdDogaGVhdC53YXJuQXQgfSk7XG4gICAgfSBlbHNlIGlmICghbm93V2FybiAmJiBoZWF0V2FybkFjdGl2ZSkge1xuICAgICAgY29uc3QgY29vbFRocmVzaG9sZCA9IE1hdGgubWF4KDAsIGhlYXQud2FybkF0IC0gNSk7XG4gICAgICBpZiAoaGVhdC52YWx1ZSA8PSBjb29sVGhyZXNob2xkKSB7XG4gICAgICAgIGhlYXRXYXJuQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGJ1cy5lbWl0KFwiaGVhdDpjb29sZWRCZWxvd1dhcm5cIiwgeyB2YWx1ZTogaGVhdC52YWx1ZSwgd2FybkF0OiBoZWF0Lndhcm5BdCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9qZWN0UGxhbm5lZEhlYXQoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3Qgc2hpcCA9IHN0YXRlLm1lO1xuICAgIGlmICghc2hpcCB8fCAhQXJyYXkuaXNBcnJheShzaGlwLndheXBvaW50cykgfHwgc2hpcC53YXlwb2ludHMubGVuZ3RoID09PSAwIHx8ICFzaGlwLmhlYXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRJbmRleFJhdyA9IHNoaXAuY3VycmVudFdheXBvaW50SW5kZXg7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID1cbiAgICAgIHR5cGVvZiBjdXJyZW50SW5kZXhSYXcgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGN1cnJlbnRJbmRleFJhdykgPyBjdXJyZW50SW5kZXhSYXcgOiAwO1xuICAgIGNvbnN0IGNsYW1wZWRJbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGN1cnJlbnRJbmRleCwgc2hpcC53YXlwb2ludHMubGVuZ3RoKSk7XG4gICAgY29uc3QgcmVtYWluaW5nV2F5cG9pbnRzID1cbiAgICAgIGNsYW1wZWRJbmRleCA+IDAgPyBzaGlwLndheXBvaW50cy5zbGljZShjbGFtcGVkSW5kZXgpIDogc2hpcC53YXlwb2ludHMuc2xpY2UoKTtcblxuICAgIGlmIChyZW1haW5pbmdXYXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCByb3V0ZSA9IFt7IHg6IHNoaXAueCwgeTogc2hpcC55LCBzcGVlZDogdW5kZWZpbmVkIH0sIC4uLnJlbWFpbmluZ1dheXBvaW50c107XG5cbiAgICBjb25zdCBoZWF0UGFyYW1zID0ge1xuICAgICAgbWFya2VyU3BlZWQ6IHNoaXAuaGVhdC5tYXJrZXJTcGVlZCxcbiAgICAgIGtVcDogc2hpcC5oZWF0LmtVcCxcbiAgICAgIGtEb3duOiBzaGlwLmhlYXQua0Rvd24sXG4gICAgICBleHA6IHNoaXAuaGVhdC5leHAsXG4gICAgICBtYXg6IHNoaXAuaGVhdC5tYXgsXG4gICAgICBvdmVyaGVhdEF0OiBzaGlwLmhlYXQub3ZlcmhlYXRBdCxcbiAgICAgIHdhcm5BdDogc2hpcC5oZWF0Lndhcm5BdCxcbiAgICB9O1xuXG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHByb2plY3RSb3V0ZUhlYXQocm91dGUsIHNoaXAuaGVhdC52YWx1ZSwgaGVhdFBhcmFtcyk7XG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLnByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk6IHZvaWQge1xuICAgIGlmICghaGVhdEJhclBsYW5uZWQpIHJldHVybjtcbiAgICBjb25zdCByZXNldFBsYW5uZWRCYXIgPSAoKSA9PiB7XG4gICAgICBpZiAoaGVhdEJhclBsYW5uZWQpIHtcbiAgICAgICAgaGVhdEJhclBsYW5uZWQuc3R5bGUud2lkdGggPSBcIjAlXCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNoaXAgPSBzdGF0ZS5tZTtcbiAgICBpZiAoIXNoaXAgfHwgIXNoaXAuaGVhdCkge1xuICAgICAgcmVzZXRQbGFubmVkQmFyKCk7XG4gICAgICBkdWFsTWV0ZXJBbGVydCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBsYW5uZWQgPSBwcm9qZWN0UGxhbm5lZEhlYXQoKTtcbiAgICBpZiAocGxhbm5lZCA9PT0gbnVsbCkge1xuICAgICAgcmVzZXRQbGFubmVkQmFyKCk7XG4gICAgICBkdWFsTWV0ZXJBbGVydCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdHVhbCA9IHNoaXAuaGVhdC52YWx1ZTtcbiAgICBjb25zdCBwZXJjZW50ID0gKHBsYW5uZWQgLyBzaGlwLmhlYXQubWF4KSAqIDEwMDtcbiAgICBoZWF0QmFyUGxhbm5lZC5zdHlsZS53aWR0aCA9IGAke01hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcGVyY2VudCkpfSVgO1xuXG4gICAgY29uc3QgZGlmZiA9IHBsYW5uZWQgLSBhY3R1YWw7XG4gICAgY29uc3QgdGhyZXNob2xkID0gTWF0aC5tYXgoOCwgc2hpcC5oZWF0Lndhcm5BdCAqIDAuMSk7XG4gICAgaWYgKGRpZmYgPj0gdGhyZXNob2xkICYmICFkdWFsTWV0ZXJBbGVydCkge1xuICAgICAgZHVhbE1ldGVyQWxlcnQgPSB0cnVlO1xuICAgICAgYnVzLmVtaXQoXCJoZWF0OmR1YWxNZXRlckRpdmVyZ2VkXCIsIHsgcGxhbm5lZCwgYWN0dWFsIH0pO1xuICAgIH0gZWxzZSBpZiAoZGlmZiA8IHRocmVzaG9sZCAqIDAuNiAmJiBkdWFsTWV0ZXJBbGVydCkge1xuICAgICAgZHVhbE1ldGVyQWxlcnQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTcGVlZE1hcmtlcigpOiB2b2lkIHtcbiAgICBjb25zdCBzaGlwSGVhdCA9IHN0YXRlLm1lPy5oZWF0O1xuICAgIGlmIChzcGVlZE1hcmtlciAmJiBzaGlwU3BlZWRTbGlkZXIgJiYgc2hpcEhlYXQgJiYgc2hpcEhlYXQubWFya2VyU3BlZWQgPiAwKSB7XG4gICAgICBjb25zdCBtaW4gPSBwYXJzZUZsb2F0KHNoaXBTcGVlZFNsaWRlci5taW4pO1xuICAgICAgY29uc3QgbWF4ID0gcGFyc2VGbG9hdChzaGlwU3BlZWRTbGlkZXIubWF4KTtcbiAgICAgIGNvbnN0IG1hcmtlclNwZWVkID0gc2hpcEhlYXQubWFya2VyU3BlZWQ7XG4gICAgICBjb25zdCBwZXJjZW50ID0gKChtYXJrZXJTcGVlZCAtIG1pbikgLyAobWF4IC0gbWluKSkgKiAxMDA7XG4gICAgICBjb25zdCBjbGFtcGVkID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBwZXJjZW50KSk7XG4gICAgICBzcGVlZE1hcmtlci5zdHlsZS5sZWZ0ID0gYCR7Y2xhbXBlZH0lYDtcbiAgICAgIHNwZWVkTWFya2VyLnRpdGxlID0gYEhlYXQgbmV1dHJhbDogJHtNYXRoLnJvdW5kKG1hcmtlclNwZWVkKX0gdW5pdHMvc2A7XG4gICAgICBzcGVlZE1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSBpZiAoc3BlZWRNYXJrZXIpIHtcbiAgICAgIHNwZWVkTWFya2VyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBpZiAobWlzc2lsZVNwZWVkTWFya2VyICYmIG1pc3NpbGVTcGVlZFNsaWRlcikge1xuICAgICAgY29uc3QgaGVhdFBhcmFtcyA9IHN0YXRlLm1pc3NpbGVDb25maWcuaGVhdFBhcmFtcztcbiAgICAgIGNvbnN0IG1hcmtlclNwZWVkID1cbiAgICAgICAgKGhlYXRQYXJhbXMgJiYgTnVtYmVyLmlzRmluaXRlKGhlYXRQYXJhbXMubWFya2VyU3BlZWQpID8gaGVhdFBhcmFtcy5tYXJrZXJTcGVlZCA6IHVuZGVmaW5lZCkgPz9cbiAgICAgICAgKHNoaXBIZWF0ICYmIHNoaXBIZWF0Lm1hcmtlclNwZWVkID4gMCA/IHNoaXBIZWF0Lm1hcmtlclNwZWVkIDogdW5kZWZpbmVkKTtcblxuICAgICAgaWYgKG1hcmtlclNwZWVkICE9PSB1bmRlZmluZWQgJiYgbWFya2VyU3BlZWQgPiAwKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHBhcnNlRmxvYXQobWlzc2lsZVNwZWVkU2xpZGVyLm1pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHBhcnNlRmxvYXQobWlzc2lsZVNwZWVkU2xpZGVyLm1heCk7XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSAoKG1hcmtlclNwZWVkIC0gbWluKSAvIChtYXggLSBtaW4pKSAqIDEwMDtcbiAgICAgICAgY29uc3QgY2xhbXBlZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcGVyY2VudCkpO1xuICAgICAgICBtaXNzaWxlU3BlZWRNYXJrZXIuc3R5bGUubGVmdCA9IGAke2NsYW1wZWR9JWA7XG4gICAgICAgIG1pc3NpbGVTcGVlZE1hcmtlci50aXRsZSA9IGBIZWF0IG5ldXRyYWw6ICR7TWF0aC5yb3VuZChtYXJrZXJTcGVlZCl9IHVuaXRzL3NgO1xuICAgICAgICBtaXNzaWxlU3BlZWRNYXJrZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3NpbGVTcGVlZE1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU3RhbGxPdmVybGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IGhlYXQgPSBzdGF0ZS5tZT8uaGVhdDtcbiAgICBpZiAoIWhlYXQgfHwgIXN0YWxsT3ZlcmxheSkge1xuICAgICAgc3RhbGxBY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPVxuICAgICAgdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIDogRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IGlzU3RhbGxlZCA9IG5vdyA8IGhlYXQuc3RhbGxVbnRpbE1zO1xuXG4gICAgaWYgKGlzU3RhbGxlZCkge1xuICAgICAgc3RhbGxPdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgICAgaWYgKCFzdGFsbEFjdGl2ZSkge1xuICAgICAgICBzdGFsbEFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGJ1cy5lbWl0KFwiaGVhdDpzdGFsbFRyaWdnZXJlZFwiLCB7IHN0YWxsVW50aWw6IGhlYXQuc3RhbGxVbnRpbE1zIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGFsbE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gICAgICBpZiAoc3RhbGxBY3RpdmUpIHtcbiAgICAgICAgc3RhbGxBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgYnVzLmVtaXQoXCJoZWF0OnN0YWxsUmVjb3ZlcmVkXCIsIHsgdmFsdWU6IGhlYXQudmFsdWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjYWNoZURvbSxcbiAgICBiaW5kVUksXG4gICAgc2V0QWN0aXZlVG9vbCxcbiAgICBzZXRJbnB1dENvbnRleHQsXG4gICAgdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMsXG4gICAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSxcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJLFxuICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzLFxuICAgIHN5bmNNaXNzaWxlVUlGcm9tU3RhdGUsXG4gICAgdXBkYXRlSGVscE92ZXJsYXksXG4gICAgc2V0SGVscFZpc2libGUsXG4gICAgdXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlLFxuICAgIHVwZGF0ZU1pc3NpbGVDb3VudERpc3BsYXksXG4gICAgdXBkYXRlQ3JhZnRUaW1lcixcbiAgICB1cGRhdGVTdGF0dXNJbmRpY2F0b3JzLFxuICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyLFxuICAgIHVwZGF0ZVNwZWVkTWFya2VyLFxuICAgIHVwZGF0ZUhlYXRCYXIsXG4gICAgcHJvamVjdFBsYW5uZWRIZWF0LFxuICAgIGdldENhbnZhcyxcbiAgICBnZXRDb250ZXh0LFxuICAgIGFkanVzdFNoaXBTcGVlZCxcbiAgICBhZGp1c3RNaXNzaWxlQWdybyxcbiAgICBhZGp1c3RNaXNzaWxlU3BlZWQsXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uSHVkIHtcbiAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgTWlzc2lvbkh1ZE9wdGlvbnMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudE1pc3Npb25IdWQoeyBzdGF0ZSwgYnVzIH06IE1pc3Npb25IdWRPcHRpb25zKTogTWlzc2lvbkh1ZCB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lvbi1odWRcIik7XG4gIGNvbnN0IGJlYWNvbkxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaW9uLWJlYWNvbi1sYWJlbFwiKTtcbiAgY29uc3QgaG9sZExhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaW9uLWhvbGQtdGV4dFwiKTtcblxuICBpZiAoIWNvbnRhaW5lciB8fCAhYmVhY29uTGFiZWwgfHwgIWhvbGRMYWJlbCkge1xuICAgIHJldHVybiB7IGRlc3Ryb3koKSB7fSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyKCk6IHZvaWQge1xuICAgIGNvbnN0IG1pc3Npb24gPSBzdGF0ZS5taXNzaW9uO1xuICAgIGlmICghbWlzc2lvbiB8fCAhbWlzc2lvbi5hY3RpdmUpIHtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnNpZGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdG90YWwgPSBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoID4gMCA/IG1pc3Npb24uYmVhY29ucy5sZW5ndGggOiA0O1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgubWluKG1pc3Npb24uYmVhY29uSW5kZXggKyAxLCB0b3RhbCk7XG4gICAgYmVhY29uTGFiZWwudGV4dENvbnRlbnQgPSBgQmVhY29uICR7Y3VycmVudEluZGV4fS8ke3RvdGFsfWA7XG5cbiAgICBjb25zdCByZXF1aXJlZCA9IG1pc3Npb24uaG9sZFJlcXVpcmVkIHx8IDEwO1xuICAgIGNvbnN0IGhvbGRTZWNvbmRzID0gTWF0aC5tYXgoMCwgbWlzc2lvbi5ob2xkQWNjdW0pO1xuICAgIGhvbGRMYWJlbC50ZXh0Q29udGVudCA9IGBIb2xkOiAke2hvbGRTZWNvbmRzLnRvRml4ZWQoMSl9cyAvICR7cmVxdWlyZWQudG9GaXhlZCgxKX1zYDtcblxuICAgIGNvbnN0IGJlYWNvbiA9IG1pc3Npb24uYmVhY29uc1ttaXNzaW9uLmJlYWNvbkluZGV4XTtcbiAgICBpZiAoYmVhY29uICYmIHN0YXRlLm1lKSB7XG4gICAgICBjb25zdCBkeCA9IHN0YXRlLm1lLnggLSBiZWFjb24uY3g7XG4gICAgICBjb25zdCBkeSA9IHN0YXRlLm1lLnkgLSBiZWFjb24uY3k7XG4gICAgICBjb25zdCBpbnNpZGUgPSBkeCAqIGR4ICsgZHkgKiBkeSA8PSBiZWFjb24ucmFkaXVzICogYmVhY29uLnJhZGl1cztcbiAgICAgIGlmIChpbnNpZGUpIHtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnNpZGVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImluc2lkZVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnNpZGVcIik7XG4gICAgfVxuXG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gIH1cblxuICByZW5kZXIoKTtcbiAgY29uc3QgdW5zdWJzID0gW1xuICAgIGJ1cy5vbihcInN0YXRlOnVwZGF0ZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246c3RhcnRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246YmVhY29uLWxvY2tlZFwiLCAoKSA9PiByZW5kZXIoKSksXG4gICAgYnVzLm9uKFwibWlzc2lvbjpjb21wbGV0ZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICBdO1xuXG4gIHJldHVybiB7XG4gICAgZGVzdHJveSgpIHtcbiAgICAgIGZvciAoY29uc3QgdW5zdWIgb2YgdW5zdWJzKSB7XG4gICAgICAgIHVuc3ViKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQgeyBnZXRBcHByb3hTZXJ2ZXJOb3csIHNlbmRNZXNzYWdlIH0gZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBVSVN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcbmltcG9ydCB7IGNyZWF0ZUNhbWVyYSB9IGZyb20gXCIuL2dhbWUvY2FtZXJhXCI7XG5pbXBvcnQgeyBjcmVhdGVJbnB1dCB9IGZyb20gXCIuL2dhbWUvaW5wdXRcIjtcbmltcG9ydCB7IGNyZWF0ZUxvZ2ljIH0gZnJvbSBcIi4vZ2FtZS9sb2dpY1wiO1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVyZXIgfSBmcm9tIFwiLi9nYW1lL3JlbmRlclwiO1xuaW1wb3J0IHsgY3JlYXRlVUkgfSBmcm9tIFwiLi9nYW1lL3VpXCI7XG5pbXBvcnQgeyBtb3VudE1pc3Npb25IdWQgfSBmcm9tIFwiLi9taXNzaW9uL2h1ZFwiO1xuXG5pbnRlcmZhY2UgSW5pdEdhbWVPcHRpb25zIHtcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICB1aVN0YXRlOiBVSVN0YXRlO1xuICBidXM6IEV2ZW50QnVzO1xufVxuXG5pbnRlcmZhY2UgR2FtZUNvbnRyb2xsZXIge1xuICBvblN0YXRlVXBkYXRlZCgpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdhbWUoeyBzdGF0ZSwgdWlTdGF0ZSwgYnVzIH06IEluaXRHYW1lT3B0aW9ucyk6IEdhbWVDb250cm9sbGVyIHtcbiAgY29uc3QgY2FudmFzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN2XCIpIGFzIEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgaWYgKCFjYW52YXNFbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBlbGVtZW50ICNjdiBub3QgZm91bmRcIik7XG4gIH1cblxuICBjb25zdCBjYW1lcmEgPSBjcmVhdGVDYW1lcmEoeyBjYW52YXM6IGNhbnZhc0VsLCBzdGF0ZSwgdWlTdGF0ZSB9KTtcbiAgY29uc3QgbG9naWMgPSBjcmVhdGVMb2dpYyh7XG4gICAgc3RhdGUsXG4gICAgdWlTdGF0ZSxcbiAgICBidXMsXG4gICAgc2VuZE1lc3NhZ2UsXG4gICAgZ2V0QXBwcm94U2VydmVyTm93LFxuICAgIGNhbWVyYSxcbiAgfSk7XG4gIGNvbnN0IHVpID0gY3JlYXRlVUkoe1xuICAgIHN0YXRlLFxuICAgIHVpU3RhdGUsXG4gICAgYnVzLFxuICAgIGxvZ2ljLFxuICAgIGNhbWVyYSxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBnZXRBcHByb3hTZXJ2ZXJOb3csXG4gIH0pO1xuXG4gIGNvbnN0IHsgY2FudmFzOiBjYWNoZWRDYW52YXMsIGN0eDogY2FjaGVkQ3R4IH0gPSB1aS5jYWNoZURvbSgpO1xuICBjb25zdCByZW5kZXJDYW52YXMgPSBjYWNoZWRDYW52YXMgPz8gY2FudmFzRWw7XG4gIGNvbnN0IHJlbmRlckN0eCA9IGNhY2hlZEN0eCA/PyByZW5kZXJDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBpZiAoIXJlbmRlckN0eCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBhY3F1aXJlIDJEIHJlbmRlcmluZyBjb250ZXh0XCIpO1xuICB9XG5cbiAgY29uc3QgcmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcih7XG4gICAgY2FudmFzOiByZW5kZXJDYW52YXMsXG4gICAgY3R4OiByZW5kZXJDdHgsXG4gICAgc3RhdGUsXG4gICAgdWlTdGF0ZSxcbiAgICBjYW1lcmEsXG4gICAgbG9naWMsXG4gIH0pO1xuXG4gIGNvbnN0IGlucHV0ID0gY3JlYXRlSW5wdXQoe1xuICAgIGNhbnZhczogcmVuZGVyQ2FudmFzLFxuICAgIHVpLFxuICAgIGxvZ2ljLFxuICAgIGNhbWVyYSxcbiAgICBzdGF0ZSxcbiAgICB1aVN0YXRlLFxuICAgIGJ1cyxcbiAgICBzZW5kTWVzc2FnZSxcbiAgfSk7XG5cbiAgdWkuYmluZFVJKCk7XG4gIGlucHV0LmJpbmRJbnB1dCgpO1xuICBsb2dpYy5lbnN1cmVBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgdWkuc3luY01pc3NpbGVVSUZyb21TdGF0ZSgpO1xuICB1aS51cGRhdGVDb250cm9sSGlnaGxpZ2h0cygpO1xuICB1aS5yZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gIHVpLnJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTtcbiAgdWkudXBkYXRlSGVscE92ZXJsYXkoKTtcbiAgdWkudXBkYXRlU3RhdHVzSW5kaWNhdG9ycygpO1xuICB1aS51cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTtcbiAgdWkudXBkYXRlTWlzc2lsZUNvdW50RGlzcGxheSgpO1xuXG4gIG1vdW50TWlzc2lvbkh1ZCh7IHN0YXRlLCBidXMgfSk7XG5cbiAgbGV0IGxhc3RMb29wVHM6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGxvb3AodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0aW1lc3RhbXApKSB7XG4gICAgICB0aW1lc3RhbXAgPSBsYXN0TG9vcFRzID8/IDA7XG4gICAgfVxuXG4gICAgbGV0IGR0U2Vjb25kcyA9IDA7XG4gICAgaWYgKGxhc3RMb29wVHMgIT09IG51bGwpIHtcbiAgICAgIGR0U2Vjb25kcyA9ICh0aW1lc3RhbXAgLSBsYXN0TG9vcFRzKSAvIDEwMDA7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShkdFNlY29uZHMpIHx8IGR0U2Vjb25kcyA8IDApIHtcbiAgICAgICAgZHRTZWNvbmRzID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdExvb3BUcyA9IHRpbWVzdGFtcDtcblxuICAgIGxvZ2ljLnVwZGF0ZVJvdXRlQW5pbWF0aW9ucyhkdFNlY29uZHMpO1xuICAgIHJlbmRlcmVyLmRyYXdTY2VuZSgpO1xuICAgIHVpLnVwZGF0ZU1pc3NpbGVMYXVuY2hCdXR0b25TdGF0ZSgpO1xuICAgIHVpLnVwZGF0ZUNyYWZ0VGltZXIoKTtcblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfVxuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcblxuICByZXR1cm4ge1xuICAgIG9uU3RhdGVVcGRhdGVkKCkge1xuICAgICAgbG9naWMuZW5zdXJlQWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICB1aS5zeW5jTWlzc2lsZVVJRnJvbVN0YXRlKCk7XG4gICAgICB1aS5yZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgICB1aS5yZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gICAgICB1aS51cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTtcbiAgICAgIHVpLnVwZGF0ZU1pc3NpbGVDb3VudERpc3BsYXkoKTtcbiAgICAgIHVpLnVwZGF0ZUNyYWZ0VGltZXIoKTtcbiAgICAgIHVpLnVwZGF0ZVN0YXR1c0luZGljYXRvcnMoKTtcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5cbmludGVyZmFjZSBIaWdobGlnaHRDb250ZW50T3B0aW9ucyB7XG4gIHRhcmdldDogSFRNTEVsZW1lbnQgfCBudWxsO1xuICB0aXRsZT86IHN0cmluZztcbiAgYm9keTogc3RyaW5nO1xuICBzdGVwSW5kZXg6IG51bWJlcjtcbiAgc3RlcENvdW50OiBudW1iZXI7XG4gIHNob3dOZXh0OiBib29sZWFuO1xuICBuZXh0TGFiZWw/OiBzdHJpbmc7XG4gIG9uTmV4dD86ICgpID0+IHZvaWQ7XG4gIHNob3dTa2lwOiBib29sZWFuO1xuICBza2lwTGFiZWw/OiBzdHJpbmc7XG4gIG9uU2tpcD86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlnaGxpZ2h0ZXIge1xuICBzaG93KG9wdGlvbnM6IEhpZ2hsaWdodENvbnRlbnRPcHRpb25zKTogdm9pZDtcbiAgaGlkZSgpOiB2b2lkO1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmNvbnN0IFNUWUxFX0lEID0gXCJ0dXRvcmlhbC1vdmVybGF5LXN0eWxlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaWdobGlnaHRlcigpOiBIaWdobGlnaHRlciB7XG4gIGVuc3VyZVN0eWxlcygpO1xuXG4gIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBvdmVybGF5LmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheVwiO1xuICBvdmVybGF5LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBcInBvbGl0ZVwiKTtcblxuICBjb25zdCBzY3JpbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHNjcmltLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fc2NyaW1cIjtcblxuICBjb25zdCBoaWdobGlnaHRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBoaWdobGlnaHRCb3guY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5X19oaWdobGlnaHRcIjtcblxuICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdG9vbHRpcC5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX3Rvb2x0aXBcIjtcblxuICBjb25zdCBwcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHByb2dyZXNzLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fcHJvZ3Jlc3NcIjtcblxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgdGl0bGUuY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5X190aXRsZVwiO1xuXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgYm9keS5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX2JvZHlcIjtcblxuICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYWN0aW9ucy5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX2FjdGlvbnNcIjtcblxuICBjb25zdCBza2lwQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgc2tpcEJ0bi50eXBlID0gXCJidXR0b25cIjtcbiAgc2tpcEJ0bi5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX2J0biB0dXRvcmlhbC1vdmVybGF5X19idG4tLWdob3N0XCI7XG4gIHNraXBCdG4udGV4dENvbnRlbnQgPSBcIlNraXBcIjtcblxuICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgbmV4dEJ0bi50eXBlID0gXCJidXR0b25cIjtcbiAgbmV4dEJ0bi5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX2J0biB0dXRvcmlhbC1vdmVybGF5X19idG4tLXByaW1hcnlcIjtcbiAgbmV4dEJ0bi50ZXh0Q29udGVudCA9IFwiTmV4dFwiO1xuXG4gIGFjdGlvbnMuYXBwZW5kKHNraXBCdG4sIG5leHRCdG4pO1xuICB0b29sdGlwLmFwcGVuZChwcm9ncmVzcywgdGl0bGUsIGJvZHksIGFjdGlvbnMpO1xuICBvdmVybGF5LmFwcGVuZChzY3JpbSwgaGlnaGxpZ2h0Qm94LCB0b29sdGlwKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICBsZXQgY3VycmVudFRhcmdldDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHZpc2libGUgPSBmYWxzZTtcbiAgbGV0IHJlc2l6ZU9ic2VydmVyOiBSZXNpemVPYnNlcnZlciB8IG51bGwgPSBudWxsO1xuICBsZXQgZnJhbWVIYW5kbGU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBsZXQgb25OZXh0OiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgbGV0IG9uU2tpcDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVVcGRhdGUoKTogdm9pZCB7XG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm47XG4gICAgaWYgKGZyYW1lSGFuZGxlICE9PSBudWxsKSByZXR1cm47XG4gICAgZnJhbWVIYW5kbGUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGZyYW1lSGFuZGxlID0gbnVsbDtcbiAgICAgIHVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUpIHJldHVybjtcblxuICAgIGlmIChjdXJyZW50VGFyZ2V0KSB7XG4gICAgICBjb25zdCByZWN0ID0gY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHBhZGRpbmcgPSAxMjtcbiAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoMCwgcmVjdC53aWR0aCArIHBhZGRpbmcgKiAyKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KDAsIHJlY3QuaGVpZ2h0ICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgbGVmdCA9IHJlY3QubGVmdCAtIHBhZGRpbmc7XG4gICAgICBjb25zdCB0b3AgPSByZWN0LnRvcCAtIHBhZGRpbmc7XG5cbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICBoaWdobGlnaHRCb3guc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke01hdGgucm91bmQobGVmdCl9cHgsICR7TWF0aC5yb3VuZCh0b3ApfXB4KWA7XG4gICAgICBoaWdobGlnaHRCb3guc3R5bGUud2lkdGggPSBgJHtNYXRoLnJvdW5kKHdpZHRoKX1weGA7XG4gICAgICBoaWdobGlnaHRCb3guc3R5bGUuaGVpZ2h0ID0gYCR7TWF0aC5yb3VuZChoZWlnaHQpfXB4YDtcblxuICAgICAgdG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICB0b29sdGlwLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIHRvb2x0aXAuc3R5bGUubWF4V2lkdGggPSBgbWluKDM0MHB4LCAke01hdGgubWF4KDI2MCwgd2luZG93LmlubmVyV2lkdGggLSAzMil9cHgpYDtcbiAgICAgIGNvbnN0IHRvb2x0aXBXaWR0aCA9IHRvb2x0aXAub2Zmc2V0V2lkdGg7XG4gICAgICBjb25zdCB0b29sdGlwSGVpZ2h0ID0gdG9vbHRpcC5vZmZzZXRIZWlnaHQ7XG4gICAgICBsZXQgdG9vbHRpcFRvcCA9IHJlY3QuYm90dG9tICsgMTg7XG4gICAgICBpZiAodG9vbHRpcFRvcCArIHRvb2x0aXBIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMCkge1xuICAgICAgICB0b29sdGlwVG9wID0gTWF0aC5tYXgoMjAsIHJlY3QudG9wIC0gdG9vbHRpcEhlaWdodCAtIDE4KTtcbiAgICAgIH1cbiAgICAgIGxldCB0b29sdGlwTGVmdCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcbiAgICAgIHRvb2x0aXBMZWZ0ID0gY2xhbXAodG9vbHRpcExlZnQsIDIwLCB3aW5kb3cuaW5uZXJXaWR0aCAtIHRvb2x0aXBXaWR0aCAtIDIwKTtcbiAgICAgIHRvb2x0aXAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke01hdGgucm91bmQodG9vbHRpcExlZnQpfXB4LCAke01hdGgucm91bmQodG9vbHRpcFRvcCl9cHgpYDtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XG4gICAgICBoaWdobGlnaHRCb3guc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7TWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpfXB4LCAke01hdGgucm91bmQod2luZG93LmlubmVySGVpZ2h0IC8gMil9cHgpYDtcblxuICAgICAgdG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICB0b29sdGlwLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIGNvbnN0IHRvb2x0aXBXaWR0aCA9IHRvb2x0aXAub2Zmc2V0V2lkdGg7XG4gICAgICBjb25zdCB0b29sdGlwSGVpZ2h0ID0gdG9vbHRpcC5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zdCB0b29sdGlwTGVmdCA9IGNsYW1wKCh3aW5kb3cuaW5uZXJXaWR0aCAtIHRvb2x0aXBXaWR0aCkgLyAyLCAyMCwgd2luZG93LmlubmVyV2lkdGggLSB0b29sdGlwV2lkdGggLSAyMCk7XG4gICAgICBjb25zdCB0b29sdGlwVG9wID0gY2xhbXAoKHdpbmRvdy5pbm5lckhlaWdodCAtIHRvb2x0aXBIZWlnaHQpIC8gMiwgMjAsIHdpbmRvdy5pbm5lckhlaWdodCAtIHRvb2x0aXBIZWlnaHQgLSAyMCk7XG4gICAgICB0b29sdGlwLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtNYXRoLnJvdW5kKHRvb2x0aXBMZWZ0KX1weCwgJHtNYXRoLnJvdW5kKHRvb2x0aXBUb3ApfXB4KWA7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNoTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlVXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2NoZWR1bGVVcGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGFjaExpc3RlbmVycygpOiB2b2lkIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY2hlZHVsZVVwZGF0ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2NoZWR1bGVVcGRhdGUpO1xuICAgIGlmIChmcmFtZUhhbmRsZSAhPT0gbnVsbCkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSGFuZGxlKTtcbiAgICAgIGZyYW1lSGFuZGxlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2tpcEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBvblNraXA/LigpO1xuICB9KTtcblxuICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG9uTmV4dD8uKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlbmRlclRvb2x0aXAob3B0aW9uczogSGlnaGxpZ2h0Q29udGVudE9wdGlvbnMpOiB2b2lkIHtcbiAgICBjb25zdCB7IHN0ZXBDb3VudCwgc3RlcEluZGV4LCB0aXRsZTogb3B0aW9uVGl0bGUsIGJvZHk6IG9wdGlvbkJvZHksIHNob3dOZXh0LCBuZXh0TGFiZWwsIHNob3dTa2lwLCBza2lwTGFiZWwgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHN0ZXBDb3VudCkgJiYgc3RlcENvdW50ID4gMCkge1xuICAgICAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgU3RlcCAke3N0ZXBJbmRleCArIDF9IG9mICR7c3RlcENvdW50fWA7XG4gICAgICBwcm9ncmVzcy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzcy50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBwcm9ncmVzcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvblRpdGxlICYmIG9wdGlvblRpdGxlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IG9wdGlvblRpdGxlO1xuICAgICAgdGl0bGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgdGl0bGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIGJvZHkudGV4dENvbnRlbnQgPSBvcHRpb25Cb2R5O1xuXG4gICAgb25OZXh0ID0gc2hvd05leHQgPyBvcHRpb25zLm9uTmV4dCA/PyBudWxsIDogbnVsbDtcbiAgICBpZiAoc2hvd05leHQpIHtcbiAgICAgIG5leHRCdG4udGV4dENvbnRlbnQgPSBuZXh0TGFiZWwgPz8gXCJOZXh0XCI7XG4gICAgICBuZXh0QnRuLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1mbGV4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHRCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIG9uU2tpcCA9IHNob3dTa2lwID8gb3B0aW9ucy5vblNraXAgPz8gbnVsbCA6IG51bGw7XG4gICAgaWYgKHNob3dTa2lwKSB7XG4gICAgICBza2lwQnRuLnRleHRDb250ZW50ID0gc2tpcExhYmVsID8/IFwiU2tpcFwiO1xuICAgICAgc2tpcEJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtZmxleFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBza2lwQnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG9wdGlvbnM6IEhpZ2hsaWdodENvbnRlbnRPcHRpb25zKTogdm9pZCB7XG4gICAgdmlzaWJsZSA9IHRydWU7XG4gICAgY3VycmVudFRhcmdldCA9IG9wdGlvbnMudGFyZ2V0ID8/IG51bGw7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcbiAgICByZW5kZXJUb29sdGlwKG9wdGlvbnMpO1xuICAgIGlmIChyZXNpemVPYnNlcnZlcikge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldCAmJiB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHNjaGVkdWxlVXBkYXRlKCkpO1xuICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShjdXJyZW50VGFyZ2V0KTtcbiAgICB9XG4gICAgYXR0YWNoTGlzdGVuZXJzKCk7XG4gICAgc2NoZWR1bGVVcGRhdGUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGUoKTogdm9pZCB7XG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm47XG4gICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gICAgdG9vbHRpcC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICBoaWdobGlnaHRCb3guc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGRldGFjaExpc3RlbmVycygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpOiB2b2lkIHtcbiAgICBoaWRlKCk7XG4gICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2hvdyxcbiAgICBoaWRlLFxuICAgIGRlc3Ryb3ksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVN0eWxlcygpOiB2b2lkIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFNUWUxFX0lEKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgc3R5bGUuaWQgPSBTVFlMRV9JRDtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgLnR1dG9yaWFsLW92ZXJsYXkge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgaW5zZXQ6IDA7XG4gICAgICB6LWluZGV4OiA1MDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXkudmlzaWJsZSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX3NjcmltIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGluc2V0OiAwO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9faGlnaGxpZ2h0IHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7XG4gICAgICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDU2LCAxODksIDI0OCwgMC45NSk7XG4gICAgICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSg1NiwgMTg5LCAyNDgsIDAuMjUpLCAwIDAgMjRweCByZ2JhKDM0LCAyMTEsIDIzOCwgMC4yNSk7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xOHMgZWFzZSwgd2lkdGggMC4xOHMgZWFzZSwgaGVpZ2h0IDAuMThzIGVhc2UsIG9wYWNpdHkgMC4xOHMgZWFzZTtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX3Rvb2x0aXAge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgbWluLXdpZHRoOiAyNDBweDtcbiAgICAgIG1heC13aWR0aDogbWluKDM0MHB4LCBjYWxjKDEwMHZ3IC0gMzJweCkpO1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwgMjMsIDQyLCAwLjk1KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zNSk7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAgICAgcGFkZGluZzogMTZweCAxOHB4O1xuICAgICAgY29sb3I6ICNlMmU4ZjA7XG4gICAgICBib3gtc2hhZG93OiAwIDEycHggMzJweCByZ2JhKDE1LCAyMywgNDIsIDAuNTUpO1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAwcHgpO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMThzIGVhc2UsIG9wYWNpdHkgMC4xOHMgZWFzZTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX3Byb2dyZXNzIHtcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA4ZW07XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgY29sb3I6IHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC43NSk7XG4gICAgICBtYXJnaW46IDAgMCA4cHg7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X190aXRsZSB7XG4gICAgICBtYXJnaW46IDAgMCA4cHg7XG4gICAgICBmb250LXNpemU6IDE1cHg7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMC4wNGVtO1xuICAgICAgY29sb3I6ICNmMWY1Zjk7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19ib2R5IHtcbiAgICAgIG1hcmdpbjogMCAwIDE0cHg7XG4gICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgY29sb3I6ICNjYmQ1ZjU7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19hY3Rpb25zIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDEwcHg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuIHtcbiAgICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgICBwYWRkaW5nOiA2cHggMTRweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDhlbTtcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX2J0bi0tcHJpbWFyeSB7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU2LCAxODksIDI0OCwgMC4yNSk7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjU1KTtcbiAgICAgIGNvbG9yOiAjZjhmYWZjO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuLS1wcmltYXJ5OmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjM1KTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX2J0bi0tZ2hvc3Qge1xuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zNSk7XG4gICAgICBjb2xvcjogcmdiYSgyMDMsIDIxMywgMjI1LCAwLjkpO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuLS1naG9zdDpob3ZlciB7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoMjAzLCAyMTMsIDIyNSwgMC41NSk7XG4gICAgfVxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgLnR1dG9yaWFsLW92ZXJsYXlfX3Rvb2x0aXAge1xuICAgICAgICBtaW4td2lkdGg6IDIwMHB4O1xuICAgICAgICBtYXgtd2lkdGg6IG1pbigzMjBweCwgY2FsYygxMDB2dyAtIDI0cHgpKTtcbiAgICAgICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICB9XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fcHJvZ3Jlc3Mge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fdGl0bGUge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fYm9keSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgfVxuICAgICAgLnR1dG9yaWFsLW92ZXJsYXlfX2FjdGlvbnMge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDZweDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICB9XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuIHtcbiAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgIH1cbiAgICB9XG4gIGA7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuIiwgImNvbnN0IFNUT1JBR0VfUFJFRklYID0gXCJsc2Q6dHV0b3JpYWw6XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHV0b3JpYWxQcm9ncmVzcyB7XG4gIHN0ZXBJbmRleDogbnVtYmVyO1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHVwZGF0ZWRBdDogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBnZXRTdG9yYWdlKCk6IFN0b3JhZ2UgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQcm9ncmVzcyhpZDogc3RyaW5nKTogVHV0b3JpYWxQcm9ncmVzcyB8IG51bGwge1xuICBjb25zdCBzdG9yYWdlID0gZ2V0U3RvcmFnZSgpO1xuICBpZiAoIXN0b3JhZ2UpIHJldHVybiBudWxsO1xuICB0cnkge1xuICAgIGNvbnN0IHJhdyA9IHN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX1BSRUZJWCArIGlkKTtcbiAgICBpZiAoIXJhdykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyYXcpIGFzIFR1dG9yaWFsUHJvZ3Jlc3M7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHBhcnNlZCAhPT0gXCJvYmplY3RcIiB8fCBwYXJzZWQgPT09IG51bGwgfHxcbiAgICAgIHR5cGVvZiBwYXJzZWQuc3RlcEluZGV4ICE9PSBcIm51bWJlclwiIHx8XG4gICAgICB0eXBlb2YgcGFyc2VkLmNvbXBsZXRlZCAhPT0gXCJib29sZWFuXCIgfHxcbiAgICAgIHR5cGVvZiBwYXJzZWQudXBkYXRlZEF0ICE9PSBcIm51bWJlclwiXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVQcm9ncmVzcyhpZDogc3RyaW5nLCBwcm9ncmVzczogVHV0b3JpYWxQcm9ncmVzcyk6IHZvaWQge1xuICBjb25zdCBzdG9yYWdlID0gZ2V0U3RvcmFnZSgpO1xuICBpZiAoIXN0b3JhZ2UpIHJldHVybjtcbiAgdHJ5IHtcbiAgICBzdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9QUkVGSVggKyBpZCwgSlNPTi5zdHJpbmdpZnkocHJvZ3Jlc3MpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gaWdub3JlIHN0b3JhZ2UgZmFpbHVyZXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJQcm9ncmVzcyhpZDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICB0cnkge1xuICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX1BSRUZJWCArIGlkKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gaWdub3JlIHN0b3JhZ2UgZmFpbHVyZXNcbiAgfVxufVxuIiwgImV4cG9ydCB0eXBlIFJvbGVJZCA9XG4gIHwgXCJjYW52YXNcIlxuICB8IFwic2hpcFNldFwiXG4gIHwgXCJzaGlwU2VsZWN0XCJcbiAgfCBcInNoaXBEZWxldGVcIlxuICB8IFwic2hpcENsZWFyXCJcbiAgfCBcInNoaXBTcGVlZFNsaWRlclwiXG4gIHwgXCJoZWF0QmFyXCJcbiAgfCBcInNwZWVkTWFya2VyXCJcbiAgfCBcIm1pc3NpbGVTZXRcIlxuICB8IFwibWlzc2lsZVNlbGVjdFwiXG4gIHwgXCJtaXNzaWxlRGVsZXRlXCJcbiAgfCBcIm1pc3NpbGVTcGVlZFNsaWRlclwiXG4gIHwgXCJtaXNzaWxlQWdyb1NsaWRlclwiXG4gIHwgXCJtaXNzaWxlQWRkUm91dGVcIlxuICB8IFwibWlzc2lsZUxhdW5jaFwiXG4gIHwgXCJyb3V0ZVByZXZcIlxuICB8IFwicm91dGVOZXh0XCJcbiAgfCBcImhlbHBUb2dnbGVcIlxuICB8IFwidHV0b3JpYWxTdGFydFwiXG4gIHwgXCJzcGF3bkJvdFwiO1xuXG5leHBvcnQgdHlwZSBSb2xlUmVzb2x2ZXIgPSAoKSA9PiBIVE1MRWxlbWVudCB8IG51bGw7XG5cbmV4cG9ydCB0eXBlIFJvbGVzTWFwID0gUmVjb3JkPFJvbGVJZCwgUm9sZVJlc29sdmVyPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvbGVzKCk6IFJvbGVzTWFwIHtcbiAgcmV0dXJuIHtcbiAgICBjYW52YXM6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3ZcIiksXG4gICAgc2hpcFNldDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNldFwiKSxcbiAgICBzaGlwU2VsZWN0OiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc2VsZWN0XCIpLFxuICAgIHNoaXBEZWxldGU6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1kZWxldGVcIiksXG4gICAgc2hpcENsZWFyOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtY2xlYXJcIiksXG4gICAgc2hpcFNwZWVkU2xpZGVyOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc3BlZWQtc2xpZGVyXCIpLFxuICAgIGhlYXRCYXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhdC1iYXItY29udGFpbmVyXCIpLFxuICAgIHNwZWVkTWFya2VyOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwZWVkLW1hcmtlclwiKSxcbiAgICBtaXNzaWxlU2V0OiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtc2V0XCIpLFxuICAgIG1pc3NpbGVTZWxlY3Q6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zZWxlY3RcIiksXG4gICAgbWlzc2lsZURlbGV0ZTogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWRlbGV0ZVwiKSxcbiAgICBtaXNzaWxlU3BlZWRTbGlkZXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zcGVlZC1zbGlkZXJcIiksXG4gICAgbWlzc2lsZUFncm9TbGlkZXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1hZ3JvLXNsaWRlclwiKSxcbiAgICBtaXNzaWxlQWRkUm91dGU6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1hZGQtcm91dGVcIiksXG4gICAgbWlzc2lsZUxhdW5jaDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWxhdW5jaFwiKSxcbiAgICByb3V0ZVByZXY6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtcHJldlwiKSxcbiAgICByb3V0ZU5leHQ6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtbmV4dFwiKSxcbiAgICBoZWxwVG9nZ2xlOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlbHAtdG9nZ2xlXCIpLFxuICAgIHR1dG9yaWFsU3RhcnQ6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHV0b3JpYWwtc3RhcnRcIiksXG4gICAgc3Bhd25Cb3Q6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bhd24tYm90XCIpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9sZUVsZW1lbnQocm9sZXM6IFJvbGVzTWFwLCByb2xlOiBSb2xlSWQgfCBudWxsIHwgdW5kZWZpbmVkKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKCFyb2xlKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgcmVzb2x2ZXIgPSByb2xlc1tyb2xlXTtcbiAgcmV0dXJuIHJlc29sdmVyID8gcmVzb2x2ZXIoKSA6IG51bGw7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cywgRXZlbnRLZXkgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgeyBjcmVhdGVIaWdobGlnaHRlciwgdHlwZSBIaWdobGlnaHRlciB9IGZyb20gXCIuL2hpZ2hsaWdodFwiO1xuaW1wb3J0IHsgY2xlYXJQcm9ncmVzcywgbG9hZFByb2dyZXNzLCBzYXZlUHJvZ3Jlc3MgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBnZXRSb2xlRWxlbWVudCwgdHlwZSBSb2xlSWQsIHR5cGUgUm9sZXNNYXAgfSBmcm9tIFwiLi9yb2xlc1wiO1xuXG5leHBvcnQgdHlwZSBTdGVwQWR2YW5jZSA9XG4gIHwge1xuICAgICAga2luZDogXCJldmVudFwiO1xuICAgICAgZXZlbnQ6IEV2ZW50S2V5O1xuICAgICAgd2hlbj86IChwYXlsb2FkOiB1bmtub3duKSA9PiBib29sZWFuO1xuICAgICAgY2hlY2s/OiAoKSA9PiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICBraW5kOiBcIm1hbnVhbFwiO1xuICAgICAgbmV4dExhYmVsPzogc3RyaW5nO1xuICAgIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHV0b3JpYWxTdGVwIHtcbiAgaWQ6IHN0cmluZztcbiAgdGFyZ2V0OiBSb2xlSWQgfCAoKCkgPT4gSFRNTEVsZW1lbnQgfCBudWxsKSB8IG51bGw7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG4gIGFkdmFuY2U6IFN0ZXBBZHZhbmNlO1xuICBvbkVudGVyPzogKCkgPT4gdm9pZDtcbiAgb25FeGl0PzogKCkgPT4gdm9pZDtcbiAgYWxsb3dTa2lwPzogYm9vbGVhbjtcbiAgc2tpcExhYmVsPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRW5naW5lT3B0aW9ucyB7XG4gIGlkOiBzdHJpbmc7XG4gIGJ1czogRXZlbnRCdXM7XG4gIHJvbGVzOiBSb2xlc01hcDtcbiAgc3RlcHM6IFR1dG9yaWFsU3RlcFtdO1xufVxuXG5pbnRlcmZhY2UgU3RhcnRPcHRpb25zIHtcbiAgcmVzdW1lPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUdXRvcmlhbEVuZ2luZSB7XG4gIHN0YXJ0KG9wdGlvbnM/OiBTdGFydE9wdGlvbnMpOiB2b2lkO1xuICByZXN0YXJ0KCk6IHZvaWQ7XG4gIHN0b3AoKTogdm9pZDtcbiAgaXNSdW5uaW5nKCk6IGJvb2xlYW47XG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVR1dG9yaWFsRW5naW5lKHsgaWQsIGJ1cywgcm9sZXMsIHN0ZXBzIH06IEVuZ2luZU9wdGlvbnMpOiBUdXRvcmlhbEVuZ2luZSB7XG4gIGNvbnN0IGhpZ2hsaWdodGVyOiBIaWdobGlnaHRlciA9IGNyZWF0ZUhpZ2hsaWdodGVyKCk7XG4gIGxldCBydW5uaW5nID0gZmFsc2U7XG4gIGxldCBwYXVzZWQgPSBmYWxzZTtcbiAgbGV0IGN1cnJlbnRJbmRleCA9IC0xO1xuICBsZXQgY3VycmVudFN0ZXA6IFR1dG9yaWFsU3RlcCB8IG51bGwgPSBudWxsO1xuICBsZXQgY2xlYW51cEN1cnJlbnQ6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICBsZXQgcmVuZGVyQ3VycmVudDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGxldCBsYXN0U2F2ZWRDb21wbGV0ZWQgPSBmYWxzZTtcbiAgbGV0IHN1cHByZXNzUGVyc2lzdE9uU3RvcCA9IGZhbHNlO1xuXG4gIGNvbnN0IHBlcnNpc3RlbnRMaXN0ZW5lcnM6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG5cbiAgcGVyc2lzdGVudExpc3RlbmVycy5wdXNoKFxuICAgIGJ1cy5vbihcImhlbHA6dmlzaWJsZUNoYW5nZWRcIiwgKHsgdmlzaWJsZSB9KSA9PiB7XG4gICAgICBpZiAoIXJ1bm5pbmcpIHJldHVybjtcbiAgICAgIHBhdXNlZCA9IEJvb2xlYW4odmlzaWJsZSk7XG4gICAgICBpZiAocGF1c2VkKSB7XG4gICAgICAgIGhpZ2hsaWdodGVyLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckN1cnJlbnQ/LigpO1xuICAgICAgfVxuICAgIH0pLFxuICApO1xuXG4gIGZ1bmN0aW9uIHJlc29sdmVUYXJnZXQoc3RlcDogVHV0b3JpYWxTdGVwKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgICBpZiAoIXN0ZXAudGFyZ2V0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzdGVwLnRhcmdldCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gc3RlcC50YXJnZXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFJvbGVFbGVtZW50KHJvbGVzLCBzdGVwLnRhcmdldCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGFtcEluZGV4KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmIChzdGVwcy5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGluZGV4KSB8fCBpbmRleCA8IDApIHJldHVybiAwO1xuICAgIGlmIChpbmRleCA+PSBzdGVwcy5sZW5ndGgpIHJldHVybiBzdGVwcy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBNYXRoLmZsb29yKGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFN0ZXAoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIGlmIChzdGVwcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbXBsZXRlVHV0b3JpYWwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzdGVwcy5sZW5ndGgpIHtcbiAgICAgIGNvbXBsZXRlVHV0b3JpYWwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2xlYW51cEN1cnJlbnQpIHtcbiAgICAgIGNsZWFudXBDdXJyZW50KCk7XG4gICAgICBjbGVhbnVwQ3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICBjdXJyZW50U3RlcC5vbkV4aXQ/LigpO1xuICAgICAgY3VycmVudFN0ZXAgPSBudWxsO1xuICAgIH1cblxuICAgIGN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgIGNvbnN0IHN0ZXAgPSBzdGVwc1tpbmRleF07XG4gICAgY3VycmVudFN0ZXAgPSBzdGVwO1xuXG4gICAgcGVyc2lzdFByb2dyZXNzKGluZGV4LCBmYWxzZSk7XG5cbiAgICBidXMuZW1pdChcInR1dG9yaWFsOnN0ZXBDaGFuZ2VkXCIsIHsgaWQsIHN0ZXBJbmRleDogaW5kZXgsIHRvdGFsOiBzdGVwcy5sZW5ndGggfSk7XG4gICAgc3RlcC5vbkVudGVyPy4oKTtcblxuICAgIGNvbnN0IGFsbG93U2tpcCA9IHN0ZXAuYWxsb3dTa2lwICE9PSBmYWxzZTtcbiAgICBjb25zdCByZW5kZXIgPSAoKTogdm9pZCA9PiB7XG4gICAgICBpZiAoIXJ1bm5pbmcgfHwgcGF1c2VkKSByZXR1cm47XG4gICAgICBoaWdobGlnaHRlci5zaG93KHtcbiAgICAgICAgdGFyZ2V0OiByZXNvbHZlVGFyZ2V0KHN0ZXApLFxuICAgICAgICB0aXRsZTogc3RlcC50aXRsZSxcbiAgICAgICAgYm9keTogc3RlcC5ib2R5LFxuICAgICAgICBzdGVwSW5kZXg6IGluZGV4LFxuICAgICAgICBzdGVwQ291bnQ6IHN0ZXBzLmxlbmd0aCxcbiAgICAgICAgc2hvd05leHQ6IHN0ZXAuYWR2YW5jZS5raW5kID09PSBcIm1hbnVhbFwiLFxuICAgICAgICBuZXh0TGFiZWw6IHN0ZXAuYWR2YW5jZS5raW5kID09PSBcIm1hbnVhbFwiXG4gICAgICAgICAgPyBzdGVwLmFkdmFuY2UubmV4dExhYmVsID8/IChpbmRleCA9PT0gc3RlcHMubGVuZ3RoIC0gMSA/IFwiRmluaXNoXCIgOiBcIk5leHRcIilcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgb25OZXh0OiBzdGVwLmFkdmFuY2Uua2luZCA9PT0gXCJtYW51YWxcIiA/IGFkdmFuY2VTdGVwIDogdW5kZWZpbmVkLFxuICAgICAgICBzaG93U2tpcDogYWxsb3dTa2lwLFxuICAgICAgICBza2lwTGFiZWw6IHN0ZXAuc2tpcExhYmVsLFxuICAgICAgICBvblNraXA6IGFsbG93U2tpcCA/IHNraXBDdXJyZW50U3RlcCA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZW5kZXJDdXJyZW50ID0gcmVuZGVyO1xuICAgIHJlbmRlcigpO1xuXG4gICAgaWYgKHN0ZXAuYWR2YW5jZS5raW5kID09PSBcImV2ZW50XCIpIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAocGF5bG9hZDogdW5rbm93bik6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIXJ1bm5pbmcgfHwgcGF1c2VkKSByZXR1cm47XG4gICAgICAgIGlmIChzdGVwLmFkdmFuY2Uud2hlbiAmJiAhc3RlcC5hZHZhbmNlLndoZW4ocGF5bG9hZCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWR2YW5jZVRvKGluZGV4ICsgMSk7XG4gICAgICB9O1xuICAgICAgY2xlYW51cEN1cnJlbnQgPSBidXMub24oc3RlcC5hZHZhbmNlLmV2ZW50LCBoYW5kbGVyIGFzICh2YWx1ZTogbmV2ZXIpID0+IHZvaWQpO1xuICAgICAgaWYgKHN0ZXAuYWR2YW5jZS5jaGVjayAmJiBzdGVwLmFkdmFuY2UuY2hlY2soKSkge1xuICAgICAgICBoYW5kbGVyKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZHZhbmNlVG8obmV4dEluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoY2xlYW51cEN1cnJlbnQpIHtcbiAgICAgIGNsZWFudXBDdXJyZW50KCk7XG4gICAgICBjbGVhbnVwQ3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjdXJyZW50U3RlcCkge1xuICAgICAgY3VycmVudFN0ZXAub25FeGl0Py4oKTtcbiAgICAgIGN1cnJlbnRTdGVwID0gbnVsbDtcbiAgICB9XG4gICAgcmVuZGVyQ3VycmVudCA9IG51bGw7XG4gICAgaWYgKG5leHRJbmRleCA+PSBzdGVwcy5sZW5ndGgpIHtcbiAgICAgIGNvbXBsZXRlVHV0b3JpYWwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U3RlcChuZXh0SW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkdmFuY2VTdGVwKCk6IHZvaWQge1xuICAgIGFkdmFuY2VUbyhjdXJyZW50SW5kZXggKyAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBDdXJyZW50U3RlcCgpOiB2b2lkIHtcbiAgICBpZiAoIXJ1bm5pbmcpIHJldHVybjtcbiAgICBjb25zdCBuZXh0SW5kZXggPSBjdXJyZW50SW5kZXggPj0gMCA/IGN1cnJlbnRJbmRleCArIDEgOiAwO1xuICAgIGFkdmFuY2VUbyhuZXh0SW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVUdXRvcmlhbCgpOiB2b2lkIHtcbiAgICBpZiAoIXJ1bm5pbmcpIHJldHVybjtcbiAgICBzdXBwcmVzc1BlcnNpc3RPblN0b3AgPSB0cnVlO1xuICAgIHBlcnNpc3RQcm9ncmVzcyhzdGVwcy5sZW5ndGgsIHRydWUpO1xuICAgIGJ1cy5lbWl0KFwidHV0b3JpYWw6Y29tcGxldGVkXCIsIHsgaWQgfSk7XG4gICAgc3RvcCgpO1xuICAgIHN1cHByZXNzUGVyc2lzdE9uU3RvcCA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQob3B0aW9ucz86IFN0YXJ0T3B0aW9ucyk6IHZvaWQge1xuICAgIGNvbnN0IHJlc3VtZSA9IG9wdGlvbnM/LnJlc3VtZSAhPT0gZmFsc2U7XG4gICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgIHJlc3RhcnQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN0ZXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICBzdXBwcmVzc1BlcnNpc3RPblN0b3AgPSBmYWxzZTtcbiAgICBsYXN0U2F2ZWRDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBsZXQgc3RhcnRJbmRleCA9IDA7XG4gICAgaWYgKHJlc3VtZSkge1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBsb2FkUHJvZ3Jlc3MoaWQpO1xuICAgICAgaWYgKHByb2dyZXNzICYmICFwcm9ncmVzcy5jb21wbGV0ZWQpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IGNsYW1wSW5kZXgocHJvZ3Jlc3Muc3RlcEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJQcm9ncmVzcyhpZCk7XG4gICAgfVxuICAgIGJ1cy5lbWl0KFwidHV0b3JpYWw6c3RhcnRlZFwiLCB7IGlkIH0pO1xuICAgIHNldFN0ZXAoc3RhcnRJbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXN0YXJ0KCk6IHZvaWQge1xuICAgIHN0b3AoKTtcbiAgICBzdGFydCh7IHJlc3VtZTogZmFsc2UgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCk6IHZvaWQge1xuICAgIGNvbnN0IHNob3VsZFBlcnNpc3QgPSAhc3VwcHJlc3NQZXJzaXN0T25TdG9wICYmIHJ1bm5pbmcgJiYgIWxhc3RTYXZlZENvbXBsZXRlZCAmJiBjdXJyZW50SW5kZXggPj0gMCAmJiBjdXJyZW50SW5kZXggPCBzdGVwcy5sZW5ndGg7XG4gICAgY29uc3QgaW5kZXhUb1BlcnNpc3QgPSBjdXJyZW50SW5kZXg7XG5cbiAgICBpZiAoY2xlYW51cEN1cnJlbnQpIHtcbiAgICAgIGNsZWFudXBDdXJyZW50KCk7XG4gICAgICBjbGVhbnVwQ3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjdXJyZW50U3RlcCkge1xuICAgICAgY3VycmVudFN0ZXAub25FeGl0Py4oKTtcbiAgICAgIGN1cnJlbnRTdGVwID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHNob3VsZFBlcnNpc3QpIHtcbiAgICAgIHBlcnNpc3RQcm9ncmVzcyhpbmRleFRvUGVyc2lzdCwgZmFsc2UpO1xuICAgIH1cbiAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgcGF1c2VkID0gZmFsc2U7XG4gICAgY3VycmVudEluZGV4ID0gLTE7XG4gICAgcmVuZGVyQ3VycmVudCA9IG51bGw7XG4gICAgaGlnaGxpZ2h0ZXIuaGlkZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBydW5uaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpOiB2b2lkIHtcbiAgICBzdG9wKCk7XG4gICAgZm9yIChjb25zdCBkaXNwb3NlIG9mIHBlcnNpc3RlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIGRpc3Bvc2UoKTtcbiAgICB9XG4gICAgaGlnaGxpZ2h0ZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyc2lzdFByb2dyZXNzKHN0ZXBJbmRleDogbnVtYmVyLCBjb21wbGV0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBsYXN0U2F2ZWRDb21wbGV0ZWQgPSBjb21wbGV0ZWQ7XG4gICAgc2F2ZVByb2dyZXNzKGlkLCB7XG4gICAgICBzdGVwSW5kZXgsXG4gICAgICBjb21wbGV0ZWQsXG4gICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIHJlc3RhcnQsXG4gICAgc3RvcCxcbiAgICBpc1J1bm5pbmcsXG4gICAgZGVzdHJveSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFR1dG9yaWFsU3RlcCB9IGZyb20gXCIuL2VuZ2luZVwiO1xuXG5mdW5jdGlvbiBoYXNXYXlwb2ludEluZGV4QXRMZWFzdChwYXlsb2FkOiB1bmtub3duLCBtaW5JbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGluZGV4ID0gKHBheWxvYWQgYXMgeyBpbmRleD86IHVua25vd24gfSkuaW5kZXg7XG4gIGlmICh0eXBlb2YgaW5kZXggIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0Zpbml0ZShpbmRleCkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGluZGV4ID49IG1pbkluZGV4O1xufVxuXG5mdW5jdGlvbiBleHRyYWN0Um91dGVJZChwYXlsb2FkOiB1bmtub3duKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgY29uc3Qgcm91dGVJZCA9IChwYXlsb2FkIGFzIHsgcm91dGVJZD86IHVua25vd24gfSkucm91dGVJZDtcbiAgcmV0dXJuIHR5cGVvZiByb3V0ZUlkID09PSBcInN0cmluZ1wiID8gcm91dGVJZCA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHBheWxvYWRUb29sRXF1YWxzKHRhcmdldDogc3RyaW5nKTogKHBheWxvYWQ6IHVua25vd24pID0+IGJvb2xlYW4ge1xuICByZXR1cm4gKHBheWxvYWQ6IHVua25vd24pOiBib29sZWFuID0+IHtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgIT09IFwib2JqZWN0XCIgfHwgcGF5bG9hZCA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHRvb2wgPSAocGF5bG9hZCBhcyB7IHRvb2w/OiB1bmtub3duIH0pLnRvb2w7XG4gICAgcmV0dXJuIHR5cGVvZiB0b29sID09PSBcInN0cmluZ1wiICYmIHRvb2wgPT09IHRhcmdldDtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2ljVHV0b3JpYWxTdGVwcygpOiBUdXRvcmlhbFN0ZXBbXSB7XG4gIGxldCByb3V0ZVN3aXRjaGVzU2luY2VFbnRlciA9IDA7XG4gIGxldCBpbml0aWFsUm91dGVJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGxldCBuZXdSb3V0ZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGlkOiBcInNoaXAtcGxvdC1yb3V0ZVwiLFxuICAgICAgdGFyZ2V0OiBcImNhbnZhc1wiLFxuICAgICAgdGl0bGU6IFwiUGxvdCBhIHJvdXRlXCIsXG4gICAgICBib2R5OiBcIkNsaWNrIG9uIHRoZSBtYXAgdG8gZHJvcCBhdCBsZWFzdCB0aHJlZSB3YXlwb2ludHMgYW5kIHNrZXRjaCB5b3VyIGNvdXJzZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJzaGlwOndheXBvaW50QWRkZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IGhhc1dheXBvaW50SW5kZXhBdExlYXN0KHBheWxvYWQsIDIpLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInNoaXAtY2hhbmdlLXNwZWVkXCIsXG4gICAgICB0YXJnZXQ6IFwic2hpcFNwZWVkU2xpZGVyXCIsXG4gICAgICB0aXRsZTogXCJBZGp1c3Qgc2hpcCBzcGVlZFwiLFxuICAgICAgYm9keTogXCJVc2UgdGhlIFNoaXAgU3BlZWQgc2xpZGVyIChvciBwcmVzcyBbIC8gXSkgdG8gZmluZS10dW5lIHlvdXIgdHJhdmVsIHNwZWVkLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6c3BlZWRDaGFuZ2VkXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1zZWxlY3QtbGVnXCIsXG4gICAgICB0YXJnZXQ6IFwic2hpcFNlbGVjdFwiLFxuICAgICAgdGl0bGU6IFwiU2VsZWN0IGEgcm91dGUgbGVnXCIsXG4gICAgICBib2R5OiBcIlN3aXRjaCB0byBTZWxlY3QgbW9kZSAoVCBrZXkpIGFuZCB0aGVuIGNsaWNrIGEgd2F5cG9pbnQgb24gdGhlIG1hcCB0byBoaWdobGlnaHQgaXRzIGxlZy5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJzaGlwOmxlZ1NlbGVjdGVkXCIsXG4gICAgICAgIHdoZW46IChwYXlsb2FkKSA9PiBoYXNXYXlwb2ludEluZGV4QXRMZWFzdChwYXlsb2FkLCAwKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJoZWF0LW1hdGNoLW1hcmtlclwiLFxuICAgICAgdGFyZ2V0OiBcInNwZWVkTWFya2VyXCIsXG4gICAgICB0aXRsZTogXCJNYXRjaCB0aGUgbWFya2VyXCIsXG4gICAgICBib2R5OiBcIkxpbmUgdXAgdGhlIFNoaXAgU3BlZWQgc2xpZGVyIHdpdGggdGhlIHRpY2sgdG8gY3J1aXNlIGF0IHRoZSBuZXV0cmFsIGhlYXQgc3BlZWQuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDptYXJrZXJBbGlnbmVkXCIsXG4gICAgICB9LFxuICAgICAgYWxsb3dTa2lwOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImhlYXQtcHVzaC1ob3RcIixcbiAgICAgIHRhcmdldDogXCJoZWF0QmFyXCIsXG4gICAgICB0aXRsZTogXCJTcHJpbnQgaW50byB0aGUgcmVkXCIsXG4gICAgICBib2R5OiBcIlB1c2ggdGhlIHRocm90dGxlIGFib3ZlIHRoZSBtYXJrZXIgYW5kIHdhdGNoIHRoZSBoZWF0IGJhciByZWFjaCB0aGUgd2FybmluZyBiYW5kLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcImhlYXQ6d2FybkVudGVyZWRcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiaGVhdC1jb29sLWRvd25cIixcbiAgICAgIHRhcmdldDogXCJoZWF0QmFyXCIsXG4gICAgICB0aXRsZTogXCJDb29sIGl0IGJhY2sgZG93blwiLFxuICAgICAgYm9keTogXCJFYXNlIG9mZiBiZWxvdyB0aGUgbWFya2VyIHVudGlsIHRoZSBiYXIgZHJvcHMgb3V0IG9mIHRoZSB3YXJuaW5nIHpvbmUuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDpjb29sZWRCZWxvd1dhcm5cIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiaGVhdC10cmlnZ2VyLXN0YWxsXCIsXG4gICAgICB0YXJnZXQ6IFwiaGVhdEJhclwiLFxuICAgICAgdGl0bGU6IFwiVHJpZ2dlciBhIHN0YWxsXCIsXG4gICAgICBib2R5OiBcIlB1c2ggd2VsbCBhYm92ZSB0aGUgbGltaXQgYW5kIGhvbGQgaXQgdW50aWwgdGhlIG92ZXJoZWF0IHN0YWxsIG92ZXJsYXkgYXBwZWFycy5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0OnN0YWxsVHJpZ2dlcmVkXCIsXG4gICAgICB9LFxuICAgICAgYWxsb3dTa2lwOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImhlYXQtcmVjb3Zlci1zdGFsbFwiLFxuICAgICAgdGFyZ2V0OiBcImhlYXRCYXJcIixcbiAgICAgIHRpdGxlOiBcIlJlY292ZXIgZnJvbSB0aGUgc3RhbGxcIixcbiAgICAgIGJvZHk6IFwiSG9sZCBzdGVhZHkgd2hpbGUgc3lzdGVtcyBjb29sLiBPbmNlIHRoZSBvdmVybGF5IGNsZWFycywgeW91XHUyMDE5cmUgYmFjayBvbmxpbmUuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDpzdGFsbFJlY292ZXJlZFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJoZWF0LWR1YWwtYmFyc1wiLFxuICAgICAgdGFyZ2V0OiBcImhlYXRCYXJcIixcbiAgICAgIHRpdGxlOiBcIlJlYWQgYm90aCBoZWF0IGJhcnNcIixcbiAgICAgIGJvZHk6IFwiQWRqdXN0IGEgd2F5cG9pbnQgdG8gbWFrZSB0aGUgcGxhbm5lZCBiYXIgZXh0ZW5kIHBhc3QgbGl2ZSBoZWF0LiBVc2UgaXQgdG8gcHJlZGljdCBmdXR1cmUgb3ZlcmxvYWRzLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcImhlYXQ6ZHVhbE1ldGVyRGl2ZXJnZWRcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1kZWxldGUtbGVnXCIsXG4gICAgICB0YXJnZXQ6IFwic2hpcERlbGV0ZVwiLFxuICAgICAgdGl0bGU6IFwiRGVsZXRlIGEgcm91dGUgbGVnXCIsXG4gICAgICBib2R5OiBcIlJlbW92ZSB0aGUgc2VsZWN0ZWQgd2F5cG9pbnQgdXNpbmcgdGhlIERlbGV0ZSBjb250cm9sIG9yIHRoZSBEZWxldGUga2V5LlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6d2F5cG9pbnREZWxldGVkXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1jbGVhci1yb3V0ZVwiLFxuICAgICAgdGFyZ2V0OiBcInNoaXBDbGVhclwiLFxuICAgICAgdGl0bGU6IFwiQ2xlYXIgdGhlIHJvdXRlXCIsXG4gICAgICBib2R5OiBcIkNsZWFyIHJlbWFpbmluZyB3YXlwb2ludHMgdG8gcmVzZXQgeW91ciBwbG90dGVkIGNvdXJzZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJzaGlwOmNsZWFySW52b2tlZFwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtc2V0LW1vZGVcIixcbiAgICAgIHRhcmdldDogXCJtaXNzaWxlU2V0XCIsXG4gICAgICB0aXRsZTogXCJTd2l0Y2ggdG8gbWlzc2lsZSBwbGFubmluZ1wiLFxuICAgICAgYm9keTogXCJUYXAgU2V0IHNvIGV2ZXJ5IGNsaWNrIGRyb3BzIG1pc3NpbGUgd2F5cG9pbnRzIG9uIHRoZSBhY3RpdmUgcm91dGUuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTp0b29sQ2hhbmdlZFwiLFxuICAgICAgICB3aGVuOiBwYXlsb2FkVG9vbEVxdWFscyhcInNldFwiKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLXBsb3QtaW5pdGlhbFwiLFxuICAgICAgdGFyZ2V0OiBcImNhbnZhc1wiLFxuICAgICAgdGl0bGU6IFwiUGxvdCBtaXNzaWxlIHdheXBvaW50c1wiLFxuICAgICAgYm9keTogXCJDbGljayB0aGUgbWFwIHRvIGRyb3AgYXQgbGVhc3QgdHdvIGd1aWRhbmNlIHBvaW50cyBmb3IgdGhlIGN1cnJlbnQgbWlzc2lsZSByb3V0ZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOndheXBvaW50QWRkZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBpZiAoIWhhc1dheXBvaW50SW5kZXhBdExlYXN0KHBheWxvYWQsIDEpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgY29uc3Qgcm91dGVJZCA9IGV4dHJhY3RSb3V0ZUlkKHBheWxvYWQpO1xuICAgICAgICAgIGlmIChyb3V0ZUlkKSB7XG4gICAgICAgICAgICBpbml0aWFsUm91dGVJZCA9IHJvdXRlSWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtbGF1bmNoLWluaXRpYWxcIixcbiAgICAgIHRhcmdldDogXCJtaXNzaWxlTGF1bmNoXCIsXG4gICAgICB0aXRsZTogXCJMYXVuY2ggdGhlIHN0cmlrZVwiLFxuICAgICAgYm9keTogXCJTZW5kIHRoZSBwbGFubmVkIG1pc3NpbGUgcm91dGUgbGl2ZSB3aXRoIHRoZSBMYXVuY2ggY29udHJvbCAoTCBrZXkpLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6bGF1bmNoUmVxdWVzdGVkXCIsXG4gICAgICAgIHdoZW46IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgY29uc3Qgcm91dGVJZCA9IGV4dHJhY3RSb3V0ZUlkKHBheWxvYWQpO1xuICAgICAgICAgIGlmICghcm91dGVJZCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKCFpbml0aWFsUm91dGVJZCkge1xuICAgICAgICAgICAgaW5pdGlhbFJvdXRlSWQgPSByb3V0ZUlkO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByb3V0ZUlkID09PSBpbml0aWFsUm91dGVJZDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLWFkZC1yb3V0ZVwiLFxuICAgICAgdGFyZ2V0OiBcIm1pc3NpbGVBZGRSb3V0ZVwiLFxuICAgICAgdGl0bGU6IFwiQ3JlYXRlIGEgbmV3IG1pc3NpbGUgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiUHJlc3MgTmV3IHRvIGFkZCBhIHNlY29uZCBtaXNzaWxlIHJvdXRlIGZvciBhbm90aGVyIHN0cmlrZSBncm91cC5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOnJvdXRlQWRkZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKCFyb3V0ZUlkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgbmV3Um91dGVJZCA9IHJvdXRlSWQ7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1wbG90LW5ldy1yb3V0ZVwiLFxuICAgICAgdGFyZ2V0OiBcImNhbnZhc1wiLFxuICAgICAgdGl0bGU6IFwiUGxvdCB0aGUgbmV3IG1pc3NpbGUgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiRHJvcCBhdCBsZWFzdCB0d28gd2F5cG9pbnRzIG9uIHRoZSBuZXcgcm91dGUgdG8gZGVmaW5lIGl0cyBwYXRoLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGlmICghaGFzV2F5cG9pbnRJbmRleEF0TGVhc3QocGF5bG9hZCwgMSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKG5ld1JvdXRlSWQgJiYgcm91dGVJZCAmJiByb3V0ZUlkICE9PSBuZXdSb3V0ZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghbmV3Um91dGVJZCAmJiByb3V0ZUlkKSB7XG4gICAgICAgICAgICBuZXdSb3V0ZUlkID0gcm91dGVJZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1sYXVuY2gtbmV3LXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwibWlzc2lsZUxhdW5jaFwiLFxuICAgICAgdGl0bGU6IFwiTGF1bmNoIHRoZSBuZXcgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiTGF1bmNoIHRoZSBmcmVzaCBtaXNzaWxlIHJvdXRlIHRvIGNvbmZpcm0gaXRzIHBhdHRlcm4uXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTpsYXVuY2hSZXF1ZXN0ZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKCFuZXdSb3V0ZUlkIHx8ICFyb3V0ZUlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcm91dGVJZCA9PT0gbmV3Um91dGVJZDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLXN3aXRjaC1yb3V0ZVwiLFxuICAgICAgdGFyZ2V0OiBcInJvdXRlTmV4dFwiLFxuICAgICAgdGl0bGU6IFwiU3dpdGNoIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHJvdXRlXCIsXG4gICAgICBib2R5OiBcIlVzZSB0aGUgXHUyNUMwIFx1MjVCNiBjb250cm9scyAob3IgVGFiL1NoaWZ0K1RhYikgdG8gc2VsZWN0IHlvdXIgZmlyc3QgbWlzc2lsZSByb3V0ZSBhZ2Fpbi5cIixcbiAgICAgIG9uRW50ZXI6ICgpID0+IHtcbiAgICAgICAgcm91dGVTd2l0Y2hlc1NpbmNlRW50ZXIgPSAwO1xuICAgICAgfSxcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIHJvdXRlU3dpdGNoZXNTaW5jZUVudGVyICs9IDE7XG4gICAgICAgICAgaWYgKHJvdXRlU3dpdGNoZXNTaW5jZUVudGVyIDwgMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxSb3V0ZUlkIHx8ICFyb3V0ZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJvdXRlSWQgPT09IGluaXRpYWxSb3V0ZUlkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtbGF1bmNoLWFmdGVyLXN3aXRjaFwiLFxuICAgICAgdGFyZ2V0OiBcIm1pc3NpbGVMYXVuY2hcIixcbiAgICAgIHRpdGxlOiBcIkxhdW5jaCBmcm9tIHRoZSBvdGhlciByb3V0ZVwiLFxuICAgICAgYm9keTogXCJGaXJlIHRoZSBvcmlnaW5hbCBtaXNzaWxlIHJvdXRlIHRvIHByYWN0aWNlIHJvdW5kLXJvYmluIHN0cmlrZXMuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTpsYXVuY2hSZXF1ZXN0ZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKCFpbml0aWFsUm91dGVJZCB8fCAhcm91dGVJZCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgcmV0dXJuIHJvdXRlSWQgPT09IGluaXRpYWxSb3V0ZUlkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInR1dG9yaWFsLXByYWN0aWNlXCIsXG4gICAgICB0YXJnZXQ6IFwic3Bhd25Cb3RcIixcbiAgICAgIHRpdGxlOiBcIlNwYXduIGEgcHJhY3RpY2UgYm90XCIsXG4gICAgICBib2R5OiBcIlVzZSB0aGUgQm90IGNvbnRyb2wgdG8gYWRkIGEgdGFyZ2V0IGFuZCByZWhlYXJzZSB0aGVzZSBtYW5ldXZlcnMgaW4gcmVhbCB0aW1lLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcImJvdDpzcGF3blJlcXVlc3RlZFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJ0dXRvcmlhbC1jb21wbGV0ZVwiLFxuICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgdGl0bGU6IFwiWW91XHUyMDE5cmUgcmVhZHlcIixcbiAgICAgIGJvZHk6IFwiR3JlYXQgd29yay4gUmVsb2FkIHRoZSBjb25zb2xlIG9yIHJlam9pbiBhIHJvb20gdG8gcmV2aXNpdCB0aGVzZSBkcmlsbHMuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwibWFudWFsXCIsXG4gICAgICAgIG5leHRMYWJlbDogXCJGaW5pc2hcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gIF07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB7IGNyZWF0ZVR1dG9yaWFsRW5naW5lIH0gZnJvbSBcIi4vZW5naW5lXCI7XG5pbXBvcnQgeyBjcmVhdGVSb2xlcyB9IGZyb20gXCIuL3JvbGVzXCI7XG5pbXBvcnQgeyBnZXRCYXNpY1R1dG9yaWFsU3RlcHMgfSBmcm9tIFwiLi9zdGVwc19iYXNpY1wiO1xuZXhwb3J0IGNvbnN0IEJBU0lDX1RVVE9SSUFMX0lEID0gXCJzaGlwLWJhc2ljc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFR1dG9yaWFsQ29udHJvbGxlciB7XG4gIHN0YXJ0KG9wdGlvbnM/OiB7IHJlc3VtZT86IGJvb2xlYW4gfSk6IHZvaWQ7XG4gIHJlc3RhcnQoKTogdm9pZDtcbiAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91bnRUdXRvcmlhbChidXM6IEV2ZW50QnVzKTogVHV0b3JpYWxDb250cm9sbGVyIHtcbiAgY29uc3Qgcm9sZXMgPSBjcmVhdGVSb2xlcygpO1xuICBjb25zdCBlbmdpbmUgPSBjcmVhdGVUdXRvcmlhbEVuZ2luZSh7XG4gICAgaWQ6IEJBU0lDX1RVVE9SSUFMX0lELFxuICAgIGJ1cyxcbiAgICByb2xlcyxcbiAgICBzdGVwczogZ2V0QmFzaWNUdXRvcmlhbFN0ZXBzKCksXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnQob3B0aW9ucykge1xuICAgICAgZW5naW5lLnN0YXJ0KG9wdGlvbnMpO1xuICAgIH0sXG4gICAgcmVzdGFydCgpIHtcbiAgICAgIGVuZ2luZS5yZXN0YXJ0KCk7XG4gICAgfSxcbiAgICBkZXN0cm95KCkge1xuICAgICAgZW5naW5lLmRlc3Ryb3koKTtcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9ndWVDaG9pY2Uge1xuICBpZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9ndWVDb250ZW50IHtcbiAgc3BlYWtlcjogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGludGVudD86IFwiZmFjdG9yeVwiIHwgXCJ1bml0XCI7XG4gIGNob2ljZXM/OiBEaWFsb2d1ZUNob2ljZVtdO1xuICB0eXBpbmdTcGVlZE1zPzogbnVtYmVyO1xuICBvbkNob2ljZT86IChjaG9pY2VJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblRleHRGdWxseVJlbmRlcmVkPzogKCkgPT4gdm9pZDtcbiAgb25Db250aW51ZT86ICgpID0+IHZvaWQ7XG4gIGNvbnRpbnVlTGFiZWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9ndWVPdmVybGF5IHtcbiAgc2hvdyhjb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQpOiB2b2lkO1xuICBoaWRlKCk6IHZvaWQ7XG4gIGRlc3Ryb3koKTogdm9pZDtcbiAgaXNWaXNpYmxlKCk6IGJvb2xlYW47XG59XG5cbmNvbnN0IFNUWUxFX0lEID0gXCJkaWFsb2d1ZS1vdmVybGF5LXN0eWxlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEaWFsb2d1ZU92ZXJsYXkoKTogRGlhbG9ndWVPdmVybGF5IHtcbiAgZW5zdXJlU3R5bGVzKCk7XG5cbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG92ZXJsYXkuY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS1vdmVybGF5XCI7XG4gIG92ZXJsYXkuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuXG4gIGNvbnN0IGNvbnNvbGVGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnNvbGVGcmFtZS5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLWNvbnNvbGVcIjtcblxuICBjb25zdCBzcGVha2VyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBzcGVha2VyTGFiZWwuY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS1zcGVha2VyXCI7XG5cbiAgY29uc3QgdGV4dEJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGV4dEJsb2NrLmNsYXNzTmFtZSA9IFwiZGlhbG9ndWUtdGV4dFwiO1xuXG4gIGNvbnN0IGN1cnNvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBjdXJzb3IuY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS1jdXJzb3JcIjtcbiAgY3Vyc29yLnRleHRDb250ZW50ID0gXCJfXCI7XG5cbiAgY29uc3QgY2hvaWNlc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gIGNob2ljZXNMaXN0LmNsYXNzTmFtZSA9IFwiZGlhbG9ndWUtY2hvaWNlcyBoaWRkZW5cIjtcblxuICBjb25zdCBjb250aW51ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGNvbnRpbnVlQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICBjb250aW51ZUJ1dHRvbi5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLWNvbnRpbnVlIGhpZGRlblwiO1xuICBjb250aW51ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ29udGludWVcIjtcblxuICB0ZXh0QmxvY2suYXBwZW5kKGN1cnNvcik7XG4gIGNvbnNvbGVGcmFtZS5hcHBlbmQoc3BlYWtlckxhYmVsLCB0ZXh0QmxvY2ssIGNob2ljZXNMaXN0LCBjb250aW51ZUJ1dHRvbik7XG4gIG92ZXJsYXkuYXBwZW5kKGNvbnNvbGVGcmFtZSk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG5cbiAgbGV0IHZpc2libGUgPSBmYWxzZTtcbiAgbGV0IHR5cGluZ0hhbmRsZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCB0YXJnZXRUZXh0ID0gXCJcIjtcbiAgbGV0IHJlbmRlcmVkQ2hhcnMgPSAwO1xuICBsZXQgYWN0aXZlQ29udGVudDogRGlhbG9ndWVDb250ZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gY2xlYXJUeXBpbmcoKTogdm9pZCB7XG4gICAgaWYgKHR5cGluZ0hhbmRsZSAhPT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0eXBpbmdIYW5kbGUpO1xuICAgICAgdHlwaW5nSGFuZGxlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hUeXBpbmcoY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG4gICAgcmVuZGVyZWRDaGFycyA9IHRhcmdldFRleHQubGVuZ3RoO1xuICAgIHVwZGF0ZVRleHQoKTtcbiAgICBjbGVhclR5cGluZygpO1xuICAgIGNvbnRlbnQub25UZXh0RnVsbHlSZW5kZXJlZD8uKCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRlbnQuY2hvaWNlcykgfHwgY29udGVudC5jaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2hvd0NvbnRpbnVlKGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRleHQoKTogdm9pZCB7XG4gICAgY29uc3QgdGV4dFRvU2hvdyA9IHRhcmdldFRleHQuc2xpY2UoMCwgcmVuZGVyZWRDaGFycyk7XG4gICAgdGV4dEJsb2NrLmlubmVySFRNTCA9IFwiXCI7XG4gICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICB0ZXh0Tm9kZS50ZXh0Q29udGVudCA9IHRleHRUb1Nob3c7XG4gICAgdGV4dEJsb2NrLmFwcGVuZCh0ZXh0Tm9kZSwgY3Vyc29yKTtcbiAgICBjdXJzb3IuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiLCAhdmlzaWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJDaG9pY2VzKGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQge1xuICAgIGNob2ljZXNMaXN0LmlubmVySFRNTCA9IFwiXCI7XG4gICAgY29uc3QgY2hvaWNlcyA9IEFycmF5LmlzQXJyYXkoY29udGVudC5jaG9pY2VzKSA/IGNvbnRlbnQuY2hvaWNlcyA6IFtdO1xuICAgIGlmIChjaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2hvaWNlc0xpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hvaWNlc0xpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBjaG9pY2VzLmZvckVhY2goKGNob2ljZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICAgICAgYnV0dG9uLmRhdGFzZXQuY2hvaWNlSWQgPSBjaG9pY2UuaWQ7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSBgJHtpbmRleCArIDF9LiAke2Nob2ljZS50ZXh0fWA7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29udGVudC5vbkNob2ljZT8uKGNob2ljZS5pZCk7XG4gICAgICB9KTtcbiAgICAgIGl0ZW0uYXBwZW5kKGJ1dHRvbik7XG4gICAgICBjaG9pY2VzTGlzdC5hcHBlbmQoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93Q29udGludWUoY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG4gICAgaWYgKCFjb250ZW50Lm9uQ29udGludWUpIHtcbiAgICAgIGNvbnRpbnVlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICBjb250aW51ZUJ1dHRvbi5vbmNsaWNrID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGludWVCdXR0b24udGV4dENvbnRlbnQgPSBjb250ZW50LmNvbnRpbnVlTGFiZWwgPz8gXCJDb250aW51ZVwiO1xuICAgIGNvbnRpbnVlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgY29udGludWVCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgIGNvbnRlbnQub25Db250aW51ZT8uKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlVHlwZShjb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICBjbGVhclR5cGluZygpO1xuICAgIGNvbnN0IHR5cGluZ1NwZWVkID0gY2xhbXAoTnVtYmVyKGNvbnRlbnQudHlwaW5nU3BlZWRNcykgfHwgMTgsIDgsIDY0KTtcbiAgICBjb25zdCB0aWNrID0gKCk6IHZvaWQgPT4ge1xuICAgICAgcmVuZGVyZWRDaGFycyA9IE1hdGgubWluKHJlbmRlcmVkQ2hhcnMgKyAxLCB0YXJnZXRUZXh0Lmxlbmd0aCk7XG4gICAgICB1cGRhdGVUZXh0KCk7XG4gICAgICBpZiAocmVuZGVyZWRDaGFycyA+PSB0YXJnZXRUZXh0Lmxlbmd0aCkge1xuICAgICAgICBjbGVhclR5cGluZygpO1xuICAgICAgICBjb250ZW50Lm9uVGV4dEZ1bGx5UmVuZGVyZWQ/LigpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29udGVudC5jaG9pY2VzKSB8fCBjb250ZW50LmNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2hvd0NvbnRpbnVlKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBpbmdIYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dCh0aWNrLCB0eXBpbmdTcGVlZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0eXBpbmdIYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dCh0aWNrLCB0eXBpbmdTcGVlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF2aXNpYmxlIHx8ICFhY3RpdmVDb250ZW50KSByZXR1cm47XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFjdGl2ZUNvbnRlbnQuY2hvaWNlcykgfHwgYWN0aXZlQ29udGVudC5jaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIgfHwgZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHJlbmRlcmVkQ2hhcnMgPCB0YXJnZXRUZXh0Lmxlbmd0aCkge1xuICAgICAgICAgIGZpbmlzaFR5cGluZyhhY3RpdmVDb250ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb250ZW50Lm9uQ29udGludWU/LigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoZXZlbnQua2V5LCAxMCk7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShpbmRleCkgJiYgaW5kZXggPj0gMSAmJiBpbmRleCA8PSBhY3RpdmVDb250ZW50LmNob2ljZXMubGVuZ3RoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgY2hvaWNlID0gYWN0aXZlQ29udGVudC5jaG9pY2VzW2luZGV4IC0gMV07XG4gICAgICBhY3RpdmVDb250ZW50Lm9uQ2hvaWNlPy4oY2hvaWNlLmlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmIHJlbmRlcmVkQ2hhcnMgPCB0YXJnZXRUZXh0Lmxlbmd0aCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpbmlzaFR5cGluZyhhY3RpdmVDb250ZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQge1xuICAgIGFjdGl2ZUNvbnRlbnQgPSBjb250ZW50O1xuICAgIHZpc2libGUgPSB0cnVlO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XG4gICAgb3ZlcmxheS5kYXRhc2V0LmludGVudCA9IGNvbnRlbnQuaW50ZW50ID8/IFwiZmFjdG9yeVwiO1xuICAgIHNwZWFrZXJMYWJlbC50ZXh0Q29udGVudCA9IGNvbnRlbnQuc3BlYWtlcjtcblxuICAgIHRhcmdldFRleHQgPSBjb250ZW50LnRleHQ7XG4gICAgcmVuZGVyZWRDaGFycyA9IDA7XG4gICAgdXBkYXRlVGV4dCgpO1xuICAgIHJlbmRlckNob2ljZXMoY29udGVudCk7XG4gICAgc2hvd0NvbnRpbnVlKGNvbnRlbnQpO1xuICAgIHNjaGVkdWxlVHlwZShjb250ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGUoKTogdm9pZCB7XG4gICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgIGFjdGl2ZUNvbnRlbnQgPSBudWxsO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gICAgY2xlYXJUeXBpbmcoKTtcbiAgICB0YXJnZXRUZXh0ID0gXCJcIjtcbiAgICByZW5kZXJlZENoYXJzID0gMDtcbiAgICB0ZXh0QmxvY2suaW5uZXJIVE1MID0gXCJcIjtcbiAgICB0ZXh0QmxvY2suYXBwZW5kKGN1cnNvcik7XG4gICAgY2hvaWNlc0xpc3QuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjaG9pY2VzTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgIGNvbnRpbnVlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgY29udGludWVCdXR0b24ub25jbGljayA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCk6IHZvaWQge1xuICAgIGhpZGUoKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICBvdmVybGF5LnJlbW92ZSgpO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93LFxuICAgIGhpZGUsXG4gICAgZGVzdHJveSxcbiAgICBpc1Zpc2libGUoKSB7XG4gICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICB9LFxuICB9O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTdHlsZXMoKTogdm9pZCB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChTVFlMRV9JRCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIHN0eWxlLmlkID0gU1RZTEVfSUQ7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgIC5kaWFsb2d1ZS1vdmVybGF5IHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIGluc2V0OiAwO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgei1pbmRleDogNjA7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2U7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1vdmVybGF5LnZpc2libGUge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtY29uc29sZSB7XG4gICAgICBtaW4td2lkdGg6IDMyMHB4O1xuICAgICAgbWF4LXdpZHRoOiBtaW4oNTIwcHgsIGNhbGMoMTAwdncgLSA0OHB4KSk7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDYsIDExLCAxNiwgMC45Mik7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMzUpO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIHBhZGRpbmc6IDE4cHggMjBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgZ2FwOiAxNHB4O1xuICAgICAgYm94LXNoYWRvdzogMCAyOHB4IDY0cHggcmdiYSgyLCA2LCAxNiwgMC42KTtcbiAgICAgIGNvbG9yOiAjZTJlOGYwO1xuICAgICAgZm9udC1mYW1pbHk6IFwiSUJNIFBsZXggTW9ub1wiLCBcIkpldEJyYWlucyBNb25vXCIsIHVpLW1vbm9zcGFjZSwgU0ZNb25vLVJlZ3VsYXIsIE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCBcIkxpYmVyYXRpb24gTW9ub1wiLCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZTtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLW92ZXJsYXlbZGF0YS1pbnRlbnQ9XCJmYWN0b3J5XCJdIC5kaWFsb2d1ZS1jb25zb2xlIHtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1NiwgMTg5LCAyNDgsIDAuNDUpO1xuICAgICAgYm94LXNoYWRvdzogMCAyOHB4IDY0cHggcmdiYSgxMywgMTQ4LCAxMzYsIDAuMzUpO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtb3ZlcmxheVtkYXRhLWludGVudD1cInVuaXRcIl0gLmRpYWxvZ3VlLWNvbnNvbGUge1xuICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDI0NCwgMTE0LCAxODIsIDAuNDUpO1xuICAgICAgYm94LXNoYWRvdzogMCAyOHB4IDY0cHggcmdiYSgyMzYsIDcyLCAxNTMsIDAuMjgpO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtc3BlYWtlciB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMC4xNmVtO1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgIGNvbG9yOiByZ2JhKDE0OCwgMTYzLCAxODQsIDAuNzUpO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtdGV4dCB7XG4gICAgICBtaW4taGVpZ2h0OiA5MHB4O1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgbGluZS1oZWlnaHQ6IDEuNTU7XG4gICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jdXJzb3Ige1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICAgIGFuaW1hdGlvbjogZGlhbG9ndWUtY3Vyc29yLWJsaW5rIDEuMnMgc3RlcHMoMiwgc3RhcnQpIGluZmluaXRlO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtY3Vyc29yLmhpZGRlbiB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtY2hvaWNlcyB7XG4gICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgZ2FwOiA4cHg7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzLmhpZGRlbiB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtY2hvaWNlcyBidXR0b24sXG4gICAgLmRpYWxvZ3VlLWNvbnRpbnVlIHtcbiAgICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgcGFkZGluZzogOHB4IDEwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMyk7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0LCAzNiwgNDgsIDAuODUpO1xuICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMThzIGVhc2UsIGJvcmRlci1jb2xvciAwLjE4cyBlYXNlO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtY29udGludWUge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtY29udGludWUuaGlkZGVuIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIGJ1dHRvbjpob3ZlcixcbiAgICAuZGlhbG9ndWUtY2hvaWNlcyBidXR0b246Zm9jdXMtdmlzaWJsZSxcbiAgICAuZGlhbG9ndWUtY29udGludWU6aG92ZXIsXG4gICAgLmRpYWxvZ3VlLWNvbnRpbnVlOmZvY3VzLXZpc2libGUge1xuICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU2LCAxODksIDI0OCwgMC41NSk7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDMwLCA0NSwgNjAsIDAuOTUpO1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG4gICAgQGtleWZyYW1lcyBkaWFsb2d1ZS1jdXJzb3ItYmxpbmsge1xuICAgICAgMCUsIDUwJSB7IG9wYWNpdHk6IDE7IH1cbiAgICAgIDUwLjAxJSwgMTAwJSB7IG9wYWNpdHk6IDA7IH1cbiAgICB9XG4gIGA7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB0eXBlIHsgRGlhbG9ndWVPdmVybGF5IH0gZnJvbSBcIi4vb3ZlcmxheVwiO1xuaW1wb3J0IHR5cGUgeyBEaWFsb2d1ZUNvbnRlbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgc2VuZE1lc3NhZ2UgfSBmcm9tIFwiLi4vbmV0XCI7XG5cbmludGVyZmFjZSBTdG9yeUNvbnRyb2xsZXJPcHRpb25zIHtcbiAgYnVzOiBFdmVudEJ1cztcbiAgb3ZlcmxheTogRGlhbG9ndWVPdmVybGF5O1xuICBzdGF0ZTogQXBwU3RhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcnlDb250cm9sbGVyIHtcbiAgc3RhcnQoKTogdm9pZDtcbiAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG4vKipcbiAqIFNlcnZlci1kcml2ZW4gc3RvcnkgY29udHJvbGxlci5cbiAqIFJlYWN0cyB0byBzdG9yeTpub2RlQWN0aXZhdGVkIGV2ZW50cyBmcm9tIHRoZSBzZXJ2ZXIgYW5kIGRpc3BsYXlzIGRpYWxvZ3VlLlxuICogU2VuZHMgZGFnX3N0b3J5X2FjayBtZXNzYWdlcyBiYWNrIHRvIHRoZSBzZXJ2ZXIgd2hlbiBkaWFsb2d1ZSBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yeUNvbnRyb2xsZXIoeyBidXMsIG92ZXJsYXksIHN0YXRlIH06IFN0b3J5Q29udHJvbGxlck9wdGlvbnMpOiBTdG9yeUNvbnRyb2xsZXIge1xuICBjb25zdCBsaXN0ZW5lcnM6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIGxldCB0dXRvcmlhbFRpcEVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaGFuZGxlTm9kZUFjdGl2YXRlZCh7IG5vZGVJZCwgZGlhbG9ndWUgfTogeyBub2RlSWQ6IHN0cmluZzsgZGlhbG9ndWU/OiBEaWFsb2d1ZUNvbnRlbnQgfSk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKFwiW3N0b3J5XSBOb2RlIGFjdGl2YXRlZDpcIiwgbm9kZUlkKTtcblxuICAgIGlmICghZGlhbG9ndWUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbc3RvcnldIE5vIGRpYWxvZ3VlIHByb3ZpZGVkIGJ5IHNlcnZlciBmb3I6XCIsIG5vZGVJZCk7XG4gICAgICAvLyBBdXRvLWFja25vd2xlZGdlIHRvIHByZXZlbnQgYmxvY2tpbmcgcHJvZ3Jlc3Npb25cbiAgICAgIGFja25vd2xlZGdlTm9kZShub2RlSWQsIG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFBhcnNlIHRoZSBub2RlIElEIHRvIGV4dHJhY3QgY2hhcHRlciBhbmQgbm9kZSBpbmZvXG4gICAgLy8gRXhwZWN0ZWQgZm9ybWF0OiBcInN0b3J5LjxjaGFwdGVyPi48bm9kZT5cIlxuICAgIGNvbnN0IHBhcnRzID0gbm9kZUlkLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAocGFydHMubGVuZ3RoIDwgMyB8fCBwYXJ0c1swXSAhPT0gXCJzdG9yeVwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbc3RvcnldIEludmFsaWQgbm9kZSBJRCBmb3JtYXQ6XCIsIG5vZGVJZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcHRlciA9IHBhcnRzWzFdO1xuICAgIGNvbnN0IG5vZGUgPSBwYXJ0cy5zbGljZSgyKS5qb2luKFwiLlwiKTtcblxuICAgIHNob3dEaWFsb2d1ZUZvck5vZGUoY2hhcHRlciwgbm9kZSwgbm9kZUlkLCBkaWFsb2d1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RGlhbG9ndWVGb3JOb2RlKGNoYXB0ZXI6IHN0cmluZywgbm9kZTogc3RyaW5nLCBmdWxsTm9kZUlkOiBzdHJpbmcsIGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQge1xuXG4gICAgLy8gU2hvdyB0dXRvcmlhbCB0aXAgaWYgcHJlc2VudFxuICAgIGlmIChjb250ZW50LnR1dG9yaWFsVGlwKSB7XG4gICAgICBzaG93VHV0b3JpYWxUaXAoY29udGVudC50dXRvcmlhbFRpcCk7XG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSBvdmVybGF5IGNvbnRlbnRcbiAgICBjb25zdCBvdmVybGF5Q29udGVudDogYW55ID0ge1xuICAgICAgc3BlYWtlcjogY29udGVudC5zcGVha2VyLFxuICAgICAgdGV4dDogY29udGVudC50ZXh0LFxuICAgICAgaW50ZW50OiBjb250ZW50LmludGVudCxcbiAgICAgIGNvbnRpbnVlTGFiZWw6IGNvbnRlbnQuY29udGludWVMYWJlbCxcbiAgICAgIHR5cGluZ1NwZWVkTXM6IGNvbnRlbnQudHlwaW5nU3BlZWRNcyxcbiAgICB9O1xuXG4gICAgLy8gQWRkIGNob2ljZXMgaWYgcHJlc2VudFxuICAgIGlmIChjb250ZW50LmNob2ljZXMgJiYgY29udGVudC5jaG9pY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIG92ZXJsYXlDb250ZW50LmNob2ljZXMgPSBjb250ZW50LmNob2ljZXM7XG4gICAgICBvdmVybGF5Q29udGVudC5vbkNob2ljZSA9IChjaG9pY2VJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgICAgICBvdmVybGF5LmhpZGUoKTtcbiAgICAgICAgYWNrbm93bGVkZ2VOb2RlKGZ1bGxOb2RlSWQsIGNob2ljZUlkKTtcbiAgICAgICAgYnVzLmVtaXQoXCJkaWFsb2d1ZTpjbG9zZWRcIiwgeyBub2RlSWQ6IG5vZGUsIGNoYXB0ZXJJZDogY2hhcHRlciB9KTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGNob2ljZXMgLSBqdXN0IGNvbnRpbnVlXG4gICAgICBvdmVybGF5Q29udGVudC5vbkNvbnRpbnVlID0gKCkgPT4ge1xuICAgICAgICBoaWRlVHV0b3JpYWxUaXAoKTtcbiAgICAgICAgb3ZlcmxheS5oaWRlKCk7XG4gICAgICAgIGFja25vd2xlZGdlTm9kZShmdWxsTm9kZUlkLCBudWxsKTtcbiAgICAgICAgYnVzLmVtaXQoXCJkaWFsb2d1ZTpjbG9zZWRcIiwgeyBub2RlSWQ6IG5vZGUsIGNoYXB0ZXJJZDogY2hhcHRlciB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGF1dG8tYWR2YW5jZVxuICAgIGlmIChjb250ZW50LmF1dG9BZHZhbmNlKSB7XG4gICAgICBvdmVybGF5Q29udGVudC5vblRleHRGdWxseVJlbmRlcmVkID0gKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBoaWRlVHV0b3JpYWxUaXAoKTtcbiAgICAgICAgICBvdmVybGF5LmhpZGUoKTtcbiAgICAgICAgICBhY2tub3dsZWRnZU5vZGUoZnVsbE5vZGVJZCwgbnVsbCk7XG4gICAgICAgICAgYnVzLmVtaXQoXCJkaWFsb2d1ZTpjbG9zZWRcIiwgeyBub2RlSWQ6IG5vZGUsIGNoYXB0ZXJJZDogY2hhcHRlciB9KTtcbiAgICAgICAgfSwgY29udGVudC5hdXRvQWR2YW5jZS5kZWxheU1zKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3ZlcmxheS5zaG93KG92ZXJsYXlDb250ZW50KTtcblxuICAgIGJ1cy5lbWl0KFwiZGlhbG9ndWU6b3BlbmVkXCIsIHsgbm9kZUlkOiBub2RlLCBjaGFwdGVySWQ6IGNoYXB0ZXIgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93VHV0b3JpYWxUaXAodGlwOiB7IHRpdGxlOiBzdHJpbmc7IHRleHQ6IHN0cmluZyB9KTogdm9pZCB7XG4gICAgaGlkZVR1dG9yaWFsVGlwKCk7XG5cbiAgICBjb25zdCB0aXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRpcENvbnRhaW5lci5jbGFzc05hbWUgPSBcInN0b3J5LXR1dG9yaWFsLXRpcFwiO1xuICAgIHRpcENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwic3RvcnktdHV0b3JpYWwtdGlwLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0b3J5LXR1dG9yaWFsLXRpcC10aXRsZVwiPiR7ZXNjYXBlSHRtbCh0aXAudGl0bGUpfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RvcnktdHV0b3JpYWwtdGlwLXRleHRcIj4ke2VzY2FwZUh0bWwodGlwLnRleHQpfTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRpcENvbnRhaW5lcik7XG4gICAgdHV0b3JpYWxUaXBFbGVtZW50ID0gdGlwQ29udGFpbmVyO1xuXG4gICAgLy8gRW5zdXJlIHN0eWxlcyBhcmUgbG9hZGVkXG4gICAgZW5zdXJlVHV0b3JpYWxUaXBTdHlsZXMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVUdXRvcmlhbFRpcCgpOiB2b2lkIHtcbiAgICBpZiAodHV0b3JpYWxUaXBFbGVtZW50KSB7XG4gICAgICB0dXRvcmlhbFRpcEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB0dXRvcmlhbFRpcEVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVzY2FwZUh0bWwodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG4gIH1cblxuICBmdW5jdGlvbiBlbnN1cmVUdXRvcmlhbFRpcFN0eWxlcygpOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZUlkID0gXCJzdG9yeS10dXRvcmlhbC10aXAtc3R5bGVzXCI7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0eWxlSWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIHN0eWxlLmlkID0gc3R5bGVJZDtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgIC5zdG9yeS10dXRvcmlhbC10aXAge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogODBweDtcbiAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgIG1heC13aWR0aDogMzIwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTMsIDE0OCwgMTM2LCAwLjk1KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NiwgMTg5LCAyNDgsIDAuNik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgcGFkZGluZzogMTRweCAxNnB4O1xuICAgICAgICBjb2xvcjogI2UyZThmMDtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiSUJNIFBsZXggTW9ub1wiLCBcIkpldEJyYWlucyBNb25vXCIsIHVpLW1vbm9zcGFjZSwgbW9ub3NwYWNlO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgIHotaW5kZXg6IDU1O1xuICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyNHB4IHJnYmEoMiwgNiwgMTYsIDAuNSk7XG4gICAgICAgIGFuaW1hdGlvbjogc3RvcnktdGlwLXNsaWRlLWluIDAuM3MgZWFzZS1vdXQ7XG4gICAgICB9XG4gICAgICAuc3RvcnktdHV0b3JpYWwtdGlwLXRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wOGVtO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICBjb2xvcjogIzM4YmRmODtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgfVxuICAgICAgLnN0b3J5LXR1dG9yaWFsLXRpcC10ZXh0IHtcbiAgICAgICAgY29sb3I6ICNmMWY1Zjk7XG4gICAgICB9XG4gICAgICBAa2V5ZnJhbWVzIHN0b3J5LXRpcC1zbGlkZS1pbiB7XG4gICAgICAgIGZyb20ge1xuICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwcHgpO1xuICAgICAgICB9XG4gICAgICAgIHRvIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhY2tub3dsZWRnZU5vZGUobm9kZUlkOiBzdHJpbmcsIGNob2ljZUlkOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgY29uc3QgbXNnOiB7IHR5cGU6IHN0cmluZzsgbm9kZV9pZDogc3RyaW5nOyBjaG9pY2VfaWQ/OiBzdHJpbmcgfSA9IHtcbiAgICAgIHR5cGU6IFwiZGFnX3N0b3J5X2Fja1wiLFxuICAgICAgbm9kZV9pZDogbm9kZUlkLFxuICAgIH07XG4gICAgaWYgKGNob2ljZUlkKSB7XG4gICAgICBtc2cuY2hvaWNlX2lkID0gY2hvaWNlSWQ7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKG1zZyk7XG4gICAgY29uc29sZS5sb2coXCJbc3RvcnldIEFja25vd2xlZGdlZCBub2RlOlwiLCBub2RlSWQsIGNob2ljZUlkID8gYChjaG9pY2U6ICR7Y2hvaWNlSWR9KWAgOiBcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKFwiW3N0b3J5XSBTdGFydGluZyBzdG9yeSBjb250cm9sbGVyXCIpO1xuICAgIC8vIExpc3RlbiBmb3Igc3Rvcnkgbm9kZSBhY3RpdmF0aW9uIGZyb20gdGhlIHNlcnZlclxuICAgIGxpc3RlbmVycy5wdXNoKGJ1cy5vbihcInN0b3J5Om5vZGVBY3RpdmF0ZWRcIiwgaGFuZGxlTm9kZUFjdGl2YXRlZCkpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhbHJlYWR5IGFuIGFjdGl2ZSBzdG9yeSBub2RlIG9uIHN0YXJ0dXBcbiAgICBpZiAoc3RhdGUuc3Rvcnk/LmFjdGl2ZU5vZGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW3N0b3J5XSBGb3VuZCBhY3RpdmUgc3Rvcnkgbm9kZSBvbiBzdGFydHVwOlwiLCBzdGF0ZS5zdG9yeS5hY3RpdmVOb2RlKTtcbiAgICAgIGhhbmRsZU5vZGVBY3RpdmF0ZWQoe1xuICAgICAgICBub2RlSWQ6IHN0YXRlLnN0b3J5LmFjdGl2ZU5vZGUsXG4gICAgICAgIGRpYWxvZ3VlOiBzdGF0ZS5zdG9yeS5kaWFsb2d1ZSA/PyB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCk6IHZvaWQge1xuICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgbGlzdGVuZXJzLmxlbmd0aCA9IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIGRlc3Ryb3ksXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGNyZWF0ZURpYWxvZ3VlT3ZlcmxheSB9IGZyb20gXCIuL292ZXJsYXlcIjtcbmltcG9ydCB7IGNyZWF0ZVN0b3J5Q29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeUNvbnRyb2xsZXIge1xuICBkZXN0cm95KCk6IHZvaWQ7XG4gIHJlc2V0KCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNb3VudFN0b3J5T3B0aW9ucyB7XG4gIGJ1czogRXZlbnRCdXM7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgcm9vbUlkPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBNb3VudHMgdGhlIHNlcnZlci1kcml2ZW4gc3Rvcnkgc3lzdGVtLlxuICogU3RvcnkgcHJvZ3Jlc3Npb24gaXMgbm93IGNvbnRyb2xsZWQgYnkgdGhlIHNlcnZlciBEQUcsXG4gKiBhbmQgdGhpcyBjb250cm9sbGVyIHNpbXBseSBkaXNwbGF5cyBkaWFsb2d1ZSB3aGVuIG5vZGVzIGFyZSBhY3RpdmF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudFN0b3J5KHsgYnVzLCBzdGF0ZSB9OiBNb3VudFN0b3J5T3B0aW9ucyk6IFN0b3J5Q29udHJvbGxlciB7XG4gIGNvbnN0IG92ZXJsYXkgPSBjcmVhdGVEaWFsb2d1ZU92ZXJsYXkoKTtcbiAgY29uc3QgY29udHJvbGxlciA9IGNyZWF0ZVN0b3J5Q29udHJvbGxlcih7XG4gICAgYnVzLFxuICAgIG92ZXJsYXksXG4gICAgc3RhdGUsXG4gIH0pO1xuICBcbiAgY29udHJvbGxlci5zdGFydCgpO1xuXG4gIHJldHVybiB7XG4gICAgZGVzdHJveSgpIHtcbiAgICAgIGNvbnRyb2xsZXIuZGVzdHJveSgpO1xuICAgICAgb3ZlcmxheS5kZXN0cm95KCk7XG4gICAgfSxcbiAgICByZXNldCgpIHtcbiAgICAgIC8vIFJlc2V0IGlzIG5vIGxvbmdlciBuZWVkZWQgYXMgc3RhdGUgaXMgc2VydmVyLWF1dGhvcml0YXRpdmVcbiAgICAgIC8vIEJ1dCB3ZSBrZWVwIHRoZSBpbnRlcmZhY2UgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgIGNvbnNvbGUud2FybihcIltzdG9yeV0gcmVzZXQoKSBjYWxsZWQgYnV0IHN0b3J5IGlzIG5vdyBzZXJ2ZXItZHJpdmVuXCIpO1xuICAgIH0sXG4gIH07XG59XG5cbi8vIExlZ2FjeSBleHBvcnRzIGZvciBjb21wYXRpYmlsaXR5XG5leHBvcnQgY29uc3QgSU5UUk9fQ0hBUFRFUl9JRCA9IFwiaW50cm9cIjtcbmV4cG9ydCBjb25zdCBJTlRST19JTklUSUFMX1JFU1BPTlNFX0lEUyA9IFtcIjJBXCIsIFwiMkJcIiwgXCIyQ1wiXSBhcyBjb25zdDtcbiIsICIvLyBzcmMvc3RhcnQtZ2F0ZS50c1xuZXhwb3J0IHR5cGUgU3RhcnRHYXRlT3B0aW9ucyA9IHtcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIHJlcXVlc3RGdWxsc2NyZWVuPzogYm9vbGVhbjtcbiAgcmVzdW1lQXVkaW8/OiAoKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDsgLy8gZS5nLiwgZnJvbSBzdG9yeS9zZngudHNcbn07XG5cbmNvbnN0IFNUT1JBR0VfS0VZID0gXCJsc2Q6bXV0ZWRcIjtcblxuLy8gSGVscGVyOiBnZXQgdGhlIHNoYXJlZCBBdWRpb0NvbnRleHQgeW91IGV4cG9zZSBzb21ld2hlcmUgaW4geW91ciBhdWRpbyBlbmdpbmU6XG4vLyAgICh3aW5kb3cgYXMgYW55KS5MU0RfQVVESU9fQ1RYID0gY3R4O1xuZnVuY3Rpb24gZ2V0Q3R4KCk6IEF1ZGlvQ29udGV4dCB8IG51bGwge1xuICBjb25zdCBBQyA9ICh3aW5kb3cgYXMgYW55KS5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dDtcbiAgY29uc3QgY3R4ID0gKHdpbmRvdyBhcyBhbnkpLkxTRF9BVURJT19DVFg7XG4gIHJldHVybiBjdHggaW5zdGFuY2VvZiBBQyA/IGN0eCBhcyBBdWRpb0NvbnRleHQgOiBudWxsO1xufVxuXG5jbGFzcyBNdXRlTWFuYWdlciB7XG4gIHByaXZhdGUgYnV0dG9uczogSFRNTEJ1dHRvbkVsZW1lbnRbXSA9IFtdO1xuICBwcml2YXRlIGVuZm9yY2luZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIGtlZXAgVUkgaW4gc3luYyBpZiBzb21lb25lIGVsc2UgdG9nZ2xlc1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsc2Q6bXV0ZUNoYW5nZWRcIiwgKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbXV0ZWQgPSAhIWU/LmRldGFpbD8ubXV0ZWQ7XG4gICAgICB0aGlzLmFwcGx5VUkobXV0ZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNNdXRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpID09PSBcIjFcIjtcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZShtdXRlZDogYm9vbGVhbikge1xuICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBtdXRlZCA/IFwiMVwiIDogXCIwXCIpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGxhYmVsKGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQsIG11dGVkOiBib29sZWFuKSB7XG4gICAgYnRuLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCBTdHJpbmcobXV0ZWQpKTtcbiAgICBidG4udGl0bGUgPSBtdXRlZCA/IFwiVW5tdXRlIChNKVwiIDogXCJNdXRlIChNKVwiO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IG11dGVkID8gXCJcdUQ4M0RcdUREMDggVW5tdXRlXCIgOiBcIlx1RDgzRFx1REQwNyBNdXRlXCI7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5VUkobXV0ZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChiID0+IHRoaXMubGFiZWwoYiwgbXV0ZWQpKTtcbiAgfVxuXG4gIGF0dGFjaEJ1dHRvbihidG46IEhUTUxCdXR0b25FbGVtZW50KSB7XG4gICAgdGhpcy5idXR0b25zLnB1c2goYnRuKTtcbiAgICB0aGlzLmxhYmVsKGJ0biwgdGhpcy5pc011dGVkKCkpO1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy50b2dnbGUoKSk7XG4gIH1cblxuICBhc3luYyBzZXRNdXRlZChtdXRlZDogYm9vbGVhbikge1xuICAgIHRoaXMuc2F2ZShtdXRlZCk7XG4gICAgdGhpcy5hcHBseVVJKG11dGVkKTtcblxuICAgIGNvbnN0IGN0eCA9IGdldEN0eCgpO1xuICAgIGlmIChjdHgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChtdXRlZCAmJiBjdHguc3RhdGUgIT09IFwic3VzcGVuZGVkXCIpIHtcbiAgICAgICAgICBhd2FpdCBjdHguc3VzcGVuZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCFtdXRlZCAmJiBjdHguc3RhdGUgIT09IFwicnVubmluZ1wiKSB7XG4gICAgICAgICAgYXdhaXQgY3R4LnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlthdWRpb10gbXV0ZSB0b2dnbGUgZmFpbGVkOlwiLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImxzZDptdXRlQ2hhbmdlZFwiLCB7IGRldGFpbDogeyBtdXRlZCB9IH0pKTtcbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLnNldE11dGVkKCF0aGlzLmlzTXV0ZWQoKSk7XG4gIH1cblxuICAvLyBJZiBjdHggaXNuJ3QgY3JlYXRlZCB1bnRpbCBhZnRlciBTdGFydCwgZW5mb3JjZSBwZXJzaXN0ZWQgc3RhdGUgb25jZSBhdmFpbGFibGVcbiAgZW5mb3JjZU9uY2VXaGVuUmVhZHkoKSB7XG4gICAgaWYgKHRoaXMuZW5mb3JjaW5nKSByZXR1cm47XG4gICAgdGhpcy5lbmZvcmNpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHRpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjdHggPSBnZXRDdHgoKTtcbiAgICAgIGlmICghY3R4KSB7IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTsgcmV0dXJuOyB9XG4gICAgICB0aGlzLnNldE11dGVkKHRoaXMuaXNNdXRlZCgpKTtcbiAgICB9O1xuICAgIHRpY2soKTtcbiAgfVxufVxuXG5jb25zdCBtdXRlTWdyID0gbmV3IE11dGVNYW5hZ2VyKCk7XG5cbi8vIEluc3RhbGwgYSBtdXRlIGJ1dHRvbiBpbiB0aGUgdG9wIGZyYW1lIChyaWdodCBzaWRlKSBpZiBwb3NzaWJsZS5cbmZ1bmN0aW9uIGVuc3VyZVRvcEZyYW1lTXV0ZUJ1dHRvbigpIHtcbiAgY29uc3QgdG9wUmlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvcC1yaWdodFwiKTtcbiAgaWYgKCF0b3BSaWdodCkgcmV0dXJuO1xuXG4gIC8vIEF2b2lkIGR1cGxpY2F0ZXNcbiAgaWYgKHRvcFJpZ2h0LnF1ZXJ5U2VsZWN0b3IoXCIjbXV0ZS10b3BcIikpIHJldHVybjtcblxuICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBidG4uaWQgPSBcIm11dGUtdG9wXCI7XG4gIGJ0bi5jbGFzc05hbWUgPSBcImdob3N0LWJ0biBzbWFsbFwiO1xuICBidG4uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwiZmFsc2VcIik7XG4gIGJ0bi50aXRsZSA9IFwiTXV0ZSAoTSlcIjtcbiAgYnRuLnRleHRDb250ZW50ID0gXCJcdUQ4M0RcdUREMDcgTXV0ZVwiO1xuICB0b3BSaWdodC5hcHBlbmRDaGlsZChidG4pO1xuICBtdXRlTWdyLmF0dGFjaEJ1dHRvbihidG4pO1xufVxuXG4vLyBHbG9iYWwga2V5Ym9hcmQgc2hvcnRjdXQgKE0pXG4oZnVuY3Rpb24gaW5zdGFsbE11dGVIb3RrZXkoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleT8udG9Mb3dlckNhc2UoKSA9PT0gXCJtXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG11dGVNZ3IudG9nZ2xlKCk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yVXNlclN0YXJ0KG9wdHM6IFN0YXJ0R2F0ZU9wdGlvbnMgPSB7fSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB7IGxhYmVsID0gXCJTdGFydCBHYW1lXCIsIHJlcXVlc3RGdWxsc2NyZWVuID0gZmFsc2UsIHJlc3VtZUF1ZGlvIH0gPSBvcHRzO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIC8vIG92ZXJsYXlcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBvdmVybGF5LmlkID0gXCJzdGFydC1vdmVybGF5XCI7XG4gICAgb3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGlkPVwic3RhcnQtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzdGFydC1idG5cIiBhcmlhLWxhYmVsPVwiJHtsYWJlbH1cIj4ke2xhYmVsfTwvYnV0dG9uPlxuICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDoxMHB4XCI+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cIm11dGUtYmVsb3ctc3RhcnRcIiBjbGFzcz1cImdob3N0LWJ0blwiIGFyaWEtcHJlc3NlZD1cImZhbHNlXCIgdGl0bGU9XCJNdXRlIChNKVwiPlx1RDgzRFx1REQwNyBNdXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cD4gT24gbW9iaWxlIHR1cm4gcGhvbmUgdG8gbGFuZHNjYXBlIGZvciBiZXN0IGV4cGVyaWVuY2UuIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICAgIC8vIHN0eWxlcyAobW92ZSB0byBDU1MgbGF0ZXIgaWYgeW91IHdhbnQpXG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAjc3RhcnQtb3ZlcmxheSB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IGNlbnRlciwgcmdiYSgwLDAsMCwwLjYpLCByZ2JhKDAsMCwwLDAuOSkpO1xuICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgfVxuICAgICAgI3N0YXJ0LWNvbnRhaW5lciB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgI3N0YXJ0LWJ0biB7XG4gICAgICAgIGZvbnQtc2l6ZTogMnJlbTsgcGFkZGluZzogMXJlbSAyLjVyZW07IGJvcmRlcjogMnB4IHNvbGlkICNmZmY7IGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogI2ZmZjsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEycyBlYXNlLCBiYWNrZ3JvdW5kIC4ycyBlYXNlLCBjb2xvciAuMnMgZWFzZTtcbiAgICAgIH1cbiAgICAgICNzdGFydC1idG46aG92ZXIgeyBiYWNrZ3JvdW5kOiAjZmZmOyBjb2xvcjogIzAwMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpOyB9XG4gICAgICAjc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxuICAgICAgI211dGUtYmVsb3ctc3RhcnQge1xuICAgICAgICBmb250LXNpemU6IDFyZW07IHBhZGRpbmc6IC41cmVtIDFyZW07IGJvcmRlci1yYWRpdXM6IDk5OXB4OyBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMzUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDMwLCA0MSwgNTksIDAuNzIpOyBjb2xvcjogI2Y4ZmFmYztcbiAgICAgIH1cbiAgICAgIC5naG9zdC1idG4uc21hbGwgeyBwYWRkaW5nOiA0cHggOHB4OyBmb250LXNpemU6IDExcHg7IH1cbiAgICBgO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgLy8gV2lyZSBvdmVybGF5IGJ1dHRvbnNcbiAgICBjb25zdCBzdGFydEJ0biA9IG92ZXJsYXkucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjc3RhcnQtYnRuXCIpITtcbiAgICBjb25zdCBtdXRlQmVsb3dTdGFydCA9IG92ZXJsYXkucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjbXV0ZS1iZWxvdy1zdGFydFwiKSE7XG4gICAgY29uc3QgdG9wTXV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXV0ZS10b3BcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGlmICh0b3BNdXRlKSBtdXRlTWdyLmF0dGFjaEJ1dHRvbih0b3BNdXRlKTtcbiAgICBtdXRlTWdyLmF0dGFjaEJ1dHRvbihtdXRlQmVsb3dTdGFydCk7XG5cbiAgICAvLyByZXN0b3JlIHBlcnNpc3RlZCBtdXRlIGxhYmVsIGltbWVkaWF0ZWx5XG4gICAgbXV0ZU1nci5lbmZvcmNlT25jZVdoZW5SZWFkeSgpO1xuXG4gICAgY29uc3Qgc3RhcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBhdWRpbyBmaXJzdCAodXNlciBnZXN0dXJlKVxuICAgICAgdHJ5IHsgYXdhaXQgcmVzdW1lQXVkaW8/LigpOyB9IGNhdGNoIHt9XG5cbiAgICAgIC8vIHJlc3BlY3QgcGVyc2lzdGVkIG11dGUgc3RhdGUgbm93IHRoYXQgY3R4IGxpa2VseSBleGlzdHNcbiAgICAgIG11dGVNZ3IuZW5mb3JjZU9uY2VXaGVuUmVhZHkoKTtcblxuICAgICAgLy8gb3B0aW9uYWwgZnVsbHNjcmVlblxuICAgICAgaWYgKHJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIHRyeSB7IGF3YWl0IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbj8uKCk7IH0gY2F0Y2gge31cbiAgICAgIH1cblxuICAgICAgLy8gY2xlYW51cCBvdmVybGF5XG4gICAgICBzdHlsZS5yZW1vdmUoKTtcbiAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGVuc3VyZSB0b3AtZnJhbWUgbXV0ZSBidXR0b24gZXhpc3RzIGFmdGVyIG92ZXJsYXlcbiAgICAgIGVuc3VyZVRvcEZyYW1lTXV0ZUJ1dHRvbigpO1xuXG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcblxuICAgIC8vIHN0YXJ0IGJ1dHRvblxuICAgIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzdGFydCwgeyBvbmNlOiB0cnVlIH0pO1xuXG4gICAgLy8gQWNjZXNzaWJpbGl0eTogYWxsb3cgRW50ZXIgLyBTcGFjZVxuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiIHx8IGUua2V5ID09PSBcIiBcIikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0YXJ0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGb2N1cyBmb3Iga2V5Ym9hcmQgdXNlcnNcbiAgICBzdGFydEJ0bi50YWJJbmRleCA9IDA7XG4gICAgc3RhcnRCdG4uZm9jdXMoKTtcblxuICAgIC8vIEFsc28gdHJ5IHRvIGNyZWF0ZSB0aGUgdG9wLWZyYW1lIG11dGUgaW1tZWRpYXRlbHkgaWYgRE9NIGlzIHJlYWR5XG4gICAgLy8gKElmICN0b3AtcmlnaHQgaXNuJ3QgdGhlcmUgeWV0LCBpdCdzIGhhcm1sZXNzOyB3ZSdsbCBhZGQgaXQgYWZ0ZXIgc3RhcnQgdG9vLilcbiAgICBlbnN1cmVUb3BGcmFtZU11dGVCdXR0b24oKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBQUk5HIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEF1ZGlvRW5naW5lIHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3Q6IEF1ZGlvRW5naW5lIHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIHJlYWRvbmx5IGN0eDogQXVkaW9Db250ZXh0O1xuICBwcml2YXRlIHJlYWRvbmx5IG1hc3RlcjogR2Fpbk5vZGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgbXVzaWNCdXM6IEdhaW5Ob2RlO1xuICBwcml2YXRlIHJlYWRvbmx5IHNmeEJ1czogR2Fpbk5vZGU7XG5cbiAgcHJpdmF0ZSBfdGFyZ2V0TWFzdGVyID0gMC45O1xuICBwcml2YXRlIF90YXJnZXRNdXNpYyA9IDAuOTtcbiAgcHJpdmF0ZSBfdGFyZ2V0U2Z4ID0gMC45O1xuXG4gIHN0YXRpYyBnZXQoKTogQXVkaW9FbmdpbmUge1xuICAgIGlmICghdGhpcy5faW5zdCkgdGhpcy5faW5zdCA9IG5ldyBBdWRpb0VuZ2luZSgpO1xuICAgIHJldHVybiB0aGlzLl9pbnN0O1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAod2luZG93IGFzIGFueSkuTFNEX0FVRElPX0NUWCA9ICh0aGlzIGFzIGFueSkuY3R4O1xuXG4gICAgdGhpcy5tYXN0ZXIgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogdGhpcy5fdGFyZ2V0TWFzdGVyIH0pO1xuICAgIHRoaXMubXVzaWNCdXMgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogdGhpcy5fdGFyZ2V0TXVzaWMgfSk7XG4gICAgdGhpcy5zZnhCdXMgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogdGhpcy5fdGFyZ2V0U2Z4IH0pO1xuXG4gICAgdGhpcy5tdXNpY0J1cy5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLnNmeEJ1cy5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLm1hc3Rlci5jb25uZWN0KHRoaXMuY3R4LmRlc3RpbmF0aW9uKTtcbiAgfVxuXG4gIGdldCBub3coKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jdHguY3VycmVudFRpbWU7XG4gIH1cblxuICBnZXRNdXNpY0J1cygpOiBHYWluTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMubXVzaWNCdXM7XG4gIH1cblxuICBnZXRTZnhCdXMoKTogR2Fpbk5vZGUge1xuICAgIHJldHVybiB0aGlzLnNmeEJ1cztcbiAgfVxuXG4gIGFzeW5jIHJlc3VtZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3R4LnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN1c3BlbmQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuY3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xuICAgICAgYXdhaXQgdGhpcy5jdHguc3VzcGVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIHNldE1hc3RlckdhaW4odjogbnVtYmVyLCB0ID0gdGhpcy5ub3csIHJhbXAgPSAwLjAzKTogdm9pZCB7XG4gICAgdGhpcy5fdGFyZ2V0TWFzdGVyID0gdjtcbiAgICB0aGlzLm1hc3Rlci5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICB0aGlzLm1hc3Rlci5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHYsIHQgKyByYW1wKTtcbiAgfVxuXG4gIHNldE11c2ljR2Fpbih2OiBudW1iZXIsIHQgPSB0aGlzLm5vdywgcmFtcCA9IDAuMDMpOiB2b2lkIHtcbiAgICB0aGlzLl90YXJnZXRNdXNpYyA9IHY7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICB0aGlzLm11c2ljQnVzLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodiwgdCArIHJhbXApO1xuICB9XG5cbiAgc2V0U2Z4R2Fpbih2OiBudW1iZXIsIHQgPSB0aGlzLm5vdywgcmFtcCA9IDAuMDMpOiB2b2lkIHtcbiAgICB0aGlzLl90YXJnZXRTZnggPSB2O1xuICAgIHRoaXMuc2Z4QnVzLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpO1xuICAgIHRoaXMuc2Z4QnVzLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodiwgdCArIHJhbXApO1xuICB9XG5cbiAgZHVja011c2ljKGxldmVsID0gMC40LCBhdHRhY2sgPSAwLjA1KTogdm9pZCB7XG4gICAgY29uc3QgdCA9IHRoaXMubm93O1xuICAgIHRoaXMubXVzaWNCdXMuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGxldmVsLCB0ICsgYXR0YWNrKTtcbiAgfVxuXG4gIHVuZHVja011c2ljKHJlbGVhc2UgPSAwLjI1KTogdm9pZCB7XG4gICAgY29uc3QgdCA9IHRoaXMubm93O1xuICAgIHRoaXMubXVzaWNCdXMuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RhcmdldE11c2ljLCB0ICsgcmVsZWFzZSk7XG4gIH1cbn1cblxuLy8gVGlueSBzZWVkYWJsZSBQUk5HIChNdWxiZXJyeTMyKVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQUk5HKHNlZWQ6IG51bWJlcik6IFBSTkcge1xuICBsZXQgcyA9IChzZWVkID4+PiAwKSB8fCAxO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHMgKz0gMHg2RDJCNzlGNTtcbiAgICBsZXQgdCA9IE1hdGguaW11bChzIF4gKHMgPj4+IDE1KSwgMSB8IHMpO1xuICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gKHQgPj4+IDcpLCA2MSB8IHQpO1xuICAgIHJldHVybiAoKHQgXiAodCA+Pj4gMTQpKSA+Pj4gMCkgLyA0Mjk0OTY3Mjk2O1xuICB9O1xufVxuIiwgIi8vIExvdy1sZXZlbCBncmFwaCBidWlsZGVycyAvIGhlbHBlcnNcblxuZXhwb3J0IGZ1bmN0aW9uIG9zYyhjdHg6IEF1ZGlvQ29udGV4dCwgdHlwZTogT3NjaWxsYXRvclR5cGUsIGZyZXE6IG51bWJlcikge1xuICByZXR1cm4gbmV3IE9zY2lsbGF0b3JOb2RlKGN0eCwgeyB0eXBlLCBmcmVxdWVuY3k6IGZyZXEgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub2lzZShjdHg6IEF1ZGlvQ29udGV4dCkge1xuICBjb25zdCBidWZmZXIgPSBjdHguY3JlYXRlQnVmZmVyKDEsIGN0eC5zYW1wbGVSYXRlICogMiwgY3R4LnNhbXBsZVJhdGUpO1xuICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIGRhdGFbaV0gPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7XG4gIHJldHVybiBuZXcgQXVkaW9CdWZmZXJTb3VyY2VOb2RlKGN0eCwgeyBidWZmZXIsIGxvb3A6IHRydWUgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFubmVyKGN0eDogQXVkaW9Db250ZXh0LCBwYW4gPSAwKSB7XG4gIHJldHVybiBuZXcgU3RlcmVvUGFubmVyTm9kZShjdHgsIHsgcGFuIH0pO1xufVxuXG4vKiogQmFzaWMgQURTUiBhcHBsaWVkIHRvIGEgR2Fpbk5vZGUgQXVkaW9QYXJhbS4gUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHJlbGVhc2UuICovXG5leHBvcnQgZnVuY3Rpb24gYWRzcihcbiAgY3R4OiBBdWRpb0NvbnRleHQsXG4gIHBhcmFtOiBBdWRpb1BhcmFtLFxuICB0MDogbnVtYmVyLFxuICBhID0gMC4wMSwgLy8gYXR0YWNrXG4gIGQgPSAwLjA4LCAvLyBkZWNheVxuICBzID0gMC41LCAgLy8gc3VzdGFpbiAoMC4uMSBvZiBwZWFrKVxuICByID0gMC4yLCAgLy8gcmVsZWFzZVxuICBwZWFrID0gMVxuKSB7XG4gIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0MCk7XG4gIHBhcmFtLnNldFZhbHVlQXRUaW1lKDAsIHQwKTtcbiAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUocGVhaywgdDAgKyBhKTtcbiAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUocyAqIHBlYWssIHQwICsgYSArIGQpO1xuICByZXR1cm4gKHJlbGVhc2VBdCA9IGN0eC5jdXJyZW50VGltZSkgPT4ge1xuICAgIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhyZWxlYXNlQXQpO1xuICAgIC8vIGF2b2lkIHN1ZGRlbiBqdW1wczsgY29udGludWUgZnJvbSBjdXJyZW50XG4gICAgcGFyYW0uc2V0VmFsdWVBdFRpbWUocGFyYW0udmFsdWUsIHJlbGVhc2VBdCk7XG4gICAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAxLCByZWxlYXNlQXQgKyByKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxmb1RvUGFyYW0oXG4gIGN0eDogQXVkaW9Db250ZXh0LFxuICB0YXJnZXQ6IEF1ZGlvUGFyYW0sXG4gIHsgZnJlcXVlbmN5ID0gMC4xLCBkZXB0aCA9IDMwMCwgdHlwZSA9IFwic2luZVwiIGFzIE9zY2lsbGF0b3JUeXBlIH0gPSB7fVxuKSB7XG4gIGNvbnN0IGxmbyA9IG5ldyBPc2NpbGxhdG9yTm9kZShjdHgsIHsgdHlwZSwgZnJlcXVlbmN5IH0pO1xuICBjb25zdCBhbXAgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IGRlcHRoIH0pO1xuICBsZm8uY29ubmVjdChhbXApLmNvbm5lY3QodGFyZ2V0KTtcbiAgcmV0dXJuIHtcbiAgICBzdGFydChhdCA9IGN0eC5jdXJyZW50VGltZSkgeyBsZm8uc3RhcnQoYXQpOyB9LFxuICAgIHN0b3AoYXQgPSBjdHguY3VycmVudFRpbWUpIHsgbGZvLnN0b3AoYXQpOyBhbXAuZGlzY29ubmVjdCgpOyB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4vZW5naW5lXCI7XG5pbXBvcnQgeyBhZHNyLCBtYWtlUGFubmVyLCBub2lzZSwgb3NjIH0gZnJvbSBcIi4vZ3JhcGhcIjtcbmltcG9ydCB0eXBlIHsgU2Z4TmFtZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKiBGaXJlLWFuZC1mb3JnZXQgU0ZYIGJ5IG5hbWUsIHdpdGggc2ltcGxlIHBhcmFtcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbGF5U2Z4KFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICBuYW1lOiBTZnhOYW1lLFxuICBvcHRzOiB7IHZlbG9jaXR5PzogbnVtYmVyOyBwYW4/OiBudW1iZXIgfSA9IHt9XG4pIHtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSBcImxhc2VyXCI6IHJldHVybiBwbGF5TGFzZXIoZW5naW5lLCBvcHRzKTtcbiAgICBjYXNlIFwidGhydXN0XCI6IHJldHVybiBwbGF5VGhydXN0KGVuZ2luZSwgb3B0cyk7XG4gICAgY2FzZSBcImV4cGxvc2lvblwiOiByZXR1cm4gcGxheUV4cGxvc2lvbihlbmdpbmUsIG9wdHMpO1xuICAgIGNhc2UgXCJsb2NrXCI6IHJldHVybiBwbGF5TG9jayhlbmdpbmUsIG9wdHMpO1xuICAgIGNhc2UgXCJ1aVwiOiByZXR1cm4gcGxheVVpKGVuZ2luZSwgb3B0cyk7XG4gICAgY2FzZSBcImRpYWxvZ3VlXCI6IHJldHVybiBwbGF5RGlhbG9ndWUoZW5naW5lLCBvcHRzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheUxhc2VyKFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICB7IHZlbG9jaXR5ID0gMSwgcGFuID0gMCB9ID0ge31cbikge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBvID0gb3NjKGN0eCwgXCJzcXVhcmVcIiwgNjgwICsgMTYwICogdmVsb2NpdHkpO1xuICBjb25zdCBmID0gbmV3IEJpcXVhZEZpbHRlck5vZGUoY3R4LCB7IHR5cGU6IFwibG93cGFzc1wiLCBmcmVxdWVuY3k6IDEyMDAgfSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBvLmNvbm5lY3QoZikuY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMDIsIDAuMDMsIDAuMjUsIDAuMDgsIDAuNjUpO1xuICBvLnN0YXJ0KG5vdyk7XG4gIHJlbGVhc2Uobm93ICsgMC4wNik7XG4gIG8uc3RvcChub3cgKyAwLjIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVRocnVzdChcbiAgZW5naW5lOiBBdWRpb0VuZ2luZSxcbiAgeyB2ZWxvY2l0eSA9IDAuNiwgcGFuID0gMCB9ID0ge31cbikge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBuID0gbm9pc2UoY3R4KTtcbiAgY29uc3QgZiA9IG5ldyBCaXF1YWRGaWx0ZXJOb2RlKGN0eCwge1xuICAgIHR5cGU6IFwiYmFuZHBhc3NcIixcbiAgICBmcmVxdWVuY3k6IDE4MCArIDM2MCAqIHZlbG9jaXR5LFxuICAgIFE6IDEuMSxcbiAgfSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBuLmNvbm5lY3QoZikuY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMTIsIDAuMTUsIDAuNzUsIDAuMjUsIDAuNDUgKiB2ZWxvY2l0eSk7XG4gIG4uc3RhcnQobm93KTtcbiAgcmVsZWFzZShub3cgKyAwLjI1KTtcbiAgbi5zdG9wKG5vdyArIDEuMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5RXhwbG9zaW9uKFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICB7IHZlbG9jaXR5ID0gMSwgcGFuID0gMCB9ID0ge31cbikge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBuID0gbm9pc2UoY3R4KTtcbiAgY29uc3QgZiA9IG5ldyBCaXF1YWRGaWx0ZXJOb2RlKGN0eCwge1xuICAgIHR5cGU6IFwibG93cGFzc1wiLFxuICAgIGZyZXF1ZW5jeTogMjIwMCAqIE1hdGgubWF4KDAuMiwgTWF0aC5taW4odmVsb2NpdHksIDEpKSxcbiAgICBROiAwLjIsXG4gIH0pO1xuICBjb25zdCBnID0gbmV3IEdhaW5Ob2RlKGN0eCwgeyBnYWluOiAwIH0pO1xuICBjb25zdCBwID0gbWFrZVBhbm5lcihjdHgsIHBhbik7XG5cbiAgbi5jb25uZWN0KGYpLmNvbm5lY3QoZykuY29ubmVjdChwKS5jb25uZWN0KG91dCk7XG4gIGNvbnN0IHJlbGVhc2UgPSBhZHNyKGN0eCwgZy5nYWluLCBub3csIDAuMDA1LCAwLjA4LCAwLjUsIDAuMzUsIDEuMSAqIHZlbG9jaXR5KTtcbiAgbi5zdGFydChub3cpO1xuICByZWxlYXNlKG5vdyArIDAuMTUgKyAwLjEgKiB2ZWxvY2l0eSk7XG4gIG4uc3RvcChub3cgKyAxLjIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheUxvY2soXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIHsgdmVsb2NpdHkgPSAxLCBwYW4gPSAwIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IGJhc2UgPSA1MjAgKyAxNDAgKiB2ZWxvY2l0eTtcbiAgY29uc3QgbzEgPSBvc2MoY3R4LCBcInNpbmVcIiwgYmFzZSk7XG4gIGNvbnN0IG8yID0gb3NjKGN0eCwgXCJzaW5lXCIsIGJhc2UgKiAxLjUpO1xuXG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBvMS5jb25uZWN0KGcpOyBvMi5jb25uZWN0KGcpO1xuICBnLmNvbm5lY3QocCkuY29ubmVjdChvdXQpO1xuXG4gIGNvbnN0IHJlbGVhc2UgPSBhZHNyKGN0eCwgZy5nYWluLCBub3csIDAuMDAxLCAwLjAyLCAwLjAsIDAuMTIsIDAuNik7XG4gIG8xLnN0YXJ0KG5vdyk7IG8yLnN0YXJ0KG5vdyArIDAuMDIpO1xuICByZWxlYXNlKG5vdyArIDAuMDYpO1xuICBvMS5zdG9wKG5vdyArIDAuMik7IG8yLnN0b3Aobm93ICsgMC4yMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5VWkoZW5naW5lOiBBdWRpb0VuZ2luZSwgeyB2ZWxvY2l0eSA9IDEsIHBhbiA9IDAgfSA9IHt9KSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IG8gPSBvc2MoY3R4LCBcInRyaWFuZ2xlXCIsIDg4MCAtIDEyMCAqIHZlbG9jaXR5KTtcbiAgY29uc3QgZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMCB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG8uY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMDEsIDAuMDQsIDAuMCwgMC4wOCwgMC4zNSk7XG4gIG8uc3RhcnQobm93KTtcbiAgcmVsZWFzZShub3cgKyAwLjA1KTtcbiAgby5zdG9wKG5vdyArIDAuMTgpO1xufVxuXG4vKiogRGlhbG9ndWUgY3VlIHVzZWQgYnkgdGhlIHN0b3J5IG92ZXJsYXkgKHNob3J0LCBnZW50bGUgcGluZykuICovXG5leHBvcnQgZnVuY3Rpb24gcGxheURpYWxvZ3VlKGVuZ2luZTogQXVkaW9FbmdpbmUsIHsgdmVsb2NpdHkgPSAxLCBwYW4gPSAwIH0gPSB7fSkge1xuICBjb25zdCB7IGN0eCwgbm93IH0gPSBlbmdpbmU7XG4gIGNvbnN0IG91dCA9IGVuZ2luZS5nZXRTZnhCdXMoKTtcblxuICBjb25zdCBmcmVxID0gNDgwICsgMTYwICogdmVsb2NpdHk7XG4gIGNvbnN0IG8gPSBvc2MoY3R4LCBcInNpbmVcIiwgZnJlcSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAuMDAwMSB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG8uY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDAwMSwgbm93KTtcbiAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wNCwgbm93ICsgMC4wMik7XG4gIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAwNSwgbm93ICsgMC4yOCk7XG5cbiAgby5zdGFydChub3cpO1xuICBvLnN0b3Aobm93ICsgMC4zKTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFN0b3J5SW50ZW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4uL2F1ZGlvL2VuZ2luZVwiO1xuaW1wb3J0IHsgcGxheURpYWxvZ3VlIGFzIHBsYXlEaWFsb2d1ZVNmeCB9IGZyb20gXCIuLi9hdWRpby9zZnhcIjtcblxubGV0IGxhc3RQbGF5ZWRBdCA9IDA7XG5cbi8vIE1haW50YWluIHRoZSBvbGQgcHVibGljIEFQSSBzbyBlbmdpbmUudHMgZG9lc24ndCBjaGFuZ2VcbmV4cG9ydCBmdW5jdGlvbiBnZXRBdWRpb0NvbnRleHQoKTogQXVkaW9Db250ZXh0IHtcbiAgcmV0dXJuIEF1ZGlvRW5naW5lLmdldCgpLmN0eDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc3VtZUF1ZGlvKCk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBBdWRpb0VuZ2luZS5nZXQoKS5yZXN1bWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlEaWFsb2d1ZUN1ZShpbnRlbnQ6IFN0b3J5SW50ZW50KTogdm9pZCB7XG4gIGNvbnN0IGVuZ2luZSA9IEF1ZGlvRW5naW5lLmdldCgpO1xuICBjb25zdCBub3cgPSBlbmdpbmUubm93O1xuXG4gIC8vIFRocm90dGxlIHJhcGlkIGN1ZXMgdG8gYXZvaWQgY2x1dHRlclxuICBpZiAobm93IC0gbGFzdFBsYXllZEF0IDwgMC4xKSByZXR1cm47XG4gIGxhc3RQbGF5ZWRBdCA9IG5vdztcblxuICAvLyBNYXAgXCJmYWN0b3J5XCIgdnMgb3RoZXJzIHRvIGEgc2xpZ2h0bHkgZGlmZmVyZW50IHZlbG9jaXR5IChicmlnaHRuZXNzKVxuICBjb25zdCB2ZWxvY2l0eSA9IGludGVudCA9PT0gXCJmYWN0b3J5XCIgPyAwLjggOiAwLjU7XG4gIHBsYXlEaWFsb2d1ZVNmeChlbmdpbmUsIHsgdmVsb2NpdHksIHBhbjogMCB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1c3BlbmREaWFsb2d1ZUF1ZGlvKCk6IHZvaWQge1xuICB2b2lkIEF1ZGlvRW5naW5lLmdldCgpLnN1c3BlbmQoKTtcbn1cbiIsICJpbXBvcnQgeyBtYWtlUFJORyB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcblxuZXhwb3J0IHR5cGUgQW1iaWVudFBhcmFtcyA9IHtcbiAgaW50ZW5zaXR5OiBudW1iZXI7ICAvLyBvdmVyYWxsIGxvdWRuZXNzIC8gZW5lcmd5ICgwLi4xKVxuICBicmlnaHRuZXNzOiBudW1iZXI7IC8vIGZpbHRlciBvcGVubmVzcyAmIGNob3JkIHRpbWJyZSAoMC4uMSlcbiAgZGVuc2l0eTogbnVtYmVyOyAgICAvLyBjaG9yZCBzcGF3biByYXRlIC8gdGhpY2tuZXNzICgwLi4xKVxufTtcblxudHlwZSBNb2RlTmFtZSA9IFwiSW9uaWFuXCIgfCBcIkRvcmlhblwiIHwgXCJQaHJ5Z2lhblwiIHwgXCJMeWRpYW5cIiB8IFwiTWl4b2x5ZGlhblwiIHwgXCJBZW9saWFuXCIgfCBcIkxvY3JpYW5cIjtcblxuY29uc3QgTU9ERVM6IFJlY29yZDxNb2RlTmFtZSwgbnVtYmVyW10+ID0ge1xuICBJb25pYW46ICAgICBbMCwyLDQsNSw3LDksMTFdLFxuICBEb3JpYW46ICAgICBbMCwyLDMsNSw3LDksMTBdLFxuICBQaHJ5Z2lhbjogICBbMCwxLDMsNSw3LDgsMTBdLFxuICBMeWRpYW46ICAgICBbMCwyLDQsNiw3LDksMTFdLFxuICBNaXhvbHlkaWFuOiBbMCwyLDQsNSw3LDksMTBdLFxuICBBZW9saWFuOiAgICBbMCwyLDMsNSw3LDgsMTBdLFxuICBMb2NyaWFuOiAgICBbMCwxLDMsNSw2LDgsMTBdLFxufTtcblxuLy8gTXVzaWNhbCBjb25zdGFudHMgdHVuZWQgdG8gbWF0Y2ggdGhlIEhUTUwgdmVyc2lvblxuY29uc3QgUk9PVF9NQVhfR0FJTiAgICAgPSAwLjMzO1xuY29uc3QgUk9PVF9TV0VMTF9USU1FICAgPSAyMDtcbmNvbnN0IERST05FX1NISUZUX01JTl9TID0gMjQ7XG5jb25zdCBEUk9ORV9TSElGVF9NQVhfUyA9IDQ4O1xuY29uc3QgRFJPTkVfR0xJREVfTUlOX1MgPSA4O1xuY29uc3QgRFJPTkVfR0xJREVfTUFYX1MgPSAxNTtcblxuY29uc3QgQ0hPUkRfVk9JQ0VTX01BWCAgPSA1O1xuY29uc3QgQ0hPUkRfRkFERV9NSU5fUyAgPSA4O1xuY29uc3QgQ0hPUkRfRkFERV9NQVhfUyAgPSAxNjtcbmNvbnN0IENIT1JEX0hPTERfTUlOX1MgID0gMTA7XG5jb25zdCBDSE9SRF9IT0xEX01BWF9TICA9IDIyO1xuY29uc3QgQ0hPUkRfR0FQX01JTl9TICAgPSA0O1xuY29uc3QgQ0hPUkRfR0FQX01BWF9TICAgPSA5O1xuY29uc3QgQ0hPUkRfQU5DSE9SX1BST0IgPSAwLjY7IC8vIHByZWZlciBhbGlnbmluZyBjaG9yZCByb290IHRvIGRyb25lXG5cbmNvbnN0IEZJTFRFUl9CQVNFX0haICAgID0gMjIwO1xuY29uc3QgRklMVEVSX1BFQUtfSFogICAgPSA0MjAwO1xuY29uc3QgU1dFRVBfU0VHX1MgICAgICAgPSAzMDsgIC8vIHVwIHRoZW4gZG93biwgdmVyeSBzbG93XG5jb25zdCBMRk9fUkFURV9IWiAgICAgICA9IDAuMDU7XG5jb25zdCBMRk9fREVQVEhfSFogICAgICA9IDkwMDtcblxuY29uc3QgREVMQVlfVElNRV9TICAgICAgPSAwLjQ1O1xuY29uc3QgRkVFREJBQ0tfR0FJTiAgICAgPSAwLjM1O1xuY29uc3QgV0VUX01JWCAgICAgICAgICAgPSAwLjI4O1xuXG4vLyBkZWdyZWUgcHJlZmVyZW5jZSBmb3IgZHJvbmUgbW92ZXM6IDEsNSwzLDYsMiw0LDcgKGluZGV4ZXMgMC4uNilcbmNvbnN0IFBSRUZFUlJFRF9ERUdSRUVfT1JERVIgPSBbMCw0LDIsNSwxLDMsNl07XG5cbi8qKiBVdGlsaXR5ICovXG5jb25zdCBjbGFtcDAxID0gKHg6IG51bWJlcikgPT4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgeCkpO1xuY29uc3QgcmFuZCA9IChybmc6ICgpID0+IG51bWJlciwgYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKyBybmcoKSAqIChiIC0gYSk7XG5jb25zdCBjaG9pY2UgPSA8VCw+KHJuZzogKCkgPT4gbnVtYmVyLCBhcnI6IFRbXSkgPT4gYXJyW01hdGguZmxvb3Iocm5nKCkgKiBhcnIubGVuZ3RoKV07XG5cbmNvbnN0IG1pZGlUb0ZyZXEgPSAobTogbnVtYmVyKSA9PiA0NDAgKiBNYXRoLnBvdygyLCAobSAtIDY5KSAvIDEyKTtcblxuLyoqIEEgc2luZ2xlIHN0ZWFkeSBvc2NpbGxhdG9yIHZvaWNlIHdpdGggc2hpbW1lciBkZXR1bmUgYW5kIGdhaW4gZW52ZWxvcGUuICovXG5jbGFzcyBWb2ljZSB7XG4gIHByaXZhdGUga2lsbGVkID0gZmFsc2U7XG4gIHByaXZhdGUgc2hpbW1lcjogT3NjaWxsYXRvck5vZGU7XG4gIHByaXZhdGUgc2hpbW1lckdhaW46IEdhaW5Ob2RlO1xuICBwcml2YXRlIHNjYWxlOiBHYWluTm9kZTtcbiAgcHVibGljIGc6IEdhaW5Ob2RlO1xuICBwdWJsaWMgb3NjOiBPc2NpbGxhdG9yTm9kZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGN0eDogQXVkaW9Db250ZXh0LFxuICAgIHByaXZhdGUgdGFyZ2V0R2FpbjogbnVtYmVyLFxuICAgIHdhdmVmb3JtOiBPc2NpbGxhdG9yVHlwZSxcbiAgICBmcmVxSHo6IG51bWJlcixcbiAgICBkZXN0aW5hdGlvbjogQXVkaW9Ob2RlLFxuICAgIHJuZzogKCkgPT4gbnVtYmVyXG4gICl7XG4gICAgdGhpcy5vc2MgPSBuZXcgT3NjaWxsYXRvck5vZGUoY3R4LCB7IHR5cGU6IHdhdmVmb3JtLCBmcmVxdWVuY3k6IGZyZXFIeiB9KTtcblxuICAgIC8vIHN1YnRsZSBzaGltbWVyIHZpYSBkZXR1bmUgbW9kdWxhdGlvblxuICAgIHRoaXMuc2hpbW1lciA9IG5ldyBPc2NpbGxhdG9yTm9kZShjdHgsIHsgdHlwZTogXCJzaW5lXCIsIGZyZXF1ZW5jeTogcmFuZChybmcsIDAuMDYsIDAuMTgpIH0pO1xuICAgIHRoaXMuc2hpbW1lckdhaW4gPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IHJhbmQocm5nLCAwLjQsIDEuMikgfSk7XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMjUgfSk7IC8vIGNlbnRzIHJhbmdlXG4gICAgdGhpcy5zaGltbWVyLmNvbm5lY3QodGhpcy5zaGltbWVyR2FpbikuY29ubmVjdCh0aGlzLnNjYWxlKS5jb25uZWN0KHRoaXMub3NjLmRldHVuZSk7XG5cbiAgICB0aGlzLmcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gICAgdGhpcy5vc2MuY29ubmVjdCh0aGlzLmcpLmNvbm5lY3QoZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5vc2Muc3RhcnQoKTtcbiAgICB0aGlzLnNoaW1tZXIuc3RhcnQoKTtcbiAgfVxuXG4gIGZhZGVJbihzZWNvbmRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgICB0aGlzLmcuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMobm93KTtcbiAgICB0aGlzLmcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0aGlzLmcuZ2Fpbi52YWx1ZSwgbm93KTtcbiAgICB0aGlzLmcuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLnRhcmdldEdhaW4sIG5vdyArIHNlY29uZHMpO1xuICB9XG5cbiAgZmFkZU91dEtpbGwoc2Vjb25kczogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMua2lsbGVkKSByZXR1cm47XG4gICAgdGhpcy5raWxsZWQgPSB0cnVlO1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuY3R4LmN1cnJlbnRUaW1lO1xuICAgIHRoaXMuZy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhub3cpO1xuICAgIHRoaXMuZy5nYWluLnNldFZhbHVlQXRUaW1lKHRoaXMuZy5nYWluLnZhbHVlLCBub3cpO1xuICAgIHRoaXMuZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAwMSwgbm93ICsgc2Vjb25kcyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0b3AoKSwgc2Vjb25kcyAqIDEwMDAgKyA2MCk7XG4gIH1cblxuICBzZXRGcmVxR2xpZGUodGFyZ2V0SHo6IG51bWJlciwgZ2xpZGVTZWNvbmRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgICAvLyBleHBvbmVudGlhbCB3aGVuIHBvc3NpYmxlIGZvciBzbW9vdGhuZXNzXG4gICAgY29uc3QgY3VycmVudCA9IE1hdGgubWF4KDAuMDAwMSwgdGhpcy5vc2MuZnJlcXVlbmN5LnZhbHVlKTtcbiAgICB0aGlzLm9zYy5mcmVxdWVuY3kuY2FuY2VsU2NoZWR1bGVkVmFsdWVzKG5vdyk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMub3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZShjdXJyZW50LCBub3cpO1xuICAgICAgdGhpcy5vc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodGFyZ2V0SHosIG5vdyArIGdsaWRlU2Vjb25kcyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aGlzLm9zYy5mcmVxdWVuY3kubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGFyZ2V0SHosIG5vdyArIGdsaWRlU2Vjb25kcyk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0cnkgeyB0aGlzLm9zYy5zdG9wKCk7IHRoaXMuc2hpbW1lci5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICB0cnkge1xuICAgICAgdGhpcy5vc2MuZGlzY29ubmVjdCgpOyB0aGlzLnNoaW1tZXIuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5nLmRpc2Nvbm5lY3QoKTsgdGhpcy5zaGltbWVyR2Fpbi5kaXNjb25uZWN0KCk7IHRoaXMuc2NhbGUuZGlzY29ubmVjdCgpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQW1iaWVudFNjZW5lIHtcbiAgcHJpdmF0ZSBydW5uaW5nID0gZmFsc2U7XG4gIHByaXZhdGUgc3RvcEZuczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgcHJpdmF0ZSB0aW1lb3V0czogbnVtYmVyW10gPSBbXTtcblxuICBwcml2YXRlIHBhcmFtczogQW1iaWVudFBhcmFtcyA9IHsgaW50ZW5zaXR5OiAwLjc1LCBicmlnaHRuZXNzOiAwLjUsIGRlbnNpdHk6IDAuNiB9O1xuXG4gIHByaXZhdGUgcm5nOiAoKSA9PiBudW1iZXI7XG4gIHByaXZhdGUgbWFzdGVyITogR2Fpbk5vZGU7XG4gIHByaXZhdGUgZmlsdGVyITogQmlxdWFkRmlsdGVyTm9kZTtcbiAgcHJpdmF0ZSBkcnkhOiBHYWluTm9kZTtcbiAgcHJpdmF0ZSB3ZXQhOiBHYWluTm9kZTtcbiAgcHJpdmF0ZSBkZWxheSE6IERlbGF5Tm9kZTtcbiAgcHJpdmF0ZSBmZWVkYmFjayE6IEdhaW5Ob2RlO1xuXG4gIHByaXZhdGUgbGZvTm9kZT86IE9zY2lsbGF0b3JOb2RlO1xuICBwcml2YXRlIGxmb0dhaW4/OiBHYWluTm9kZTtcblxuICAvLyBtdXNpY2FsIHN0YXRlXG4gIHByaXZhdGUga2V5Um9vdE1pZGkgPSA0MztcbiAgcHJpdmF0ZSBtb2RlOiBNb2RlTmFtZSA9IFwiSW9uaWFuXCI7XG4gIHByaXZhdGUgZHJvbmVEZWdyZWVJZHggPSAwO1xuICBwcml2YXRlIHJvb3RWb2ljZTogVm9pY2UgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGN0eDogQXVkaW9Db250ZXh0LFxuICAgIHByaXZhdGUgb3V0OiBHYWluTm9kZSxcbiAgICBzZWVkID0gMVxuICApIHtcbiAgICB0aGlzLnJuZyA9IG1ha2VQUk5HKHNlZWQpO1xuICB9XG5cbiAgc2V0UGFyYW08SyBleHRlbmRzIGtleW9mIEFtYmllbnRQYXJhbXM+KGs6IEssIHY6IEFtYmllbnRQYXJhbXNbS10pIHtcbiAgICB0aGlzLnBhcmFtc1trXSA9IGNsYW1wMDEodik7XG4gICAgaWYgKHRoaXMucnVubmluZyAmJiBrID09PSBcImludGVuc2l0eVwiICYmIHRoaXMubWFzdGVyKSB7XG4gICAgICB0aGlzLm1hc3Rlci5nYWluLnZhbHVlID0gMC4xNSArIDAuODUgKiB0aGlzLnBhcmFtcy5pbnRlbnNpdHk7IFxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgLy8gLS0tLSBDb3JlIGdyYXBoIChmaWx0ZXIgLT4gZHJ5K2RlbGF5IC0+IG1hc3RlciAtPiBvdXQpIC0tLS1cbiAgICB0aGlzLm1hc3RlciA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiAwLjE1ICsgMC44NSAqIHRoaXMucGFyYW1zLmludGVuc2l0eSB9KTtcbiAgICB0aGlzLmZpbHRlciA9IG5ldyBCaXF1YWRGaWx0ZXJOb2RlKHRoaXMuY3R4LCB7IHR5cGU6IFwibG93cGFzc1wiLCBROiAwLjcwNyB9KTtcbiAgICB0aGlzLmRyeSA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiAxIH0pO1xuICAgIHRoaXMud2V0ID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IFdFVF9NSVggfSk7XG4gICAgdGhpcy5kZWxheSA9IG5ldyBEZWxheU5vZGUodGhpcy5jdHgsIHsgZGVsYXlUaW1lOiBERUxBWV9USU1FX1MsIG1heERlbGF5VGltZTogMiB9KTtcbiAgICB0aGlzLmZlZWRiYWNrID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IEZFRURCQUNLX0dBSU4gfSk7XG5cbiAgICB0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuZHJ5KS5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuZGVsYXkpO1xuICAgIHRoaXMuZGVsYXkuY29ubmVjdCh0aGlzLmZlZWRiYWNrKS5jb25uZWN0KHRoaXMuZGVsYXkpO1xuICAgIHRoaXMuZGVsYXkuY29ubmVjdCh0aGlzLndldCkuY29ubmVjdCh0aGlzLm1hc3Rlcik7XG4gICAgdGhpcy5tYXN0ZXIuY29ubmVjdCh0aGlzLm91dCk7XG5cbiAgICAvLyAtLS0tIEZpbHRlciBiYXNlbGluZSArIHNsb3cgc3dlZXBzIC0tLS1cbiAgICB0aGlzLmZpbHRlci5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoRklMVEVSX0JBU0VfSFosIHRoaXMuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICBjb25zdCBzd2VlcCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgICAgIHRoaXMuZmlsdGVyLmZyZXF1ZW5jeS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgICAvLyB1cCB0aGVuIGRvd24gdXNpbmcgdmVyeSBzbG93IHRpbWUgY29uc3RhbnRzXG4gICAgICB0aGlzLmZpbHRlci5mcmVxdWVuY3kuc2V0VGFyZ2V0QXRUaW1lKFxuICAgICAgICBGSUxURVJfQkFTRV9IWiArIChGSUxURVJfUEVBS19IWiAtIEZJTFRFUl9CQVNFX0haKSAqICgwLjQgKyAwLjYgKiB0aGlzLnBhcmFtcy5icmlnaHRuZXNzKSxcbiAgICAgICAgdCwgU1dFRVBfU0VHX1MgLyAzXG4gICAgICApO1xuICAgICAgdGhpcy5maWx0ZXIuZnJlcXVlbmN5LnNldFRhcmdldEF0VGltZShcbiAgICAgICAgRklMVEVSX0JBU0VfSFogKiAoMC43ICsgMC4zICogdGhpcy5wYXJhbXMuYnJpZ2h0bmVzcyksXG4gICAgICAgIHQgKyBTV0VFUF9TRUdfUywgU1dFRVBfU0VHX1MgLyAzXG4gICAgICApO1xuICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMucnVubmluZyAmJiBzd2VlcCgpLCAoU1dFRVBfU0VHX1MgKiAyKSAqIDEwMDApIGFzIHVua25vd24gYXMgbnVtYmVyKTtcbiAgICB9O1xuICAgIHN3ZWVwKCk7XG5cbiAgICAvLyAtLS0tIEdlbnRsZSBMRk8gb24gZmlsdGVyIGZyZXEgKHNtYWxsIGRlcHRoKSAtLS0tXG4gICAgdGhpcy5sZm9Ob2RlID0gbmV3IE9zY2lsbGF0b3JOb2RlKHRoaXMuY3R4LCB7IHR5cGU6IFwic2luZVwiLCBmcmVxdWVuY3k6IExGT19SQVRFX0haIH0pO1xuICAgIHRoaXMubGZvR2FpbiA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiBMRk9fREVQVEhfSFogKiAoMC41ICsgMC41ICogdGhpcy5wYXJhbXMuYnJpZ2h0bmVzcykgfSk7XG4gICAgdGhpcy5sZm9Ob2RlLmNvbm5lY3QodGhpcy5sZm9HYWluKS5jb25uZWN0KHRoaXMuZmlsdGVyLmZyZXF1ZW5jeSk7XG4gICAgdGhpcy5sZm9Ob2RlLnN0YXJ0KCk7XG5cbiAgICAvLyAtLS0tIFNwYXduIHJvb3QgZHJvbmUgKGdsaWRpbmcgdG8gZGlmZmVyZW50IGRlZ3JlZXMpIC0tLS1cbiAgICB0aGlzLnNwYXduUm9vdERyb25lKCk7XG4gICAgdGhpcy5zY2hlZHVsZU5leHREcm9uZU1vdmUoKTtcblxuICAgIC8vIC0tLS0gQ2hvcmQgY3ljbGUgbG9vcCAtLS0tXG4gICAgdGhpcy5jaG9yZEN5Y2xlKCk7XG5cbiAgICAvLyBjbGVhbnVwXG4gICAgdGhpcy5zdG9wRm5zLnB1c2goKCkgPT4ge1xuICAgICAgdHJ5IHsgdGhpcy5sZm9Ob2RlPy5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICAgIFt0aGlzLm1hc3RlciwgdGhpcy5maWx0ZXIsIHRoaXMuZHJ5LCB0aGlzLndldCwgdGhpcy5kZWxheSwgdGhpcy5mZWVkYmFjaywgdGhpcy5sZm9Ob2RlLCB0aGlzLmxmb0dhaW5dXG4gICAgICAgIC5mb3JFYWNoKG4gPT4geyB0cnkgeyBuPy5kaXNjb25uZWN0KCk7IH0gY2F0Y2gge30gfSk7XG4gICAgfSk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSByZXR1cm47XG4gICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG5cbiAgICAvLyBjYW5jZWwgdGltZW91dHNcbiAgICB0aGlzLnRpbWVvdXRzLnNwbGljZSgwKS5mb3JFYWNoKGlkID0+IHdpbmRvdy5jbGVhclRpbWVvdXQoaWQpKTtcblxuICAgIC8vIGZhZGUgYW5kIGNsZWFudXAgdm9pY2VzXG4gICAgaWYgKHRoaXMucm9vdFZvaWNlKSB0aGlzLnJvb3RWb2ljZS5mYWRlT3V0S2lsbCgxLjIpO1xuXG4gICAgLy8gcnVuIGRlZmVycmVkIHN0b3BzXG4gICAgdGhpcy5zdG9wRm5zLnNwbGljZSgwKS5mb3JFYWNoKGZuID0+IGZuKCkpO1xuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBNdXNpY2FsIGVuZ2luZSBiZWxvdyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgcHJpdmF0ZSBjdXJyZW50RGVncmVlcygpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIE1PREVTW3RoaXMubW9kZV0gfHwgTU9ERVMuTHlkaWFuO1xuICB9XG5cbiAgLyoqIERyb25lIHJvb3Qgdm9pY2UgKi9cbiAgcHJpdmF0ZSBzcGF3blJvb3REcm9uZSgpIHtcbiAgICBjb25zdCBiYXNlTWlkaSA9IHRoaXMua2V5Um9vdE1pZGkgKyB0aGlzLmN1cnJlbnREZWdyZWVzKClbdGhpcy5kcm9uZURlZ3JlZUlkeF07XG4gICAgY29uc3QgdiA9IG5ldyBWb2ljZShcbiAgICAgIHRoaXMuY3R4LFxuICAgICAgUk9PVF9NQVhfR0FJTixcbiAgICAgIFwic2luZVwiLFxuICAgICAgbWlkaVRvRnJlcShiYXNlTWlkaSksXG4gICAgICB0aGlzLmZpbHRlcixcbiAgICAgIHRoaXMucm5nXG4gICAgKTtcbiAgICB2LmZhZGVJbihST09UX1NXRUxMX1RJTUUpO1xuICAgIHRoaXMucm9vdFZvaWNlID0gdjtcbiAgfVxuXG4gIHByaXZhdGUgc2NoZWR1bGVOZXh0RHJvbmVNb3ZlKCkge1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSByZXR1cm47XG4gICAgY29uc3Qgd2FpdE1zID0gcmFuZCh0aGlzLnJuZywgRFJPTkVfU0hJRlRfTUlOX1MsIERST05FX1NISUZUX01BWF9TKSAqIDEwMDA7XG4gICAgY29uc3QgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMucnVubmluZyB8fCAhdGhpcy5yb290Vm9pY2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdsaWRlID0gcmFuZCh0aGlzLnJuZywgRFJPTkVfR0xJREVfTUlOX1MsIERST05FX0dMSURFX01BWF9TKTtcbiAgICAgIGNvbnN0IG5leHRJZHggPSB0aGlzLnBpY2tOZXh0RHJvbmVEZWdyZWVJZHgoKTtcbiAgICAgIGNvbnN0IHRhcmdldE1pZGkgPSB0aGlzLmtleVJvb3RNaWRpICsgdGhpcy5jdXJyZW50RGVncmVlcygpW25leHRJZHhdO1xuICAgICAgdGhpcy5yb290Vm9pY2Uuc2V0RnJlcUdsaWRlKG1pZGlUb0ZyZXEodGFyZ2V0TWlkaSksIGdsaWRlKTtcbiAgICAgIHRoaXMuZHJvbmVEZWdyZWVJZHggPSBuZXh0SWR4O1xuICAgICAgdGhpcy5zY2hlZHVsZU5leHREcm9uZU1vdmUoKTtcbiAgICB9LCB3YWl0TXMpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIHRoaXMudGltZW91dHMucHVzaChpZCk7XG4gIH1cblxuICBwcml2YXRlIHBpY2tOZXh0RHJvbmVEZWdyZWVJZHgoKTogbnVtYmVyIHtcbiAgICBjb25zdCBvcmRlciA9IFsuLi5QUkVGRVJSRURfREVHUkVFX09SREVSXTtcbiAgICBjb25zdCBpID0gb3JkZXIuaW5kZXhPZih0aGlzLmRyb25lRGVncmVlSWR4KTtcbiAgICBpZiAoaSA+PSAwKSB7IGNvbnN0IFtjdXJdID0gb3JkZXIuc3BsaWNlKGksIDEpOyBvcmRlci5wdXNoKGN1cik7IH1cbiAgICByZXR1cm4gY2hvaWNlKHRoaXMucm5nLCBvcmRlcik7XG4gIH1cblxuICAvKiogQnVpbGQgZGlhdG9uaWMgc3RhY2tlZC10aGlyZCBjaG9yZCBkZWdyZWVzIHdpdGggb3B0aW9uYWwgZXh0ZW5zaW9ucyAqL1xuICBwcml2YXRlIGJ1aWxkQ2hvcmREZWdyZWVzKG1vZGVEZWdzOiBudW1iZXJbXSwgcm9vdEluZGV4OiBudW1iZXIsIHNpemUgPSA0LCBhZGQ5ID0gZmFsc2UsIGFkZDExID0gZmFsc2UsIGFkZDEzID0gZmFsc2UpIHtcbiAgICBjb25zdCBzdGVwcyA9IFswLCAyLCA0LCA2XTsgLy8gdGhpcmRzIG92ZXIgNy1ub3RlIHNjYWxlXG4gICAgY29uc3QgY2hvcmRJZHhzID0gc3RlcHMuc2xpY2UoMCwgTWF0aC5taW4oc2l6ZSwgNCkpLm1hcChzID0+IChyb290SW5kZXggKyBzKSAlIDcpO1xuICAgIGlmIChhZGQ5KSAgY2hvcmRJZHhzLnB1c2goKHJvb3RJbmRleCArIDgpICUgNyk7XG4gICAgaWYgKGFkZDExKSBjaG9yZElkeHMucHVzaCgocm9vdEluZGV4ICsgMTApICUgNyk7XG4gICAgaWYgKGFkZDEzKSBjaG9yZElkeHMucHVzaCgocm9vdEluZGV4ICsgMTIpICUgNyk7XG4gICAgcmV0dXJuIGNob3JkSWR4cy5tYXAoaSA9PiBtb2RlRGVnc1tpXSk7XG4gIH1cblxuICBwcml2YXRlICplbmRsZXNzQ2hvcmRzKCkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBtb2RlRGVncyA9IHRoaXMuY3VycmVudERlZ3JlZXMoKTtcbiAgICAgIC8vIGNob29zZSBjaG9yZCByb290IGRlZ3JlZSAob2Z0ZW4gYWxpZ24gd2l0aCBkcm9uZSlcbiAgICAgIGNvbnN0IHJvb3REZWdyZWVJbmRleCA9ICh0aGlzLnJuZygpIDwgQ0hPUkRfQU5DSE9SX1BST0IpID8gdGhpcy5kcm9uZURlZ3JlZUlkeCA6IE1hdGguZmxvb3IodGhpcy5ybmcoKSAqIDcpO1xuXG4gICAgICAvLyBjaG9yZCBzaXplIC8gZXh0ZW5zaW9uc1xuICAgICAgY29uc3QgciA9IHRoaXMucm5nKCk7XG4gICAgICBsZXQgc2l6ZSA9IDM7IGxldCBhZGQ5ID0gZmFsc2UsIGFkZDExID0gZmFsc2UsIGFkZDEzID0gZmFsc2U7XG4gICAgICBpZiAociA8IDAuMzUpICAgICAgICAgICAgeyBzaXplID0gMzsgfVxuICAgICAgZWxzZSBpZiAociA8IDAuNzUpICAgICAgIHsgc2l6ZSA9IDQ7IH1cbiAgICAgIGVsc2UgaWYgKHIgPCAwLjkwKSAgICAgICB7IHNpemUgPSA0OyBhZGQ5ID0gdHJ1ZTsgfVxuICAgICAgZWxzZSBpZiAociA8IDAuOTcpICAgICAgIHsgc2l6ZSA9IDQ7IGFkZDExID0gdHJ1ZTsgfVxuICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgIHsgc2l6ZSA9IDQ7IGFkZDEzID0gdHJ1ZTsgfVxuXG4gICAgICBjb25zdCBjaG9yZFNlbWlzID0gdGhpcy5idWlsZENob3JkRGVncmVlcyhtb2RlRGVncywgcm9vdERlZ3JlZUluZGV4LCBzaXplLCBhZGQ5LCBhZGQxMSwgYWRkMTMpO1xuICAgICAgLy8gc3ByZWFkIGNob3JkIGFjcm9zcyBvY3RhdmVzICgtMTIsIDAsICsxMiksIGJpYXMgdG8gY2VudGVyXG4gICAgICBjb25zdCBzcHJlYWQgPSBjaG9yZFNlbWlzLm1hcChzZW1pID0+IHNlbWkgKyBjaG9pY2UodGhpcy5ybmcsIFstMTIsIDAsIDAsIDEyXSkpO1xuXG4gICAgICAvLyBvY2Nhc2lvbmFsbHkgZW5zdXJlIHRvbmljIGlzIHByZXNlbnQgZm9yIGdyb3VuZGluZ1xuICAgICAgaWYgKCFzcHJlYWQuaW5jbHVkZXMoMCkgJiYgdGhpcy5ybmcoKSA8IDAuNSkgc3ByZWFkLnB1c2goMCk7XG5cbiAgICAgIHlpZWxkIHNwcmVhZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNob3JkQ3ljbGUoKSB7XG4gICAgY29uc3QgZ2VuID0gdGhpcy5lbmRsZXNzQ2hvcmRzKCk7XG4gICAgY29uc3Qgdm9pY2VzID0gbmV3IFNldDxWb2ljZT4oKTtcblxuICAgIGNvbnN0IHNsZWVwID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlPHZvaWQ+KHIgPT4ge1xuICAgICAgY29uc3QgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiByKCksIG1zKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICAgIHRoaXMudGltZW91dHMucHVzaChpZCk7XG4gICAgfSk7XG5cbiAgICB3aGlsZSAodGhpcy5ydW5uaW5nKSB7XG4gICAgICAvLyBjaG9yZCBzcGF3biBwcm9iYWJpbGl0eSAvIHRoaWNrbmVzcyBzY2FsZSB3aXRoIGRlbnNpdHkgJiBicmlnaHRuZXNzXG4gICAgICBjb25zdCB0aGlja25lc3MgPSBNYXRoLnJvdW5kKDIgKyB0aGlzLnBhcmFtcy5kZW5zaXR5ICogMyk7XG4gICAgICBjb25zdCBiYXNlTWlkaSA9IHRoaXMua2V5Um9vdE1pZGk7XG4gICAgICBjb25zdCBkZWdyZWVzT2ZmOiBudW1iZXJbXSA9IGdlbi5uZXh0KCkudmFsdWUgPz8gW107XG5cbiAgICAgIC8vIHNwYXduXG4gICAgICBmb3IgKGNvbnN0IG9mZiBvZiBkZWdyZWVzT2ZmKSB7XG4gICAgICAgIGlmICghdGhpcy5ydW5uaW5nKSBicmVhaztcbiAgICAgICAgaWYgKHZvaWNlcy5zaXplID49IE1hdGgubWluKENIT1JEX1ZPSUNFU19NQVgsIHRoaWNrbmVzcykpIGJyZWFrO1xuXG4gICAgICAgIGNvbnN0IG1pZGkgPSBiYXNlTWlkaSArIG9mZjtcbiAgICAgICAgY29uc3QgZnJlcSA9IG1pZGlUb0ZyZXEobWlkaSk7XG4gICAgICAgIGNvbnN0IHdhdmVmb3JtID0gY2hvaWNlKHRoaXMucm5nLCBbXCJzaW5lXCIsIFwidHJpYW5nbGVcIiwgXCJzYXd0b290aFwiXSBhcyBPc2NpbGxhdG9yVHlwZVtdKTtcblxuICAgICAgICAvLyBsb3VkZXIgd2l0aCBpbnRlbnNpdHk7IHNsaWdodGx5IGJyaWdodGVyIC0+IHNsaWdodGx5IGxvdWRlclxuICAgICAgICBjb25zdCBnYWluVGFyZ2V0ID0gcmFuZCh0aGlzLnJuZywgMC4wOCwgMC4yMikgKlxuICAgICAgICAgICgwLjg1ICsgMC4zICogdGhpcy5wYXJhbXMuaW50ZW5zaXR5KSAqXG4gICAgICAgICAgKDAuOSArIDAuMiAqIHRoaXMucGFyYW1zLmJyaWdodG5lc3MpO1xuXG4gICAgICAgIGNvbnN0IHYgPSBuZXcgVm9pY2UodGhpcy5jdHgsIGdhaW5UYXJnZXQsIHdhdmVmb3JtLCBmcmVxLCB0aGlzLmZpbHRlciwgdGhpcy5ybmcpO1xuICAgICAgICB2b2ljZXMuYWRkKHYpO1xuICAgICAgICB2LmZhZGVJbihyYW5kKHRoaXMucm5nLCBDSE9SRF9GQURFX01JTl9TLCBDSE9SRF9GQURFX01BWF9TKSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNsZWVwKHJhbmQodGhpcy5ybmcsIENIT1JEX0hPTERfTUlOX1MsIENIT1JEX0hPTERfTUFYX1MpICogMTAwMCk7XG5cbiAgICAgIC8vIGZhZGUgb3V0XG4gICAgICBjb25zdCBvdXRzID0gQXJyYXkuZnJvbSh2b2ljZXMpO1xuICAgICAgZm9yIChjb25zdCB2IG9mIG91dHMpIHYuZmFkZU91dEtpbGwocmFuZCh0aGlzLnJuZywgQ0hPUkRfRkFERV9NSU5fUywgQ0hPUkRfRkFERV9NQVhfUykpO1xuICAgICAgdm9pY2VzLmNsZWFyKCk7XG5cbiAgICAgIGF3YWl0IHNsZWVwKHJhbmQodGhpcy5ybmcsIENIT1JEX0dBUF9NSU5fUywgQ0hPUkRfR0FQX01BWF9TKSAqIDEwMDApO1xuICAgIH1cblxuICAgIC8vIHNhZmV0eToga2lsbCBhbnkgbGluZ2VyaW5nIHZvaWNlc1xuICAgIGZvciAoY29uc3QgdiBvZiBBcnJheS5mcm9tKHZvaWNlcykpIHYuZmFkZU91dEtpbGwoMC44KTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgU2NlbmVOYW1lLCBNdXNpY1NjZW5lT3B0aW9ucyB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgQXVkaW9FbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lXCI7XG5pbXBvcnQgeyBBbWJpZW50U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvYW1iaWVudFwiO1xuXG5leHBvcnQgY2xhc3MgTXVzaWNEaXJlY3RvciB7XG4gIHByaXZhdGUgY3VycmVudD86IHsgbmFtZTogU2NlbmVOYW1lOyBzdG9wOiAoKSA9PiB2b2lkIH07XG4gIHByaXZhdGUgYnVzT3V0OiBHYWluTm9kZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVuZ2luZTogQXVkaW9FbmdpbmUpIHtcbiAgICB0aGlzLmJ1c091dCA9IG5ldyBHYWluTm9kZShlbmdpbmUuY3R4LCB7IGdhaW46IDAuOSB9KTtcbiAgICB0aGlzLmJ1c091dC5jb25uZWN0KGVuZ2luZS5nZXRNdXNpY0J1cygpKTtcbiAgfVxuXG4gIC8qKiBDcm9zc2ZhZGUgdG8gYSBuZXcgc2NlbmUgKi9cbiAgc2V0U2NlbmUobmFtZTogU2NlbmVOYW1lLCBvcHRzPzogTXVzaWNTY2VuZU9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50Py5uYW1lID09PSBuYW1lKSByZXR1cm47XG5cbiAgICBjb25zdCBvbGQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgdCA9IHRoaXMuZW5naW5lLm5vdztcblxuICAgIC8vIGZhZGUtb3V0IG9sZFxuICAgIGNvbnN0IGZhZGVPdXQgPSBuZXcgR2Fpbk5vZGUodGhpcy5lbmdpbmUuY3R4LCB7IGdhaW46IDAuOSB9KTtcbiAgICBmYWRlT3V0LmNvbm5lY3QodGhpcy5lbmdpbmUuZ2V0TXVzaWNCdXMoKSk7XG4gICAgaWYgKG9sZCkge1xuICAgICAgLy8gV2UgYXNzdW1lIGVhY2ggc2NlbmUgbWFuYWdlcyBpdHMgb3duIG91dCBub2RlOyBzdG9wcGluZyB0cmlnZ2VycyBhIG5hdHVyYWwgdGFpbC5cbiAgICAgIG9sZC5zdG9wKCk7XG4gICAgICBmYWRlT3V0LmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC4wLCB0ICsgMC42KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gZmFkZU91dC5kaXNjb25uZWN0KCksIDY1MCk7XG4gICAgfVxuXG4gICAgLy8gbmV3IHNjZW5lXG4gICAgY29uc3Qgc2NlbmVPdXQgPSBuZXcgR2Fpbk5vZGUodGhpcy5lbmdpbmUuY3R4LCB7IGdhaW46IDAgfSk7XG4gICAgc2NlbmVPdXQuY29ubmVjdCh0aGlzLmJ1c091dCk7XG5cbiAgICBsZXQgc3RvcCA9ICgpID0+IHNjZW5lT3V0LmRpc2Nvbm5lY3QoKTtcblxuICAgIGlmIChuYW1lID09PSBcImFtYmllbnRcIikge1xuICAgICAgY29uc3QgcyA9IG5ldyBBbWJpZW50U2NlbmUodGhpcy5lbmdpbmUuY3R4LCBzY2VuZU91dCwgb3B0cz8uc2VlZCA/PyAxKTtcbiAgICAgIHMuc3RhcnQoKTtcbiAgICAgIHN0b3AgPSAoKSA9PiB7XG4gICAgICAgIHMuc3RvcCgpO1xuICAgICAgICBzY2VuZU91dC5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBlbHNlIGlmIChuYW1lID09PSBcImNvbWJhdFwiKSB7IC8qIGltcGxlbWVudCBjb21iYXQgc2NlbmUgbGF0ZXIgKi8gfVxuICAgIC8vIGVsc2UgaWYgKG5hbWUgPT09IFwibG9iYnlcIikgeyAvKiBpbXBsZW1lbnQgbG9iYnkgc2NlbmUgbGF0ZXIgKi8gfVxuXG4gICAgdGhpcy5jdXJyZW50ID0geyBuYW1lLCBzdG9wIH07XG4gICAgc2NlbmVPdXQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLjksIHQgKyAwLjYpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudCkgcmV0dXJuO1xuICAgIHRoaXMuY3VycmVudC5zdG9wKCk7XG4gICAgdGhpcy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBCdXMsIE11c2ljUGFyYW1NZXNzYWdlLCBNdXNpY1NjZW5lT3B0aW9ucyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBBdWRpb0VuZ2luZSB9IGZyb20gXCIuL2VuZ2luZVwiO1xuaW1wb3J0IHsgTXVzaWNEaXJlY3RvciB9IGZyb20gXCIuL211c2ljXCI7XG5pbXBvcnQgeyBwbGF5U2Z4IH0gZnJvbSBcIi4vc2Z4XCI7XG5cbi8qKlxuICogQmluZCBzdGFuZGFyZCBhdWRpbyBldmVudHMgdG8gdGhlIGVuZ2luZSBhbmQgbXVzaWMgZGlyZWN0b3IuXG4gKlxuICogRXZlbnRzIHN1cHBvcnRlZDpcbiAqICAtIGF1ZGlvOnJlc3VtZVxuICogIC0gYXVkaW86bXV0ZSAvIGF1ZGlvOnVubXV0ZVxuICogIC0gYXVkaW86c2V0LW1hc3Rlci1nYWluIHsgZ2FpbiB9XG4gKiAgLSBhdWRpbzpzZnggeyBuYW1lLCB2ZWxvY2l0eT8sIHBhbj8gfVxuICogIC0gYXVkaW86bXVzaWM6c2V0LXNjZW5lIHsgc2NlbmUsIHNlZWQ/IH1cbiAqICAtIGF1ZGlvOm11c2ljOnBhcmFtIHsga2V5LCB2YWx1ZSB9XG4gKiAgLSBhdWRpbzptdXNpYzp0cmFuc3BvcnQgeyBjbWQ6IFwic3RhcnRcIiB8IFwic3RvcFwiIHwgXCJwYXVzZVwiIH0gIC8vIHBhdXNlIGN1cnJlbnRseSBtYXBzIHRvIHN0b3BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQXVkaW9CdXNCaW5kaW5ncyhcbiAgYnVzOiBCdXMsXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIG11c2ljOiBNdXNpY0RpcmVjdG9yXG4pOiB2b2lkIHtcbiAgYnVzLm9uKFwiYXVkaW86cmVzdW1lXCIsICgpID0+IGVuZ2luZS5yZXN1bWUoKSk7XG4gIGJ1cy5vbihcImF1ZGlvOm11dGVcIiwgKCkgPT4gZW5naW5lLnNldE1hc3RlckdhaW4oMCkpO1xuICBidXMub24oXCJhdWRpbzp1bm11dGVcIiwgKCkgPT4gZW5naW5lLnNldE1hc3RlckdhaW4oMC45KSk7XG4gIGJ1cy5vbihcImF1ZGlvOnNldC1tYXN0ZXItZ2FpblwiLCAoeyBnYWluIH06IHsgZ2FpbjogbnVtYmVyIH0pID0+XG4gICAgZW5naW5lLnNldE1hc3RlckdhaW4oTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgZ2FpbikpKVxuICApO1xuXG4gIGJ1cy5vbihcImF1ZGlvOnNmeFwiLCAobXNnOiB7IG5hbWU6IHN0cmluZzsgdmVsb2NpdHk/OiBudW1iZXI7IHBhbj86IG51bWJlciB9KSA9PiB7XG4gICAgcGxheVNmeChlbmdpbmUsIG1zZy5uYW1lIGFzIGFueSwgeyB2ZWxvY2l0eTogbXNnLnZlbG9jaXR5LCBwYW46IG1zZy5wYW4gfSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihcImF1ZGlvOm11c2ljOnNldC1zY2VuZVwiLCAobXNnOiB7IHNjZW5lOiBzdHJpbmcgfSAmIE11c2ljU2NlbmVPcHRpb25zKSA9PiB7XG4gICAgZW5naW5lLnJlc3VtZSgpO1xuICAgIG11c2ljLnNldFNjZW5lKG1zZy5zY2VuZSBhcyBhbnksIHsgc2VlZDogbXNnLnNlZWQgfSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihcImF1ZGlvOm11c2ljOnBhcmFtXCIsIChfbXNnOiBNdXNpY1BhcmFtTWVzc2FnZSkgPT4ge1xuICAgIC8vIEhvb2sgZm9yIGZ1dHVyZSBwYXJhbSByb3V0aW5nIHBlciBzY2VuZSAoZS5nLiwgaW50ZW5zaXR5L2JyaWdodG5lc3MvZGVuc2l0eSlcbiAgICAvLyBJZiB5b3Ugd2FudCBnbG9iYWwgcGFyYW1zLCBrZWVwIGEgbWFwIGhlcmUgYW5kIGZvcndhcmQgdG8gdGhlIGFjdGl2ZSBzY2VuZVxuICB9KTtcblxuICBidXMub24oXCJhdWRpbzptdXNpYzp0cmFuc3BvcnRcIiwgKHsgY21kIH06IHsgY21kOiBcInN0YXJ0XCIgfCBcInN0b3BcIiB8IFwicGF1c2VcIiB9KSA9PiB7XG4gICAgaWYgKGNtZCA9PT0gXCJzdG9wXCIgfHwgY21kID09PSBcInBhdXNlXCIpIG11c2ljLnN0b3AoKTtcbiAgICAvLyBcInN0YXJ0XCIgaXMgaW1wbGljaXQgdmlhIHNldFNjZW5lXG4gIH0pO1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBCZWFjb25EZWZpbml0aW9uLCBNaXNzaW9uU3RhdGUsIFdvcmxkTWV0YSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgbW9ub3RvbmljTm93IH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lvbkNvbnRyb2xsZXIge1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNaXNzaW9uQ29udHJvbGxlck9wdGlvbnMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG4gIG1vZGU6IHN0cmluZztcbiAgbWlzc2lvbklkOiBzdHJpbmcgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgTWlzc2lvblNwZWMge1xuICBpZDogc3RyaW5nO1xuICBob2xkU2Vjb25kczogbnVtYmVyO1xuICBkZWZhdWx0V29ybGRTaXplOiB7IHc6IG51bWJlcjsgaDogbnVtYmVyIH07XG4gIGJlYWNvbnM6IEFycmF5PHsgZng6IG51bWJlcjsgZnk6IG51bWJlcjsgcmFkaXVzOiBudW1iZXIgfT47XG59XG5cbmludGVyZmFjZSBQZXJzaXN0ZWRQcm9ncmVzcyB7XG4gIGJlYWNvbkluZGV4OiBudW1iZXI7XG4gIGhvbGRBY2N1bTogbnVtYmVyO1xufVxuXG5jb25zdCBTVE9SQUdFX1BSRUZJWCA9IFwibHNkOm1pc3Npb246XCI7XG5jb25zdCBIT0xEX0VQU0lMT04gPSAwLjAwMDE7XG5cbmNvbnN0IENBTVBBSUdOX01JU1NJT05TOiBSZWNvcmQ8c3RyaW5nLCBNaXNzaW9uU3BlYz4gPSB7XG4gIFwiMVwiOiB7XG4gICAgaWQ6IFwiY2FtcGFpZ24tMVwiLFxuICAgIGhvbGRTZWNvbmRzOiAxMCxcbiAgICBkZWZhdWx0V29ybGRTaXplOiB7IHc6IDMyMDAwLCBoOiAxODAwMCB9LFxuICAgIGJlYWNvbnM6IFtcbiAgICAgIHsgZng6IDAuMTUsIGZ5OiAwLjU1LCByYWRpdXM6IDQyMCB9LFxuICAgICAgeyBmeDogMC40MCwgZnk6IDAuNTAsIHJhZGl1czogMzYwIH0sXG4gICAgICB7IGZ4OiAwLjY1LCBmeTogMC40NywgcmFkaXVzOiAzMDAgfSxcbiAgICAgIHsgZng6IDAuODUsIGZ5OiAwLjQ0LCByYWRpdXM6IDI2MCB9LFxuICAgIF0sXG4gIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbW91bnRNaXNzaW9uQ29udHJvbGxlcih7IHN0YXRlLCBidXMsIG1vZGUsIG1pc3Npb25JZCB9OiBNaXNzaW9uQ29udHJvbGxlck9wdGlvbnMpOiBNaXNzaW9uQ29udHJvbGxlciB7XG4gIGlmIChtb2RlICE9PSBcImNhbXBhaWduXCIpIHtcbiAgICByZXR1cm4geyBkZXN0cm95KCkge30gfTtcbiAgfVxuXG4gIGNvbnN0IHNwZWMgPSBtaXNzaW9uSWQgJiYgQ0FNUEFJR05fTUlTU0lPTlNbbWlzc2lvbklkXSA/IENBTVBBSUdOX01JU1NJT05TW21pc3Npb25JZF0gOiBDQU1QQUlHTl9NSVNTSU9OU1tcIjFcIl07XG4gIGlmICghc3BlYykge1xuICAgIHJldHVybiB7IGRlc3Ryb3koKSB7fSB9O1xuICB9XG5cbiAgY29uc3Qgc3RvcmFnZUtleSA9IGAke1NUT1JBR0VfUFJFRklYfSR7c3BlYy5pZH1gO1xuICBsZXQgcGVyc2lzdGVkID0gbG9hZFByb2dyZXNzKHN0b3JhZ2VLZXkpO1xuICBjb25zdCBjb21wbGV0ZWRCZWZvcmUgPSBwZXJzaXN0ZWQuYmVhY29uSW5kZXggPj0gc3BlYy5iZWFjb25zLmxlbmd0aDtcbiAgaWYgKGNvbXBsZXRlZEJlZm9yZSkge1xuICAgIHBlcnNpc3RlZCA9IHsgYmVhY29uSW5kZXg6IDAsIGhvbGRBY2N1bTogMCB9O1xuICAgIHRyeSB7XG4gICAgICBzYXZlUHJvZ3Jlc3Moc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkocGVyc2lzdGVkKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBpZ25vcmUgc3RvcmFnZSBlcnJvcnNcbiAgICB9XG4gIH1cblxuICBsZXQgbWlzc2lvbjogTWlzc2lvblN0YXRlID0ge1xuICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICBtaXNzaW9uSWQ6IHNwZWMuaWQsXG4gICAgYmVhY29uSW5kZXg6IGNsYW1wQmVhY29uSW5kZXgocGVyc2lzdGVkLmJlYWNvbkluZGV4LCBzcGVjLmJlYWNvbnMubGVuZ3RoKSxcbiAgICBob2xkQWNjdW06IGNsYW1wSG9sZChwZXJzaXN0ZWQuaG9sZEFjY3VtLCBzcGVjLmhvbGRTZWNvbmRzKSxcbiAgICBob2xkUmVxdWlyZWQ6IHNwZWMuaG9sZFNlY29uZHMsXG4gICAgYmVhY29uczogW10sXG4gIH07XG5cbiAgbGV0IGxhc3RXb3JsZEtleSA9IFwiXCI7XG4gIGxldCBsYXN0UGVyc2lzdGVkSlNPTiA9IGNvbXBsZXRlZEJlZm9yZSA/IEpTT04uc3RyaW5naWZ5KHBlcnNpc3RlZCkgOiBcIlwiO1xuICBsZXQgbGFzdFNlcnZlck5vdzogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgc3RhdGUubWlzc2lvbiA9IG1pc3Npb247XG4gIGJ1cy5lbWl0KFwibWlzc2lvbjpzdGFydFwiKTtcbiAgLy8gUHJpbWUgYmVhY29uIGNvb3JkaW5hdGVzIGltbWVkaWF0ZWx5IHVzaW5nIHdoYXRldmVyIHdvcmxkIG1ldGEgaXMgYXZhaWxhYmxlLlxuICAvLyBTdWJzZXF1ZW50IHN0YXRlIHVwZGF0ZXMgd2lsbCByZWZpbmUgaWYgdGhlIHdvcmxkIHNpemUgY2hhbmdlcy5cbiAgc3luY0JlYWNvbnMoc3RhdGUud29ybGRNZXRhKTtcblxuICBmdW5jdGlvbiBzeW5jQmVhY29ucyhtZXRhOiBXb3JsZE1ldGEgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBjb25zdCB3b3JsZFcgPSByZXNvbHZlV29ybGRWYWx1ZShtZXRhPy53LCBzcGVjLmRlZmF1bHRXb3JsZFNpemUudyk7XG4gICAgY29uc3Qgd29ybGRIID0gcmVzb2x2ZVdvcmxkVmFsdWUobWV0YT8uaCwgc3BlYy5kZWZhdWx0V29ybGRTaXplLmgpO1xuICAgIGNvbnN0IGtleSA9IGAke3dvcmxkVy50b0ZpeGVkKDIpfToke3dvcmxkSC50b0ZpeGVkKDIpfWA7XG4gICAgaWYgKGtleSA9PT0gbGFzdFdvcmxkS2V5ICYmIG1pc3Npb24uYmVhY29ucy5sZW5ndGggPT09IHNwZWMuYmVhY29ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdFdvcmxkS2V5ID0ga2V5O1xuICAgIG1pc3Npb24uYmVhY29ucyA9IHNwZWMuYmVhY29ucy5tYXAoKGRlZik6IEJlYWNvbkRlZmluaXRpb24gPT4gKHtcbiAgICAgIGN4OiBkZWYuZnggKiB3b3JsZFcsXG4gICAgICBjeTogZGVmLmZ5ICogd29ybGRILFxuICAgICAgcmFkaXVzOiBkZWYucmFkaXVzLFxuICAgIH0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcnNpc3QoZm9yY2UgPSBmYWxzZSk6IHZvaWQge1xuICAgIGlmICghbWlzc2lvbi5hY3RpdmUgJiYgbWlzc2lvbi5iZWFjb25JbmRleCA+PSBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoKSB7XG4gICAgICAvLyBNaXNzaW9uIGNvbXBsZXRlLCBzdG9yZSBjb21wbGV0aW9uIHdpdGggemVybyBob2xkLlxuICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsgYmVhY29uSW5kZXg6IG1pc3Npb24uYmVhY29uSW5kZXgsIGhvbGRBY2N1bTogMCB9KTtcbiAgICAgIGlmICghZm9yY2UgJiYgcGF5bG9hZCA9PT0gbGFzdFBlcnNpc3RlZEpTT04pIHJldHVybjtcbiAgICAgIGxhc3RQZXJzaXN0ZWRKU09OID0gcGF5bG9hZDtcbiAgICAgIHNhdmVQcm9ncmVzcyhzdG9yYWdlS2V5LCBwYXlsb2FkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGJlYWNvbkluZGV4OiBtaXNzaW9uLmJlYWNvbkluZGV4LFxuICAgICAgaG9sZEFjY3VtOiBjbGFtcEhvbGQobWlzc2lvbi5ob2xkQWNjdW0sIG1pc3Npb24uaG9sZFJlcXVpcmVkKSxcbiAgICB9KTtcbiAgICBpZiAoIWZvcmNlICYmIHBheWxvYWQgPT09IGxhc3RQZXJzaXN0ZWRKU09OKSByZXR1cm47XG4gICAgbGFzdFBlcnNpc3RlZEpTT04gPSBwYXlsb2FkO1xuICAgIHNhdmVQcm9ncmVzcyhzdG9yYWdlS2V5LCBwYXlsb2FkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVEdChub3dTZWM6IG51bWJlciB8IHVuZGVmaW5lZCB8IG51bGwpOiBudW1iZXIge1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKG5vd1NlYykpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAobGFzdFNlcnZlck5vdyA9PT0gbnVsbCB8fCAhTnVtYmVyLmlzRmluaXRlKGxhc3RTZXJ2ZXJOb3cpKSB7XG4gICAgICBsYXN0U2VydmVyTm93ID0gbm93U2VjITtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBkdCA9IG5vd1NlYyEgLSBsYXN0U2VydmVyTm93O1xuICAgIGxhc3RTZXJ2ZXJOb3cgPSBub3dTZWMhO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGR0KSB8fCBkdCA8PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGR0O1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJbnNpZGVCZWFjb24oY3g6IG51bWJlciwgY3k6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBtZSA9IHN0YXRlLm1lO1xuICAgIGlmICghbWUpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBkeCA9IG1lLnggLSBjeDtcbiAgICBjb25zdCBkeSA9IG1lLnkgLSBjeTtcbiAgICBjb25zdCBkaXN0U3EgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICByZXR1cm4gZGlzdFNxIDw9IHJhZGl1cyAqIHJhZGl1cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3RhbGxlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBoZWF0ID0gc3RhdGUubWU/LmhlYXQ7XG4gICAgaWYgKCFoZWF0KSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3Qgbm93ID0gbW9ub3RvbmljTm93KCk7XG4gICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShoZWF0LnN0YWxsVW50aWxNcykgJiYgbm93IDwgaGVhdC5zdGFsbFVudGlsTXM7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NrQ3VycmVudEJlYWNvbigpOiB2b2lkIHtcbiAgICBjb25zdCBsb2NrZWRJbmRleCA9IG1pc3Npb24uYmVhY29uSW5kZXg7XG4gICAgYnVzLmVtaXQoXCJtaXNzaW9uOmJlYWNvbi1sb2NrZWRcIiwgeyBpbmRleDogbG9ja2VkSW5kZXggfSk7XG4gICAgbWlzc2lvbi5iZWFjb25JbmRleCA9IE1hdGgubWluKG1pc3Npb24uYmVhY29uSW5kZXggKyAxLCBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoKTtcbiAgICBtaXNzaW9uLmhvbGRBY2N1bSA9IDA7XG4gICAgcGVyc2lzdCh0cnVlKTtcbiAgICBpZiAobWlzc2lvbi5iZWFjb25JbmRleCA+PSBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoKSB7XG4gICAgICBtaXNzaW9uLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgcGVyc2lzdCh0cnVlKTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjpjb21wbGV0ZWRcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRIb2xkSWZOZWVkZWQoKTogdm9pZCB7XG4gICAgaWYgKG1pc3Npb24uaG9sZEFjY3VtID4gMCkge1xuICAgICAgbWlzc2lvbi5ob2xkQWNjdW0gPSAwO1xuICAgICAgcGVyc2lzdCgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gYnVzLm9uKFwic3RhdGU6dXBkYXRlZFwiLCAoKSA9PiB7XG4gICAgaWYgKCFzdGF0ZS5taXNzaW9uIHx8ICFzdGF0ZS5taXNzaW9uLmFjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1pc3Npb24gPSBzdGF0ZS5taXNzaW9uO1xuICAgIHN5bmNCZWFjb25zKHN0YXRlLndvcmxkTWV0YSk7XG5cbiAgICBpZiAobWlzc2lvbi5iZWFjb25JbmRleCA+PSBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoKSB7XG4gICAgICBtaXNzaW9uLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgcGVyc2lzdCh0cnVlKTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjpjb21wbGV0ZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYmVhY29uID0gbWlzc2lvbi5iZWFjb25zW21pc3Npb24uYmVhY29uSW5kZXhdO1xuICAgIGlmICghYmVhY29uKSB7XG4gICAgICBtaXNzaW9uLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgcGVyc2lzdCh0cnVlKTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjpjb21wbGV0ZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZHQgPSBjb21wdXRlRHQoc3RhdGUubm93KTtcbiAgICBpZiAoIXN0YXRlLm1lKSB7XG4gICAgICBsYXN0U2VydmVyTm93ID0gc3RhdGUubm93O1xuICAgICAgcmVzZXRIb2xkSWZOZWVkZWQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNJbnNpZGVCZWFjb24oYmVhY29uLmN4LCBiZWFjb24uY3ksIGJlYWNvbi5yYWRpdXMpICYmICFpc1N0YWxsZWQoKSkge1xuICAgICAgY29uc3QgbmV4dEhvbGQgPSBNYXRoLm1pbihtaXNzaW9uLmhvbGRSZXF1aXJlZCwgbWlzc2lvbi5ob2xkQWNjdW0gKyBkdCk7XG4gICAgICBpZiAoTWF0aC5hYnMobmV4dEhvbGQgLSBtaXNzaW9uLmhvbGRBY2N1bSkgPiBIT0xEX0VQU0lMT04pIHtcbiAgICAgICAgbWlzc2lvbi5ob2xkQWNjdW0gPSBuZXh0SG9sZDtcbiAgICAgICAgcGVyc2lzdCgpO1xuICAgICAgfVxuICAgICAgaWYgKG1pc3Npb24uaG9sZEFjY3VtICsgSE9MRF9FUFNJTE9OID49IG1pc3Npb24uaG9sZFJlcXVpcmVkKSB7XG4gICAgICAgIGxvY2tDdXJyZW50QmVhY29uKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc2V0SG9sZElmTmVlZGVkKCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVXb3JsZFZhbHVlKHZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQsIGZhbGxiYWNrOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkgJiYgdmFsdWUgPiAwKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBmYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gY2xhbXBCZWFjb25JbmRleChpbmRleDogbnVtYmVyLCB0b3RhbDogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5kZXgpKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGluZGV4IDwgMCkgcmV0dXJuIDA7XG4gIGlmIChpbmRleCA+IHRvdGFsKSByZXR1cm4gdG90YWw7XG4gIHJldHVybiBNYXRoLmZsb29yKGluZGV4KTtcbn1cblxuZnVuY3Rpb24gY2xhbXBIb2xkKGhvbGQ6IG51bWJlciwgaG9sZFJlcXVpcmVkOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShob2xkKSB8fCBob2xkIDwgMCkgcmV0dXJuIDA7XG4gIGlmIChob2xkID4gaG9sZFJlcXVpcmVkKSByZXR1cm4gaG9sZFJlcXVpcmVkO1xuICByZXR1cm4gaG9sZDtcbn1cblxuZnVuY3Rpb24gbG9hZFByb2dyZXNzKHN0b3JhZ2VLZXk6IHN0cmluZyk6IFBlcnNpc3RlZFByb2dyZXNzIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByYXcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJldHVybiB7IGJlYWNvbkluZGV4OiAwLCBob2xkQWNjdW06IDAgfTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyYXcpIGFzIFBhcnRpYWw8UGVyc2lzdGVkUHJvZ3Jlc3M+IHwgbnVsbDtcbiAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgcmV0dXJuIHsgYmVhY29uSW5kZXg6IDAsIGhvbGRBY2N1bTogMCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgYmVhY29uSW5kZXg6IGNsYW1wQmVhY29uSW5kZXgocGFyc2VkLmJlYWNvbkluZGV4ID8/IDAsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSxcbiAgICAgIGhvbGRBY2N1bTogdHlwZW9mIHBhcnNlZC5ob2xkQWNjdW0gPT09IFwibnVtYmVyXCIgPyBNYXRoLm1heCgwLCBwYXJzZWQuaG9sZEFjY3VtKSA6IDAsXG4gICAgfTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHsgYmVhY29uSW5kZXg6IDAsIGhvbGRBY2N1bTogMCB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhdmVQcm9ncmVzcyhzdG9yYWdlS2V5OiBzdHJpbmcsIHBheWxvYWQ6IHN0cmluZyk6IHZvaWQge1xuICB0cnkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBwYXlsb2FkKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gTG9jYWwgc3RvcmFnZSBtYXkgYmUgdW5hdmFpbGFibGU7IGlnbm9yZS5cbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIERhZ05vZGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgVXBncmFkZUVmZmVjdFR5cGUgfSBmcm9tIFwiLi9wcm90by9wcm90by93c19tZXNzYWdlc19wYlwiO1xuaW1wb3J0IHsgc2VuZERhZ1N0YXJ0IH0gZnJvbSBcIi4vbmV0XCI7XG5cbmxldCBjb3VudGRvd25JbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0VXBncmFkZXNQYW5lbChcbiAgc3RhdGU6IEFwcFN0YXRlLFxuICBidXM6IEV2ZW50QnVzXG4pOiB2b2lkIHtcbiAgLy8gQ3JlYXRlIHBhbmVsIERPTSBzdHJ1Y3R1cmVcbiAgY29uc3QgcGFuZWwgPSBjcmVhdGVQYW5lbEVsZW1lbnQoKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwYW5lbCk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gcGFuZWwucXVlcnlTZWxlY3RvcignLnRlY2gtdHJlZS1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgY2xvc2VCdG4gPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJykgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG92ZXJsYXkgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcucGFuZWwtb3ZlcmxheScpIGFzIEhUTUxFbGVtZW50O1xuXG4gIC8vIFJlbmRlciBmdW5jdGlvbiAodGhyb3R0bGVkIGJ5IHNpZ25hdHVyZSBvZiBpZDpzdGF0dXMpXG4gIGxldCBsYXN0U2lnID0gXCJcIjtcbiAgZnVuY3Rpb24gY29tcHV0ZVNpZyhub2RlczogRGFnTm9kZVtdKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbm9kZXNcbiAgICAgIC5zbGljZSgpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpKVxuICAgICAgLm1hcChuID0+IGAke24uaWR9OiR7bi5zdGF0dXN9YClcbiAgICAgIC5qb2luKFwifFwiKTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJVcGdyYWRlcyhmb3JjZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgYWxsID0gc3RhdGUuZGFnPy5ub2RlcyB8fCBbXTtcbiAgICAvLyBCZSBwZXJtaXNzaXZlOiB0cmVhdCBwcm90by1tYXBwZWQgJ3VuaXQnIGFzIHVwZ3JhZGVzLCBidXQgYWxzbyBhbGxvdyBpZCBwcmVmaXhcbiAgICBjb25zdCB1cGdyYWRlTm9kZXMgPSBhbGwuZmlsdGVyKG4gPT4gbi5raW5kID09PSAndW5pdCcgfHwgbi5pZC5zdGFydHNXaXRoKCd1cGdyYWRlLicpKTtcbiAgICBjb25zdCBzaWcgPSBjb21wdXRlU2lnKHVwZ3JhZGVOb2Rlcyk7XG4gICAgaWYgKCFmb3JjZSAmJiBzaWcgPT09IGxhc3RTaWcpIHJldHVybjtcbiAgICBsYXN0U2lnID0gc2lnO1xuICAgIHJlbmRlclRlY2hUcmVlKHVwZ3JhZGVOb2RlcywgY29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIFRvZ2dsZSBwYW5lbCB2aXNpYmlsaXR5XG4gIGZ1bmN0aW9uIHRvZ2dsZVBhbmVsKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJywgdmlzaWJsZSk7XG4gICAgaWYgKHZpc2libGUpIHtcbiAgICAgIHJlbmRlclVwZ3JhZGVzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGJ1cy5vbihcInVwZ3JhZGVzOnRvZ2dsZVwiLCAoKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9ICFwYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKTtcbiAgICB0b2dnbGVQYW5lbChuZXh0KTtcbiAgICBpZiAobmV4dCkgcmVuZGVyVXBncmFkZXModHJ1ZSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihcInVwZ3JhZGVzOnNob3dcIiwgKCkgPT4geyB0b2dnbGVQYW5lbCh0cnVlKTsgcmVuZGVyVXBncmFkZXModHJ1ZSk7IH0pO1xuICBidXMub24oXCJ1cGdyYWRlczpoaWRlXCIsICgpID0+IHRvZ2dsZVBhbmVsKGZhbHNlKSk7XG5cbiAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRvZ2dsZVBhbmVsKGZhbHNlKSk7XG4gIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRvZ2dsZVBhbmVsKGZhbHNlKSk7XG5cbiAgLy8gU3Vic2NyaWJlIHRvIERBRyB1cGRhdGVzIChldmVudC1kcml2ZW4gcGF0dGVybilcbiAgYnVzLm9uKFwic3RhdGU6dXBkYXRlZFwiLCAoKSA9PiB7XG4gICAgaWYgKHBhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB7XG4gICAgICByZW5kZXJVcGdyYWRlcyhmYWxzZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBIYW5kbGUgbm9kZSBjbGlja1xuICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgY29uc3Qgbm9kZUVsID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KFwiW2RhdGEtbm9kZS1pZF1cIik7XG4gICAgaWYgKCFub2RlRWwpIHJldHVybjtcblxuICAgIGNvbnN0IG5vZGVJZCA9IG5vZGVFbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vZGUtaWRcIik7XG4gICAgY29uc3Qgbm9kZSA9IHN0YXRlLmRhZz8ubm9kZXMuZmluZChuID0+IG4uaWQgPT09IG5vZGVJZCk7XG5cbiAgICBpZiAobm9kZT8uc3RhdHVzID09PSBcImF2YWlsYWJsZVwiKSB7XG4gICAgICBzZW5kRGFnU3RhcnQobm9kZUlkISk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFuZWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcGFuZWwuY2xhc3NOYW1lID0gJ3VwZ3JhZGVzLXBhbmVsJztcbiAgcGFuZWwuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1vdmVybGF5XCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkZXJcIj5cbiAgICAgICAgPGgyPlNoaXAgVXBncmFkZXM8L2gyPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xvc2UtYnRuXCI+XHUwMEQ3PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZWNoLXRyZWUtY29udGFpbmVyXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gIHJldHVybiBwYW5lbDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGVjaFRyZWUobm9kZXM6IERhZ05vZGVbXSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBzb3J0ZWQgPSBub2Rlcy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEuaWQubG9jYWxlQ29tcGFyZShiLmlkKSk7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInRlY2gtdHJlZVwiPlxuICAgICAgJHtzb3J0ZWQubGVuZ3RoID4gMCA/IHNvcnRlZC5tYXAocmVuZGVyTm9kZSkuam9pbignJykgOiAnPGRpdiBjbGFzcz1cXFwibXV0ZWRcXFwiPk5vIHVwZ3JhZGVzIGF2YWlsYWJsZTwvZGl2Pid9XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGVmZmVjdFR5cGVUb1N0cmluZyh0OiB1bmtub3duKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gdDtcbiAgaWYgKHR5cGVvZiB0ID09PSBcIm51bWJlclwiKSB7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIFVwZ3JhZGVFZmZlY3RUeXBlLlNQRUVEX01VTFRJUExJRVI6XG4gICAgICAgIHJldHVybiBcInNwZWVkX211bHRpcGxpZXJcIjtcbiAgICAgIGNhc2UgVXBncmFkZUVmZmVjdFR5cGUuTUlTU0lMRV9VTkxPQ0s6XG4gICAgICAgIHJldHVybiBcIm1pc3NpbGVfdW5sb2NrXCI7XG4gICAgICBjYXNlIFVwZ3JhZGVFZmZlY3RUeXBlLkhFQVRfQ0FQQUNJVFk6XG4gICAgICAgIHJldHVybiBcImhlYXRfY2FwYWNpdHlcIjtcbiAgICAgIGNhc2UgVXBncmFkZUVmZmVjdFR5cGUuSEVBVF9FRkZJQ0lFTkNZOlxuICAgICAgICByZXR1cm4gXCJoZWF0X2VmZmljaWVuY3lcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcInVua25vd25cIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuXG5mdW5jdGlvbiByZW5kZXJOb2RlKG5vZGU6IERhZ05vZGUpOiBzdHJpbmcge1xuICBjb25zdCBzdGF0dXNDbGFzcyA9IGBub2RlLSR7bm9kZS5zdGF0dXN9YDtcbiAgY29uc3QgZWZmZWN0c0h0bWwgPSBub2RlLmVmZmVjdHM/Lm1hcChlID0+IHtcbiAgICBjb25zdCB0eXBlID0gZWZmZWN0VHlwZVRvU3RyaW5nKChlIGFzIGFueSkudHlwZSk7XG4gICAgY29uc3QgdmFsdWUgPSAoZSBhcyBhbnkpLnZhbHVlIGFzIG51bWJlciB8IHN0cmluZztcbiAgICBjb25zdCBpc1NoaXAgPSBub2RlLmlkLnN0YXJ0c1dpdGgoXCJ1cGdyYWRlLnNoaXAuXCIpO1xuICAgIGNvbnN0IGlzTWlzc2lsZSA9IG5vZGUuaWQuc3RhcnRzV2l0aChcInVwZ3JhZGUubWlzc2lsZS5cIik7XG4gICAgaWYgKHR5cGUgPT09IFwibWlzc2lsZV91bmxvY2tcIikge1xuICAgICAgcmV0dXJuIGBVbmxvY2sgJHt2YWx1ZX1gO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBwY3QgPSAoKHZhbHVlIC0gMSkgKiAxMDApO1xuICAgICAgY29uc3QgcGN0U3RyID0gTnVtYmVyLmlzRmluaXRlKHBjdCkgPyBwY3QudG9GaXhlZCgwKSA6IFwiMFwiO1xuICAgICAgaWYgKHR5cGUgPT09IFwic3BlZWRfbXVsdGlwbGllclwiKSB7XG4gICAgICAgIHJldHVybiBpc1NoaXAgPyBgKyR7cGN0U3RyfSUgU2hpcCBTcGVlZGAgOiBpc01pc3NpbGUgPyBgKyR7cGN0U3RyfSUgTWlzc2lsZSBTcGVlZGAgOiBgKyR7cGN0U3RyfSUgU3BlZWRgO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IFwiaGVhdF9jYXBhY2l0eVwiKSB7XG4gICAgICAgIHJldHVybiBpc1NoaXAgPyBgKyR7cGN0U3RyfSUgU2hpcCBIZWF0YCA6IGlzTWlzc2lsZSA/IGArJHtwY3RTdHJ9JSBNaXNzaWxlIEhlYXRgIDogYCske3BjdFN0cn0lIEhlYXQgQ2FwYWNpdHlgO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IFwiaGVhdF9lZmZpY2llbmN5XCIpIHtcbiAgICAgICAgcmV0dXJuIGArJHtwY3RTdHJ9JSBDb29saW5nYDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0pLmpvaW4oJywgJykgfHwgJyc7XG5cbiAgY29uc3QgY291bnRkb3duSHRtbCA9IG5vZGUuc3RhdHVzID09PSAnaW5fcHJvZ3Jlc3MnXG4gICAgPyBgPGRpdiBjbGFzcz1cImNvdW50ZG93blwiPiR7Zm9ybWF0VGltZShub2RlLnJlbWFpbmluZ19zKX08L2Rpdj5gXG4gICAgOiAnJztcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJub2RlICR7c3RhdHVzQ2xhc3N9XCIgZGF0YS1ub2RlLWlkPVwiJHtub2RlLmlkfVwiPlxuICAgICAgPGgzPiR7bm9kZS5sYWJlbH08L2gzPlxuICAgICAgJHtlZmZlY3RzSHRtbCA/IGA8cCBjbGFzcz1cImVmZmVjdHNcIj4ke2VmZmVjdHNIdG1sfTwvcD5gIDogJyd9XG4gICAgICA8cCBjbGFzcz1cImR1cmF0aW9uXCI+RHVyYXRpb246ICR7Zm9ybWF0VGltZShub2RlLmR1cmF0aW9uX3MpfTwvcD5cbiAgICAgICR7Y291bnRkb3duSHRtbH1cbiAgICAgICR7bm9kZS5zdGF0dXMgPT09ICdhdmFpbGFibGUnID8gJzxidXR0b24+U3RhcnQ8L2J1dHRvbj4nIDogJyd9XG4gICAgICAke25vZGUuc3RhdHVzID09PSAnY29tcGxldGVkJyA/ICc8ZGl2IGNsYXNzPVwiY2hlY2ttYXJrXCI+XHUyNzEzPC9kaXY+JyA6ICcnfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChzZWNvbmRzIDwgNjApIHJldHVybiBgJHtNYXRoLmZsb29yKHNlY29uZHMpfXNgO1xuICBpZiAoc2Vjb25kcyA8IDM2MDApIHJldHVybiBgJHtNYXRoLmZsb29yKHNlY29uZHMgLyA2MCl9bWA7XG4gIHJldHVybiBgJHtNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKX1oICR7TWF0aC5mbG9vcigoc2Vjb25kcyAlIDM2MDApIC8gNjApfW1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb3VudGRvd25UaW1lcihzdGF0ZTogQXBwU3RhdGUsIGJ1czogRXZlbnRCdXMpOiB2b2lkIHtcbiAgaWYgKGNvdW50ZG93bkludGVydmFsKSB7XG4gICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gIH1cblxuICBjb3VudGRvd25JbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgdXBncmFkZU5vZGVzID0gc3RhdGUuZGFnPy5ub2Rlcy5maWx0ZXIobiA9PlxuICAgICAgbi5raW5kID09PSAndW5pdCcgJiYgbi5zdGF0dXMgPT09ICdpbl9wcm9ncmVzcydcbiAgICApIHx8IFtdO1xuXG4gICAgdXBncmFkZU5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW5vZGUtaWQ9XCIke25vZGUuaWR9XCJdIC5jb3VudGRvd25gKTtcbiAgICAgIGlmIChlbCAmJiBub2RlLnJlbWFpbmluZ19zID4gMCkge1xuICAgICAgICBlbC50ZXh0Q29udGVudCA9IGZvcm1hdFRpbWUobm9kZS5yZW1haW5pbmdfcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgYmFkZ2UgY291bnRcbiAgICBjb25zdCBpblByb2dyZXNzQ291bnQgPSB1cGdyYWRlTm9kZXMubGVuZ3RoO1xuICAgIGJ1cy5lbWl0KFwidXBncmFkZXM6Y291bnRVcGRhdGVkXCIsIHsgY291bnQ6IGluUHJvZ3Jlc3NDb3VudCB9KTtcbiAgfSwgMTAwMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wQ291bnRkb3duVGltZXIoKTogdm9pZCB7XG4gIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgIGNvdW50ZG93bkludGVydmFsID0gbnVsbDtcbiAgfVxufVxuIiwgImltcG9ydCB7IGNyZWF0ZUV2ZW50QnVzIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQgeyBjb25uZWN0V2ViU29ja2V0LCBzZW5kTWVzc2FnZSB9IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0IHsgaW5pdEdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XG5pbXBvcnQgeyBjcmVhdGVJbml0aWFsU3RhdGUsIGNyZWF0ZUluaXRpYWxVSVN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcbmltcG9ydCB7IG1vdW50VHV0b3JpYWwsIEJBU0lDX1RVVE9SSUFMX0lEIH0gZnJvbSBcIi4vdHV0b3JpYWxcIjtcbmltcG9ydCB7IGNsZWFyUHJvZ3Jlc3MgYXMgY2xlYXJUdXRvcmlhbFByb2dyZXNzIH0gZnJvbSBcIi4vdHV0b3JpYWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgbW91bnRTdG9yeSwgSU5UUk9fQ0hBUFRFUl9JRCwgSU5UUk9fSU5JVElBTF9SRVNQT05TRV9JRFMgfSBmcm9tIFwiLi9zdG9yeVwiO1xuaW1wb3J0IHsgd2FpdEZvclVzZXJTdGFydCB9IGZyb20gXCIuL3N0YXJ0LWdhdGVcIjtcbmltcG9ydCB7IHJlc3VtZUF1ZGlvIH0gZnJvbSBcIi4vc3Rvcnkvc2Z4XCI7XG5pbXBvcnQgeyBBdWRpb0VuZ2luZSB9IGZyb20gXCIuL2F1ZGlvL2VuZ2luZVwiO1xuaW1wb3J0IHsgTXVzaWNEaXJlY3RvciB9IGZyb20gXCIuL2F1ZGlvL211c2ljXCI7XG5pbXBvcnQgeyByZWdpc3RlckF1ZGlvQnVzQmluZGluZ3MgfSBmcm9tIFwiLi9hdWRpby9jdWVzXCI7XG5pbXBvcnQgeyBtb3VudE1pc3Npb25Db250cm9sbGVyIH0gZnJvbSBcIi4vbWlzc2lvbi9jb250cm9sbGVyXCI7XG5pbXBvcnQgeyBpbml0VXBncmFkZXNQYW5lbCwgc3RhcnRDb3VudGRvd25UaW1lciB9IGZyb20gXCIuL3VwZ3JhZGVzXCI7XG5cbmNvbnN0IENBTExfU0lHTl9TVE9SQUdFX0tFWSA9IFwibHNkOmNhbGxzaWduXCI7XG5cbihhc3luYyBmdW5jdGlvbiBib290c3RyYXAoKSB7XG4gIGNvbnN0IHFzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgY29uc3Qgcm9vbSA9IHFzLmdldChcInJvb21cIikgfHwgXCJkZWZhdWx0XCI7XG4gIGNvbnN0IG1vZGUgPSBxcy5nZXQoXCJtb2RlXCIpIHx8IFwiXCI7XG4gIGNvbnN0IG1pc3Npb25JZCA9IHFzLmdldChcIm1pc3Npb25cIikgfHwgKG1vZGUgPT09IFwiY2FtcGFpZ25cIiA/IFwiMVwiIDogbnVsbCk7XG4gIGNvbnN0IG5hbWVQYXJhbSA9IHNhbml0aXplQ2FsbFNpZ24ocXMuZ2V0KFwibmFtZVwiKSk7XG4gIGNvbnN0IHN0b3JlZE5hbWUgPSBzYW5pdGl6ZUNhbGxTaWduKHJlYWRTdG9yZWRDYWxsU2lnbigpKTtcbiAgY29uc3QgY2FsbFNpZ24gPSBuYW1lUGFyYW0gfHwgc3RvcmVkTmFtZTtcbiAgY29uc3QgbWFwVyA9IHBhcnNlRmxvYXQocXMuZ2V0KFwibWFwV1wiKSB8fCBcIjgwMDBcIik7XG4gIGNvbnN0IG1hcEggPSBwYXJzZUZsb2F0KHFzLmdldChcIm1hcEhcIikgfHwgXCI0NTAwXCIpO1xuXG4gIGlmIChuYW1lUGFyYW0gJiYgbmFtZVBhcmFtICE9PSBzdG9yZWROYW1lKSB7XG4gICAgcGVyc2lzdENhbGxTaWduKG5hbWVQYXJhbSk7XG4gIH1cblxuICAvLyBHYXRlIGV2ZXJ5dGhpbmcgb24gYSB1c2VyIGdlc3R1cmUgKGNlbnRyZWQgYnV0dG9uKVxuICBhd2FpdCB3YWl0Rm9yVXNlclN0YXJ0KHtcbiAgICBsYWJlbDogXCJTdGFydCBHYW1lXCIsXG4gICAgcmVxdWVzdEZ1bGxzY3JlZW46IGZhbHNlLCAgIC8vIGZsaXAgdG8gdHJ1ZSBpZiB5b3Ugd2FudCBmdWxsc2NyZWVuXG4gICAgcmVzdW1lQXVkaW8sICAgICAgICAgICAgICAgIC8vIHVzZXMgc3Rvcnkvc2Z4LnRzXG4gIH0pO1xuXG4gIC8vIC0tLS0gU3RhcnQgYWN0dWFsIGFwcCBhZnRlciBnZXN0dXJlIC0tLS1cbiAgY29uc3Qgc3RhdGUgPSBjcmVhdGVJbml0aWFsU3RhdGUoKTtcbiAgY29uc3QgdWlTdGF0ZSA9IGNyZWF0ZUluaXRpYWxVSVN0YXRlKCk7XG4gIGNvbnN0IGJ1cyA9IGNyZWF0ZUV2ZW50QnVzKCk7XG5cbiAgLy8gLS0tIEFVRElPOiBlbmdpbmUgKyBiaW5kaW5ncyArIGRlZmF1bHQgc2NlbmUgLS0tXG4gIGNvbnN0IGVuZ2luZSA9IEF1ZGlvRW5naW5lLmdldCgpO1xuICBhd2FpdCBlbmdpbmUucmVzdW1lKCk7IC8vIHNhZmUgcG9zdC1nZXN0dXJlXG4gIGNvbnN0IG11c2ljID0gbmV3IE11c2ljRGlyZWN0b3IoZW5naW5lKTtcbiAgcmVnaXN0ZXJBdWRpb0J1c0JpbmRpbmdzKGJ1cyBhcyBhbnksIGVuZ2luZSwgbXVzaWMpO1xuXG4gIC8vIFN0YXJ0IGEgZGVmYXVsdCBtdXNpYyBzY2VuZSAoYWRqdXN0IHNlZWQvc2NlbmUgYXMgeW91IGxpa2UpXG4gIGJ1cy5lbWl0KFwiYXVkaW86bXVzaWM6c2V0LXNjZW5lXCIsIHsgc2NlbmU6IFwiYW1iaWVudFwiLCBzZWVkOiA0MiB9KTtcblxuICAvLyBPcHRpb25hbDogYmFzaWMgaG9va3MgdG8gZGVtb25zdHJhdGUgU0ZYICYgZHVja2luZ1xuICAvLyBidXMub24oXCJkaWFsb2d1ZTpvcGVuZWRcIiwgKCkgPT4gZW5naW5lLmR1Y2tNdXNpYygwLjM1LCAwLjEpKTtcbiAgLy8gYnVzLm9uKFwiZGlhbG9ndWU6Y2xvc2VkXCIsICgpID0+IGVuZ2luZS51bmR1Y2tNdXNpYygwLjI1KSk7XG5cbiAgLy8gRXhhbXBsZSBnYW1lIFNGWCB3aXJpbmcgKGFkYXB0IHRvIHlvdXIgYWN0dWFsIGV2ZW50cylcbiAgYnVzLm9uKFwic2hpcDpzcGVlZENoYW5nZWRcIiwgKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh2YWx1ZSA+IDApIGJ1cy5lbWl0KFwiYXVkaW86c2Z4XCIsIHsgbmFtZTogXCJ0aHJ1c3RcIiwgdmVsb2NpdHk6IE1hdGgubWluKDEsIHZhbHVlKSB9KTtcbiAgfSk7XG5cbiAgY29uc3QgZ2FtZSA9IGluaXRHYW1lKHsgc3RhdGUsIHVpU3RhdGUsIGJ1cyB9KTtcbiAgbW91bnRNaXNzaW9uQ29udHJvbGxlcih7IHN0YXRlLCBidXMsIG1vZGUsIG1pc3Npb25JZCB9KTtcblxuICAvLyBJbml0aWFsaXplIHVwZ3JhZGVzIHBhbmVsXG4gIGluaXRVcGdyYWRlc1BhbmVsKHN0YXRlLCBidXMpO1xuICBzdGFydENvdW50ZG93blRpbWVyKHN0YXRlLCBidXMpO1xuXG4gIC8vIEFkZCBrZXlib2FyZCBzaG9ydGN1dCAoVSBrZXkpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJ1XCIgfHwgZS5rZXkgPT09IFwiVVwiKSB7XG4gICAgICBidXMuZW1pdChcInVwZ3JhZGVzOnRvZ2dsZVwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFdpcmUgdXAgdXBncmFkZXMgYnV0dG9uXG4gIGNvbnN0IHVwZ3JhZGVzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLXVwZ3JhZGVzLWJ0blwiKTtcbiAgdXBncmFkZXNCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgYnVzLmVtaXQoXCJ1cGdyYWRlczp0b2dnbGVcIik7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBiYWRnZSB3aXRoIGluLXByb2dyZXNzIGNvdW50XG4gIGJ1cy5vbihcInVwZ3JhZGVzOmNvdW50VXBkYXRlZFwiLCAoeyBjb3VudCB9KSA9PiB7XG4gICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtdXBncmFkZXMtYmFkZ2VcIik7XG4gICAgaWYgKGJhZGdlKSB7XG4gICAgICBiYWRnZS50ZXh0Q29udGVudCA9IGNvdW50ID4gMCA/IGAke2NvdW50fWAgOiBcIlwiO1xuICAgICAgYmFkZ2Uuc3R5bGUuZGlzcGxheSA9IGNvdW50ID4gMCA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1vdW50IHR1dG9yaWFsIGFuZCBzdG9yeSBiYXNlZCBvbiBnYW1lIG1vZGVcbiAgY29uc3QgZW5hYmxlVHV0b3JpYWwgPSBtb2RlID09PSBcImNhbXBhaWduXCIgfHwgbW9kZSA9PT0gXCJ0dXRvcmlhbFwiO1xuICBjb25zdCBlbmFibGVTdG9yeSA9IG1vZGUgPT09IFwiY2FtcGFpZ25cIjtcblxuICBpZiAobW9kZSA9PT0gXCJjYW1wYWlnblwiKSB7XG4gICAgY29uc3QgZGlzcGF0Y2hlZFdhdmVzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgYnVzLm9uKFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCIsICh7IGluZGV4IH0pID0+IHtcbiAgICAgIGNvbnN0IHdhdmVJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgIGlmICh3YXZlSW5kZXggPCAxIHx8IHdhdmVJbmRleCA+IDMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRpc3BhdGNoZWRXYXZlcy5oYXMod2F2ZUluZGV4KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkaXNwYXRjaGVkV2F2ZXMuYWRkKHdhdmVJbmRleCk7XG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwibWlzc2lvbl9zcGF3bl93YXZlXCIsIHdhdmVfaW5kZXg6IHdhdmVJbmRleCB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGxldCB0dXRvcmlhbDogUmV0dXJuVHlwZTx0eXBlb2YgbW91bnRUdXRvcmlhbD4gfCBudWxsID0gbnVsbDtcbiAgbGV0IHR1dG9yaWFsU3RhcnRlZCA9IGZhbHNlO1xuXG4gIGlmIChlbmFibGVUdXRvcmlhbCkge1xuICAgIHR1dG9yaWFsID0gbW91bnRUdXRvcmlhbChidXMpO1xuICB9XG5cbiAgY29uc3Qgc3RhcnRUdXRvcmlhbCA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAoIXR1dG9yaWFsIHx8IHR1dG9yaWFsU3RhcnRlZCkgcmV0dXJuO1xuICAgIHR1dG9yaWFsU3RhcnRlZCA9IHRydWU7XG4gICAgY2xlYXJUdXRvcmlhbFByb2dyZXNzKEJBU0lDX1RVVE9SSUFMX0lEKTtcbiAgICB0dXRvcmlhbC5zdGFydCh7IHJlc3VtZTogZmFsc2UgfSk7XG4gIH07XG5cbiAgaWYgKGVuYWJsZVN0b3J5KSB7XG4gICAgLy8gQ2FtcGFpZ24gbW9kZTogc3RvcnkgKyB0dXRvcmlhbFxuICAgIFxuICAgIG1vdW50U3RvcnkoeyBidXMsIHN0YXRlLCByb29tSWQ6IHJvb20gfSk7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJ0dXRvcmlhbFwiKSB7XG4gICAgLy8gVHV0b3JpYWwgbW9kZTogYXV0by1zdGFydCB0dXRvcmlhbCB3aXRob3V0IHN0b3J5XG4gICAgc3RhcnRUdXRvcmlhbCgpO1xuICB9XG4gIC8vIEZyZWUgcGxheSBhbmQgZGVmYXVsdDogbm8gc3lzdGVtcyBtb3VudGVkXG5cbiAgY29ubmVjdFdlYlNvY2tldCh7XG4gICAgcm9vbSxcbiAgICBzdGF0ZSxcbiAgICBidXMsXG4gICAgbWFwVyxcbiAgICBtYXBILFxuICAgIG1vZGUsXG4gICAgbWlzc2lvbklkOiBtaXNzaW9uSWQgPz8gdW5kZWZpbmVkLFxuICAgIG9uU3RhdGVVcGRhdGVkOiAoKSA9PiBnYW1lLm9uU3RhdGVVcGRhdGVkKCksXG4gICAgb25PcGVuOiAoKSA9PiB7XG4gICAgICBjb25zdCBuYW1lVG9TZW5kID0gY2FsbFNpZ24gfHwgc2FuaXRpemVDYWxsU2lnbihyZWFkU3RvcmVkQ2FsbFNpZ24oKSk7XG4gICAgICBpZiAobmFtZVRvU2VuZCkgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImpvaW5cIiwgbmFtZTogbmFtZVRvU2VuZCB9KTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBPcHRpb25hbDogc3VzcGVuZC9yZXN1bWUgYXVkaW8gb24gdGFiIHZpc2liaWxpdHkgdG8gc2F2ZSBDUFVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgIHZvaWQgZW5naW5lLnN1c3BlbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm9pZCBlbmdpbmUucmVzdW1lKCk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbmZ1bmN0aW9uIHNhbml0aXplQ2FsbFNpZ24odmFsdWU6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gXCJcIjtcbiAgY29uc3QgdHJpbW1lZCA9IHZhbHVlLnRyaW0oKTtcbiAgaWYgKCF0cmltbWVkKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIHRyaW1tZWQuc2xpY2UoMCwgMjQpO1xufVxuXG5mdW5jdGlvbiBwZXJzaXN0Q2FsbFNpZ24obmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgaWYgKG5hbWUpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDQUxMX1NJR05fU1RPUkFHRV9LRVksIG5hbWUpO1xuICAgIGVsc2Ugd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENBTExfU0lHTl9TVE9SQUdFX0tFWSk7XG4gIH0gY2F0Y2gge31cbn1cblxuZnVuY3Rpb24gcmVhZFN0b3JlZENhbGxTaWduKCk6IHN0cmluZyB7XG4gIHRyeSB7IHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ0FMTF9TSUdOX1NUT1JBR0VfS0VZKSA/PyBcIlwiOyB9XG4gIGNhdGNoIHsgcmV0dXJuIFwiXCI7IH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7O0FBOEZPLFdBQVMsaUJBQTJCO0FBQ3pDLFVBQU0sV0FBVyxvQkFBSSxJQUE2QjtBQUNsRCxXQUFPO0FBQUEsTUFDTCxHQUFHLE9BQU8sU0FBUztBQUNqQixZQUFJLE1BQU0sU0FBUyxJQUFJLEtBQUs7QUFDNUIsWUFBSSxDQUFDLEtBQUs7QUFDUixnQkFBTSxvQkFBSSxJQUFJO0FBQ2QsbUJBQVMsSUFBSSxPQUFPLEdBQUc7QUFBQSxRQUN6QjtBQUNBLFlBQUksSUFBSSxPQUFP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LHFCQUFxQixVQUFVLElBQUksUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxnQkFBZ0IsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSxtQ0FBbUMsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLHVDQUF1QyxHQUFHLEVBQUUsUUFBUSxXQUFXLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksMENBQTBDLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSx3Q0FBd0MsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLCtCQUErQixHQUFHLEVBQUUsUUFBUSxvQkFBb0IsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSxrQ0FBa0MsR0FBRyxFQUFFLFFBQVEsVUFBVSxVQUFVLElBQUksUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxXQUFXLFVBQVUsSUFBSSxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksMkJBQTJCLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSxtQkFBbUIsU0FBUyxDQUFDLEVBQUUsUUFBUSxRQUFRLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLFNBQVMsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSx3Q0FBd0MsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLHdDQUF3QyxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksbUNBQW1DLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSx1Q0FBdUMsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFVBQVUsR0FBRyxRQUFRLElB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QUFHLEVBQUUsUUFBUSxZQUFZLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLGlCQUFpQixVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxJQUFJLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsV0FBVyxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLGdDQUFnQyxHQUFHLEVBQUUsUUFBUSxtQkFBbUIsVUFBVSxJQUFJLFFBQVEsR0FBRyxTQUFTLEVBQUUsQ0FBQyxHQUFHLFlBQVksQ0FBQyxFQUFFLFFBQVEsUUFBUSxTQUFTLENBQUMsRUFBRSxRQUFRLGVBQWUsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGNBQWMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGNBQWMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGVBQWUsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGNBQWMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGdCQUFnQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxnQkFBZ0IsVUFBVSxHQUFHLEdBQUcsRUFBRSxRQUFRLGNBQWMsVUFBVSxHQUFHLEdBQUcsRUFBRSxRQUFRLGVBQWUsVUFBVSxHQUFHLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLEdBQUcsRUFBRSxRQUFRLGlCQUFpQixVQUFVLEdBQUcsR0FBRyxFQUFFLFFBQVEsaUJBQWlCLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUs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LFFBQVEsb0JBQW9CLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxVQUFVLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsRUFBRSxRQUFRLGlCQUFpQixTQUFTLENBQUMsRUFBRSxRQUFRLDBCQUEwQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsWUFBWSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsWUFBWSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFVBQVUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsWUFBWSxTQUFTLENBQUMsRUFBRSxRQUFRLHFCQUFxQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsUUFBUSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsVUFBVSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLHlCQUF5QixTQUFTLENBQUMsRUFBRSxRQUFRLG1DQUFtQyxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsVUFBVSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsWUFBWSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLGtCQUFrQixTQUFTLENBQUMsRUFBRSxRQUFRLDJCQUEyQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsVUFBVSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsUUFBUSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLG1CQUFtQixTQUFTLENBQUMsRUFBRSxRQUFRLDRCQUE0QixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsY0FBYyxTQUFTLENBQUMsRUFBRSxRQUFRLHVCQUF1QixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsU0FBUyxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsc0JB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QUFBLFFBQ1Q7QUFBQSxRQUNBLFdBQVc7QUFBQSxNQUNiO0FBQUEsTUFDQTtBQUFBLFFBQ0UsSUFBSTtBQUFBLFFBQ0osUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFFBQ1Q7QUFBQSxRQUNBLFdBQVc7QUFBQSxNQUNiO0FBQUEsTUFDQTtBQUFBLFFBQ0UsSUFBSTtBQUFBLFFBQ0osUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFFBQ1Q7QUFBQSxRQUNBLFdBQVc7QUFBQSxNQUNiO0FBQUEsTUFDQTtBQUFBLFFBQ0UsSUFBSTtBQUFBLFFBQ0osUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFFBQ1Q7QUFBQSxRQUNBLFdBQVc7QUFBQSxNQUNiO0FBQUEsTUFDQTtBQUFBLFFBQ0UsSUFBSTtBQUFBLFFBQ0osUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFFBQ1Q7QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLFFBQ0UsSUFBSTtBQUFBLFFBQ0osUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFFBQ1Q7QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLFFBQ0UsSUFBSTtBQUFBLFFBQ0osUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFVBQ1AsTUFBTSxrQkFBa0IsS0FBSztBQUFB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QUFvQjtBQUMzQyxZQUFJO0FBQ0YsY0FBSSxLQUFNLFFBQU8sYUFBYSxRQUFRLHVCQUF1QixJQUFJO0FBQUEsY0FDNUQsUUFBTyxhQUFhLFdBQVcscUJBQXFCO0FBQUEsUUFDM0QsU0FBUTtBQUFBLFFBQUM7QUFBQSxNQUNYO0FBRUEsZUFBUyxxQkFBNkI7QUE3S3RDO0FBOEtFLFlBQUk7QUFBRSxrQkFBTyxZQUFPLGFBQWEsUUFBUSxxQkFBcUIsTUFBakQsWUFBc0Q7QUFBQSxRQUFJLFNBQ2pFO0FBQUUsaUJBQU87QUFBQSxRQUFJO0FBQUEsTUFDckI7QUFBQTtBQUFBOyIsCiAgIm5hbWVzIjogWyJpc01lc3NhZ2UiLCAiU2NhbGFyVHlwZSIsICJtZXNzYWdlRGVzYyIsICJtZXNzYWdlRGVzYyIsICJtZXNzYWdlRGVzYyIsICJJTVBMSUNJVCIsICJXaXJlVHlwZSIsICJtZXNzYWdlRGVzYyIsICJfYSIsICJFRElUSU9OX1BST1RPMiIsICJFRElUSU9OX1BST1RPMyIsICJJTVBMSUNJVCIsICJib290IiwgIkV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZSIsICJGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlIiwgIkZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsIiwgIkZpbGVPcHRpb25zX09wdGltaXplTW9kZSIsICJGaWVsZE9wdGlvbnNfQ1R5cGUiLCAiRmllbGRPcHRpb25zX0pTVHlwZSIsICJGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uIiwgIkZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlIiwgIk1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbCIsICJGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5IiwgIkZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZSIsICJGZWF0dXJlU2V0X0VudW1UeXBlIiwgIkZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nIiwgIkZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb24iLCAiRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmciLCAiRmVhdHVyZVNldF9Kc29uRm9ybWF0IiwgIkZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlIiwgIkdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWMiLCAiRWRpdGlvbiIsICJTeW1ib2xWaXNpYmlsaXR5IiwgIkxFR0FDWV9SRVFVSVJFRCIsICJpbml0X3NjYWxhciIsICJpbml0X3R5cGVzIiwgImluaXRfc2NhbGFyIiwgImluaXRfdHlwZXMiLCAic2VuZE1lc3NhZ2UiLCAiX2EiLCAiX2IiLCAic2VuZE1lc3NhZ2UiLCAiZ2V0QXBwcm94U2VydmVyTm93IiwgInNlbGVjdGlvbiIsICJzZW5kTWVzc2FnZSIsICJnZXRBcHByb3hTZXJ2ZXJOb3ciLCAiX2EiLCAiZW5zdXJlU3R5bGVzIiwgImNob2ljZSIsICJfYSIsICJTVFlMRV9JRCIsICJyZXN1bWVBdWRpbyIsICJpbml0X2VuZ2luZSIsICJpbml0X3NmeCIsICJpbml0X2VuZ2luZSIsICJpbml0X2VuZ2luZSIsICJTVE9SQUdFX1BSRUZJWCIsICJsb2FkUHJvZ3Jlc3MiLCAic2F2ZVByb2dyZXNzIiwgInBheWxvYWQiLCAiaW5pdF9jb250cm9sbGVyIiwgImluaXRfc2Z4IiwgImluaXRfZW5naW5lIiwgImluaXRfY29udHJvbGxlciJdCn0K

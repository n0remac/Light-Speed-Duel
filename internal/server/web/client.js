"use strict";
(() => {
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };

  // web/src/bus.ts
  function createEventBus() {
    const handlers = /* @__PURE__ */ new Map();
    return {
      on(event, handler) {
        let set = handlers.get(event);
        if (!set) {
          set = /* @__PURE__ */ new Set();
          handlers.set(event, set);
        }
        set.add(handler);
        return () => set.delete(handler);
      },
      emit(event, payload) {
        const set = handlers.get(event);
        if (!set || set.size === 0) return;
        for (const fn of set) {
          try {
            fn(payload);
          } catch (err) {
            console.error(`[bus] handler for ${event} failed`, err);
          }
        }
      }
    };
  }
  var init_bus = __esm({
    "web/src/bus.ts"() {
      "use strict";
    }
  });

  // web/src/state.ts
  function clampProgress(value) {
    if (!Number.isFinite(value)) {
      return 0;
    }
    if (value <= 0) return 0;
    if (value >= 1) return 1;
    return value;
  }
  function createInitialUIState() {
    return {
      inputContext: "ship",
      shipTool: "set",
      missileTool: null,
      activeTool: "ship-set",
      showShipRoute: true,
      helpVisible: false,
      zoom: 1,
      panX: 0,
      panY: 0
    };
  }
  function createInitialState(limits = {
    speedMin: MISSILE_MIN_SPEED,
    speedMax: MISSILE_MAX_SPEED,
    agroMin: MISSILE_MIN_AGRO
  }) {
    return {
      now: 0,
      nowSyncedAt: typeof performance !== "undefined" && typeof performance.now === "function" ? performance.now() : Date.now(),
      me: null,
      ghosts: [],
      missiles: [],
      missileRoutes: [],
      activeMissileRouteId: null,
      nextMissileReadyAt: 0,
      missileConfig: {
        speed: 180,
        agroRadius: 800,
        lifetime: missileLifetimeFor(180, 800, limits),
        heatParams: MISSILE_PRESETS[1].heatParams
        // Default to Hunter preset
      },
      missileLimits: limits,
      worldMeta: {},
      inventory: null,
      dag: null,
      mission: null,
      story: null,
      craftHeatCapacity: 80,
      // Default to basic missile heat capacity
      capabilities: null,
      debug: {
        visible: false,
        beacons: [],
        encounters: [],
        lastRequestedAt: null,
        lastReceivedAt: null
      }
    };
  }
  function clamp(value, min, max) {
    return Math.max(min, Math.min(max, value));
  }
  function missileLifetimeFor(speed, agroRadius, limits = {
    speedMin: MISSILE_MIN_SPEED,
    speedMax: MISSILE_MAX_SPEED,
    agroMin: MISSILE_MIN_AGRO
  }) {
    const minSpeed = Number.isFinite(limits.speedMin) ? limits.speedMin : MISSILE_MIN_SPEED;
    const maxSpeed = Number.isFinite(limits.speedMax) ? limits.speedMax : MISSILE_MAX_SPEED;
    const minAgro = Number.isFinite(limits.agroMin) ? limits.agroMin : MISSILE_MIN_AGRO;
    const span = maxSpeed - minSpeed;
    const speedNorm = span > 0 ? clamp((speed - minSpeed) / span, 0, 1) : 0;
    const adjustedAgro = Math.max(0, agroRadius - minAgro);
    const agroNorm = clamp(adjustedAgro / MISSILE_LIFETIME_AGRO_REF, 0, 1);
    const reduction = speedNorm * MISSILE_LIFETIME_SPEED_PENALTY + agroNorm * MISSILE_LIFETIME_AGRO_PENALTY;
    const base = MISSILE_MAX_LIFETIME;
    return clamp(base - reduction, MISSILE_MIN_LIFETIME, MISSILE_MAX_LIFETIME);
  }
  function sanitizeMissileConfig(cfg, fallback, limits) {
    var _a, _b, _c, _d;
    const minSpeed = Number.isFinite(limits.speedMin) ? limits.speedMin : MISSILE_MIN_SPEED;
    const maxSpeed = Number.isFinite(limits.speedMax) ? limits.speedMax : MISSILE_MAX_SPEED;
    const minAgro = Number.isFinite(limits.agroMin) ? limits.agroMin : MISSILE_MIN_AGRO;
    const base = fallback != null ? fallback : {
      speed: minSpeed,
      agroRadius: minAgro,
      lifetime: missileLifetimeFor(minSpeed, minAgro, limits)
    };
    const mergedSpeed = Number.isFinite((_a = cfg.speed) != null ? _a : base.speed) ? (_b = cfg.speed) != null ? _b : base.speed : base.speed;
    const mergedAgro = Number.isFinite((_c = cfg.agroRadius) != null ? _c : base.agroRadius) ? (_d = cfg.agroRadius) != null ? _d : base.agroRadius : base.agroRadius;
    const speed = clamp(mergedSpeed, minSpeed, maxSpeed);
    const agroRadius = Math.max(minAgro, mergedAgro);
    const heatParams = cfg.heatParams ? { ...cfg.heatParams } : base.heatParams ? { ...base.heatParams } : void 0;
    return {
      speed,
      agroRadius,
      lifetime: missileLifetimeFor(speed, agroRadius, limits),
      heatParams
    };
  }
  function monotonicNow() {
    if (typeof performance !== "undefined" && typeof performance.now === "function") {
      return performance.now();
    }
    return Date.now();
  }
  function updateMissileLimits(state, limits) {
    state.missileLimits = {
      speedMin: Number.isFinite(limits.speedMin) ? limits.speedMin : state.missileLimits.speedMin,
      speedMax: Number.isFinite(limits.speedMax) ? limits.speedMax : state.missileLimits.speedMax,
      agroMin: Number.isFinite(limits.agroMin) ? limits.agroMin : state.missileLimits.agroMin
    };
  }
  var MISSILE_MIN_SPEED, MISSILE_MAX_SPEED, MISSILE_MIN_AGRO, MISSILE_MAX_LIFETIME, MISSILE_MIN_LIFETIME, MISSILE_LIFETIME_SPEED_PENALTY, MISSILE_LIFETIME_AGRO_PENALTY, MISSILE_LIFETIME_AGRO_REF, MISSILE_PRESETS;
  var init_state = __esm({
    "web/src/state.ts"() {
      "use strict";
      MISSILE_MIN_SPEED = 40;
      MISSILE_MAX_SPEED = 250;
      MISSILE_MIN_AGRO = 100;
      MISSILE_MAX_LIFETIME = 120;
      MISSILE_MIN_LIFETIME = 20;
      MISSILE_LIFETIME_SPEED_PENALTY = 80;
      MISSILE_LIFETIME_AGRO_PENALTY = 40;
      MISSILE_LIFETIME_AGRO_REF = 2e3;
      MISSILE_PRESETS = [
        {
          name: "Scout",
          description: "Slow, efficient, long-range. High heat capacity.",
          speed: 80,
          agroRadius: 1500,
          heatParams: {
            max: 60,
            warnAt: 42,
            overheatAt: 60,
            markerSpeed: 70,
            kUp: 20,
            kDown: 15,
            exp: 1.5
          }
        },
        {
          name: "Hunter",
          description: "Balanced speed and detection. Standard heat.",
          speed: 150,
          agroRadius: 800,
          heatParams: {
            max: 50,
            warnAt: 35,
            overheatAt: 50,
            markerSpeed: 120,
            kUp: 28,
            kDown: 12,
            exp: 1.5
          }
        },
        {
          name: "Sniper",
          description: "Fast, narrow detection. Low heat capacity.",
          speed: 220,
          agroRadius: 300,
          heatParams: {
            max: 40,
            warnAt: 28,
            overheatAt: 40,
            markerSpeed: 180,
            kUp: 35,
            kDown: 8,
            exp: 1.5
          }
        }
      ];
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/types.js
  var init_types = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/is-message.js
  function isMessage(arg, schema) {
    const isMessage2 = arg !== null && typeof arg == "object" && "$typeName" in arg && typeof arg.$typeName == "string";
    if (!isMessage2) {
      return false;
    }
    if (schema === void 0) {
      return true;
    }
    return schema.typeName === arg.$typeName;
  }
  var init_is_message = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/is-message.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/descriptors.js
  var ScalarType;
  var init_descriptors = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/descriptors.js"() {
      (function(ScalarType2) {
        ScalarType2[ScalarType2["DOUBLE"] = 1] = "DOUBLE";
        ScalarType2[ScalarType2["FLOAT"] = 2] = "FLOAT";
        ScalarType2[ScalarType2["INT64"] = 3] = "INT64";
        ScalarType2[ScalarType2["UINT64"] = 4] = "UINT64";
        ScalarType2[ScalarType2["INT32"] = 5] = "INT32";
        ScalarType2[ScalarType2["FIXED64"] = 6] = "FIXED64";
        ScalarType2[ScalarType2["FIXED32"] = 7] = "FIXED32";
        ScalarType2[ScalarType2["BOOL"] = 8] = "BOOL";
        ScalarType2[ScalarType2["STRING"] = 9] = "STRING";
        ScalarType2[ScalarType2["BYTES"] = 12] = "BYTES";
        ScalarType2[ScalarType2["UINT32"] = 13] = "UINT32";
        ScalarType2[ScalarType2["SFIXED32"] = 15] = "SFIXED32";
        ScalarType2[ScalarType2["SFIXED64"] = 16] = "SFIXED64";
        ScalarType2[ScalarType2["SINT32"] = 17] = "SINT32";
        ScalarType2[ScalarType2["SINT64"] = 18] = "SINT64";
      })(ScalarType || (ScalarType = {}));
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js
  function varint64read() {
    let lowBits = 0;
    let highBits = 0;
    for (let shift = 0; shift < 28; shift += 7) {
      let b = this.buf[this.pos++];
      lowBits |= (b & 127) << shift;
      if ((b & 128) == 0) {
        this.assertBounds();
        return [lowBits, highBits];
      }
    }
    let middleByte = this.buf[this.pos++];
    lowBits |= (middleByte & 15) << 28;
    highBits = (middleByte & 112) >> 4;
    if ((middleByte & 128) == 0) {
      this.assertBounds();
      return [lowBits, highBits];
    }
    for (let shift = 3; shift <= 31; shift += 7) {
      let b = this.buf[this.pos++];
      highBits |= (b & 127) << shift;
      if ((b & 128) == 0) {
        this.assertBounds();
        return [lowBits, highBits];
      }
    }
    throw new Error("invalid varint");
  }
  function varint64write(lo, hi, bytes) {
    for (let i = 0; i < 28; i = i + 7) {
      const shift = lo >>> i;
      const hasNext = !(shift >>> 7 == 0 && hi == 0);
      const byte = (hasNext ? shift | 128 : shift) & 255;
      bytes.push(byte);
      if (!hasNext) {
        return;
      }
    }
    const splitBits = lo >>> 28 & 15 | (hi & 7) << 4;
    const hasMoreBits = !(hi >> 3 == 0);
    bytes.push((hasMoreBits ? splitBits | 128 : splitBits) & 255);
    if (!hasMoreBits) {
      return;
    }
    for (let i = 3; i < 31; i = i + 7) {
      const shift = hi >>> i;
      const hasNext = !(shift >>> 7 == 0);
      const byte = (hasNext ? shift | 128 : shift) & 255;
      bytes.push(byte);
      if (!hasNext) {
        return;
      }
    }
    bytes.push(hi >>> 31 & 1);
  }
  function int64FromString(dec) {
    const minus = dec[0] === "-";
    if (minus) {
      dec = dec.slice(1);
    }
    const base = 1e6;
    let lowBits = 0;
    let highBits = 0;
    function add1e6digit(begin, end) {
      const digit1e6 = Number(dec.slice(begin, end));
      highBits *= base;
      lowBits = lowBits * base + digit1e6;
      if (lowBits >= TWO_PWR_32_DBL) {
        highBits = highBits + (lowBits / TWO_PWR_32_DBL | 0);
        lowBits = lowBits % TWO_PWR_32_DBL;
      }
    }
    add1e6digit(-24, -18);
    add1e6digit(-18, -12);
    add1e6digit(-12, -6);
    add1e6digit(-6);
    return minus ? negate(lowBits, highBits) : newBits(lowBits, highBits);
  }
  function int64ToString(lo, hi) {
    let bits = newBits(lo, hi);
    const negative = bits.hi & 2147483648;
    if (negative) {
      bits = negate(bits.lo, bits.hi);
    }
    const result = uInt64ToString(bits.lo, bits.hi);
    return negative ? "-" + result : result;
  }
  function uInt64ToString(lo, hi) {
    ({ lo, hi } = toUnsigned(lo, hi));
    if (hi <= 2097151) {
      return String(TWO_PWR_32_DBL * hi + lo);
    }
    const low = lo & 16777215;
    const mid = (lo >>> 24 | hi << 8) & 16777215;
    const high = hi >> 16 & 65535;
    let digitA = low + mid * 6777216 + high * 6710656;
    let digitB = mid + high * 8147497;
    let digitC = high * 2;
    const base = 1e7;
    if (digitA >= base) {
      digitB += Math.floor(digitA / base);
      digitA %= base;
    }
    if (digitB >= base) {
      digitC += Math.floor(digitB / base);
      digitB %= base;
    }
    return digitC.toString() + decimalFrom1e7WithLeadingZeros(digitB) + decimalFrom1e7WithLeadingZeros(digitA);
  }
  function toUnsigned(lo, hi) {
    return { lo: lo >>> 0, hi: hi >>> 0 };
  }
  function newBits(lo, hi) {
    return { lo: lo | 0, hi: hi | 0 };
  }
  function negate(lowBits, highBits) {
    highBits = ~highBits;
    if (lowBits) {
      lowBits = ~lowBits + 1;
    } else {
      highBits += 1;
    }
    return newBits(lowBits, highBits);
  }
  function varint32write(value, bytes) {
    if (value >= 0) {
      while (value > 127) {
        bytes.push(value & 127 | 128);
        value = value >>> 7;
      }
      bytes.push(value);
    } else {
      for (let i = 0; i < 9; i++) {
        bytes.push(value & 127 | 128);
        value = value >> 7;
      }
      bytes.push(1);
    }
  }
  function varint32read() {
    let b = this.buf[this.pos++];
    let result = b & 127;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 7;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 14;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 127) << 21;
    if ((b & 128) == 0) {
      this.assertBounds();
      return result;
    }
    b = this.buf[this.pos++];
    result |= (b & 15) << 28;
    for (let readBytes = 5; (b & 128) !== 0 && readBytes < 10; readBytes++)
      b = this.buf[this.pos++];
    if ((b & 128) != 0)
      throw new Error("invalid varint");
    this.assertBounds();
    return result >>> 0;
  }
  var TWO_PWR_32_DBL, decimalFrom1e7WithLeadingZeros;
  var init_varint = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js"() {
      TWO_PWR_32_DBL = 4294967296;
      decimalFrom1e7WithLeadingZeros = (digit1e7) => {
        const partial = String(digit1e7);
        return "0000000".slice(partial.length) + partial;
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js
  function makeInt64Support() {
    const dv = new DataView(new ArrayBuffer(8));
    const ok = typeof BigInt === "function" && typeof dv.getBigInt64 === "function" && typeof dv.getBigUint64 === "function" && typeof dv.setBigInt64 === "function" && typeof dv.setBigUint64 === "function" && (!!globalThis.Deno || typeof process != "object" || typeof process.env != "object" || process.env.BUF_BIGINT_DISABLE !== "1");
    if (ok) {
      const MIN = BigInt("-9223372036854775808");
      const MAX = BigInt("9223372036854775807");
      const UMIN = BigInt("0");
      const UMAX = BigInt("18446744073709551615");
      return {
        zero: BigInt(0),
        supported: true,
        parse(value) {
          const bi = typeof value == "bigint" ? value : BigInt(value);
          if (bi > MAX || bi < MIN) {
            throw new Error(`invalid int64: ${value}`);
          }
          return bi;
        },
        uParse(value) {
          const bi = typeof value == "bigint" ? value : BigInt(value);
          if (bi > UMAX || bi < UMIN) {
            throw new Error(`invalid uint64: ${value}`);
          }
          return bi;
        },
        enc(value) {
          dv.setBigInt64(0, this.parse(value), true);
          return {
            lo: dv.getInt32(0, true),
            hi: dv.getInt32(4, true)
          };
        },
        uEnc(value) {
          dv.setBigInt64(0, this.uParse(value), true);
          return {
            lo: dv.getInt32(0, true),
            hi: dv.getInt32(4, true)
          };
        },
        dec(lo, hi) {
          dv.setInt32(0, lo, true);
          dv.setInt32(4, hi, true);
          return dv.getBigInt64(0, true);
        },
        uDec(lo, hi) {
          dv.setInt32(0, lo, true);
          dv.setInt32(4, hi, true);
          return dv.getBigUint64(0, true);
        }
      };
    }
    return {
      zero: "0",
      supported: false,
      parse(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertInt64String(value);
        return value;
      },
      uParse(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertUInt64String(value);
        return value;
      },
      enc(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertInt64String(value);
        return int64FromString(value);
      },
      uEnc(value) {
        if (typeof value != "string") {
          value = value.toString();
        }
        assertUInt64String(value);
        return int64FromString(value);
      },
      dec(lo, hi) {
        return int64ToString(lo, hi);
      },
      uDec(lo, hi) {
        return uInt64ToString(lo, hi);
      }
    };
  }
  function assertInt64String(value) {
    if (!/^-?[0-9]+$/.test(value)) {
      throw new Error("invalid int64: " + value);
    }
  }
  function assertUInt64String(value) {
    if (!/^[0-9]+$/.test(value)) {
      throw new Error("invalid uint64: " + value);
    }
  }
  var protoInt64;
  var init_proto_int64 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js"() {
      init_varint();
      protoInt64 = /* @__PURE__ */ makeInt64Support();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js
  function scalarZeroValue(type, longAsString) {
    switch (type) {
      case ScalarType.STRING:
        return "";
      case ScalarType.BOOL:
        return false;
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        return 0;
      case ScalarType.INT64:
      case ScalarType.UINT64:
      case ScalarType.SFIXED64:
      case ScalarType.FIXED64:
      case ScalarType.SINT64:
        return longAsString ? "0" : protoInt64.zero;
      case ScalarType.BYTES:
        return new Uint8Array(0);
      default:
        return 0;
    }
  }
  function isScalarZeroValue(type, value) {
    switch (type) {
      case ScalarType.BOOL:
        return value === false;
      case ScalarType.STRING:
        return value === "";
      case ScalarType.BYTES:
        return value instanceof Uint8Array && !value.byteLength;
      default:
        return value == 0;
    }
  }
  var init_scalar = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js"() {
      init_proto_int64();
      init_descriptors();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js
  function unsafeOneofCase(target, oneof) {
    const c = target[oneof.localName].case;
    if (c === void 0) {
      return c;
    }
    return oneof.fields.find((f) => f.localName === c);
  }
  function unsafeIsSet(target, field) {
    const name = field.localName;
    if (field.oneof) {
      return target[field.oneof.localName].case === name;
    }
    if (field.presence != IMPLICIT) {
      return target[name] !== void 0 && Object.prototype.hasOwnProperty.call(target, name);
    }
    switch (field.fieldKind) {
      case "list":
        return target[name].length > 0;
      case "map":
        return Object.keys(target[name]).length > 0;
      case "scalar":
        return !isScalarZeroValue(field.scalar, target[name]);
      case "enum":
        return target[name] !== field.enum.values[0].number;
    }
    throw new Error("message field with implicit presence");
  }
  function unsafeIsSetExplicit(target, localName) {
    return Object.prototype.hasOwnProperty.call(target, localName) && target[localName] !== void 0;
  }
  function unsafeGet(target, field) {
    if (field.oneof) {
      const oneof = target[field.oneof.localName];
      if (oneof.case === field.localName) {
        return oneof.value;
      }
      return void 0;
    }
    return target[field.localName];
  }
  function unsafeSet(target, field, value) {
    if (field.oneof) {
      target[field.oneof.localName] = {
        case: field.localName,
        value
      };
    } else {
      target[field.localName] = value;
    }
  }
  function unsafeClear(target, field) {
    const name = field.localName;
    if (field.oneof) {
      const oneofLocalName = field.oneof.localName;
      if (target[oneofLocalName].case === name) {
        target[oneofLocalName] = { case: void 0 };
      }
    } else if (field.presence != IMPLICIT) {
      delete target[name];
    } else {
      switch (field.fieldKind) {
        case "map":
          target[name] = {};
          break;
        case "list":
          target[name] = [];
          break;
        case "enum":
          target[name] = field.enum.values[0].number;
          break;
        case "scalar":
          target[name] = scalarZeroValue(field.scalar, field.longAsString);
          break;
      }
    }
  }
  var IMPLICIT, unsafeLocal;
  var init_unsafe = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js"() {
      init_scalar();
      IMPLICIT = 2;
      unsafeLocal = Symbol.for("reflect unsafe local");
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js
  function isObject(arg) {
    return arg !== null && typeof arg == "object" && !Array.isArray(arg);
  }
  function isReflectList(arg, field) {
    var _a, _b, _c, _d;
    if (isObject(arg) && unsafeLocal in arg && "add" in arg && "field" in arg && typeof arg.field == "function") {
      if (field !== void 0) {
        const a = field;
        const b = arg.field();
        return a.listKind == b.listKind && a.scalar === b.scalar && ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) && ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName);
      }
      return true;
    }
    return false;
  }
  function isReflectMap(arg, field) {
    var _a, _b, _c, _d;
    if (isObject(arg) && unsafeLocal in arg && "has" in arg && "field" in arg && typeof arg.field == "function") {
      if (field !== void 0) {
        const a = field, b = arg.field();
        return a.mapKey === b.mapKey && a.mapKind == b.mapKind && a.scalar === b.scalar && ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) && ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName);
      }
      return true;
    }
    return false;
  }
  function isReflectMessage(arg, messageDesc2) {
    return isObject(arg) && unsafeLocal in arg && "desc" in arg && isObject(arg.desc) && arg.desc.kind === "message" && (messageDesc2 === void 0 || arg.desc.typeName == messageDesc2.typeName);
  }
  var init_guard = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js"() {
      init_unsafe();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js
  function isWrapper(arg) {
    return isWrapperTypeName(arg.$typeName);
  }
  function isWrapperDesc(messageDesc2) {
    const f = messageDesc2.fields[0];
    return isWrapperTypeName(messageDesc2.typeName) && f !== void 0 && f.fieldKind == "scalar" && f.name == "value" && f.number == 1;
  }
  function isWrapperTypeName(name) {
    return name.startsWith("google.protobuf.") && [
      "DoubleValue",
      "FloatValue",
      "Int64Value",
      "UInt64Value",
      "Int32Value",
      "UInt32Value",
      "BoolValue",
      "StringValue",
      "BytesValue"
    ].includes(name.substring(16));
  }
  var init_wrappers = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/create.js
  function create(schema, init) {
    if (isMessage(init, schema)) {
      return init;
    }
    const message = createZeroMessage(schema);
    if (init !== void 0) {
      initMessage(schema, message, init);
    }
    return message;
  }
  function initMessage(messageDesc2, message, init) {
    for (const member of messageDesc2.members) {
      let value = init[member.localName];
      if (value == null) {
        continue;
      }
      let field;
      if (member.kind == "oneof") {
        const oneofField = unsafeOneofCase(init, member);
        if (!oneofField) {
          continue;
        }
        field = oneofField;
        value = unsafeGet(init, oneofField);
      } else {
        field = member;
      }
      switch (field.fieldKind) {
        case "message":
          value = toMessage(field, value);
          break;
        case "scalar":
          value = initScalar(field, value);
          break;
        case "list":
          value = initList(field, value);
          break;
        case "map":
          value = initMap(field, value);
          break;
      }
      unsafeSet(message, field, value);
    }
    return message;
  }
  function initScalar(field, value) {
    if (field.scalar == ScalarType.BYTES) {
      return toU8Arr(value);
    }
    return value;
  }
  function initMap(field, value) {
    if (isObject(value)) {
      if (field.scalar == ScalarType.BYTES) {
        return convertObjectValues(value, toU8Arr);
      }
      if (field.mapKind == "message") {
        return convertObjectValues(value, (val) => toMessage(field, val));
      }
    }
    return value;
  }
  function initList(field, value) {
    if (Array.isArray(value)) {
      if (field.scalar == ScalarType.BYTES) {
        return value.map(toU8Arr);
      }
      if (field.listKind == "message") {
        return value.map((item) => toMessage(field, item));
      }
    }
    return value;
  }
  function toMessage(field, value) {
    if (field.fieldKind == "message" && !field.oneof && isWrapperDesc(field.message)) {
      return initScalar(field.message.fields[0], value);
    }
    if (isObject(value)) {
      if (field.message.typeName == "google.protobuf.Struct" && field.parent.typeName !== "google.protobuf.Value") {
        return value;
      }
      if (!isMessage(value, field.message)) {
        return create(field.message, value);
      }
    }
    return value;
  }
  function toU8Arr(value) {
    return Array.isArray(value) ? new Uint8Array(value) : value;
  }
  function convertObjectValues(obj, fn) {
    const ret = {};
    for (const entry of Object.entries(obj)) {
      ret[entry[0]] = fn(entry[1]);
    }
    return ret;
  }
  function createZeroMessage(desc) {
    let msg;
    if (!needsPrototypeChain(desc)) {
      msg = {
        $typeName: desc.typeName
      };
      for (const member of desc.members) {
        if (member.kind == "oneof" || member.presence == IMPLICIT2) {
          msg[member.localName] = createZeroField(member);
        }
      }
    } else {
      const cached = messagePrototypes.get(desc);
      let prototype;
      let members;
      if (cached) {
        ({ prototype, members } = cached);
      } else {
        prototype = {};
        members = /* @__PURE__ */ new Set();
        for (const member of desc.members) {
          if (member.kind == "oneof") {
            continue;
          }
          if (member.fieldKind != "scalar" && member.fieldKind != "enum") {
            continue;
          }
          if (member.presence == IMPLICIT2) {
            continue;
          }
          members.add(member);
          prototype[member.localName] = createZeroField(member);
        }
        messagePrototypes.set(desc, { prototype, members });
      }
      msg = Object.create(prototype);
      msg.$typeName = desc.typeName;
      for (const member of desc.members) {
        if (members.has(member)) {
          continue;
        }
        if (member.kind == "field") {
          if (member.fieldKind == "message") {
            continue;
          }
          if (member.fieldKind == "scalar" || member.fieldKind == "enum") {
            if (member.presence != IMPLICIT2) {
              continue;
            }
          }
        }
        msg[member.localName] = createZeroField(member);
      }
    }
    return msg;
  }
  function needsPrototypeChain(desc) {
    switch (desc.file.edition) {
      case EDITION_PROTO3:
        return false;
      case EDITION_PROTO2:
        return true;
      default:
        return desc.fields.some((f) => f.presence != IMPLICIT2 && f.fieldKind != "message" && !f.oneof);
    }
  }
  function createZeroField(field) {
    if (field.kind == "oneof") {
      return { case: void 0 };
    }
    if (field.fieldKind == "list") {
      return [];
    }
    if (field.fieldKind == "map") {
      return {};
    }
    if (field.fieldKind == "message") {
      return tokenZeroMessageField;
    }
    const defaultValue = field.getDefaultValue();
    if (defaultValue !== void 0) {
      return field.fieldKind == "scalar" && field.longAsString ? defaultValue.toString() : defaultValue;
    }
    return field.fieldKind == "scalar" ? scalarZeroValue(field.scalar, field.longAsString) : field.enum.values[0].number;
  }
  var EDITION_PROTO3, EDITION_PROTO2, IMPLICIT2, tokenZeroMessageField, messagePrototypes;
  var init_create = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/create.js"() {
      init_is_message();
      init_descriptors();
      init_scalar();
      init_guard();
      init_unsafe();
      init_wrappers();
      EDITION_PROTO3 = 999;
      EDITION_PROTO2 = 998;
      IMPLICIT2 = 2;
      tokenZeroMessageField = Symbol();
      messagePrototypes = /* @__PURE__ */ new WeakMap();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js
  var FieldError;
  var init_error = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js"() {
      FieldError = class extends Error {
        constructor(fieldOrOneof, message, name = "FieldValueInvalidError") {
          super(message);
          this.name = name;
          this.field = () => fieldOrOneof;
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js
  function getTextEncoding() {
    if (globalThis[symbol] == void 0) {
      const te = new globalThis.TextEncoder();
      const td = new globalThis.TextDecoder();
      globalThis[symbol] = {
        encodeUtf8(text) {
          return te.encode(text);
        },
        decodeUtf8(bytes) {
          return td.decode(bytes);
        },
        checkUtf8(text) {
          try {
            encodeURIComponent(text);
            return true;
          } catch (_) {
            return false;
          }
        }
      };
    }
    return globalThis[symbol];
  }
  var symbol;
  var init_text_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js"() {
      symbol = Symbol.for("@bufbuild/protobuf/text-encoding");
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js
  function assertInt32(arg) {
    if (typeof arg == "string") {
      arg = Number(arg);
    } else if (typeof arg != "number") {
      throw new Error("invalid int32: " + typeof arg);
    }
    if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN)
      throw new Error("invalid int32: " + arg);
  }
  function assertUInt32(arg) {
    if (typeof arg == "string") {
      arg = Number(arg);
    } else if (typeof arg != "number") {
      throw new Error("invalid uint32: " + typeof arg);
    }
    if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0)
      throw new Error("invalid uint32: " + arg);
  }
  function assertFloat32(arg) {
    if (typeof arg == "string") {
      const o = arg;
      arg = Number(arg);
      if (Number.isNaN(arg) && o !== "NaN") {
        throw new Error("invalid float32: " + o);
      }
    } else if (typeof arg != "number") {
      throw new Error("invalid float32: " + typeof arg);
    }
    if (Number.isFinite(arg) && (arg > FLOAT32_MAX || arg < FLOAT32_MIN))
      throw new Error("invalid float32: " + arg);
  }
  var WireType, FLOAT32_MAX, FLOAT32_MIN, UINT32_MAX, INT32_MAX, INT32_MIN, BinaryWriter, BinaryReader;
  var init_binary_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js"() {
      init_varint();
      init_proto_int64();
      init_text_encoding();
      (function(WireType2) {
        WireType2[WireType2["Varint"] = 0] = "Varint";
        WireType2[WireType2["Bit64"] = 1] = "Bit64";
        WireType2[WireType2["LengthDelimited"] = 2] = "LengthDelimited";
        WireType2[WireType2["StartGroup"] = 3] = "StartGroup";
        WireType2[WireType2["EndGroup"] = 4] = "EndGroup";
        WireType2[WireType2["Bit32"] = 5] = "Bit32";
      })(WireType || (WireType = {}));
      FLOAT32_MAX = 34028234663852886e22;
      FLOAT32_MIN = -34028234663852886e22;
      UINT32_MAX = 4294967295;
      INT32_MAX = 2147483647;
      INT32_MIN = -2147483648;
      BinaryWriter = class {
        constructor(encodeUtf8 = getTextEncoding().encodeUtf8) {
          this.encodeUtf8 = encodeUtf8;
          this.stack = [];
          this.chunks = [];
          this.buf = [];
        }
        /**
         * Return all bytes written and reset this writer.
         */
        finish() {
          if (this.buf.length) {
            this.chunks.push(new Uint8Array(this.buf));
            this.buf = [];
          }
          let len = 0;
          for (let i = 0; i < this.chunks.length; i++)
            len += this.chunks[i].length;
          let bytes = new Uint8Array(len);
          let offset = 0;
          for (let i = 0; i < this.chunks.length; i++) {
            bytes.set(this.chunks[i], offset);
            offset += this.chunks[i].length;
          }
          this.chunks = [];
          return bytes;
        }
        /**
         * Start a new fork for length-delimited data like a message
         * or a packed repeated field.
         *
         * Must be joined later with `join()`.
         */
        fork() {
          this.stack.push({ chunks: this.chunks, buf: this.buf });
          this.chunks = [];
          this.buf = [];
          return this;
        }
        /**
         * Join the last fork. Write its length and bytes, then
         * return to the previous state.
         */
        join() {
          let chunk = this.finish();
          let prev = this.stack.pop();
          if (!prev)
            throw new Error("invalid state, fork stack empty");
          this.chunks = prev.chunks;
          this.buf = prev.buf;
          this.uint32(chunk.byteLength);
          return this.raw(chunk);
        }
        /**
         * Writes a tag (field number and wire type).
         *
         * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.
         *
         * Generated code should compute the tag ahead of time and call `uint32()`.
         */
        tag(fieldNo, type) {
          return this.uint32((fieldNo << 3 | type) >>> 0);
        }
        /**
         * Write a chunk of raw bytes.
         */
        raw(chunk) {
          if (this.buf.length) {
            this.chunks.push(new Uint8Array(this.buf));
            this.buf = [];
          }
          this.chunks.push(chunk);
          return this;
        }
        /**
         * Write a `uint32` value, an unsigned 32 bit varint.
         */
        uint32(value) {
          assertUInt32(value);
          while (value > 127) {
            this.buf.push(value & 127 | 128);
            value = value >>> 7;
          }
          this.buf.push(value);
          return this;
        }
        /**
         * Write a `int32` value, a signed 32 bit varint.
         */
        int32(value) {
          assertInt32(value);
          varint32write(value, this.buf);
          return this;
        }
        /**
         * Write a `bool` value, a variant.
         */
        bool(value) {
          this.buf.push(value ? 1 : 0);
          return this;
        }
        /**
         * Write a `bytes` value, length-delimited arbitrary data.
         */
        bytes(value) {
          this.uint32(value.byteLength);
          return this.raw(value);
        }
        /**
         * Write a `string` value, length-delimited data converted to UTF-8 text.
         */
        string(value) {
          let chunk = this.encodeUtf8(value);
          this.uint32(chunk.byteLength);
          return this.raw(chunk);
        }
        /**
         * Write a `float` value, 32-bit floating point number.
         */
        float(value) {
          assertFloat32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setFloat32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `double` value, a 64-bit floating point number.
         */
        double(value) {
          let chunk = new Uint8Array(8);
          new DataView(chunk.buffer).setFloat64(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.
         */
        fixed32(value) {
          assertUInt32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setUint32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.
         */
        sfixed32(value) {
          assertInt32(value);
          let chunk = new Uint8Array(4);
          new DataView(chunk.buffer).setInt32(0, value, true);
          return this.raw(chunk);
        }
        /**
         * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.
         */
        sint32(value) {
          assertInt32(value);
          value = (value << 1 ^ value >> 31) >>> 0;
          varint32write(value, this.buf);
          return this;
        }
        /**
         * Write a `fixed64` value, a signed, fixed-length 64-bit integer.
         */
        sfixed64(value) {
          let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.enc(value);
          view.setInt32(0, tc.lo, true);
          view.setInt32(4, tc.hi, true);
          return this.raw(chunk);
        }
        /**
         * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.
         */
        fixed64(value) {
          let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.uEnc(value);
          view.setInt32(0, tc.lo, true);
          view.setInt32(4, tc.hi, true);
          return this.raw(chunk);
        }
        /**
         * Write a `int64` value, a signed 64-bit varint.
         */
        int64(value) {
          let tc = protoInt64.enc(value);
          varint64write(tc.lo, tc.hi, this.buf);
          return this;
        }
        /**
         * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.
         */
        sint64(value) {
          const tc = protoInt64.enc(value), sign = tc.hi >> 31, lo = tc.lo << 1 ^ sign, hi = (tc.hi << 1 | tc.lo >>> 31) ^ sign;
          varint64write(lo, hi, this.buf);
          return this;
        }
        /**
         * Write a `uint64` value, an unsigned 64-bit varint.
         */
        uint64(value) {
          const tc = protoInt64.uEnc(value);
          varint64write(tc.lo, tc.hi, this.buf);
          return this;
        }
      };
      BinaryReader = class {
        constructor(buf, decodeUtf8 = getTextEncoding().decodeUtf8) {
          this.decodeUtf8 = decodeUtf8;
          this.varint64 = varint64read;
          this.uint32 = varint32read;
          this.buf = buf;
          this.len = buf.length;
          this.pos = 0;
          this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);
        }
        /**
         * Reads a tag - field number and wire type.
         */
        tag() {
          let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;
          if (fieldNo <= 0 || wireType < 0 || wireType > 5)
            throw new Error("illegal tag: field no " + fieldNo + " wire type " + wireType);
          return [fieldNo, wireType];
        }
        /**
         * Skip one element and return the skipped data.
         *
         * When skipping StartGroup, provide the tags field number to check for
         * matching field number in the EndGroup tag.
         */
        skip(wireType, fieldNo) {
          let start = this.pos;
          switch (wireType) {
            case WireType.Varint:
              while (this.buf[this.pos++] & 128) {
              }
              break;
            case WireType.Bit64:
              this.pos += 4;
            case WireType.Bit32:
              this.pos += 4;
              break;
            case WireType.LengthDelimited:
              let len = this.uint32();
              this.pos += len;
              break;
            case WireType.StartGroup:
              for (; ; ) {
                const [fn, wt] = this.tag();
                if (wt === WireType.EndGroup) {
                  if (fieldNo !== void 0 && fn !== fieldNo) {
                    throw new Error("invalid end group tag");
                  }
                  break;
                }
                this.skip(wt, fn);
              }
              break;
            default:
              throw new Error("cant skip wire type " + wireType);
          }
          this.assertBounds();
          return this.buf.subarray(start, this.pos);
        }
        /**
         * Throws error if position in byte array is out of range.
         */
        assertBounds() {
          if (this.pos > this.len)
            throw new RangeError("premature EOF");
        }
        /**
         * Read a `int32` field, a signed 32 bit varint.
         */
        int32() {
          return this.uint32() | 0;
        }
        /**
         * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.
         */
        sint32() {
          let zze = this.uint32();
          return zze >>> 1 ^ -(zze & 1);
        }
        /**
         * Read a `int64` field, a signed 64-bit varint.
         */
        int64() {
          return protoInt64.dec(...this.varint64());
        }
        /**
         * Read a `uint64` field, an unsigned 64-bit varint.
         */
        uint64() {
          return protoInt64.uDec(...this.varint64());
        }
        /**
         * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.
         */
        sint64() {
          let [lo, hi] = this.varint64();
          let s = -(lo & 1);
          lo = (lo >>> 1 | (hi & 1) << 31) ^ s;
          hi = hi >>> 1 ^ s;
          return protoInt64.dec(lo, hi);
        }
        /**
         * Read a `bool` field, a variant.
         */
        bool() {
          let [lo, hi] = this.varint64();
          return lo !== 0 || hi !== 0;
        }
        /**
         * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.
         */
        fixed32() {
          return this.view.getUint32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.
         */
        sfixed32() {
          return this.view.getInt32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.
         */
        fixed64() {
          return protoInt64.uDec(this.sfixed32(), this.sfixed32());
        }
        /**
         * Read a `fixed64` field, a signed, fixed-length 64-bit integer.
         */
        sfixed64() {
          return protoInt64.dec(this.sfixed32(), this.sfixed32());
        }
        /**
         * Read a `float` field, 32-bit floating point number.
         */
        float() {
          return this.view.getFloat32((this.pos += 4) - 4, true);
        }
        /**
         * Read a `double` field, a 64-bit floating point number.
         */
        double() {
          return this.view.getFloat64((this.pos += 8) - 8, true);
        }
        /**
         * Read a `bytes` field, length-delimited arbitrary data.
         */
        bytes() {
          let len = this.uint32(), start = this.pos;
          this.pos += len;
          this.assertBounds();
          return this.buf.subarray(start, start + len);
        }
        /**
         * Read a `string` field, length-delimited data converted to UTF-8 text.
         */
        string() {
          return this.decodeUtf8(this.bytes());
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js
  function checkField(field, value) {
    const check = field.fieldKind == "list" ? isReflectList(value, field) : field.fieldKind == "map" ? isReflectMap(value, field) : checkSingular(field, value);
    if (check === true) {
      return void 0;
    }
    let reason;
    switch (field.fieldKind) {
      case "list":
        reason = `expected ${formatReflectList(field)}, got ${formatVal(value)}`;
        break;
      case "map":
        reason = `expected ${formatReflectMap(field)}, got ${formatVal(value)}`;
        break;
      default: {
        reason = reasonSingular(field, value, check);
      }
    }
    return new FieldError(field, reason);
  }
  function checkListItem(field, index, value) {
    const check = checkSingular(field, value);
    if (check !== true) {
      return new FieldError(field, `list item #${index + 1}: ${reasonSingular(field, value, check)}`);
    }
    return void 0;
  }
  function checkMapEntry(field, key, value) {
    const checkKey = checkScalarValue(key, field.mapKey);
    if (checkKey !== true) {
      return new FieldError(field, `invalid map key: ${reasonSingular({ scalar: field.mapKey }, key, checkKey)}`);
    }
    const checkVal = checkSingular(field, value);
    if (checkVal !== true) {
      return new FieldError(field, `map entry ${formatVal(key)}: ${reasonSingular(field, value, checkVal)}`);
    }
    return void 0;
  }
  function checkSingular(field, value) {
    if (field.scalar !== void 0) {
      return checkScalarValue(value, field.scalar);
    }
    if (field.enum !== void 0) {
      if (field.enum.open) {
        return Number.isInteger(value);
      }
      return field.enum.values.some((v) => v.number === value);
    }
    return isReflectMessage(value, field.message);
  }
  function checkScalarValue(value, scalar) {
    switch (scalar) {
      case ScalarType.DOUBLE:
        return typeof value == "number";
      case ScalarType.FLOAT:
        if (typeof value != "number") {
          return false;
        }
        if (Number.isNaN(value) || !Number.isFinite(value)) {
          return true;
        }
        if (value > FLOAT32_MAX || value < FLOAT32_MIN) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        if (typeof value !== "number" || !Number.isInteger(value)) {
          return false;
        }
        if (value > INT32_MAX || value < INT32_MIN) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        if (typeof value !== "number" || !Number.isInteger(value)) {
          return false;
        }
        if (value > UINT32_MAX || value < 0) {
          return `${value.toFixed()} out of range`;
        }
        return true;
      case ScalarType.BOOL:
        return typeof value == "boolean";
      case ScalarType.STRING:
        if (typeof value != "string") {
          return false;
        }
        return getTextEncoding().checkUtf8(value) || "invalid UTF8";
      case ScalarType.BYTES:
        return value instanceof Uint8Array;
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if (typeof value == "bigint" || typeof value == "number" || typeof value == "string" && value.length > 0) {
          try {
            protoInt64.parse(value);
            return true;
          } catch (_) {
            return `${value} out of range`;
          }
        }
        return false;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if (typeof value == "bigint" || typeof value == "number" || typeof value == "string" && value.length > 0) {
          try {
            protoInt64.uParse(value);
            return true;
          } catch (_) {
            return `${value} out of range`;
          }
        }
        return false;
    }
  }
  function reasonSingular(field, val, details) {
    details = typeof details == "string" ? `: ${details}` : `, got ${formatVal(val)}`;
    if (field.scalar !== void 0) {
      return `expected ${scalarTypeDescription(field.scalar)}` + details;
    }
    if (field.enum !== void 0) {
      return `expected ${field.enum.toString()}` + details;
    }
    return `expected ${formatReflectMessage(field.message)}` + details;
  }
  function formatVal(val) {
    switch (typeof val) {
      case "object":
        if (val === null) {
          return "null";
        }
        if (val instanceof Uint8Array) {
          return `Uint8Array(${val.length})`;
        }
        if (Array.isArray(val)) {
          return `Array(${val.length})`;
        }
        if (isReflectList(val)) {
          return formatReflectList(val.field());
        }
        if (isReflectMap(val)) {
          return formatReflectMap(val.field());
        }
        if (isReflectMessage(val)) {
          return formatReflectMessage(val.desc);
        }
        if (isMessage(val)) {
          return `message ${val.$typeName}`;
        }
        return "object";
      case "string":
        return val.length > 30 ? "string" : `"${val.split('"').join('\\"')}"`;
      case "boolean":
        return String(val);
      case "number":
        return String(val);
      case "bigint":
        return String(val) + "n";
      default:
        return typeof val;
    }
  }
  function formatReflectMessage(desc) {
    return `ReflectMessage (${desc.typeName})`;
  }
  function formatReflectList(field) {
    switch (field.listKind) {
      case "message":
        return `ReflectList (${field.message.toString()})`;
      case "enum":
        return `ReflectList (${field.enum.toString()})`;
      case "scalar":
        return `ReflectList (${ScalarType[field.scalar]})`;
    }
  }
  function formatReflectMap(field) {
    switch (field.mapKind) {
      case "message":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${field.message.toString()})`;
      case "enum":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${field.enum.toString()})`;
      case "scalar":
        return `ReflectMap (${ScalarType[field.mapKey]}, ${ScalarType[field.scalar]})`;
    }
  }
  function scalarTypeDescription(scalar) {
    switch (scalar) {
      case ScalarType.STRING:
        return "string";
      case ScalarType.BOOL:
        return "boolean";
      case ScalarType.INT64:
      case ScalarType.SINT64:
      case ScalarType.SFIXED64:
        return "bigint (int64)";
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        return "bigint (uint64)";
      case ScalarType.BYTES:
        return "Uint8Array";
      case ScalarType.DOUBLE:
        return "number (float64)";
      case ScalarType.FLOAT:
        return "number (float32)";
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        return "number (uint32)";
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        return "number (int32)";
    }
  }
  var init_reflect_check = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js"() {
      init_descriptors();
      init_is_message();
      init_error();
      init_guard();
      init_binary_encoding();
      init_text_encoding();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js
  function reflect(messageDesc2, message, check = true) {
    return new ReflectMessageImpl(messageDesc2, message, check);
  }
  function assertOwn(owner, member) {
    if (member.parent.typeName !== owner.$typeName) {
      throw new FieldError(member, `cannot use ${member.toString()} with message ${owner.$typeName}`, "ForeignFieldError");
    }
  }
  function messageToLocal(field, value) {
    if (!isReflectMessage(value)) {
      return value;
    }
    if (isWrapper(value.message) && !field.oneof && field.fieldKind == "message") {
      return value.message.value;
    }
    if (value.desc.typeName == "google.protobuf.Struct" && field.parent.typeName != "google.protobuf.Value") {
      return wktStructToLocal(value.message);
    }
    return value.message;
  }
  function messageToReflect(field, value, check) {
    if (value !== void 0) {
      if (isWrapperDesc(field.message) && !field.oneof && field.fieldKind == "message") {
        value = {
          $typeName: field.message.typeName,
          value: longToReflect(field.message.fields[0], value)
        };
      } else if (field.message.typeName == "google.protobuf.Struct" && field.parent.typeName != "google.protobuf.Value" && isObject(value)) {
        value = wktStructToReflect(value);
      }
    }
    return new ReflectMessageImpl(field.message, value, check);
  }
  function listItemToLocal(field, value) {
    if (field.listKind == "message") {
      return messageToLocal(field, value);
    }
    return longToLocal(field, value);
  }
  function listItemToReflect(field, value, check) {
    if (field.listKind == "message") {
      return messageToReflect(field, value, check);
    }
    return longToReflect(field, value);
  }
  function mapValueToLocal(field, value) {
    if (field.mapKind == "message") {
      return messageToLocal(field, value);
    }
    return longToLocal(field, value);
  }
  function mapValueToReflect(field, value, check) {
    if (field.mapKind == "message") {
      return messageToReflect(field, value, check);
    }
    return value;
  }
  function mapKeyToLocal(key) {
    return typeof key == "string" || typeof key == "number" ? key : String(key);
  }
  function mapKeyToReflect(key, type) {
    switch (type) {
      case ScalarType.STRING:
        return key;
      case ScalarType.INT32:
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32: {
        const n = Number.parseInt(key);
        if (Number.isFinite(n)) {
          return n;
        }
        break;
      }
      case ScalarType.BOOL:
        switch (key) {
          case "true":
            return true;
          case "false":
            return false;
        }
        break;
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        try {
          return protoInt64.uParse(key);
        } catch (_a) {
        }
        break;
      default:
        try {
          return protoInt64.parse(key);
        } catch (_b) {
        }
        break;
    }
    return key;
  }
  function longToReflect(field, value) {
    switch (field.scalar) {
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if ("longAsString" in field && field.longAsString && typeof value == "string") {
          value = protoInt64.parse(value);
        }
        break;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if ("longAsString" in field && field.longAsString && typeof value == "string") {
          value = protoInt64.uParse(value);
        }
        break;
    }
    return value;
  }
  function longToLocal(field, value) {
    switch (field.scalar) {
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        if ("longAsString" in field && field.longAsString) {
          value = String(value);
        } else if (typeof value == "string" || typeof value == "number") {
          value = protoInt64.parse(value);
        }
        break;
      case ScalarType.FIXED64:
      case ScalarType.UINT64:
        if ("longAsString" in field && field.longAsString) {
          value = String(value);
        } else if (typeof value == "string" || typeof value == "number") {
          value = protoInt64.uParse(value);
        }
        break;
    }
    return value;
  }
  function wktStructToReflect(json) {
    const struct = {
      $typeName: "google.protobuf.Struct",
      fields: {}
    };
    if (isObject(json)) {
      for (const [k, v] of Object.entries(json)) {
        struct.fields[k] = wktValueToReflect(v);
      }
    }
    return struct;
  }
  function wktStructToLocal(val) {
    const json = {};
    for (const [k, v] of Object.entries(val.fields)) {
      json[k] = wktValueToLocal(v);
    }
    return json;
  }
  function wktValueToLocal(val) {
    switch (val.kind.case) {
      case "structValue":
        return wktStructToLocal(val.kind.value);
      case "listValue":
        return val.kind.value.values.map(wktValueToLocal);
      case "nullValue":
      case void 0:
        return null;
      default:
        return val.kind.value;
    }
  }
  function wktValueToReflect(json) {
    const value = {
      $typeName: "google.protobuf.Value",
      kind: { case: void 0 }
    };
    switch (typeof json) {
      case "number":
        value.kind = { case: "numberValue", value: json };
        break;
      case "string":
        value.kind = { case: "stringValue", value: json };
        break;
      case "boolean":
        value.kind = { case: "boolValue", value: json };
        break;
      case "object":
        if (json === null) {
          const nullValue = 0;
          value.kind = { case: "nullValue", value: nullValue };
        } else if (Array.isArray(json)) {
          const listValue = {
            $typeName: "google.protobuf.ListValue",
            values: []
          };
          if (Array.isArray(json)) {
            for (const e of json) {
              listValue.values.push(wktValueToReflect(e));
            }
          }
          value.kind = {
            case: "listValue",
            value: listValue
          };
        } else {
          value.kind = {
            case: "structValue",
            value: wktStructToReflect(json)
          };
        }
        break;
    }
    return value;
  }
  var ReflectMessageImpl, ReflectListImpl, ReflectMapImpl;
  var init_reflect = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js"() {
      init_descriptors();
      init_reflect_check();
      init_error();
      init_unsafe();
      init_create();
      init_wrappers();
      init_scalar();
      init_proto_int64();
      init_guard();
      ReflectMessageImpl = class {
        get sortedFields() {
          var _a;
          return (_a = this._sortedFields) !== null && _a !== void 0 ? _a : (
            // biome-ignore lint/suspicious/noAssignInExpressions: no
            this._sortedFields = this.desc.fields.concat().sort((a, b) => a.number - b.number)
          );
        }
        constructor(messageDesc2, message, check = true) {
          this.lists = /* @__PURE__ */ new Map();
          this.maps = /* @__PURE__ */ new Map();
          this.check = check;
          this.desc = messageDesc2;
          this.message = this[unsafeLocal] = message !== null && message !== void 0 ? message : create(messageDesc2);
          this.fields = messageDesc2.fields;
          this.oneofs = messageDesc2.oneofs;
          this.members = messageDesc2.members;
        }
        findNumber(number) {
          if (!this._fieldsByNumber) {
            this._fieldsByNumber = new Map(this.desc.fields.map((f) => [f.number, f]));
          }
          return this._fieldsByNumber.get(number);
        }
        oneofCase(oneof) {
          assertOwn(this.message, oneof);
          return unsafeOneofCase(this.message, oneof);
        }
        isSet(field) {
          assertOwn(this.message, field);
          return unsafeIsSet(this.message, field);
        }
        clear(field) {
          assertOwn(this.message, field);
          unsafeClear(this.message, field);
        }
        get(field) {
          assertOwn(this.message, field);
          const value = unsafeGet(this.message, field);
          switch (field.fieldKind) {
            case "list":
              let list = this.lists.get(field);
              if (!list || list[unsafeLocal] !== value) {
                this.lists.set(
                  field,
                  // biome-ignore lint/suspicious/noAssignInExpressions: no
                  list = new ReflectListImpl(field, value, this.check)
                );
              }
              return list;
            case "map":
              let map = this.maps.get(field);
              if (!map || map[unsafeLocal] !== value) {
                this.maps.set(
                  field,
                  // biome-ignore lint/suspicious/noAssignInExpressions: no
                  map = new ReflectMapImpl(field, value, this.check)
                );
              }
              return map;
            case "message":
              return messageToReflect(field, value, this.check);
            case "scalar":
              return value === void 0 ? scalarZeroValue(field.scalar, false) : longToReflect(field, value);
            case "enum":
              return value !== null && value !== void 0 ? value : field.enum.values[0].number;
          }
        }
        set(field, value) {
          assertOwn(this.message, field);
          if (this.check) {
            const err = checkField(field, value);
            if (err) {
              throw err;
            }
          }
          let local;
          if (field.fieldKind == "message") {
            local = messageToLocal(field, value);
          } else if (isReflectMap(value) || isReflectList(value)) {
            local = value[unsafeLocal];
          } else {
            local = longToLocal(field, value);
          }
          unsafeSet(this.message, field, local);
        }
        getUnknown() {
          return this.message.$unknown;
        }
        setUnknown(value) {
          this.message.$unknown = value;
        }
      };
      ReflectListImpl = class {
        field() {
          return this._field;
        }
        get size() {
          return this._arr.length;
        }
        constructor(field, unsafeInput, check) {
          this._field = field;
          this._arr = this[unsafeLocal] = unsafeInput;
          this.check = check;
        }
        get(index) {
          const item = this._arr[index];
          return item === void 0 ? void 0 : listItemToReflect(this._field, item, this.check);
        }
        set(index, item) {
          if (index < 0 || index >= this._arr.length) {
            throw new FieldError(this._field, `list item #${index + 1}: out of range`);
          }
          if (this.check) {
            const err = checkListItem(this._field, index, item);
            if (err) {
              throw err;
            }
          }
          this._arr[index] = listItemToLocal(this._field, item);
        }
        add(item) {
          if (this.check) {
            const err = checkListItem(this._field, this._arr.length, item);
            if (err) {
              throw err;
            }
          }
          this._arr.push(listItemToLocal(this._field, item));
          return void 0;
        }
        clear() {
          this._arr.splice(0, this._arr.length);
        }
        [Symbol.iterator]() {
          return this.values();
        }
        keys() {
          return this._arr.keys();
        }
        *values() {
          for (const item of this._arr) {
            yield listItemToReflect(this._field, item, this.check);
          }
        }
        *entries() {
          for (let i = 0; i < this._arr.length; i++) {
            yield [i, listItemToReflect(this._field, this._arr[i], this.check)];
          }
        }
      };
      ReflectMapImpl = class {
        constructor(field, unsafeInput, check = true) {
          this.obj = this[unsafeLocal] = unsafeInput !== null && unsafeInput !== void 0 ? unsafeInput : {};
          this.check = check;
          this._field = field;
        }
        field() {
          return this._field;
        }
        set(key, value) {
          if (this.check) {
            const err = checkMapEntry(this._field, key, value);
            if (err) {
              throw err;
            }
          }
          this.obj[mapKeyToLocal(key)] = mapValueToLocal(this._field, value);
          return this;
        }
        delete(key) {
          const k = mapKeyToLocal(key);
          const has = Object.prototype.hasOwnProperty.call(this.obj, k);
          if (has) {
            delete this.obj[k];
          }
          return has;
        }
        clear() {
          for (const key of Object.keys(this.obj)) {
            delete this.obj[key];
          }
        }
        get(key) {
          let val = this.obj[mapKeyToLocal(key)];
          if (val !== void 0) {
            val = mapValueToReflect(this._field, val, this.check);
          }
          return val;
        }
        has(key) {
          return Object.prototype.hasOwnProperty.call(this.obj, mapKeyToLocal(key));
        }
        *keys() {
          for (const objKey of Object.keys(this.obj)) {
            yield mapKeyToReflect(objKey, this._field.mapKey);
          }
        }
        *entries() {
          for (const objEntry of Object.entries(this.obj)) {
            yield [
              mapKeyToReflect(objEntry[0], this._field.mapKey),
              mapValueToReflect(this._field, objEntry[1], this.check)
            ];
          }
        }
        [Symbol.iterator]() {
          return this.entries();
        }
        get size() {
          return Object.keys(this.obj).length;
        }
        *values() {
          for (const val of Object.values(this.obj)) {
            yield mapValueToReflect(this._field, val, this.check);
          }
        }
        forEach(callbackfn, thisArg) {
          for (const mapEntry of this.entries()) {
            callbackfn.call(thisArg, mapEntry[1], mapEntry[0], this);
          }
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/clone.js
  var init_clone = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/clone.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js
  function base64Decode(base64Str) {
    const table = getDecodeTable();
    let es = base64Str.length * 3 / 4;
    if (base64Str[base64Str.length - 2] == "=")
      es -= 2;
    else if (base64Str[base64Str.length - 1] == "=")
      es -= 1;
    let bytes = new Uint8Array(es), bytePos = 0, groupPos = 0, b, p = 0;
    for (let i = 0; i < base64Str.length; i++) {
      b = table[base64Str.charCodeAt(i)];
      if (b === void 0) {
        switch (base64Str[i]) {
          case "=":
            groupPos = 0;
          case "\n":
          case "\r":
          case "	":
          case " ":
            continue;
          default:
            throw Error("invalid base64 string");
        }
      }
      switch (groupPos) {
        case 0:
          p = b;
          groupPos = 1;
          break;
        case 1:
          bytes[bytePos++] = p << 2 | (b & 48) >> 4;
          p = b;
          groupPos = 2;
          break;
        case 2:
          bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;
          p = b;
          groupPos = 3;
          break;
        case 3:
          bytes[bytePos++] = (p & 3) << 6 | b;
          groupPos = 0;
          break;
      }
    }
    if (groupPos == 1)
      throw Error("invalid base64 string");
    return bytes.subarray(0, bytePos);
  }
  function getEncodeTable(encoding) {
    if (!encodeTableStd) {
      encodeTableStd = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");
      encodeTableUrl = encodeTableStd.slice(0, -2).concat("-", "_");
    }
    return encoding == "url" ? (
      // biome-ignore lint/style/noNonNullAssertion: TS fails to narrow down
      encodeTableUrl
    ) : encodeTableStd;
  }
  function getDecodeTable() {
    if (!decodeTable) {
      decodeTable = [];
      const encodeTable = getEncodeTable("std");
      for (let i = 0; i < encodeTable.length; i++)
        decodeTable[encodeTable[i].charCodeAt(0)] = i;
      decodeTable["-".charCodeAt(0)] = encodeTable.indexOf("+");
      decodeTable["_".charCodeAt(0)] = encodeTable.indexOf("/");
    }
    return decodeTable;
  }
  var encodeTableStd, encodeTableUrl, decodeTable;
  var init_base64_encoding = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js
  function protoCamelCase(snakeCase) {
    let capNext = false;
    const b = [];
    for (let i = 0; i < snakeCase.length; i++) {
      let c = snakeCase.charAt(i);
      switch (c) {
        case "_":
          capNext = true;
          break;
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9":
          b.push(c);
          capNext = false;
          break;
        default:
          if (capNext) {
            capNext = false;
            c = c.toUpperCase();
          }
          b.push(c);
          break;
      }
    }
    return b.join("");
  }
  function safeObjectProperty(name) {
    return reservedObjectProperties.has(name) ? name + "$" : name;
  }
  var reservedObjectProperties;
  var init_names = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js"() {
      reservedObjectProperties = /* @__PURE__ */ new Set([
        // names reserved by JavaScript
        "constructor",
        "toString",
        "toJSON",
        "valueOf"
      ]);
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/restore-json-names.js
  function restoreJsonNames(message) {
    for (const f of message.field) {
      if (!unsafeIsSetExplicit(f, "jsonName")) {
        f.jsonName = protoCamelCase(f.name);
      }
    }
    message.nestedType.forEach(restoreJsonNames);
  }
  var init_restore_json_names = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/restore-json-names.js"() {
      init_names();
      init_unsafe();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js
  function parseTextFormatEnumValue(descEnum, value) {
    const enumValue = descEnum.values.find((v) => v.name === value);
    if (!enumValue) {
      throw new Error(`cannot parse ${descEnum} default value: ${value}`);
    }
    return enumValue.number;
  }
  function parseTextFormatScalarValue(type, value) {
    switch (type) {
      case ScalarType.STRING:
        return value;
      case ScalarType.BYTES: {
        const u = unescapeBytesDefaultValue(value);
        if (u === false) {
          throw new Error(`cannot parse ${ScalarType[type]} default value: ${value}`);
        }
        return u;
      }
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        return protoInt64.parse(value);
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        return protoInt64.uParse(value);
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        switch (value) {
          case "inf":
            return Number.POSITIVE_INFINITY;
          case "-inf":
            return Number.NEGATIVE_INFINITY;
          case "nan":
            return Number.NaN;
          default:
            return parseFloat(value);
        }
      case ScalarType.BOOL:
        return value === "true";
      case ScalarType.INT32:
      case ScalarType.UINT32:
      case ScalarType.SINT32:
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
        return parseInt(value, 10);
    }
  }
  function unescapeBytesDefaultValue(str) {
    const b = [];
    const input = {
      tail: str,
      c: "",
      next() {
        if (this.tail.length == 0) {
          return false;
        }
        this.c = this.tail[0];
        this.tail = this.tail.substring(1);
        return true;
      },
      take(n) {
        if (this.tail.length >= n) {
          const r = this.tail.substring(0, n);
          this.tail = this.tail.substring(n);
          return r;
        }
        return false;
      }
    };
    while (input.next()) {
      switch (input.c) {
        case "\\":
          if (input.next()) {
            switch (input.c) {
              case "\\":
                b.push(input.c.charCodeAt(0));
                break;
              case "b":
                b.push(8);
                break;
              case "f":
                b.push(12);
                break;
              case "n":
                b.push(10);
                break;
              case "r":
                b.push(13);
                break;
              case "t":
                b.push(9);
                break;
              case "v":
                b.push(11);
                break;
              case "0":
              case "1":
              case "2":
              case "3":
              case "4":
              case "5":
              case "6":
              case "7": {
                const s = input.c;
                const t = input.take(2);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 8);
                if (Number.isNaN(n)) {
                  return false;
                }
                b.push(n);
                break;
              }
              case "x": {
                const s = input.c;
                const t = input.take(2);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 16);
                if (Number.isNaN(n)) {
                  return false;
                }
                b.push(n);
                break;
              }
              case "u": {
                const s = input.c;
                const t = input.take(4);
                if (t === false) {
                  return false;
                }
                const n = parseInt(s + t, 16);
                if (Number.isNaN(n)) {
                  return false;
                }
                const chunk = new Uint8Array(4);
                const view = new DataView(chunk.buffer);
                view.setInt32(0, n, true);
                b.push(chunk[0], chunk[1], chunk[2], chunk[3]);
                break;
              }
              case "U": {
                const s = input.c;
                const t = input.take(8);
                if (t === false) {
                  return false;
                }
                const tc = protoInt64.uEnc(s + t);
                const chunk = new Uint8Array(8);
                const view = new DataView(chunk.buffer);
                view.setInt32(0, tc.lo, true);
                view.setInt32(4, tc.hi, true);
                b.push(chunk[0], chunk[1], chunk[2], chunk[3], chunk[4], chunk[5], chunk[6], chunk[7]);
                break;
              }
            }
          }
          break;
        default:
          b.push(input.c.charCodeAt(0));
      }
    }
    return new Uint8Array(b);
  }
  var init_text_format = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js"() {
      init_descriptors();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js
  function* nestedTypes(desc) {
    switch (desc.kind) {
      case "file":
        for (const message of desc.messages) {
          yield message;
          yield* nestedTypes(message);
        }
        yield* desc.enums;
        yield* desc.services;
        yield* desc.extensions;
        break;
      case "message":
        for (const message of desc.nestedMessages) {
          yield message;
          yield* nestedTypes(message);
        }
        yield* desc.nestedEnums;
        yield* desc.nestedExtensions;
        break;
    }
  }
  var init_nested_types = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/registry.js
  function createFileRegistry(...args) {
    const registry = createBaseRegistry();
    if (!args.length) {
      return registry;
    }
    if ("$typeName" in args[0] && args[0].$typeName == "google.protobuf.FileDescriptorSet") {
      for (const file of args[0].file) {
        addFile(file, registry);
      }
      return registry;
    }
    if ("$typeName" in args[0]) {
      let recurseDeps = function(file) {
        const deps = [];
        for (const protoFileName of file.dependency) {
          if (registry.getFile(protoFileName) != void 0) {
            continue;
          }
          if (seen.has(protoFileName)) {
            continue;
          }
          const dep = resolve(protoFileName);
          if (!dep) {
            throw new Error(`Unable to resolve ${protoFileName}, imported by ${file.name}`);
          }
          if ("kind" in dep) {
            registry.addFile(dep, false, true);
          } else {
            seen.add(dep.name);
            deps.push(dep);
          }
        }
        return deps.concat(...deps.map(recurseDeps));
      };
      const input = args[0];
      const resolve = args[1];
      const seen = /* @__PURE__ */ new Set();
      for (const file of [input, ...recurseDeps(input)].reverse()) {
        addFile(file, registry);
      }
    } else {
      for (const fileReg of args) {
        for (const file of fileReg.files) {
          registry.addFile(file);
        }
      }
    }
    return registry;
  }
  function createBaseRegistry() {
    const types = /* @__PURE__ */ new Map();
    const extendees = /* @__PURE__ */ new Map();
    const files = /* @__PURE__ */ new Map();
    return {
      kind: "registry",
      types,
      extendees,
      [Symbol.iterator]() {
        return types.values();
      },
      get files() {
        return files.values();
      },
      addFile(file, skipTypes, withDeps) {
        files.set(file.proto.name, file);
        if (!skipTypes) {
          for (const type of nestedTypes(file)) {
            this.add(type);
          }
        }
        if (withDeps) {
          for (const f of file.dependencies) {
            this.addFile(f, skipTypes, withDeps);
          }
        }
      },
      add(desc) {
        if (desc.kind == "extension") {
          let numberToExt = extendees.get(desc.extendee.typeName);
          if (!numberToExt) {
            extendees.set(
              desc.extendee.typeName,
              // biome-ignore lint/suspicious/noAssignInExpressions: no
              numberToExt = /* @__PURE__ */ new Map()
            );
          }
          numberToExt.set(desc.number, desc);
        }
        types.set(desc.typeName, desc);
      },
      get(typeName) {
        return types.get(typeName);
      },
      getFile(fileName) {
        return files.get(fileName);
      },
      getMessage(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "message" ? t : void 0;
      },
      getEnum(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "enum" ? t : void 0;
      },
      getExtension(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "extension" ? t : void 0;
      },
      getExtensionFor(extendee, no) {
        var _a;
        return (_a = extendees.get(extendee.typeName)) === null || _a === void 0 ? void 0 : _a.get(no);
      },
      getService(typeName) {
        const t = types.get(typeName);
        return (t === null || t === void 0 ? void 0 : t.kind) == "service" ? t : void 0;
      }
    };
  }
  function addFile(proto, reg) {
    var _a, _b;
    const file = {
      kind: "file",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      edition: getFileEdition(proto),
      name: proto.name.replace(/\.proto$/, ""),
      dependencies: findFileDependencies(proto, reg),
      enums: [],
      messages: [],
      extensions: [],
      services: [],
      toString() {
        return `file ${proto.name}`;
      }
    };
    const mapEntriesStore = /* @__PURE__ */ new Map();
    const mapEntries = {
      get(typeName) {
        return mapEntriesStore.get(typeName);
      },
      add(desc) {
        var _a2;
        assert(((_a2 = desc.proto.options) === null || _a2 === void 0 ? void 0 : _a2.mapEntry) === true);
        mapEntriesStore.set(desc.typeName, desc);
      }
    };
    for (const enumProto of proto.enumType) {
      addEnum(enumProto, file, void 0, reg);
    }
    for (const messageProto of proto.messageType) {
      addMessage(messageProto, file, void 0, reg, mapEntries);
    }
    for (const serviceProto of proto.service) {
      addService(serviceProto, file, reg);
    }
    addExtensions(file, reg);
    for (const mapEntry of mapEntriesStore.values()) {
      addFields(mapEntry, reg, mapEntries);
    }
    for (const message of file.messages) {
      addFields(message, reg, mapEntries);
      addExtensions(message, reg);
    }
    reg.addFile(file, true);
  }
  function addExtensions(desc, reg) {
    switch (desc.kind) {
      case "file":
        for (const proto of desc.proto.extension) {
          const ext = newField(proto, desc, reg);
          desc.extensions.push(ext);
          reg.add(ext);
        }
        break;
      case "message":
        for (const proto of desc.proto.extension) {
          const ext = newField(proto, desc, reg);
          desc.nestedExtensions.push(ext);
          reg.add(ext);
        }
        for (const message of desc.nestedMessages) {
          addExtensions(message, reg);
        }
        break;
    }
  }
  function addFields(message, reg, mapEntries) {
    const allOneofs = message.proto.oneofDecl.map((proto) => newOneof(proto, message));
    const oneofsSeen = /* @__PURE__ */ new Set();
    for (const proto of message.proto.field) {
      const oneof = findOneof(proto, allOneofs);
      const field = newField(proto, message, reg, oneof, mapEntries);
      message.fields.push(field);
      message.field[field.localName] = field;
      if (oneof === void 0) {
        message.members.push(field);
      } else {
        oneof.fields.push(field);
        if (!oneofsSeen.has(oneof)) {
          oneofsSeen.add(oneof);
          message.members.push(oneof);
        }
      }
    }
    for (const oneof of allOneofs.filter((o) => oneofsSeen.has(o))) {
      message.oneofs.push(oneof);
    }
    for (const child of message.nestedMessages) {
      addFields(child, reg, mapEntries);
    }
  }
  function addEnum(proto, file, parent, reg) {
    var _a, _b, _c, _d, _e;
    const sharedPrefix = findEnumSharedPrefix(proto.name, proto.value);
    const desc = {
      kind: "enum",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      parent,
      open: true,
      name: proto.name,
      typeName: makeTypeName(proto, parent, file),
      value: {},
      values: [],
      sharedPrefix,
      toString() {
        return `enum ${this.typeName}`;
      }
    };
    desc.open = isEnumOpen(desc);
    reg.add(desc);
    for (const p of proto.value) {
      const name = p.name;
      desc.values.push(
        // biome-ignore lint/suspicious/noAssignInExpressions: no
        desc.value[p.number] = {
          kind: "enum_value",
          proto: p,
          deprecated: (_d = (_c = p.options) === null || _c === void 0 ? void 0 : _c.deprecated) !== null && _d !== void 0 ? _d : false,
          parent: desc,
          name,
          localName: safeObjectProperty(sharedPrefix == void 0 ? name : name.substring(sharedPrefix.length)),
          number: p.number,
          toString() {
            return `enum value ${desc.typeName}.${name}`;
          }
        }
      );
    }
    ((_e = parent === null || parent === void 0 ? void 0 : parent.nestedEnums) !== null && _e !== void 0 ? _e : file.enums).push(desc);
  }
  function addMessage(proto, file, parent, reg, mapEntries) {
    var _a, _b, _c, _d;
    const desc = {
      kind: "message",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      parent,
      name: proto.name,
      typeName: makeTypeName(proto, parent, file),
      fields: [],
      field: {},
      oneofs: [],
      members: [],
      nestedEnums: [],
      nestedMessages: [],
      nestedExtensions: [],
      toString() {
        return `message ${this.typeName}`;
      }
    };
    if (((_c = proto.options) === null || _c === void 0 ? void 0 : _c.mapEntry) === true) {
      mapEntries.add(desc);
    } else {
      ((_d = parent === null || parent === void 0 ? void 0 : parent.nestedMessages) !== null && _d !== void 0 ? _d : file.messages).push(desc);
      reg.add(desc);
    }
    for (const enumProto of proto.enumType) {
      addEnum(enumProto, file, desc, reg);
    }
    for (const messageProto of proto.nestedType) {
      addMessage(messageProto, file, desc, reg, mapEntries);
    }
  }
  function addService(proto, file, reg) {
    var _a, _b;
    const desc = {
      kind: "service",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      file,
      name: proto.name,
      typeName: makeTypeName(proto, void 0, file),
      methods: [],
      method: {},
      toString() {
        return `service ${this.typeName}`;
      }
    };
    file.services.push(desc);
    reg.add(desc);
    for (const methodProto of proto.method) {
      const method = newMethod(methodProto, desc, reg);
      desc.methods.push(method);
      desc.method[method.localName] = method;
    }
  }
  function newMethod(proto, parent, reg) {
    var _a, _b, _c, _d;
    let methodKind;
    if (proto.clientStreaming && proto.serverStreaming) {
      methodKind = "bidi_streaming";
    } else if (proto.clientStreaming) {
      methodKind = "client_streaming";
    } else if (proto.serverStreaming) {
      methodKind = "server_streaming";
    } else {
      methodKind = "unary";
    }
    const input = reg.getMessage(trimLeadingDot(proto.inputType));
    const output = reg.getMessage(trimLeadingDot(proto.outputType));
    assert(input, `invalid MethodDescriptorProto: input_type ${proto.inputType} not found`);
    assert(output, `invalid MethodDescriptorProto: output_type ${proto.inputType} not found`);
    const name = proto.name;
    return {
      kind: "rpc",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      parent,
      name,
      localName: safeObjectProperty(name.length ? safeObjectProperty(name[0].toLowerCase() + name.substring(1)) : name),
      methodKind,
      input,
      output,
      idempotency: (_d = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.idempotencyLevel) !== null && _d !== void 0 ? _d : IDEMPOTENCY_UNKNOWN,
      toString() {
        return `rpc ${parent.typeName}.${name}`;
      }
    };
  }
  function newOneof(proto, parent) {
    return {
      kind: "oneof",
      proto,
      deprecated: false,
      parent,
      fields: [],
      name: proto.name,
      localName: safeObjectProperty(protoCamelCase(proto.name)),
      toString() {
        return `oneof ${parent.typeName}.${this.name}`;
      }
    };
  }
  function newField(proto, parentOrFile, reg, oneof, mapEntries) {
    var _a, _b, _c;
    const isExtension = mapEntries === void 0;
    const field = {
      kind: "field",
      proto,
      deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,
      name: proto.name,
      number: proto.number,
      scalar: void 0,
      message: void 0,
      enum: void 0,
      presence: getFieldPresence(proto, oneof, isExtension, parentOrFile),
      listKind: void 0,
      mapKind: void 0,
      mapKey: void 0,
      delimitedEncoding: void 0,
      packed: void 0,
      longAsString: false,
      getDefaultValue: void 0
    };
    if (isExtension) {
      const file = parentOrFile.kind == "file" ? parentOrFile : parentOrFile.file;
      const parent = parentOrFile.kind == "file" ? void 0 : parentOrFile;
      const typeName = makeTypeName(proto, parent, file);
      field.kind = "extension";
      field.file = file;
      field.parent = parent;
      field.oneof = void 0;
      field.typeName = typeName;
      field.jsonName = `[${typeName}]`;
      field.toString = () => `extension ${typeName}`;
      const extendee = reg.getMessage(trimLeadingDot(proto.extendee));
      assert(extendee, `invalid FieldDescriptorProto: extendee ${proto.extendee} not found`);
      field.extendee = extendee;
    } else {
      const parent = parentOrFile;
      assert(parent.kind == "message");
      field.parent = parent;
      field.oneof = oneof;
      field.localName = oneof ? protoCamelCase(proto.name) : safeObjectProperty(protoCamelCase(proto.name));
      field.jsonName = proto.jsonName;
      field.toString = () => `field ${parent.typeName}.${proto.name}`;
    }
    const label = proto.label;
    const type = proto.type;
    const jstype = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.jstype;
    if (label === LABEL_REPEATED) {
      const mapEntry = type == TYPE_MESSAGE ? mapEntries === null || mapEntries === void 0 ? void 0 : mapEntries.get(trimLeadingDot(proto.typeName)) : void 0;
      if (mapEntry) {
        field.fieldKind = "map";
        const { key, value } = findMapEntryFields(mapEntry);
        field.mapKey = key.scalar;
        field.mapKind = value.fieldKind;
        field.message = value.message;
        field.delimitedEncoding = false;
        field.enum = value.enum;
        field.scalar = value.scalar;
        return field;
      }
      field.fieldKind = "list";
      switch (type) {
        case TYPE_MESSAGE:
        case TYPE_GROUP:
          field.listKind = "message";
          field.message = reg.getMessage(trimLeadingDot(proto.typeName));
          assert(field.message);
          field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);
          break;
        case TYPE_ENUM:
          field.listKind = "enum";
          field.enum = reg.getEnum(trimLeadingDot(proto.typeName));
          assert(field.enum);
          break;
        default:
          field.listKind = "scalar";
          field.scalar = type;
          field.longAsString = jstype == JS_STRING;
          break;
      }
      field.packed = isPackedField(proto, parentOrFile);
      return field;
    }
    switch (type) {
      case TYPE_MESSAGE:
      case TYPE_GROUP:
        field.fieldKind = "message";
        field.message = reg.getMessage(trimLeadingDot(proto.typeName));
        assert(field.message, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);
        field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);
        field.getDefaultValue = () => void 0;
        break;
      case TYPE_ENUM: {
        const enumeration = reg.getEnum(trimLeadingDot(proto.typeName));
        assert(enumeration !== void 0, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);
        field.fieldKind = "enum";
        field.enum = reg.getEnum(trimLeadingDot(proto.typeName));
        field.getDefaultValue = () => {
          return unsafeIsSetExplicit(proto, "defaultValue") ? parseTextFormatEnumValue(enumeration, proto.defaultValue) : void 0;
        };
        break;
      }
      default: {
        field.fieldKind = "scalar";
        field.scalar = type;
        field.longAsString = jstype == JS_STRING;
        field.getDefaultValue = () => {
          return unsafeIsSetExplicit(proto, "defaultValue") ? parseTextFormatScalarValue(type, proto.defaultValue) : void 0;
        };
        break;
      }
    }
    return field;
  }
  function getFileEdition(proto) {
    switch (proto.syntax) {
      case "":
      case "proto2":
        return EDITION_PROTO22;
      case "proto3":
        return EDITION_PROTO32;
      case "editions":
        if (proto.edition in featureDefaults) {
          return proto.edition;
        }
        throw new Error(`${proto.name}: unsupported edition`);
      default:
        throw new Error(`${proto.name}: unsupported syntax "${proto.syntax}"`);
    }
  }
  function findFileDependencies(proto, reg) {
    return proto.dependency.map((wantName) => {
      const dep = reg.getFile(wantName);
      if (!dep) {
        throw new Error(`Cannot find ${wantName}, imported by ${proto.name}`);
      }
      return dep;
    });
  }
  function findEnumSharedPrefix(enumName, values) {
    const prefix = camelToSnakeCase(enumName) + "_";
    for (const value of values) {
      if (!value.name.toLowerCase().startsWith(prefix)) {
        return void 0;
      }
      const shortName = value.name.substring(prefix.length);
      if (shortName.length == 0) {
        return void 0;
      }
      if (/^\d/.test(shortName)) {
        return void 0;
      }
    }
    return prefix;
  }
  function camelToSnakeCase(camel) {
    return (camel.substring(0, 1) + camel.substring(1).replace(/[A-Z]/g, (c) => "_" + c)).toLowerCase();
  }
  function makeTypeName(proto, parent, file) {
    let typeName;
    if (parent) {
      typeName = `${parent.typeName}.${proto.name}`;
    } else if (file.proto.package.length > 0) {
      typeName = `${file.proto.package}.${proto.name}`;
    } else {
      typeName = `${proto.name}`;
    }
    return typeName;
  }
  function trimLeadingDot(typeName) {
    return typeName.startsWith(".") ? typeName.substring(1) : typeName;
  }
  function findOneof(proto, allOneofs) {
    if (!unsafeIsSetExplicit(proto, "oneofIndex")) {
      return void 0;
    }
    if (proto.proto3Optional) {
      return void 0;
    }
    const oneof = allOneofs[proto.oneofIndex];
    assert(oneof, `invalid FieldDescriptorProto: oneof #${proto.oneofIndex} for field #${proto.number} not found`);
    return oneof;
  }
  function getFieldPresence(proto, oneof, isExtension, parent) {
    if (proto.label == LABEL_REQUIRED) {
      return LEGACY_REQUIRED;
    }
    if (proto.label == LABEL_REPEATED) {
      return IMPLICIT3;
    }
    if (!!oneof || proto.proto3Optional) {
      return EXPLICIT;
    }
    if (isExtension) {
      return EXPLICIT;
    }
    const resolved = resolveFeature("fieldPresence", { proto, parent });
    if (resolved == IMPLICIT3 && (proto.type == TYPE_MESSAGE || proto.type == TYPE_GROUP)) {
      return EXPLICIT;
    }
    return resolved;
  }
  function isPackedField(proto, parent) {
    if (proto.label != LABEL_REPEATED) {
      return false;
    }
    switch (proto.type) {
      case TYPE_STRING:
      case TYPE_BYTES:
      case TYPE_GROUP:
      case TYPE_MESSAGE:
        return false;
    }
    const o = proto.options;
    if (o && unsafeIsSetExplicit(o, "packed")) {
      return o.packed;
    }
    return PACKED == resolveFeature("repeatedFieldEncoding", {
      proto,
      parent
    });
  }
  function findMapEntryFields(mapEntry) {
    const key = mapEntry.fields.find((f) => f.number === 1);
    const value = mapEntry.fields.find((f) => f.number === 2);
    assert(key && key.fieldKind == "scalar" && key.scalar != ScalarType.BYTES && key.scalar != ScalarType.FLOAT && key.scalar != ScalarType.DOUBLE && value && value.fieldKind != "list" && value.fieldKind != "map");
    return { key, value };
  }
  function isEnumOpen(desc) {
    var _a;
    return OPEN == resolveFeature("enumType", {
      proto: desc.proto,
      parent: (_a = desc.parent) !== null && _a !== void 0 ? _a : desc.file
    });
  }
  function isDelimitedEncoding(proto, parent) {
    if (proto.type == TYPE_GROUP) {
      return true;
    }
    return DELIMITED == resolveFeature("messageEncoding", {
      proto,
      parent
    });
  }
  function resolveFeature(name, ref) {
    var _a, _b;
    const featureSet = (_a = ref.proto.options) === null || _a === void 0 ? void 0 : _a.features;
    if (featureSet) {
      const val = featureSet[name];
      if (val != 0) {
        return val;
      }
    }
    if ("kind" in ref) {
      if (ref.kind == "message") {
        return resolveFeature(name, (_b = ref.parent) !== null && _b !== void 0 ? _b : ref.file);
      }
      const editionDefaults = featureDefaults[ref.edition];
      if (!editionDefaults) {
        throw new Error(`feature default for edition ${ref.edition} not found`);
      }
      return editionDefaults[name];
    }
    return resolveFeature(name, ref.parent);
  }
  function assert(condition, msg) {
    if (!condition) {
      throw new Error(msg);
    }
  }
  var EDITION_PROTO22, EDITION_PROTO32, TYPE_STRING, TYPE_GROUP, TYPE_MESSAGE, TYPE_BYTES, TYPE_ENUM, LABEL_REPEATED, LABEL_REQUIRED, JS_STRING, IDEMPOTENCY_UNKNOWN, EXPLICIT, IMPLICIT3, LEGACY_REQUIRED, PACKED, DELIMITED, OPEN, featureDefaults;
  var init_registry = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/registry.js"() {
      init_descriptors();
      init_text_format();
      init_nested_types();
      init_unsafe();
      init_names();
      EDITION_PROTO22 = 998;
      EDITION_PROTO32 = 999;
      TYPE_STRING = 9;
      TYPE_GROUP = 10;
      TYPE_MESSAGE = 11;
      TYPE_BYTES = 12;
      TYPE_ENUM = 14;
      LABEL_REPEATED = 3;
      LABEL_REQUIRED = 2;
      JS_STRING = 1;
      IDEMPOTENCY_UNKNOWN = 0;
      EXPLICIT = 1;
      IMPLICIT3 = 2;
      LEGACY_REQUIRED = 3;
      PACKED = 1;
      DELIMITED = 2;
      OPEN = 1;
      featureDefaults = {
        // EDITION_PROTO2
        998: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 2,
          // CLOSED,
          repeatedFieldEncoding: 2,
          // EXPANDED,
          utf8Validation: 3,
          // NONE,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 2,
          // LEGACY_BEST_EFFORT,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_PROTO3
        999: {
          fieldPresence: 2,
          // IMPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_2023
        1e3: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 2,
          // STYLE_LEGACY,
          defaultSymbolVisibility: 1
          // EXPORT_ALL,
        },
        // EDITION_2024
        1001: {
          fieldPresence: 1,
          // EXPLICIT,
          enumType: 1,
          // OPEN,
          repeatedFieldEncoding: 1,
          // PACKED,
          utf8Validation: 2,
          // VERIFY,
          messageEncoding: 1,
          // LENGTH_PREFIXED,
          jsonFormat: 1,
          // ALLOW,
          enforceNamingStyle: 1,
          // STYLE2024,
          defaultSymbolVisibility: 2
          // EXPORT_TOP_LEVEL,
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/boot.js
  function boot(boot2) {
    const root = bootFileDescriptorProto(boot2);
    root.messageType.forEach(restoreJsonNames);
    const reg = createFileRegistry(root, () => void 0);
    return reg.getFile(root.name);
  }
  function bootFileDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      syntax: "",
      edition: 0
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FileDescriptorProto", dependency: [], publicDependency: [], weakDependency: [], optionDependency: [], service: [], extension: [] }, init), { messageType: init.messageType.map(bootDescriptorProto), enumType: init.enumType.map(bootEnumDescriptorProto) }));
  }
  function bootDescriptorProto(init) {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    const proto = /* @__PURE__ */ Object.create({
      visibility: 0
    });
    return Object.assign(proto, {
      $typeName: "google.protobuf.DescriptorProto",
      name: init.name,
      field: (_b = (_a = init.field) === null || _a === void 0 ? void 0 : _a.map(bootFieldDescriptorProto)) !== null && _b !== void 0 ? _b : [],
      extension: [],
      nestedType: (_d = (_c = init.nestedType) === null || _c === void 0 ? void 0 : _c.map(bootDescriptorProto)) !== null && _d !== void 0 ? _d : [],
      enumType: (_f = (_e = init.enumType) === null || _e === void 0 ? void 0 : _e.map(bootEnumDescriptorProto)) !== null && _f !== void 0 ? _f : [],
      extensionRange: (_h = (_g = init.extensionRange) === null || _g === void 0 ? void 0 : _g.map((e) => Object.assign({ $typeName: "google.protobuf.DescriptorProto.ExtensionRange" }, e))) !== null && _h !== void 0 ? _h : [],
      oneofDecl: [],
      reservedRange: [],
      reservedName: []
    });
  }
  function bootFieldDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      label: 1,
      typeName: "",
      extendee: "",
      defaultValue: "",
      oneofIndex: 0,
      jsonName: "",
      proto3Optional: false
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FieldDescriptorProto" }, init), { options: init.options ? bootFieldOptions(init.options) : void 0 }));
  }
  function bootFieldOptions(init) {
    var _a, _b, _c;
    const proto = /* @__PURE__ */ Object.create({
      ctype: 0,
      packed: false,
      jstype: 0,
      lazy: false,
      unverifiedLazy: false,
      deprecated: false,
      weak: false,
      debugRedact: false,
      retention: 0
    });
    return Object.assign(proto, Object.assign(Object.assign({ $typeName: "google.protobuf.FieldOptions" }, init), { targets: (_a = init.targets) !== null && _a !== void 0 ? _a : [], editionDefaults: (_c = (_b = init.editionDefaults) === null || _b === void 0 ? void 0 : _b.map((e) => Object.assign({ $typeName: "google.protobuf.FieldOptions.EditionDefault" }, e))) !== null && _c !== void 0 ? _c : [], uninterpretedOption: [] }));
  }
  function bootEnumDescriptorProto(init) {
    const proto = /* @__PURE__ */ Object.create({
      visibility: 0
    });
    return Object.assign(proto, {
      $typeName: "google.protobuf.EnumDescriptorProto",
      name: init.name,
      reservedName: [],
      reservedRange: [],
      value: init.value.map((e) => Object.assign({ $typeName: "google.protobuf.EnumValueDescriptorProto" }, e))
    });
  }
  var init_boot = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/boot.js"() {
      init_restore_json_names();
      init_registry();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/message.js
  function messageDesc(file, path, ...paths) {
    return paths.reduce((acc, cur) => acc.nestedMessages[cur], file.messages[path]);
  }
  var init_message = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/message.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/enum.js
  var init_enum = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/enum.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js
  var file_google_protobuf_descriptor, FileDescriptorProtoSchema, ExtensionRangeOptions_VerificationState, FieldDescriptorProto_Type, FieldDescriptorProto_Label, FileOptions_OptimizeMode, FieldOptions_CType, FieldOptions_JSType, FieldOptions_OptionRetention, FieldOptions_OptionTargetType, MethodOptions_IdempotencyLevel, FeatureSet_VisibilityFeature_DefaultSymbolVisibility, FeatureSet_FieldPresence, FeatureSet_EnumType, FeatureSet_RepeatedFieldEncoding, FeatureSet_Utf8Validation, FeatureSet_MessageEncoding, FeatureSet_JsonFormat, FeatureSet_EnforceNamingStyle, GeneratedCodeInfo_Annotation_Semantic, Edition, SymbolVisibility;
  var init_descriptor_pb = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js"() {
      init_boot();
      init_message();
      file_google_protobuf_descriptor = /* @__PURE__ */ boot({ "name": "google/protobuf/descriptor.proto", "package": "google.protobuf", "messageType": [{ "name": "FileDescriptorSet", "field": [{ "name": "file", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.FileDescriptorProto" }], "extensionRange": [{ "start": 536e6, "end": 536000001 }] }, { "name": "FileDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "package", "number": 2, "type": 9, "label": 1 }, { "name": "dependency", "number": 3, "type": 9, "label": 3 }, { "name": "public_dependency", "number": 10, "type": 5, "label": 3 }, { "name": "weak_dependency", "number": 11, "type": 5, "label": 3 }, { "name": "option_dependency", "number": 15, "type": 9, "label": 3 }, { "name": "message_type", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto" }, { "name": "enum_type", "number": 5, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto" }, { "name": "service", "number": 6, "type": 11, "label": 3, "typeName": ".google.protobuf.ServiceDescriptorProto" }, { "name": "extension", "number": 7, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "options", "number": 8, "type": 11, "label": 1, "typeName": ".google.protobuf.FileOptions" }, { "name": "source_code_info", "number": 9, "type": 11, "label": 1, "typeName": ".google.protobuf.SourceCodeInfo" }, { "name": "syntax", "number": 12, "type": 9, "label": 1 }, { "name": "edition", "number": 14, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }] }, { "name": "DescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "field", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "extension", "number": 6, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldDescriptorProto" }, { "name": "nested_type", "number": 3, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto" }, { "name": "enum_type", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto" }, { "name": "extension_range", "number": 5, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto.ExtensionRange" }, { "name": "oneof_decl", "number": 8, "type": 11, "label": 3, "typeName": ".google.protobuf.OneofDescriptorProto" }, { "name": "options", "number": 7, "type": 11, "label": 1, "typeName": ".google.protobuf.MessageOptions" }, { "name": "reserved_range", "number": 9, "type": 11, "label": 3, "typeName": ".google.protobuf.DescriptorProto.ReservedRange" }, { "name": "reserved_name", "number": 10, "type": 9, "label": 3 }, { "name": "visibility", "number": 11, "type": 14, "label": 1, "typeName": ".google.protobuf.SymbolVisibility" }], "nestedType": [{ "name": "ExtensionRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.ExtensionRangeOptions" }] }, { "name": "ReservedRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }] }] }, { "name": "ExtensionRangeOptions", "field": [{ "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }, { "name": "declaration", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.ExtensionRangeOptions.Declaration", "options": { "retention": 2 } }, { "name": "features", "number": 50, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "verification", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.ExtensionRangeOptions.VerificationState", "defaultValue": "UNVERIFIED", "options": { "retention": 2 } }], "nestedType": [{ "name": "Declaration", "field": [{ "name": "number", "number": 1, "type": 5, "label": 1 }, { "name": "full_name", "number": 2, "type": 9, "label": 1 }, { "name": "type", "number": 3, "type": 9, "label": 1 }, { "name": "reserved", "number": 5, "type": 8, "label": 1 }, { "name": "repeated", "number": 6, "type": 8, "label": 1 }] }], "enumType": [{ "name": "VerificationState", "value": [{ "name": "DECLARATION", "number": 0 }, { "name": "UNVERIFIED", "number": 1 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "FieldDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "number", "number": 3, "type": 5, "label": 1 }, { "name": "label", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldDescriptorProto.Label" }, { "name": "type", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldDescriptorProto.Type" }, { "name": "type_name", "number": 6, "type": 9, "label": 1 }, { "name": "extendee", "number": 2, "type": 9, "label": 1 }, { "name": "default_value", "number": 7, "type": 9, "label": 1 }, { "name": "oneof_index", "number": 9, "type": 5, "label": 1 }, { "name": "json_name", "number": 10, "type": 9, "label": 1 }, { "name": "options", "number": 8, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions" }, { "name": "proto3_optional", "number": 17, "type": 8, "label": 1 }], "enumType": [{ "name": "Type", "value": [{ "name": "TYPE_DOUBLE", "number": 1 }, { "name": "TYPE_FLOAT", "number": 2 }, { "name": "TYPE_INT64", "number": 3 }, { "name": "TYPE_UINT64", "number": 4 }, { "name": "TYPE_INT32", "number": 5 }, { "name": "TYPE_FIXED64", "number": 6 }, { "name": "TYPE_FIXED32", "number": 7 }, { "name": "TYPE_BOOL", "number": 8 }, { "name": "TYPE_STRING", "number": 9 }, { "name": "TYPE_GROUP", "number": 10 }, { "name": "TYPE_MESSAGE", "number": 11 }, { "name": "TYPE_BYTES", "number": 12 }, { "name": "TYPE_UINT32", "number": 13 }, { "name": "TYPE_ENUM", "number": 14 }, { "name": "TYPE_SFIXED32", "number": 15 }, { "name": "TYPE_SFIXED64", "number": 16 }, { "name": "TYPE_SINT32", "number": 17 }, { "name": "TYPE_SINT64", "number": 18 }] }, { "name": "Label", "value": [{ "name": "LABEL_OPTIONAL", "number": 1 }, { "name": "LABEL_REPEATED", "number": 3 }, { "name": "LABEL_REQUIRED", "number": 2 }] }] }, { "name": "OneofDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "options", "number": 2, "type": 11, "label": 1, "typeName": ".google.protobuf.OneofOptions" }] }, { "name": "EnumDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "value", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumValueDescriptorProto" }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.EnumOptions" }, { "name": "reserved_range", "number": 4, "type": 11, "label": 3, "typeName": ".google.protobuf.EnumDescriptorProto.EnumReservedRange" }, { "name": "reserved_name", "number": 5, "type": 9, "label": 3 }, { "name": "visibility", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.SymbolVisibility" }], "nestedType": [{ "name": "EnumReservedRange", "field": [{ "name": "start", "number": 1, "type": 5, "label": 1 }, { "name": "end", "number": 2, "type": 5, "label": 1 }] }] }, { "name": "EnumValueDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "number", "number": 2, "type": 5, "label": 1 }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.EnumValueOptions" }] }, { "name": "ServiceDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "method", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.MethodDescriptorProto" }, { "name": "options", "number": 3, "type": 11, "label": 1, "typeName": ".google.protobuf.ServiceOptions" }] }, { "name": "MethodDescriptorProto", "field": [{ "name": "name", "number": 1, "type": 9, "label": 1 }, { "name": "input_type", "number": 2, "type": 9, "label": 1 }, { "name": "output_type", "number": 3, "type": 9, "label": 1 }, { "name": "options", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.MethodOptions" }, { "name": "client_streaming", "number": 5, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "server_streaming", "number": 6, "type": 8, "label": 1, "defaultValue": "false" }] }, { "name": "FileOptions", "field": [{ "name": "java_package", "number": 1, "type": 9, "label": 1 }, { "name": "java_outer_classname", "number": 8, "type": 9, "label": 1 }, { "name": "java_multiple_files", "number": 10, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "java_generate_equals_and_hash", "number": 20, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "java_string_check_utf8", "number": 27, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "optimize_for", "number": 9, "type": 14, "label": 1, "typeName": ".google.protobuf.FileOptions.OptimizeMode", "defaultValue": "SPEED" }, { "name": "go_package", "number": 11, "type": 9, "label": 1 }, { "name": "cc_generic_services", "number": 16, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "java_generic_services", "number": 17, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "py_generic_services", "number": 18, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 23, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "cc_enable_arenas", "number": 31, "type": 8, "label": 1, "defaultValue": "true" }, { "name": "objc_class_prefix", "number": 36, "type": 9, "label": 1 }, { "name": "csharp_namespace", "number": 37, "type": 9, "label": 1 }, { "name": "swift_prefix", "number": 39, "type": 9, "label": 1 }, { "name": "php_class_prefix", "number": 40, "type": 9, "label": 1 }, { "name": "php_namespace", "number": 41, "type": 9, "label": 1 }, { "name": "php_metadata_namespace", "number": 44, "type": 9, "label": 1 }, { "name": "ruby_package", "number": 45, "type": 9, "label": 1 }, { "name": "features", "number": 50, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "enumType": [{ "name": "OptimizeMode", "value": [{ "name": "SPEED", "number": 1 }, { "name": "CODE_SIZE", "number": 2 }, { "name": "LITE_RUNTIME", "number": 3 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "MessageOptions", "field": [{ "name": "message_set_wire_format", "number": 1, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "no_standard_descriptor_accessor", "number": 2, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "map_entry", "number": 7, "type": 8, "label": 1 }, { "name": "deprecated_legacy_json_field_conflicts", "number": 11, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "features", "number": 12, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "FieldOptions", "field": [{ "name": "ctype", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.CType", "defaultValue": "STRING" }, { "name": "packed", "number": 2, "type": 8, "label": 1 }, { "name": "jstype", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.JSType", "defaultValue": "JS_NORMAL" }, { "name": "lazy", "number": 5, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "unverified_lazy", "number": 15, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "weak", "number": 10, "type": 8, "label": 1, "defaultValue": "false", "options": { "deprecated": true } }, { "name": "debug_redact", "number": 16, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "retention", "number": 17, "type": 14, "label": 1, "typeName": ".google.protobuf.FieldOptions.OptionRetention" }, { "name": "targets", "number": 19, "type": 14, "label": 3, "typeName": ".google.protobuf.FieldOptions.OptionTargetType" }, { "name": "edition_defaults", "number": 20, "type": 11, "label": 3, "typeName": ".google.protobuf.FieldOptions.EditionDefault" }, { "name": "features", "number": 21, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "feature_support", "number": 22, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions.FeatureSupport" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "nestedType": [{ "name": "EditionDefault", "field": [{ "name": "edition", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "value", "number": 2, "type": 9, "label": 1 }] }, { "name": "FeatureSupport", "field": [{ "name": "edition_introduced", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "edition_deprecated", "number": 2, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "deprecation_warning", "number": 3, "type": 9, "label": 1 }, { "name": "edition_removed", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }] }], "enumType": [{ "name": "CType", "value": [{ "name": "STRING", "number": 0 }, { "name": "CORD", "number": 1 }, { "name": "STRING_PIECE", "number": 2 }] }, { "name": "JSType", "value": [{ "name": "JS_NORMAL", "number": 0 }, { "name": "JS_STRING", "number": 1 }, { "name": "JS_NUMBER", "number": 2 }] }, { "name": "OptionRetention", "value": [{ "name": "RETENTION_UNKNOWN", "number": 0 }, { "name": "RETENTION_RUNTIME", "number": 1 }, { "name": "RETENTION_SOURCE", "number": 2 }] }, { "name": "OptionTargetType", "value": [{ "name": "TARGET_TYPE_UNKNOWN", "number": 0 }, { "name": "TARGET_TYPE_FILE", "number": 1 }, { "name": "TARGET_TYPE_EXTENSION_RANGE", "number": 2 }, { "name": "TARGET_TYPE_MESSAGE", "number": 3 }, { "name": "TARGET_TYPE_FIELD", "number": 4 }, { "name": "TARGET_TYPE_ONEOF", "number": 5 }, { "name": "TARGET_TYPE_ENUM", "number": 6 }, { "name": "TARGET_TYPE_ENUM_ENTRY", "number": 7 }, { "name": "TARGET_TYPE_SERVICE", "number": 8 }, { "name": "TARGET_TYPE_METHOD", "number": 9 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "OneofOptions", "field": [{ "name": "features", "number": 1, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "EnumOptions", "field": [{ "name": "allow_alias", "number": 2, "type": 8, "label": 1 }, { "name": "deprecated", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "deprecated_legacy_json_field_conflicts", "number": 6, "type": 8, "label": 1, "options": { "deprecated": true } }, { "name": "features", "number": 7, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "EnumValueOptions", "field": [{ "name": "deprecated", "number": 1, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "features", "number": 2, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "debug_redact", "number": 3, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "feature_support", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.FieldOptions.FeatureSupport" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "ServiceOptions", "field": [{ "name": "features", "number": 34, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "deprecated", "number": 33, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "MethodOptions", "field": [{ "name": "deprecated", "number": 33, "type": 8, "label": 1, "defaultValue": "false" }, { "name": "idempotency_level", "number": 34, "type": 14, "label": 1, "typeName": ".google.protobuf.MethodOptions.IdempotencyLevel", "defaultValue": "IDEMPOTENCY_UNKNOWN" }, { "name": "features", "number": 35, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "uninterpreted_option", "number": 999, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption" }], "enumType": [{ "name": "IdempotencyLevel", "value": [{ "name": "IDEMPOTENCY_UNKNOWN", "number": 0 }, { "name": "NO_SIDE_EFFECTS", "number": 1 }, { "name": "IDEMPOTENT", "number": 2 }] }], "extensionRange": [{ "start": 1e3, "end": 536870912 }] }, { "name": "UninterpretedOption", "field": [{ "name": "name", "number": 2, "type": 11, "label": 3, "typeName": ".google.protobuf.UninterpretedOption.NamePart" }, { "name": "identifier_value", "number": 3, "type": 9, "label": 1 }, { "name": "positive_int_value", "number": 4, "type": 4, "label": 1 }, { "name": "negative_int_value", "number": 5, "type": 3, "label": 1 }, { "name": "double_value", "number": 6, "type": 1, "label": 1 }, { "name": "string_value", "number": 7, "type": 12, "label": 1 }, { "name": "aggregate_value", "number": 8, "type": 9, "label": 1 }], "nestedType": [{ "name": "NamePart", "field": [{ "name": "name_part", "number": 1, "type": 9, "label": 2 }, { "name": "is_extension", "number": 2, "type": 8, "label": 2 }] }] }, { "name": "FeatureSet", "field": [{ "name": "field_presence", "number": 1, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.FieldPresence", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "EXPLICIT", "edition": 900 }, { "value": "IMPLICIT", "edition": 999 }, { "value": "EXPLICIT", "edition": 1e3 }] } }, { "name": "enum_type", "number": 2, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.EnumType", "options": { "retention": 1, "targets": [6, 1], "editionDefaults": [{ "value": "CLOSED", "edition": 900 }, { "value": "OPEN", "edition": 999 }] } }, { "name": "repeated_field_encoding", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.RepeatedFieldEncoding", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "EXPANDED", "edition": 900 }, { "value": "PACKED", "edition": 999 }] } }, { "name": "utf8_validation", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.Utf8Validation", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "NONE", "edition": 900 }, { "value": "VERIFY", "edition": 999 }] } }, { "name": "message_encoding", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.MessageEncoding", "options": { "retention": 1, "targets": [4, 1], "editionDefaults": [{ "value": "LENGTH_PREFIXED", "edition": 900 }] } }, { "name": "json_format", "number": 6, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.JsonFormat", "options": { "retention": 1, "targets": [3, 6, 1], "editionDefaults": [{ "value": "LEGACY_BEST_EFFORT", "edition": 900 }, { "value": "ALLOW", "edition": 999 }] } }, { "name": "enforce_naming_style", "number": 7, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.EnforceNamingStyle", "options": { "retention": 2, "targets": [1, 2, 3, 4, 5, 6, 7, 8, 9], "editionDefaults": [{ "value": "STYLE_LEGACY", "edition": 900 }, { "value": "STYLE2024", "edition": 1001 }] } }, { "name": "default_symbol_visibility", "number": 8, "type": 14, "label": 1, "typeName": ".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility", "options": { "retention": 2, "targets": [1], "editionDefaults": [{ "value": "EXPORT_ALL", "edition": 900 }, { "value": "EXPORT_TOP_LEVEL", "edition": 1001 }] } }], "nestedType": [{ "name": "VisibilityFeature", "enumType": [{ "name": "DefaultSymbolVisibility", "value": [{ "name": "DEFAULT_SYMBOL_VISIBILITY_UNKNOWN", "number": 0 }, { "name": "EXPORT_ALL", "number": 1 }, { "name": "EXPORT_TOP_LEVEL", "number": 2 }, { "name": "LOCAL_ALL", "number": 3 }, { "name": "STRICT", "number": 4 }] }] }], "enumType": [{ "name": "FieldPresence", "value": [{ "name": "FIELD_PRESENCE_UNKNOWN", "number": 0 }, { "name": "EXPLICIT", "number": 1 }, { "name": "IMPLICIT", "number": 2 }, { "name": "LEGACY_REQUIRED", "number": 3 }] }, { "name": "EnumType", "value": [{ "name": "ENUM_TYPE_UNKNOWN", "number": 0 }, { "name": "OPEN", "number": 1 }, { "name": "CLOSED", "number": 2 }] }, { "name": "RepeatedFieldEncoding", "value": [{ "name": "REPEATED_FIELD_ENCODING_UNKNOWN", "number": 0 }, { "name": "PACKED", "number": 1 }, { "name": "EXPANDED", "number": 2 }] }, { "name": "Utf8Validation", "value": [{ "name": "UTF8_VALIDATION_UNKNOWN", "number": 0 }, { "name": "VERIFY", "number": 2 }, { "name": "NONE", "number": 3 }] }, { "name": "MessageEncoding", "value": [{ "name": "MESSAGE_ENCODING_UNKNOWN", "number": 0 }, { "name": "LENGTH_PREFIXED", "number": 1 }, { "name": "DELIMITED", "number": 2 }] }, { "name": "JsonFormat", "value": [{ "name": "JSON_FORMAT_UNKNOWN", "number": 0 }, { "name": "ALLOW", "number": 1 }, { "name": "LEGACY_BEST_EFFORT", "number": 2 }] }, { "name": "EnforceNamingStyle", "value": [{ "name": "ENFORCE_NAMING_STYLE_UNKNOWN", "number": 0 }, { "name": "STYLE2024", "number": 1 }, { "name": "STYLE_LEGACY", "number": 2 }] }], "extensionRange": [{ "start": 1e3, "end": 9995 }, { "start": 9995, "end": 1e4 }, { "start": 1e4, "end": 10001 }] }, { "name": "FeatureSetDefaults", "field": [{ "name": "defaults", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault" }, { "name": "minimum_edition", "number": 4, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "maximum_edition", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }], "nestedType": [{ "name": "FeatureSetEditionDefault", "field": [{ "name": "edition", "number": 3, "type": 14, "label": 1, "typeName": ".google.protobuf.Edition" }, { "name": "overridable_features", "number": 4, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }, { "name": "fixed_features", "number": 5, "type": 11, "label": 1, "typeName": ".google.protobuf.FeatureSet" }] }] }, { "name": "SourceCodeInfo", "field": [{ "name": "location", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.SourceCodeInfo.Location" }], "nestedType": [{ "name": "Location", "field": [{ "name": "path", "number": 1, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "span", "number": 2, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "leading_comments", "number": 3, "type": 9, "label": 1 }, { "name": "trailing_comments", "number": 4, "type": 9, "label": 1 }, { "name": "leading_detached_comments", "number": 6, "type": 9, "label": 3 }] }], "extensionRange": [{ "start": 536e6, "end": 536000001 }] }, { "name": "GeneratedCodeInfo", "field": [{ "name": "annotation", "number": 1, "type": 11, "label": 3, "typeName": ".google.protobuf.GeneratedCodeInfo.Annotation" }], "nestedType": [{ "name": "Annotation", "field": [{ "name": "path", "number": 1, "type": 5, "label": 3, "options": { "packed": true } }, { "name": "source_file", "number": 2, "type": 9, "label": 1 }, { "name": "begin", "number": 3, "type": 5, "label": 1 }, { "name": "end", "number": 4, "type": 5, "label": 1 }, { "name": "semantic", "number": 5, "type": 14, "label": 1, "typeName": ".google.protobuf.GeneratedCodeInfo.Annotation.Semantic" }], "enumType": [{ "name": "Semantic", "value": [{ "name": "NONE", "number": 0 }, { "name": "SET", "number": 1 }, { "name": "ALIAS", "number": 2 }] }] }] }], "enumType": [{ "name": "Edition", "value": [{ "name": "EDITION_UNKNOWN", "number": 0 }, { "name": "EDITION_LEGACY", "number": 900 }, { "name": "EDITION_PROTO2", "number": 998 }, { "name": "EDITION_PROTO3", "number": 999 }, { "name": "EDITION_2023", "number": 1e3 }, { "name": "EDITION_2024", "number": 1001 }, { "name": "EDITION_1_TEST_ONLY", "number": 1 }, { "name": "EDITION_2_TEST_ONLY", "number": 2 }, { "name": "EDITION_99997_TEST_ONLY", "number": 99997 }, { "name": "EDITION_99998_TEST_ONLY", "number": 99998 }, { "name": "EDITION_99999_TEST_ONLY", "number": 99999 }, { "name": "EDITION_MAX", "number": 2147483647 }] }, { "name": "SymbolVisibility", "value": [{ "name": "VISIBILITY_UNSET", "number": 0 }, { "name": "VISIBILITY_LOCAL", "number": 1 }, { "name": "VISIBILITY_EXPORT", "number": 2 }] }] });
      FileDescriptorProtoSchema = /* @__PURE__ */ messageDesc(file_google_protobuf_descriptor, 1);
      (function(ExtensionRangeOptions_VerificationState2) {
        ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2["DECLARATION"] = 0] = "DECLARATION";
        ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2["UNVERIFIED"] = 1] = "UNVERIFIED";
      })(ExtensionRangeOptions_VerificationState || (ExtensionRangeOptions_VerificationState = {}));
      (function(FieldDescriptorProto_Type2) {
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["DOUBLE"] = 1] = "DOUBLE";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FLOAT"] = 2] = "FLOAT";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["INT64"] = 3] = "INT64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["UINT64"] = 4] = "UINT64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["INT32"] = 5] = "INT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FIXED64"] = 6] = "FIXED64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["FIXED32"] = 7] = "FIXED32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["BOOL"] = 8] = "BOOL";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["STRING"] = 9] = "STRING";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["GROUP"] = 10] = "GROUP";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["MESSAGE"] = 11] = "MESSAGE";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["BYTES"] = 12] = "BYTES";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["UINT32"] = 13] = "UINT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["ENUM"] = 14] = "ENUM";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SFIXED32"] = 15] = "SFIXED32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SFIXED64"] = 16] = "SFIXED64";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SINT32"] = 17] = "SINT32";
        FieldDescriptorProto_Type2[FieldDescriptorProto_Type2["SINT64"] = 18] = "SINT64";
      })(FieldDescriptorProto_Type || (FieldDescriptorProto_Type = {}));
      (function(FieldDescriptorProto_Label2) {
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["OPTIONAL"] = 1] = "OPTIONAL";
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["REPEATED"] = 3] = "REPEATED";
        FieldDescriptorProto_Label2[FieldDescriptorProto_Label2["REQUIRED"] = 2] = "REQUIRED";
      })(FieldDescriptorProto_Label || (FieldDescriptorProto_Label = {}));
      (function(FileOptions_OptimizeMode2) {
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["SPEED"] = 1] = "SPEED";
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["CODE_SIZE"] = 2] = "CODE_SIZE";
        FileOptions_OptimizeMode2[FileOptions_OptimizeMode2["LITE_RUNTIME"] = 3] = "LITE_RUNTIME";
      })(FileOptions_OptimizeMode || (FileOptions_OptimizeMode = {}));
      (function(FieldOptions_CType2) {
        FieldOptions_CType2[FieldOptions_CType2["STRING"] = 0] = "STRING";
        FieldOptions_CType2[FieldOptions_CType2["CORD"] = 1] = "CORD";
        FieldOptions_CType2[FieldOptions_CType2["STRING_PIECE"] = 2] = "STRING_PIECE";
      })(FieldOptions_CType || (FieldOptions_CType = {}));
      (function(FieldOptions_JSType2) {
        FieldOptions_JSType2[FieldOptions_JSType2["JS_NORMAL"] = 0] = "JS_NORMAL";
        FieldOptions_JSType2[FieldOptions_JSType2["JS_STRING"] = 1] = "JS_STRING";
        FieldOptions_JSType2[FieldOptions_JSType2["JS_NUMBER"] = 2] = "JS_NUMBER";
      })(FieldOptions_JSType || (FieldOptions_JSType = {}));
      (function(FieldOptions_OptionRetention2) {
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_UNKNOWN"] = 0] = "RETENTION_UNKNOWN";
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_RUNTIME"] = 1] = "RETENTION_RUNTIME";
        FieldOptions_OptionRetention2[FieldOptions_OptionRetention2["RETENTION_SOURCE"] = 2] = "RETENTION_SOURCE";
      })(FieldOptions_OptionRetention || (FieldOptions_OptionRetention = {}));
      (function(FieldOptions_OptionTargetType2) {
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_UNKNOWN"] = 0] = "TARGET_TYPE_UNKNOWN";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_FILE"] = 1] = "TARGET_TYPE_FILE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_EXTENSION_RANGE"] = 2] = "TARGET_TYPE_EXTENSION_RANGE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_MESSAGE"] = 3] = "TARGET_TYPE_MESSAGE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_FIELD"] = 4] = "TARGET_TYPE_FIELD";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ONEOF"] = 5] = "TARGET_TYPE_ONEOF";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ENUM"] = 6] = "TARGET_TYPE_ENUM";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_ENUM_ENTRY"] = 7] = "TARGET_TYPE_ENUM_ENTRY";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_SERVICE"] = 8] = "TARGET_TYPE_SERVICE";
        FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2["TARGET_TYPE_METHOD"] = 9] = "TARGET_TYPE_METHOD";
      })(FieldOptions_OptionTargetType || (FieldOptions_OptionTargetType = {}));
      (function(MethodOptions_IdempotencyLevel2) {
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["IDEMPOTENCY_UNKNOWN"] = 0] = "IDEMPOTENCY_UNKNOWN";
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["NO_SIDE_EFFECTS"] = 1] = "NO_SIDE_EFFECTS";
        MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2["IDEMPOTENT"] = 2] = "IDEMPOTENT";
      })(MethodOptions_IdempotencyLevel || (MethodOptions_IdempotencyLevel = {}));
      (function(FeatureSet_VisibilityFeature_DefaultSymbolVisibility2) {
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["DEFAULT_SYMBOL_VISIBILITY_UNKNOWN"] = 0] = "DEFAULT_SYMBOL_VISIBILITY_UNKNOWN";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["EXPORT_ALL"] = 1] = "EXPORT_ALL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["EXPORT_TOP_LEVEL"] = 2] = "EXPORT_TOP_LEVEL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["LOCAL_ALL"] = 3] = "LOCAL_ALL";
        FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2["STRICT"] = 4] = "STRICT";
      })(FeatureSet_VisibilityFeature_DefaultSymbolVisibility || (FeatureSet_VisibilityFeature_DefaultSymbolVisibility = {}));
      (function(FeatureSet_FieldPresence2) {
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["FIELD_PRESENCE_UNKNOWN"] = 0] = "FIELD_PRESENCE_UNKNOWN";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["EXPLICIT"] = 1] = "EXPLICIT";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["IMPLICIT"] = 2] = "IMPLICIT";
        FeatureSet_FieldPresence2[FeatureSet_FieldPresence2["LEGACY_REQUIRED"] = 3] = "LEGACY_REQUIRED";
      })(FeatureSet_FieldPresence || (FeatureSet_FieldPresence = {}));
      (function(FeatureSet_EnumType2) {
        FeatureSet_EnumType2[FeatureSet_EnumType2["ENUM_TYPE_UNKNOWN"] = 0] = "ENUM_TYPE_UNKNOWN";
        FeatureSet_EnumType2[FeatureSet_EnumType2["OPEN"] = 1] = "OPEN";
        FeatureSet_EnumType2[FeatureSet_EnumType2["CLOSED"] = 2] = "CLOSED";
      })(FeatureSet_EnumType || (FeatureSet_EnumType = {}));
      (function(FeatureSet_RepeatedFieldEncoding2) {
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["REPEATED_FIELD_ENCODING_UNKNOWN"] = 0] = "REPEATED_FIELD_ENCODING_UNKNOWN";
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["PACKED"] = 1] = "PACKED";
        FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2["EXPANDED"] = 2] = "EXPANDED";
      })(FeatureSet_RepeatedFieldEncoding || (FeatureSet_RepeatedFieldEncoding = {}));
      (function(FeatureSet_Utf8Validation2) {
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["UTF8_VALIDATION_UNKNOWN"] = 0] = "UTF8_VALIDATION_UNKNOWN";
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["VERIFY"] = 2] = "VERIFY";
        FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2["NONE"] = 3] = "NONE";
      })(FeatureSet_Utf8Validation || (FeatureSet_Utf8Validation = {}));
      (function(FeatureSet_MessageEncoding2) {
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["MESSAGE_ENCODING_UNKNOWN"] = 0] = "MESSAGE_ENCODING_UNKNOWN";
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["LENGTH_PREFIXED"] = 1] = "LENGTH_PREFIXED";
        FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2["DELIMITED"] = 2] = "DELIMITED";
      })(FeatureSet_MessageEncoding || (FeatureSet_MessageEncoding = {}));
      (function(FeatureSet_JsonFormat2) {
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["JSON_FORMAT_UNKNOWN"] = 0] = "JSON_FORMAT_UNKNOWN";
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["ALLOW"] = 1] = "ALLOW";
        FeatureSet_JsonFormat2[FeatureSet_JsonFormat2["LEGACY_BEST_EFFORT"] = 2] = "LEGACY_BEST_EFFORT";
      })(FeatureSet_JsonFormat || (FeatureSet_JsonFormat = {}));
      (function(FeatureSet_EnforceNamingStyle2) {
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["ENFORCE_NAMING_STYLE_UNKNOWN"] = 0] = "ENFORCE_NAMING_STYLE_UNKNOWN";
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["STYLE2024"] = 1] = "STYLE2024";
        FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2["STYLE_LEGACY"] = 2] = "STYLE_LEGACY";
      })(FeatureSet_EnforceNamingStyle || (FeatureSet_EnforceNamingStyle = {}));
      (function(GeneratedCodeInfo_Annotation_Semantic2) {
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["NONE"] = 0] = "NONE";
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["SET"] = 1] = "SET";
        GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2["ALIAS"] = 2] = "ALIAS";
      })(GeneratedCodeInfo_Annotation_Semantic || (GeneratedCodeInfo_Annotation_Semantic = {}));
      (function(Edition2) {
        Edition2[Edition2["EDITION_UNKNOWN"] = 0] = "EDITION_UNKNOWN";
        Edition2[Edition2["EDITION_LEGACY"] = 900] = "EDITION_LEGACY";
        Edition2[Edition2["EDITION_PROTO2"] = 998] = "EDITION_PROTO2";
        Edition2[Edition2["EDITION_PROTO3"] = 999] = "EDITION_PROTO3";
        Edition2[Edition2["EDITION_2023"] = 1e3] = "EDITION_2023";
        Edition2[Edition2["EDITION_2024"] = 1001] = "EDITION_2024";
        Edition2[Edition2["EDITION_1_TEST_ONLY"] = 1] = "EDITION_1_TEST_ONLY";
        Edition2[Edition2["EDITION_2_TEST_ONLY"] = 2] = "EDITION_2_TEST_ONLY";
        Edition2[Edition2["EDITION_99997_TEST_ONLY"] = 99997] = "EDITION_99997_TEST_ONLY";
        Edition2[Edition2["EDITION_99998_TEST_ONLY"] = 99998] = "EDITION_99998_TEST_ONLY";
        Edition2[Edition2["EDITION_99999_TEST_ONLY"] = 99999] = "EDITION_99999_TEST_ONLY";
        Edition2[Edition2["EDITION_MAX"] = 2147483647] = "EDITION_MAX";
      })(Edition || (Edition = {}));
      (function(SymbolVisibility2) {
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_UNSET"] = 0] = "VISIBILITY_UNSET";
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_LOCAL"] = 1] = "VISIBILITY_LOCAL";
        SymbolVisibility2[SymbolVisibility2["VISIBILITY_EXPORT"] = 2] = "VISIBILITY_EXPORT";
      })(SymbolVisibility || (SymbolVisibility = {}));
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/from-binary.js
  function makeReadOptions(options) {
    return options ? Object.assign(Object.assign({}, readDefaults), options) : readDefaults;
  }
  function fromBinary(schema, bytes, options) {
    const msg = reflect(schema, void 0, false);
    readMessage(msg, new BinaryReader(bytes), makeReadOptions(options), false, bytes.byteLength);
    return msg.message;
  }
  function readMessage(message, reader, options, delimited, lengthOrDelimitedFieldNo) {
    var _a;
    const end = delimited ? reader.len : reader.pos + lengthOrDelimitedFieldNo;
    let fieldNo;
    let wireType;
    const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];
    while (reader.pos < end) {
      [fieldNo, wireType] = reader.tag();
      if (delimited && wireType == WireType.EndGroup) {
        break;
      }
      const field = message.findNumber(fieldNo);
      if (!field) {
        const data = reader.skip(wireType, fieldNo);
        if (options.readUnknownFields) {
          unknownFields.push({ no: fieldNo, wireType, data });
        }
        continue;
      }
      readField(message, reader, field, wireType, options);
    }
    if (delimited) {
      if (wireType != WireType.EndGroup || fieldNo !== lengthOrDelimitedFieldNo) {
        throw new Error("invalid end group tag");
      }
    }
    if (unknownFields.length > 0) {
      message.setUnknown(unknownFields);
    }
  }
  function readField(message, reader, field, wireType, options) {
    var _a;
    switch (field.fieldKind) {
      case "scalar":
        message.set(field, readScalar(reader, field.scalar));
        break;
      case "enum":
        const val = readScalar(reader, ScalarType.INT32);
        if (field.enum.open) {
          message.set(field, val);
        } else {
          const ok = field.enum.values.some((v) => v.number === val);
          if (ok) {
            message.set(field, val);
          } else if (options.readUnknownFields) {
            const bytes = [];
            varint32write(val, bytes);
            const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];
            unknownFields.push({
              no: field.number,
              wireType,
              data: new Uint8Array(bytes)
            });
            message.setUnknown(unknownFields);
          }
        }
        break;
      case "message":
        message.set(field, readMessageField(reader, options, field, message.get(field)));
        break;
      case "list":
        readListField(reader, wireType, message.get(field), options);
        break;
      case "map":
        readMapEntry(reader, message.get(field), options);
        break;
    }
  }
  function readMapEntry(reader, map, options) {
    const field = map.field();
    let key;
    let val;
    const len = reader.uint32();
    const end = reader.pos + len;
    while (reader.pos < end) {
      const [fieldNo] = reader.tag();
      switch (fieldNo) {
        case 1:
          key = readScalar(reader, field.mapKey);
          break;
        case 2:
          switch (field.mapKind) {
            case "scalar":
              val = readScalar(reader, field.scalar);
              break;
            case "enum":
              val = reader.int32();
              break;
            case "message":
              val = readMessageField(reader, options, field);
              break;
          }
          break;
      }
    }
    if (key === void 0) {
      key = scalarZeroValue(field.mapKey, false);
    }
    if (val === void 0) {
      switch (field.mapKind) {
        case "scalar":
          val = scalarZeroValue(field.scalar, false);
          break;
        case "enum":
          val = field.enum.values[0].number;
          break;
        case "message":
          val = reflect(field.message, void 0, false);
          break;
      }
    }
    map.set(key, val);
  }
  function readListField(reader, wireType, list, options) {
    var _a;
    const field = list.field();
    if (field.listKind === "message") {
      list.add(readMessageField(reader, options, field));
      return;
    }
    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;
    const packed = wireType == WireType.LengthDelimited && scalarType != ScalarType.STRING && scalarType != ScalarType.BYTES;
    if (!packed) {
      list.add(readScalar(reader, scalarType));
      return;
    }
    const e = reader.uint32() + reader.pos;
    while (reader.pos < e) {
      list.add(readScalar(reader, scalarType));
    }
  }
  function readMessageField(reader, options, field, mergeMessage) {
    const delimited = field.delimitedEncoding;
    const message = mergeMessage !== null && mergeMessage !== void 0 ? mergeMessage : reflect(field.message, void 0, false);
    readMessage(message, reader, options, delimited, delimited ? field.number : reader.uint32());
    return message;
  }
  function readScalar(reader, type) {
    switch (type) {
      case ScalarType.STRING:
        return reader.string();
      case ScalarType.BOOL:
        return reader.bool();
      case ScalarType.DOUBLE:
        return reader.double();
      case ScalarType.FLOAT:
        return reader.float();
      case ScalarType.INT32:
        return reader.int32();
      case ScalarType.INT64:
        return reader.int64();
      case ScalarType.UINT64:
        return reader.uint64();
      case ScalarType.FIXED64:
        return reader.fixed64();
      case ScalarType.BYTES:
        return reader.bytes();
      case ScalarType.FIXED32:
        return reader.fixed32();
      case ScalarType.SFIXED32:
        return reader.sfixed32();
      case ScalarType.SFIXED64:
        return reader.sfixed64();
      case ScalarType.SINT64:
        return reader.sint64();
      case ScalarType.UINT32:
        return reader.uint32();
      case ScalarType.SINT32:
        return reader.sint32();
    }
  }
  var readDefaults;
  var init_from_binary = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/from-binary.js"() {
      init_descriptors();
      init_scalar();
      init_reflect();
      init_binary_encoding();
      init_varint();
      readDefaults = {
        readUnknownFields: true
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/file.js
  function fileDesc(b64, imports) {
    var _a;
    const root = fromBinary(FileDescriptorProtoSchema, base64Decode(b64));
    root.messageType.forEach(restoreJsonNames);
    root.dependency = (_a = imports === null || imports === void 0 ? void 0 : imports.map((f) => f.proto.name)) !== null && _a !== void 0 ? _a : [];
    const reg = createFileRegistry(root, (protoFileName) => imports === null || imports === void 0 ? void 0 : imports.find((f) => f.proto.name === protoFileName));
    return reg.getFile(root.name);
  }
  var init_file = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/file.js"() {
      init_base64_encoding();
      init_descriptor_pb();
      init_registry();
      init_restore_json_names();
      init_from_binary();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/to-binary.js
  function makeWriteOptions(options) {
    return options ? Object.assign(Object.assign({}, writeDefaults), options) : writeDefaults;
  }
  function toBinary(schema, message, options) {
    return writeFields(new BinaryWriter(), makeWriteOptions(options), reflect(schema, message)).finish();
  }
  function writeFields(writer, opts, msg) {
    var _a;
    for (const f of msg.sortedFields) {
      if (!msg.isSet(f)) {
        if (f.presence == LEGACY_REQUIRED2) {
          throw new Error(`cannot encode ${f} to binary: required field not set`);
        }
        continue;
      }
      writeField(writer, opts, msg, f);
    }
    if (opts.writeUnknownFields) {
      for (const { no, wireType, data } of (_a = msg.getUnknown()) !== null && _a !== void 0 ? _a : []) {
        writer.tag(no, wireType).raw(data);
      }
    }
    return writer;
  }
  function writeField(writer, opts, msg, field) {
    var _a;
    switch (field.fieldKind) {
      case "scalar":
      case "enum":
        writeScalar(writer, msg.desc.typeName, field.name, (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32, field.number, msg.get(field));
        break;
      case "list":
        writeListField(writer, opts, field, msg.get(field));
        break;
      case "message":
        writeMessageField(writer, opts, field, msg.get(field));
        break;
      case "map":
        for (const [key, val] of msg.get(field)) {
          writeMapEntry(writer, opts, field, key, val);
        }
        break;
    }
  }
  function writeScalar(writer, msgName, fieldName, scalarType, fieldNo, value) {
    writeScalarValue(writer.tag(fieldNo, writeTypeOfScalar(scalarType)), msgName, fieldName, scalarType, value);
  }
  function writeMessageField(writer, opts, field, message) {
    if (field.delimitedEncoding) {
      writeFields(writer.tag(field.number, WireType.StartGroup), opts, message).tag(field.number, WireType.EndGroup);
    } else {
      writeFields(writer.tag(field.number, WireType.LengthDelimited).fork(), opts, message).join();
    }
  }
  function writeListField(writer, opts, field, list) {
    var _a;
    if (field.listKind == "message") {
      for (const item of list) {
        writeMessageField(writer, opts, field, item);
      }
      return;
    }
    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;
    if (field.packed) {
      if (!list.size) {
        return;
      }
      writer.tag(field.number, WireType.LengthDelimited).fork();
      for (const item of list) {
        writeScalarValue(writer, field.parent.typeName, field.name, scalarType, item);
      }
      writer.join();
      return;
    }
    for (const item of list) {
      writeScalar(writer, field.parent.typeName, field.name, scalarType, field.number, item);
    }
  }
  function writeMapEntry(writer, opts, field, key, value) {
    var _a;
    writer.tag(field.number, WireType.LengthDelimited).fork();
    writeScalar(writer, field.parent.typeName, field.name, field.mapKey, 1, key);
    switch (field.mapKind) {
      case "scalar":
      case "enum":
        writeScalar(writer, field.parent.typeName, field.name, (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32, 2, value);
        break;
      case "message":
        writeFields(writer.tag(2, WireType.LengthDelimited).fork(), opts, value).join();
        break;
    }
    writer.join();
  }
  function writeScalarValue(writer, msgName, fieldName, type, value) {
    try {
      switch (type) {
        case ScalarType.STRING:
          writer.string(value);
          break;
        case ScalarType.BOOL:
          writer.bool(value);
          break;
        case ScalarType.DOUBLE:
          writer.double(value);
          break;
        case ScalarType.FLOAT:
          writer.float(value);
          break;
        case ScalarType.INT32:
          writer.int32(value);
          break;
        case ScalarType.INT64:
          writer.int64(value);
          break;
        case ScalarType.UINT64:
          writer.uint64(value);
          break;
        case ScalarType.FIXED64:
          writer.fixed64(value);
          break;
        case ScalarType.BYTES:
          writer.bytes(value);
          break;
        case ScalarType.FIXED32:
          writer.fixed32(value);
          break;
        case ScalarType.SFIXED32:
          writer.sfixed32(value);
          break;
        case ScalarType.SFIXED64:
          writer.sfixed64(value);
          break;
        case ScalarType.SINT64:
          writer.sint64(value);
          break;
        case ScalarType.UINT32:
          writer.uint32(value);
          break;
        case ScalarType.SINT32:
          writer.sint32(value);
          break;
      }
    } catch (e) {
      if (e instanceof Error) {
        throw new Error(`cannot encode field ${msgName}.${fieldName} to binary: ${e.message}`);
      }
      throw e;
    }
  }
  function writeTypeOfScalar(type) {
    switch (type) {
      case ScalarType.BYTES:
      case ScalarType.STRING:
        return WireType.LengthDelimited;
      case ScalarType.DOUBLE:
      case ScalarType.FIXED64:
      case ScalarType.SFIXED64:
        return WireType.Bit64;
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
      case ScalarType.FLOAT:
        return WireType.Bit32;
      default:
        return WireType.Varint;
    }
  }
  var LEGACY_REQUIRED2, writeDefaults;
  var init_to_binary = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/to-binary.js"() {
      init_reflect();
      init_binary_encoding();
      init_descriptors();
      LEGACY_REQUIRED2 = 3;
      writeDefaults = {
        writeUnknownFields: true
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/extension.js
  var init_extension = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/extension.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/equals.js
  var init_equals = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/equals.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/fields.js
  var init_fields = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/fields.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/to-json.js
  var init_to_json = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/to-json.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/from-json.js
  var tokenIgnoredUnknownEnum, tokenNull;
  var init_from_json = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/from-json.js"() {
      tokenIgnoredUnknownEnum = Symbol();
      tokenNull = Symbol();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/merge.js
  var init_merge = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/merge.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/index.js
  var init_esm = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/index.js"() {
      init_types();
      init_is_message();
      init_create();
      init_clone();
      init_descriptors();
      init_equals();
      init_fields();
      init_registry();
      init_to_binary();
      init_from_binary();
      init_to_json();
      init_from_json();
      init_merge();
      init_proto_int64();
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/embed.js
  var init_embed = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/embed.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/service.js
  var init_service = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/service.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/symbols.js
  var packageName, wktPublicImportPaths, symbols;
  var init_symbols = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/symbols.js"() {
      packageName = "@bufbuild/protobuf";
      wktPublicImportPaths = {
        "google/protobuf/compiler/plugin.proto": packageName + "/wkt",
        "google/protobuf/any.proto": packageName + "/wkt",
        "google/protobuf/api.proto": packageName + "/wkt",
        "google/protobuf/cpp_features.proto": packageName + "/wkt",
        "google/protobuf/descriptor.proto": packageName + "/wkt",
        "google/protobuf/duration.proto": packageName + "/wkt",
        "google/protobuf/empty.proto": packageName + "/wkt",
        "google/protobuf/field_mask.proto": packageName + "/wkt",
        "google/protobuf/go_features.proto": packageName + "/wkt",
        "google/protobuf/java_features.proto": packageName + "/wkt",
        "google/protobuf/source_context.proto": packageName + "/wkt",
        "google/protobuf/struct.proto": packageName + "/wkt",
        "google/protobuf/timestamp.proto": packageName + "/wkt",
        "google/protobuf/type.proto": packageName + "/wkt",
        "google/protobuf/wrappers.proto": packageName + "/wkt"
      };
      symbols = {
        isMessage: { typeOnly: false, bootstrapWktFrom: "../../is-message.js", from: packageName },
        Message: { typeOnly: true, bootstrapWktFrom: "../../types.js", from: packageName },
        create: { typeOnly: false, bootstrapWktFrom: "../../create.js", from: packageName },
        fromJson: { typeOnly: false, bootstrapWktFrom: "../../from-json.js", from: packageName },
        fromJsonString: { typeOnly: false, bootstrapWktFrom: "../../from-json.js", from: packageName },
        fromBinary: { typeOnly: false, bootstrapWktFrom: "../../from-binary.js", from: packageName },
        toBinary: { typeOnly: false, bootstrapWktFrom: "../../to-binary.js", from: packageName },
        toJson: { typeOnly: false, bootstrapWktFrom: "../../to-json.js", from: packageName },
        toJsonString: { typeOnly: false, bootstrapWktFrom: "../../to-json.js", from: packageName },
        protoInt64: { typeOnly: false, bootstrapWktFrom: "../../proto-int64.js", from: packageName },
        JsonValue: { typeOnly: true, bootstrapWktFrom: "../../json-value.js", from: packageName },
        JsonObject: { typeOnly: true, bootstrapWktFrom: "../../json-value.js", from: packageName },
        codegen: {
          boot: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/boot.js", from: packageName + "/codegenv2" },
          fileDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/file.js", from: packageName + "/codegenv2" },
          enumDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/enum.js", from: packageName + "/codegenv2" },
          extDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/extension.js", from: packageName + "/codegenv2" },
          messageDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/message.js", from: packageName + "/codegenv2" },
          serviceDesc: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/service.js", from: packageName + "/codegenv2" },
          tsEnum: { typeOnly: false, bootstrapWktFrom: "../../codegenv2/enum.js", from: packageName + "/codegenv2" },
          GenFile: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenEnum: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenExtension: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenMessage: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" },
          GenService: { typeOnly: true, bootstrapWktFrom: "../../codegenv2/types.js", from: packageName + "/codegenv2" }
        }
      };
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/scalar.js
  var init_scalar2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/scalar.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/types.js
  var init_types2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/types.js"() {
    }
  });

  // web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/index.js
  var init_codegenv2 = __esm({
    "web/node_modules/@bufbuild/protobuf/dist/esm/codegenv2/index.js"() {
      init_boot();
      init_embed();
      init_enum();
      init_extension();
      init_file();
      init_message();
      init_service();
      init_symbols();
      init_scalar2();
      init_types2();
    }
  });

  // web/src/proto/proto/ws_messages_pb.ts
  var file_proto_ws_messages, WsEnvelopeSchema;
  var init_ws_messages_pb = __esm({
    "web/src/proto/proto/ws_messages_pb.ts"() {
      "use strict";
      init_codegenv2();
      file_proto_ws_messages = /* @__PURE__ */ fileDesc("Chdwcm90by93c19tZXNzYWdlcy5wcm90bxIRbGlnaHRzcGVlZGR1ZWwud3Mi1A4KCldzRW52ZWxvcGUSNgoMc3RhdGVfdXBkYXRlGAEgASgLMh4ubGlnaHRzcGVlZGR1ZWwud3MuU3RhdGVVcGRhdGVIABI1Cglyb29tX2Z1bGwYAiABKAsyIC5saWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9ySAASLQoEam9pbhgKIAEoCzIdLmxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW5IABIwCglzcGF3bl9ib3QYCyABKAsyGy5saWdodHNwZWVkZHVlbC53cy5TcGF3bkJvdEgAEjYKDGFkZF93YXlwb2ludBgMIAEoCzIeLmxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50SAASPAoPdXBkYXRlX3dheXBvaW50GA0gASgLMiEubGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRIABI4Cg1tb3ZlX3dheXBvaW50GA4gASgLMh8ubGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50SAASPAoPZGVsZXRlX3dheXBvaW50GA8gASgLMiEubGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlV2F5cG9pbnRIABI8Cg9jbGVhcl93YXlwb2ludHMYECABKAsyIS5saWdodHNwZWVkZHVlbC53cy5DbGVhcldheXBvaW50c0gAEkAKEWNvbmZpZ3VyZV9taXNzaWxlGBEgASgLMiMubGlnaHRzcGVlZGR1ZWwud3MuQ29uZmlndXJlTWlzc2lsZUgAEkUKFGFkZF9taXNzaWxlX3dheXBvaW50GBIgASgLMiUubGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVdheXBvaW50SAASVgoddXBkYXRlX21pc3NpbGVfd2F5cG9pbnRfc3BlZWQYEyABKAsyLS5saWdodHNwZWVkZHVlbC53cy5VcGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZEgAEkcKFW1vdmVfbWlzc2lsZV93YXlwb2ludBgUIAEoCzImLmxpZ2h0c3BlZWRkdWVsLndzLk1vdmVNaXNzaWxlV2F5cG9pbnRIABJLChdkZWxldGVfbWlzc2lsZV93YXlwb2ludBgVIAEoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVXYXlwb2ludEgAEkMKE2NsZWFyX21pc3NpbGVfcm91dGUYFiABKAsyJC5saWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZUgAEj8KEWFkZF9taXNzaWxlX3JvdXRlGBcgASgLMiIubGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVJvdXRlSAASRQoUcmVuYW1lX21pc3NpbGVfcm91dGUYGCABKAsyJS5saWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGVIABJFChRkZWxldGVfbWlzc2lsZV9yb3V0ZRgZIAEoCzIlLmxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVSb3V0ZUgAEkwKGHNldF9hY3RpdmVfbWlzc2lsZV9yb3V0ZRgaIAEoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZUgAEjoKDmxhdW5jaF9taXNzaWxlGBsgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZUgAEjAKCWRhZ19zdGFydBgeIAEoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0SAASMgoKZGFnX2NhbmNlbBgfIAEoCzIcLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ0NhbmNlbEgAEjcKDWRhZ19zdG9yeV9hY2sYICABKAsyHi5saWdodHNwZWVkZHVlbC53cy5EYWdTdG9yeUFja0gAEi4KCGRhZ19saXN0GCEgASgLMhoubGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdEgAEkEKEm1pc3Npb25fc3Bhd25fd2F2ZRgoIAEoCzIjLmxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TcGF3bldhdmVIABJDChNtaXNzaW9uX3N0b3J5X2V2ZW50GCkgASgLMiQubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnRIABI/ChFkYWdfbGlzdF9yZXNwb25zZRgyIAEoCzIiLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZUgAEksKF21pc3Npb25fYmVhY29uX3NuYXBzaG90GDwgASgLMigubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblNuYXBzaG90SAASRQoUbWlzc2lvbl9iZWFjb25fZGVsdGEYPSABKAsyJS5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVsdGFIAEIJCgdwYXlsb2FkIrMFCgtTdGF0ZVVwZGF0ZRILCgNub3cYASABKAESJAoCbWUYAiABKAsyGC5saWdodHNwZWVkZHVlbC53cy5HaG9zdBIoCgZnaG9zdHMYAyADKAsyGC5saWdodHNwZWVkZHVlbC53cy5HaG9zdBIpCgRtZXRhGAQgASgLMhsubGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGESLAoIbWlzc2lsZXMYBSADKAsyGi5saWdodHNwZWVkZHVlbC53cy5NaXNzaWxlEjgKDm1pc3NpbGVfY29uZmlnGAYgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZUNvbmZpZxI2ChFtaXNzaWxlX3dheXBvaW50cxgHIAMoCzIbLmxpZ2h0c3BlZWRkdWVsLndzLldheXBvaW50EjcKDm1pc3NpbGVfcm91dGVzGAggAygLMh8ubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlEhwKFGFjdGl2ZV9taXNzaWxlX3JvdXRlGAkgASgJEhoKEm5leHRfbWlzc2lsZV9yZWFkeRgKIAEoARItCgNkYWcYCyABKAsyGy5saWdodHNwZWVkZHVlbC53cy5EYWdTdGF0ZUgAiAEBEjQKCWludmVudG9yeRgMIAEoCzIcLmxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUgBiAEBEjEKBXN0b3J5GA0gASgLMh0ubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlTdGF0ZUgCiAEBEkAKDGNhcGFiaWxpdGllcxgOIAEoCzIlLmxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllc0gDiAEBQgYKBF9kYWdCDAoKX2ludmVudG9yeUIICgZfc3RvcnlCDwoNX2NhcGFiaWxpdGllcyIgCg1Sb29tRnVsbEVycm9yEg8KB21lc3NhZ2UYASABKAkiRgoKQ2xpZW50Sm9pbhIMCgRuYW1lGAEgASgJEgwKBHJvb20YAiABKAkSDQoFbWFw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IAEoARIJCgFvGAQgASgBEgoKAm1zGAUgASgBEgoKAnN1GAYgASgBEgoKAmt1GAcgASgBEgoKAmtkGAggASgBEgoKAmV4GAkgASgBIoABCgpIZWF0UGFyYW1zEgsKA21heBgBIAEoARIPCgd3YXJuX2F0GAIgASgBEhMKC292ZXJoZWF0X2F0GAMgASgBEhQKDG1hcmtlcl9zcGVlZBgEIAEoARIMCgRrX3VwGAUgASgBEg4KBmtfZG93bhgGIAEoARILCgNleHAYByABKAEidwoNVXBncmFkZUVmZmVjdBIyCgR0eXBlGAEgASgOMiQubGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFR5cGUSFAoKbXVsdGlwbGllchgCIAEoAUgAEhMKCXVubG9ja19pZBgDIAEoCUgAQgcKBXZhbHVlInkKElBsYXllckNhcGFiaWxpdGllcxIYChBzcGVlZF9tdWx0aXBsaWVyGAEgASgBEhkKEXVubG9ja2VkX21pc3NpbGVzGAIgAygJEhUKDWhlYXRfY2FwYWNpdHkYAyABKAESFwoPaGVhdF9lZmZpY2llbmN5GAQgASgBIvQBCgdEYWdOb2RlEgoKAmlkGAEgASgJEiwKBGtpbmQYAiABKA4yHi5saWdodHNwZWVkZHVlbC53cy5EYWdOb2RlS2luZBINCgVsYWJlbBgDIAEoCRIwCgZzdGF0dXMYBCABKA4yIC5saWdodHNwZWVkZHVlbC53cy5EYWdOb2RlU3RhdHVzEhMKC3JlbWFpbmluZ19zGAUgASgBEhIKCmR1cmF0aW9uX3MYBiABKAESEgoKcmVwZWF0YWJsZRgHIAEoCBIxCgdlZmZlY3RzGAggAygLMiAubGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdCI1CghEYWdTdGF0ZRIpCgVub2RlcxgBIAMoCzIaLmxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGUiGwoIRGFnU3RhcnQSDwoHbm9kZV9pZBgBIAEoCSIcCglEYWdDYW5jZWwSDwoHbm9kZV9pZBgBIAEoCSIxCgtEYWdTdG9yeUFjaxIPCgdub2RlX2lkGAEgASgJEhEKCWNob2ljZV9pZBgCIAEoCSIJCgdEYWdMaXN0IjsKD0RhZ0xpc3RSZXNwb25zZRIoCgNkYWcYASABKAsyGy5saWdodHNwZWVkZHVlbC53cy5EYWdTdGF0ZSJaCg1JbnZlbnRvcnlJdGVtEgwKBHR5cGUYASABKAkSEgoKdmFyaWFudF9pZBgCIAEoCRIVCg1oZWF0X2NhcGFjaXR5GAMgASgBEhAKCHF1YW50aXR5GAQgASgFIjwKCUludmVudG9yeRIvCgVpdGVtcxgBIAMoCzIgLmxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW0iLwoTU3RvcnlEaWFsb2d1ZUNob2ljZRIKCgJpZBgBIAEoCRIMCgR0ZXh0GAIgASgJIi8KEFN0b3J5VHV0b3JpYWxUaXASDQoFdGl0bGUYASABKAkSDAoEdGV4dBgCIAEoCSKAAgoNU3RvcnlEaWFsb2d1ZRIPCgdzcGVha2VyGAEgASgJEgwKBHRleHQYAiABKAkSLgoGaW50ZW50GAMgASgOMh4ubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlJbnRlbnQSFgoOY29udGludWVfbGFiZWwYBCABKAkSNwoHY2hvaWNlcxgFIAMoCzImLmxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2USPgoMdHV0b3JpYWxfdGlwGAYgASgLMiMubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlUdXRvcmlhbFRpcEgAiAEBQg8KDV90dXRvcmlhbF90aXAiRAoKU3RvcnlFdmVudBISCgpjaGFwdGVyX2lkGAEgASgJEg8KB25vZGVfaWQYAiABKAkSEQoJdGltZXN0YW1wGAMgASgBIpcCCgpTdG9yeVN0YXRlEhMKC2FjdGl2ZV9ub2RlGAEgASgJEjcKCGRpYWxvZ3VlGAIgASgLMiAubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZUgAiAEBEhEKCWF2YWlsYWJsZRgDIAMoCRI3CgVmbGFncxgEIAMoCzIoLmxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGUuRmxhZ3NFbnRyeRI0Cg1yZWNlbnRfZXZlbnRzGAUgAygLMh0ubGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlFdmVudBosCgpGbGFnc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCDoCOAFCCwoJX2RpYWxvZ3VlIiYKEE1pc3Npb25TcGF3bldhdmUSEgoKd2F2ZV9pbmRleBgBIAEoBSIyChFNaXNzaW9uU3RvcnlFdmVudBINCgVldmVudBgBIAEoCRIOCgZiZWFjb24YAiABKAUiigIKFU1pc3Npb25CZWFjb25TbmFwc2hvdBISCgptaXNzaW9uX2lkGAEgASgJEhMKC2xheW91dF9zZWVkGAIgASgEEhMKC3NlcnZlcl90aW1lGAMgASgBEjsKB2JlYWNvbnMYBCADKAsyKi5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRGVmaW5pdGlvbhI3CgdwbGF5ZXJzGAUgAygLMiYubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllchI9CgplbmNvdW50ZXJzGAYgAygLMikubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlciJqChdNaXNzaW9uQmVhY29uRGVmaW5pdGlvbhIKCgJpZBgBIAEoCRIPCgdvcmRpbmFsGAIgASgFEgkKAXgYAyABKAESCQoBeRgEIAEoARIOCgZyYWRpdXMYBSABKAESDAoEc2VlZBgGIAEoAyKkAgoTTWlzc2lvbkJlYWNvblBsYXllchIRCglwbGF5ZXJfaWQYASABKAkSFQoNY3VycmVudF9pbmRleBgCIAEoBRISCgpob2xkX2FjY3VtGAMgASgBEhUKDWhvbGRfcmVxdWlyZWQYBCABKAESFQoNYWN0aXZlX2JlYWNvbhgFIAEoCRISCgpkaXNjb3ZlcmVkGAYgAygJEhEKCWNvbXBsZXRlZBgHIAMoCRJICgljb29sZG93bnMYCCADKAsyNS5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyLkNvb2xkb3duc0VudHJ5GjAKDkNvb2xkb3duc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoAToCOAEilgEKEk1pc3Npb25CZWFjb25EZWx0YRI8CgdwbGF5ZXJzGAEgAygLMisubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllckRlbHRhEkIKCmVuY291bnRlcnMYAiADKAsyLi5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnQi4gEKGE1pc3Npb25CZWFjb25QbGF5ZXJEZWx0YRI3CgR0eXBlGAEgASgOMikubGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlbHRhVHlwZRIRCglwbGF5ZXJfaWQYAiABKAkSEQoJYmVhY29uX2lkGAMgASgJEg8KB29yZGluYWwYBCABKAUSEgoKaG9sZF9hY2N1bRgFIAEoARIVCg1ob2xkX3JlcXVpcmVkGAYgASgBEhYKDmNvb2xkb3duX3VudGlsGAcgASgBEhMKC3NlcnZlcl90aW1lGAggASgBIn0KFk1pc3Npb25CZWFjb25FbmNvdW50ZXISFAoMZW5jb3VudGVyX2lkGAEgASgJEhEKCWJlYWNvbl9pZBgCIAEoCRISCgp3YXZlX2luZGV4GAMgASgFEhIKCnNwYXduZWRfYXQYBCABKAESEgoKZXhwaXJlc19hdBgFIAEoASLOAQobTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50EjoKBHR5cGUYASABKA4yLC5saWdodHNwZWVkZHVlbC53cy5NaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlEhQKDGVuY291bnRlcl9pZBgCIAEoCRIRCgliZWFjb25faWQYAyABKAkSEgoKd2F2ZV9pbmRleBgEIAEoBRISCgpzcGF3bmVkX2F0GAUgASgBEhIKCmV4cGlyZXNfYXQYBiABKAESDgoGcmVhc29uGAcgASgJKqsBCg1EYWdOb2RlU3RhdHVzEh8KG0RBR19OT0RFX1NUQVRVU19VTlNQRUNJRklFRBAAEhoKFkRBR19OT0RFX1NUQVRVU19MT0NLRUQQARIdChlEQUdfTk9ERV9TVEFUVVNfQVZBSUxBQkxFEAISHwobREFHX05PREVfU1RBVFVTX0lOX1BST0dSRVNTEAMSHQoZREFHX05PREVfU1RBVFVTX0NPTVBMRVRFRBAEKpEBCgtEYWdOb2RlS2luZBIdChlEQUdfTk9ERV9LSU5EX1VOU1BFQ0lGSUVEEAASGQoVREFHX05PREVfS0lORF9GQUNUT1JZEAESFgoSREFHX05PREVfS0lORF9VTklUEAISFwoTREFHX05PREVfS0lORF9TVE9SWRADEhcKE0RBR19OT0RFX0tJTkRfQ1JBRlQQBCraAQoRVXBncmFkZUVmZmVjdFR5cGUSIwofVVBHUkFERV9FRkZFQ1RfVFlQRV9VTlNQRUNJRklFRBAAEigKJFVQR1JBREVfRUZGRUNUX1RZUEVfU1BFRURfTVVMVElQTElFUhABEiYKIlVQR1JBREVfRUZGRUNUX1RZUEVfTUlTU0lMRV9VTkxPQ0sQAhIlCiFVUEdSQURFX0VGRkVDVF9UWVBFX0hFQVRfQ0FQQUNJVFkQAxInCiNVUEdSQURFX0VGRkVDVF9UWVBFX0hFQVRfRUZGSUNJRU5DWRAEKlwKC1N0b3J5SW50ZW50EhwKGFNUT1JZX0lOVEVOVF9VTlNQRUNJRklFRBAAEhgKFFNUT1JZX0lOVEVOVF9GQUNUT1JZEAESFQoRU1RPUllfSU5URU5UX1VOSVQQAiqgAgoWTWlzc2lvbkJlYWNvbkRlbHRhVHlwZRIkCiBNSVNTSU9OX0JFQUNPTl9ERUxUQV9VTlNQRUNJRklFRBAAEiMKH01JU1NJT05fQkVBQ09OX0RFTFRBX0RJU0NPVkVSRUQQARImCiJNSVNTSU9OX0JFQUNPTl9ERUxUQV9IT0xEX1BST0dSRVNTEAISIwofTUlTU0lPTl9CRUFDT05fREVMVEFfSE9MRF9SRVNFVBADEh8KG01JU1NJT05fQkVBQ09OX0RFTFRBX0xPQ0tFRBAEEiEKHU1JU1NJT05fQkVBQ09OX0RFTFRBX0NPT0xET1dOEAUSKgomTUlTU0lPTl9CRUFDT05fREVMVEFfTUlTU0lPTl9DT01QTEVURUQQBirXAQoZTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZRInCiNNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9VTlNQRUNJRklFRBAAEiMKH01JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1NQQVdORUQQARIjCh9NSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9DTEVBUkVEEAISIwofTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfVElNRU9VVBADEiIKHk1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1BVUkdFRBAEQiJaIExpZ2h0U3BlZWREdWVsL2ludGVybmFsL3Byb3RvL3dzYgZwcm90bzM");
      WsEnvelopeSchema = /* @__PURE__ */ messageDesc(file_proto_ws_messages, 0);
    }
  });

  // web/src/proto_helpers.ts
  function protoToGhost(proto) {
    var _a;
    return {
      id: proto.id,
      x: proto.x,
      y: proto.y,
      vx: proto.vx,
      vy: proto.vy,
      t: proto.t,
      self: proto.self,
      waypoints: (_a = proto.waypoints) == null ? void 0 : _a.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed })),
      currentWaypointIndex: proto.currentWaypointIndex,
      hp: proto.hp,
      kills: proto.kills,
      heat: proto.heat ? {
        v: proto.heat.v,
        m: proto.heat.m,
        w: proto.heat.w,
        o: proto.heat.o,
        ms: proto.heat.ms,
        su: proto.heat.su,
        ku: proto.heat.ku,
        kd: proto.heat.kd,
        ex: proto.heat.ex
      } : void 0
    };
  }
  function protoToMissile(proto) {
    return {
      id: proto.id,
      owner: proto.owner,
      self: proto.self,
      x: proto.x,
      y: proto.y,
      vx: proto.vx,
      vy: proto.vy,
      t: proto.t,
      agroRadius: proto.agroRadius,
      lifetime: proto.lifetime,
      launch: proto.launchTime,
      expires: proto.expiresAt,
      targetId: proto.targetId || void 0,
      heat: proto.heat ? {
        v: proto.heat.v,
        m: proto.heat.m,
        w: proto.heat.w,
        o: proto.heat.o,
        ms: proto.heat.ms,
        su: proto.heat.su,
        ku: proto.heat.ku,
        kd: proto.heat.kd,
        ex: proto.heat.ex
      } : void 0
    };
  }
  function protoToState(proto) {
    const base = {
      now: proto.now,
      me: proto.me ? protoToGhost(proto.me) : null,
      ghosts: proto.ghosts.map(protoToGhost),
      missiles: proto.missiles.map(protoToMissile),
      meta: proto.meta ? {
        c: proto.meta.c,
        w: proto.meta.w,
        h: proto.meta.h
      } : { c: 299, w: 16e3, h: 9e3 },
      missileConfig: proto.missileConfig ? {
        speed: proto.missileConfig.speed,
        speedMin: proto.missileConfig.speedMin,
        speedMax: proto.missileConfig.speedMax,
        agroMin: proto.missileConfig.agroMin,
        agroRadius: proto.missileConfig.agroRadius,
        lifetime: proto.missileConfig.lifetime,
        heatConfig: proto.missileConfig.heatConfig ? {
          max: proto.missileConfig.heatConfig.max,
          warnAt: proto.missileConfig.heatConfig.warnAt,
          overheatAt: proto.missileConfig.heatConfig.overheatAt,
          markerSpeed: proto.missileConfig.heatConfig.markerSpeed,
          kUp: proto.missileConfig.heatConfig.kUp,
          kDown: proto.missileConfig.heatConfig.kDown,
          exp: proto.missileConfig.heatConfig.exp
        } : void 0
      } : {
        speed: 0,
        speedMin: 0,
        speedMax: 0,
        agroMin: 0,
        agroRadius: 0,
        lifetime: 0
      },
      missileWaypoints: proto.missileWaypoints.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed })),
      missileRoutes: proto.missileRoutes.map((r) => ({
        id: r.id,
        name: r.name,
        waypoints: r.waypoints.map((wp) => ({ x: wp.x, y: wp.y, speed: wp.speed }))
      })),
      activeMissileRoute: proto.activeMissileRoute,
      nextMissileReady: proto.nextMissileReady
    };
    return {
      ...base,
      dag: proto.dag ? protoToDagState(proto.dag) : void 0,
      inventory: proto.inventory ? protoToInventory(proto.inventory) : void 0,
      story: proto.story ? protoToStoryState(proto.story) : void 0,
      capabilities: proto.capabilities ? protoToPlayerCapabilities(proto.capabilities) : void 0
    };
  }
  function protoStatusToString(status) {
    switch (status) {
      case 1 /* LOCKED */:
        return "locked";
      case 2 /* AVAILABLE */:
        return "available";
      case 3 /* IN_PROGRESS */:
        return "in_progress";
      case 4 /* COMPLETED */:
        return "completed";
      default:
        return "unknown";
    }
  }
  function protoKindToString(kind) {
    switch (kind) {
      case 1 /* FACTORY */:
        return "factory";
      case 2 /* UNIT */:
        return "unit";
      case 3 /* STORY */:
        return "story";
      case 4 /* CRAFT */:
        return "craft";
      default:
        return "unknown";
    }
  }
  function protoIntentToString(intent) {
    switch (intent) {
      case 1 /* FACTORY */:
        return "factory";
      case 2 /* UNIT */:
        return "unit";
      default:
        return "";
    }
  }
  function protoEffectTypeToString(type) {
    const typeMap = {
      1: "speed_multiplier",
      2: "missile_unlock",
      3: "heat_capacity",
      4: "heat_efficiency"
    };
    return typeMap[type] || "unknown";
  }
  function protoToUpgradeEffect(proto) {
    return {
      type: protoEffectTypeToString(proto.type),
      value: proto.value.case === "multiplier" ? proto.value.value : proto.value.value
    };
  }
  function protoToPlayerCapabilities(proto) {
    return {
      speedMultiplier: proto.speedMultiplier,
      unlockedMissiles: proto.unlockedMissiles,
      heatCapacity: proto.heatCapacity,
      heatEfficiency: proto.heatEfficiency
    };
  }
  function protoToDagNode(proto) {
    var _a;
    return {
      id: proto.id,
      kind: protoKindToString(proto.kind),
      label: proto.label,
      status: protoStatusToString(proto.status),
      remainingS: proto.remainingS,
      durationS: proto.durationS,
      repeatable: proto.repeatable,
      effects: ((_a = proto.effects) == null ? void 0 : _a.map(protoToUpgradeEffect)) || []
    };
  }
  function protoToDagState(proto) {
    return {
      nodes: proto.nodes.map(protoToDagNode)
    };
  }
  function protoToInventoryItem(proto) {
    return {
      type: proto.type,
      variantId: proto.variantId,
      heatCapacity: proto.heatCapacity,
      quantity: proto.quantity
    };
  }
  function protoToInventory(proto) {
    return {
      items: proto.items.map(protoToInventoryItem)
    };
  }
  function protoToStoryDialogue(proto) {
    return {
      speaker: proto.speaker,
      text: proto.text,
      intent: protoIntentToString(proto.intent),
      continueLabel: proto.continueLabel,
      choices: proto.choices.map((c) => ({ id: c.id, text: c.text })),
      tutorialTip: proto.tutorialTip ? {
        title: proto.tutorialTip.title,
        text: proto.tutorialTip.text
      } : void 0
    };
  }
  function protoToStoryState(proto) {
    return {
      activeNode: proto.activeNode,
      dialogue: proto.dialogue ? protoToStoryDialogue(proto.dialogue) : void 0,
      available: proto.available,
      flags: proto.flags,
      recentEvents: proto.recentEvents.map((e) => ({
        chapterId: e.chapterId,
        nodeId: e.nodeId,
        timestamp: e.timestamp
      }))
    };
  }
  var init_proto_helpers = __esm({
    "web/src/proto_helpers.ts"() {
      "use strict";
      init_ws_messages_pb();
    }
  });

  // web/src/net.ts
  function sendProto(envelope) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    const bytes = toBinary(WsEnvelopeSchema, envelope);
    ws.send(bytes);
  }
  function sendMessage(payload) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    if (typeof payload === "object" && payload !== null && "type" in payload) {
      const msg = payload;
      switch (msg.type) {
        case "join":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "join",
              value: {
                name: msg.name || "",
                room: msg.room || "",
                mapW: msg.map_w || 0,
                mapH: msg.map_h || 0
              }
            }
          }));
          return;
        case "spawn_bot":
          sendProto(create(WsEnvelopeSchema, {
            payload: { case: "spawnBot", value: {} }
          }));
          return;
        case "add_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addWaypoint",
              value: { x: msg.x, y: msg.y, speed: msg.speed }
            }
          }));
          return;
        case "update_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "updateWaypoint",
              value: { index: msg.index, speed: msg.speed }
            }
          }));
          return;
        case "move_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "moveWaypoint",
              value: { index: msg.index, x: msg.x, y: msg.y }
            }
          }));
          return;
        case "delete_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteWaypoint",
              value: { index: msg.index }
            }
          }));
          return;
        case "clear_waypoints":
          sendProto(create(WsEnvelopeSchema, {
            payload: { case: "clearWaypoints", value: {} }
          }));
          return;
        case "configure_missile":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "configureMissile",
              value: { missileSpeed: msg.missile_speed, missileAgro: msg.missile_agro }
            }
          }));
          return;
        case "launch_missile":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "launchMissile",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "add_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addMissileWaypoint",
              value: { routeId: msg.route_id || "", x: msg.x, y: msg.y, speed: msg.speed }
            }
          }));
          return;
        case "update_missile_waypoint_speed":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "updateMissileWaypointSpeed",
              value: { routeId: msg.route_id || "", index: msg.index, speed: msg.speed }
            }
          }));
          return;
        case "move_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "moveMissileWaypoint",
              value: { routeId: msg.route_id || "", index: msg.index, x: msg.x, y: msg.y }
            }
          }));
          return;
        case "delete_missile_waypoint":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteMissileWaypoint",
              value: { routeId: msg.route_id || "", index: msg.index }
            }
          }));
          return;
        case "clear_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "clearMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "add_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "addMissileRoute",
              value: { name: msg.name || "" }
            }
          }));
          return;
        case "rename_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "renameMissileRoute",
              value: { routeId: msg.route_id || "", name: msg.name || "" }
            }
          }));
          return;
        case "delete_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "deleteMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "set_active_missile_route":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "setActiveMissileRoute",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "dag_start":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "dagStart",
              value: { nodeId: msg.node_id || "" }
            }
          }));
          return;
        case "dag_story_ack":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "dagStoryAck",
              value: { nodeId: msg.node_id || "", choiceId: msg.choice_id || "" }
            }
          }));
          return;
        case "clear_missile_waypoints":
          sendProto(create(WsEnvelopeSchema, {
            payload: {
              case: "clearMissileWaypoints",
              value: { routeId: msg.route_id || "" }
            }
          }));
          return;
        case "mission:accept":
          if (ws && ws.readyState === WebSocket.OPEN) {
            ws.send(JSON.stringify(msg));
          }
          return;
      }
    }
  }
  function sendDagStart(nodeId) {
    if (!ws || ws.readyState !== WebSocket.OPEN) return;
    sendProto(create(WsEnvelopeSchema, {
      payload: {
        case: "dagStart",
        value: { nodeId }
      }
    }));
  }
  function acceptMission(missionId) {
    var _a, _b;
    if (!missionId) return;
    if (!ws || ws.readyState !== WebSocket.OPEN) {
      if (connectedState && connectedBus) {
        const mission = ensureMissionState(connectedState);
        mission.missionId = missionId;
        mission.status = "active";
        mission.startTime = (_a = mission.startTime) != null ? _a : getApproxServerNow(connectedState);
        connectedBus.emit("mission:start", { missionId });
      }
      return;
    }
    ws.send(JSON.stringify({ type: "mission:accept", payload: { missionId } }));
    if (connectedState && connectedBus) {
      const mission = ensureMissionState(connectedState);
      mission.missionId = missionId;
      mission.status = "active";
      mission.startTime = (_b = mission.startTime) != null ? _b : getApproxServerNow(connectedState);
      connectedBus.emit("mission:start", { missionId });
    }
  }
  function connectWebSocket({
    room,
    state,
    bus,
    onStateUpdated,
    onOpen,
    mapW,
    mapH,
    mode,
    missionId
  }) {
    const protocol = window.location.protocol === "https:" ? "wss://" : "ws://";
    let wsUrl = `${protocol}${window.location.host}/ws?room=${encodeURIComponent(room)}`;
    if (mapW && mapW > 0) {
      wsUrl += `&mapW=${mapW}`;
    }
    if (mapH && mapH > 0) {
      wsUrl += `&mapH=${mapH}`;
    }
    if (mode) {
      wsUrl += `&mode=${encodeURIComponent(mode)}`;
    }
    if (missionId) {
      wsUrl += `&mission=${encodeURIComponent(missionId)}`;
    }
    ws = new WebSocket(wsUrl);
    connectedState = state;
    connectedBus = bus;
    ws.binaryType = "arraybuffer";
    ws.addEventListener("open", () => {
      console.log("[ws] open");
      const socket = ws;
      if (socket && onOpen) {
        onOpen(socket);
      }
    });
    ws.addEventListener("close", () => {
      console.log("[ws] close");
      connectedState = null;
      connectedBus = null;
    });
    let prevRoutes = /* @__PURE__ */ new Map();
    let prevActiveRoute = null;
    let prevMissileCount = 0;
    ws.addEventListener("message", (event) => {
      if (event.data instanceof ArrayBuffer) {
        try {
          const envelope = fromBinary(WsEnvelopeSchema, new Uint8Array(event.data));
          if (envelope.payload.case === "stateUpdate") {
            const protoState = protoToState(envelope.payload.value);
            handleProtoStateMessage(state, protoState, bus, prevRoutes, prevActiveRoute, prevMissileCount);
            prevRoutes = new Map(state.missileRoutes.map((route) => [route.id, cloneRoute(route)]));
            prevActiveRoute = state.activeMissileRouteId;
            prevMissileCount = state.missiles.length;
            bus.emit("state:updated");
            onStateUpdated == null ? void 0 : onStateUpdated();
          } else if (envelope.payload.case === "roomFull") {
            console.error("[ws] Room full:", envelope.payload.value.message);
            bus.emit("connection:error", { message: envelope.payload.value.message });
          } else if (envelope.payload.case === "dagListResponse") {
            const dagData = envelope.payload.value.dag;
            if (dagData) {
              bus.emit("dag:list", protoToDagState(dagData));
            }
          } else if (envelope.payload.case === "missionBeaconSnapshot") {
            handleMissionSnapshot(state, envelope.payload.value, bus);
          } else if (envelope.payload.case === "missionBeaconDelta") {
            handleMissionDelta(state, envelope.payload.value, bus);
          } else {
            console.warn("[ws] Unknown protobuf message type:", envelope.payload.case);
          }
        } catch (err) {
          console.error("[ws] Failed to decode protobuf message:", err);
        }
        return;
      }
      if (typeof event.data === "string") {
        handleJsonMessage(state, bus, event.data);
        return;
      }
      if (event.data instanceof Blob) {
        event.data.text().then((text) => handleJsonMessage(state, bus, text)).catch((err) => console.error("[ws] Failed to read text message:", err));
        return;
      }
    });
  }
  function handleJsonMessage(state, bus, raw) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (!raw) {
      return;
    }
    let msg;
    try {
      msg = JSON.parse(raw);
    } catch (err) {
      console.error("[ws] Failed to parse JSON message:", err);
      return;
    }
    if (!msg || typeof msg.type !== "string") {
      return;
    }
    switch (msg.type) {
      case "mission:offer": {
        const payload = msg.payload;
        if (!payload) {
          return;
        }
        const mission = ensureMissionState(state);
        mission.missionId = (_b = (_a = payload.missionId) != null ? _a : mission.missionId) != null ? _b : "";
        mission.templateId = (_c = payload.templateId) != null ? _c : "";
        mission.displayName = (_e = (_d = payload.displayName) != null ? _d : mission.displayName) != null ? _e : "";
        mission.archetype = (_g = (_f = payload.archetype) != null ? _f : mission.archetype) != null ? _g : "";
        mission.timeout = Number.isFinite(payload.timeout) ? Number(payload.timeout) : 0;
        mission.status = "idle";
        mission.startTime = null;
        mission.completionTime = null;
        mission.progress = 0;
        mission.objectives = [];
        mission.objectiveSummaries = Array.isArray(payload.objectives) ? [...payload.objectives] : [];
        mission.serverTime = getApproxServerNow(state);
        bus.emit("mission:offered", {
          missionId: mission.missionId,
          templateId: mission.templateId,
          displayName: mission.displayName,
          archetype: mission.archetype,
          objectives: mission.objectiveSummaries,
          timeout: mission.timeout
        });
        break;
      }
      case "mission:update": {
        const payload = msg.payload;
        if (!payload) {
          return;
        }
        const mission = ensureMissionState(state);
        if (payload.missionId) {
          mission.missionId = payload.missionId;
        }
        if (Number.isFinite(payload.serverTime)) {
          mission.serverTime = Number(payload.serverTime);
        }
        if (typeof payload.status === "string") {
          mission.status = payload.status;
        }
        if (mission.status === "active" && mission.startTime == null) {
          mission.startTime = getApproxServerNow(state);
        }
        if (payload.objectives) {
          const objectives = updateMissionObjectives(state, bus, payload.objectives);
          bus.emit("mission:update", {
            missionId: mission.missionId,
            status: mission.status,
            objectives,
            serverTime: mission.serverTime
          });
        } else {
          bus.emit("mission:update", {
            missionId: mission.missionId,
            status: mission.status,
            objectives: mission.objectives,
            serverTime: mission.serverTime
          });
        }
        if (mission.status === "completed") {
          mission.completionTime = mission.serverTime;
          mission.progress = 1;
          bus.emit("mission:completed", { missionId: mission.missionId });
        } else if (mission.status === "failed") {
          mission.completionTime = mission.serverTime;
          bus.emit("mission:failed", { missionId: mission.missionId });
        }
        break;
      }
      case "debug:beacons": {
        const payload = msg.payload;
        const beaconsArray = Array.isArray(payload == null ? void 0 : payload.beacons) ? payload.beacons : [];
        const beacons = beaconsArray.map(normalizeDebugBeacon);
        state.debug.beacons = beacons;
        state.debug.lastReceivedAt = getApproxServerNow(state);
        bus.emit("debug:beacons", { beacons });
        break;
      }
      case "debug:encounters": {
        const payload = msg.payload;
        const encountersArray = Array.isArray(payload == null ? void 0 : payload.encounters) ? payload.encounters : [];
        const encounters = encountersArray.map(normalizeDebugEncounter);
        state.debug.encounters = encounters;
        state.debug.lastReceivedAt = getApproxServerNow(state);
        bus.emit("debug:encounters", { encounters });
        break;
      }
      default:
        break;
    }
  }
  function updateMissionObjectives(state, bus, objectiveDTOs) {
    const mission = ensureMissionState(state);
    const objectives = Array.isArray(objectiveDTOs) ? objectiveDTOs.map((obj) => {
      var _a, _b, _c, _d;
      return {
        id: (_a = obj.id) != null ? _a : "",
        type: (_b = obj.type) != null ? _b : "unknown",
        progress: clampProgress((_c = obj.progress) != null ? _c : 0),
        complete: Boolean(obj.complete),
        description: (_d = obj.description) != null ? _d : ""
      };
    }) : [];
    mission.objectives = objectives;
    mission.progress = calculateMissionProgress(objectives);
    bus.emit("mission:objectives-updated", { objectives });
    bus.emit("mission:progress-changed", { progress: mission.progress, objectives });
    return objectives;
  }
  function calculateMissionProgress(objectives) {
    if (!objectives || objectives.length === 0) {
      return 0;
    }
    const total = objectives.reduce((sum, obj) => sum + clampProgress(obj.progress), 0);
    const mean = total / objectives.length;
    return clampProgress(mean);
  }
  function normalizeDebugBeacon(raw) {
    var _a;
    const id = typeof (raw == null ? void 0 : raw.id) === "string" ? raw.id : String((_a = raw == null ? void 0 : raw.id) != null ? _a : "");
    const x = Number(raw == null ? void 0 : raw.x);
    const y = Number(raw == null ? void 0 : raw.y);
    const tags = Array.isArray(raw == null ? void 0 : raw.tags) ? raw.tags.map((tag) => String(tag != null ? tag : "")) : [];
    return {
      id,
      x: Number.isFinite(x) ? x : 0,
      y: Number.isFinite(y) ? y : 0,
      tags,
      pinned: Boolean(raw == null ? void 0 : raw.pinned)
    };
  }
  function normalizeDebugEncounter(raw) {
    var _a, _b;
    const encounterId = typeof (raw == null ? void 0 : raw.encounterId) === "string" ? raw.encounterId : String((_a = raw == null ? void 0 : raw.encounterId) != null ? _a : "");
    const beaconId = typeof (raw == null ? void 0 : raw.beaconId) === "string" ? raw.beaconId : String((_b = raw == null ? void 0 : raw.beaconId) != null ? _b : "");
    const spawnTimeNum = Number(raw == null ? void 0 : raw.spawnTime);
    const lifetimeNum = Number(raw == null ? void 0 : raw.lifetime);
    const entityCountNum = Number(raw == null ? void 0 : raw.entityCount);
    return {
      encounterId,
      beaconId,
      spawnTime: Number.isFinite(spawnTimeNum) ? spawnTimeNum : 0,
      lifetime: Number.isFinite(lifetimeNum) ? Math.max(0, lifetimeNum) : 0,
      entityCount: Number.isFinite(entityCountNum) ? Math.max(0, Math.floor(entityCountNum)) : 0
    };
  }
  function handleProtoStateMessage(state, msg, bus, prevRoutes, prevActiveRoute, prevMissileCount) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t;
    state.now = msg.now;
    state.nowSyncedAt = monotonicNow();
    state.nextMissileReadyAt = msg.nextMissileReady;
    if (msg.me) {
      state.me = {
        x: msg.me.x,
        y: msg.me.y,
        vx: msg.me.vx,
        vy: msg.me.vy,
        hp: msg.me.hp,
        kills: msg.me.kills,
        waypoints: (_a = msg.me.waypoints) != null ? _a : [],
        currentWaypointIndex: (_b = msg.me.currentWaypointIndex) != null ? _b : 0,
        heat: msg.me.heat ? convertHeatView(msg.me.heat, state.nowSyncedAt, state.now) : void 0
      };
    } else {
      state.me = null;
    }
    state.ghosts = msg.ghosts;
    state.missiles = msg.missiles;
    const newRoutes = msg.missileRoutes;
    diffRoutes(prevRoutes, newRoutes, bus);
    state.missileRoutes = newRoutes;
    const nextActive = msg.activeMissileRoute || (newRoutes.length > 0 ? newRoutes[0].id : null);
    state.activeMissileRouteId = nextActive;
    if (nextActive !== prevActiveRoute) {
      bus.emit("missile:activeRouteChanged", { routeId: nextActive });
    }
    if (msg.missileConfig) {
      updateMissileLimits(state, {
        speedMin: msg.missileConfig.speedMin,
        speedMax: msg.missileConfig.speedMax,
        agroMin: msg.missileConfig.agroMin
      });
      const prevHeat = state.missileConfig.heatParams;
      let heatParams;
      if (msg.missileConfig.heatConfig) {
        const heatConfig = msg.missileConfig.heatConfig;
        heatParams = {
          max: (_d = (_c = heatConfig.max) != null ? _c : prevHeat == null ? void 0 : prevHeat.max) != null ? _d : 0,
          warnAt: (_f = (_e = heatConfig.warnAt) != null ? _e : prevHeat == null ? void 0 : prevHeat.warnAt) != null ? _f : 0,
          overheatAt: (_h = (_g = heatConfig.overheatAt) != null ? _g : prevHeat == null ? void 0 : prevHeat.overheatAt) != null ? _h : 0,
          markerSpeed: (_j = (_i = heatConfig.markerSpeed) != null ? _i : prevHeat == null ? void 0 : prevHeat.markerSpeed) != null ? _j : 0,
          kUp: (_l = (_k = heatConfig.kUp) != null ? _k : prevHeat == null ? void 0 : prevHeat.kUp) != null ? _l : 0,
          kDown: (_n = (_m = heatConfig.kDown) != null ? _m : prevHeat == null ? void 0 : prevHeat.kDown) != null ? _n : 0,
          exp: (_p = (_o = heatConfig.exp) != null ? _o : prevHeat == null ? void 0 : prevHeat.exp) != null ? _p : 1
        };
      }
      const sanitized = sanitizeMissileConfig({
        speed: msg.missileConfig.speed,
        agroRadius: msg.missileConfig.agroRadius,
        heatParams
      }, state.missileConfig, state.missileLimits);
      sanitized.lifetime = msg.missileConfig.lifetime;
      state.missileConfig = sanitized;
    }
    state.worldMeta = {
      c: msg.meta.c,
      w: msg.meta.w,
      h: msg.meta.h
    };
    if (msg.inventory) {
      state.inventory = {
        items: msg.inventory.items.map((item) => ({
          type: item.type,
          variant_id: item.variantId,
          heat_capacity: item.heatCapacity,
          quantity: item.quantity
        }))
      };
    }
    if (msg.dag) {
      state.dag = {
        nodes: msg.dag.nodes.map((n) => ({
          id: n.id,
          kind: n.kind,
          label: n.label,
          status: n.status,
          remaining_s: n.remainingS,
          duration_s: n.durationS,
          repeatable: n.repeatable,
          effects: n.effects
        }))
      };
    }
    if (msg.capabilities) {
      state.capabilities = {
        speedMultiplier: msg.capabilities.speedMultiplier,
        unlockedMissiles: msg.capabilities.unlockedMissiles,
        heatCapacity: msg.capabilities.heatCapacity,
        heatEfficiency: msg.capabilities.heatEfficiency
      };
    }
    if (msg.story) {
      const prevActiveNode = (_r = (_q = state.story) == null ? void 0 : _q.activeNode) != null ? _r : null;
      let dialogue = null;
      if (msg.story.dialogue) {
        const d = msg.story.dialogue;
        dialogue = {
          speaker: d.speaker,
          text: d.text,
          intent: d.intent,
          typingSpeedMs: 18,
          continueLabel: d.continueLabel,
          choices: (_s = d.choices) == null ? void 0 : _s.map((c) => ({ id: c.id, text: c.text })),
          tutorialTip: d.tutorialTip ? {
            title: d.tutorialTip.title,
            text: d.tutorialTip.text
          } : void 0
        };
      }
      state.story = {
        activeNode: msg.story.activeNode || null,
        dialogue,
        available: msg.story.available,
        flags: msg.story.flags,
        recentEvents: msg.story.recentEvents.map((evt) => ({
          chapter: evt.chapterId,
          node: evt.nodeId,
          timestamp: evt.timestamp
        }))
      };
      if (state.story.activeNode !== prevActiveNode && state.story.activeNode) {
        bus.emit("story:nodeActivated", {
          nodeId: state.story.activeNode,
          dialogue: (_t = state.story.dialogue) != null ? _t : void 0
        });
      }
    }
    const newMissileCount = state.missiles.length;
    if (newMissileCount > prevMissileCount) {
      for (let i = prevMissileCount; i < newMissileCount; i++) {
        const m = state.missiles[i];
        if (m && m.self) {
          bus.emit("missile:launched", { routeId: msg.activeMissileRoute || "" });
        }
      }
    }
    const cooldownRemaining = Math.max(0, state.nextMissileReadyAt - getApproxServerNow(state));
    bus.emit("missile:cooldownUpdated", { secondsRemaining: cooldownRemaining });
  }
  function handleMissionSnapshot(state, snapshot, bus) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
    const mission = ensureMissionState(state);
    const previousMissionId = mission.missionId;
    mission.missionId = snapshot.missionId || mission.missionId || "";
    mission.layoutSeed = Number((_b = (_a = snapshot.layoutSeed) != null ? _a : mission.layoutSeed) != null ? _b : 0);
    mission.serverTime = Number.isFinite(snapshot.serverTime) ? snapshot.serverTime : mission.serverTime;
    const previousBeacons = new Map(mission.beacons.map((b) => [b.id, b]));
    mission.beacons = snapshot.beacons.slice().sort((a, b) => a.ordinal - b.ordinal).map((def) => {
      var _a2, _b2, _c2;
      const prev = previousBeacons.get(def.id);
      return {
        id: def.id,
        ordinal: def.ordinal,
        x: def.x,
        y: def.y,
        radius: def.radius,
        seed: Number(def.seed || 0),
        discovered: (_a2 = prev == null ? void 0 : prev.discovered) != null ? _a2 : false,
        completed: (_b2 = prev == null ? void 0 : prev.completed) != null ? _b2 : false,
        cooldownUntil: (_c2 = prev == null ? void 0 : prev.cooldownUntil) != null ? _c2 : null
      };
    });
    const localPlayerId = getLocalPlayerId(state);
    let playerProto = localPlayerId ? snapshot.players.find((p) => p.playerId === localPlayerId) || null : null;
    if (!playerProto && snapshot.players.length === 1) {
      playerProto = snapshot.players[0];
    }
    if (playerProto) {
      const nowMs = monotonicNow();
      const discoveredSet = new Set((_c = playerProto.discovered) != null ? _c : []);
      const completedSet = new Set((_d = playerProto.completed) != null ? _d : []);
      for (const beacon of mission.beacons) {
        beacon.discovered = discoveredSet.has(beacon.id);
        beacon.completed = completedSet.has(beacon.id);
        const cooldown = (_e = playerProto.cooldowns) == null ? void 0 : _e[beacon.id];
        beacon.cooldownUntil = Number.isFinite(cooldown) ? cooldown : null;
      }
      let player = mission.player;
      if (!player || player.playerId !== playerProto.playerId) {
        player = {
          playerId: playerProto.playerId,
          currentIndex: (_f = playerProto.currentIndex) != null ? _f : 0,
          activeBeaconId: playerProto.activeBeacon || null,
          holdAccum: (_g = playerProto.holdAccum) != null ? _g : 0,
          holdRequired: Math.max(0, (_h = playerProto.holdRequired) != null ? _h : 0),
          displayHold: (_i = playerProto.holdAccum) != null ? _i : 0,
          lastServerUpdate: Number.isFinite(snapshot.serverTime) ? snapshot.serverTime : getApproxServerNow(state),
          lastDisplaySync: nowMs,
          insideActiveBeacon: false
        };
        mission.player = player;
      } else {
        player.currentIndex = (_j = playerProto.currentIndex) != null ? _j : player.currentIndex;
        player.activeBeaconId = playerProto.activeBeacon || null;
        player.holdAccum = (_k = playerProto.holdAccum) != null ? _k : player.holdAccum;
        player.holdRequired = Math.max(0, (_l = playerProto.holdRequired) != null ? _l : player.holdRequired);
        player.displayHold = (_n = (_m = playerProto.holdAccum) != null ? _m : player.displayHold) != null ? _n : 0;
        player.lastServerUpdate = Number.isFinite(snapshot.serverTime) ? snapshot.serverTime : getApproxServerNow(state);
        player.lastDisplaySync = nowMs;
      }
      mission.status = completedSet.size > 0 && completedSet.size >= mission.beacons.length && mission.beacons.length > 0 ? "completed" : "active";
    } else if (!mission.player || mission.player.playerId === "") {
      mission.player = null;
      mission.status = "idle";
      for (const beacon of mission.beacons) {
        beacon.discovered = false;
        beacon.completed = false;
        beacon.cooldownUntil = null;
      }
    }
    mission.encounters = snapshot.encounters.map((enc) => ({
      id: enc.encounterId,
      beaconId: enc.beaconId,
      waveIndex: enc.waveIndex,
      spawnedAt: enc.spawnedAt,
      expiresAt: enc.expiresAt,
      active: true
    }));
    if (mission.player && mission.missionId !== previousMissionId) {
      mission.player.displayHold = mission.player.holdAccum;
      mission.player.lastDisplaySync = monotonicNow();
      mission.player.insideActiveBeacon = false;
    }
    alignMissionProgress(mission);
    bus.emit("mission:update", { reason: "snapshot" });
  }
  function handleMissionDelta(state, delta, bus) {
    var _a, _b, _c, _d, _e;
    const mission = ensureMissionState(state);
    const nowMs = monotonicNow();
    const approxNow = getApproxServerNow(state);
    const localPlayerId = (_c = (_b = getLocalPlayerId(state)) != null ? _b : (_a = mission.player) == null ? void 0 : _a.playerId) != null ? _c : null;
    let changed = false;
    for (const entry of (_d = delta.players) != null ? _d : []) {
      if (localPlayerId && entry.playerId !== localPlayerId) {
        continue;
      }
      const player = ensureMissionPlayer(mission, entry.playerId);
      if (Number.isFinite(entry.holdRequired) && entry.holdRequired > 0) {
        player.holdRequired = entry.holdRequired;
      }
      if (Number.isFinite(entry.holdAccum)) {
        player.holdAccum = entry.holdAccum;
      }
      player.lastServerUpdate = Number.isFinite(entry.serverTime) ? entry.serverTime : approxNow;
      player.lastDisplaySync = nowMs;
      const beacon = findBeaconForDelta(mission, entry);
      switch (entry.type) {
        case 1 /* MISSION_BEACON_DELTA_DISCOVERED */:
          if (beacon) {
            beacon.discovered = true;
            changed = true;
          }
          break;
        case 2 /* MISSION_BEACON_DELTA_HOLD_PROGRESS */:
          changed = true;
          break;
        case 3 /* MISSION_BEACON_DELTA_HOLD_RESET */:
          player.holdAccum = 0;
          player.displayHold = Math.min(player.displayHold, 0);
          changed = true;
          break;
        case 4 /* MISSION_BEACON_DELTA_LOCKED */:
          if (beacon) {
            beacon.completed = true;
            const cooldown = Number.isFinite(entry.cooldownUntil) ? entry.cooldownUntil : null;
            beacon.cooldownUntil = cooldown;
            changed = true;
          }
          player.holdAccum = 0;
          player.displayHold = 0;
          break;
        case 5 /* MISSION_BEACON_DELTA_COOLDOWN */:
          if (beacon) {
            const cooldown = Number.isFinite(entry.cooldownUntil) ? entry.cooldownUntil : null;
            beacon.cooldownUntil = cooldown;
            changed = true;
          }
          break;
        case 6 /* MISSION_BEACON_DELTA_MISSION_COMPLETED */:
          mission.status = "completed";
          player.holdAccum = 0;
          player.displayHold = 0;
          player.activeBeaconId = null;
          changed = true;
          break;
        default:
          break;
      }
    }
    if (delta.encounters && delta.encounters.length > 0) {
      const encounterMap = /* @__PURE__ */ new Map();
      for (const enc of mission.encounters) {
        encounterMap.set(enc.id, { ...enc });
      }
      for (const event of delta.encounters) {
        let encounter = encounterMap.get(event.encounterId);
        if (!encounter) {
          encounter = {
            id: event.encounterId,
            beaconId: event.beaconId,
            waveIndex: event.waveIndex,
            spawnedAt: event.spawnedAt,
            expiresAt: event.expiresAt,
            active: false
          };
          encounterMap.set(event.encounterId, encounter);
        }
        encounter.beaconId = event.beaconId || encounter.beaconId;
        encounter.waveIndex = (_e = event.waveIndex) != null ? _e : encounter.waveIndex;
        encounter.spawnedAt = Number.isFinite(event.spawnedAt) ? event.spawnedAt : encounter.spawnedAt;
        encounter.expiresAt = Number.isFinite(event.expiresAt) ? event.expiresAt : encounter.expiresAt;
        switch (event.type) {
          case 1 /* MISSION_ENCOUNTER_EVENT_SPAWNED */:
            encounter.active = true;
            encounter.reason = void 0;
            break;
          case 2 /* MISSION_ENCOUNTER_EVENT_CLEARED */:
            encounter.active = false;
            encounter.reason = event.reason || "cleared";
            break;
          case 3 /* MISSION_ENCOUNTER_EVENT_TIMEOUT */:
            encounter.active = false;
            encounter.reason = event.reason || "timeout";
            break;
          case 4 /* MISSION_ENCOUNTER_EVENT_PURGED */:
            encounter.active = false;
            encounter.reason = event.reason || "purged";
            break;
          default:
            break;
        }
      }
      mission.encounters = Array.from(encounterMap.values()).sort((a, b) => a.spawnedAt - b.spawnedAt);
      changed = true;
    }
    if (mission.player) {
      mission.player.displayHold = Math.min(mission.player.displayHold, mission.player.holdAccum);
    }
    if (changed) {
      alignMissionProgress(mission);
      bus.emit("mission:update", { reason: "delta" });
    }
  }
  function ensureMissionState(state) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    if (!state.mission) {
      state.mission = {
        missionId: "",
        templateId: "",
        displayName: "",
        archetype: "",
        layoutSeed: 0,
        serverTime: 0,
        status: "idle",
        timeout: 0,
        startTime: null,
        completionTime: null,
        progress: 0,
        beacons: [],
        player: null,
        encounters: [],
        objectives: [],
        objectiveSummaries: []
      };
    } else {
      state.mission.templateId = (_a = state.mission.templateId) != null ? _a : "";
      state.mission.displayName = (_b = state.mission.displayName) != null ? _b : "";
      state.mission.archetype = (_c = state.mission.archetype) != null ? _c : "";
      state.mission.timeout = (_d = state.mission.timeout) != null ? _d : 0;
      state.mission.startTime = (_e = state.mission.startTime) != null ? _e : null;
      state.mission.completionTime = (_f = state.mission.completionTime) != null ? _f : null;
      state.mission.progress = (_g = state.mission.progress) != null ? _g : 0;
      state.mission.objectives = (_h = state.mission.objectives) != null ? _h : [];
      state.mission.objectiveSummaries = (_i = state.mission.objectiveSummaries) != null ? _i : [];
    }
    return state.mission;
  }
  function ensureMissionPlayer(mission, playerId) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
    const nowMs = monotonicNow();
    if (!mission.player || mission.player.playerId !== playerId) {
      mission.player = {
        playerId,
        currentIndex: (_b = (_a = mission.player) == null ? void 0 : _a.currentIndex) != null ? _b : 0,
        activeBeaconId: (_d = (_c = mission.player) == null ? void 0 : _c.activeBeaconId) != null ? _d : null,
        holdAccum: (_f = (_e = mission.player) == null ? void 0 : _e.holdAccum) != null ? _f : 0,
        holdRequired: (_h = (_g = mission.player) == null ? void 0 : _g.holdRequired) != null ? _h : 0,
        displayHold: (_j = (_i = mission.player) == null ? void 0 : _i.displayHold) != null ? _j : 0,
        lastServerUpdate: (_l = (_k = mission.player) == null ? void 0 : _k.lastServerUpdate) != null ? _l : 0,
        lastDisplaySync: nowMs,
        insideActiveBeacon: (_n = (_m = mission.player) == null ? void 0 : _m.insideActiveBeacon) != null ? _n : false
      };
    }
    return mission.player;
  }
  function getLocalPlayerId(state) {
    var _a, _b, _c;
    if ((_b = (_a = state.mission) == null ? void 0 : _a.player) == null ? void 0 : _b.playerId) {
      return state.mission.player.playerId;
    }
    const id = (_c = state.me) == null ? void 0 : _c.id;
    if (!id) return null;
    if (id.startsWith("ship-")) {
      return id.slice("ship-".length);
    }
    return id;
  }
  function findBeaconForDelta(mission, delta) {
    if (!mission.beacons.length) return void 0;
    if (delta.beaconId) {
      const beacon = mission.beacons.find((b) => b.id === delta.beaconId);
      if (beacon) return beacon;
    }
    return mission.beacons.find((b) => b.ordinal === delta.ordinal);
  }
  function alignMissionProgress(mission) {
    if (mission.objectives && mission.objectives.length > 0) {
      return;
    }
    const player = mission.player;
    if (!player) {
      mission.status = "idle";
      return;
    }
    const nextBeacon = mission.beacons.find((b) => !b.completed);
    if (!nextBeacon) {
      mission.status = "completed";
      player.currentIndex = mission.beacons.length;
      player.activeBeaconId = null;
      player.insideActiveBeacon = false;
      return;
    }
    mission.status = "active";
    player.currentIndex = nextBeacon.ordinal;
    player.activeBeaconId = nextBeacon.id;
  }
  function diffRoutes(prevRoutes, nextRoutes, bus) {
    const seen = /* @__PURE__ */ new Set();
    for (const route of nextRoutes) {
      seen.add(route.id);
      const prev = prevRoutes.get(route.id);
      if (!prev) {
        bus.emit("missile:routeAdded", { routeId: route.id });
        continue;
      }
      if (route.name !== prev.name) {
        bus.emit("missile:routeRenamed", { routeId: route.id, name: route.name });
      }
      if (route.waypoints.length > prev.waypoints.length) {
        bus.emit("missile:waypointAdded", { routeId: route.id, index: route.waypoints.length - 1 });
      } else if (route.waypoints.length < prev.waypoints.length) {
        bus.emit("missile:waypointDeleted", { routeId: route.id, index: prev.waypoints.length - 1 });
      }
      if (prev.waypoints.length > 0 && route.waypoints.length === 0) {
        bus.emit("missile:waypointsCleared", { routeId: route.id });
      }
    }
    for (const [routeId] of prevRoutes) {
      if (!seen.has(routeId)) {
        bus.emit("missile:routeDeleted", { routeId });
      }
    }
  }
  function cloneRoute(route) {
    return {
      id: route.id,
      name: route.name,
      waypoints: route.waypoints.map((wp) => ({ ...wp }))
    };
  }
  function getApproxServerNow(state) {
    if (!Number.isFinite(state.now)) {
      return 0;
    }
    const syncedAt = Number.isFinite(state.nowSyncedAt) ? state.nowSyncedAt : null;
    if (!syncedAt) {
      return state.now;
    }
    const elapsedMs = monotonicNow() - syncedAt;
    if (!Number.isFinite(elapsedMs) || elapsedMs < 0) {
      return state.now;
    }
    return state.now + elapsedMs / 1e3;
  }
  function convertHeatView(serverHeat, nowSyncedAtMs, serverNowSec) {
    const serverStallUntilSec = serverHeat.su;
    const offsetFromNowSec = serverStallUntilSec - serverNowSec;
    const stallUntilMs = nowSyncedAtMs + offsetFromNowSec * 1e3;
    const heatView = {
      value: serverHeat.v,
      max: serverHeat.m,
      warnAt: serverHeat.w,
      overheatAt: serverHeat.o,
      markerSpeed: serverHeat.ms,
      stallUntilMs,
      kUp: serverHeat.ku,
      kDown: serverHeat.kd,
      exp: serverHeat.ex
    };
    return heatView;
  }
  var ws, connectedState, connectedBus;
  var init_net = __esm({
    "web/src/net.ts"() {
      "use strict";
      init_state();
      init_esm();
      init_ws_messages_pb();
      init_proto_helpers();
      ws = null;
      connectedState = null;
      connectedBus = null;
    }
  });

  // web/src/game/constants.ts
  var MIN_ZOOM, MAX_ZOOM, HELP_TEXT;
  var init_constants = __esm({
    "web/src/game/constants.ts"() {
      "use strict";
      MIN_ZOOM = 1;
      MAX_ZOOM = 3;
      HELP_TEXT = [
        "Primary Modes",
        "  1 \u2013 Toggle ship navigation mode",
        "  2 \u2013 Toggle missile coordination mode",
        "",
        "Ship Navigation",
        "  T \u2013 Switch between set/select",
        "  C \u2013 Clear all waypoints",
        "  H \u2013 Hold (clear waypoints & stop)",
        "  R \u2013 Toggle show route",
        "  [ / ] \u2013 Adjust waypoint speed",
        "  Shift+[ / ] \u2013 Coarse speed adjust",
        "  Tab / Shift+Tab \u2013 Cycle waypoints",
        "  Delete \u2013 Delete from selected waypoint",
        "",
        "Missile Coordination",
        "  N \u2013 Add new missile route",
        "  L \u2013 Launch missiles",
        "  E \u2013 Switch between set/select",
        "  , / . \u2013 Adjust agro radius",
        "  ; / ' \u2013 Adjust missile speed",
        "  Shift+slider keys \u2013 Coarse adjust",
        "  Delete \u2013 Delete selected missile waypoint",
        "",
        "Map Controls",
        "  +/- \u2013 Zoom in/out",
        "  Ctrl+0 \u2013 Reset zoom",
        "  Mouse wheel \u2013 Zoom at cursor",
        "  Pinch \u2013 Zoom on touch devices",
        "",
        "General",
        "  ? \u2013 Toggle this overlay",
        "  Esc \u2013 Cancel selection or close overlay"
      ].join("\n");
    }
  });

  // web/src/game/camera.ts
  function createCamera({ canvas, state, uiState }) {
    const world = { w: 8e3, h: 4500 };
    function resolveCanvas() {
      return canvas != null ? canvas : null;
    }
    function setZoom(newZoom, centerX, centerY) {
      uiState.zoom = clamp(newZoom, MIN_ZOOM, MAX_ZOOM);
    }
    function getCameraPosition() {
      const cv = resolveCanvas();
      if (!cv) return { x: world.w / 2, y: world.h / 2 };
      const zoom = uiState.zoom;
      let cameraX = state.me ? state.me.x : world.w / 2;
      let cameraY = state.me ? state.me.y : world.h / 2;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      const viewportWidth = cv.width / scale;
      const viewportHeight = cv.height / scale;
      const minCameraX = viewportWidth / 2;
      const maxCameraX = world.w - viewportWidth / 2;
      const minCameraY = viewportHeight / 2;
      const maxCameraY = world.h - viewportHeight / 2;
      if (viewportWidth < world.w) {
        cameraX = clamp(cameraX, minCameraX, maxCameraX);
      } else {
        cameraX = world.w / 2;
      }
      if (viewportHeight < world.h) {
        cameraY = clamp(cameraY, minCameraY, maxCameraY);
      } else {
        cameraY = world.h / 2;
      }
      return { x: cameraX, y: cameraY };
    }
    function worldToCanvas(p) {
      const cv = resolveCanvas();
      if (!cv) return { x: p.x, y: p.y };
      const zoom = uiState.zoom;
      const camera = getCameraPosition();
      const worldX = p.x - camera.x;
      const worldY = p.y - camera.y;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      return {
        x: worldX * scale + cv.width / 2,
        y: worldY * scale + cv.height / 2
      };
    }
    function canvasToWorld(p) {
      const cv = resolveCanvas();
      if (!cv) return { x: p.x, y: p.y };
      const zoom = uiState.zoom;
      const camera = getCameraPosition();
      const canvasX = p.x - cv.width / 2;
      const canvasY = p.y - cv.height / 2;
      const scaleX = cv.width / world.w;
      const scaleY = cv.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      return {
        x: canvasX / scale + camera.x,
        y: canvasY / scale + camera.y
      };
    }
    function updateWorldFromMeta(meta) {
      if (!meta) return;
      if (typeof meta.w === "number" && Number.isFinite(meta.w)) {
        world.w = meta.w;
      }
      if (typeof meta.h === "number" && Number.isFinite(meta.h)) {
        world.h = meta.h;
      }
    }
    function getWorldSize() {
      return { ...world };
    }
    return {
      setZoom,
      getCameraPosition,
      worldToCanvas,
      canvasToWorld,
      updateWorldFromMeta,
      getWorldSize
    };
  }
  var init_camera = __esm({
    "web/src/game/camera.ts"() {
      "use strict";
      init_state();
      init_constants();
    }
  });

  // web/src/game/input.ts
  function createInput({
    canvas,
    ui,
    logic,
    camera,
    state,
    uiState,
    bus,
    sendMessage: sendMessage2
  }) {
    let lastTouchDistance = null;
    let pendingTouchTimeout = null;
    let isPinching = false;
    function getPointerCanvasPoint(event) {
      const rect = canvas.getBoundingClientRect();
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      return {
        x: (event.clientX - rect.left) * scaleX,
        y: (event.clientY - rect.top) * scaleY
      };
    }
    function handlePointerPlacement(canvasPoint, worldPoint) {
      const context = uiState.inputContext === "missile" ? "missile" : "ship";
      if (context === "missile") {
        logic.handleMissilePointer(canvasPoint, worldPoint);
        ui.renderMissileRouteControls();
      } else {
        logic.handleShipPointer(canvasPoint, worldPoint);
        ui.updatePlannedHeatBar();
      }
    }
    function onCanvasPointerDown(event) {
      var _a;
      const canvasPoint = getPointerCanvasPoint(event);
      const worldPoint = camera.canvasToWorld(canvasPoint);
      const context = uiState.inputContext === "missile" ? "missile" : "ship";
      if (context === "ship" && uiState.shipTool === "select" && ((_a = state.me) == null ? void 0 : _a.waypoints)) {
        const wpIndex = logic.findWaypointAtPosition(canvasPoint);
        if (wpIndex !== null) {
          logic.beginShipDrag(wpIndex, canvasPoint);
          canvas.setPointerCapture(event.pointerId);
          event.preventDefault();
          return;
        }
      }
      if (context === "missile" && uiState.missileTool === "select") {
        const hit = logic.hitTestMissileRoutes(canvasPoint);
        if (hit) {
          ui.setInputContext("missile");
          logic.setMissileSelection(hit.selection, hit.route.id);
          ui.renderMissileRouteControls();
          if (hit.selection.type === "waypoint") {
            logic.beginMissileDrag(hit.selection.index, canvasPoint);
            canvas.setPointerCapture(event.pointerId);
          }
          event.preventDefault();
          return;
        }
        logic.setMissileSelection(null);
        ui.renderMissileRouteControls();
      }
      if (event.pointerType === "touch") {
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
        }
        pendingTouchTimeout = setTimeout(() => {
          if (isPinching) return;
          handlePointerPlacement(canvasPoint, worldPoint);
          pendingTouchTimeout = null;
        }, 150);
      } else {
        handlePointerPlacement(canvasPoint, worldPoint);
      }
      event.preventDefault();
    }
    function onCanvasPointerMove(event) {
      const draggingShip = logic.getDraggedWaypoint() !== null;
      const draggingMissile = logic.getDraggedMissileWaypoint() !== null;
      if (!draggingShip && !draggingMissile) return;
      const canvasPoint = getPointerCanvasPoint(event);
      const worldPoint = camera.canvasToWorld(canvasPoint);
      if (draggingShip) {
        logic.updateShipDrag(worldPoint);
        event.preventDefault();
        return;
      }
      if (draggingMissile) {
        logic.updateMissileDrag(worldPoint);
        ui.renderMissileRouteControls();
        event.preventDefault();
      }
    }
    function onCanvasPointerUp(event) {
      logic.endDrag();
      if (canvas.hasPointerCapture(event.pointerId)) {
        canvas.releasePointerCapture(event.pointerId);
      }
      pendingTouchTimeout = null;
    }
    function onCanvasWheel(event) {
      event.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const centerX = event.clientX - rect.left;
      const centerY = event.clientY - rect.top;
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      const canvasCenterX = centerX * scaleX;
      const canvasCenterY = centerY * scaleY;
      const delta = event.deltaY;
      const zoomFactor = delta > 0 ? 0.9 : 1.1;
      const newZoom = uiState.zoom * zoomFactor;
      camera.setZoom(newZoom, canvasCenterX, canvasCenterY);
    }
    function getTouchDistance(touches) {
      if (touches.length < 2) return null;
      const dx = touches[0].clientX - touches[1].clientX;
      const dy = touches[0].clientY - touches[1].clientY;
      return Math.hypot(dx, dy);
    }
    function getTouchCenter(touches) {
      if (touches.length < 2) return null;
      return {
        x: (touches[0].clientX + touches[1].clientX) / 2,
        y: (touches[0].clientY + touches[1].clientY) / 2
      };
    }
    function onCanvasTouchStart(event) {
      if (event.touches.length === 2) {
        event.preventDefault();
        isPinching = true;
        lastTouchDistance = getTouchDistance(event.touches);
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
          pendingTouchTimeout = null;
        }
      }
    }
    function onCanvasTouchMove(event) {
      if (event.touches.length !== 2) {
        lastTouchDistance = null;
        return;
      }
      event.preventDefault();
      const currentDistance = getTouchDistance(event.touches);
      if (currentDistance === null || lastTouchDistance === null) return;
      const rect = canvas.getBoundingClientRect();
      const center = getTouchCenter(event.touches);
      if (!center) return;
      const scaleX = rect.width !== 0 ? canvas.width / rect.width : 1;
      const scaleY = rect.height !== 0 ? canvas.height / rect.height : 1;
      const canvasCenterX = (center.x - rect.left) * scaleX;
      const canvasCenterY = (center.y - rect.top) * scaleY;
      const zoomFactor = currentDistance / lastTouchDistance;
      const newZoom = uiState.zoom * zoomFactor;
      camera.setZoom(newZoom, canvasCenterX, canvasCenterY);
      lastTouchDistance = currentDistance;
    }
    function onCanvasTouchEnd(event) {
      if (event.touches.length < 2) {
        lastTouchDistance = null;
        setTimeout(() => {
          isPinching = false;
        }, 100);
      }
    }
    function handleAddMissileRoute() {
      ui.setInputContext("missile");
      sendMessage2({ type: "add_missile_route" });
    }
    function onWindowKeyDown(event) {
      const target = document.activeElement;
      const isEditable = !!target && (target.tagName === "INPUT" || target.tagName === "TEXTAREA" || target.isContentEditable);
      if (uiState.helpVisible && event.key !== "Escape") {
        event.preventDefault();
        return;
      }
      if (isEditable) {
        if (event.key === "Escape") {
          target.blur();
          event.preventDefault();
        }
        return;
      }
      switch (event.code) {
        case "Digit1":
          ui.setInputContext("ship");
          event.preventDefault();
          return;
        case "Digit2":
          ui.setInputContext("missile");
          event.preventDefault();
          return;
        case "KeyT":
          if (uiState.activeTool === "ship-set") {
            ui.setActiveTool("ship-select");
          } else if (uiState.activeTool === "ship-select") {
            ui.setActiveTool("ship-set");
          } else {
            ui.setActiveTool("ship-set");
          }
          event.preventDefault();
          return;
        case "KeyC":
        case "KeyH":
          ui.setInputContext("ship");
          logic.clearShipRoute();
          event.preventDefault();
          return;
        case "BracketLeft":
          ui.setInputContext("ship");
          ui.adjustShipSpeed(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "BracketRight":
          ui.setInputContext("ship");
          ui.adjustShipSpeed(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Tab":
          ui.setInputContext("ship");
          logic.cycleShipSelection(event.shiftKey ? -1 : 1);
          event.preventDefault();
          return;
        case "KeyN":
          handleAddMissileRoute();
          event.preventDefault();
          return;
        case "KeyL":
          ui.setInputContext("missile");
          logic.launchActiveMissileRoute();
          event.preventDefault();
          return;
        case "KeyE":
          if (uiState.activeTool === "missile-set") {
            ui.setActiveTool("missile-select");
          } else if (uiState.activeTool === "missile-select") {
            ui.setActiveTool("missile-set");
          } else {
            ui.setActiveTool("missile-set");
          }
          event.preventDefault();
          return;
        case "Comma":
          ui.setInputContext("missile");
          ui.adjustMissileAgro(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "Period":
          ui.setInputContext("missile");
          ui.adjustMissileAgro(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Semicolon":
          ui.setInputContext("missile");
          ui.adjustMissileSpeed(-1, event.shiftKey);
          event.preventDefault();
          return;
        case "Quote":
          ui.setInputContext("missile");
          ui.adjustMissileSpeed(1, event.shiftKey);
          event.preventDefault();
          return;
        case "Delete":
        case "Backspace":
          if (uiState.inputContext === "missile" && logic.getMissileSelection()) {
            logic.deleteSelectedMissileWaypoint();
          } else if (logic.getSelection()) {
            logic.deleteSelectedShipWaypoint();
          }
          event.preventDefault();
          return;
        case "Escape": {
          if (uiState.helpVisible) {
            ui.setHelpVisible(false);
          } else if (logic.getMissileSelection()) {
            logic.setMissileSelection(null);
          } else if (logic.getSelection()) {
            logic.setSelection(null);
          } else if (uiState.inputContext === "missile") {
            ui.setInputContext("ship");
          }
          event.preventDefault();
          return;
        }
        case "Equal":
        case "NumpadAdd": {
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          camera.setZoom(uiState.zoom * 1.2, centerX, centerY);
          event.preventDefault();
          return;
        }
        case "Minus":
        case "NumpadSubtract": {
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          camera.setZoom(uiState.zoom / 1.2, centerX, centerY);
          event.preventDefault();
          return;
        }
        case "Digit0":
        case "Numpad0":
          if (event.ctrlKey || event.metaKey) {
            camera.setZoom(1);
            event.preventDefault();
          }
          return;
        default:
          break;
      }
      if (event.key === "?") {
        ui.setHelpVisible(!uiState.helpVisible);
        event.preventDefault();
      }
    }
    function bindInput() {
      canvas.addEventListener("pointerdown", onCanvasPointerDown);
      canvas.addEventListener("pointermove", onCanvasPointerMove);
      canvas.addEventListener("pointerup", onCanvasPointerUp);
      canvas.addEventListener("pointercancel", onCanvasPointerUp);
      canvas.addEventListener("wheel", onCanvasWheel, { passive: false });
      canvas.addEventListener("touchstart", onCanvasTouchStart, { passive: false });
      canvas.addEventListener("touchmove", onCanvasTouchMove, { passive: false });
      canvas.addEventListener("touchend", onCanvasTouchEnd, { passive: false });
      window.addEventListener("keydown", onWindowKeyDown, { capture: false });
      bus.on("context:changed", () => {
        if (pendingTouchTimeout !== null) {
          clearTimeout(pendingTouchTimeout);
          pendingTouchTimeout = null;
        }
      });
    }
    return {
      bindInput
    };
  }
  var init_input = __esm({
    "web/src/game/input.ts"() {
      "use strict";
    }
  });

  // web/src/route.ts
  function buildRoutePoints(start, waypoints, world, camera, zoom, worldToCanvas) {
    const worldPoints = [{ x: start.x, y: start.y }];
    for (const wp of waypoints) {
      worldPoints.push({ x: wp.x, y: wp.y });
    }
    const canvasPoints = worldPoints.map((point) => worldToCanvas(point));
    return {
      waypoints: waypoints.slice(),
      worldPoints,
      canvasPoints
    };
  }
  function pointSegmentDistance(p, a, b) {
    const abx = b.x - a.x;
    const aby = b.y - a.y;
    const apx = p.x - a.x;
    const apy = p.y - a.y;
    const abLenSq = abx * abx + aby * aby;
    const t = abLenSq === 0 ? 0 : clamp(apx * abx + apy * aby, 0, abLenSq) / abLenSq;
    const projx = a.x + abx * t;
    const projy = a.y + aby * t;
    const dx = p.x - projx;
    const dy = p.y - projy;
    return Math.hypot(dx, dy);
  }
  function hitTestRouteGeneric(canvasPoint, routePoints, opts = {}) {
    var _a, _b, _c;
    const waypointHitRadius = (_a = opts.waypointHitRadius) != null ? _a : WAYPOINT_HIT_RADIUS;
    const legHitDistance = (_b = opts.legHitDistance) != null ? _b : LEG_HIT_DISTANCE;
    const skipLegs = (_c = opts.skipLegs) != null ? _c : false;
    const { waypoints, canvasPoints } = routePoints;
    if (waypoints.length === 0) {
      return null;
    }
    for (let i = 0; i < waypoints.length; i++) {
      const wpCanvas = canvasPoints[i + 1];
      const dx = canvasPoint.x - wpCanvas.x;
      const dy = canvasPoint.y - wpCanvas.y;
      if (Math.hypot(dx, dy) <= waypointHitRadius) {
        return { type: "waypoint", index: i };
      }
    }
    if (!skipLegs) {
      for (let i = 0; i < waypoints.length; i++) {
        const dist = pointSegmentDistance(canvasPoint, canvasPoints[i], canvasPoints[i + 1]);
        if (dist <= legHitDistance) {
          return { type: "leg", index: i };
        }
      }
    }
    return null;
  }
  function updateDashOffsetsForRoute(store, waypoints, worldPoints, canvasPoints, fallbackSpeed, dtSeconds, cycle = 64) {
    var _a;
    if (!Number.isFinite(dtSeconds) || dtSeconds < 0) {
      dtSeconds = 0;
    }
    for (let i = 0; i < waypoints.length; i++) {
      const wp = waypoints[i];
      const speed = typeof wp.speed === "number" && wp.speed > 0 ? wp.speed : fallbackSpeed;
      const aWorld = worldPoints[i];
      const bWorld = worldPoints[i + 1];
      const worldDist = Math.hypot(bWorld.x - aWorld.x, bWorld.y - aWorld.y);
      const aCanvas = canvasPoints[i];
      const bCanvas = canvasPoints[i + 1];
      const canvasDist = Math.hypot(bCanvas.x - aCanvas.x, bCanvas.y - aCanvas.y);
      if (!Number.isFinite(speed) || speed <= 1e-3 || !Number.isFinite(worldDist) || worldDist <= 1e-3 || canvasDist <= 1e-3) {
        store.set(i, 0);
        continue;
      }
      if (dtSeconds <= 0) {
        if (!store.has(i)) {
          store.set(i, 0);
        }
        continue;
      }
      const scale = canvasDist / worldDist;
      const dashSpeed = speed * scale;
      let next = ((_a = store.get(i)) != null ? _a : 0) - dashSpeed * dtSeconds;
      if (!Number.isFinite(next)) {
        next = 0;
      } else {
        next = (next % cycle + cycle) % cycle;
      }
      store.set(i, next);
    }
    for (const key of Array.from(store.keys())) {
      if (key >= waypoints.length) {
        store.delete(key);
      }
    }
  }
  function projectRouteHeat(route, initialHeat, params) {
    var _a;
    const result = {
      heatAtWaypoints: [],
      willOverheat: false
    };
    if (route.length === 0) {
      return result;
    }
    let heat = clamp(initialHeat, 0, params.max);
    let prevPoint = { x: route[0].x, y: route[0].y };
    result.heatAtWaypoints.push(heat);
    for (let i = 1; i < route.length; i++) {
      const targetPos = route[i];
      const dx = targetPos.x - prevPoint.x;
      const dy = targetPos.y - prevPoint.y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      if (distance < 1e-3) {
        result.heatAtWaypoints.push(heat);
        prevPoint = { x: targetPos.x, y: targetPos.y };
        continue;
      }
      const rawSpeed = (_a = targetPos.speed) != null ? _a : params.markerSpeed;
      const segmentSpeed = Math.max(rawSpeed, 1e-6);
      const segmentTime = distance / segmentSpeed;
      const Vn = Math.max(params.markerSpeed, 1e-6);
      const dev = segmentSpeed - params.markerSpeed;
      const p = params.exp;
      let hdot;
      if (dev >= 0) {
        hdot = params.kUp * Math.pow(dev / Vn, p);
      } else {
        hdot = -params.kDown * Math.pow(Math.abs(dev) / Vn, p);
      }
      heat += hdot * segmentTime;
      heat = clamp(heat, 0, params.max);
      result.heatAtWaypoints.push(heat);
      if (!result.willOverheat && heat >= params.overheatAt) {
        result.willOverheat = true;
        result.overheatAt = i;
      }
      prevPoint = { x: targetPos.x, y: targetPos.y };
    }
    return result;
  }
  function interpolateColor(color1, color2, t) {
    return [
      Math.round(color1[0] + (color2[0] - color1[0]) * t),
      Math.round(color1[1] + (color2[1] - color1[1]) * t),
      Math.round(color1[2] + (color2[2] - color1[2]) * t)
    ];
  }
  function drawPlannedRoute(ctx, opts) {
    var _a, _b;
    const {
      routePoints,
      selection,
      draggedWaypoint,
      dashStore,
      palette = SHIP_PALETTE,
      showLegs,
      heatParams,
      initialHeat = 0,
      defaultSpeed,
      worldPoints
    } = opts;
    const { waypoints, canvasPoints } = routePoints;
    if (waypoints.length === 0) {
      return;
    }
    let heatProjection = null;
    if (heatParams && worldPoints && worldPoints.length > 0) {
      const routeForHeat = worldPoints.map((pt, i) => {
        var _a2, _b2;
        return {
          x: pt.x,
          y: pt.y,
          speed: i === 0 ? void 0 : (_b2 = (_a2 = waypoints[i - 1]) == null ? void 0 : _a2.speed) != null ? _b2 : defaultSpeed
        };
      });
      heatProjection = projectRouteHeat(routeForHeat, initialHeat, heatParams);
    }
    if (showLegs) {
      let currentHeat = initialHeat;
      for (let i = 0; i < waypoints.length; i++) {
        const isFirstLeg = i === 0;
        const isSelected = (selection == null ? void 0 : selection.type) === "leg" && selection.index === i;
        let segmentHeat = currentHeat;
        if (heatProjection && i + 1 < heatProjection.heatAtWaypoints.length) {
          segmentHeat = heatProjection.heatAtWaypoints[i + 1];
        }
        let strokeStyle;
        let lineWidth;
        let lineDash = null;
        let alphaOverride = null;
        if (isSelected) {
          strokeStyle = palette.selection;
          lineWidth = 3.5;
          lineDash = [4, 4];
        } else if (heatProjection && heatParams && palette.heatCoolRgb && palette.heatHotRgb) {
          const heatRatio = clamp(segmentHeat / heatParams.overheatAt, 0, 1);
          const color = interpolateColor(palette.heatCoolRgb, palette.heatHotRgb, heatRatio);
          const baseWidth = isFirstLeg ? 3 : 1.5;
          lineWidth = baseWidth + heatRatio * 4;
          const alpha = isFirstLeg ? 1 : 0.4;
          strokeStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${alpha})`;
          lineDash = isFirstLeg ? [6, 6] : [8, 8];
        } else {
          const baseWidth = isFirstLeg ? 3 : 1.5;
          lineWidth = baseWidth;
          strokeStyle = palette.defaultLine;
          lineDash = isFirstLeg ? [6, 6] : [8, 8];
          alphaOverride = isFirstLeg ? 1 : 0.4;
        }
        ctx.save();
        if (lineDash) {
          ctx.setLineDash(lineDash);
        }
        if (alphaOverride !== null) {
          ctx.globalAlpha = alphaOverride;
        }
        ctx.strokeStyle = strokeStyle;
        ctx.lineWidth = lineWidth;
        ctx.beginPath();
        ctx.lineDashOffset = (_a = dashStore.get(i)) != null ? _a : 0;
        ctx.moveTo(canvasPoints[i].x, canvasPoints[i].y);
        ctx.lineTo(canvasPoints[i + 1].x, canvasPoints[i + 1].y);
        ctx.stroke();
        ctx.restore();
        currentHeat = segmentHeat;
      }
    }
    for (let i = 0; i < waypoints.length; i++) {
      const pt = canvasPoints[i + 1];
      const isSelected = (selection == null ? void 0 : selection.type) === "waypoint" && selection.index === i;
      const isDragging = draggedWaypoint === i;
      let fillColor;
      if (isSelected) {
        fillColor = palette.waypointSelected;
      } else if (isDragging && palette.waypointDragging) {
        fillColor = palette.waypointDragging;
      } else if (heatProjection && heatParams) {
        const heat = (_b = heatProjection.heatAtWaypoints[i + 1]) != null ? _b : 0;
        const heatRatio = heat / heatParams.max;
        const warnRatio = heatParams.warnAt / heatParams.max;
        const overheatRatio = heatParams.overheatAt / heatParams.max;
        if (heatRatio < warnRatio) {
          fillColor = "#33aa33";
        } else if (heatRatio < overheatRatio) {
          fillColor = "#ffaa33";
        } else {
          fillColor = "#ff3333";
        }
      } else {
        fillColor = palette.waypointDefault;
      }
      const strokeColor = isSelected && palette.waypointStrokeSelected ? palette.waypointStrokeSelected : palette.waypointStroke;
      ctx.save();
      ctx.beginPath();
      const radius = isSelected || isDragging ? 7 : 5;
      ctx.arc(pt.x, pt.y, radius, 0, Math.PI * 2);
      ctx.fillStyle = fillColor;
      ctx.globalAlpha = isSelected || isDragging ? 0.95 : 0.8;
      ctx.fill();
      ctx.globalAlpha = 1;
      ctx.lineWidth = isSelected ? 2 : 1.5;
      ctx.strokeStyle = strokeColor;
      ctx.stroke();
      ctx.restore();
    }
  }
  var WAYPOINT_HIT_RADIUS, LEG_HIT_DISTANCE, SHIP_PALETTE, MISSILE_PALETTE;
  var init_route = __esm({
    "web/src/route.ts"() {
      "use strict";
      init_state();
      WAYPOINT_HIT_RADIUS = 12;
      LEG_HIT_DISTANCE = 10;
      SHIP_PALETTE = {
        defaultLine: "#38bdf8",
        selection: "#f97316",
        waypointDefault: "#38bdf8",
        waypointSelected: "#f97316",
        waypointDragging: "#facc15",
        waypointStroke: "#0f172a",
        heatCoolRgb: [100, 150, 255],
        heatHotRgb: [255, 50, 50]
      };
      MISSILE_PALETTE = {
        defaultLine: "#f87171aa",
        selection: "#f97316",
        waypointDefault: "#f87171",
        waypointSelected: "#facc15",
        waypointStroke: "#7f1d1d",
        waypointStrokeSelected: "#854d0e",
        heatCoolRgb: [248, 129, 129],
        heatHotRgb: [220, 38, 38]
      };
    }
  });

  // web/src/game/logic.ts
  function createLogic({
    state,
    uiState,
    bus,
    sendMessage: sendMessage2,
    getApproxServerNow: getApproxServerNow2,
    camera
  }) {
    let selection = null;
    let missileSelection = null;
    let defaultSpeed = 150;
    let lastMissileLegSpeed = 0;
    const shipLegDashOffsets = /* @__PURE__ */ new Map();
    const missileLegDashOffsets = /* @__PURE__ */ new Map();
    let draggedWaypoint = null;
    let draggedMissileWaypoint = null;
    function getSelection() {
      return selection;
    }
    function setSelection(sel) {
      selection = sel;
      const index = selection ? selection.index : null;
      bus.emit("ship:legSelected", { index });
    }
    function getMissileSelection() {
      return missileSelection;
    }
    function setMissileSelection(sel, routeId) {
      missileSelection = sel;
      if (routeId) {
        state.activeMissileRouteId = routeId;
      }
      bus.emit("missile:selectionChanged", { selection: missileSelection });
    }
    function getDefaultShipSpeed() {
      return defaultSpeed;
    }
    function setDefaultShipSpeed(value) {
      defaultSpeed = value;
    }
    function getDefaultMissileLegSpeed() {
      var _a, _b;
      const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
      const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
      const base = lastMissileLegSpeed > 0 ? lastMissileLegSpeed : state.missileConfig.speed;
      return clamp(base, minSpeed, maxSpeed);
    }
    function recordMissileLegSpeed(value) {
      if (Number.isFinite(value) && value > 0) {
        lastMissileLegSpeed = value;
      }
    }
    function getShipWaypointOffset() {
      var _a;
      const currentIndex = (_a = state.me) == null ? void 0 : _a.currentWaypointIndex;
      if (typeof currentIndex === "number" && Number.isFinite(currentIndex) && currentIndex > 0) {
        return currentIndex;
      }
      return 0;
    }
    function displayIndexToActualIndex(displayIndex) {
      return displayIndex + getShipWaypointOffset();
    }
    function actualIndexToDisplayIndex(actualIndex) {
      const offset = getShipWaypointOffset();
      return actualIndex - offset;
    }
    function computeRoutePoints() {
      if (!state.me) return null;
      const allWaypoints = Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      const offset = getShipWaypointOffset();
      const visibleWaypoints = offset > 0 ? allWaypoints.slice(offset) : allWaypoints;
      if (!visibleWaypoints.length && !uiState.showShipRoute) {
        return null;
      }
      return buildRoutePoints(
        { x: state.me.x, y: state.me.y },
        visibleWaypoints,
        camera.getWorldSize(),
        camera.getCameraPosition,
        () => uiState.zoom,
        camera.worldToCanvas
      );
    }
    function computeMissileRoutePoints() {
      var _a, _b, _c, _d, _e;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints) || !route.waypoints.length) {
        return null;
      }
      const origin = (_e = route.origin) != null ? _e : { x: (_b = (_a = state.me) == null ? void 0 : _a.x) != null ? _b : 0, y: (_d = (_c = state.me) == null ? void 0 : _c.y) != null ? _d : 0 };
      return buildRoutePoints(
        origin,
        route.waypoints,
        camera.getWorldSize(),
        camera.getCameraPosition,
        () => uiState.zoom,
        camera.worldToCanvas
      );
    }
    function findWaypointAtPosition(canvasPoint) {
      const route = computeRoutePoints();
      if (!route) return null;
      const hit = hitTestRouteGeneric(canvasPoint, route, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 0
      });
      if (!hit || hit.type !== "waypoint") return null;
      return displayIndexToActualIndex(hit.index);
    }
    function hitTestRoute(canvasPoint) {
      const route = computeRoutePoints();
      if (!route) return null;
      return hitTestRouteGeneric(canvasPoint, route, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 6
      });
    }
    function hitTestMissileRoutes(canvasPoint) {
      const routePoints = computeMissileRoutePoints();
      const route = getActiveMissileRoute();
      if (!routePoints || !route) return null;
      const hit = hitTestRouteGeneric(canvasPoint, routePoints, {
        waypointRadius: WAYPOINT_HIT_RADIUS,
        legHitTolerance: 6
      });
      if (!hit) return null;
      const selection2 = hit.type === "leg" ? { type: "leg", index: hit.index } : { type: "waypoint", index: hit.index };
      return { route, selection: selection2 };
    }
    function updateRouteAnimations(dtSeconds) {
      const shipRoute = computeRoutePoints();
      if (shipRoute && shipRoute.waypoints.length > 0 && uiState.showShipRoute) {
        updateDashOffsetsForRoute(
          shipLegDashOffsets,
          shipRoute.waypoints,
          shipRoute.worldPoints,
          shipRoute.canvasPoints,
          defaultSpeed,
          dtSeconds
        );
      } else {
        shipLegDashOffsets.clear();
      }
      const missileRoute = computeMissileRoutePoints();
      if (missileRoute) {
        updateDashOffsetsForRoute(
          missileLegDashOffsets,
          missileRoute.waypoints,
          missileRoute.worldPoints,
          missileRoute.canvasPoints,
          state.missileConfig.speed,
          dtSeconds
        );
      } else {
        missileLegDashOffsets.clear();
      }
    }
    function ensureActiveMissileRoute() {
      var _a, _b;
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) return null;
      if (!state.activeMissileRouteId) {
        state.activeMissileRouteId = routes[0].id;
      }
      let route = routes.find((r) => r.id === state.activeMissileRouteId) || null;
      if (!route) {
        route = (_a = routes[0]) != null ? _a : null;
        state.activeMissileRouteId = (_b = route == null ? void 0 : route.id) != null ? _b : null;
      }
      return route;
    }
    function getActiveMissileRoute() {
      var _a;
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) return null;
      if (!state.activeMissileRouteId) {
        return ensureActiveMissileRoute();
      }
      return (_a = routes.find((r) => r.id === state.activeMissileRouteId)) != null ? _a : ensureActiveMissileRoute();
    }
    function cycleMissileRoute(direction) {
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      if (!routes.length) {
        return;
      }
      const currentIndex = routes.findIndex(
        (route) => route.id === state.activeMissileRouteId
      );
      const baseIndex = currentIndex >= 0 ? currentIndex : 0;
      const nextIndex = ((baseIndex + direction) % routes.length + routes.length) % routes.length;
      const nextRoute = routes[nextIndex];
      if (!nextRoute) return;
      state.activeMissileRouteId = nextRoute.id;
      setMissileSelection(null);
      sendMessage2({
        type: "set_active_missile_route",
        route_id: nextRoute.id
      });
      bus.emit("missile:activeRouteChanged", { routeId: nextRoute.id });
    }
    function cycleShipSelection(direction) {
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      if (!wps.length) {
        setSelection(null);
        return;
      }
      let index = selection ? selection.index : direction > 0 ? -1 : wps.length;
      index += direction;
      if (index < 0) index = wps.length - 1;
      if (index >= wps.length) index = 0;
      setSelection({ type: "leg", index });
    }
    function clearShipRoute() {
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      if (!wps.length) return;
      sendMessage2({ type: "clear_waypoints" });
      if (state.me) {
        state.me.waypoints = [];
      }
      setSelection(null);
      bus.emit("ship:waypointsCleared");
    }
    function deleteSelectedShipWaypoint() {
      if (!selection) return;
      sendMessage2({ type: "delete_waypoint", index: selection.index });
      if (state.me && Array.isArray(state.me.waypoints)) {
        state.me.waypoints = state.me.waypoints.slice(0, selection.index);
      }
      bus.emit("ship:waypointDeleted", { index: selection.index });
      setSelection(null);
    }
    function deleteSelectedMissileWaypoint() {
      const route = getActiveMissileRoute();
      if (!route || !missileSelection) return;
      const index = missileSelection.index;
      if (!Array.isArray(route.waypoints) || index < 0 || index >= route.waypoints.length) {
        return;
      }
      sendMessage2({
        type: "delete_missile_waypoint",
        route_id: route.id,
        index
      });
      route.waypoints = [
        ...route.waypoints.slice(0, index),
        ...route.waypoints.slice(index + 1)
      ];
      bus.emit("missile:waypointDeleted", { routeId: route.id, index });
      setMissileSelection(null);
    }
    function launchActiveMissileRoute() {
      var _a;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints) || route.waypoints.length === 0) {
        return;
      }
      if (getMissileCooldownRemaining() > 0.05) {
        return;
      }
      let hasMissiles = false;
      if ((_a = state.inventory) == null ? void 0 : _a.items) {
        for (const item of state.inventory.items) {
          if (item.type === "missile" && item.quantity > 0) {
            hasMissiles = true;
            break;
          }
        }
      }
      if (!hasMissiles) {
        console.log("No missiles available - craft missiles first");
        return;
      }
      bus.emit("missile:launchRequested", { routeId: route.id });
      sendMessage2({
        type: "launch_missile",
        route_id: route.id
      });
    }
    function handleShipPointer(canvasPoint, worldPoint) {
      if (!state.me) return;
      if (uiState.shipTool === "select") {
        const hit = hitTestRoute(canvasPoint);
        if (hit) {
          const actualIndex = displayIndexToActualIndex(hit.index);
          setSelection({ type: hit.type, index: actualIndex });
        } else {
          setSelection(null);
        }
        return;
      }
      const wp = { x: worldPoint.x, y: worldPoint.y, speed: defaultSpeed };
      sendMessage2({
        type: "add_waypoint",
        x: wp.x,
        y: wp.y,
        speed: defaultSpeed
      });
      const wps = Array.isArray(state.me.waypoints) ? state.me.waypoints.slice() : [];
      wps.push(wp);
      state.me.waypoints = wps;
      bus.emit("ship:waypointAdded", { index: wps.length - 1 });
      setSelection(null);
    }
    function handleMissilePointer(canvasPoint, worldPoint) {
      const route = getActiveMissileRoute();
      if (!route) return;
      if (uiState.missileTool === "select") {
        const hit = hitTestMissileRoutes(canvasPoint);
        if (hit) {
          setMissileSelection(hit.selection, hit.route.id);
        } else {
          setMissileSelection(null);
        }
        return;
      }
      const speed = getDefaultMissileLegSpeed();
      const wp = { x: worldPoint.x, y: worldPoint.y, speed };
      sendMessage2({
        type: "add_missile_waypoint",
        route_id: route.id,
        x: wp.x,
        y: wp.y,
        speed: wp.speed
      });
      route.waypoints = route.waypoints ? [...route.waypoints, wp] : [wp];
      recordMissileLegSpeed(speed);
      setMissileSelection(null, route.id);
      bus.emit("missile:waypointAdded", {
        routeId: route.id,
        index: route.waypoints.length - 1
      });
    }
    function beginShipDrag(index, _origin) {
      draggedWaypoint = index;
    }
    function beginMissileDrag(index, _origin) {
      draggedMissileWaypoint = index;
    }
    function clampToWorld(point) {
      var _a, _b;
      const worldW = (_a = state.worldMeta.w) != null ? _a : 4e3;
      const worldH = (_b = state.worldMeta.h) != null ? _b : 4e3;
      return {
        x: clamp(point.x, 0, worldW),
        y: clamp(point.y, 0, worldH)
      };
    }
    function updateShipDrag(worldPoint) {
      if (draggedWaypoint === null) return;
      const clamped = clampToWorld(worldPoint);
      sendMessage2({
        type: "move_waypoint",
        index: draggedWaypoint,
        x: clamped.x,
        y: clamped.y
      });
      if (state.me && state.me.waypoints && draggedWaypoint < state.me.waypoints.length) {
        state.me.waypoints[draggedWaypoint].x = clamped.x;
        state.me.waypoints[draggedWaypoint].y = clamped.y;
      }
    }
    function updateMissileDrag(worldPoint) {
      if (draggedMissileWaypoint === null) return;
      const route = getActiveMissileRoute();
      if (!route || !Array.isArray(route.waypoints)) return;
      const clamped = clampToWorld(worldPoint);
      if (draggedMissileWaypoint >= route.waypoints.length) return;
      sendMessage2({
        type: "move_missile_waypoint",
        route_id: route.id,
        index: draggedMissileWaypoint,
        x: clamped.x,
        y: clamped.y
      });
      route.waypoints = route.waypoints.map(
        (wp, idx) => idx === draggedMissileWaypoint ? { ...wp, x: clamped.x, y: clamped.y } : wp
      );
    }
    function endDrag() {
      var _a;
      if (draggedWaypoint !== null && ((_a = state.me) == null ? void 0 : _a.waypoints)) {
        const wp = state.me.waypoints[draggedWaypoint];
        if (wp) {
          bus.emit("ship:waypointMoved", {
            index: draggedWaypoint,
            x: wp.x,
            y: wp.y
          });
        }
      }
      if (draggedMissileWaypoint !== null) {
        const route = getActiveMissileRoute();
        if (route && route.waypoints && draggedMissileWaypoint < route.waypoints.length) {
          const wp = route.waypoints[draggedMissileWaypoint];
          bus.emit("missile:waypointMoved", {
            routeId: route.id,
            index: draggedMissileWaypoint,
            x: wp.x,
            y: wp.y
          });
        }
      }
      draggedWaypoint = null;
      draggedMissileWaypoint = null;
    }
    function getDraggedWaypoint() {
      return draggedWaypoint;
    }
    function getDraggedMissileWaypoint() {
      return draggedMissileWaypoint;
    }
    function getMissileCooldownRemaining() {
      const remaining = state.nextMissileReadyAt - getApproxServerNow2(state);
      return remaining > 0 ? remaining : 0;
    }
    return {
      getSelection,
      setSelection,
      getMissileSelection,
      setMissileSelection,
      getDefaultShipSpeed,
      setDefaultShipSpeed,
      getDefaultMissileLegSpeed,
      recordMissileLegSpeed,
      getShipWaypointOffset,
      displayIndexToActualIndex,
      actualIndexToDisplayIndex,
      computeRoutePoints,
      computeMissileRoutePoints,
      findWaypointAtPosition,
      hitTestRoute,
      hitTestMissileRoutes,
      shipLegDashOffsets,
      missileLegDashOffsets,
      updateRouteAnimations,
      ensureActiveMissileRoute,
      getActiveMissileRoute,
      cycleMissileRoute,
      cycleShipSelection,
      clearShipRoute,
      deleteSelectedShipWaypoint,
      deleteSelectedMissileWaypoint,
      launchActiveMissileRoute,
      handleShipPointer,
      handleMissilePointer,
      beginShipDrag,
      beginMissileDrag,
      updateShipDrag,
      updateMissileDrag,
      endDrag,
      getDraggedWaypoint,
      getDraggedMissileWaypoint,
      getMissileCooldownRemaining
    };
  }
  var init_logic = __esm({
    "web/src/game/logic.ts"() {
      "use strict";
      init_state();
      init_route();
    }
  });

  // web/src/game/render.ts
  function createRenderer({
    canvas,
    ctx,
    state,
    uiState,
    camera,
    logic
  }) {
    function drawShip(x, y, vx, vy, color, filled) {
      const p = camera.worldToCanvas({ x, y });
      const r = 10;
      ctx.save();
      ctx.translate(p.x, p.y);
      const angle = Math.atan2(vy, vx);
      ctx.rotate(angle);
      ctx.beginPath();
      ctx.moveTo(r, 0);
      ctx.lineTo(-r * 0.7, r * 0.6);
      ctx.lineTo(-r * 0.4, 0);
      ctx.lineTo(-r * 0.7, -r * 0.6);
      ctx.closePath();
      ctx.lineWidth = 2;
      ctx.strokeStyle = color;
      if (filled) {
        ctx.fillStyle = `${color}cc`;
        ctx.fill();
      }
      ctx.stroke();
      ctx.restore();
    }
    function drawGhostDot(x, y) {
      const p = camera.worldToCanvas({ x, y });
      ctx.beginPath();
      ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
      ctx.fillStyle = "#ccccccaa";
      ctx.fill();
    }
    function drawRoute() {
      var _a;
      if (!state.me) return;
      const route = logic.computeRoutePoints();
      if (!route || route.waypoints.length === 0) return;
      const heat = state.me.heat;
      const heatParams = heat ? {
        markerSpeed: heat.markerSpeed,
        kUp: heat.kUp,
        kDown: heat.kDown,
        exp: heat.exp,
        max: heat.max,
        overheatAt: heat.overheatAt,
        warnAt: heat.warnAt
      } : void 0;
      const currentSelection = logic.getSelection();
      const displaySelection = currentSelection ? {
        type: currentSelection.type,
        index: logic.actualIndexToDisplayIndex(currentSelection.index)
      } : null;
      const validSelection = displaySelection && displaySelection.index >= 0 ? displaySelection : null;
      const dragged = logic.getDraggedWaypoint();
      const displayDragged = dragged !== null ? logic.actualIndexToDisplayIndex(dragged) : null;
      const validDragged = displayDragged !== null && displayDragged >= 0 ? displayDragged : null;
      drawPlannedRoute(ctx, {
        routePoints: route,
        selection: validSelection,
        draggedWaypoint: validDragged,
        dashStore: logic.shipLegDashOffsets,
        palette: SHIP_PALETTE,
        showLegs: uiState.showShipRoute,
        heatParams,
        initialHeat: (_a = heat == null ? void 0 : heat.value) != null ? _a : 0,
        defaultSpeed: logic.getDefaultShipSpeed(),
        worldPoints: route.worldPoints
      });
    }
    function drawMissileRoute() {
      if (!state.me) return;
      if (uiState.inputContext !== "missile") return;
      const route = logic.computeMissileRoutePoints();
      if (!route || route.waypoints.length === 0) return;
      const heatParams = state.missileConfig.heatParams;
      const missileSelection = logic.getMissileSelection();
      const genericSelection = missileSelection && missileSelection.type === "leg" ? { type: "leg", index: missileSelection.index } : missileSelection && missileSelection.type === "waypoint" ? { type: "waypoint", index: missileSelection.index } : null;
      drawPlannedRoute(ctx, {
        routePoints: route,
        selection: genericSelection,
        draggedWaypoint: null,
        dashStore: logic.missileLegDashOffsets,
        palette: MISSILE_PALETTE,
        showLegs: true,
        heatParams,
        initialHeat: 0,
        defaultSpeed: state.missileConfig.speed,
        worldPoints: route.worldPoints
      });
    }
    function drawMissiles() {
      if (!state.missiles || state.missiles.length === 0) return;
      const world = camera.getWorldSize();
      const scaleX = canvas.width / world.w;
      const scaleY = canvas.height / world.h;
      const radiusScale = (scaleX + scaleY) / 2;
      for (const miss of state.missiles) {
        const p = camera.worldToCanvas({ x: miss.x, y: miss.y });
        const selfOwned = Boolean(miss.self);
        ctx.save();
        ctx.beginPath();
        ctx.arc(p.x, p.y, selfOwned ? 6 : 5, 0, Math.PI * 2);
        ctx.fillStyle = selfOwned ? "#f87171" : "#fca5a5";
        ctx.globalAlpha = selfOwned ? 0.95 : 0.8;
        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.lineWidth = 1.5;
        ctx.strokeStyle = "#111827";
        ctx.stroke();
        ctx.restore();
        if (selfOwned && miss.agro_radius > 0) {
          ctx.save();
          ctx.beginPath();
          const rCanvas = miss.agro_radius * radiusScale;
          ctx.setLineDash([14, 10]);
          ctx.strokeStyle = "rgba(248,113,113,0.35)";
          ctx.lineWidth = 1.2;
          ctx.arc(p.x, p.y, rCanvas, 0, Math.PI * 2);
          ctx.stroke();
          ctx.restore();
        }
      }
    }
    function drawGrid() {
      ctx.save();
      ctx.strokeStyle = "#234";
      ctx.lineWidth = 1;
      const zoom = uiState.zoom;
      let step = 1e3;
      if (zoom < 0.7) {
        step = 2e3;
      } else if (zoom > 1.5) {
        step = 500;
      } else if (zoom > 2.5) {
        step = 250;
      }
      const cameraPos = camera.getCameraPosition();
      const world = camera.getWorldSize();
      const scaleX = canvas.width / world.w;
      const scaleY = canvas.height / world.h;
      const scale = Math.min(scaleX, scaleY) * zoom;
      const viewportWidth = canvas.width / scale;
      const viewportHeight = canvas.height / scale;
      const minX = Math.max(0, cameraPos.x - viewportWidth / 2);
      const maxX = Math.min(world.w, cameraPos.x + viewportWidth / 2);
      const minY = Math.max(0, cameraPos.y - viewportHeight / 2);
      const maxY = Math.min(world.h, cameraPos.y + viewportHeight / 2);
      const startX = Math.floor(minX / step) * step;
      const endX = Math.ceil(maxX / step) * step;
      const startY = Math.floor(minY / step) * step;
      const endY = Math.ceil(maxY / step) * step;
      for (let x = startX; x <= endX; x += step) {
        const a = camera.worldToCanvas({ x, y: Math.max(0, minY) });
        const b = camera.worldToCanvas({ x, y: Math.min(world.h, maxY) });
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
      for (let y = startY; y <= endY; y += step) {
        const a = camera.worldToCanvas({ x: Math.max(0, minX), y });
        const b = camera.worldToCanvas({ x: Math.min(world.w, maxX), y });
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
      ctx.restore();
    }
    function drawBeacons() {
      var _a, _b, _c, _d;
      const mission = state.mission;
      if (!mission || mission.beacons.length === 0) {
        return;
      }
      const world = camera.getWorldSize();
      const scale = Math.min(canvas.width / world.w, canvas.height / world.h) * uiState.zoom;
      const me = state.me;
      const player = mission.player;
      const activeBeaconId = (_a = player == null ? void 0 : player.activeBeaconId) != null ? _a : null;
      const holdRequired = (_b = player == null ? void 0 : player.holdRequired) != null ? _b : 0;
      const holdAccum = (_d = (_c = player == null ? void 0 : player.displayHold) != null ? _c : player == null ? void 0 : player.holdAccum) != null ? _d : 0;
      mission.beacons.forEach((beacon) => {
        const center = camera.worldToCanvas({ x: beacon.x, y: beacon.y });
        const edge = camera.worldToCanvas({ x: beacon.x + beacon.radius, y: beacon.y });
        const radius = Math.hypot(edge.x - center.x, edge.y - center.y);
        if (!Number.isFinite(radius) || radius <= 0.5) {
          return;
        }
        const isLocked = beacon.completed;
        const isActive = activeBeaconId === beacon.id;
        const baseLineWidth = Math.max(1.5, 2.5 * Math.min(1, scale * 1.2));
        const strokeStyle = isLocked ? "rgba(74,222,128,0.85)" : isActive ? "rgba(56,189,248,0.95)" : "rgba(148,163,184,0.65)";
        ctx.save();
        ctx.beginPath();
        ctx.setLineDash(isActive ? [] : [10, 12]);
        ctx.lineWidth = isActive ? baseLineWidth * 1.4 : baseLineWidth;
        ctx.strokeStyle = strokeStyle;
        ctx.globalAlpha = isLocked ? 0.9 : 0.8;
        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
        ctx.stroke();
        const inside = isActive && me ? (() => {
          const dx = me.x - beacon.x;
          const dy = me.y - beacon.y;
          return dx * dx + dy * dy <= beacon.radius * beacon.radius;
        })() : false;
        if (inside) {
          ctx.beginPath();
          ctx.fillStyle = "rgba(56,189,248,0.12)";
          ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
          ctx.fill();
        }
        if (isActive) {
          const progress = holdRequired > 0 ? Math.max(0, Math.min(1, holdAccum / holdRequired)) : 0;
          if (progress > 0) {
            ctx.beginPath();
            ctx.strokeStyle = "rgba(56,189,248,0.95)";
            ctx.lineWidth = Math.max(baseLineWidth * 1.8, 2);
            ctx.setLineDash([]);
            ctx.arc(center.x, center.y, radius, -Math.PI / 2, -Math.PI / 2 + progress * Math.PI * 2);
            ctx.stroke();
          }
        }
        if (isLocked) {
          ctx.beginPath();
          ctx.fillStyle = "rgba(74,222,128,0.75)";
          ctx.arc(center.x, center.y, Math.max(4, radius * 0.05), 0, Math.PI * 2);
          ctx.fill();
        }
        ctx.restore();
      });
    }
    function drawScene() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawGrid();
      drawBeacons();
      drawRoute();
      drawMissileRoute();
      drawMissiles();
      for (const g of state.ghosts) {
        drawShip(g.x, g.y, g.vx, g.vy, "#9ca3af", false);
        drawGhostDot(g.x, g.y);
      }
      if (state.me) {
        drawShip(state.me.x, state.me.y, state.me.vx, state.me.vy, "#22d3ee", true);
      }
    }
    return {
      drawScene,
      drawGrid,
      drawBeacons,
      drawShip,
      drawGhostDot,
      drawRoute,
      drawMissileRoute,
      drawMissiles
    };
  }
  var init_render = __esm({
    "web/src/game/render.ts"() {
      "use strict";
      init_route();
    }
  });

  // web/src/game/ui.ts
  function createUI({
    state,
    uiState,
    bus,
    logic,
    camera,
    sendMessage: sendMessage2,
    getApproxServerNow: getApproxServerNow2
  }) {
    let canvas = null;
    let ctx = null;
    let HPspan = null;
    let killsSpan = null;
    let shipControlsCard = null;
    let shipClearBtn = null;
    let shipSetBtn = null;
    let shipSelectBtn = null;
    let shipRoutesContainer = null;
    let shipRouteLeg = null;
    let shipRouteSpeed = null;
    let shipDeleteBtn = null;
    let shipSpeedCard = null;
    let shipSpeedSlider = null;
    let shipSpeedValue = null;
    let missileSpeedMarker = null;
    let missileControlsCard = null;
    let missileAddRouteBtn = null;
    let missileLaunchBtn = null;
    let missileLaunchText = null;
    let missileLaunchInfo = null;
    let missileSetBtn = null;
    let missileSelectBtn = null;
    let missileDeleteBtn = null;
    let missileSpeedCard = null;
    let missileSpeedSlider = null;
    let missileSpeedValue = null;
    let missileAgroCard = null;
    let missileAgroSlider = null;
    let missileAgroValue = null;
    let missileHeatCapacityCard = null;
    let missileHeatCapacitySlider = null;
    let missileHeatCapacityValue = null;
    let missileCraftBtn = null;
    let missileCountSpan = null;
    let missileCraftTimerDiv = null;
    let craftTimeRemainingSpan = null;
    let spawnBotBtn = null;
    let spawnBotText = null;
    let routePrevBtn = null;
    let routeNextBtn = null;
    let routeMenuToggle = null;
    let routeMenu = null;
    let renameMissileRouteBtn = null;
    let deleteMissileRouteBtn = null;
    let clearMissileWaypointsBtn = null;
    let missileRouteNameLabel = null;
    let missileRouteCountLabel = null;
    let helpToggle = null;
    let helpOverlay = null;
    let helpCloseBtn = null;
    let helpText = null;
    let heatBarFill = null;
    let heatBarPlanned = null;
    let heatValueText = null;
    let speedMarker = null;
    let stallOverlay = null;
    let baseShipSpeedMax = null;
    let markerAligned = false;
    let heatWarnActive = false;
    let stallActive = false;
    let dualMeterAlert = false;
    let lastMissileLaunchTextHTML = "";
    let lastMissileLaunchInfoHTML = "";
    let lastMissileConfigSent = null;
    function cacheDom() {
      var _a, _b;
      canvas = document.getElementById("cv");
      ctx = (_a = canvas == null ? void 0 : canvas.getContext("2d")) != null ? _a : null;
      HPspan = document.getElementById("ship-hp");
      shipControlsCard = document.getElementById("ship-controls");
      shipClearBtn = document.getElementById("ship-clear");
      shipSetBtn = document.getElementById("ship-set");
      shipSelectBtn = document.getElementById("ship-select");
      shipRoutesContainer = document.getElementById("ship-routes");
      shipRouteLeg = document.getElementById("ship-route-leg");
      shipRouteSpeed = document.getElementById("ship-route-speed");
      shipDeleteBtn = document.getElementById("ship-delete");
      shipSpeedCard = document.getElementById("ship-speed-card");
      shipSpeedSlider = document.getElementById("ship-speed-slider");
      shipSpeedValue = document.getElementById("ship-speed-value");
      if (shipSpeedSlider && baseShipSpeedMax === null) {
        const parsed = parseFloat(shipSpeedSlider.max);
        baseShipSpeedMax = Number.isFinite(parsed) ? parsed : 250;
      }
      missileControlsCard = document.getElementById("missile-controls");
      missileAddRouteBtn = document.getElementById("missile-add-route");
      missileLaunchBtn = document.getElementById("missile-launch");
      missileLaunchText = document.getElementById("missile-launch-text");
      missileLaunchInfo = document.getElementById("missile-launch-info");
      missileSetBtn = document.getElementById("missile-set");
      missileSelectBtn = document.getElementById("missile-select");
      missileDeleteBtn = document.getElementById("missile-delete");
      missileSpeedCard = document.getElementById("missile-speed-card");
      missileSpeedSlider = document.getElementById("missile-speed-slider");
      missileSpeedValue = document.getElementById("missile-speed-value");
      missileAgroCard = document.getElementById("missile-agro-card");
      missileAgroSlider = document.getElementById("missile-agro-slider");
      missileAgroValue = document.getElementById("missile-agro-value");
      missileHeatCapacityCard = document.getElementById("missile-heat-capacity-card");
      missileHeatCapacitySlider = document.getElementById("missile-heat-capacity-slider");
      missileHeatCapacityValue = document.getElementById("missile-heat-capacity-value");
      missileCraftBtn = document.getElementById("missile-craft");
      missileCountSpan = document.getElementById("missile-count");
      missileCraftTimerDiv = document.getElementById("missile-craft-timer");
      craftTimeRemainingSpan = document.getElementById("craft-time-remaining");
      spawnBotBtn = document.getElementById("spawn-bot");
      spawnBotText = document.getElementById("spawn-bot-text");
      killsSpan = document.getElementById("ship-kills");
      routePrevBtn = document.getElementById("route-prev");
      routeNextBtn = document.getElementById("route-next");
      routeMenuToggle = document.getElementById("route-menu-toggle");
      routeMenu = document.getElementById("route-menu");
      renameMissileRouteBtn = document.getElementById("rename-missile-route");
      deleteMissileRouteBtn = document.getElementById("delete-missile-route");
      clearMissileWaypointsBtn = document.getElementById("clear-missile-waypoints");
      missileRouteNameLabel = document.getElementById("missile-route-name");
      missileRouteCountLabel = document.getElementById("missile-route-count");
      helpToggle = document.getElementById("help-toggle");
      helpOverlay = document.getElementById("help-overlay");
      helpCloseBtn = document.getElementById("help-close");
      helpText = document.getElementById("help-text");
      heatBarFill = document.getElementById("heat-bar-fill");
      heatBarPlanned = document.getElementById("heat-bar-planned");
      heatValueText = document.getElementById("heat-value-text");
      speedMarker = document.getElementById("speed-marker");
      missileSpeedMarker = document.getElementById("missile-speed-marker");
      stallOverlay = document.getElementById("stall-overlay");
      const sliderDefault = parseFloat((_b = shipSpeedSlider == null ? void 0 : shipSpeedSlider.value) != null ? _b : "150");
      logic.setDefaultShipSpeed(Number.isFinite(sliderDefault) ? sliderDefault : 150);
      if (missileSpeedSlider) {
        missileSpeedSlider.disabled = false;
      }
      return { canvas, ctx };
    }
    function bindUI() {
      spawnBotBtn == null ? void 0 : spawnBotBtn.addEventListener("click", () => {
        if (!spawnBotBtn || spawnBotBtn.disabled) return;
        sendMessage2({ type: "spawn_bot" });
        bus.emit("bot:spawnRequested");
        spawnBotBtn.disabled = true;
        if (spawnBotText) {
          spawnBotText.textContent = "Spawned";
        }
        setTimeout(() => {
          if (spawnBotBtn) {
            spawnBotBtn.disabled = false;
          }
          if (spawnBotText) {
            spawnBotText.textContent = "Bot";
          }
        }, 5e3);
      });
      shipClearBtn == null ? void 0 : shipClearBtn.addEventListener("click", () => {
        setInputContext("ship");
        logic.clearShipRoute();
        bus.emit("ship:clearInvoked");
      });
      shipSetBtn == null ? void 0 : shipSetBtn.addEventListener("click", () => {
        setActiveTool("ship-set");
      });
      shipSelectBtn == null ? void 0 : shipSelectBtn.addEventListener("click", () => {
        setActiveTool("ship-select");
      });
      shipSpeedSlider == null ? void 0 : shipSpeedSlider.addEventListener("input", (event) => {
        var _a;
        const value = parseFloat(event.target.value);
        if (!Number.isFinite(value)) return;
        updateSpeedLabel(value);
        logic.setDefaultShipSpeed(value);
        const selection = logic.getSelection();
        if (selection && state.me && Array.isArray(state.me.waypoints) && state.me.waypoints[selection.index]) {
          sendMessage2({ type: "update_waypoint", index: selection.index, speed: value });
          state.me.waypoints[selection.index].speed = value;
          refreshShipSelectionUI();
          updatePlannedHeatBar();
        }
        const heat = (_a = state.me) == null ? void 0 : _a.heat;
        if (heat) {
          const tolerance = Math.max(5, heat.markerSpeed * 0.02);
          const diff = Math.abs(value - heat.markerSpeed);
          const inRange = diff <= tolerance;
          if (inRange && !markerAligned) {
            markerAligned = true;
            bus.emit("heat:markerAligned", { value, marker: heat.markerSpeed });
          } else if (!inRange && markerAligned) {
            markerAligned = false;
          }
        } else {
          markerAligned = false;
        }
        bus.emit("ship:speedChanged", { value });
      });
      shipDeleteBtn == null ? void 0 : shipDeleteBtn.addEventListener("click", () => {
        setInputContext("ship");
        logic.deleteSelectedShipWaypoint();
      });
      missileAddRouteBtn == null ? void 0 : missileAddRouteBtn.addEventListener("click", () => {
        setInputContext("missile");
        sendMessage2({ type: "add_missile_route" });
      });
      missileLaunchBtn == null ? void 0 : missileLaunchBtn.addEventListener("click", () => {
        setInputContext("missile");
        logic.launchActiveMissileRoute();
      });
      missileSetBtn == null ? void 0 : missileSetBtn.addEventListener("click", () => {
        setActiveTool("missile-set");
      });
      missileSelectBtn == null ? void 0 : missileSelectBtn.addEventListener("click", () => {
        setActiveTool("missile-select");
      });
      missileDeleteBtn == null ? void 0 : missileDeleteBtn.addEventListener("click", () => {
        setInputContext("missile");
        logic.deleteSelectedMissileWaypoint();
        bus.emit("missile:deleteInvoked");
      });
      missileSpeedSlider == null ? void 0 : missileSpeedSlider.addEventListener("input", (event) => {
        var _a, _b;
        const slider = event.target;
        if (slider.disabled) {
          return;
        }
        const raw = parseFloat(slider.value);
        if (!Number.isFinite(raw)) return;
        const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
        const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
        const clampedValue = clamp(raw, minSpeed, maxSpeed);
        slider.value = clampedValue.toFixed(0);
        if (missileSpeedValue) {
          missileSpeedValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        const route = logic.getActiveMissileRoute();
        const missileSelection = logic.getMissileSelection();
        if (route && missileSelection && missileSelection.type === "leg" && Array.isArray(route.waypoints) && missileSelection.index >= 0 && missileSelection.index < route.waypoints.length) {
          route.waypoints = route.waypoints.map(
            (w, idx) => idx === missileSelection.index ? { ...w, speed: clampedValue } : w
          );
          sendMessage2({
            type: "update_missile_waypoint_speed",
            route_id: route.id,
            index: missileSelection.index,
            speed: clampedValue
          });
          bus.emit("missile:speedChanged", { value: clampedValue, index: missileSelection.index });
        } else {
          const cfg = sanitizeMissileConfig(
            {
              speed: clampedValue,
              agroRadius: state.missileConfig.agroRadius
            },
            state.missileConfig,
            state.missileLimits
          );
          state.missileConfig = cfg;
          sendMissileConfig(cfg);
          bus.emit("missile:speedChanged", { value: clampedValue, index: -1 });
        }
        logic.recordMissileLegSpeed(clampedValue);
      });
      missileAgroSlider == null ? void 0 : missileAgroSlider.addEventListener("input", (event) => {
        var _a;
        const slider = event.target;
        const raw = parseFloat(slider.value);
        if (!Number.isFinite(raw)) return;
        const minAgro = (_a = state.missileLimits.agroMin) != null ? _a : MISSILE_MIN_AGRO;
        const clampedValue = Math.max(minAgro, raw);
        slider.value = clampedValue.toFixed(0);
        if (missileAgroValue) {
          missileAgroValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        updateMissileConfigFromUI({ agroRadius: clampedValue });
        bus.emit("missile:agroChanged", { value: clampedValue });
      });
      missileHeatCapacitySlider == null ? void 0 : missileHeatCapacitySlider.addEventListener("input", (event) => {
        const raw = parseFloat(event.target.value);
        if (!Number.isFinite(raw)) return;
        const clampedValue = Math.max(80, Math.min(200, raw));
        missileHeatCapacitySlider.value = clampedValue.toFixed(0);
        if (missileHeatCapacityValue) {
          missileHeatCapacityValue.textContent = `${clampedValue.toFixed(0)}`;
        }
        state.craftHeatCapacity = clampedValue;
      });
      missileCraftBtn == null ? void 0 : missileCraftBtn.addEventListener("click", () => {
        var _a;
        if (missileCraftBtn.disabled) return;
        const heatCap = state.craftHeatCapacity;
        let nodeId = "craft.missile.basic";
        if (state.dag) {
          const craftNodes = state.dag.nodes.filter((n) => n.kind === "craft" && n.id.includes("missile"));
          for (const node of craftNodes) {
            const nodeHeatCap = parseInt(((_a = node.id.match(/(\d+)/)) == null ? void 0 : _a[1]) || "80");
            if (Math.abs(nodeHeatCap - heatCap) < 5) {
              nodeId = node.id;
              break;
            }
          }
          if (heatCap >= 180) {
            nodeId = "craft.missile.extended";
          } else if (heatCap >= 140) {
            nodeId = "craft.missile.high_heat";
          } else if (heatCap >= 110) {
            nodeId = "craft.missile.long_range";
          } else {
            nodeId = "craft.missile.basic";
          }
        }
        sendMessage2({ type: "dag_start", node_id: nodeId });
        bus.emit("missile:craftRequested", { nodeId, heatCapacity: heatCap });
      });
      routePrevBtn == null ? void 0 : routePrevBtn.addEventListener("click", () => logic.cycleMissileRoute(-1));
      routeNextBtn == null ? void 0 : routeNextBtn.addEventListener("click", () => logic.cycleMissileRoute(1));
      routeMenuToggle == null ? void 0 : routeMenuToggle.addEventListener("click", () => {
        routeMenu == null ? void 0 : routeMenu.classList.toggle("visible");
      });
      renameMissileRouteBtn == null ? void 0 : renameMissileRouteBtn.addEventListener("click", () => {
        var _a, _b;
        const route = logic.getActiveMissileRoute();
        if (!route) return;
        const nextName = (_b = prompt("Rename route", (_a = route.name) != null ? _a : "")) != null ? _b : "";
        const trimmed = nextName.trim();
        if (trimmed === route.name) return;
        sendMessage2({
          type: "rename_missile_route",
          route_id: route.id,
          name: trimmed
        });
        route.name = trimmed;
        renderMissileRouteControls();
      });
      deleteMissileRouteBtn == null ? void 0 : deleteMissileRouteBtn.addEventListener("click", () => {
        const route = logic.getActiveMissileRoute();
        if (!route) return;
        sendMessage2({ type: "delete_missile_route", route_id: route.id });
      });
      clearMissileWaypointsBtn == null ? void 0 : clearMissileWaypointsBtn.addEventListener("click", () => {
        const route = logic.getActiveMissileRoute();
        if (!route || !Array.isArray(route.waypoints) || route.waypoints.length === 0) {
          return;
        }
        sendMessage2({ type: "clear_missile_waypoints", route_id: route.id });
        route.waypoints = [];
        logic.setMissileSelection(null);
        renderMissileRouteControls();
      });
      helpToggle == null ? void 0 : helpToggle.addEventListener("click", () => {
        setHelpVisible(true);
      });
      helpCloseBtn == null ? void 0 : helpCloseBtn.addEventListener("click", () => {
        setHelpVisible(false);
      });
      bus.on("ship:legSelected", () => {
        refreshShipSelectionUI();
      });
      bus.on("ship:waypointAdded", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("ship:waypointDeleted", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("ship:waypointsCleared", () => {
        refreshShipSelectionUI();
        updatePlannedHeatBar();
      });
      bus.on("missile:selectionChanged", () => {
        refreshMissileSelectionUI();
        updateMissileSpeedControls();
      });
      bus.on("missile:waypointAdded", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:waypointDeleted", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:activeRouteChanged", () => {
        renderMissileRouteControls();
      });
      bus.on("missile:craftRequested", () => {
        if (missileCraftBtn) {
          missileCraftBtn.disabled = true;
        }
        updateCraftTimer();
        setTimeout(() => {
          if (missileCraftBtn) {
            missileCraftBtn.disabled = false;
          }
        }, 500);
      });
    }
    function getCanvas() {
      return canvas;
    }
    function getContext() {
      return ctx;
    }
    function updateSpeedLabel(value) {
      if (!shipSpeedValue) return;
      shipSpeedValue.textContent = `${value.toFixed(0)} u/s`;
    }
    function adjustSliderValue(input, steps, coarse) {
      if (!input) return null;
      const step = Math.abs(parseFloat(input.step)) || 1;
      const multiplier = coarse ? 4 : 1;
      const min = Number.isFinite(parseFloat(input.min)) ? parseFloat(input.min) : -Infinity;
      const max = Number.isFinite(parseFloat(input.max)) ? parseFloat(input.max) : Infinity;
      const current = parseFloat(input.value) || 0;
      let next = current + steps * step * multiplier;
      if (Number.isFinite(min)) next = Math.max(min, next);
      if (Number.isFinite(max)) next = Math.min(max, next);
      if (Math.abs(next - current) < 1e-4) {
        return null;
      }
      input.value = String(next);
      input.dispatchEvent(new Event("input", { bubbles: true }));
      return next;
    }
    function adjustShipSpeed(steps, coarse) {
      adjustSliderValue(shipSpeedSlider, steps, coarse);
    }
    function adjustMissileAgro(steps, coarse) {
      adjustSliderValue(missileAgroSlider, steps, coarse);
    }
    function adjustMissileSpeed(steps, coarse) {
      if (missileSpeedSlider && !missileSpeedSlider.disabled) {
        adjustSliderValue(missileSpeedSlider, steps, coarse);
      }
    }
    function setShipSliderValue(value) {
      if (!shipSpeedSlider) return;
      shipSpeedSlider.value = value.toFixed(0);
      updateSpeedLabel(value);
    }
    function renderMissileRouteControls() {
      const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
      const activeRoute = logic.getActiveMissileRoute();
      if (missileRouteNameLabel) {
        if (!activeRoute) {
          missileRouteNameLabel.textContent = routes.length === 0 ? "No route" : "Route";
        } else {
          missileRouteNameLabel.textContent = activeRoute.name || "Route";
        }
      }
      if (missileRouteCountLabel) {
        const count = activeRoute && Array.isArray(activeRoute.waypoints) ? activeRoute.waypoints.length : 0;
        missileRouteCountLabel.textContent = `${count} pts`;
      }
      if (deleteMissileRouteBtn) {
        deleteMissileRouteBtn.disabled = routes.length <= 1;
      }
      if (renameMissileRouteBtn) {
        renameMissileRouteBtn.disabled = !activeRoute;
      }
      if (clearMissileWaypointsBtn) {
        const count = activeRoute && Array.isArray(activeRoute.waypoints) ? activeRoute.waypoints.length : 0;
        clearMissileWaypointsBtn.disabled = !activeRoute || count === 0;
      }
      if (routePrevBtn) {
        routePrevBtn.disabled = routes.length <= 1;
      }
      if (routeNextBtn) {
        routeNextBtn.disabled = routes.length <= 1;
      }
      updateMissileLaunchButtonState();
      refreshMissileSelectionUI();
    }
    function syncMissileUIFromState() {
      logic.ensureActiveMissileRoute();
      const activeRoute = logic.getActiveMissileRoute();
      const missileSel = logic.getMissileSelection();
      const routeHasSelection = !!activeRoute && Array.isArray(activeRoute.waypoints) && !!missileSel && missileSel.index >= 0 && missileSel.index < activeRoute.waypoints.length;
      if (!routeHasSelection) {
        logic.setMissileSelection(null);
      }
      const cfg = state.missileConfig;
      applyMissileUI(cfg);
      renderMissileRouteControls();
      refreshMissileSelectionUI();
    }
    function applyMissileUI(cfg) {
      var _a;
      if (missileAgroSlider) {
        const minAgro = (_a = state.missileLimits.agroMin) != null ? _a : MISSILE_MIN_AGRO;
        const maxAgro = Math.max(5e3, Math.ceil((cfg.agroRadius + 500) / 500) * 500);
        missileAgroSlider.min = String(minAgro);
        missileAgroSlider.max = String(maxAgro);
        missileAgroSlider.value = cfg.agroRadius.toFixed(0);
      }
      if (missileAgroValue) {
        missileAgroValue.textContent = cfg.agroRadius.toFixed(0);
      }
      updateMissileSpeedControls();
      updateSpeedMarker();
    }
    function updateMissileConfigFromUI(overrides = {}) {
      var _a, _b;
      const current = state.missileConfig;
      const cfg = sanitizeMissileConfig(
        {
          speed: current.speed,
          agroRadius: (_a = overrides.agroRadius) != null ? _a : current.agroRadius
        },
        current,
        state.missileLimits
      );
      state.missileConfig = cfg;
      applyMissileUI(cfg);
      const last = lastMissileConfigSent;
      const needsSend = !last || Math.abs(((_b = last.agroRadius) != null ? _b : 0) - cfg.agroRadius) > 5;
      if (needsSend) {
        sendMissileConfig(cfg);
      }
      renderMissileRouteControls();
    }
    function sendMissileConfig(cfg) {
      lastMissileConfigSent = {
        speed: cfg.speed,
        agroRadius: cfg.agroRadius
      };
      sendMessage2({
        type: "configure_missile",
        missile_speed: cfg.speed,
        missile_agro: cfg.agroRadius
      });
    }
    function refreshShipSelectionUI() {
      if (!shipRoutesContainer || !shipRouteLeg || !shipRouteSpeed || !shipDeleteBtn) {
        return;
      }
      const wps = state.me && Array.isArray(state.me.waypoints) ? state.me.waypoints : [];
      const selection = logic.getSelection();
      const hasValidSelection = selection !== null && selection.index >= 0 && selection.index < wps.length;
      const isShipContext = uiState.inputContext === "ship";
      shipRoutesContainer.style.display = "flex";
      shipRoutesContainer.style.opacity = isShipContext ? "1" : "0.6";
      if (!state.me || !hasValidSelection || !selection) {
        shipRouteLeg.textContent = "";
        shipRouteSpeed.textContent = "";
        shipDeleteBtn.disabled = true;
        if (isShipContext) {
          setShipSliderValue(logic.getDefaultShipSpeed());
        }
        return;
      }
      const wp = wps[selection.index];
      const speed = wp && typeof wp.speed === "number" ? wp.speed : logic.getDefaultShipSpeed();
      if (isShipContext && shipSpeedSlider && Math.abs(parseFloat(shipSpeedSlider.value) - speed) > 0.25) {
        setShipSliderValue(speed);
      } else {
        updateSpeedLabel(speed);
      }
      const displayIndex = selection.index + 1;
      shipRouteLeg.textContent = `${displayIndex}`;
      shipRouteSpeed.textContent = `${speed.toFixed(0)} u/s`;
      shipDeleteBtn.disabled = !isShipContext;
    }
    function refreshMissileSelectionUI() {
      const route = logic.getActiveMissileRoute();
      const count = route && Array.isArray(route.waypoints) ? route.waypoints.length : 0;
      const missileSel = logic.getMissileSelection();
      const isWaypointSelection = missileSel !== null && missileSel !== void 0 && missileSel.type === "waypoint" && missileSel.index >= 0 && missileSel.index < count;
      if (missileDeleteBtn) {
        missileDeleteBtn.disabled = !isWaypointSelection;
      }
      updateMissileSpeedControls();
    }
    function updateMissileSpeedControls() {
      var _a, _b;
      if (!missileSpeedSlider || !missileSpeedValue) {
        return;
      }
      const minSpeed = (_a = state.missileLimits.speedMin) != null ? _a : MISSILE_MIN_SPEED;
      const maxSpeed = (_b = state.missileLimits.speedMax) != null ? _b : MISSILE_MAX_SPEED;
      missileSpeedSlider.min = String(minSpeed);
      missileSpeedSlider.max = String(maxSpeed);
      const route = logic.getActiveMissileRoute();
      const missileSel = logic.getMissileSelection();
      const waypoints = route && Array.isArray(route.waypoints) ? route.waypoints : null;
      let selectedSpeed = null;
      let selectedType = null;
      if (waypoints && missileSel && missileSel.index >= 0 && missileSel.index < waypoints.length) {
        const wp = waypoints[missileSel.index];
        const value = typeof wp.speed === "number" && wp.speed > 0 ? wp.speed : logic.getDefaultMissileLegSpeed();
        selectedSpeed = clamp(value, minSpeed, maxSpeed);
        selectedType = missileSel.type;
      }
      const sliderDisabled = selectedType === "waypoint";
      let sliderValue;
      if (selectedSpeed !== null) {
        sliderValue = selectedSpeed;
      } else {
        const rawValue = parseFloat(missileSpeedSlider.value);
        const fallback = logic.getDefaultMissileLegSpeed();
        const targetValue = Number.isFinite(rawValue) ? rawValue : fallback;
        sliderValue = clamp(targetValue, minSpeed, maxSpeed);
      }
      missileSpeedSlider.disabled = sliderDisabled;
      missileSpeedSlider.value = sliderValue.toFixed(0);
      missileSpeedValue.textContent = `${sliderValue.toFixed(0)}`;
      if (!sliderDisabled) {
        logic.recordMissileLegSpeed(sliderValue);
      }
    }
    function setInputContext(context) {
      const next = context === "missile" ? "missile" : "ship";
      if (uiState.inputContext === next) {
        return;
      }
      uiState.inputContext = next;
      if (next === "ship") {
        const shipToolToUse = uiState.shipTool === "select" ? "ship-select" : "ship-set";
        if (uiState.activeTool !== shipToolToUse) {
          uiState.activeTool = shipToolToUse;
        }
      } else {
        const missileToolToUse = uiState.missileTool === "select" ? "missile-select" : "missile-set";
        if (uiState.activeTool !== missileToolToUse) {
          uiState.activeTool = missileToolToUse;
        }
      }
      bus.emit("context:changed", { context: next });
      updateControlHighlights();
      refreshShipSelectionUI();
      refreshMissileSelectionUI();
    }
    function setActiveTool(tool) {
      if (uiState.activeTool === tool) {
        return;
      }
      uiState.activeTool = tool;
      if (tool === "ship-set") {
        uiState.shipTool = "set";
        uiState.missileTool = null;
        setInputContext("ship");
        bus.emit("ship:toolChanged", { tool: "set" });
      } else if (tool === "ship-select") {
        uiState.shipTool = "select";
        uiState.missileTool = null;
        setInputContext("ship");
        bus.emit("ship:toolChanged", { tool: "select" });
      } else if (tool === "missile-set") {
        uiState.shipTool = null;
        uiState.missileTool = "set";
        setInputContext("missile");
        logic.setMissileSelection(null);
        bus.emit("missile:toolChanged", { tool: "set" });
      } else if (tool === "missile-select") {
        uiState.shipTool = null;
        uiState.missileTool = "select";
        setInputContext("missile");
        bus.emit("missile:toolChanged", { tool: "select" });
      }
      updateControlHighlights();
    }
    function setButtonState(btn, active) {
      if (!btn) return;
      if (active) {
        btn.dataset.state = "active";
        btn.setAttribute("aria-pressed", "true");
      } else {
        delete btn.dataset.state;
        btn.setAttribute("aria-pressed", "false");
      }
    }
    function updateControlHighlights() {
      setButtonState(shipSetBtn, uiState.activeTool === "ship-set");
      setButtonState(shipSelectBtn, uiState.activeTool === "ship-select");
      setButtonState(missileSetBtn, uiState.activeTool === "missile-set");
      setButtonState(missileSelectBtn, uiState.activeTool === "missile-select");
      if (shipControlsCard) {
        shipControlsCard.classList.toggle("active", uiState.inputContext === "ship");
      }
      if (missileControlsCard) {
        missileControlsCard.classList.toggle("active", uiState.inputContext === "missile");
      }
    }
    function setHelpVisible(flag) {
      uiState.helpVisible = flag;
      updateHelpOverlay();
      bus.emit("help:visibleChanged", { visible: uiState.helpVisible });
    }
    function updateHelpOverlay() {
      if (!helpOverlay || !helpText) return;
      helpOverlay.classList.toggle("visible", uiState.helpVisible);
      helpText.textContent = HELP_TEXT;
    }
    function updateMissileLaunchButtonState() {
      if (!missileLaunchBtn || !missileLaunchText || !missileLaunchInfo) return;
      const route = logic.getActiveMissileRoute();
      const count = route && Array.isArray(route.waypoints) ? route.waypoints.length : 0;
      const remaining = logic.getMissileCooldownRemaining();
      const coolingDown = remaining > 0.05;
      const shouldDisable = !route || count === 0 || coolingDown;
      missileLaunchBtn.disabled = shouldDisable;
      const launchTextHTML = '<span class="btn-text-full">Launch</span><span class="btn-text-short">Fire</span>';
      let launchInfoHTML = "";
      if (!route) {
        launchInfoHTML = "";
      } else if (coolingDown) {
        launchInfoHTML = `${remaining.toFixed(1)}s`;
      } else if (route.name) {
        const routes = Array.isArray(state.missileRoutes) ? state.missileRoutes : [];
        const routeIndex = routes.findIndex((r) => r.id === route.id) + 1;
        launchInfoHTML = `<span class="btn-text-full">${route.name}</span><span class="btn-text-short">${routeIndex}</span>`;
      } else {
        launchInfoHTML = "";
      }
      if (lastMissileLaunchTextHTML !== launchTextHTML) {
        missileLaunchText.innerHTML = launchTextHTML;
        lastMissileLaunchTextHTML = launchTextHTML;
      }
      if (lastMissileLaunchInfoHTML !== launchInfoHTML) {
        missileLaunchInfo.innerHTML = launchInfoHTML;
        lastMissileLaunchInfoHTML = launchInfoHTML;
      }
    }
    function updateMissileCountDisplay() {
      if (!missileCountSpan) return;
      let count = 0;
      if (state.inventory && state.inventory.items) {
        for (const item of state.inventory.items) {
          if (item.type === "missile") {
            count += item.quantity;
          }
        }
      }
      missileCountSpan.textContent = count.toString();
    }
    function updateCraftTimer() {
      if (!missileCraftTimerDiv || !craftTimeRemainingSpan) return;
      let craftInProgress = false;
      let remainingTime = 0;
      if (state.dag && state.dag.nodes) {
        for (const node of state.dag.nodes) {
          if (node.kind === "craft" && node.status === "in_progress") {
            craftInProgress = true;
            remainingTime = node.remaining_s;
            break;
          }
        }
      }
      if (craftInProgress && remainingTime > 0) {
        missileCraftTimerDiv.style.display = "block";
        craftTimeRemainingSpan.textContent = Math.ceil(remainingTime).toString();
      } else {
        missileCraftTimerDiv.style.display = "none";
      }
    }
    function updateStatusIndicators() {
      var _a;
      const meta = (_a = state.worldMeta) != null ? _a : {};
      camera.updateWorldFromMeta(meta);
      if (shipSpeedSlider && baseShipSpeedMax) {
        let multiplier = 1;
        const dag = state.dag;
        if (dag && Array.isArray(dag.nodes)) {
          for (const n of dag.nodes) {
            if (n && n.status === "completed" && typeof n.id === "string" && n.id.startsWith("upgrade.ship.speed_")) {
              const eff = Array.isArray(n.effects) ? n.effects : [];
              for (const e of eff) {
                if (e && e.type === "speed_multiplier" && typeof e.value === "number") {
                  if (e.value > multiplier) multiplier = e.value;
                }
              }
            }
          }
        }
        const intendedMax = (baseShipSpeedMax * multiplier).toFixed(0);
        if (shipSpeedSlider.max !== intendedMax) {
          shipSpeedSlider.max = intendedMax;
        }
      }
      if (HPspan) {
        if (state.me && Number.isFinite(state.me.hp)) {
          HPspan.textContent = Number(state.me.hp).toString();
        } else {
          HPspan.textContent = "\u2013";
        }
      }
      if (killsSpan) {
        if (state.me && Number.isFinite(state.me.kills)) {
          killsSpan.textContent = Number(state.me.kills).toString();
        } else {
          killsSpan.textContent = "0";
        }
      }
      updateHeatBar();
      updatePlannedHeatBar();
      updateSpeedMarker();
      updateStallOverlay();
    }
    function updateHeatBar() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat || !heatBarFill || !heatValueText) {
        heatWarnActive = false;
        return;
      }
      const percent = heat.value / heat.max * 100;
      heatBarFill.style.width = `${percent}%`;
      heatValueText.textContent = `Heat ${Math.round(heat.value)}`;
      heatBarFill.classList.remove("warn", "overheat");
      if (heat.value >= heat.overheatAt) {
        heatBarFill.classList.add("overheat");
      } else if (heat.value >= heat.warnAt) {
        heatBarFill.classList.add("warn");
      }
      const nowWarn = heat.value >= heat.warnAt;
      if (nowWarn && !heatWarnActive) {
        heatWarnActive = true;
        bus.emit("heat:warnEntered", { value: heat.value, warnAt: heat.warnAt });
      } else if (!nowWarn && heatWarnActive) {
        const coolThreshold = Math.max(0, heat.warnAt - 5);
        if (heat.value <= coolThreshold) {
          heatWarnActive = false;
          bus.emit("heat:cooledBelowWarn", { value: heat.value, warnAt: heat.warnAt });
        }
      }
    }
    function projectPlannedHeat() {
      const ship = state.me;
      if (!ship || !Array.isArray(ship.waypoints) || ship.waypoints.length === 0 || !ship.heat) {
        return null;
      }
      const currentIndexRaw = ship.currentWaypointIndex;
      const currentIndex = typeof currentIndexRaw === "number" && Number.isFinite(currentIndexRaw) ? currentIndexRaw : 0;
      const clampedIndex = Math.max(0, Math.min(currentIndex, ship.waypoints.length));
      const remainingWaypoints = clampedIndex > 0 ? ship.waypoints.slice(clampedIndex) : ship.waypoints.slice();
      if (remainingWaypoints.length === 0) {
        return null;
      }
      const route = [{ x: ship.x, y: ship.y, speed: void 0 }, ...remainingWaypoints];
      const heatParams = {
        markerSpeed: ship.heat.markerSpeed,
        kUp: ship.heat.kUp,
        kDown: ship.heat.kDown,
        exp: ship.heat.exp,
        max: ship.heat.max,
        overheatAt: ship.heat.overheatAt,
        warnAt: ship.heat.warnAt
      };
      const projection = projectRouteHeat(route, ship.heat.value, heatParams);
      return Math.max(...projection.heatAtWaypoints);
    }
    function updatePlannedHeatBar() {
      if (!heatBarPlanned) return;
      const resetPlannedBar = () => {
        if (heatBarPlanned) {
          heatBarPlanned.style.width = "0%";
        }
      };
      const ship = state.me;
      if (!ship || !ship.heat) {
        resetPlannedBar();
        dualMeterAlert = false;
        return;
      }
      const planned = projectPlannedHeat();
      if (planned === null) {
        resetPlannedBar();
        dualMeterAlert = false;
        return;
      }
      const actual = ship.heat.value;
      const percent = planned / ship.heat.max * 100;
      heatBarPlanned.style.width = `${Math.max(0, Math.min(100, percent))}%`;
      const diff = planned - actual;
      const threshold = Math.max(8, ship.heat.warnAt * 0.1);
      if (diff >= threshold && !dualMeterAlert) {
        dualMeterAlert = true;
        bus.emit("heat:dualMeterDiverged", { planned, actual });
      } else if (diff < threshold * 0.6 && dualMeterAlert) {
        dualMeterAlert = false;
      }
    }
    function updateSpeedMarker() {
      var _a, _b;
      const shipHeat = (_a = state.me) == null ? void 0 : _a.heat;
      if (speedMarker && shipSpeedSlider && shipHeat && shipHeat.markerSpeed > 0) {
        const min = parseFloat(shipSpeedSlider.min);
        const max = parseFloat(shipSpeedSlider.max);
        const markerSpeed = shipHeat.markerSpeed;
        const percent = (markerSpeed - min) / (max - min) * 100;
        const clamped = Math.max(0, Math.min(100, percent));
        speedMarker.style.left = `${clamped}%`;
        speedMarker.title = `Heat neutral: ${Math.round(markerSpeed)} units/s`;
        speedMarker.style.display = "block";
      } else if (speedMarker) {
        speedMarker.style.display = "none";
      }
      if (missileSpeedMarker && missileSpeedSlider) {
        const heatParams = state.missileConfig.heatParams;
        const markerSpeed = (_b = heatParams && Number.isFinite(heatParams.markerSpeed) ? heatParams.markerSpeed : void 0) != null ? _b : shipHeat && shipHeat.markerSpeed > 0 ? shipHeat.markerSpeed : void 0;
        if (markerSpeed !== void 0 && markerSpeed > 0) {
          const min = parseFloat(missileSpeedSlider.min);
          const max = parseFloat(missileSpeedSlider.max);
          const percent = (markerSpeed - min) / (max - min) * 100;
          const clamped = Math.max(0, Math.min(100, percent));
          missileSpeedMarker.style.left = `${clamped}%`;
          missileSpeedMarker.title = `Heat neutral: ${Math.round(markerSpeed)} units/s`;
          missileSpeedMarker.style.display = "block";
        } else {
          missileSpeedMarker.style.display = "none";
        }
      }
    }
    function updateStallOverlay() {
      var _a;
      const heat = (_a = state.me) == null ? void 0 : _a.heat;
      if (!heat || !stallOverlay) {
        stallActive = false;
        return;
      }
      const now = typeof performance !== "undefined" && typeof performance.now === "function" ? performance.now() : Date.now();
      const isStalled = now < heat.stallUntilMs;
      if (isStalled) {
        stallOverlay.classList.add("visible");
        if (!stallActive) {
          stallActive = true;
          bus.emit("heat:stallTriggered", { stallUntil: heat.stallUntilMs });
        }
      } else {
        stallOverlay.classList.remove("visible");
        if (stallActive) {
          stallActive = false;
          bus.emit("heat:stallRecovered", { value: heat.value });
        }
      }
    }
    return {
      cacheDom,
      bindUI,
      setActiveTool,
      setInputContext,
      updateControlHighlights,
      refreshShipSelectionUI,
      refreshMissileSelectionUI,
      renderMissileRouteControls,
      syncMissileUIFromState,
      updateHelpOverlay,
      setHelpVisible,
      updateMissileLaunchButtonState,
      updateMissileCountDisplay,
      updateCraftTimer,
      updateStatusIndicators,
      updatePlannedHeatBar,
      updateSpeedMarker,
      updateHeatBar,
      projectPlannedHeat,
      getCanvas,
      getContext,
      adjustShipSpeed,
      adjustMissileAgro,
      adjustMissileSpeed
    };
  }
  var init_ui = __esm({
    "web/src/game/ui.ts"() {
      "use strict";
      init_state();
      init_constants();
      init_route();
    }
  });

  // web/src/mission/hud.ts
  function mountMissionHud({ state, bus }) {
    const container = document.getElementById("mission-hud");
    if (!container) {
      return { destroy() {
      } };
    }
    const hudContainer = container;
    function render2() {
      var _a;
      const mission = state.mission;
      if (!mission) {
        hudContainer.classList.add("hidden");
        hudContainer.classList.remove("inside");
        return;
      }
      const hasObjectives = mission.objectives.length > 0 || mission.objectiveSummaries.length > 0;
      if (!hasObjectives && !mission.displayName) {
        hudContainer.classList.add("hidden");
        hudContainer.classList.remove("inside");
        return;
      }
      const objectives = mission.objectives.length > 0 ? mission.objectives : mission.objectiveSummaries.map((description, index) => ({
        id: `summary-${index}`,
        type: "summary",
        progress: 0,
        complete: false,
        description
      }));
      const aggregateProgress = mission.progress && Number.isFinite(mission.progress) ? mission.progress : objectives.length > 0 ? objectives.reduce((sum, obj) => sum + obj.progress, 0) / objectives.length : 0;
      const statusLabel = (() => {
        switch (mission.status) {
          case "completed":
            return "Completed";
          case "failed":
            return "Failed";
          case "active":
            return "Active";
          default:
            return "Ready";
        }
      })();
      const archetypeLabel = mission.archetype ? mission.archetype.toUpperCase() : "";
      const now = getApproxServerNow(state);
      let timerMarkup = "";
      if (mission.timeout && mission.timeout > 0 && mission.startTime) {
        const elapsed = Math.max(0, now - mission.startTime);
        const remaining = Math.max(0, mission.timeout - elapsed);
        const minutes = Math.floor(remaining / 60);
        const seconds = Math.floor(remaining % 60);
        const warningClass = remaining < 30 ? "warning" : "";
        timerMarkup = `
        <div class="mission-timer ${warningClass}">
          Time Remaining: ${minutes}:${seconds.toString().padStart(2, "0")}
        </div>
      `;
      }
      const objectiveItems = objectives.map((obj) => {
        const percent = Math.round(obj.progress * 100);
        const complete = obj.complete || percent >= 100;
        return `
        <li class="mission-objective">
          <div class="mission-objective-label">
            <span>${obj.description}</span>
            <span class="mission-objective-progress">${percent}%</span>
          </div>
          <div class="mission-objective-bar">
            <div class="mission-objective-fill ${complete ? "complete" : ""}" style="width: ${Math.min(100, Math.max(0, percent))}%"></div>
          </div>
        </li>
      `;
      }).join("");
      let playerStatus = "";
      if (mission.player) {
        const player = mission.player;
        const total = mission.beacons.length;
        const completedCount = mission.beacons.filter((b) => b.completed).length;
        const activeBeacon = player.activeBeaconId ? mission.beacons.find((b) => b.id === player.activeBeaconId) : mission.beacons.find((b) => !b.completed);
        const displayIndex = activeBeacon ? Math.min(activeBeacon.ordinal + 1, total) : Math.min(completedCount, total);
        const holdRequired = player.holdRequired || 0;
        const holdSeconds = Math.max(0, (_a = player.displayHold) != null ? _a : player.holdAccum);
        playerStatus = `
        <div class="mission-player-status">
          <div>Beacon ${total > 0 ? `${displayIndex}/${total}` : "\u2013"}</div>
          <div>Hold: ${holdRequired > 0 ? `${holdSeconds.toFixed(1)}s / ${holdRequired.toFixed(1)}s` : `${holdSeconds.toFixed(1)}s`}</div>
        </div>
      `;
        if (player.insideActiveBeacon) {
          hudContainer.classList.add("inside");
        } else {
          hudContainer.classList.remove("inside");
        }
      } else {
        hudContainer.classList.remove("inside");
      }
      hudContainer.innerHTML = `
      <div class="mission-header">
        <h3>${mission.displayName || "Mission"}</h3>
        <span class="mission-status">${statusLabel}</span>
      </div>
      ${archetypeLabel ? `<div class="mission-archetype">${archetypeLabel}</div>` : ""}
      <div class="mission-progress">
        <div class="mission-progress-track">
          <div class="mission-progress-fill" style="width: ${Math.min(100, Math.max(0, aggregateProgress * 100))}%"></div>
        </div>
        <span class="mission-progress-value">${Math.round(aggregateProgress * 100)}%</span>
      </div>
      ${timerMarkup}
      ${objectiveItems ? `<ul class="mission-objectives">${objectiveItems}</ul>` : ""}
      ${playerStatus}
    `;
      hudContainer.classList.remove("hidden");
    }
    render2();
    const unsubs = [
      bus.on("state:updated", () => render2()),
      bus.on("mission:update", () => render2()),
      bus.on("mission:start", () => render2()),
      bus.on("mission:offered", () => render2()),
      bus.on("mission:completed", () => render2()),
      bus.on("mission:failed", () => render2()),
      bus.on("mission:objectives-updated", () => render2()),
      bus.on("mission:progress-changed", () => render2()),
      bus.on("mission:beacon-locked", () => render2())
    ];
    return {
      destroy() {
        for (const unsub of unsubs) {
          unsub();
        }
      }
    };
  }
  var init_hud = __esm({
    "web/src/mission/hud.ts"() {
      "use strict";
      init_net();
    }
  });

  // web/src/game.ts
  function initGame({ state, uiState, bus }) {
    const canvasEl = document.getElementById("cv");
    if (!canvasEl) {
      throw new Error("Canvas element #cv not found");
    }
    const camera = createCamera({ canvas: canvasEl, state, uiState });
    const logic = createLogic({
      state,
      uiState,
      bus,
      sendMessage,
      getApproxServerNow,
      camera
    });
    const ui = createUI({
      state,
      uiState,
      bus,
      logic,
      camera,
      sendMessage,
      getApproxServerNow
    });
    const { canvas: cachedCanvas, ctx: cachedCtx } = ui.cacheDom();
    const renderCanvas = cachedCanvas != null ? cachedCanvas : canvasEl;
    const renderCtx = cachedCtx != null ? cachedCtx : renderCanvas.getContext("2d");
    if (!renderCtx) {
      throw new Error("Unable to acquire 2D rendering context");
    }
    const renderer = createRenderer({
      canvas: renderCanvas,
      ctx: renderCtx,
      state,
      uiState,
      camera,
      logic
    });
    const input = createInput({
      canvas: renderCanvas,
      ui,
      logic,
      camera,
      state,
      uiState,
      bus,
      sendMessage
    });
    ui.bindUI();
    input.bindInput();
    logic.ensureActiveMissileRoute();
    ui.syncMissileUIFromState();
    ui.updateControlHighlights();
    ui.refreshShipSelectionUI();
    ui.refreshMissileSelectionUI();
    ui.updateHelpOverlay();
    ui.updateStatusIndicators();
    ui.updateMissileLaunchButtonState();
    ui.updateMissileCountDisplay();
    mountMissionHud({ state, bus });
    let lastLoopTs = null;
    function loop(timestamp) {
      if (!Number.isFinite(timestamp)) {
        timestamp = lastLoopTs != null ? lastLoopTs : 0;
      }
      let dtSeconds = 0;
      if (lastLoopTs !== null) {
        dtSeconds = (timestamp - lastLoopTs) / 1e3;
        if (!Number.isFinite(dtSeconds) || dtSeconds < 0) {
          dtSeconds = 0;
        }
      }
      lastLoopTs = timestamp;
      logic.updateRouteAnimations(dtSeconds);
      renderer.drawScene();
      ui.updateMissileLaunchButtonState();
      ui.updateCraftTimer();
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
    return {
      onStateUpdated() {
        logic.ensureActiveMissileRoute();
        ui.syncMissileUIFromState();
        ui.refreshShipSelectionUI();
        ui.refreshMissileSelectionUI();
        ui.updateMissileLaunchButtonState();
        ui.updateMissileCountDisplay();
        ui.updateCraftTimer();
        ui.updateStatusIndicators();
      }
    };
  }
  var init_game = __esm({
    "web/src/game.ts"() {
      "use strict";
      init_net();
      init_camera();
      init_input();
      init_logic();
      init_render();
      init_ui();
      init_hud();
    }
  });

  // web/src/debug/encounter-overlay.ts
  function initEncounterDebugOverlay({ state, bus, refreshIntervalMs: intervalOverride }) {
    if (initialized) {
      return;
    }
    initialized = true;
    appState = state;
    eventBus = bus;
    refreshIntervalMs = Number.isFinite(intervalOverride) && intervalOverride > 100 ? intervalOverride : REFRESH_INTERVAL_MS_DEFAULT;
    debugBeacons = [...state.debug.beacons];
    debugEncounters = [...state.debug.encounters];
    isVisible = state.debug.visible;
    ensureOverlayElement();
    updateButtonState();
    render();
    window.addEventListener("keydown", handleKeyToggle, { passive: true });
    bus.on("debug:beacons", ({ beacons }) => {
      debugBeacons = [...beacons];
      if (appState) {
        appState.debug.beacons = [...beacons];
      }
      render();
    });
    bus.on("debug:encounters", ({ encounters }) => {
      debugEncounters = [...encounters];
      if (appState) {
        appState.debug.encounters = [...encounters];
      }
      render();
    });
    bus.on("mission:start", () => {
      if (isVisible) {
        requestDebugData(true);
      }
    });
    const toggleBtn = document.getElementById("debug-overlay-toggle");
    toggleBtn == null ? void 0 : toggleBtn.addEventListener("click", (event) => {
      event.preventDefault();
      toggleVisibility();
    });
    if (isVisible) {
      setVisibility(true, { requestImmediately: false });
    }
  }
  function handleKeyToggle(event) {
    if (!event || typeof event.key !== "string") {
      return;
    }
    if (event.key.toLowerCase() !== "d") {
      return;
    }
    const target = event.target;
    if (target && (target.tagName === "INPUT" || target.tagName === "TEXTAREA" || target.isContentEditable)) {
      return;
    }
    toggleVisibility();
  }
  function toggleVisibility() {
    setVisibility(!isVisible);
  }
  function setVisibility(visible, options = {}) {
    var _a;
    if (!appState) {
      return;
    }
    const shouldRequest = (_a = options.requestImmediately) != null ? _a : true;
    if (isVisible === visible) {
      if (visible) {
        if (shouldRequest) {
          requestDebugData(true);
        }
        startRefreshTimer();
      } else {
        stopRefreshTimer();
      }
      updateButtonState();
      render();
      return;
    }
    isVisible = visible;
    appState.debug.visible = visible;
    if (visible) {
      requestDebugData(shouldRequest);
      startRefreshTimer();
    } else {
      stopRefreshTimer();
    }
    updateButtonState();
    render();
    if (eventBus && typeof eventBus.emit === "function") {
      eventBus.emit("debug:overlay:visibility", { visible });
    }
  }
  function requestDebugData(force = false) {
    if (!appState) {
      return;
    }
    const now = getApproxServerNow(appState);
    if (!force && appState.debug.lastRequestedAt != null) {
      const elapsed = now - appState.debug.lastRequestedAt;
      if (elapsed >= 0 && elapsed < refreshIntervalMs / 1e3) {
        return;
      }
    }
    appState.debug.lastRequestedAt = now;
    sendMessage({ type: "debug:request-encounter-info", payload: {} });
  }
  function startRefreshTimer() {
    if (refreshTimer) {
      return;
    }
    refreshTimer = window.setInterval(() => {
      requestDebugData();
      render();
    }, refreshIntervalMs);
  }
  function stopRefreshTimer() {
    if (refreshTimer) {
      clearInterval(refreshTimer);
      refreshTimer = null;
    }
  }
  function ensureOverlayElement() {
    if (overlayEl) {
      return overlayEl;
    }
    const el = document.createElement("div");
    el.id = "encounter-debug-overlay";
    el.style.position = "fixed";
    el.style.top = "12px";
    el.style.right = "12px";
    el.style.width = "360px";
    el.style.maxHeight = "80vh";
    el.style.overflow = "auto";
    el.style.background = "rgba(5, 10, 20, 0.92)";
    el.style.color = "#e0f2fe";
    el.style.fontFamily = "JetBrains Mono, Fira Code, Consolas, monospace";
    el.style.fontSize = "12px";
    el.style.padding = "12px 14px";
    el.style.borderRadius = "8px";
    el.style.border = "1px solid rgba(125, 211, 252, 0.35)";
    el.style.boxShadow = "0 0 24px rgba(14, 116, 144, 0.35)";
    el.style.display = "none";
    el.style.zIndex = "10000";
    el.setAttribute("role", "region");
    el.setAttribute("aria-live", "polite");
    document.body.appendChild(el);
    overlayEl = el;
    return el;
  }
  function render() {
    var _a, _b, _c, _d;
    const el = ensureOverlayElement();
    if (!isVisible) {
      el.style.display = "none";
      return;
    }
    el.style.display = "block";
    const now = appState ? getApproxServerNow(appState) : Date.now() / 1e3;
    const lastUpdate = (_a = appState == null ? void 0 : appState.debug.lastReceivedAt) != null ? _a : null;
    const lastRequested = (_b = appState == null ? void 0 : appState.debug.lastRequestedAt) != null ? _b : null;
    let html = `<h3 style="margin: 0 0 10px; color: #38bdf8;">Encounter Debug<span style="float:right; font-size:11px; color:#94a3b8;">D to hide</span></h3>`;
    if (lastUpdate != null) {
      const age = clamp(now - lastUpdate, 0, Number.POSITIVE_INFINITY);
      html += `<div style="margin-bottom:8px; font-size:11px; color:#94a3b8;">Last update ${formatRelative(age)}${lastRequested && lastRequested > lastUpdate ? ` \u2022 waiting\u2026` : ""}</div>`;
    } else if (lastRequested != null) {
      html += `<div style="margin-bottom:8px; font-size:11px; color:#94a3b8;">Requested ${formatRelative(clamp(now - lastRequested, 0, Number.POSITIVE_INFINITY))} ago\u2026</div>`;
    } else {
      html += `<div style="margin-bottom:8px; font-size:11px; color:#94a3b8;">No debug data received yet.</div>`;
    }
    html += `<section style="margin-bottom:14px;">
    <h4 style="margin:0 0 6px; color:#facc15; font-size:12px;">Beacons (${debugBeacons.length})</h4>`;
    if (debugBeacons.length === 0) {
      html += `<div style="color:#94a3b8;">No beacons reported.</div>`;
    } else {
      for (const beacon of debugBeacons) {
        const tagStr = beacon.tags.length > 0 ? beacon.tags.map(escapeHtml).join(", ") : "none";
        const pin = beacon.pinned ? "\u{1F4CD}" : "";
        html += `<div style="margin:5px 0; padding:6px; background:rgba(14, 24, 44, 0.75); border:1px solid rgba(56, 189, 248, 0.18); border-radius:6px;">
        <div style="font-weight:600; color:#bae6fd;">${pin} ${escapeHtml(beacon.id)}</div>
        <div style="color:#94a3b8;">Pos: (${beacon.x.toFixed(0)}, ${beacon.y.toFixed(0)})</div>
        <div style="color:#94a3b8;">Tags: ${tagStr}</div>
      </div>`;
      }
    }
    html += `</section>`;
    html += `<section style="margin-bottom:14px;">
    <h4 style="margin:0 0 6px; color:#facc15; font-size:12px;">Encounters (${debugEncounters.length})</h4>`;
    if (debugEncounters.length === 0) {
      html += `<div style="color:#94a3b8;">No active encounters.</div>`;
    } else {
      for (const encounter of debugEncounters) {
        const spawnTime = (_c = encounter.spawnTime) != null ? _c : 0;
        const lifetime = (_d = encounter.lifetime) != null ? _d : 0;
        const elapsed = clamp(now - spawnTime, 0, Number.POSITIVE_INFINITY);
        const remaining = lifetime > 0 ? clamp(lifetime - elapsed, 0, lifetime) : 0;
        const progress = lifetime > 0 ? clamp(elapsed / lifetime * 100, 0, 100) : 0;
        const lifetimeLabel = lifetime > 0 ? `${remaining.toFixed(1)}s / ${lifetime.toFixed(1)}s` : "\u221E";
        html += `<div style="margin:5px 0; padding:6px; background:rgba(14, 24, 44, 0.75); border:1px solid rgba(45, 212, 191, 0.2); border-radius:6px;">
        <div style="font-weight:600; color:#bbf7d0;">${escapeHtml(encounter.encounterId)}</div>
        <div style="color:#94a3b8;">Beacon: ${escapeHtml(encounter.beaconId)}</div>
        <div style="color:#94a3b8;">Entities: ${encounter.entityCount}</div>
        <div style="color:#94a3b8;">Lifetime: ${lifetimeLabel}</div>
        <div style="width:100%; height:6px; background:#1e293b; border-radius:4px; overflow:hidden; margin-top:4px;">
          <div style="width:${progress}%; height:100%; background:linear-gradient(90deg, #1dd1a1, #38bdf8);"></div>
        </div>
      </div>`;
      }
    }
    html += `</section>`;
    html += `<section>
    <h4 style="margin:0 0 6px; color:#facc15; font-size:12px;">Shortcuts</h4>
    <div style="color:#94a3b8;">\u2022 Press <strong style="color:#e0f2fe;">D</strong> to toggle overlay.<br/>
    \u2022 Overlay auto-refreshes every ${(refreshIntervalMs / 1e3).toFixed(1)}s when visible.</div>
  </section>`;
    el.innerHTML = html;
  }
  function escapeHtml(value) {
    return value.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;");
  }
  function formatRelative(seconds) {
    if (!Number.isFinite(seconds)) {
      return "unknown";
    }
    if (seconds < 1) {
      return `${(seconds * 1e3).toFixed(0)}ms ago`;
    }
    if (seconds < 60) {
      return `${seconds.toFixed(1)}s ago`;
    }
    const minutes = seconds / 60;
    if (minutes < 60) {
      return `${minutes.toFixed(1)}m ago`;
    }
    const hours = minutes / 60;
    return `${hours.toFixed(1)}h ago`;
  }
  function updateButtonState() {
    const button = document.getElementById("debug-overlay-toggle");
    if (!button) {
      return;
    }
    if (isVisible) {
      button.setAttribute("data-active", "true");
    } else {
      button.removeAttribute("data-active");
    }
  }
  var REFRESH_INTERVAL_MS_DEFAULT, initialized, overlayEl, refreshTimer, isVisible, debugBeacons, debugEncounters, appState, refreshIntervalMs, eventBus;
  var init_encounter_overlay = __esm({
    "web/src/debug/encounter-overlay.ts"() {
      "use strict";
      init_state();
      init_net();
      REFRESH_INTERVAL_MS_DEFAULT = 1e3;
      initialized = false;
      overlayEl = null;
      refreshTimer = null;
      isVisible = false;
      debugBeacons = [];
      debugEncounters = [];
      appState = null;
      refreshIntervalMs = REFRESH_INTERVAL_MS_DEFAULT;
      eventBus = null;
    }
  });

  // web/src/tutorial/highlight.ts
  function createHighlighter() {
    ensureStyles();
    const overlay = document.createElement("div");
    overlay.className = "tutorial-overlay";
    overlay.setAttribute("aria-live", "polite");
    const scrim = document.createElement("div");
    scrim.className = "tutorial-overlay__scrim";
    const highlightBox = document.createElement("div");
    highlightBox.className = "tutorial-overlay__highlight";
    const tooltip = document.createElement("div");
    tooltip.className = "tutorial-overlay__tooltip";
    const progress = document.createElement("div");
    progress.className = "tutorial-overlay__progress";
    const title = document.createElement("h3");
    title.className = "tutorial-overlay__title";
    const body = document.createElement("p");
    body.className = "tutorial-overlay__body";
    const actions = document.createElement("div");
    actions.className = "tutorial-overlay__actions";
    const skipBtn = document.createElement("button");
    skipBtn.type = "button";
    skipBtn.className = "tutorial-overlay__btn tutorial-overlay__btn--ghost";
    skipBtn.textContent = "Skip";
    const nextBtn = document.createElement("button");
    nextBtn.type = "button";
    nextBtn.className = "tutorial-overlay__btn tutorial-overlay__btn--primary";
    nextBtn.textContent = "Next";
    actions.append(skipBtn, nextBtn);
    tooltip.append(progress, title, body, actions);
    overlay.append(scrim, highlightBox, tooltip);
    document.body.appendChild(overlay);
    let currentTarget = null;
    let visible = false;
    let resizeObserver = null;
    let frameHandle = null;
    let onNext = null;
    let onSkip = null;
    function scheduleUpdate() {
      if (!visible) return;
      if (frameHandle !== null) return;
      frameHandle = window.requestAnimationFrame(() => {
        frameHandle = null;
        updatePosition();
      });
    }
    function updatePosition() {
      if (!visible) return;
      if (currentTarget) {
        const rect = currentTarget.getBoundingClientRect();
        const padding = 12;
        const width = Math.max(0, rect.width + padding * 2);
        const height = Math.max(0, rect.height + padding * 2);
        const left = rect.left - padding;
        const top = rect.top - padding;
        highlightBox.style.opacity = "1";
        highlightBox.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;
        highlightBox.style.width = `${Math.round(width)}px`;
        highlightBox.style.height = `${Math.round(height)}px`;
        tooltip.style.opacity = "1";
        tooltip.style.visibility = "visible";
        tooltip.style.maxWidth = `min(340px, ${Math.max(260, window.innerWidth - 32)}px)`;
        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;
        let tooltipTop = rect.bottom + 18;
        if (tooltipTop + tooltipHeight > window.innerHeight - 20) {
          tooltipTop = Math.max(20, rect.top - tooltipHeight - 18);
        }
        let tooltipLeft = rect.left + rect.width / 2 - tooltipWidth / 2;
        tooltipLeft = clamp(tooltipLeft, 20, window.innerWidth - tooltipWidth - 20);
        tooltip.style.transform = `translate(${Math.round(tooltipLeft)}px, ${Math.round(tooltipTop)}px)`;
      } else {
        highlightBox.style.opacity = "0";
        highlightBox.style.width = "0px";
        highlightBox.style.height = "0px";
        highlightBox.style.transform = `translate(${Math.round(window.innerWidth / 2)}px, ${Math.round(window.innerHeight / 2)}px)`;
        tooltip.style.opacity = "1";
        tooltip.style.visibility = "visible";
        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;
        const tooltipLeft = clamp((window.innerWidth - tooltipWidth) / 2, 20, window.innerWidth - tooltipWidth - 20);
        const tooltipTop = clamp((window.innerHeight - tooltipHeight) / 2, 20, window.innerHeight - tooltipHeight - 20);
        tooltip.style.transform = `translate(${Math.round(tooltipLeft)}px, ${Math.round(tooltipTop)}px)`;
      }
    }
    function attachListeners() {
      window.addEventListener("resize", scheduleUpdate, { passive: true });
      window.addEventListener("scroll", scheduleUpdate, { passive: true });
    }
    function detachListeners() {
      window.removeEventListener("resize", scheduleUpdate);
      window.removeEventListener("scroll", scheduleUpdate);
      if (frameHandle !== null) {
        window.cancelAnimationFrame(frameHandle);
        frameHandle = null;
      }
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
    }
    skipBtn.addEventListener("click", (event) => {
      event.preventDefault();
      onSkip == null ? void 0 : onSkip();
    });
    nextBtn.addEventListener("click", (event) => {
      event.preventDefault();
      onNext == null ? void 0 : onNext();
    });
    function renderTooltip(options) {
      var _a, _b;
      const { stepCount, stepIndex, title: optionTitle, body: optionBody, showNext, nextLabel, showSkip, skipLabel } = options;
      if (Number.isFinite(stepCount) && stepCount > 0) {
        progress.textContent = `Step ${stepIndex + 1} of ${stepCount}`;
        progress.style.display = "block";
      } else {
        progress.textContent = "";
        progress.style.display = "none";
      }
      if (optionTitle && optionTitle.trim().length > 0) {
        title.textContent = optionTitle;
        title.style.display = "block";
      } else {
        title.textContent = "";
        title.style.display = "none";
      }
      body.textContent = optionBody;
      onNext = showNext ? (_a = options.onNext) != null ? _a : null : null;
      if (showNext) {
        nextBtn.textContent = nextLabel != null ? nextLabel : "Next";
        nextBtn.style.display = "inline-flex";
      } else {
        nextBtn.style.display = "none";
      }
      onSkip = showSkip ? (_b = options.onSkip) != null ? _b : null : null;
      if (showSkip) {
        skipBtn.textContent = skipLabel != null ? skipLabel : "Skip";
        skipBtn.style.display = "inline-flex";
      } else {
        skipBtn.style.display = "none";
      }
    }
    function show(options) {
      var _a;
      visible = true;
      currentTarget = (_a = options.target) != null ? _a : null;
      overlay.classList.add("visible");
      renderTooltip(options);
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
      if (currentTarget && typeof ResizeObserver !== "undefined") {
        resizeObserver = new ResizeObserver(() => scheduleUpdate());
        resizeObserver.observe(currentTarget);
      }
      attachListeners();
      scheduleUpdate();
    }
    function hide() {
      if (!visible) return;
      visible = false;
      overlay.classList.remove("visible");
      tooltip.style.visibility = "hidden";
      tooltip.style.opacity = "0";
      highlightBox.style.opacity = "0";
      detachListeners();
    }
    function destroy() {
      hide();
      overlay.remove();
    }
    return {
      show,
      hide,
      destroy
    };
  }
  function ensureStyles() {
    if (document.getElementById(STYLE_ID)) {
      return;
    }
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
    .tutorial-overlay {
      position: fixed;
      inset: 0;
      z-index: 50;
      pointer-events: none;
      display: none;
    }
    .tutorial-overlay.visible {
      display: block;
    }
    .tutorial-overlay__scrim {
      position: absolute;
      inset: 0;
    }
    .tutorial-overlay__highlight {
      position: absolute;
      border-radius: 14px;
      border: 2px solid rgba(56, 189, 248, 0.95);
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.25), 0 0 24px rgba(34, 211, 238, 0.25);
      transition: transform 0.18s ease, width 0.18s ease, height 0.18s ease, opacity 0.18s ease;
      pointer-events: none;
      opacity: 0;
    }
    .tutorial-overlay__tooltip {
      position: fixed;
      min-width: 240px;
      max-width: min(340px, calc(100vw - 32px));
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 16px;
      padding: 16px 18px;
      color: #e2e8f0;
      box-shadow: 0 12px 32px rgba(15, 23, 42, 0.55);
      pointer-events: auto;
      opacity: 0;
      visibility: hidden;
      transform: translate(0px, 0px);
      transition: transform 0.18s ease, opacity 0.18s ease;
    }
    .tutorial-overlay__progress {
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.75);
      margin: 0 0 8px;
    }
    .tutorial-overlay__title {
      margin: 0 0 8px;
      font-size: 15px;
      letter-spacing: 0.04em;
      color: #f1f5f9;
    }
    .tutorial-overlay__body {
      margin: 0 0 14px;
      font-size: 13px;
      line-height: 1.5;
      color: #cbd5f5;
    }
    .tutorial-overlay__actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
    .tutorial-overlay__btn {
      font: inherit;
      padding: 6px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
    }
    .tutorial-overlay__btn--primary {
      background: rgba(56, 189, 248, 0.25);
      border-color: rgba(56, 189, 248, 0.55);
      color: #f8fafc;
    }
    .tutorial-overlay__btn--primary:hover {
      background: rgba(56, 189, 248, 0.35);
    }
    .tutorial-overlay__btn--ghost {
      background: transparent;
      border-color: rgba(148, 163, 184, 0.35);
      color: rgba(203, 213, 225, 0.9);
    }
    .tutorial-overlay__btn--ghost:hover {
      border-color: rgba(203, 213, 225, 0.55);
    }
    @media (max-width: 768px) {
      .tutorial-overlay__tooltip {
        min-width: 200px;
        max-width: min(320px, calc(100vw - 24px));
        padding: 10px 12px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 12px;
      }
      .tutorial-overlay__progress {
        display: none !important;
      }
      .tutorial-overlay__title {
        display: none !important;
      }
      .tutorial-overlay__body {
        margin: 0;
        font-size: 12px;
        flex: 1;
        line-height: 1.4;
      }
      .tutorial-overlay__actions {
        flex-direction: column;
        gap: 6px;
        flex-shrink: 0;
      }
      .tutorial-overlay__btn {
        padding: 5px 10px;
        font-size: 10px;
        white-space: nowrap;
      }
    }
  `;
    document.head.appendChild(style);
  }
  var STYLE_ID;
  var init_highlight = __esm({
    "web/src/tutorial/highlight.ts"() {
      "use strict";
      init_state();
      STYLE_ID = "tutorial-overlay-style";
    }
  });

  // web/src/tutorial/storage.ts
  function getStorage() {
    try {
      if (typeof window === "undefined" || !window.localStorage) {
        return null;
      }
    } catch (err) {
      return null;
    }
    return window.localStorage;
  }
  function loadProgress(id) {
    const storage = getStorage();
    if (!storage) return null;
    try {
      const raw = storage.getItem(STORAGE_PREFIX + id);
      if (!raw) return null;
      const parsed = JSON.parse(raw);
      if (typeof parsed !== "object" || parsed === null || typeof parsed.stepIndex !== "number" || typeof parsed.completed !== "boolean" || typeof parsed.updatedAt !== "number") {
        return null;
      }
      return parsed;
    } catch (err) {
      return null;
    }
  }
  function saveProgress(id, progress) {
    const storage = getStorage();
    if (!storage) return;
    try {
      storage.setItem(STORAGE_PREFIX + id, JSON.stringify(progress));
    } catch (err) {
    }
  }
  function clearProgress(id) {
    const storage = getStorage();
    if (!storage) return;
    try {
      storage.removeItem(STORAGE_PREFIX + id);
    } catch (err) {
    }
  }
  var STORAGE_PREFIX;
  var init_storage = __esm({
    "web/src/tutorial/storage.ts"() {
      "use strict";
      STORAGE_PREFIX = "lsd:tutorial:";
    }
  });

  // web/src/tutorial/roles.ts
  function createRoles() {
    return {
      canvas: () => document.getElementById("cv"),
      shipSet: () => document.getElementById("ship-set"),
      shipSelect: () => document.getElementById("ship-select"),
      shipDelete: () => document.getElementById("ship-delete"),
      shipClear: () => document.getElementById("ship-clear"),
      shipSpeedSlider: () => document.getElementById("ship-speed-slider"),
      heatBar: () => document.getElementById("heat-bar-container"),
      speedMarker: () => document.getElementById("speed-marker"),
      missileSet: () => document.getElementById("missile-set"),
      missileSelect: () => document.getElementById("missile-select"),
      missileDelete: () => document.getElementById("missile-delete"),
      missileSpeedSlider: () => document.getElementById("missile-speed-slider"),
      missileAgroSlider: () => document.getElementById("missile-agro-slider"),
      missileAddRoute: () => document.getElementById("missile-add-route"),
      missileLaunch: () => document.getElementById("missile-launch"),
      routePrev: () => document.getElementById("route-prev"),
      routeNext: () => document.getElementById("route-next"),
      helpToggle: () => document.getElementById("help-toggle"),
      tutorialStart: () => document.getElementById("tutorial-start"),
      spawnBot: () => document.getElementById("spawn-bot")
    };
  }
  function getRoleElement(roles, role) {
    if (!role) return null;
    const resolver = roles[role];
    return resolver ? resolver() : null;
  }
  var init_roles = __esm({
    "web/src/tutorial/roles.ts"() {
      "use strict";
    }
  });

  // web/src/tutorial/engine.ts
  function createTutorialEngine({ id, bus, roles, steps }) {
    const highlighter = createHighlighter();
    let running = false;
    let paused = false;
    let currentIndex = -1;
    let currentStep = null;
    let cleanupCurrent = null;
    let renderCurrent = null;
    let lastSavedCompleted = false;
    let suppressPersistOnStop = false;
    const persistentListeners = [];
    persistentListeners.push(
      bus.on("help:visibleChanged", ({ visible }) => {
        if (!running) return;
        paused = Boolean(visible);
        if (paused) {
          highlighter.hide();
        } else {
          renderCurrent == null ? void 0 : renderCurrent();
        }
      })
    );
    function resolveTarget(step) {
      if (!step.target) {
        return null;
      }
      if (typeof step.target === "function") {
        return step.target();
      }
      return getRoleElement(roles, step.target);
    }
    function clampIndex(index) {
      if (steps.length === 0) return 0;
      if (!Number.isFinite(index) || index < 0) return 0;
      if (index >= steps.length) return steps.length - 1;
      return Math.floor(index);
    }
    function setStep(index) {
      var _a, _b;
      if (!running) return;
      if (steps.length === 0) {
        completeTutorial();
        return;
      }
      if (index < 0 || index >= steps.length) {
        completeTutorial();
        return;
      }
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      currentIndex = index;
      const step = steps[index];
      currentStep = step;
      persistProgress(index, false);
      bus.emit("tutorial:stepChanged", { id, stepIndex: index, total: steps.length });
      (_b = step.onEnter) == null ? void 0 : _b.call(step);
      const allowSkip = step.allowSkip !== false;
      const render2 = () => {
        var _a2;
        if (!running || paused) return;
        highlighter.show({
          target: resolveTarget(step),
          title: step.title,
          body: step.body,
          stepIndex: index,
          stepCount: steps.length,
          showNext: step.advance.kind === "manual",
          nextLabel: step.advance.kind === "manual" ? (_a2 = step.advance.nextLabel) != null ? _a2 : index === steps.length - 1 ? "Finish" : "Next" : void 0,
          onNext: step.advance.kind === "manual" ? advanceStep : void 0,
          showSkip: allowSkip,
          skipLabel: step.skipLabel,
          onSkip: allowSkip ? skipCurrentStep : void 0
        });
      };
      renderCurrent = render2;
      render2();
      if (step.advance.kind === "event") {
        const handler = (payload) => {
          if (!running || paused) return;
          if (step.advance.when && !step.advance.when(payload)) {
            return;
          }
          advanceTo(index + 1);
        };
        cleanupCurrent = bus.on(step.advance.event, handler);
        if (step.advance.check && step.advance.check()) {
          handler(void 0);
        }
      } else {
        cleanupCurrent = null;
      }
    }
    function advanceTo(nextIndex) {
      var _a;
      if (!running) return;
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      renderCurrent = null;
      if (nextIndex >= steps.length) {
        completeTutorial();
      } else {
        setStep(nextIndex);
      }
    }
    function advanceStep() {
      advanceTo(currentIndex + 1);
    }
    function skipCurrentStep() {
      if (!running) return;
      const nextIndex = currentIndex >= 0 ? currentIndex + 1 : 0;
      advanceTo(nextIndex);
    }
    function completeTutorial() {
      if (!running) return;
      suppressPersistOnStop = true;
      persistProgress(steps.length, true);
      bus.emit("tutorial:completed", { id });
      stop();
      suppressPersistOnStop = false;
    }
    function start(options) {
      const resume = (options == null ? void 0 : options.resume) !== false;
      if (running) {
        restart();
        return;
      }
      if (steps.length === 0) {
        return;
      }
      running = true;
      paused = false;
      suppressPersistOnStop = false;
      lastSavedCompleted = false;
      let startIndex = 0;
      if (resume) {
        const progress = loadProgress(id);
        if (progress && !progress.completed) {
          startIndex = clampIndex(progress.stepIndex);
        }
      } else {
        clearProgress(id);
      }
      bus.emit("tutorial:started", { id });
      setStep(startIndex);
    }
    function restart() {
      stop();
      start({ resume: false });
    }
    function stop() {
      var _a;
      const shouldPersist = !suppressPersistOnStop && running && !lastSavedCompleted && currentIndex >= 0 && currentIndex < steps.length;
      const indexToPersist = currentIndex;
      if (cleanupCurrent) {
        cleanupCurrent();
        cleanupCurrent = null;
      }
      if (currentStep) {
        (_a = currentStep.onExit) == null ? void 0 : _a.call(currentStep);
        currentStep = null;
      }
      if (shouldPersist) {
        persistProgress(indexToPersist, false);
      }
      running = false;
      paused = false;
      currentIndex = -1;
      renderCurrent = null;
      highlighter.hide();
    }
    function isRunning() {
      return running;
    }
    function destroy() {
      stop();
      for (const dispose of persistentListeners) {
        dispose();
      }
      highlighter.destroy();
    }
    function persistProgress(stepIndex, completed) {
      lastSavedCompleted = completed;
      saveProgress(id, {
        stepIndex,
        completed,
        updatedAt: Date.now()
      });
    }
    return {
      start,
      restart,
      stop,
      isRunning,
      destroy
    };
  }
  var init_engine = __esm({
    "web/src/tutorial/engine.ts"() {
      "use strict";
      init_highlight();
      init_storage();
      init_roles();
    }
  });

  // web/src/tutorial/steps_basic.ts
  function hasWaypointIndexAtLeast(payload, minIndex) {
    if (typeof payload !== "object" || payload === null) return false;
    const index = payload.index;
    if (typeof index !== "number" || !Number.isFinite(index)) return false;
    return index >= minIndex;
  }
  function extractRouteId(payload) {
    if (typeof payload !== "object" || payload === null) return null;
    const routeId = payload.routeId;
    return typeof routeId === "string" ? routeId : null;
  }
  function payloadToolEquals(target) {
    return (payload) => {
      if (typeof payload !== "object" || payload === null) return false;
      const tool = payload.tool;
      return typeof tool === "string" && tool === target;
    };
  }
  function getBasicTutorialSteps() {
    let routeSwitchesSinceEnter = 0;
    let initialRouteId = null;
    let newRouteId = null;
    return [
      {
        id: "ship-plot-route",
        target: "canvas",
        title: "Plot a route",
        body: "Click on the map to drop at least three waypoints and sketch your course.",
        advance: {
          kind: "event",
          event: "ship:waypointAdded",
          when: (payload) => hasWaypointIndexAtLeast(payload, 2)
        }
      },
      {
        id: "ship-change-speed",
        target: "shipSpeedSlider",
        title: "Adjust ship speed",
        body: "Use the Ship Speed slider (or press [ / ]) to fine-tune your travel speed.",
        advance: {
          kind: "event",
          event: "ship:speedChanged"
        }
      },
      {
        id: "ship-select-leg",
        target: "shipSelect",
        title: "Select a route leg",
        body: "Switch to Select mode (T key) and then click a waypoint on the map to highlight its leg.",
        advance: {
          kind: "event",
          event: "ship:legSelected",
          when: (payload) => hasWaypointIndexAtLeast(payload, 0)
        }
      },
      {
        id: "heat-match-marker",
        target: "speedMarker",
        title: "Match the marker",
        body: "Line up the Ship Speed slider with the tick to cruise at the neutral heat speed.",
        advance: {
          kind: "event",
          event: "heat:markerAligned"
        },
        allowSkip: false
      },
      {
        id: "heat-push-hot",
        target: "heatBar",
        title: "Sprint into the red",
        body: "Push the throttle above the marker and watch the heat bar reach the warning band.",
        advance: {
          kind: "event",
          event: "heat:warnEntered"
        },
        allowSkip: false
      },
      {
        id: "heat-cool-down",
        target: "heatBar",
        title: "Cool it back down",
        body: "Ease off below the marker until the bar drops out of the warning zone.",
        advance: {
          kind: "event",
          event: "heat:cooledBelowWarn"
        },
        allowSkip: false
      },
      {
        id: "heat-trigger-stall",
        target: "heatBar",
        title: "Trigger a stall",
        body: "Push well above the limit and hold it until the overheat stall overlay appears.",
        advance: {
          kind: "event",
          event: "heat:stallTriggered"
        },
        allowSkip: false
      },
      {
        id: "heat-recover-stall",
        target: "heatBar",
        title: "Recover from the stall",
        body: "Hold steady while systems cool. Once the overlay clears, you\u2019re back online.",
        advance: {
          kind: "event",
          event: "heat:stallRecovered"
        },
        allowSkip: false
      },
      {
        id: "heat-dual-bars",
        target: "heatBar",
        title: "Read both heat bars",
        body: "Adjust a waypoint to make the planned bar extend past live heat. Use it to predict future overloads.",
        advance: {
          kind: "event",
          event: "heat:dualMeterDiverged"
        },
        allowSkip: false
      },
      {
        id: "ship-delete-leg",
        target: "shipDelete",
        title: "Delete a route leg",
        body: "Remove the selected waypoint using the Delete control or the Delete key.",
        advance: {
          kind: "event",
          event: "ship:waypointDeleted"
        }
      },
      {
        id: "ship-clear-route",
        target: "shipClear",
        title: "Clear the route",
        body: "Clear remaining waypoints to reset your plotted course.",
        advance: {
          kind: "event",
          event: "ship:clearInvoked"
        }
      },
      {
        id: "missile-set-mode",
        target: "missileSet",
        title: "Switch to missile planning",
        body: "Tap Set so every click drops missile waypoints on the active route.",
        advance: {
          kind: "event",
          event: "missile:toolChanged",
          when: payloadToolEquals("set")
        }
      },
      {
        id: "missile-plot-initial",
        target: "canvas",
        title: "Plot missile waypoints",
        body: "Click the map to drop at least two guidance points for the current missile route.",
        advance: {
          kind: "event",
          event: "missile:waypointAdded",
          when: (payload) => {
            if (!hasWaypointIndexAtLeast(payload, 1)) return false;
            const routeId = extractRouteId(payload);
            if (routeId) {
              initialRouteId = routeId;
            }
            return true;
          }
        }
      },
      {
        id: "missile-launch-initial",
        target: "missileLaunch",
        title: "Launch the strike",
        body: "Send the planned missile route live with the Launch control (L key).",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!routeId) return true;
            if (!initialRouteId) {
              initialRouteId = routeId;
              return true;
            }
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "missile-add-route",
        target: "missileAddRoute",
        title: "Create a new missile route",
        body: "Press New to add a second missile route for another strike group.",
        advance: {
          kind: "event",
          event: "missile:routeAdded",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!routeId) return false;
            newRouteId = routeId;
            return true;
          }
        }
      },
      {
        id: "missile-plot-new-route",
        target: "canvas",
        title: "Plot the new missile route",
        body: "Drop at least two waypoints on the new route to define its path.",
        advance: {
          kind: "event",
          event: "missile:waypointAdded",
          when: (payload) => {
            if (!hasWaypointIndexAtLeast(payload, 1)) return false;
            const routeId = extractRouteId(payload);
            if (newRouteId && routeId && routeId !== newRouteId) {
              return false;
            }
            if (!newRouteId && routeId) {
              newRouteId = routeId;
            }
            return true;
          }
        }
      },
      {
        id: "missile-launch-new-route",
        target: "missileLaunch",
        title: "Launch the new route",
        body: "Launch the fresh missile route to confirm its pattern.",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!newRouteId || !routeId) return true;
            return routeId === newRouteId;
          }
        }
      },
      {
        id: "missile-switch-route",
        target: "routeNext",
        title: "Switch back to the original route",
        body: "Use the \u25C0 \u25B6 controls (or Tab/Shift+Tab) to select your first missile route again.",
        onEnter: () => {
          routeSwitchesSinceEnter = 0;
        },
        advance: {
          kind: "event",
          event: "missile:activeRouteChanged",
          when: (payload) => {
            routeSwitchesSinceEnter += 1;
            if (routeSwitchesSinceEnter < 1) return false;
            const routeId = extractRouteId(payload);
            if (!initialRouteId || !routeId) {
              return true;
            }
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "missile-launch-after-switch",
        target: "missileLaunch",
        title: "Launch from the other route",
        body: "Fire the original missile route to practice round-robin strikes.",
        advance: {
          kind: "event",
          event: "missile:launchRequested",
          when: (payload) => {
            const routeId = extractRouteId(payload);
            if (!initialRouteId || !routeId) return true;
            return routeId === initialRouteId;
          }
        }
      },
      {
        id: "tutorial-practice",
        target: "spawnBot",
        title: "Spawn a practice bot",
        body: "Use the Bot control to add a target and rehearse these maneuvers in real time.",
        advance: {
          kind: "event",
          event: "bot:spawnRequested"
        },
        allowSkip: false
      },
      {
        id: "tutorial-complete",
        target: null,
        title: "You\u2019re ready",
        body: "Great work. Reload the console or rejoin a room to revisit these drills.",
        advance: {
          kind: "manual",
          nextLabel: "Finish"
        },
        allowSkip: false
      }
    ];
  }
  var init_steps_basic = __esm({
    "web/src/tutorial/steps_basic.ts"() {
      "use strict";
    }
  });

  // web/src/tutorial/index.ts
  function mountTutorial(bus) {
    const roles = createRoles();
    const engine = createTutorialEngine({
      id: BASIC_TUTORIAL_ID,
      bus,
      roles,
      steps: getBasicTutorialSteps()
    });
    return {
      start(options) {
        engine.start(options);
      },
      restart() {
        engine.restart();
      },
      destroy() {
        engine.destroy();
      }
    };
  }
  var BASIC_TUTORIAL_ID;
  var init_tutorial = __esm({
    "web/src/tutorial/index.ts"() {
      "use strict";
      init_engine();
      init_roles();
      init_steps_basic();
      BASIC_TUTORIAL_ID = "ship-basics";
    }
  });

  // web/src/story/overlay.ts
  function createDialogueOverlay() {
    ensureStyles2();
    const overlay = document.createElement("div");
    overlay.className = "dialogue-overlay";
    overlay.setAttribute("aria-live", "polite");
    const consoleFrame = document.createElement("div");
    consoleFrame.className = "dialogue-console";
    const speakerLabel = document.createElement("div");
    speakerLabel.className = "dialogue-speaker";
    const textBlock = document.createElement("div");
    textBlock.className = "dialogue-text";
    const cursor = document.createElement("span");
    cursor.className = "dialogue-cursor";
    cursor.textContent = "_";
    const choicesList = document.createElement("ul");
    choicesList.className = "dialogue-choices hidden";
    const continueButton = document.createElement("button");
    continueButton.type = "button";
    continueButton.className = "dialogue-continue hidden";
    continueButton.textContent = "Continue";
    textBlock.append(cursor);
    consoleFrame.append(speakerLabel, textBlock, choicesList, continueButton);
    overlay.append(consoleFrame);
    document.body.appendChild(overlay);
    let visible = false;
    let typingHandle = null;
    let targetText = "";
    let renderedChars = 0;
    let activeContent = null;
    function clearTyping() {
      if (typingHandle !== null) {
        window.clearTimeout(typingHandle);
        typingHandle = null;
      }
    }
    function finishTyping(content) {
      var _a;
      renderedChars = targetText.length;
      updateText();
      clearTyping();
      (_a = content.onTextFullyRendered) == null ? void 0 : _a.call(content);
      if (!Array.isArray(content.choices) || content.choices.length === 0) {
        showContinue(content);
      }
    }
    function updateText() {
      const textToShow = targetText.slice(0, renderedChars);
      textBlock.innerHTML = "";
      const textNode = document.createElement("span");
      textNode.textContent = textToShow;
      textBlock.append(textNode, cursor);
      cursor.classList.toggle("hidden", !visible);
    }
    function renderChoices(content) {
      choicesList.innerHTML = "";
      const choices = Array.isArray(content.choices) ? content.choices : [];
      if (choices.length === 0) {
        choicesList.classList.add("hidden");
        return;
      }
      choicesList.classList.remove("hidden");
      choices.forEach((choice2, index) => {
        const item = document.createElement("li");
        const button = document.createElement("button");
        button.type = "button";
        button.dataset.choiceId = choice2.id;
        button.textContent = `${index + 1}. ${choice2.text}`;
        button.addEventListener("click", () => {
          var _a;
          (_a = content.onChoice) == null ? void 0 : _a.call(content, choice2.id);
        });
        item.append(button);
        choicesList.append(item);
      });
    }
    function showContinue(content) {
      var _a;
      if (!content.onContinue) {
        continueButton.classList.add("hidden");
        continueButton.onclick = null;
        return;
      }
      continueButton.textContent = (_a = content.continueLabel) != null ? _a : "Continue";
      continueButton.classList.remove("hidden");
      continueButton.onclick = () => {
        var _a2;
        (_a2 = content.onContinue) == null ? void 0 : _a2.call(content);
      };
    }
    function scheduleType(content) {
      clearTyping();
      const typingSpeed = clamp(Number(content.typingSpeedMs) || 18, 8, 64);
      const tick = () => {
        var _a;
        renderedChars = Math.min(renderedChars + 1, targetText.length);
        updateText();
        if (renderedChars >= targetText.length) {
          clearTyping();
          (_a = content.onTextFullyRendered) == null ? void 0 : _a.call(content);
          if (!Array.isArray(content.choices) || content.choices.length === 0) {
            showContinue(content);
          }
        } else {
          typingHandle = window.setTimeout(tick, typingSpeed);
        }
      };
      typingHandle = window.setTimeout(tick, typingSpeed);
    }
    function handleKeyDown(event) {
      var _a, _b;
      if (!visible || !activeContent) return;
      if (!Array.isArray(activeContent.choices) || activeContent.choices.length === 0) {
        if (event.key === " " || event.key === "Enter") {
          event.preventDefault();
          if (renderedChars < targetText.length) {
            finishTyping(activeContent);
          } else {
            (_a = activeContent.onContinue) == null ? void 0 : _a.call(activeContent);
          }
        }
        return;
      }
      const index = parseInt(event.key, 10);
      if (Number.isFinite(index) && index >= 1 && index <= activeContent.choices.length) {
        event.preventDefault();
        const choice2 = activeContent.choices[index - 1];
        (_b = activeContent.onChoice) == null ? void 0 : _b.call(activeContent, choice2.id);
        return;
      }
      if (event.key === "Enter" && renderedChars < targetText.length) {
        event.preventDefault();
        finishTyping(activeContent);
      }
    }
    function show(content) {
      var _a;
      activeContent = content;
      visible = true;
      overlay.classList.add("visible");
      overlay.dataset.intent = (_a = content.intent) != null ? _a : "factory";
      speakerLabel.textContent = content.speaker;
      targetText = content.text;
      renderedChars = 0;
      updateText();
      renderChoices(content);
      showContinue(content);
      scheduleType(content);
    }
    function hide() {
      visible = false;
      activeContent = null;
      overlay.classList.remove("visible");
      clearTyping();
      targetText = "";
      renderedChars = 0;
      textBlock.innerHTML = "";
      textBlock.append(cursor);
      choicesList.innerHTML = "";
      choicesList.classList.add("hidden");
      continueButton.classList.add("hidden");
      continueButton.onclick = null;
    }
    function destroy() {
      hide();
      document.removeEventListener("keydown", handleKeyDown);
      overlay.remove();
    }
    document.addEventListener("keydown", handleKeyDown);
    return {
      show,
      hide,
      destroy,
      isVisible() {
        return visible;
      }
    };
  }
  function ensureStyles2() {
    if (document.getElementById(STYLE_ID2)) {
      return;
    }
    const style = document.createElement("style");
    style.id = STYLE_ID2;
    style.textContent = `
    .dialogue-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      z-index: 60;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .dialogue-overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }
    .dialogue-console {
      min-width: 320px;
      max-width: min(520px, calc(100vw - 48px));
      background: rgba(6, 11, 16, 0.92);
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 12px;
      padding: 18px 20px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      box-shadow: 0 28px 64px rgba(2, 6, 16, 0.6);
      color: #e2e8f0;
      font-family: "IBM Plex Mono", "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .dialogue-overlay[data-intent="factory"] .dialogue-console {
      border-color: rgba(56, 189, 248, 0.45);
      box-shadow: 0 28px 64px rgba(13, 148, 136, 0.35);
    }
    .dialogue-overlay[data-intent="unit"] .dialogue-console {
      border-color: rgba(244, 114, 182, 0.45);
      box-shadow: 0 28px 64px rgba(236, 72, 153, 0.28);
    }
    .dialogue-speaker {
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.75);
    }
    .dialogue-text {
      min-height: 90px;
      font-size: 13px;
      line-height: 1.55;
      white-space: pre-wrap;
    }
    .dialogue-cursor {
      display: inline-block;
      margin-left: 4px;
      animation: dialogue-cursor-blink 1.2s steps(2, start) infinite;
    }
    .dialogue-cursor.hidden {
      display: none;
    }
    .dialogue-choices {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .dialogue-choices.hidden {
      display: none;
    }
    .dialogue-choices button,
    .dialogue-continue {
      font: inherit;
      text-align: left;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      background: rgba(24, 36, 48, 0.85);
      color: inherit;
      cursor: pointer;
      transition: background 0.18s ease, border-color 0.18s ease;
    }
    .dialogue-continue {
      text-align: center;
    }
    .dialogue-continue.hidden {
      display: none;
    }
    .dialogue-choices button:hover,
    .dialogue-choices button:focus-visible,
    .dialogue-continue:hover,
    .dialogue-continue:focus-visible {
      border-color: rgba(56, 189, 248, 0.55);
      background: rgba(30, 45, 60, 0.95);
      outline: none;
    }
    @keyframes dialogue-cursor-blink {
      0%, 50% { opacity: 1; }
      50.01%, 100% { opacity: 0; }
    }
  `;
    document.head.appendChild(style);
  }
  var STYLE_ID2;
  var init_overlay = __esm({
    "web/src/story/overlay.ts"() {
      "use strict";
      init_state();
      STYLE_ID2 = "dialogue-overlay-style";
    }
  });

  // web/src/story/controller.ts
  function createStoryController({ bus, overlay, state }) {
    const listeners = [];
    let tutorialTipElement = null;
    function handleNodeActivated({ nodeId, dialogue }) {
      console.log("[story] Node activated:", nodeId);
      if (!dialogue) {
        console.error("[story] No dialogue provided by server for:", nodeId);
        acknowledgeNode(nodeId, null);
        return;
      }
      const parts = nodeId.split(".");
      if (parts.length < 3 || parts[0] !== "story") {
        console.warn("[story] Invalid node ID format:", nodeId);
        return;
      }
      const chapter = parts[1];
      const node = parts.slice(2).join(".");
      showDialogueForNode(chapter, node, nodeId, dialogue);
    }
    function showDialogueForNode(chapter, node, fullNodeId, content) {
      if (content.tutorialTip) {
        showTutorialTip(content.tutorialTip);
      }
      const overlayContent = {
        speaker: content.speaker,
        text: content.text,
        intent: content.intent,
        continueLabel: content.continueLabel,
        typingSpeedMs: content.typingSpeedMs
      };
      if (content.choices && content.choices.length > 0) {
        overlayContent.choices = content.choices;
        overlayContent.onChoice = (choiceId) => {
          hideTutorialTip();
          overlay.hide();
          acknowledgeNode(fullNodeId, choiceId);
          bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
        };
      } else {
        overlayContent.onContinue = () => {
          hideTutorialTip();
          overlay.hide();
          acknowledgeNode(fullNodeId, null);
          bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
        };
      }
      if (content.autoAdvance) {
        overlayContent.onTextFullyRendered = () => {
          setTimeout(() => {
            hideTutorialTip();
            overlay.hide();
            acknowledgeNode(fullNodeId, null);
            bus.emit("dialogue:closed", { nodeId: node, chapterId: chapter });
          }, content.autoAdvance.delayMs);
        };
      }
      overlay.show(overlayContent);
      bus.emit("dialogue:opened", { nodeId: node, chapterId: chapter });
    }
    function showTutorialTip(tip) {
      hideTutorialTip();
      const tipContainer = document.createElement("div");
      tipContainer.className = "story-tutorial-tip";
      tipContainer.innerHTML = `
      <div class="story-tutorial-tip-content">
        <div class="story-tutorial-tip-title">${escapeHtml2(tip.title)}</div>
        <div class="story-tutorial-tip-text">${escapeHtml2(tip.text)}</div>
      </div>
    `;
      document.body.appendChild(tipContainer);
      tutorialTipElement = tipContainer;
      ensureTutorialTipStyles();
    }
    function hideTutorialTip() {
      if (tutorialTipElement) {
        tutorialTipElement.remove();
        tutorialTipElement = null;
      }
    }
    function escapeHtml2(text) {
      const div = document.createElement("div");
      div.textContent = text;
      return div.innerHTML;
    }
    function ensureTutorialTipStyles() {
      const styleId = "story-tutorial-tip-styles";
      if (document.getElementById(styleId)) {
        return;
      }
      const style = document.createElement("style");
      style.id = styleId;
      style.textContent = `
      .story-tutorial-tip {
        position: fixed;
        top: 80px;
        right: 20px;
        max-width: 320px;
        background: rgba(13, 148, 136, 0.95);
        border: 1px solid rgba(56, 189, 248, 0.6);
        border-radius: 8px;
        padding: 14px 16px;
        color: #e2e8f0;
        font-family: "IBM Plex Mono", "JetBrains Mono", ui-monospace, monospace;
        font-size: 12px;
        line-height: 1.5;
        z-index: 55;
        box-shadow: 0 8px 24px rgba(2, 6, 16, 0.5);
        animation: story-tip-slide-in 0.3s ease-out;
      }
      .story-tutorial-tip-title {
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #38bdf8;
        margin-bottom: 8px;
      }
      .story-tutorial-tip-text {
        color: #f1f5f9;
      }
      @keyframes story-tip-slide-in {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    `;
      document.head.appendChild(style);
    }
    function acknowledgeNode(nodeId, choiceId) {
      const msg = {
        type: "dag_story_ack",
        node_id: nodeId
      };
      if (choiceId) {
        msg.choice_id = choiceId;
      }
      sendMessage(msg);
      console.log("[story] Acknowledged node:", nodeId, choiceId ? `(choice: ${choiceId})` : "");
    }
    function start() {
      var _a, _b;
      console.log("[story] Starting story controller");
      listeners.push(bus.on("story:nodeActivated", handleNodeActivated));
      if ((_a = state.story) == null ? void 0 : _a.activeNode) {
        console.log("[story] Found active story node on startup:", state.story.activeNode);
        handleNodeActivated({
          nodeId: state.story.activeNode,
          dialogue: (_b = state.story.dialogue) != null ? _b : void 0
        });
      }
    }
    function destroy() {
      hideTutorialTip();
      listeners.forEach((unsub) => unsub());
      listeners.length = 0;
    }
    return {
      start,
      destroy
    };
  }
  var init_controller = __esm({
    "web/src/story/controller.ts"() {
      "use strict";
      init_net();
    }
  });

  // web/src/story/index.ts
  function mountStory({ bus, state }) {
    const overlay = createDialogueOverlay();
    const controller = createStoryController({
      bus,
      overlay,
      state
    });
    controller.start();
    return {
      destroy() {
        controller.destroy();
        overlay.destroy();
      },
      reset() {
        console.warn("[story] reset() called but story is now server-driven");
      }
    };
  }
  var init_story = __esm({
    "web/src/story/index.ts"() {
      "use strict";
      init_overlay();
      init_controller();
    }
  });

  // web/src/start-gate.ts
  function getCtx() {
    const AC = window.AudioContext || window.webkitAudioContext;
    const ctx = window.LSD_AUDIO_CTX;
    return ctx instanceof AC ? ctx : null;
  }
  function ensureTopFrameMuteButton() {
    const topRight = document.getElementById("top-right");
    if (!topRight) return;
    if (topRight.querySelector("#mute-top")) return;
    const btn = document.createElement("button");
    btn.id = "mute-top";
    btn.className = "ghost-btn small";
    btn.setAttribute("aria-pressed", "false");
    btn.title = "Mute (M)";
    btn.textContent = "\u{1F507} Mute";
    topRight.appendChild(btn);
    muteMgr.attachButton(btn);
  }
  function waitForUserStart(opts = {}) {
    const { label = "Start Game", requestFullscreen = false, resumeAudio: resumeAudio2 } = opts;
    return new Promise((resolve) => {
      const overlay = document.createElement("div");
      overlay.id = "start-overlay";
      overlay.innerHTML = `
      <div id="start-container">
        <button id="start-btn" aria-label="${label}">${label}</button>
        <div style="margin-top:10px">
          <button id="mute-below-start" class="ghost-btn" aria-pressed="false" title="Mute (M)">\u{1F507} Mute</button>
        </div>
        <p> On mobile turn phone to landscape for best experience. </p>
      </div>
    `;
      document.body.appendChild(overlay);
      const style = document.createElement("style");
      style.textContent = `
      #start-overlay {
        position: fixed; inset: 0; display: flex; justify-content: center; align-items: center;
        background: radial-gradient(circle at center, rgba(0,0,0,0.6), rgba(0,0,0,0.9));
        z-index: 9999;
      }
      #start-container { text-align: center; }
      #start-btn {
        font-size: 2rem; padding: 1rem 2.5rem; border: 2px solid #fff; border-radius: 10px;
        background: transparent; color: #fff; cursor: pointer; transition: transform .12s ease, background .2s ease, color .2s ease;
      }
      #start-btn:hover { background: #fff; color: #000; transform: translateY(-1px); }
      #start-btn:active { transform: translateY(0); }
      #mute-below-start {
        font-size: 1rem; padding: .5rem 1rem; border-radius: 999px; border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(30, 41, 59, 0.72); color: #f8fafc;
      }
      .ghost-btn.small { padding: 4px 8px; font-size: 11px; }
    `;
      document.head.appendChild(style);
      const startBtn = overlay.querySelector("#start-btn");
      const muteBelowStart = overlay.querySelector("#mute-below-start");
      const topMute = document.getElementById("mute-top");
      if (topMute) muteMgr.attachButton(topMute);
      muteMgr.attachButton(muteBelowStart);
      muteMgr.enforceOnceWhenReady();
      const start = async () => {
        var _a, _b;
        try {
          await (resumeAudio2 == null ? void 0 : resumeAudio2());
        } catch (e) {
        }
        muteMgr.enforceOnceWhenReady();
        if (requestFullscreen) {
          try {
            await ((_b = (_a = document.documentElement).requestFullscreen) == null ? void 0 : _b.call(_a));
          } catch (e) {
          }
        }
        style.remove();
        overlay.remove();
        ensureTopFrameMuteButton();
        resolve();
      };
      startBtn.addEventListener("click", start, { once: true });
      overlay.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          start();
        }
      });
      startBtn.tabIndex = 0;
      startBtn.focus();
      ensureTopFrameMuteButton();
    });
  }
  var STORAGE_KEY, MuteManager, muteMgr;
  var init_start_gate = __esm({
    "web/src/start-gate.ts"() {
      "use strict";
      STORAGE_KEY = "lsd:muted";
      MuteManager = class {
        constructor() {
          this.buttons = [];
          this.enforcing = false;
          document.addEventListener("lsd:muteChanged", (e) => {
            var _a;
            const muted = !!((_a = e == null ? void 0 : e.detail) == null ? void 0 : _a.muted);
            this.applyUI(muted);
          });
        }
        isMuted() {
          return localStorage.getItem(STORAGE_KEY) === "1";
        }
        save(muted) {
          try {
            localStorage.setItem(STORAGE_KEY, muted ? "1" : "0");
          } catch (e) {
          }
        }
        label(btn, muted) {
          btn.setAttribute("aria-pressed", String(muted));
          btn.title = muted ? "Unmute (M)" : "Mute (M)";
          btn.textContent = muted ? "\u{1F508} Unmute" : "\u{1F507} Mute";
        }
        applyUI(muted) {
          this.buttons.forEach((b) => this.label(b, muted));
        }
        attachButton(btn) {
          this.buttons.push(btn);
          this.label(btn, this.isMuted());
          btn.addEventListener("click", () => this.toggle());
        }
        async setMuted(muted) {
          this.save(muted);
          this.applyUI(muted);
          const ctx = getCtx();
          if (ctx) {
            try {
              if (muted && ctx.state !== "suspended") {
                await ctx.suspend();
              } else if (!muted && ctx.state !== "running") {
                await ctx.resume();
              }
            } catch (e) {
              console.warn("[audio] mute toggle failed:", e);
            }
          }
          document.dispatchEvent(new CustomEvent("lsd:muteChanged", { detail: { muted } }));
        }
        toggle() {
          this.setMuted(!this.isMuted());
        }
        // If ctx isn't created until after Start, enforce persisted state once available
        enforceOnceWhenReady() {
          if (this.enforcing) return;
          this.enforcing = true;
          const tick = () => {
            const ctx = getCtx();
            if (!ctx) {
              requestAnimationFrame(tick);
              return;
            }
            this.setMuted(this.isMuted());
          };
          tick();
        }
      };
      muteMgr = new MuteManager();
      (function installMuteHotkey() {
        window.addEventListener("keydown", (e) => {
          var _a;
          if (((_a = e.key) == null ? void 0 : _a.toLowerCase()) === "m") {
            e.preventDefault();
            muteMgr.toggle();
          }
        });
      })();
    }
  });

  // web/src/audio/engine.ts
  function makePRNG(seed) {
    let s = seed >>> 0 || 1;
    return function() {
      s += 1831565813;
      let t = Math.imul(s ^ s >>> 15, 1 | s);
      t ^= t + Math.imul(t ^ t >>> 7, 61 | t);
      return ((t ^ t >>> 14) >>> 0) / 4294967296;
    };
  }
  var _AudioEngine, AudioEngine;
  var init_engine2 = __esm({
    "web/src/audio/engine.ts"() {
      "use strict";
      _AudioEngine = class _AudioEngine {
        constructor() {
          this._targetMaster = 0.9;
          this._targetMusic = 0.9;
          this._targetSfx = 0.9;
          this.ctx = new AudioContext();
          window.LSD_AUDIO_CTX = this.ctx;
          this.master = new GainNode(this.ctx, { gain: this._targetMaster });
          this.musicBus = new GainNode(this.ctx, { gain: this._targetMusic });
          this.sfxBus = new GainNode(this.ctx, { gain: this._targetSfx });
          this.musicBus.connect(this.master);
          this.sfxBus.connect(this.master);
          this.master.connect(this.ctx.destination);
        }
        static get() {
          if (!this._inst) this._inst = new _AudioEngine();
          return this._inst;
        }
        get now() {
          return this.ctx.currentTime;
        }
        getMusicBus() {
          return this.musicBus;
        }
        getSfxBus() {
          return this.sfxBus;
        }
        async resume() {
          if (this.ctx.state === "suspended") {
            await this.ctx.resume();
          }
        }
        async suspend() {
          if (this.ctx.state === "running") {
            await this.ctx.suspend();
          }
        }
        setMasterGain(v, t = this.now, ramp = 0.03) {
          this._targetMaster = v;
          this.master.gain.cancelScheduledValues(t);
          this.master.gain.linearRampToValueAtTime(v, t + ramp);
        }
        setMusicGain(v, t = this.now, ramp = 0.03) {
          this._targetMusic = v;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(v, t + ramp);
        }
        setSfxGain(v, t = this.now, ramp = 0.03) {
          this._targetSfx = v;
          this.sfxBus.gain.cancelScheduledValues(t);
          this.sfxBus.gain.linearRampToValueAtTime(v, t + ramp);
        }
        duckMusic(level = 0.4, attack = 0.05) {
          const t = this.now;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(level, t + attack);
        }
        unduckMusic(release = 0.25) {
          const t = this.now;
          this.musicBus.gain.cancelScheduledValues(t);
          this.musicBus.gain.linearRampToValueAtTime(this._targetMusic, t + release);
        }
      };
      _AudioEngine._inst = null;
      AudioEngine = _AudioEngine;
    }
  });

  // web/src/audio/graph.ts
  function osc(ctx, type, freq) {
    return new OscillatorNode(ctx, { type, frequency: freq });
  }
  function noise(ctx) {
    const buffer = ctx.createBuffer(1, ctx.sampleRate * 2, ctx.sampleRate);
    const data = buffer.getChannelData(0);
    for (let i = 0; i < data.length; i++) data[i] = Math.random() * 2 - 1;
    return new AudioBufferSourceNode(ctx, { buffer, loop: true });
  }
  function makePanner(ctx, pan = 0) {
    return new StereoPannerNode(ctx, { pan });
  }
  function adsr(ctx, param, t0, a = 0.01, d = 0.08, s = 0.5, r = 0.2, peak = 1) {
    param.cancelScheduledValues(t0);
    param.setValueAtTime(0, t0);
    param.linearRampToValueAtTime(peak, t0 + a);
    param.linearRampToValueAtTime(s * peak, t0 + a + d);
    return (releaseAt = ctx.currentTime) => {
      param.cancelScheduledValues(releaseAt);
      param.setValueAtTime(param.value, releaseAt);
      param.linearRampToValueAtTime(1e-4, releaseAt + r);
    };
  }
  var init_graph = __esm({
    "web/src/audio/graph.ts"() {
      "use strict";
    }
  });

  // web/src/audio/sfx.ts
  function playSfx(engine, name, opts = {}) {
    switch (name) {
      case "laser":
        return playLaser(engine, opts);
      case "thrust":
        return playThrust(engine, opts);
      case "explosion":
        return playExplosion(engine, opts);
      case "lock":
        return playLock(engine, opts);
      case "ui":
        return playUi(engine, opts);
      case "dialogue":
        return playDialogue(engine, opts);
    }
  }
  function playLaser(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const o = osc(ctx, "square", 680 + 160 * velocity);
    const f = new BiquadFilterNode(ctx, { type: "lowpass", frequency: 1200 });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 2e-3, 0.03, 0.25, 0.08, 0.65);
    o.start(now);
    release(now + 0.06);
    o.stop(now + 0.2);
  }
  function playThrust(engine, { velocity = 0.6, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const n = noise(ctx);
    const f = new BiquadFilterNode(ctx, {
      type: "bandpass",
      frequency: 180 + 360 * velocity,
      Q: 1.1
    });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    n.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 0.012, 0.15, 0.75, 0.25, 0.45 * velocity);
    n.start(now);
    release(now + 0.25);
    n.stop(now + 1);
  }
  function playExplosion(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const n = noise(ctx);
    const f = new BiquadFilterNode(ctx, {
      type: "lowpass",
      frequency: 2200 * Math.max(0.2, Math.min(velocity, 1)),
      Q: 0.2
    });
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    n.connect(f).connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 5e-3, 0.08, 0.5, 0.35, 1.1 * velocity);
    n.start(now);
    release(now + 0.15 + 0.1 * velocity);
    n.stop(now + 1.2);
  }
  function playLock(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const base = 520 + 140 * velocity;
    const o1 = osc(ctx, "sine", base);
    const o2 = osc(ctx, "sine", base * 1.5);
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o1.connect(g);
    o2.connect(g);
    g.connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 1e-3, 0.02, 0, 0.12, 0.6);
    o1.start(now);
    o2.start(now + 0.02);
    release(now + 0.06);
    o1.stop(now + 0.2);
    o2.stop(now + 0.22);
  }
  function playUi(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const o = osc(ctx, "triangle", 880 - 120 * velocity);
    const g = new GainNode(ctx, { gain: 0 });
    const p = makePanner(ctx, pan);
    o.connect(g).connect(p).connect(out);
    const release = adsr(ctx, g.gain, now, 1e-3, 0.04, 0, 0.08, 0.35);
    o.start(now);
    release(now + 0.05);
    o.stop(now + 0.18);
  }
  function playDialogue(engine, { velocity = 1, pan = 0 } = {}) {
    const { ctx, now } = engine;
    const out = engine.getSfxBus();
    const freq = 480 + 160 * velocity;
    const o = osc(ctx, "sine", freq);
    const g = new GainNode(ctx, { gain: 1e-4 });
    const p = makePanner(ctx, pan);
    o.connect(g).connect(p).connect(out);
    g.gain.setValueAtTime(1e-4, now);
    g.gain.exponentialRampToValueAtTime(0.04, now + 0.02);
    g.gain.exponentialRampToValueAtTime(5e-4, now + 0.28);
    o.start(now);
    o.stop(now + 0.3);
  }
  var init_sfx = __esm({
    "web/src/audio/sfx.ts"() {
      "use strict";
      init_graph();
    }
  });

  // web/src/story/sfx.ts
  async function resumeAudio() {
    await AudioEngine.get().resume();
  }
  var init_sfx2 = __esm({
    "web/src/story/sfx.ts"() {
      "use strict";
      init_engine2();
      init_sfx();
    }
  });

  // web/src/audio/music/scenes/ambient.ts
  var MODES, ROOT_MAX_GAIN, ROOT_SWELL_TIME, DRONE_SHIFT_MIN_S, DRONE_SHIFT_MAX_S, DRONE_GLIDE_MIN_S, DRONE_GLIDE_MAX_S, CHORD_VOICES_MAX, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S, CHORD_HOLD_MIN_S, CHORD_HOLD_MAX_S, CHORD_GAP_MIN_S, CHORD_GAP_MAX_S, CHORD_ANCHOR_PROB, FILTER_BASE_HZ, FILTER_PEAK_HZ, SWEEP_SEG_S, LFO_RATE_HZ, LFO_DEPTH_HZ, DELAY_TIME_S, FEEDBACK_GAIN, WET_MIX, PREFERRED_DEGREE_ORDER, clamp01, rand, choice, midiToFreq, Voice, AmbientScene;
  var init_ambient = __esm({
    "web/src/audio/music/scenes/ambient.ts"() {
      "use strict";
      init_engine2();
      MODES = {
        Ionian: [0, 2, 4, 5, 7, 9, 11],
        Dorian: [0, 2, 3, 5, 7, 9, 10],
        Phrygian: [0, 1, 3, 5, 7, 8, 10],
        Lydian: [0, 2, 4, 6, 7, 9, 11],
        Mixolydian: [0, 2, 4, 5, 7, 9, 10],
        Aeolian: [0, 2, 3, 5, 7, 8, 10],
        Locrian: [0, 1, 3, 5, 6, 8, 10]
      };
      ROOT_MAX_GAIN = 0.33;
      ROOT_SWELL_TIME = 20;
      DRONE_SHIFT_MIN_S = 24;
      DRONE_SHIFT_MAX_S = 48;
      DRONE_GLIDE_MIN_S = 8;
      DRONE_GLIDE_MAX_S = 15;
      CHORD_VOICES_MAX = 5;
      CHORD_FADE_MIN_S = 8;
      CHORD_FADE_MAX_S = 16;
      CHORD_HOLD_MIN_S = 10;
      CHORD_HOLD_MAX_S = 22;
      CHORD_GAP_MIN_S = 4;
      CHORD_GAP_MAX_S = 9;
      CHORD_ANCHOR_PROB = 0.6;
      FILTER_BASE_HZ = 220;
      FILTER_PEAK_HZ = 4200;
      SWEEP_SEG_S = 30;
      LFO_RATE_HZ = 0.05;
      LFO_DEPTH_HZ = 900;
      DELAY_TIME_S = 0.45;
      FEEDBACK_GAIN = 0.35;
      WET_MIX = 0.28;
      PREFERRED_DEGREE_ORDER = [0, 4, 2, 5, 1, 3, 6];
      clamp01 = (x) => Math.max(0, Math.min(1, x));
      rand = (rng, a, b) => a + rng() * (b - a);
      choice = (rng, arr) => arr[Math.floor(rng() * arr.length)];
      midiToFreq = (m) => 440 * Math.pow(2, (m - 69) / 12);
      Voice = class {
        constructor(ctx, targetGain, waveform, freqHz, destination, rng) {
          this.ctx = ctx;
          this.targetGain = targetGain;
          this.killed = false;
          this.osc = new OscillatorNode(ctx, { type: waveform, frequency: freqHz });
          this.shimmer = new OscillatorNode(ctx, { type: "sine", frequency: rand(rng, 0.06, 0.18) });
          this.shimmerGain = new GainNode(ctx, { gain: rand(rng, 0.4, 1.2) });
          this.scale = new GainNode(ctx, { gain: 25 });
          this.shimmer.connect(this.shimmerGain).connect(this.scale).connect(this.osc.detune);
          this.g = new GainNode(ctx, { gain: 0 });
          this.osc.connect(this.g).connect(destination);
          this.osc.start();
          this.shimmer.start();
        }
        fadeIn(seconds) {
          const now = this.ctx.currentTime;
          this.g.gain.cancelScheduledValues(now);
          this.g.gain.setValueAtTime(this.g.gain.value, now);
          this.g.gain.linearRampToValueAtTime(this.targetGain, now + seconds);
        }
        fadeOutKill(seconds) {
          if (this.killed) return;
          this.killed = true;
          const now = this.ctx.currentTime;
          this.g.gain.cancelScheduledValues(now);
          this.g.gain.setValueAtTime(this.g.gain.value, now);
          this.g.gain.linearRampToValueAtTime(1e-4, now + seconds);
          setTimeout(() => this.stop(), seconds * 1e3 + 60);
        }
        setFreqGlide(targetHz, glideSeconds) {
          const now = this.ctx.currentTime;
          const current = Math.max(1e-4, this.osc.frequency.value);
          this.osc.frequency.cancelScheduledValues(now);
          try {
            this.osc.frequency.setValueAtTime(current, now);
            this.osc.frequency.exponentialRampToValueAtTime(targetHz, now + glideSeconds);
          } catch (e) {
            this.osc.frequency.linearRampToValueAtTime(targetHz, now + glideSeconds);
          }
        }
        stop() {
          try {
            this.osc.stop();
            this.shimmer.stop();
          } catch (e) {
          }
          try {
            this.osc.disconnect();
            this.shimmer.disconnect();
            this.g.disconnect();
            this.shimmerGain.disconnect();
            this.scale.disconnect();
          } catch (e) {
          }
        }
      };
      AmbientScene = class {
        constructor(ctx, out, seed = 1) {
          this.ctx = ctx;
          this.out = out;
          this.running = false;
          this.stopFns = [];
          this.timeouts = [];
          this.params = { intensity: 0.75, brightness: 0.5, density: 0.6 };
          // musical state
          this.keyRootMidi = 43;
          this.mode = "Ionian";
          this.droneDegreeIdx = 0;
          this.rootVoice = null;
          this.rng = makePRNG(seed);
        }
        setParam(k, v) {
          this.params[k] = clamp01(v);
          if (this.running && k === "intensity" && this.master) {
            this.master.gain.value = 0.15 + 0.85 * this.params.intensity;
          }
        }
        start() {
          if (this.running) return;
          this.running = true;
          this.master = new GainNode(this.ctx, { gain: 0.15 + 0.85 * this.params.intensity });
          this.filter = new BiquadFilterNode(this.ctx, { type: "lowpass", Q: 0.707 });
          this.dry = new GainNode(this.ctx, { gain: 1 });
          this.wet = new GainNode(this.ctx, { gain: WET_MIX });
          this.delay = new DelayNode(this.ctx, { delayTime: DELAY_TIME_S, maxDelayTime: 2 });
          this.feedback = new GainNode(this.ctx, { gain: FEEDBACK_GAIN });
          this.filter.connect(this.dry).connect(this.master);
          this.filter.connect(this.delay);
          this.delay.connect(this.feedback).connect(this.delay);
          this.delay.connect(this.wet).connect(this.master);
          this.master.connect(this.out);
          this.filter.frequency.setValueAtTime(FILTER_BASE_HZ, this.ctx.currentTime);
          const sweep = () => {
            const t = this.ctx.currentTime;
            this.filter.frequency.cancelScheduledValues(t);
            this.filter.frequency.setTargetAtTime(
              FILTER_BASE_HZ + (FILTER_PEAK_HZ - FILTER_BASE_HZ) * (0.4 + 0.6 * this.params.brightness),
              t,
              SWEEP_SEG_S / 3
            );
            this.filter.frequency.setTargetAtTime(
              FILTER_BASE_HZ * (0.7 + 0.3 * this.params.brightness),
              t + SWEEP_SEG_S,
              SWEEP_SEG_S / 3
            );
            this.timeouts.push(window.setTimeout(() => this.running && sweep(), SWEEP_SEG_S * 2 * 1e3));
          };
          sweep();
          this.lfoNode = new OscillatorNode(this.ctx, { type: "sine", frequency: LFO_RATE_HZ });
          this.lfoGain = new GainNode(this.ctx, { gain: LFO_DEPTH_HZ * (0.5 + 0.5 * this.params.brightness) });
          this.lfoNode.connect(this.lfoGain).connect(this.filter.frequency);
          this.lfoNode.start();
          this.spawnRootDrone();
          this.scheduleNextDroneMove();
          this.chordCycle();
          this.stopFns.push(() => {
            var _a;
            try {
              (_a = this.lfoNode) == null ? void 0 : _a.stop();
            } catch (e) {
            }
            [this.master, this.filter, this.dry, this.wet, this.delay, this.feedback, this.lfoNode, this.lfoGain].forEach((n) => {
              try {
                n == null ? void 0 : n.disconnect();
              } catch (e) {
              }
            });
          });
        }
        stop() {
          if (!this.running) return;
          this.running = false;
          this.timeouts.splice(0).forEach((id) => window.clearTimeout(id));
          if (this.rootVoice) this.rootVoice.fadeOutKill(1.2);
          this.stopFns.splice(0).forEach((fn) => fn());
        }
        /* ------------------------- Musical engine below ------------------------- */
        currentDegrees() {
          return MODES[this.mode] || MODES.Lydian;
        }
        /** Drone root voice */
        spawnRootDrone() {
          const baseMidi = this.keyRootMidi + this.currentDegrees()[this.droneDegreeIdx];
          const v = new Voice(
            this.ctx,
            ROOT_MAX_GAIN,
            "sine",
            midiToFreq(baseMidi),
            this.filter,
            this.rng
          );
          v.fadeIn(ROOT_SWELL_TIME);
          this.rootVoice = v;
        }
        scheduleNextDroneMove() {
          if (!this.running) return;
          const waitMs = rand(this.rng, DRONE_SHIFT_MIN_S, DRONE_SHIFT_MAX_S) * 1e3;
          const id = window.setTimeout(() => {
            if (!this.running || !this.rootVoice) return;
            const glide = rand(this.rng, DRONE_GLIDE_MIN_S, DRONE_GLIDE_MAX_S);
            const nextIdx = this.pickNextDroneDegreeIdx();
            const targetMidi = this.keyRootMidi + this.currentDegrees()[nextIdx];
            this.rootVoice.setFreqGlide(midiToFreq(targetMidi), glide);
            this.droneDegreeIdx = nextIdx;
            this.scheduleNextDroneMove();
          }, waitMs);
          this.timeouts.push(id);
        }
        pickNextDroneDegreeIdx() {
          const order = [...PREFERRED_DEGREE_ORDER];
          const i = order.indexOf(this.droneDegreeIdx);
          if (i >= 0) {
            const [cur] = order.splice(i, 1);
            order.push(cur);
          }
          return choice(this.rng, order);
        }
        /** Build diatonic stacked-third chord degrees with optional extensions */
        buildChordDegrees(modeDegs, rootIndex, size = 4, add9 = false, add11 = false, add13 = false) {
          const steps = [0, 2, 4, 6];
          const chordIdxs = steps.slice(0, Math.min(size, 4)).map((s) => (rootIndex + s) % 7);
          if (add9) chordIdxs.push((rootIndex + 8) % 7);
          if (add11) chordIdxs.push((rootIndex + 10) % 7);
          if (add13) chordIdxs.push((rootIndex + 12) % 7);
          return chordIdxs.map((i) => modeDegs[i]);
        }
        *endlessChords() {
          while (true) {
            const modeDegs = this.currentDegrees();
            const rootDegreeIndex = this.rng() < CHORD_ANCHOR_PROB ? this.droneDegreeIdx : Math.floor(this.rng() * 7);
            const r = this.rng();
            let size = 3;
            let add9 = false, add11 = false, add13 = false;
            if (r < 0.35) {
              size = 3;
            } else if (r < 0.75) {
              size = 4;
            } else if (r < 0.9) {
              size = 4;
              add9 = true;
            } else if (r < 0.97) {
              size = 4;
              add11 = true;
            } else {
              size = 4;
              add13 = true;
            }
            const chordSemis = this.buildChordDegrees(modeDegs, rootDegreeIndex, size, add9, add11, add13);
            const spread = chordSemis.map((semi) => semi + choice(this.rng, [-12, 0, 0, 12]));
            if (!spread.includes(0) && this.rng() < 0.5) spread.push(0);
            yield spread;
          }
        }
        async chordCycle() {
          var _a;
          const gen = this.endlessChords();
          const voices = /* @__PURE__ */ new Set();
          const sleep = (ms) => new Promise((r) => {
            const id = window.setTimeout(() => r(), ms);
            this.timeouts.push(id);
          });
          while (this.running) {
            const thickness = Math.round(2 + this.params.density * 3);
            const baseMidi = this.keyRootMidi;
            const degreesOff = (_a = gen.next().value) != null ? _a : [];
            for (const off of degreesOff) {
              if (!this.running) break;
              if (voices.size >= Math.min(CHORD_VOICES_MAX, thickness)) break;
              const midi = baseMidi + off;
              const freq = midiToFreq(midi);
              const waveform = choice(this.rng, ["sine", "triangle", "sawtooth"]);
              const gainTarget = rand(this.rng, 0.08, 0.22) * (0.85 + 0.3 * this.params.intensity) * (0.9 + 0.2 * this.params.brightness);
              const v = new Voice(this.ctx, gainTarget, waveform, freq, this.filter, this.rng);
              voices.add(v);
              v.fadeIn(rand(this.rng, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S));
            }
            await sleep(rand(this.rng, CHORD_HOLD_MIN_S, CHORD_HOLD_MAX_S) * 1e3);
            const outs = Array.from(voices);
            for (const v of outs) v.fadeOutKill(rand(this.rng, CHORD_FADE_MIN_S, CHORD_FADE_MAX_S));
            voices.clear();
            await sleep(rand(this.rng, CHORD_GAP_MIN_S, CHORD_GAP_MAX_S) * 1e3);
          }
          for (const v of Array.from(voices)) v.fadeOutKill(0.8);
        }
      };
    }
  });

  // web/src/audio/music/index.ts
  var MusicDirector;
  var init_music = __esm({
    "web/src/audio/music/index.ts"() {
      "use strict";
      init_ambient();
      MusicDirector = class {
        constructor(engine) {
          this.engine = engine;
          this.busOut = new GainNode(engine.ctx, { gain: 0.9 });
          this.busOut.connect(engine.getMusicBus());
        }
        /** Crossfade to a new scene */
        setScene(name, opts) {
          var _a, _b;
          if (((_a = this.current) == null ? void 0 : _a.name) === name) return;
          const old = this.current;
          const t = this.engine.now;
          const fadeOut = new GainNode(this.engine.ctx, { gain: 0.9 });
          fadeOut.connect(this.engine.getMusicBus());
          if (old) {
            old.stop();
            fadeOut.gain.linearRampToValueAtTime(0, t + 0.6);
            setTimeout(() => fadeOut.disconnect(), 650);
          }
          const sceneOut = new GainNode(this.engine.ctx, { gain: 0 });
          sceneOut.connect(this.busOut);
          let stop = () => sceneOut.disconnect();
          if (name === "ambient") {
            const s = new AmbientScene(this.engine.ctx, sceneOut, (_b = opts == null ? void 0 : opts.seed) != null ? _b : 1);
            s.start();
            stop = () => {
              s.stop();
              sceneOut.disconnect();
            };
          }
          this.current = { name, stop };
          sceneOut.gain.linearRampToValueAtTime(0.9, t + 0.6);
        }
        stop() {
          if (!this.current) return;
          this.current.stop();
          this.current = void 0;
        }
      };
    }
  });

  // web/src/audio/cues.ts
  function registerAudioBusBindings(bus, engine, music) {
    bus.on("audio:resume", () => engine.resume());
    bus.on("audio:mute", () => engine.setMasterGain(0));
    bus.on("audio:unmute", () => engine.setMasterGain(0.9));
    bus.on(
      "audio:set-master-gain",
      ({ gain }) => engine.setMasterGain(Math.max(0, Math.min(1, gain)))
    );
    bus.on("audio:sfx", (msg) => {
      playSfx(engine, msg.name, { velocity: msg.velocity, pan: msg.pan });
    });
    bus.on("audio:music:set-scene", (msg) => {
      engine.resume();
      music.setScene(msg.scene, { seed: msg.seed });
    });
    bus.on("audio:music:param", (_msg) => {
    });
    bus.on("audio:music:transport", ({ cmd }) => {
      if (cmd === "stop" || cmd === "pause") music.stop();
    });
  }
  var init_cues = __esm({
    "web/src/audio/cues.ts"() {
      "use strict";
      init_sfx();
    }
  });

  // web/src/mission/controller.ts
  function mountMissionController({ state, bus, mode }) {
    if (mode !== "campaign") {
      return { destroy() {
      } };
    }
    let knownMissionId = null;
    let missionStarted = false;
    let activeBeaconId = null;
    const discoveredBeacons = /* @__PURE__ */ new Set();
    const completedBeacons = /* @__PURE__ */ new Set();
    function reset() {
      knownMissionId = null;
      missionStarted = false;
      activeBeaconId = null;
      discoveredBeacons.clear();
      completedBeacons.clear();
    }
    function handleMissionUpdate() {
      var _a;
      const mission = state.mission;
      if (!mission) {
        reset();
        return;
      }
      const player = mission.player;
      if (!player) {
        missionStarted = false;
        activeBeaconId = null;
        return;
      }
      if (mission.missionId !== knownMissionId) {
        knownMissionId = mission.missionId;
        missionStarted = false;
        activeBeaconId = null;
        discoveredBeacons.clear();
        completedBeacons.clear();
      }
      if (!missionStarted && mission.status !== "idle") {
        missionStarted = true;
      }
      for (const beacon of mission.beacons) {
        if (beacon.discovered && !discoveredBeacons.has(beacon.id)) {
          discoveredBeacons.add(beacon.id);
          bus.emit("beacon:discovered", { id: beacon.id, ordinal: beacon.ordinal });
        }
      }
      for (const beacon of mission.beacons) {
        if (beacon.completed && !completedBeacons.has(beacon.id)) {
          completedBeacons.add(beacon.id);
          bus.emit("mission:beacon-locked", { index: beacon.ordinal });
        }
      }
      if (player.activeBeaconId && player.activeBeaconId !== activeBeaconId) {
        activeBeaconId = player.activeBeaconId;
        const beacon = mission.beacons.find((b) => b.id === player.activeBeaconId);
        bus.emit("beacon:activated", {
          id: player.activeBeaconId,
          ordinal: (_a = beacon == null ? void 0 : beacon.ordinal) != null ? _a : player.currentIndex
        });
      } else if (!player.activeBeaconId) {
        activeBeaconId = null;
      }
      synchronizeHoldDisplay(player);
      updateInsideFlag(player);
    }
    function handleTick() {
      const mission = state.mission;
      if (!(mission == null ? void 0 : mission.player)) return;
      synchronizeHoldDisplay(mission.player);
      updateInsideFlag(mission.player);
    }
    function synchronizeHoldDisplay(player) {
      if (!Number.isFinite(player.holdAccum)) {
        player.holdAccum = 0;
      }
      if (!Number.isFinite(player.displayHold)) {
        player.displayHold = player.holdAccum;
      }
      const nowMs = monotonicNow();
      const previousSync = Number.isFinite(player.lastDisplaySync) ? player.lastDisplaySync : nowMs;
      const dt = Math.max(0, (nowMs - previousSync) / 1e3);
      player.lastDisplaySync = nowMs;
      const target = clamp(player.holdAccum, 0, Math.max(player.holdRequired, player.holdAccum));
      const smoothing = 1 - Math.exp(-dt * HOLD_SMOOTH_RATE);
      if (smoothing > 0) {
        player.displayHold = player.displayHold + (target - player.displayHold) * smoothing;
      }
      if (Math.abs(player.displayHold - target) < HOLD_EPSILON) {
        player.displayHold = target;
      }
      player.displayHold = clamp(player.displayHold, 0, Math.max(player.holdRequired, target));
    }
    function updateInsideFlag(player) {
      const mission = state.mission;
      if (!mission) {
        player.insideActiveBeacon = false;
        return;
      }
      if (!player.activeBeaconId || !state.me) {
        player.insideActiveBeacon = false;
        return;
      }
      const beacon = mission.beacons.find((b) => b.id === player.activeBeaconId);
      if (!beacon) {
        player.insideActiveBeacon = false;
        return;
      }
      const dx = state.me.x - beacon.x;
      const dy = state.me.y - beacon.y;
      player.insideActiveBeacon = dx * dx + dy * dy <= beacon.radius * beacon.radius;
    }
    const unsubMission = bus.on("mission:update", () => handleMissionUpdate());
    const unsubMissionStart = bus.on("mission:start", () => {
      missionStarted = true;
    });
    const unsubOffer = bus.on("mission:offered", ({ missionId }) => {
      if (missionId) {
        acceptMission(missionId);
      }
    });
    const unsubState = bus.on("state:updated", () => handleTick());
    return {
      destroy() {
        unsubMission();
        unsubState();
        unsubOffer();
        unsubMissionStart();
      }
    };
  }
  var HOLD_SMOOTH_RATE, HOLD_EPSILON;
  var init_controller2 = __esm({
    "web/src/mission/controller.ts"() {
      "use strict";
      init_state();
      init_net();
      HOLD_SMOOTH_RATE = 6;
      HOLD_EPSILON = 0.01;
    }
  });

  // web/src/upgrades.ts
  function initUpgradesPanel(state, bus) {
    const panel = createPanelElement();
    document.body.appendChild(panel);
    const container = panel.querySelector(".tech-tree-container");
    const closeBtn = panel.querySelector(".close-btn");
    const overlay = panel.querySelector(".panel-overlay");
    let lastSig = "";
    function computeSig(nodes) {
      return nodes.slice().sort((a, b) => a.id.localeCompare(b.id)).map((n) => `${n.id}:${n.status}`).join("|");
    }
    function renderUpgrades(force = false) {
      var _a;
      const all = ((_a = state.dag) == null ? void 0 : _a.nodes) || [];
      const upgradeNodes = all.filter((n) => n.kind === "unit" || n.id.startsWith("upgrade."));
      const sig = computeSig(upgradeNodes);
      if (!force && sig === lastSig) return;
      lastSig = sig;
      renderTechTree(upgradeNodes, container);
    }
    function togglePanel(visible) {
      panel.classList.toggle("visible", visible);
      if (visible) {
        renderUpgrades();
      }
    }
    bus.on("upgrades:toggle", () => {
      const next = !panel.classList.contains("visible");
      togglePanel(next);
      if (next) renderUpgrades(true);
    });
    bus.on("upgrades:show", () => {
      togglePanel(true);
      renderUpgrades(true);
    });
    bus.on("upgrades:hide", () => togglePanel(false));
    closeBtn.addEventListener("click", () => togglePanel(false));
    overlay.addEventListener("click", () => togglePanel(false));
    bus.on("state:updated", () => {
      if (panel.classList.contains("visible")) {
        renderUpgrades(false);
      }
    });
    container.addEventListener("click", (e) => {
      var _a;
      const nodeEl = e.target.closest("[data-node-id]");
      if (!nodeEl) return;
      const nodeId = nodeEl.getAttribute("data-node-id");
      const node = (_a = state.dag) == null ? void 0 : _a.nodes.find((n) => n.id === nodeId);
      if ((node == null ? void 0 : node.status) === "available") {
        sendDagStart(nodeId);
      }
    });
  }
  function createPanelElement() {
    const panel = document.createElement("div");
    panel.className = "upgrades-panel";
    panel.innerHTML = `
    <div class="panel-overlay"></div>
    <div class="panel-content">
      <div class="panel-header">
        <h2>Ship Upgrades</h2>
        <button class="close-btn">\xD7</button>
      </div>
      <div class="tech-tree-container"></div>
    </div>
  `;
    return panel;
  }
  function renderTechTree(nodes, container) {
    const sorted = nodes.slice().sort((a, b) => a.id.localeCompare(b.id));
    container.innerHTML = `
    <div class="tech-tree">
      ${sorted.length > 0 ? sorted.map(renderNode).join("") : '<div class="muted">No upgrades available</div>'}
    </div>
  `;
  }
  function effectTypeToString(t) {
    if (typeof t === "string") return t;
    if (typeof t === "number") {
      switch (t) {
        case 1 /* SPEED_MULTIPLIER */:
          return "speed_multiplier";
        case 2 /* MISSILE_UNLOCK */:
          return "missile_unlock";
        case 3 /* HEAT_CAPACITY */:
          return "heat_capacity";
        case 4 /* HEAT_EFFICIENCY */:
          return "heat_efficiency";
        default:
          return "unknown";
      }
    }
    return "unknown";
  }
  function renderNode(node) {
    var _a;
    const statusClass = `node-${node.status}`;
    const effectsHtml = ((_a = node.effects) == null ? void 0 : _a.map((e) => {
      const type = effectTypeToString(e.type);
      const value = e.value;
      const isShip = node.id.startsWith("upgrade.ship.");
      const isMissile = node.id.startsWith("upgrade.missile.");
      if (type === "missile_unlock") {
        return `Unlock ${value}`;
      }
      if (typeof value === "number") {
        const pct = (value - 1) * 100;
        const pctStr = Number.isFinite(pct) ? pct.toFixed(0) : "0";
        if (type === "speed_multiplier") {
          return isShip ? `+${pctStr}% Ship Speed` : isMissile ? `+${pctStr}% Missile Speed` : `+${pctStr}% Speed`;
        }
        if (type === "heat_capacity") {
          return isShip ? `+${pctStr}% Ship Heat` : isMissile ? `+${pctStr}% Missile Heat` : `+${pctStr}% Heat Capacity`;
        }
        if (type === "heat_efficiency") {
          return `+${pctStr}% Cooling`;
        }
      }
      return "";
    }).join(", ")) || "";
    const countdownHtml = node.status === "in_progress" ? `<div class="countdown">${formatTime(node.remaining_s)}</div>` : "";
    return `
    <div class="node ${statusClass}" data-node-id="${node.id}">
      <h3>${node.label}</h3>
      ${effectsHtml ? `<p class="effects">${effectsHtml}</p>` : ""}
      <p class="duration">Duration: ${formatTime(node.duration_s)}</p>
      ${countdownHtml}
      ${node.status === "available" ? "<button>Start</button>" : ""}
      ${node.status === "completed" ? '<div class="checkmark">\u2713</div>' : ""}
    </div>
  `;
  }
  function formatTime(seconds) {
    if (seconds < 60) return `${Math.floor(seconds)}s`;
    if (seconds < 3600) return `${Math.floor(seconds / 60)}m`;
    return `${Math.floor(seconds / 3600)}h ${Math.floor(seconds % 3600 / 60)}m`;
  }
  function startCountdownTimer(state, bus) {
    if (countdownInterval) {
      clearInterval(countdownInterval);
    }
    countdownInterval = window.setInterval(() => {
      var _a;
      const upgradeNodes = ((_a = state.dag) == null ? void 0 : _a.nodes.filter(
        (n) => n.kind === "unit" && n.status === "in_progress"
      )) || [];
      upgradeNodes.forEach((node) => {
        const el = document.querySelector(`[data-node-id="${node.id}"] .countdown`);
        if (el && node.remaining_s > 0) {
          el.textContent = formatTime(node.remaining_s);
        }
      });
      const inProgressCount = upgradeNodes.length;
      bus.emit("upgrades:countUpdated", { count: inProgressCount });
    }, 1e3);
  }
  var countdownInterval;
  var init_upgrades = __esm({
    "web/src/upgrades.ts"() {
      "use strict";
      init_ws_messages_pb();
      init_net();
      countdownInterval = null;
    }
  });

  // web/src/main.ts
  var require_main = __commonJS({
    "web/src/main.ts"() {
      init_bus();
      init_net();
      init_game();
      init_encounter_overlay();
      init_state();
      init_tutorial();
      init_storage();
      init_story();
      init_start_gate();
      init_sfx2();
      init_engine2();
      init_music();
      init_cues();
      init_controller2();
      init_upgrades();
      var CALL_SIGN_STORAGE_KEY = "lsd:callsign";
      (async function bootstrap() {
        const qs = new URLSearchParams(window.location.search);
        const room = qs.get("room") || "default";
        const mode = qs.get("mode") || "";
        const missionId = qs.get("mission") || (mode === "campaign" ? "1" : null);
        const nameParam = sanitizeCallSign(qs.get("name"));
        const storedName = sanitizeCallSign(readStoredCallSign());
        const callSign = nameParam || storedName;
        const mapW = parseFloat(qs.get("mapW") || "8000");
        const mapH = parseFloat(qs.get("mapH") || "4500");
        if (nameParam && nameParam !== storedName) {
          persistCallSign(nameParam);
        }
        await waitForUserStart({
          label: "Start Game",
          requestFullscreen: false,
          // flip to true if you want fullscreen
          resumeAudio
          // uses story/sfx.ts
        });
        const state = createInitialState();
        const uiState = createInitialUIState();
        const bus = createEventBus();
        const engine = AudioEngine.get();
        await engine.resume();
        const music = new MusicDirector(engine);
        registerAudioBusBindings(bus, engine, music);
        bus.emit("audio:music:set-scene", { scene: "ambient", seed: 42 });
        bus.on("ship:speedChanged", ({ value }) => {
          if (value > 0) bus.emit("audio:sfx", { name: "thrust", velocity: Math.min(1, value) });
        });
        const game = initGame({ state, uiState, bus });
        mountMissionController({ state, bus, mode, missionId });
        initEncounterDebugOverlay({ state, bus });
        initUpgradesPanel(state, bus);
        startCountdownTimer(state, bus);
        window.addEventListener("keydown", (e) => {
          if (e.key === "u" || e.key === "U") {
            bus.emit("upgrades:toggle");
          }
        });
        const upgradesBtn = document.getElementById("game-upgrades-btn");
        upgradesBtn == null ? void 0 : upgradesBtn.addEventListener("click", () => {
          bus.emit("upgrades:toggle");
        });
        bus.on("upgrades:countUpdated", ({ count }) => {
          const badge = document.getElementById("game-upgrades-badge");
          if (badge) {
            badge.textContent = count > 0 ? `${count}` : "";
            badge.style.display = count > 0 ? "inline" : "none";
          }
        });
        const enableTutorial = mode === "campaign" || mode === "tutorial";
        const enableStory = mode === "campaign";
        let tutorial = null;
        let tutorialStarted = false;
        if (enableTutorial) {
          tutorial = mountTutorial(bus);
        }
        const startTutorial = () => {
          if (!tutorial || tutorialStarted) return;
          tutorialStarted = true;
          clearProgress(BASIC_TUTORIAL_ID);
          tutorial.start({ resume: false });
        };
        if (enableStory) {
          mountStory({ bus, state, roomId: room });
        } else if (mode === "tutorial") {
          startTutorial();
        }
        connectWebSocket({
          room,
          state,
          bus,
          mapW,
          mapH,
          mode,
          missionId: missionId != null ? missionId : void 0,
          onStateUpdated: () => game.onStateUpdated(),
          onOpen: () => {
            const nameToSend = callSign || sanitizeCallSign(readStoredCallSign());
            if (nameToSend) sendMessage({ type: "join", name: nameToSend });
          }
        });
        document.addEventListener("visibilitychange", () => {
          if (document.visibilityState === "hidden") {
            void engine.suspend();
          } else {
            void engine.resume();
          }
        });
      })();
      function sanitizeCallSign(value) {
        if (!value) return "";
        const trimmed = value.trim();
        if (!trimmed) return "";
        return trimmed.slice(0, 24);
      }
      function persistCallSign(name) {
        try {
          if (name) window.localStorage.setItem(CALL_SIGN_STORAGE_KEY, name);
          else window.localStorage.removeItem(CALL_SIGN_STORAGE_KEY);
        } catch (e) {
        }
      }
      function readStoredCallSign() {
        var _a;
        try {
          return (_a = window.localStorage.getItem(CALL_SIGN_STORAGE_KEY)) != null ? _a : "";
        } catch (e) {
          return "";
        }
      }
    }
  });
  require_main();
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2J1cy50cyIsICJzcmMvc3RhdGUudHMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS90eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2lzLW1lc3NhZ2UuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9kZXNjcmlwdG9ycy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3dpcmUvdmFyaW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vcHJvdG8taW50NjQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L3NjYWxhci5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvdW5zYWZlLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vcmVmbGVjdC9ndWFyZC5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3drdC93cmFwcGVycy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NyZWF0ZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvZXJyb3IuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS93aXJlL3RleHQtZW5jb2RpbmcuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS93aXJlL2JpbmFyeS1lbmNvZGluZy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvcmVmbGVjdC1jaGVjay5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZmxlY3QvcmVmbGVjdC5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Nsb25lLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vd2lyZS9iYXNlNjQtZW5jb2RpbmcuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L25hbWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL3Jlc3RvcmUtanNvbi1uYW1lcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3dpcmUvdGV4dC1mb3JtYXQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9yZWZsZWN0L25lc3RlZC10eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL3JlZ2lzdHJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL2Jvb3QuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvbWVzc2FnZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9lbnVtLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vd2t0L2dlbi9nb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvcl9wYi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Zyb20tYmluYXJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL2ZpbGUuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS90by1iaW5hcnkuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvZXh0ZW5zaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vZXF1YWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vZmllbGRzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vdG8tanNvbi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2Zyb20tanNvbi5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL21lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvZW1iZWQuanMiLCAibm9kZV9tb2R1bGVzL0BidWZidWlsZC9wcm90b2J1Zi9kaXN0L2VzbS9jb2RlZ2VudjIvc2VydmljZS5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9zeW1ib2xzLmpzIiwgIm5vZGVfbW9kdWxlcy9AYnVmYnVpbGQvcHJvdG9idWYvZGlzdC9lc20vY29kZWdlbnYyL3NjYWxhci5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi90eXBlcy5qcyIsICJub2RlX21vZHVsZXMvQGJ1ZmJ1aWxkL3Byb3RvYnVmL2Rpc3QvZXNtL2NvZGVnZW52Mi9pbmRleC5qcyIsICJzcmMvcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGIudHMiLCAic3JjL3Byb3RvX2hlbHBlcnMudHMiLCAic3JjL25ldC50cyIsICJzcmMvZ2FtZS9jb25zdGFudHMudHMiLCAic3JjL2dhbWUvY2FtZXJhLnRzIiwgInNyYy9nYW1lL2lucHV0LnRzIiwgInNyYy9yb3V0ZS50cyIsICJzcmMvZ2FtZS9sb2dpYy50cyIsICJzcmMvZ2FtZS9yZW5kZXIudHMiLCAic3JjL2dhbWUvdWkudHMiLCAic3JjL21pc3Npb24vaHVkLnRzIiwgInNyYy9nYW1lLnRzIiwgInNyYy9kZWJ1Zy9lbmNvdW50ZXItb3ZlcmxheS50cyIsICJzcmMvdHV0b3JpYWwvaGlnaGxpZ2h0LnRzIiwgInNyYy90dXRvcmlhbC9zdG9yYWdlLnRzIiwgInNyYy90dXRvcmlhbC9yb2xlcy50cyIsICJzcmMvdHV0b3JpYWwvZW5naW5lLnRzIiwgInNyYy90dXRvcmlhbC9zdGVwc19iYXNpYy50cyIsICJzcmMvdHV0b3JpYWwvaW5kZXgudHMiLCAic3JjL3N0b3J5L292ZXJsYXkudHMiLCAic3JjL3N0b3J5L2NvbnRyb2xsZXIudHMiLCAic3JjL3N0b3J5L2luZGV4LnRzIiwgInNyYy9zdGFydC1nYXRlLnRzIiwgInNyYy9hdWRpby9lbmdpbmUudHMiLCAic3JjL2F1ZGlvL2dyYXBoLnRzIiwgInNyYy9hdWRpby9zZngudHMiLCAic3JjL3N0b3J5L3NmeC50cyIsICJzcmMvYXVkaW8vbXVzaWMvc2NlbmVzL2FtYmllbnQudHMiLCAic3JjL2F1ZGlvL211c2ljL2luZGV4LnRzIiwgInNyYy9hdWRpby9jdWVzLnRzIiwgInNyYy9taXNzaW9uL2NvbnRyb2xsZXIudHMiLCAic3JjL3VwZ3JhZGVzLnRzIiwgInNyYy9tYWluLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgdHlwZSB7XG4gIE1pc3NpbGVTZWxlY3Rpb24sXG4gIE1pc3Npb25PYmplY3RpdmVTdGF0ZSxcbiAgRGVidWdCZWFjb25JbmZvLFxuICBEZWJ1Z0VuY291bnRlckluZm8sXG59IGZyb20gXCIuL3N0YXRlXCI7XG5pbXBvcnQgdHlwZSB7IERpYWxvZ3VlQ29udGVudCB9IGZyb20gXCIuL3N0b3J5L3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIFNoaXBDb250ZXh0ID0gXCJzaGlwXCIgfCBcIm1pc3NpbGVcIjtcbmV4cG9ydCB0eXBlIFNoaXBUb29sID0gXCJzZXRcIiB8IFwic2VsZWN0XCIgfCBudWxsO1xuZXhwb3J0IHR5cGUgTWlzc2lsZVRvb2wgPSBcInNldFwiIHwgXCJzZWxlY3RcIiB8IG51bGw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRNYXAge1xuICBcImNvbnRleHQ6Y2hhbmdlZFwiOiB7IGNvbnRleHQ6IFNoaXBDb250ZXh0IH07XG4gIFwic2hpcDp0b29sQ2hhbmdlZFwiOiB7IHRvb2w6IFNoaXBUb29sIH07XG4gIFwic2hpcDp3YXlwb2ludEFkZGVkXCI6IHsgaW5kZXg6IG51bWJlciB9O1xuICBcInNoaXA6d2F5cG9pbnRNb3ZlZFwiOiB7IGluZGV4OiBudW1iZXI7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIFwic2hpcDpsZWdTZWxlY3RlZFwiOiB7IGluZGV4OiBudW1iZXIgfCBudWxsIH07XG4gIFwic2hpcDp3YXlwb2ludERlbGV0ZWRcIjogeyBpbmRleDogbnVtYmVyIH07XG4gIFwic2hpcDp3YXlwb2ludHNDbGVhcmVkXCI6IHZvaWQ7XG4gIFwic2hpcDpjbGVhckludm9rZWRcIjogdm9pZDtcbiAgXCJzaGlwOnNwZWVkQ2hhbmdlZFwiOiB7IHZhbHVlOiBudW1iZXIgfTtcbiAgXCJzaGlwOmhlYXRQcm9qZWN0aW9uVXBkYXRlZFwiOiB7IGhlYXRWYWx1ZXM6IG51bWJlcltdIH07XG4gIFwiaGVhdDptYXJrZXJBbGlnbmVkXCI6IHsgdmFsdWU6IG51bWJlcjsgbWFya2VyOiBudW1iZXIgfTtcbiAgXCJoZWF0Ondhcm5FbnRlcmVkXCI6IHsgdmFsdWU6IG51bWJlcjsgd2FybkF0OiBudW1iZXIgfTtcbiAgXCJoZWF0OmNvb2xlZEJlbG93V2FyblwiOiB7IHZhbHVlOiBudW1iZXI7IHdhcm5BdDogbnVtYmVyIH07XG4gIFwiaGVhdDpzdGFsbFRyaWdnZXJlZFwiOiB7IHN0YWxsVW50aWw6IG51bWJlciB9O1xuICBcImhlYXQ6c3RhbGxSZWNvdmVyZWRcIjogeyB2YWx1ZTogbnVtYmVyIH07XG4gIFwiaGVhdDpkdWFsTWV0ZXJEaXZlcmdlZFwiOiB7IHBsYW5uZWQ6IG51bWJlcjsgYWN0dWFsOiBudW1iZXIgfTtcbiAgXCJ1aTp3YXlwb2ludEhvdmVyU3RhcnRcIjogeyBpbmRleDogbnVtYmVyIH07XG4gIFwidWk6d2F5cG9pbnRIb3ZlckVuZFwiOiB7IGluZGV4OiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOnJvdXRlQWRkZWRcIjogeyByb3V0ZUlkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOnJvdXRlRGVsZXRlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6cm91dGVSZW5hbWVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB8IG51bGwgfTtcbiAgXCJtaXNzaWxlOnRvb2xDaGFuZ2VkXCI6IHsgdG9vbDogTWlzc2lsZVRvb2wgfTtcbiAgXCJtaXNzaWxlOnNlbGVjdGlvbkNoYW5nZWRcIjogeyBzZWxlY3Rpb246IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludE1vdmVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBpbmRleDogbnVtYmVyOyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6d2F5cG9pbnREZWxldGVkXCI6IHsgcm91dGVJZDogc3RyaW5nOyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lsZTp3YXlwb2ludHNDbGVhcmVkXCI6IHsgcm91dGVJZDogc3RyaW5nIH07XG4gIFwibWlzc2lsZTpzcGVlZENoYW5nZWRcIjogeyB2YWx1ZTogbnVtYmVyOyBpbmRleDogbnVtYmVyIH07XG4gIFwibWlzc2lsZTphZ3JvQ2hhbmdlZFwiOiB7IHZhbHVlOiBudW1iZXIgfTtcbiAgXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiOiB7IHJvdXRlSWQ6IHN0cmluZyB9O1xuICBcIm1pc3NpbGU6bGF1bmNoZWRcIjogeyByb3V0ZUlkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOmNvb2xkb3duVXBkYXRlZFwiOiB7IHNlY29uZHNSZW1haW5pbmc6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6ZGVsZXRlSW52b2tlZFwiOiB2b2lkO1xuICBcIm1pc3NpbGU6cHJlc2V0U2VsZWN0ZWRcIjogeyBwcmVzZXROYW1lOiBzdHJpbmcgfTtcbiAgXCJtaXNzaWxlOmhlYXRQcm9qZWN0aW9uVXBkYXRlZFwiOiB7IHdpbGxPdmVyaGVhdDogYm9vbGVhbjsgb3ZlcmhlYXRBdD86IG51bWJlciB9O1xuICBcIm1pc3NpbGU6b3ZlcmhlYXRlZFwiOiB7IG1pc3NpbGVJZDogc3RyaW5nOyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBcIm1pc3NpbGU6Y3JhZnRSZXF1ZXN0ZWRcIjogeyBub2RlSWQ6IHN0cmluZzsgaGVhdENhcGFjaXR5OiBudW1iZXIgfTtcbiAgXCJoZWxwOnZpc2libGVDaGFuZ2VkXCI6IHsgdmlzaWJsZTogYm9vbGVhbiB9O1xuICBcInN0YXRlOnVwZGF0ZWRcIjogdm9pZDtcbiAgXCJjb25uZWN0aW9uOmVycm9yXCI6IHsgbWVzc2FnZTogc3RyaW5nIH07XG4gIFwiZGFnOmxpc3RcIjogeyBub2RlczogQXJyYXk8eyBpZDogc3RyaW5nOyBraW5kOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmc7IHN0YXR1czogc3RyaW5nOyByZW1haW5pbmdfczogbnVtYmVyOyBkdXJhdGlvbl9zOiBudW1iZXI7IHJlcGVhdGFibGU6IGJvb2xlYW4gfT4gfTtcbiAgXCJ0dXRvcmlhbDpzdGFydGVkXCI6IHsgaWQ6IHN0cmluZyB9O1xuICBcInR1dG9yaWFsOnN0ZXBDaGFuZ2VkXCI6IHsgaWQ6IHN0cmluZzsgc3RlcEluZGV4OiBudW1iZXI7IHRvdGFsOiBudW1iZXIgfTtcbiAgXCJ0dXRvcmlhbDpjb21wbGV0ZWRcIjogeyBpZDogc3RyaW5nIH07XG4gIFwidHV0b3JpYWw6c2tpcHBlZFwiOiB7IGlkOiBzdHJpbmc7IGF0U3RlcDogbnVtYmVyIH07XG4gIFwiYm90OnNwYXduUmVxdWVzdGVkXCI6IHZvaWQ7XG4gIFwiZGlhbG9ndWU6b3BlbmVkXCI6IHsgbm9kZUlkOiBzdHJpbmc7IGNoYXB0ZXJJZDogc3RyaW5nIH07XG4gIFwiZGlhbG9ndWU6Y2xvc2VkXCI6IHsgbm9kZUlkOiBzdHJpbmc7IGNoYXB0ZXJJZDogc3RyaW5nIH07XG4gIFwiZGlhbG9ndWU6Y2hvaWNlXCI6IHsgbm9kZUlkOiBzdHJpbmc7IGNob2ljZUlkOiBzdHJpbmc7IGNoYXB0ZXJJZDogc3RyaW5nIH07XG4gIFwic3Rvcnk6ZmxhZ1VwZGF0ZWRcIjogeyBmbGFnOiBzdHJpbmc7IHZhbHVlOiBib29sZWFuIH07XG4gIFwic3Rvcnk6cHJvZ3Jlc3NlZFwiOiB7IGNoYXB0ZXJJZDogc3RyaW5nOyBub2RlSWQ6IHN0cmluZyB9O1xuICBcInN0b3J5Om5vZGVBY3RpdmF0ZWRcIjogeyBub2RlSWQ6IHN0cmluZzsgZGlhbG9ndWU/OiBEaWFsb2d1ZUNvbnRlbnQgfTtcbiAgXCJtaXNzaW9uOnVwZGF0ZVwiOlxuICAgIHwgeyByZWFzb246IFwic25hcHNob3RcIiB8IFwiZGVsdGFcIiB9XG4gICAgfCB7XG4gICAgICAgIG1pc3Npb25JZDogc3RyaW5nO1xuICAgICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgICAgb2JqZWN0aXZlczogTWlzc2lvbk9iamVjdGl2ZVN0YXRlW107XG4gICAgICAgIHNlcnZlclRpbWU6IG51bWJlcjtcbiAgICAgIH07XG4gIFwibWlzc2lvbjpvZmZlcmVkXCI6IHtcbiAgICBtaXNzaW9uSWQ6IHN0cmluZztcbiAgICB0ZW1wbGF0ZUlkOiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU6IHN0cmluZztcbiAgICBhcmNoZXR5cGU6IHN0cmluZztcbiAgICBvYmplY3RpdmVzOiBzdHJpbmdbXTtcbiAgICB0aW1lb3V0OiBudW1iZXI7XG4gIH07XG4gIFwibWlzc2lvbjpzdGFydFwiOiB7IG1pc3Npb25JZDogc3RyaW5nIH07XG4gIFwibWlzc2lvbjpvYmplY3RpdmVzLXVwZGF0ZWRcIjogeyBvYmplY3RpdmVzOiBNaXNzaW9uT2JqZWN0aXZlU3RhdGVbXSB9O1xuICBcIm1pc3Npb246cHJvZ3Jlc3MtY2hhbmdlZFwiOiB7IHByb2dyZXNzOiBudW1iZXI7IG9iamVjdGl2ZXM6IE1pc3Npb25PYmplY3RpdmVTdGF0ZVtdIH07XG4gIFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCI6IHsgaW5kZXg6IG51bWJlciB9O1xuICBcIm1pc3Npb246Y29tcGxldGVkXCI6IHsgbWlzc2lvbklkOiBzdHJpbmcgfTtcbiAgXCJtaXNzaW9uOmZhaWxlZFwiOiB7IG1pc3Npb25JZDogc3RyaW5nOyByZWFzb24/OiBzdHJpbmcgfTtcbiAgXCJiZWFjb246ZGlzY292ZXJlZFwiOiB7IGlkOiBzdHJpbmc7IG9yZGluYWw6IG51bWJlciB9O1xuICBcImJlYWNvbjphY3RpdmF0ZWRcIjogeyBpZDogc3RyaW5nOyBvcmRpbmFsOiBudW1iZXIgfTtcbiAgXCJhdWRpbzpyZXN1bWVcIjogdm9pZDtcbiAgXCJhdWRpbzptdXRlXCI6IHZvaWQ7XG4gIFwiYXVkaW86dW5tdXRlXCI6IHZvaWQ7XG4gIFwiYXVkaW86c2V0LW1hc3Rlci1nYWluXCI6IHsgZ2FpbjogbnVtYmVyIH07XG4gIFwiYXVkaW86c2Z4XCI6IHsgbmFtZTogXCJ1aVwiIHwgXCJsYXNlclwiIHwgXCJ0aHJ1c3RcIiB8IFwiZXhwbG9zaW9uXCIgfCBcImxvY2tcIiB8IFwiZGlhbG9ndWVcIjsgdmVsb2NpdHk/OiBudW1iZXI7IHBhbj86IG51bWJlciB9O1xuICBcImF1ZGlvOm11c2ljOnNldC1zY2VuZVwiOiB7IHNjZW5lOiBcImFtYmllbnRcIiB8IFwiY29tYmF0XCIgfCBcImxvYmJ5XCI7IHNlZWQ/OiBudW1iZXIgfTtcbiAgXCJhdWRpbzptdXNpYzpwYXJhbVwiOiB7IGtleTogc3RyaW5nOyB2YWx1ZTogbnVtYmVyIH07XG4gIFwiYXVkaW86bXVzaWM6dHJhbnNwb3J0XCI6IHsgY21kOiBcInN0YXJ0XCIgfCBcInN0b3BcIiB8IFwicGF1c2VcIiB9O1xuICBcInVwZ3JhZGVzOnRvZ2dsZVwiOiB2b2lkO1xuICBcInVwZ3JhZGVzOnNob3dcIjogdm9pZDtcbiAgXCJ1cGdyYWRlczpoaWRlXCI6IHZvaWQ7XG4gIFwidXBncmFkZXM6Y291bnRVcGRhdGVkXCI6IHsgY291bnQ6IG51bWJlciB9O1xuICBcImRlYnVnOmJlYWNvbnNcIjogeyBiZWFjb25zOiBEZWJ1Z0JlYWNvbkluZm9bXSB9O1xuICBcImRlYnVnOmVuY291bnRlcnNcIjogeyBlbmNvdW50ZXJzOiBEZWJ1Z0VuY291bnRlckluZm9bXSB9O1xuICBcImRlYnVnOm92ZXJsYXk6dmlzaWJpbGl0eVwiOiB7IHZpc2libGU6IGJvb2xlYW4gfTtcbn1cblxuZXhwb3J0IHR5cGUgRXZlbnRLZXkgPSBrZXlvZiBFdmVudE1hcDtcbmV4cG9ydCB0eXBlIEV2ZW50UGF5bG9hZDxLIGV4dGVuZHMgRXZlbnRLZXk+ID0gRXZlbnRNYXBbS107XG5leHBvcnQgdHlwZSBIYW5kbGVyPEsgZXh0ZW5kcyBFdmVudEtleT4gPSAocGF5bG9hZDogRXZlbnRQYXlsb2FkPEs+KSA9PiB2b2lkO1xuXG50eXBlIFZvaWRLZXlzID0ge1xuICBbSyBpbiBFdmVudEtleV06IEV2ZW50TWFwW0tdIGV4dGVuZHMgdm9pZCA/IEsgOiBuZXZlclxufVtFdmVudEtleV07XG5cbnR5cGUgTm9uVm9pZEtleXMgPSBFeGNsdWRlPEV2ZW50S2V5LCBWb2lkS2V5cz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRCdXMge1xuICBvbjxLIGV4dGVuZHMgRXZlbnRLZXk+KGV2ZW50OiBLLCBoYW5kbGVyOiBIYW5kbGVyPEs+KTogKCkgPT4gdm9pZDtcbiAgZW1pdDxLIGV4dGVuZHMgTm9uVm9pZEtleXM+KGV2ZW50OiBLLCBwYXlsb2FkOiBFdmVudFBheWxvYWQ8Sz4pOiB2b2lkO1xuICBlbWl0PEsgZXh0ZW5kcyBWb2lkS2V5cz4oZXZlbnQ6IEspOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRCdXMoKTogRXZlbnRCdXMge1xuICBjb25zdCBoYW5kbGVycyA9IG5ldyBNYXA8RXZlbnRLZXksIFNldDxGdW5jdGlvbj4+KCk7XG4gIHJldHVybiB7XG4gICAgb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgIGxldCBzZXQgPSBoYW5kbGVycy5nZXQoZXZlbnQpO1xuICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICBoYW5kbGVycy5zZXQoZXZlbnQsIHNldCk7XG4gICAgICB9XG4gICAgICBzZXQuYWRkKGhhbmRsZXIpO1xuICAgICAgcmV0dXJuICgpID0+IHNldCEuZGVsZXRlKGhhbmRsZXIpO1xuICAgIH0sXG4gICAgZW1pdChldmVudDogRXZlbnRLZXksIHBheWxvYWQ/OiB1bmtub3duKSB7XG4gICAgICBjb25zdCBzZXQgPSBoYW5kbGVycy5nZXQoZXZlbnQpO1xuICAgICAgaWYgKCFzZXQgfHwgc2V0LnNpemUgPT09IDApIHJldHVybjtcbiAgICAgIGZvciAoY29uc3QgZm4gb2Ygc2V0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgKGZuIGFzICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQpKHBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbYnVzXSBoYW5kbGVyIGZvciAke2V2ZW50fSBmYWlsZWRgLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFNoaXBDb250ZXh0LCBTaGlwVG9vbCwgTWlzc2lsZVRvb2wgfSBmcm9tIFwiLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgRGlhbG9ndWVDb250ZW50IH0gZnJvbSBcIi4vc3RvcnkvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTUlOX1NQRUVEID0gNDA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9NQVhfU1BFRUQgPSAyNTA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9NSU5fQUdSTyA9IDEwMDtcbmV4cG9ydCBjb25zdCBNSVNTSUxFX01BWF9MSUZFVElNRSA9IDEyMDtcbmV4cG9ydCBjb25zdCBNSVNTSUxFX01JTl9MSUZFVElNRSA9IDIwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTElGRVRJTUVfU1BFRURfUEVOQUxUWSA9IDgwO1xuZXhwb3J0IGNvbnN0IE1JU1NJTEVfTElGRVRJTUVfQUdST19QRU5BTFRZID0gNDA7XG5leHBvcnQgY29uc3QgTUlTU0lMRV9MSUZFVElNRV9BR1JPX1JFRiA9IDIwMDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZUxpbWl0cyB7XG4gIHNwZWVkTWluOiBudW1iZXI7XG4gIHNwZWVkTWF4OiBudW1iZXI7XG4gIGFncm9NaW46IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXYXlwb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBzcGVlZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYXRWaWV3IHtcbiAgdmFsdWU6IG51bWJlcjtcbiAgbWF4OiBudW1iZXI7XG4gIHdhcm5BdDogbnVtYmVyO1xuICBvdmVyaGVhdEF0OiBudW1iZXI7XG4gIG1hcmtlclNwZWVkOiBudW1iZXI7XG4gIHN0YWxsVW50aWxNczogbnVtYmVyOyAvLyBjbGllbnQtc3luY2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gIGtVcDogbnVtYmVyO1xuICBrRG93bjogbnVtYmVyO1xuICBleHA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGlwU25hcHNob3Qge1xuICBpZD86IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG4gIGhwPzogbnVtYmVyO1xuICBraWxscz86IG51bWJlcjtcbiAgd2F5cG9pbnRzOiBXYXlwb2ludFtdO1xuICBjdXJyZW50V2F5cG9pbnRJbmRleD86IG51bWJlcjtcbiAgaGVhdD86IEhlYXRWaWV3O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdob3N0U25hcHNob3Qge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgdng6IG51bWJlcjtcbiAgdnk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaWxlU25hcHNob3Qge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgdng6IG51bWJlcjtcbiAgdnk6IG51bWJlcjtcbiAgc2VsZj86IGJvb2xlYW47XG4gIGFncm9fcmFkaXVzOiBudW1iZXI7XG4gIGhlYXQ/OiBIZWF0VmlldzsgLy8gTWlzc2lsZSBoZWF0IGRhdGFcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaWxlUm91dGUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHdheXBvaW50czogV2F5cG9pbnRbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZWF0UGFyYW1zIHtcbiAgbWF4OiBudW1iZXI7XG4gIHdhcm5BdDogbnVtYmVyO1xuICBvdmVyaGVhdEF0OiBudW1iZXI7XG4gIG1hcmtlclNwZWVkOiBudW1iZXI7XG4gIGtVcDogbnVtYmVyO1xuICBrRG93bjogbnVtYmVyO1xuICBleHA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaWxlQ29uZmlnIHtcbiAgc3BlZWQ6IG51bWJlcjtcbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuICBsaWZldGltZTogbnVtYmVyO1xuICBoZWF0UGFyYW1zPzogSGVhdFBhcmFtczsgLy8gT3B0aW9uYWwgY3VzdG9tIGhlYXQgY29uZmlndXJhdGlvblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVQcmVzZXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHNwZWVkOiBudW1iZXI7XG4gIGFncm9SYWRpdXM6IG51bWJlcjtcbiAgaGVhdFBhcmFtczogSGVhdFBhcmFtcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnlJdGVtIHtcbiAgdHlwZTogc3RyaW5nO1xuICB2YXJpYW50X2lkOiBzdHJpbmc7XG4gIGhlYXRfY2FwYWNpdHk6IG51bWJlcjtcbiAgcXVhbnRpdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnkge1xuICBpdGVtczogSW52ZW50b3J5SXRlbVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZ3JhZGVFZmZlY3REYXRhIHtcbiAgdHlwZTogc3RyaW5nOyAvLyAnc3BlZWRfbXVsdGlwbGllcicsICdtaXNzaWxlX3VubG9jaycsIGV0Yy5cbiAgdmFsdWU6IG51bWJlciB8IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWdOb2RlIHtcbiAgaWQ6IHN0cmluZztcbiAga2luZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZzsgLy8gXCJsb2NrZWRcIiB8IFwiYXZhaWxhYmxlXCIgfCBcImluX3Byb2dyZXNzXCIgfCBcImNvbXBsZXRlZFwiXG4gIHJlbWFpbmluZ19zOiBudW1iZXI7XG4gIGR1cmF0aW9uX3M6IG51bWJlcjtcbiAgcmVwZWF0YWJsZTogYm9vbGVhbjtcbiAgZWZmZWN0cz86IFVwZ3JhZGVFZmZlY3REYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFnU3RhdGUge1xuICBub2RlczogRGFnTm9kZVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllckNhcGFiaWxpdGllcyB7XG4gIHNwZWVkTXVsdGlwbGllcjogbnVtYmVyO1xuICB1bmxvY2tlZE1pc3NpbGVzOiBzdHJpbmdbXTtcbiAgaGVhdENhcGFjaXR5OiBudW1iZXI7XG4gIGhlYXRFZmZpY2llbmN5OiBudW1iZXI7XG59XG5cbi8vIE1pc3NpbGUgcHJlc2V0IGRlZmluaXRpb25zIG1hdGNoaW5nIGJhY2tlbmRcbmV4cG9ydCBjb25zdCBNSVNTSUxFX1BSRVNFVFM6IE1pc3NpbGVQcmVzZXRbXSA9IFtcbiAge1xuICAgIG5hbWU6IFwiU2NvdXRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTbG93LCBlZmZpY2llbnQsIGxvbmctcmFuZ2UuIEhpZ2ggaGVhdCBjYXBhY2l0eS5cIixcbiAgICBzcGVlZDogODAsXG4gICAgYWdyb1JhZGl1czogMTUwMCxcbiAgICBoZWF0UGFyYW1zOiB7XG4gICAgICBtYXg6IDYwLFxuICAgICAgd2FybkF0OiA0MixcbiAgICAgIG92ZXJoZWF0QXQ6IDYwLFxuICAgICAgbWFya2VyU3BlZWQ6IDcwLFxuICAgICAga1VwOiAyMCxcbiAgICAgIGtEb3duOiAxNSxcbiAgICAgIGV4cDogMS41LFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkh1bnRlclwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkJhbGFuY2VkIHNwZWVkIGFuZCBkZXRlY3Rpb24uIFN0YW5kYXJkIGhlYXQuXCIsXG4gICAgc3BlZWQ6IDE1MCxcbiAgICBhZ3JvUmFkaXVzOiA4MDAsXG4gICAgaGVhdFBhcmFtczoge1xuICAgICAgbWF4OiA1MCxcbiAgICAgIHdhcm5BdDogMzUsXG4gICAgICBvdmVyaGVhdEF0OiA1MCxcbiAgICAgIG1hcmtlclNwZWVkOiAxMjAsXG4gICAgICBrVXA6IDI4LFxuICAgICAga0Rvd246IDEyLFxuICAgICAgZXhwOiAxLjUsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiU25pcGVyXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRmFzdCwgbmFycm93IGRldGVjdGlvbi4gTG93IGhlYXQgY2FwYWNpdHkuXCIsXG4gICAgc3BlZWQ6IDIyMCxcbiAgICBhZ3JvUmFkaXVzOiAzMDAsXG4gICAgaGVhdFBhcmFtczoge1xuICAgICAgbWF4OiA0MCxcbiAgICAgIHdhcm5BdDogMjgsXG4gICAgICBvdmVyaGVhdEF0OiA0MCxcbiAgICAgIG1hcmtlclNwZWVkOiAxODAsXG4gICAgICBrVXA6IDM1LFxuICAgICAga0Rvd246IDgsXG4gICAgICBleHA6IDEuNSxcbiAgICB9LFxuICB9LFxuXTtcblxuZXhwb3J0IGludGVyZmFjZSBXb3JsZE1ldGEge1xuICBjPzogbnVtYmVyO1xuICB3PzogbnVtYmVyO1xuICBoPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJlYWNvbkRlZmluaXRpb24ge1xuICBjeDogbnVtYmVyO1xuICBjeTogbnVtYmVyO1xuICByYWRpdXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uQmVhY29uIHtcbiAgaWQ6IHN0cmluZztcbiAgb3JkaW5hbDogbnVtYmVyO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgcmFkaXVzOiBudW1iZXI7XG4gIHNlZWQ6IG51bWJlcjtcbiAgZGlzY292ZXJlZDogYm9vbGVhbjtcbiAgY29tcGxldGVkOiBib29sZWFuO1xuICBjb29sZG93blVudGlsOiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3Npb25FbmNvdW50ZXJTdGF0ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGJlYWNvbklkOiBzdHJpbmc7XG4gIHdhdmVJbmRleDogbnVtYmVyO1xuICBzcGF3bmVkQXQ6IG51bWJlcjtcbiAgZXhwaXJlc0F0OiBudW1iZXI7XG4gIGFjdGl2ZTogYm9vbGVhbjtcbiAgcmVhc29uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3Npb25QbGF5ZXJTdGF0ZSB7XG4gIHBsYXllcklkOiBzdHJpbmc7XG4gIGN1cnJlbnRJbmRleDogbnVtYmVyO1xuICBhY3RpdmVCZWFjb25JZDogc3RyaW5nIHwgbnVsbDtcbiAgaG9sZEFjY3VtOiBudW1iZXI7XG4gIGhvbGRSZXF1aXJlZDogbnVtYmVyO1xuICBkaXNwbGF5SG9sZDogbnVtYmVyO1xuICBsYXN0U2VydmVyVXBkYXRlOiBudW1iZXI7XG4gIGxhc3REaXNwbGF5U3luYzogbnVtYmVyO1xuICBpbnNpZGVBY3RpdmVCZWFjb246IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lvbk9iamVjdGl2ZVN0YXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBwcm9ncmVzczogbnVtYmVyO1xuICBjb21wbGV0ZTogYm9vbGVhbjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgTWlzc2lvblN0YXR1cyA9IFwiaWRsZVwiIHwgXCJhY3RpdmVcIiB8IFwiY29tcGxldGVkXCIgfCBcImZhaWxlZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3Npb25TdGF0ZSB7XG4gIG1pc3Npb25JZDogc3RyaW5nO1xuICB0ZW1wbGF0ZUlkOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIGFyY2hldHlwZTogc3RyaW5nO1xuICBsYXlvdXRTZWVkOiBudW1iZXI7XG4gIHNlcnZlclRpbWU6IG51bWJlcjtcbiAgc3RhdHVzOiBNaXNzaW9uU3RhdHVzO1xuICB0aW1lb3V0OiBudW1iZXI7XG4gIHN0YXJ0VGltZTogbnVtYmVyIHwgbnVsbDtcbiAgY29tcGxldGlvblRpbWU6IG51bWJlciB8IG51bGw7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIGJlYWNvbnM6IE1pc3Npb25CZWFjb25bXTtcbiAgcGxheWVyOiBNaXNzaW9uUGxheWVyU3RhdGUgfCBudWxsO1xuICBlbmNvdW50ZXJzOiBNaXNzaW9uRW5jb3VudGVyU3RhdGVbXTtcbiAgb2JqZWN0aXZlczogTWlzc2lvbk9iamVjdGl2ZVN0YXRlW107XG4gIG9iamVjdGl2ZVN1bW1hcmllczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldE1pc3Npb25TdGF0ZShtaXNzaW9uOiBNaXNzaW9uU3RhdGUpOiB2b2lkIHtcbiAgbWlzc2lvbi5taXNzaW9uSWQgPSBcIlwiO1xuICBtaXNzaW9uLnRlbXBsYXRlSWQgPSBcIlwiO1xuICBtaXNzaW9uLmRpc3BsYXlOYW1lID0gXCJcIjtcbiAgbWlzc2lvbi5hcmNoZXR5cGUgPSBcIlwiO1xuICBtaXNzaW9uLnN0YXR1cyA9IFwiaWRsZVwiO1xuICBtaXNzaW9uLnRpbWVvdXQgPSAwO1xuICBtaXNzaW9uLnN0YXJ0VGltZSA9IG51bGw7XG4gIG1pc3Npb24uY29tcGxldGlvblRpbWUgPSBudWxsO1xuICBtaXNzaW9uLnByb2dyZXNzID0gMDtcbiAgbWlzc2lvbi5vYmplY3RpdmVzID0gW107XG4gIG1pc3Npb24ub2JqZWN0aXZlU3VtbWFyaWVzID0gW107XG4gIG1pc3Npb24ucGxheWVyID0gbnVsbDtcbiAgbWlzc2lvbi5iZWFjb25zID0gW107XG4gIG1pc3Npb24uZW5jb3VudGVycyA9IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xhbXBQcm9ncmVzcyh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKHZhbHVlIDw9IDApIHJldHVybiAwO1xuICBpZiAodmFsdWUgPj0gMSkgcmV0dXJuIDE7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeUV2ZW50IHtcbiAgY2hhcHRlcjogc3RyaW5nO1xuICBub2RlOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3J5U3RhdGUge1xuICBhY3RpdmVOb2RlOiBzdHJpbmcgfCBudWxsO1xuICBkaWFsb2d1ZTogRGlhbG9ndWVDb250ZW50IHwgbnVsbDtcbiAgYXZhaWxhYmxlOiBzdHJpbmdbXTtcbiAgZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICByZWNlbnRFdmVudHM6IFN0b3J5RXZlbnRbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWJ1Z0JlYWNvbkluZm8ge1xuICBpZDogc3RyaW5nO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgdGFnczogc3RyaW5nW107XG4gIHBpbm5lZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWJ1Z0VuY291bnRlckluZm8ge1xuICBlbmNvdW50ZXJJZDogc3RyaW5nO1xuICBiZWFjb25JZDogc3RyaW5nO1xuICBzcGF3blRpbWU6IG51bWJlcjtcbiAgbGlmZXRpbWU6IG51bWJlcjtcbiAgZW50aXR5Q291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWJ1Z1N0YXRlIHtcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgYmVhY29uczogRGVidWdCZWFjb25JbmZvW107XG4gIGVuY291bnRlcnM6IERlYnVnRW5jb3VudGVySW5mb1tdO1xuICBsYXN0UmVxdWVzdGVkQXQ6IG51bWJlciB8IG51bGw7XG4gIGxhc3RSZWNlaXZlZEF0OiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlIHtcbiAgbm93OiBudW1iZXI7XG4gIG5vd1N5bmNlZEF0OiBudW1iZXI7XG4gIG1lOiBTaGlwU25hcHNob3QgfCBudWxsO1xuICBnaG9zdHM6IEdob3N0U25hcHNob3RbXTtcbiAgbWlzc2lsZXM6IE1pc3NpbGVTbmFwc2hvdFtdO1xuICBtaXNzaWxlUm91dGVzOiBNaXNzaWxlUm91dGVbXTtcbiAgYWN0aXZlTWlzc2lsZVJvdXRlSWQ6IHN0cmluZyB8IG51bGw7XG4gIG5leHRNaXNzaWxlUmVhZHlBdDogbnVtYmVyO1xuICBtaXNzaWxlQ29uZmlnOiBNaXNzaWxlQ29uZmlnO1xuICBtaXNzaWxlTGltaXRzOiBNaXNzaWxlTGltaXRzO1xuICB3b3JsZE1ldGE6IFdvcmxkTWV0YTtcbiAgaW52ZW50b3J5OiBJbnZlbnRvcnkgfCBudWxsO1xuICBkYWc6IERhZ1N0YXRlIHwgbnVsbDtcbiAgbWlzc2lvbjogTWlzc2lvblN0YXRlIHwgbnVsbDtcbiAgc3Rvcnk6IFN0b3J5U3RhdGUgfCBudWxsO1xuICBjcmFmdEhlYXRDYXBhY2l0eTogbnVtYmVyOyAvLyBIZWF0IGNhcGFjaXR5IHNsaWRlciB2YWx1ZSBmb3IgY3JhZnRpbmdcbiAgY2FwYWJpbGl0aWVzOiBQbGF5ZXJDYXBhYmlsaXRpZXMgfCBudWxsO1xuICBkZWJ1ZzogRGVidWdTdGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWxlY3Rpb24ge1xuICB0eXBlOiBcIndheXBvaW50XCIgfCBcImxlZ1wiO1xuICBpbmRleDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3NpbGVTZWxlY3Rpb24ge1xuICB0eXBlOiBcIndheXBvaW50XCIgfCBcImxlZ1wiO1xuICBpbmRleDogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBBY3RpdmVUb29sID1cbiAgfCBcInNoaXAtc2V0XCJcbiAgfCBcInNoaXAtc2VsZWN0XCJcbiAgfCBcIm1pc3NpbGUtc2V0XCJcbiAgfCBcIm1pc3NpbGUtc2VsZWN0XCJcbiAgfCBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVJU3RhdGUge1xuICBpbnB1dENvbnRleHQ6IFNoaXBDb250ZXh0O1xuICBzaGlwVG9vbDogU2hpcFRvb2w7XG4gIG1pc3NpbGVUb29sOiBNaXNzaWxlVG9vbDtcbiAgYWN0aXZlVG9vbDogQWN0aXZlVG9vbDtcbiAgc2hvd1NoaXBSb3V0ZTogYm9vbGVhbjtcbiAgaGVscFZpc2libGU6IGJvb2xlYW47XG4gIHpvb206IG51bWJlcjtcbiAgcGFuWDogbnVtYmVyO1xuICBwYW5ZOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbml0aWFsVUlTdGF0ZSgpOiBVSVN0YXRlIHtcbiAgcmV0dXJuIHtcbiAgICBpbnB1dENvbnRleHQ6IFwic2hpcFwiLFxuICAgIHNoaXBUb29sOiBcInNldFwiLFxuICAgIG1pc3NpbGVUb29sOiBudWxsLFxuICAgIGFjdGl2ZVRvb2w6IFwic2hpcC1zZXRcIixcbiAgICBzaG93U2hpcFJvdXRlOiB0cnVlLFxuICAgIGhlbHBWaXNpYmxlOiBmYWxzZSxcbiAgICB6b29tOiAxLjAsXG4gICAgcGFuWDogMCxcbiAgICBwYW5ZOiAwLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFN0YXRlKGxpbWl0czogTWlzc2lsZUxpbWl0cyA9IHtcbiAgc3BlZWRNaW46IE1JU1NJTEVfTUlOX1NQRUVELFxuICBzcGVlZE1heDogTUlTU0lMRV9NQVhfU1BFRUQsXG4gIGFncm9NaW46IE1JU1NJTEVfTUlOX0FHUk8sXG59KTogQXBwU3RhdGUge1xuICByZXR1cm4ge1xuICAgIG5vdzogMCxcbiAgICBub3dTeW5jZWRBdDogdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgOiBEYXRlLm5vdygpLFxuICAgIG1lOiBudWxsLFxuICAgIGdob3N0czogW10sXG4gICAgbWlzc2lsZXM6IFtdLFxuICAgIG1pc3NpbGVSb3V0ZXM6IFtdLFxuICAgIGFjdGl2ZU1pc3NpbGVSb3V0ZUlkOiBudWxsLFxuICAgIG5leHRNaXNzaWxlUmVhZHlBdDogMCxcbiAgICBtaXNzaWxlQ29uZmlnOiB7XG4gICAgICBzcGVlZDogMTgwLFxuICAgICAgYWdyb1JhZGl1czogODAwLFxuICAgICAgbGlmZXRpbWU6IG1pc3NpbGVMaWZldGltZUZvcigxODAsIDgwMCwgbGltaXRzKSxcbiAgICAgIGhlYXRQYXJhbXM6IE1JU1NJTEVfUFJFU0VUU1sxXS5oZWF0UGFyYW1zLCAvLyBEZWZhdWx0IHRvIEh1bnRlciBwcmVzZXRcbiAgICB9LFxuICAgIG1pc3NpbGVMaW1pdHM6IGxpbWl0cyxcbiAgICB3b3JsZE1ldGE6IHt9LFxuICAgIGludmVudG9yeTogbnVsbCxcbiAgICBkYWc6IG51bGwsXG4gICAgbWlzc2lvbjogbnVsbCxcbiAgICBzdG9yeTogbnVsbCxcbiAgICBjcmFmdEhlYXRDYXBhY2l0eTogODAsIC8vIERlZmF1bHQgdG8gYmFzaWMgbWlzc2lsZSBoZWF0IGNhcGFjaXR5XG4gICAgY2FwYWJpbGl0aWVzOiBudWxsLFxuICAgIGRlYnVnOiB7XG4gICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIGJlYWNvbnM6IFtdLFxuICAgICAgZW5jb3VudGVyczogW10sXG4gICAgICBsYXN0UmVxdWVzdGVkQXQ6IG51bGwsXG4gICAgICBsYXN0UmVjZWl2ZWRBdDogbnVsbCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWlzc2lsZUxpZmV0aW1lRm9yKHNwZWVkOiBudW1iZXIsIGFncm9SYWRpdXM6IG51bWJlciwgbGltaXRzOiBNaXNzaWxlTGltaXRzID0ge1xuICBzcGVlZE1pbjogTUlTU0lMRV9NSU5fU1BFRUQsXG4gIHNwZWVkTWF4OiBNSVNTSUxFX01BWF9TUEVFRCxcbiAgYWdyb01pbjogTUlTU0lMRV9NSU5fQUdSTyxcbn0pOiBudW1iZXIge1xuICBjb25zdCBtaW5TcGVlZCA9IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuc3BlZWRNaW4pID8gbGltaXRzLnNwZWVkTWluIDogTUlTU0lMRV9NSU5fU1BFRUQ7XG4gIGNvbnN0IG1heFNwZWVkID0gTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5zcGVlZE1heCkgPyBsaW1pdHMuc3BlZWRNYXggOiBNSVNTSUxFX01BWF9TUEVFRDtcbiAgY29uc3QgbWluQWdybyA9IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuYWdyb01pbikgPyBsaW1pdHMuYWdyb01pbiA6IE1JU1NJTEVfTUlOX0FHUk87XG4gIGNvbnN0IHNwYW4gPSBtYXhTcGVlZCAtIG1pblNwZWVkO1xuICBjb25zdCBzcGVlZE5vcm0gPSBzcGFuID4gMCA/IGNsYW1wKChzcGVlZCAtIG1pblNwZWVkKSAvIHNwYW4sIDAsIDEpIDogMDtcbiAgY29uc3QgYWRqdXN0ZWRBZ3JvID0gTWF0aC5tYXgoMCwgYWdyb1JhZGl1cyAtIG1pbkFncm8pO1xuICBjb25zdCBhZ3JvTm9ybSA9IGNsYW1wKGFkanVzdGVkQWdybyAvIE1JU1NJTEVfTElGRVRJTUVfQUdST19SRUYsIDAsIDEpO1xuICBjb25zdCByZWR1Y3Rpb24gPSBzcGVlZE5vcm0gKiBNSVNTSUxFX0xJRkVUSU1FX1NQRUVEX1BFTkFMVFkgKyBhZ3JvTm9ybSAqIE1JU1NJTEVfTElGRVRJTUVfQUdST19QRU5BTFRZO1xuICBjb25zdCBiYXNlID0gTUlTU0lMRV9NQVhfTElGRVRJTUU7XG4gIHJldHVybiBjbGFtcChiYXNlIC0gcmVkdWN0aW9uLCBNSVNTSUxFX01JTl9MSUZFVElNRSwgTUlTU0lMRV9NQVhfTElGRVRJTUUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVNaXNzaWxlQ29uZmlnKFxuICBjZmc6IFBhcnRpYWw8UGljazxNaXNzaWxlQ29uZmlnLCBcInNwZWVkXCIgfCBcImFncm9SYWRpdXNcIiB8IFwiaGVhdFBhcmFtc1wiPj4sXG4gIGZhbGxiYWNrOiBNaXNzaWxlQ29uZmlnLFxuICBsaW1pdHM6IE1pc3NpbGVMaW1pdHMsXG4pOiBNaXNzaWxlQ29uZmlnIHtcbiAgY29uc3QgbWluU3BlZWQgPSBOdW1iZXIuaXNGaW5pdGUobGltaXRzLnNwZWVkTWluKSA/IGxpbWl0cy5zcGVlZE1pbiA6IE1JU1NJTEVfTUlOX1NQRUVEO1xuICBjb25zdCBtYXhTcGVlZCA9IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuc3BlZWRNYXgpID8gbGltaXRzLnNwZWVkTWF4IDogTUlTU0lMRV9NQVhfU1BFRUQ7XG4gIGNvbnN0IG1pbkFncm8gPSBOdW1iZXIuaXNGaW5pdGUobGltaXRzLmFncm9NaW4pID8gbGltaXRzLmFncm9NaW4gOiBNSVNTSUxFX01JTl9BR1JPO1xuICBjb25zdCBiYXNlID0gZmFsbGJhY2sgPz8ge1xuICAgIHNwZWVkOiBtaW5TcGVlZCxcbiAgICBhZ3JvUmFkaXVzOiBtaW5BZ3JvLFxuICAgIGxpZmV0aW1lOiBtaXNzaWxlTGlmZXRpbWVGb3IobWluU3BlZWQsIG1pbkFncm8sIGxpbWl0cyksXG4gIH07XG4gIGNvbnN0IG1lcmdlZFNwZWVkID0gTnVtYmVyLmlzRmluaXRlKGNmZy5zcGVlZCA/PyBiYXNlLnNwZWVkKSA/IChjZmcuc3BlZWQgPz8gYmFzZS5zcGVlZCkgOiBiYXNlLnNwZWVkO1xuICBjb25zdCBtZXJnZWRBZ3JvID0gTnVtYmVyLmlzRmluaXRlKGNmZy5hZ3JvUmFkaXVzID8/IGJhc2UuYWdyb1JhZGl1cykgPyAoY2ZnLmFncm9SYWRpdXMgPz8gYmFzZS5hZ3JvUmFkaXVzKSA6IGJhc2UuYWdyb1JhZGl1cztcbiAgY29uc3Qgc3BlZWQgPSBjbGFtcChtZXJnZWRTcGVlZCwgbWluU3BlZWQsIG1heFNwZWVkKTtcbiAgY29uc3QgYWdyb1JhZGl1cyA9IE1hdGgubWF4KG1pbkFncm8sIG1lcmdlZEFncm8pO1xuICBjb25zdCBoZWF0UGFyYW1zID0gY2ZnLmhlYXRQYXJhbXMgPyB7IC4uLmNmZy5oZWF0UGFyYW1zIH0gOiBiYXNlLmhlYXRQYXJhbXMgPyB7IC4uLmJhc2UuaGVhdFBhcmFtcyB9IDogdW5kZWZpbmVkO1xuICByZXR1cm4ge1xuICAgIHNwZWVkLFxuICAgIGFncm9SYWRpdXMsXG4gICAgbGlmZXRpbWU6IG1pc3NpbGVMaWZldGltZUZvcihzcGVlZCwgYWdyb1JhZGl1cywgbGltaXRzKSxcbiAgICBoZWF0UGFyYW1zLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9ub3RvbmljTm93KCk6IG51bWJlciB7XG4gIGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICB9XG4gIHJldHVybiBEYXRlLm5vdygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVXYXlwb2ludExpc3QobGlzdDogV2F5cG9pbnRbXSB8IHVuZGVmaW5lZCB8IG51bGwpOiBXYXlwb2ludFtdIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3QpKSByZXR1cm4gW107XG4gIHJldHVybiBsaXN0Lm1hcCgod3ApID0+ICh7IC4uLndwIH0pKTtcbn1cblxuLy8gUHJvamVjdCBoZWF0IGFsb25nIGEgbWlzc2lsZSByb3V0ZVxuZXhwb3J0IGludGVyZmFjZSBNaXNzaWxlUm91dGVQcm9qZWN0aW9uIHtcbiAgd2F5cG9pbnRzOiBXYXlwb2ludFtdO1xuICBoZWF0QXRXYXlwb2ludHM6IG51bWJlcltdO1xuICB3aWxsT3ZlcmhlYXQ6IGJvb2xlYW47XG4gIG92ZXJoZWF0QXQ/OiBudW1iZXI7IC8vIEluZGV4IHdoZXJlIG92ZXJoZWF0IG9jY3Vyc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdE1pc3NpbGVIZWF0KFxuICByb3V0ZTogV2F5cG9pbnRbXSxcbiAgZGVmYXVsdFNwZWVkOiBudW1iZXIsXG4gIGhlYXRQYXJhbXM6IEhlYXRQYXJhbXNcbik6IE1pc3NpbGVSb3V0ZVByb2plY3Rpb24ge1xuICBjb25zdCBwcm9qZWN0aW9uOiBNaXNzaWxlUm91dGVQcm9qZWN0aW9uID0ge1xuICAgIHdheXBvaW50czogcm91dGUsXG4gICAgaGVhdEF0V2F5cG9pbnRzOiBbXSxcbiAgICB3aWxsT3ZlcmhlYXQ6IGZhbHNlLFxuICB9O1xuXG4gIGlmIChyb3V0ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gcHJvamVjdGlvbjtcbiAgfVxuXG4gIGxldCBoZWF0ID0gMDsgLy8gTWlzc2lsZXMgc3RhcnQgYXQgemVybyBoZWF0XG4gIGxldCBwb3MgPSB7IHg6IHJvdXRlWzBdLngsIHk6IHJvdXRlWzBdLnkgfTtcbiAgbGV0IGN1cnJlbnRTcGVlZCA9IHJvdXRlWzBdLnNwZWVkID4gMCA/IHJvdXRlWzBdLnNwZWVkIDogZGVmYXVsdFNwZWVkO1xuXG4gIHByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzLnB1c2goaGVhdCk7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCByb3V0ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRhcmdldFBvcyA9IHJvdXRlW2ldO1xuICAgIGNvbnN0IHRhcmdldFNwZWVkID0gdGFyZ2V0UG9zLnNwZWVkID4gMCA/IHRhcmdldFBvcy5zcGVlZCA6IGRlZmF1bHRTcGVlZDtcblxuICAgIC8vIENhbGN1bGF0ZSBkaXN0YW5jZSBhbmQgdGltZVxuICAgIGNvbnN0IGR4ID0gdGFyZ2V0UG9zLnggLSBwb3MueDtcbiAgICBjb25zdCBkeSA9IHRhcmdldFBvcy55IC0gcG9zLnk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgaWYgKGRpc3RhbmNlIDwgMC4wMDEpIHtcbiAgICAgIHByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzLnB1c2goaGVhdCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBBdmVyYWdlIHNwZWVkIGR1cmluZyBzZWdtZW50XG4gICAgY29uc3QgYXZnU3BlZWQgPSAoY3VycmVudFNwZWVkICsgdGFyZ2V0U3BlZWQpICogMC41O1xuICAgIGNvbnN0IHNlZ21lbnRUaW1lID0gZGlzdGFuY2UgLyBNYXRoLm1heChhdmdTcGVlZCwgMSk7XG5cbiAgICAvLyBDYWxjdWxhdGUgaGVhdCByYXRlIChtYXRjaCBzZXJ2ZXIgZm9ybXVsYSlcbiAgICBjb25zdCBWbiA9IE1hdGgubWF4KGhlYXRQYXJhbXMubWFya2VyU3BlZWQsIDAuMDAwMDAxKTtcbiAgICBjb25zdCBkZXYgPSBhdmdTcGVlZCAtIGhlYXRQYXJhbXMubWFya2VyU3BlZWQ7XG4gICAgY29uc3QgcCA9IGhlYXRQYXJhbXMuZXhwO1xuXG4gICAgbGV0IGhkb3Q6IG51bWJlcjtcbiAgICBpZiAoZGV2ID49IDApIHtcbiAgICAgIC8vIEhlYXRpbmdcbiAgICAgIGhkb3QgPSBoZWF0UGFyYW1zLmtVcCAqIE1hdGgucG93KGRldiAvIFZuLCBwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29vbGluZ1xuICAgICAgaGRvdCA9IC1oZWF0UGFyYW1zLmtEb3duICogTWF0aC5wb3coTWF0aC5hYnMoZGV2KSAvIFZuLCBwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgaGVhdFxuICAgIGhlYXQgKz0gaGRvdCAqIHNlZ21lbnRUaW1lO1xuICAgIGhlYXQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihoZWF0LCBoZWF0UGFyYW1zLm1heCkpO1xuXG4gICAgcHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHMucHVzaChoZWF0KTtcbiAgICBwb3MgPSB7IHg6IHRhcmdldFBvcy54LCB5OiB0YXJnZXRQb3MueSB9O1xuICAgIGN1cnJlbnRTcGVlZCA9IHRhcmdldFNwZWVkO1xuXG4gICAgLy8gQ2hlY2sgZm9yIG92ZXJoZWF0XG4gICAgaWYgKGhlYXQgPj0gaGVhdFBhcmFtcy5vdmVyaGVhdEF0ICYmICFwcm9qZWN0aW9uLndpbGxPdmVyaGVhdCkge1xuICAgICAgcHJvamVjdGlvbi53aWxsT3ZlcmhlYXQgPSB0cnVlO1xuICAgICAgcHJvamVjdGlvbi5vdmVyaGVhdEF0ID0gaTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgcG9zaXRpb24gYW5kIHNwZWVkXG4gICAgcG9zID0gdGFyZ2V0UG9zO1xuICAgIGN1cnJlbnRTcGVlZCA9IHRhcmdldFNwZWVkO1xuICB9XG5cbiAgcmV0dXJuIHByb2plY3Rpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlTGltaXRzKHN0YXRlOiBBcHBTdGF0ZSwgbGltaXRzOiBQYXJ0aWFsPE1pc3NpbGVMaW1pdHM+KTogdm9pZCB7XG4gIHN0YXRlLm1pc3NpbGVMaW1pdHMgPSB7XG4gICAgc3BlZWRNaW46IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuc3BlZWRNaW4pID8gbGltaXRzLnNwZWVkTWluISA6IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNaW4sXG4gICAgc3BlZWRNYXg6IE51bWJlci5pc0Zpbml0ZShsaW1pdHMuc3BlZWRNYXgpID8gbGltaXRzLnNwZWVkTWF4ISA6IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNYXgsXG4gICAgYWdyb01pbjogTnVtYmVyLmlzRmluaXRlKGxpbWl0cy5hZ3JvTWluKSA/IGxpbWl0cy5hZ3JvTWluISA6IHN0YXRlLm1pc3NpbGVMaW1pdHMuYWdyb01pbixcbiAgfTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuZXhwb3J0IHt9O1xuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBgYXJnYCBpcyBhIG1lc3NhZ2UuXG4gKiBJZiBgZGVzY2AgaXMgc2V0LCBkZXRlcm1pbmUgd2hldGhlciBgYXJnYCBpcyB0aGlzIHNwZWNpZmljIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc01lc3NhZ2UoYXJnLCBzY2hlbWEpIHtcbiAgICBjb25zdCBpc01lc3NhZ2UgPSBhcmcgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGFyZyA9PSBcIm9iamVjdFwiICYmXG4gICAgICAgIFwiJHR5cGVOYW1lXCIgaW4gYXJnICYmXG4gICAgICAgIHR5cGVvZiBhcmcuJHR5cGVOYW1lID09IFwic3RyaW5nXCI7XG4gICAgaWYgKCFpc01lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWEudHlwZU5hbWUgPT09IGFyZy4kdHlwZU5hbWU7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogU2NhbGFyIHZhbHVlIHR5cGVzLiBUaGlzIGlzIGEgc3Vic2V0IG9mIGZpZWxkIHR5cGVzIGRlY2xhcmVkIGJ5IHByb3RvYnVmXG4gKiBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlIFRoZSB0eXBlcyBHUk9VUCBhbmQgTUVTU0FHRVxuICogYXJlIG9taXR0ZWQsIGJ1dCB0aGUgbnVtZXJpY2FsIHZhbHVlcyBhcmUgaWRlbnRpY2FsLlxuICovXG5leHBvcnQgdmFyIFNjYWxhclR5cGU7XG4oZnVuY3Rpb24gKFNjYWxhclR5cGUpIHtcbiAgICAvLyAwIGlzIHJlc2VydmVkIGZvciBlcnJvcnMuXG4gICAgLy8gT3JkZXIgaXMgd2VpcmQgZm9yIGhpc3RvcmljYWwgcmVhc29ucy5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJET1VCTEVcIl0gPSAxXSA9IFwiRE9VQkxFXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRkxPQVRcIl0gPSAyXSA9IFwiRkxPQVRcIjtcbiAgICAvLyBOb3QgWmlnWmFnIGVuY29kZWQuICBOZWdhdGl2ZSBudW1iZXJzIHRha2UgMTAgYnl0ZXMuICBVc2UgVFlQRV9TSU5UNjQgaWZcbiAgICAvLyBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGxpa2VseS5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJJTlQ2NFwiXSA9IDNdID0gXCJJTlQ2NFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlVJTlQ2NFwiXSA9IDRdID0gXCJVSU5UNjRcIjtcbiAgICAvLyBOb3QgWmlnWmFnIGVuY29kZWQuICBOZWdhdGl2ZSBudW1iZXJzIHRha2UgMTAgYnl0ZXMuICBVc2UgVFlQRV9TSU5UMzIgaWZcbiAgICAvLyBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGxpa2VseS5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJJTlQzMlwiXSA9IDVdID0gXCJJTlQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkZJWEVENjRcIl0gPSA2XSA9IFwiRklYRUQ2NFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkZJWEVEMzJcIl0gPSA3XSA9IFwiRklYRUQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkJPT0xcIl0gPSA4XSA9IFwiQk9PTFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNUUklOR1wiXSA9IDldID0gXCJTVFJJTkdcIjtcbiAgICAvLyBUYWctZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAvLyBHcm91cCB0eXBlIGlzIGRlcHJlY2F0ZWQgYW5kIG5vdCBzdXBwb3J0ZWQgaW4gcHJvdG8zLiBIb3dldmVyLCBQcm90bzNcbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIHN0aWxsIGJlIGFibGUgdG8gcGFyc2UgdGhlIGdyb3VwIHdpcmUgZm9ybWF0IGFuZFxuICAgIC8vIHRyZWF0IGdyb3VwIGZpZWxkcyBhcyB1bmtub3duIGZpZWxkcy5cbiAgICAvLyBUWVBFX0dST1VQID0gMTAsXG4gICAgLy8gVFlQRV9NRVNTQUdFID0gMTEsICAvLyBMZW5ndGgtZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAvLyBOZXcgaW4gdmVyc2lvbiAyLlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkJZVEVTXCJdID0gMTJdID0gXCJCWVRFU1wiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlVJTlQzMlwiXSA9IDEzXSA9IFwiVUlOVDMyXCI7XG4gICAgLy8gVFlQRV9FTlVNID0gMTQsXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0ZJWEVEMzJcIl0gPSAxNV0gPSBcIlNGSVhFRDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0ZJWEVENjRcIl0gPSAxNl0gPSBcIlNGSVhFRDY0XCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0lOVDMyXCJdID0gMTddID0gXCJTSU5UMzJcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTSU5UNjRcIl0gPSAxOF0gPSBcIlNJTlQ2NFwiO1xufSkoU2NhbGFyVHlwZSB8fCAoU2NhbGFyVHlwZSA9IHt9KSk7XG4iLCAiLy8gQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4vLyBtZXQ6XG4vL1xuLy8gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy8gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyXG4vLyBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlXG4vLyBkaXN0cmlidXRpb24uXG4vLyAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbi8vIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4vLyB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbi8vIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbi8vIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuLy8gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4vLyBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbi8vIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuLy8gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8vXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgUHJvdG9jb2wgQnVmZmVyIGNvbXBpbGVyIGlzIG93bmVkIGJ5IHRoZSBvd25lclxuLy8gb2YgdGhlIGlucHV0IGZpbGUgdXNlZCB3aGVuIGdlbmVyYXRpbmcgaXQuICBUaGlzIGNvZGUgaXMgbm90XG4vLyBzdGFuZGFsb25lIGFuZCByZXF1aXJlcyBhIHN1cHBvcnQgbGlicmFyeSB0byBiZSBsaW5rZWQgd2l0aCBpdC4gIFRoaXNcbi8vIHN1cHBvcnQgbGlicmFyeSBpcyBpdHNlbGYgY292ZXJlZCBieSB0aGUgYWJvdmUgbGljZW5zZS5cbi8qKlxuICogUmVhZCBhIDY0IGJpdCB2YXJpbnQgYXMgdHdvIEpTIG51bWJlcnMuXG4gKlxuICogUmV0dXJucyB0dXBsZTpcbiAqIFswXTogbG93IGJpdHNcbiAqIFsxXTogaGlnaCBiaXRzXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYvYmxvYi84YTcxOTI3ZDc0YTRjZTM0ZWZlMmQ4NzY5ZmRhMTk4ZjUyZDIwZDEyL2pzL2V4cGVyaW1lbnRhbC9ydW50aW1lL2tlcm5lbC9idWZmZXJfZGVjb2Rlci5qcyNMMTc1XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YXJpbnQ2NHJlYWQoKSB7XG4gICAgbGV0IGxvd0JpdHMgPSAwO1xuICAgIGxldCBoaWdoQml0cyA9IDA7XG4gICAgZm9yIChsZXQgc2hpZnQgPSAwOyBzaGlmdCA8IDI4OyBzaGlmdCArPSA3KSB7XG4gICAgICAgIGxldCBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgICAgIGxvd0JpdHMgfD0gKGIgJiAweDdmKSA8PCBzaGlmdDtcbiAgICAgICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgICAgIHJldHVybiBbbG93Qml0cywgaGlnaEJpdHNdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBtaWRkbGVCeXRlID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgLy8gbGFzdCBmb3VyIGJpdHMgb2YgdGhlIGZpcnN0IDMyIGJpdCBudW1iZXJcbiAgICBsb3dCaXRzIHw9IChtaWRkbGVCeXRlICYgMHgwZikgPDwgMjg7XG4gICAgLy8gMyB1cHBlciBiaXRzIGFyZSBwYXJ0IG9mIHRoZSBuZXh0IDMyIGJpdCBudW1iZXJcbiAgICBoaWdoQml0cyA9IChtaWRkbGVCeXRlICYgMHg3MCkgPj4gNDtcbiAgICBpZiAoKG1pZGRsZUJ5dGUgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiBbbG93Qml0cywgaGlnaEJpdHNdO1xuICAgIH1cbiAgICBmb3IgKGxldCBzaGlmdCA9IDM7IHNoaWZ0IDw9IDMxOyBzaGlmdCArPSA3KSB7XG4gICAgICAgIGxldCBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgICAgIGhpZ2hCaXRzIHw9IChiICYgMHg3ZikgPDwgc2hpZnQ7XG4gICAgICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHZhcmludFwiKTtcbn1cbi8qKlxuICogV3JpdGUgYSA2NCBiaXQgdmFyaW50LCBnaXZlbiBhcyB0d28gSlMgbnVtYmVycywgdG8gdGhlIGdpdmVuIGJ5dGVzIGFycmF5LlxuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvd3JpdGVyLmpzI0wzNDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhcmludDY0d3JpdGUobG8sIGhpLCBieXRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjg7IGkgPSBpICsgNykge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGxvID4+PiBpO1xuICAgICAgICBjb25zdCBoYXNOZXh0ID0gIShzaGlmdCA+Pj4gNyA9PSAwICYmIGhpID09IDApO1xuICAgICAgICBjb25zdCBieXRlID0gKGhhc05leHQgPyBzaGlmdCB8IDB4ODAgOiBzaGlmdCkgJiAweGZmO1xuICAgICAgICBieXRlcy5wdXNoKGJ5dGUpO1xuICAgICAgICBpZiAoIWhhc05leHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzcGxpdEJpdHMgPSAoKGxvID4+PiAyOCkgJiAweDBmKSB8ICgoaGkgJiAweDA3KSA8PCA0KTtcbiAgICBjb25zdCBoYXNNb3JlQml0cyA9ICEoaGkgPj4gMyA9PSAwKTtcbiAgICBieXRlcy5wdXNoKChoYXNNb3JlQml0cyA/IHNwbGl0Qml0cyB8IDB4ODAgOiBzcGxpdEJpdHMpICYgMHhmZik7XG4gICAgaWYgKCFoYXNNb3JlQml0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAzOyBpIDwgMzE7IGkgPSBpICsgNykge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGhpID4+PiBpO1xuICAgICAgICBjb25zdCBoYXNOZXh0ID0gIShzaGlmdCA+Pj4gNyA9PSAwKTtcbiAgICAgICAgY29uc3QgYnl0ZSA9IChoYXNOZXh0ID8gc2hpZnQgfCAweDgwIDogc2hpZnQpICYgMHhmZjtcbiAgICAgICAgYnl0ZXMucHVzaChieXRlKTtcbiAgICAgICAgaWYgKCFoYXNOZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgYnl0ZXMucHVzaCgoaGkgPj4+IDMxKSAmIDB4MDEpO1xufVxuLy8gY29uc3RhbnRzIGZvciBiaW5hcnkgbWF0aFxuY29uc3QgVFdPX1BXUl8zMl9EQkwgPSAweDEwMDAwMDAwMDtcbi8qKlxuICogUGFyc2UgZGVjaW1hbCBzdHJpbmcgb2YgNjQgYml0IGludGVnZXIgdmFsdWUgYXMgdHdvIEpTIG51bWJlcnMuXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYtamF2YXNjcmlwdC9ibG9iL2E0MjhjNTgyNzNhYmFkMDdjNjYwNzFkOTc1M2JjNGQxMjg5ZGU0MjYvZXhwZXJpbWVudGFsL3J1bnRpbWUvaW50NjQuanMjTDEwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnQ2NEZyb21TdHJpbmcoZGVjKSB7XG4gICAgLy8gQ2hlY2sgZm9yIG1pbnVzIHNpZ24uXG4gICAgY29uc3QgbWludXMgPSBkZWNbMF0gPT09IFwiLVwiO1xuICAgIGlmIChtaW51cykge1xuICAgICAgICBkZWMgPSBkZWMuc2xpY2UoMSk7XG4gICAgfVxuICAgIC8vIFdvcmsgNiBkZWNpbWFsIGRpZ2l0cyBhdCBhIHRpbWUsIGFjdGluZyBsaWtlIHdlJ3JlIGNvbnZlcnRpbmcgYmFzZSAxZTZcbiAgICAvLyBkaWdpdHMgdG8gYmluYXJ5LiBUaGlzIGlzIHNhZmUgdG8gZG8gd2l0aCBmbG9hdGluZyBwb2ludCBtYXRoIGJlY2F1c2VcbiAgICAvLyBOdW1iZXIuaXNTYWZlSW50ZWdlcihBTExfMzJfQklUUyAqIDFlNikgPT0gdHJ1ZS5cbiAgICBjb25zdCBiYXNlID0gMWU2O1xuICAgIGxldCBsb3dCaXRzID0gMDtcbiAgICBsZXQgaGlnaEJpdHMgPSAwO1xuICAgIGZ1bmN0aW9uIGFkZDFlNmRpZ2l0KGJlZ2luLCBlbmQpIHtcbiAgICAgICAgLy8gTm90ZTogTnVtYmVyKCcnKSBpcyAwLlxuICAgICAgICBjb25zdCBkaWdpdDFlNiA9IE51bWJlcihkZWMuc2xpY2UoYmVnaW4sIGVuZCkpO1xuICAgICAgICBoaWdoQml0cyAqPSBiYXNlO1xuICAgICAgICBsb3dCaXRzID0gbG93Qml0cyAqIGJhc2UgKyBkaWdpdDFlNjtcbiAgICAgICAgLy8gQ2FycnkgYml0cyBmcm9tIGxvd0JpdHMgdG9cbiAgICAgICAgaWYgKGxvd0JpdHMgPj0gVFdPX1BXUl8zMl9EQkwpIHtcbiAgICAgICAgICAgIGhpZ2hCaXRzID0gaGlnaEJpdHMgKyAoKGxvd0JpdHMgLyBUV09fUFdSXzMyX0RCTCkgfCAwKTtcbiAgICAgICAgICAgIGxvd0JpdHMgPSBsb3dCaXRzICUgVFdPX1BXUl8zMl9EQkw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkMWU2ZGlnaXQoLTI0LCAtMTgpO1xuICAgIGFkZDFlNmRpZ2l0KC0xOCwgLTEyKTtcbiAgICBhZGQxZTZkaWdpdCgtMTIsIC02KTtcbiAgICBhZGQxZTZkaWdpdCgtNik7XG4gICAgcmV0dXJuIG1pbnVzID8gbmVnYXRlKGxvd0JpdHMsIGhpZ2hCaXRzKSA6IG5ld0JpdHMobG93Qml0cywgaGlnaEJpdHMpO1xufVxuLyoqXG4gKiBMb3NzbGVzc2x5IGNvbnZlcnRzIGEgNjQtYml0IHNpZ25lZCBpbnRlZ2VyIGluIDMyOjMyIHNwbGl0IHJlcHJlc2VudGF0aW9uXG4gKiBpbnRvIGEgZGVjaW1hbCBzdHJpbmcuXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYtamF2YXNjcmlwdC9ibG9iL2E0MjhjNTgyNzNhYmFkMDdjNjYwNzFkOTc1M2JjNGQxMjg5ZGU0MjYvZXhwZXJpbWVudGFsL3J1bnRpbWUvaW50NjQuanMjTDEwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnQ2NFRvU3RyaW5nKGxvLCBoaSkge1xuICAgIGxldCBiaXRzID0gbmV3Qml0cyhsbywgaGkpO1xuICAgIC8vIElmIHdlJ3JlIHRyZWF0aW5nIHRoZSBpbnB1dCBhcyBhIHNpZ25lZCB2YWx1ZSBhbmQgdGhlIGhpZ2ggYml0IGlzIHNldCwgZG9cbiAgICAvLyBhIG1hbnVhbCB0d28ncyBjb21wbGVtZW50IGNvbnZlcnNpb24gYmVmb3JlIHRoZSBkZWNpbWFsIGNvbnZlcnNpb24uXG4gICAgY29uc3QgbmVnYXRpdmUgPSBiaXRzLmhpICYgMHg4MDAwMDAwMDtcbiAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgYml0cyA9IG5lZ2F0ZShiaXRzLmxvLCBiaXRzLmhpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdUludDY0VG9TdHJpbmcoYml0cy5sbywgYml0cy5oaSk7XG4gICAgcmV0dXJuIG5lZ2F0aXZlID8gXCItXCIgKyByZXN1bHQgOiByZXN1bHQ7XG59XG4vKipcbiAqIExvc3NsZXNzbHkgY29udmVydHMgYSA2NC1iaXQgdW5zaWduZWQgaW50ZWdlciBpbiAzMjozMiBzcGxpdCByZXByZXNlbnRhdGlvblxuICogaW50byBhIGRlY2ltYWwgc3RyaW5nLlxuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmLWphdmFzY3JpcHQvYmxvYi9hNDI4YzU4MjczYWJhZDA3YzY2MDcxZDk3NTNiYzRkMTI4OWRlNDI2L2V4cGVyaW1lbnRhbC9ydW50aW1lL2ludDY0LmpzI0wxMFxuICovXG5leHBvcnQgZnVuY3Rpb24gdUludDY0VG9TdHJpbmcobG8sIGhpKSB7XG4gICAgKHsgbG8sIGhpIH0gPSB0b1Vuc2lnbmVkKGxvLCBoaSkpO1xuICAgIC8vIFNraXAgdGhlIGV4cGVuc2l2ZSBjb252ZXJzaW9uIGlmIHRoZSBudW1iZXIgaXMgc21hbGwgZW5vdWdoIHRvIHVzZSB0aGVcbiAgICAvLyBidWlsdC1pbiBjb252ZXJzaW9ucy5cbiAgICAvLyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiA9IDB4MDAxRkZGRkYgRkZGRkZGRkYsIHRodXMgYW55IG51bWJlciB3aXRoXG4gICAgLy8gaGlnaEJpdHMgPD0gMHgxRkZGRkYgY2FuIGJlIHNhZmVseSBleHByZXNzZWQgd2l0aCBhIGRvdWJsZSBhbmQgcmV0YWluXG4gICAgLy8gaW50ZWdlciBwcmVjaXNpb24uXG4gICAgLy8gUHJvdmVuIGJ5OiBOdW1iZXIuaXNTYWZlSW50ZWdlcigweDFGRkZGRiAqIDIqKjMyICsgMHhGRkZGRkZGRikgPT0gdHJ1ZS5cbiAgICBpZiAoaGkgPD0gMHgxZmZmZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhUV09fUFdSXzMyX0RCTCAqIGhpICsgbG8pO1xuICAgIH1cbiAgICAvLyBXaGF0IHRoaXMgY29kZSBpcyBkb2luZyBpcyBlc3NlbnRpYWxseSBjb252ZXJ0aW5nIHRoZSBpbnB1dCBudW1iZXIgZnJvbVxuICAgIC8vIGJhc2UtMiB0byBiYXNlLTFlNywgd2hpY2ggYWxsb3dzIHVzIHRvIHJlcHJlc2VudCB0aGUgNjQtYml0IHJhbmdlIHdpdGhcbiAgICAvLyBvbmx5IDMgKHZlcnkgbGFyZ2UpIGRpZ2l0cy4gVGhvc2UgZGlnaXRzIGFyZSB0aGVuIHRyaXZpYWwgdG8gY29udmVydCB0b1xuICAgIC8vIGEgYmFzZS0xMCBzdHJpbmcuXG4gICAgLy8gVGhlIG1hZ2ljIG51bWJlcnMgdXNlZCBoZXJlIGFyZSAtXG4gICAgLy8gMl4yNCA9IDE2Nzc3MjE2ID0gKDEsNjc3NzIxNikgaW4gYmFzZS0xZTcuXG4gICAgLy8gMl40OCA9IDI4MTQ3NDk3NjcxMDY1NiA9ICgyLDgxNDc0OTcsNjcxMDY1NikgaW4gYmFzZS0xZTcuXG4gICAgLy8gU3BsaXQgMzI6MzIgcmVwcmVzZW50YXRpb24gaW50byAxNjoyNDoyNCByZXByZXNlbnRhdGlvbiBzbyBvdXJcbiAgICAvLyBpbnRlcm1lZGlhdGUgZGlnaXRzIGRvbid0IG92ZXJmbG93LlxuICAgIGNvbnN0IGxvdyA9IGxvICYgMHhmZmZmZmY7XG4gICAgY29uc3QgbWlkID0gKChsbyA+Pj4gMjQpIHwgKGhpIDw8IDgpKSAmIDB4ZmZmZmZmO1xuICAgIGNvbnN0IGhpZ2ggPSAoaGkgPj4gMTYpICYgMHhmZmZmO1xuICAgIC8vIEFzc2VtYmxlIG91ciB0aHJlZSBiYXNlLTFlNyBkaWdpdHMsIGlnbm9yaW5nIGNhcnJpZXMuIFRoZSBtYXhpbXVtXG4gICAgLy8gdmFsdWUgaW4gYSBkaWdpdCBhdCB0aGlzIHN0ZXAgaXMgcmVwcmVzZW50YWJsZSBhcyBhIDQ4LWJpdCBpbnRlZ2VyLCB3aGljaFxuICAgIC8vIGNhbiBiZSBzdG9yZWQgaW4gYSA2NC1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgIGxldCBkaWdpdEEgPSBsb3cgKyBtaWQgKiA2Nzc3MjE2ICsgaGlnaCAqIDY3MTA2NTY7XG4gICAgbGV0IGRpZ2l0QiA9IG1pZCArIGhpZ2ggKiA4MTQ3NDk3O1xuICAgIGxldCBkaWdpdEMgPSBoaWdoICogMjtcbiAgICAvLyBBcHBseSBjYXJyaWVzIGZyb20gQSB0byBCIGFuZCBmcm9tIEIgdG8gQy5cbiAgICBjb25zdCBiYXNlID0gMTAwMDAwMDA7XG4gICAgaWYgKGRpZ2l0QSA+PSBiYXNlKSB7XG4gICAgICAgIGRpZ2l0QiArPSBNYXRoLmZsb29yKGRpZ2l0QSAvIGJhc2UpO1xuICAgICAgICBkaWdpdEEgJT0gYmFzZTtcbiAgICB9XG4gICAgaWYgKGRpZ2l0QiA+PSBiYXNlKSB7XG4gICAgICAgIGRpZ2l0QyArPSBNYXRoLmZsb29yKGRpZ2l0QiAvIGJhc2UpO1xuICAgICAgICBkaWdpdEIgJT0gYmFzZTtcbiAgICB9XG4gICAgLy8gSWYgZGlnaXRDIGlzIDAsIHRoZW4gd2Ugc2hvdWxkIGhhdmUgcmV0dXJuZWQgaW4gdGhlIHRyaXZpYWwgY29kZSBwYXRoXG4gICAgLy8gYXQgdGhlIHRvcCBmb3Igbm9uLXNhZmUgaW50ZWdlcnMuIEdpdmVuIHRoaXMsIHdlIGNhbiBhc3N1bWUgYm90aCBkaWdpdEJcbiAgICAvLyBhbmQgZGlnaXRBIG5lZWQgbGVhZGluZyB6ZXJvcy5cbiAgICByZXR1cm4gKGRpZ2l0Qy50b1N0cmluZygpICtcbiAgICAgICAgZGVjaW1hbEZyb20xZTdXaXRoTGVhZGluZ1plcm9zKGRpZ2l0QikgK1xuICAgICAgICBkZWNpbWFsRnJvbTFlN1dpdGhMZWFkaW5nWmVyb3MoZGlnaXRBKSk7XG59XG5mdW5jdGlvbiB0b1Vuc2lnbmVkKGxvLCBoaSkge1xuICAgIHJldHVybiB7IGxvOiBsbyA+Pj4gMCwgaGk6IGhpID4+PiAwIH07XG59XG5mdW5jdGlvbiBuZXdCaXRzKGxvLCBoaSkge1xuICAgIHJldHVybiB7IGxvOiBsbyB8IDAsIGhpOiBoaSB8IDAgfTtcbn1cbi8qKlxuICogUmV0dXJucyB0d28ncyBjb21wbGltZW50IG5lZ2F0aW9uIG9mIGlucHV0LlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQml0d2lzZV9PcGVyYXRvcnMjU2lnbmVkXzMyLWJpdF9pbnRlZ2Vyc1xuICovXG5mdW5jdGlvbiBuZWdhdGUobG93Qml0cywgaGlnaEJpdHMpIHtcbiAgICBoaWdoQml0cyA9IH5oaWdoQml0cztcbiAgICBpZiAobG93Qml0cykge1xuICAgICAgICBsb3dCaXRzID0gfmxvd0JpdHMgKyAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSWYgbG93Qml0cyBpcyAwLCB0aGVuIGJpdHdpc2Utbm90IGlzIDB4RkZGRkZGRkYsXG4gICAgICAgIC8vIGFkZGluZyAxIHRvIHRoYXQsIHJlc3VsdHMgaW4gMHgxMDAwMDAwMDAsIHdoaWNoIGxlYXZlc1xuICAgICAgICAvLyB0aGUgbG93IGJpdHMgMHgwIGFuZCBzaW1wbHkgYWRkcyBvbmUgdG8gdGhlIGhpZ2ggYml0cy5cbiAgICAgICAgaGlnaEJpdHMgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0JpdHMobG93Qml0cywgaGlnaEJpdHMpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgZGlnaXQxZTcgd2l0aCBsZWFkaW5nIHplcm9zLlxuICovXG5jb25zdCBkZWNpbWFsRnJvbTFlN1dpdGhMZWFkaW5nWmVyb3MgPSAoZGlnaXQxZTcpID0+IHtcbiAgICBjb25zdCBwYXJ0aWFsID0gU3RyaW5nKGRpZ2l0MWU3KTtcbiAgICByZXR1cm4gXCIwMDAwMDAwXCIuc2xpY2UocGFydGlhbC5sZW5ndGgpICsgcGFydGlhbDtcbn07XG4vKipcbiAqIFdyaXRlIGEgMzIgYml0IHZhcmludCwgc2lnbmVkIG9yIHVuc2lnbmVkLiBTYW1lIGFzIGB2YXJpbnQ2NHdyaXRlKDAsIHZhbHVlLCBieXRlcylgXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYvYmxvYi8xYjE4ODMzZjRmMmEyZjY4MWY0ZTRhMjVjZGYzYjBhNDMxMTVlYzI2L2pzL2JpbmFyeS9lbmNvZGVyLmpzI0wxNDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhcmludDMyd3JpdGUodmFsdWUsIGJ5dGVzKSB7XG4gICAgaWYgKHZhbHVlID49IDApIHtcbiAgICAgICAgLy8gd3JpdGUgdmFsdWUgYXMgdmFyaW50IDMyXG4gICAgICAgIHdoaWxlICh2YWx1ZSA+IDB4N2YpIHtcbiAgICAgICAgICAgIGJ5dGVzLnB1c2goKHZhbHVlICYgMHg3ZikgfCAweDgwKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4+IDc7XG4gICAgICAgIH1cbiAgICAgICAgYnl0ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgJiAxMjcpIHwgMTI4KTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gNztcbiAgICAgICAgfVxuICAgICAgICBieXRlcy5wdXNoKDEpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCBhbiB1bnNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvYnVmZmVyX2RlY29kZXIuanMjTDIyMFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50MzJyZWFkKCkge1xuICAgIGxldCBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgbGV0IHJlc3VsdCA9IGIgJiAweDdmO1xuICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIHJlc3VsdCB8PSAoYiAmIDB4N2YpIDw8IDc7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3ZikgPDwgMTQ7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3ZikgPDwgMjE7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBFeHRyYWN0IG9ubHkgbGFzdCA0IGJpdHNcbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHgwZikgPDwgMjg7XG4gICAgZm9yIChsZXQgcmVhZEJ5dGVzID0gNTsgKGIgJiAweDgwKSAhPT0gMCAmJiByZWFkQnl0ZXMgPCAxMDsgcmVhZEJ5dGVzKyspXG4gICAgICAgIGIgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTtcbiAgICBpZiAoKGIgJiAweDgwKSAhPSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHZhcmludFwiKTtcbiAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgIC8vIFJlc3VsdCBjYW4gaGF2ZSAzMiBiaXRzLCBjb252ZXJ0IGl0IHRvIHVuc2lnbmVkXG4gICAgcmV0dXJuIHJlc3VsdCA+Pj4gMDtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgaW50NjRGcm9tU3RyaW5nLCBpbnQ2NFRvU3RyaW5nLCB1SW50NjRUb1N0cmluZywgfSBmcm9tIFwiLi93aXJlL3ZhcmludC5qc1wiO1xuLyoqXG4gKiBJbnQ2NFN1cHBvcnQgZm9yIHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuICovXG5leHBvcnQgY29uc3QgcHJvdG9JbnQ2NCA9IC8qQF9fUFVSRV9fKi8gbWFrZUludDY0U3VwcG9ydCgpO1xuZnVuY3Rpb24gbWFrZUludDY0U3VwcG9ydCgpIHtcbiAgICBjb25zdCBkdiA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoOCkpO1xuICAgIC8vIG5vdGUgdGhhdCBTYWZhcmkgMTQgaW1wbGVtZW50cyBCaWdJbnQsIGJ1dCBub3QgdGhlIERhdGFWaWV3IG1ldGhvZHNcbiAgICBjb25zdCBvayA9IHR5cGVvZiBCaWdJbnQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZHYuZ2V0QmlnSW50NjQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZHYuZ2V0QmlnVWludDY0ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgdHlwZW9mIGR2LnNldEJpZ0ludDY0ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgdHlwZW9mIGR2LnNldEJpZ1VpbnQ2NCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICghIWdsb2JhbFRoaXMuRGVubyB8fFxuICAgICAgICAgICAgdHlwZW9mIHByb2Nlc3MgIT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIHByb2Nlc3MuZW52ICE9IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkJVRl9CSUdJTlRfRElTQUJMRSAhPT0gXCIxXCIpO1xuICAgIGlmIChvaykge1xuICAgICAgICBjb25zdCBNSU4gPSBCaWdJbnQoXCItOTIyMzM3MjAzNjg1NDc3NTgwOFwiKTtcbiAgICAgICAgY29uc3QgTUFYID0gQmlnSW50KFwiOTIyMzM3MjAzNjg1NDc3NTgwN1wiKTtcbiAgICAgICAgY29uc3QgVU1JTiA9IEJpZ0ludChcIjBcIik7XG4gICAgICAgIGNvbnN0IFVNQVggPSBCaWdJbnQoXCIxODQ0Njc0NDA3MzcwOTU1MTYxNVwiKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHplcm86IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIHN1cHBvcnRlZDogdHJ1ZSxcbiAgICAgICAgICAgIHBhcnNlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmkgPSB0eXBlb2YgdmFsdWUgPT0gXCJiaWdpbnRcIiA/IHZhbHVlIDogQmlnSW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoYmkgPiBNQVggfHwgYmkgPCBNSU4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGludDY0OiAke3ZhbHVlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdVBhcnNlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmkgPSB0eXBlb2YgdmFsdWUgPT0gXCJiaWdpbnRcIiA/IHZhbHVlIDogQmlnSW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoYmkgPiBVTUFYIHx8IGJpIDwgVU1JTikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgdWludDY0OiAke3ZhbHVlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5jKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZHYuc2V0QmlnSW50NjQoMCwgdGhpcy5wYXJzZSh2YWx1ZSksIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxvOiBkdi5nZXRJbnQzMigwLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgaGk6IGR2LmdldEludDMyKDQsIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdUVuYyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGR2LnNldEJpZ0ludDY0KDAsIHRoaXMudVBhcnNlKHZhbHVlKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbG86IGR2LmdldEludDMyKDAsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBoaTogZHYuZ2V0SW50MzIoNCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWMobG8sIGhpKSB7XG4gICAgICAgICAgICAgICAgZHYuc2V0SW50MzIoMCwgbG8sIHRydWUpO1xuICAgICAgICAgICAgICAgIGR2LnNldEludDMyKDQsIGhpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHYuZ2V0QmlnSW50NjQoMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdURlYyhsbywgaGkpIHtcbiAgICAgICAgICAgICAgICBkdi5zZXRJbnQzMigwLCBsbywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZHYuc2V0SW50MzIoNCwgaGksIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkdi5nZXRCaWdVaW50NjQoMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB6ZXJvOiBcIjBcIixcbiAgICAgICAgc3VwcG9ydGVkOiBmYWxzZSxcbiAgICAgICAgcGFyc2UodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2VydEludDY0U3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgdVBhcnNlKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnRVSW50NjRTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbmModmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2VydEludDY0U3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBpbnQ2NEZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICB1RW5jKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnRVSW50NjRTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGludDY0RnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlYyhsbywgaGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnQ2NFRvU3RyaW5nKGxvLCBoaSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVEZWMobG8sIGhpKSB7XG4gICAgICAgICAgICByZXR1cm4gdUludDY0VG9TdHJpbmcobG8sIGhpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYXNzZXJ0SW50NjRTdHJpbmcodmFsdWUpIHtcbiAgICBpZiAoIS9eLT9bMC05XSskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGludDY0OiBcIiArIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRVSW50NjRTdHJpbmcodmFsdWUpIHtcbiAgICBpZiAoIS9eWzAtOV0rJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB1aW50NjQ6IFwiICsgdmFsdWUpO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcHJvdG9JbnQ2NCB9IGZyb20gXCIuLi9wcm90by1pbnQ2NC5qc1wiO1xuaW1wb3J0IHsgU2NhbGFyVHlwZSB9IGZyb20gXCIuLi9kZXNjcmlwdG9ycy5qc1wiO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYm90aCBzY2FsYXIgdmFsdWVzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxhckVxdWFscyh0eXBlLCBhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgLy8gVGhpcyBjb3JyZWN0bHkgbWF0Y2hlcyBlcXVhbCB2YWx1ZXMgZXhjZXB0IEJZVEVTIGFuZCAocG9zc2libHkpIDY0LWJpdCBpbnRlZ2Vycy5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIFNwZWNpYWwgY2FzZSBCWVRFUyAtIHdlIG5lZWQgdG8gY29tcGFyZSBlYWNoIGJ5dGUgaW5kaXZpZHVhbGx5XG4gICAgaWYgKHR5cGUgPT0gU2NhbGFyVHlwZS5CWVRFUykge1xuICAgICAgICBpZiAoIShhIGluc3RhbmNlb2YgVWludDhBcnJheSkgfHwgIShiIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gU3BlY2lhbCBjYXNlIDY0LWJpdCBpbnRlZ2VycyAtIHdlIHN1cHBvcnQgbnVtYmVyLCBzdHJpbmcgYW5kIGJpZ2ludCByZXByZXNlbnRhdGlvbi5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgLy8gTG9vc2UgY29tcGFyaXNvbiB3aWxsIG1hdGNoIGJldHdlZW4gMG4sIDAgYW5kIFwiMFwiLlxuICAgICAgICAgICAgcmV0dXJuIGEgPT0gYjtcbiAgICB9XG4gICAgLy8gQW55dGhpbmcgdGhhdCBoYXNuJ3QgYmVlbiBjYXVnaHQgYnkgc3RyaWN0IGNvbXBhcmlzb24gb3Igc3BlY2lhbCBjYXNlZFxuICAgIC8vIEJZVEVTIGFuZCA2NC1iaXQgaW50ZWdlcnMgaXMgbm90IGVxdWFsLlxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgemVybyB2YWx1ZSBmb3IgdGhlIGdpdmVuIHNjYWxhciB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGFyWmVyb1ZhbHVlKHR5cGUsIGxvbmdBc1N0cmluZykge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gKGxvbmdBc1N0cmluZyA/IFwiMFwiIDogcHJvdG9JbnQ2NC56ZXJvKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gSGFuZGxlcyBJTlQzMiwgVUlOVDMyLCBTSU5UMzIsIEZJWEVEMzIsIFNGSVhFRDMyLlxuICAgICAgICAgICAgLy8gV2UgZG8gbm90IHVzZSBpbmRpdmlkdWFsIGNhc2VzIHRvIHNhdmUgYSBmZXcgYnl0ZXMgY29kZSBzaXplLlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgZm9yIGEgemVyby12YWx1ZS4gRm9yIGV4YW1wbGUsIGFuIGludGVnZXIgaGFzIHRoZSB6ZXJvLXZhbHVlIGAwYCxcbiAqIGEgYm9vbGVhbiBpcyBgZmFsc2VgLCBhIHN0cmluZyBpcyBgXCJcImAsIGFuZCBieXRlcyBpcyBhbiBlbXB0eSBVaW50OEFycmF5LlxuICpcbiAqIEluIHByb3RvMywgemVyby12YWx1ZXMgYXJlIG5vdCB3cml0dGVuIHRvIHRoZSB3aXJlLCB1bmxlc3MgdGhlIGZpZWxkIGlzXG4gKiBvcHRpb25hbCBvciByZXBlYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NhbGFyWmVyb1ZhbHVlKHR5cGUsIHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gXCJcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiAhdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSAwOyAvLyBMb29zZSBjb21wYXJpc29uIG1hdGNoZXMgMG4sIDAgYW5kIFwiMFwiXG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBpc1NjYWxhclplcm9WYWx1ZSwgc2NhbGFyWmVyb1ZhbHVlIH0gZnJvbSBcIi4vc2NhbGFyLmpzXCI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuSU1QTElDSVQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBJTVBMSUNJVCA9IDI7XG5leHBvcnQgY29uc3QgdW5zYWZlTG9jYWwgPSBTeW1ib2wuZm9yKFwicmVmbGVjdCB1bnNhZmUgbG9jYWxcIik7XG4vKipcbiAqIFJldHVybiB0aGUgc2VsZWN0ZWQgZmllbGQgb2YgYSBvbmVvZiBncm91cC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlT25lb2ZDYXNlKFxuLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBgYW55YCBpcyB0aGUgYmVzdCBjaG9pY2UgZm9yIGR5bmFtaWMgYWNjZXNzXG50YXJnZXQsIG9uZW9mKSB7XG4gICAgY29uc3QgYyA9IHRhcmdldFtvbmVvZi5sb2NhbE5hbWVdLmNhc2U7XG4gICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgcmV0dXJuIG9uZW9mLmZpZWxkcy5maW5kKChmKSA9PiBmLmxvY2FsTmFtZSA9PT0gYyk7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmllbGQgaXMgc2V0LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVJc1NldChcbi8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogYGFueWAgaXMgdGhlIGJlc3QgY2hvaWNlIGZvciBkeW5hbWljIGFjY2Vzc1xudGFyZ2V0LCBmaWVsZCkge1xuICAgIGNvbnN0IG5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRbZmllbGQub25lb2YubG9jYWxOYW1lXS5jYXNlID09PSBuYW1lO1xuICAgIH1cbiAgICBpZiAoZmllbGQucHJlc2VuY2UgIT0gSU1QTElDSVQpIHtcbiAgICAgICAgLy8gRmllbGRzIHdpdGggZXhwbGljaXQgcHJlc2VuY2UgaGF2ZSBwcm9wZXJ0aWVzIG9uIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgLy8gZm9yIGRlZmF1bHQgLyB6ZXJvIHZhbHVlcyAoZXhjZXB0IGZvciBwcm90bzMpLlxuICAgICAgICByZXR1cm4gKHRhcmdldFtuYW1lXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBuYW1lKSk7XG4gICAgfVxuICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdLmxlbmd0aCA+IDA7XG4gICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXRbbmFtZV0pLmxlbmd0aCA+IDA7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIHJldHVybiAhaXNTY2FsYXJaZXJvVmFsdWUoZmllbGQuc2NhbGFyLCB0YXJnZXRbbmFtZV0pO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXSAhPT0gZmllbGQuZW51bS52YWx1ZXNbMF0ubnVtYmVyO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtZXNzYWdlIGZpZWxkIHdpdGggaW1wbGljaXQgcHJlc2VuY2VcIik7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmllbGQgaXMgc2V0LCBidXQgb25seSBmb3Igc2luZ3VsYXIgZmllbGRzIHdpdGggZXhwbGljaXRcbiAqIHByZXNlbmNlIChwcm90bzIpLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVJc1NldEV4cGxpY2l0KHRhcmdldCwgbG9jYWxOYW1lKSB7XG4gICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBsb2NhbE5hbWUpICYmXG4gICAgICAgIHRhcmdldFtsb2NhbE5hbWVdICE9PSB1bmRlZmluZWQpO1xufVxuLyoqXG4gKiBSZXR1cm4gYSBmaWVsZCB2YWx1ZSwgcmVzcGVjdGluZyBvbmVvZiBncm91cHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZUdldCh0YXJnZXQsIGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgIGNvbnN0IG9uZW9mID0gdGFyZ2V0W2ZpZWxkLm9uZW9mLmxvY2FsTmFtZV07XG4gICAgICAgIGlmIChvbmVvZi5jYXNlID09PSBmaWVsZC5sb2NhbE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBvbmVvZi52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0W2ZpZWxkLmxvY2FsTmFtZV07XG59XG4vKipcbiAqIFNldCBhIGZpZWxkIHZhbHVlLCByZXNwZWN0aW5nIG9uZW9mIGdyb3Vwcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU2V0KHRhcmdldCwgZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgIHRhcmdldFtmaWVsZC5vbmVvZi5sb2NhbE5hbWVdID0ge1xuICAgICAgICAgICAgY2FzZTogZmllbGQubG9jYWxOYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2ZpZWxkLmxvY2FsTmFtZV0gPSB2YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIFJlc2V0cyB0aGUgZmllbGQsIHNvIHRoYXQgdW5zYWZlSXNTZXQoKSB3aWxsIHJldHVybiBmYWxzZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlQ2xlYXIoXG4vLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IGBhbnlgIGlzIHRoZSBiZXN0IGNob2ljZSBmb3IgZHluYW1pYyBhY2Nlc3NcbnRhcmdldCwgZmllbGQpIHtcbiAgICBjb25zdCBuYW1lID0gZmllbGQubG9jYWxOYW1lO1xuICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICBjb25zdCBvbmVvZkxvY2FsTmFtZSA9IGZpZWxkLm9uZW9mLmxvY2FsTmFtZTtcbiAgICAgICAgaWYgKHRhcmdldFtvbmVvZkxvY2FsTmFtZV0uY2FzZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgdGFyZ2V0W29uZW9mTG9jYWxOYW1lXSA9IHsgY2FzZTogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZmllbGQucHJlc2VuY2UgIT0gSU1QTElDSVQpIHtcbiAgICAgICAgLy8gRmllbGRzIHdpdGggZXhwbGljaXQgcHJlc2VuY2UgaGF2ZSBwcm9wZXJ0aWVzIG9uIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgLy8gZm9yIGRlZmF1bHQgLyB6ZXJvIHZhbHVlcyAoZXhjZXB0IGZvciBwcm90bzMpLiBCeSBkZWxldGluZyB0aGVpciBvd25cbiAgICAgICAgLy8gcHJvcGVydHksIHRoZSBmaWVsZCBpcyByZXNldC5cbiAgICAgICAgZGVsZXRlIHRhcmdldFtuYW1lXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0ge307XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBmaWVsZC5lbnVtLnZhbHVlc1swXS5udW1iZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gc2NhbGFyWmVyb1ZhbHVlKGZpZWxkLnNjYWxhciwgZmllbGQubG9uZ0FzU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgdW5zYWZlTG9jYWwgfSBmcm9tIFwiLi91bnNhZmUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgICByZXR1cm4gYXJnICE9PSBudWxsICYmIHR5cGVvZiBhcmcgPT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShhcmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT25lb2ZBRFQoYXJnKSB7XG4gICAgcmV0dXJuIChhcmcgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGFyZyA9PSBcIm9iamVjdFwiICYmXG4gICAgICAgIFwiY2FzZVwiIGluIGFyZyAmJlxuICAgICAgICAoKHR5cGVvZiBhcmcuY2FzZSA9PSBcInN0cmluZ1wiICYmIFwidmFsdWVcIiBpbiBhcmcgJiYgYXJnLnZhbHVlICE9IG51bGwpIHx8XG4gICAgICAgICAgICAoYXJnLmNhc2UgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICghKFwidmFsdWVcIiBpbiBhcmcpIHx8IGFyZy52YWx1ZSA9PT0gdW5kZWZpbmVkKSkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZmxlY3RMaXN0KGFyZywgZmllbGQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKGlzT2JqZWN0KGFyZykgJiZcbiAgICAgICAgdW5zYWZlTG9jYWwgaW4gYXJnICYmXG4gICAgICAgIFwiYWRkXCIgaW4gYXJnICYmXG4gICAgICAgIFwiZmllbGRcIiBpbiBhcmcgJiZcbiAgICAgICAgdHlwZW9mIGFyZy5maWVsZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKGZpZWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBmaWVsZDtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBhcmcuZmllbGQoKTtcbiAgICAgICAgICAgIHJldHVybiAoYS5saXN0S2luZCA9PSBiLmxpc3RLaW5kICYmXG4gICAgICAgICAgICAgICAgYS5zY2FsYXIgPT09IGIuc2NhbGFyICYmXG4gICAgICAgICAgICAgICAgKChfYSA9IGEubWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnR5cGVOYW1lKSA9PT0gKChfYiA9IGIubWVzc2FnZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnR5cGVOYW1lKSAmJlxuICAgICAgICAgICAgICAgICgoX2MgPSBhLmVudW0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50eXBlTmFtZSkgPT09ICgoX2QgPSBiLmVudW0pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50eXBlTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWZsZWN0TWFwKGFyZywgZmllbGQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKGlzT2JqZWN0KGFyZykgJiZcbiAgICAgICAgdW5zYWZlTG9jYWwgaW4gYXJnICYmXG4gICAgICAgIFwiaGFzXCIgaW4gYXJnICYmXG4gICAgICAgIFwiZmllbGRcIiBpbiBhcmcgJiZcbiAgICAgICAgdHlwZW9mIGFyZy5maWVsZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKGZpZWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBmaWVsZCwgYiA9IGFyZy5maWVsZCgpO1xuICAgICAgICAgICAgcmV0dXJuIChhLm1hcEtleSA9PT0gYi5tYXBLZXkgJiZcbiAgICAgICAgICAgICAgICBhLm1hcEtpbmQgPT0gYi5tYXBLaW5kICYmXG4gICAgICAgICAgICAgICAgYS5zY2FsYXIgPT09IGIuc2NhbGFyICYmXG4gICAgICAgICAgICAgICAgKChfYSA9IGEubWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnR5cGVOYW1lKSA9PT0gKChfYiA9IGIubWVzc2FnZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnR5cGVOYW1lKSAmJlxuICAgICAgICAgICAgICAgICgoX2MgPSBhLmVudW0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50eXBlTmFtZSkgPT09ICgoX2QgPSBiLmVudW0pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50eXBlTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWZsZWN0TWVzc2FnZShhcmcsIG1lc3NhZ2VEZXNjKSB7XG4gICAgcmV0dXJuIChpc09iamVjdChhcmcpICYmXG4gICAgICAgIHVuc2FmZUxvY2FsIGluIGFyZyAmJlxuICAgICAgICBcImRlc2NcIiBpbiBhcmcgJiZcbiAgICAgICAgaXNPYmplY3QoYXJnLmRlc2MpICYmXG4gICAgICAgIGFyZy5kZXNjLmtpbmQgPT09IFwibWVzc2FnZVwiICYmXG4gICAgICAgIChtZXNzYWdlRGVzYyA9PT0gdW5kZWZpbmVkIHx8IGFyZy5kZXNjLnR5cGVOYW1lID09IG1lc3NhZ2VEZXNjLnR5cGVOYW1lKSk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmV4cG9ydCBmdW5jdGlvbiBpc1dyYXBwZXIoYXJnKSB7XG4gICAgcmV0dXJuIGlzV3JhcHBlclR5cGVOYW1lKGFyZy4kdHlwZU5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzV3JhcHBlckRlc2MobWVzc2FnZURlc2MpIHtcbiAgICBjb25zdCBmID0gbWVzc2FnZURlc2MuZmllbGRzWzBdO1xuICAgIHJldHVybiAoaXNXcmFwcGVyVHlwZU5hbWUobWVzc2FnZURlc2MudHlwZU5hbWUpICYmXG4gICAgICAgIGYgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBmLmZpZWxkS2luZCA9PSBcInNjYWxhclwiICYmXG4gICAgICAgIGYubmFtZSA9PSBcInZhbHVlXCIgJiZcbiAgICAgICAgZi5udW1iZXIgPT0gMSk7XG59XG5mdW5jdGlvbiBpc1dyYXBwZXJUeXBlTmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIChuYW1lLnN0YXJ0c1dpdGgoXCJnb29nbGUucHJvdG9idWYuXCIpICYmXG4gICAgICAgIFtcbiAgICAgICAgICAgIFwiRG91YmxlVmFsdWVcIixcbiAgICAgICAgICAgIFwiRmxvYXRWYWx1ZVwiLFxuICAgICAgICAgICAgXCJJbnQ2NFZhbHVlXCIsXG4gICAgICAgICAgICBcIlVJbnQ2NFZhbHVlXCIsXG4gICAgICAgICAgICBcIkludDMyVmFsdWVcIixcbiAgICAgICAgICAgIFwiVUludDMyVmFsdWVcIixcbiAgICAgICAgICAgIFwiQm9vbFZhbHVlXCIsXG4gICAgICAgICAgICBcIlN0cmluZ1ZhbHVlXCIsXG4gICAgICAgICAgICBcIkJ5dGVzVmFsdWVcIixcbiAgICAgICAgXS5pbmNsdWRlcyhuYW1lLnN1YnN0cmluZygxNikpKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgaXNNZXNzYWdlIH0gZnJvbSBcIi4vaXMtbWVzc2FnZS5qc1wiO1xuaW1wb3J0IHsgU2NhbGFyVHlwZSwgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgc2NhbGFyWmVyb1ZhbHVlIH0gZnJvbSBcIi4vcmVmbGVjdC9zY2FsYXIuanNcIjtcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9ndWFyZC5qc1wiO1xuaW1wb3J0IHsgdW5zYWZlR2V0LCB1bnNhZmVPbmVvZkNhc2UsIHVuc2FmZVNldCB9IGZyb20gXCIuL3JlZmxlY3QvdW5zYWZlLmpzXCI7XG5pbXBvcnQgeyBpc1dyYXBwZXJEZXNjIH0gZnJvbSBcIi4vd2t0L3dyYXBwZXJzLmpzXCI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uLkVESVRJT05fUFJPVE8zOiBjb25zdCAkbmFtZTogRWRpdGlvbi4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IEVESVRJT05fUFJPVE8zID0gOTk5O1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRWRpdGlvbi5FRElUSU9OX1BST1RPMjogY29uc3QgJG5hbWU6IEVkaXRpb24uJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBFRElUSU9OX1BST1RPMiA9IDk5ODtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5JTVBMSUNJVDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IElNUExJQ0lUID0gMjtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1lc3NhZ2UgaW5zdGFuY2UuXG4gKlxuICogVGhlIHNlY29uZCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBpbml0aWFsaXplciBvYmplY3QsIHdoZXJlIGFsbCBmaWVsZHMgYXJlXG4gKiBvcHRpb25hbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShzY2hlbWEsIGluaXQpIHtcbiAgICBpZiAoaXNNZXNzYWdlKGluaXQsIHNjaGVtYSkpIHtcbiAgICAgICAgcmV0dXJuIGluaXQ7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVaZXJvTWVzc2FnZShzY2hlbWEpO1xuICAgIGlmIChpbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5pdE1lc3NhZ2Uoc2NoZW1hLCBtZXNzYWdlLCBpbml0KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG4vKipcbiAqIFNldHMgZmllbGQgdmFsdWVzIGZyb20gYSBNZXNzYWdlSW5pdFNoYXBlIG9uIGEgemVybyBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBpbml0TWVzc2FnZShtZXNzYWdlRGVzYywgbWVzc2FnZSwgaW5pdCkge1xuICAgIGZvciAoY29uc3QgbWVtYmVyIG9mIG1lc3NhZ2VEZXNjLm1lbWJlcnMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gaW5pdFttZW1iZXIubG9jYWxOYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGludGVudGlvbmFsbHkgaWdub3JlIHVuZGVmaW5lZCBhbmQgbnVsbFxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZpZWxkO1xuICAgICAgICBpZiAobWVtYmVyLmtpbmQgPT0gXCJvbmVvZlwiKSB7XG4gICAgICAgICAgICBjb25zdCBvbmVvZkZpZWxkID0gdW5zYWZlT25lb2ZDYXNlKGluaXQsIG1lbWJlcik7XG4gICAgICAgICAgICBpZiAoIW9uZW9mRmllbGQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpZWxkID0gb25lb2ZGaWVsZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5zYWZlR2V0KGluaXQsIG9uZW9mRmllbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmllbGQgPSBtZW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b01lc3NhZ2UoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGluaXRTY2FsYXIoZmllbGQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpbml0TGlzdChmaWVsZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gaW5pdE1hcChmaWVsZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHVuc2FmZVNldChtZXNzYWdlLCBmaWVsZCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIGluaXRTY2FsYXIoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLnNjYWxhciA9PSBTY2FsYXJUeXBlLkJZVEVTKSB7XG4gICAgICAgIHJldHVybiB0b1U4QXJyKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaW5pdE1hcChmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGlmIChmaWVsZC5zY2FsYXIgPT0gU2NhbGFyVHlwZS5CWVRFUykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRPYmplY3RWYWx1ZXModmFsdWUsIHRvVThBcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5tYXBLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydE9iamVjdFZhbHVlcyh2YWx1ZSwgKHZhbCkgPT4gdG9NZXNzYWdlKGZpZWxkLCB2YWwpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBpbml0TGlzdChmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGZpZWxkLnNjYWxhciA9PSBTY2FsYXJUeXBlLkJZVEVTKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKHRvVThBcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5saXN0S2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCgoaXRlbSkgPT4gdG9NZXNzYWdlKGZpZWxkLCBpdGVtKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gdG9NZXNzYWdlKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmIChmaWVsZC5maWVsZEtpbmQgPT0gXCJtZXNzYWdlXCIgJiZcbiAgICAgICAgIWZpZWxkLm9uZW9mICYmXG4gICAgICAgIGlzV3JhcHBlckRlc2MoZmllbGQubWVzc2FnZSkpIHtcbiAgICAgICAgLy8gVHlwZXMgZnJvbSBnb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8gYXJlIHVud3JhcHBlZCB3aGVuIHVzZWQgaW5cbiAgICAgICAgLy8gYSBzaW5ndWxhciBmaWVsZCB0aGF0IGlzIG5vdCBwYXJ0IG9mIGEgb25lb2YgZ3JvdXAuXG4gICAgICAgIHJldHVybiBpbml0U2NhbGFyKGZpZWxkLm1lc3NhZ2UuZmllbGRzWzBdLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGZpZWxkLm1lc3NhZ2UudHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuU3RydWN0XCIgJiZcbiAgICAgICAgICAgIGZpZWxkLnBhcmVudC50eXBlTmFtZSAhPT0gXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIikge1xuICAgICAgICAgICAgLy8gZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBpcyByZXByZXNlbnRlZCB3aXRoIEpzb25PYmplY3Qgd2hlbiB1c2VkIGluIGFcbiAgICAgICAgICAgIC8vIGZpZWxkLCBleGNlcHQgd2hlbiB1c2VkIGluIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZS5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTWVzc2FnZSh2YWx1ZSwgZmllbGQubWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGUoZmllbGQubWVzc2FnZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIGNvbnZlcnRzIGFueSBBcnJheUxpa2U8bnVtYmVyPiB0byBVaW50OEFycmF5IGlmIG5lY2Vzc2FyeS5cbmZ1bmN0aW9uIHRvVThBcnIodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBuZXcgVWludDhBcnJheSh2YWx1ZSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRPYmplY3RWYWx1ZXMob2JqLCBmbikge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgICAgICByZXRbZW50cnlbMF1dID0gZm4oZW50cnlbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuY29uc3QgdG9rZW5aZXJvTWVzc2FnZUZpZWxkID0gU3ltYm9sKCk7XG5jb25zdCBtZXNzYWdlUHJvdG90eXBlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIENyZWF0ZSBhIHplcm8gbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlWmVyb01lc3NhZ2UoZGVzYykge1xuICAgIGxldCBtc2c7XG4gICAgaWYgKCFuZWVkc1Byb3RvdHlwZUNoYWluKGRlc2MpKSB7XG4gICAgICAgIG1zZyA9IHtcbiAgICAgICAgICAgICR0eXBlTmFtZTogZGVzYy50eXBlTmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBtZW1iZXIgb2YgZGVzYy5tZW1iZXJzKSB7XG4gICAgICAgICAgICBpZiAobWVtYmVyLmtpbmQgPT0gXCJvbmVvZlwiIHx8IG1lbWJlci5wcmVzZW5jZSA9PSBJTVBMSUNJVCkge1xuICAgICAgICAgICAgICAgIG1zZ1ttZW1iZXIubG9jYWxOYW1lXSA9IGNyZWF0ZVplcm9GaWVsZChtZW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTdXBwb3J0IGRlZmF1bHQgdmFsdWVzIGFuZCB0cmFjayBwcmVzZW5jZSB2aWEgdGhlIHByb3RvdHlwZSBjaGFpblxuICAgICAgICBjb25zdCBjYWNoZWQgPSBtZXNzYWdlUHJvdG90eXBlcy5nZXQoZGVzYyk7XG4gICAgICAgIGxldCBwcm90b3R5cGU7XG4gICAgICAgIGxldCBtZW1iZXJzO1xuICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICAoeyBwcm90b3R5cGUsIG1lbWJlcnMgfSA9IGNhY2hlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm90b3R5cGUgPSB7fTtcbiAgICAgICAgICAgIG1lbWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lbWJlciBvZiBkZXNjLm1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLmtpbmQgPT0gXCJvbmVvZlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBvbmx5IHB1dCBpbW11dGFibGUgdmFsdWVzIG9uIHRoZSBwcm90b3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uZW9mIEFEVHMgYXJlIG11dGFibGVcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtZW1iZXIuZmllbGRLaW5kICE9IFwic2NhbGFyXCIgJiYgbWVtYmVyLmZpZWxkS2luZCAhPSBcImVudW1cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHNjYWxhciBhbmQgZW51bSB2YWx1ZXMgYXJlIGltbXV0YWJsZSwgbWFwLCBsaXN0LCBhbmQgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAvLyBhcmUgbm90XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLnByZXNlbmNlID09IElNUExJQ0lUKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGltcGxpY2l0IHByZXNlbmNlIHRyYWNrcyBmaWVsZCBwcmVzZW5jZSBieSB6ZXJvIHZhbHVlcyAtIGUuZy4gMCwgZmFsc2UsIFwiXCIsIGFyZSB1bnNldCwgMSwgdHJ1ZSwgXCJ4XCIgYXJlIHNldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gbWVzc2FnZSwgbWFwLCBsaXN0IGZpZWxkcyBhcmUgbXV0YWJsZSwgYW5kIGFsc28gaGF2ZSBJTVBMSUNJVCBwcmVzZW5jZS5cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lbWJlcnMuYWRkKG1lbWJlcik7XG4gICAgICAgICAgICAgICAgcHJvdG90eXBlW21lbWJlci5sb2NhbE5hbWVdID0gY3JlYXRlWmVyb0ZpZWxkKG1lbWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlUHJvdG90eXBlcy5zZXQoZGVzYywgeyBwcm90b3R5cGUsIG1lbWJlcnMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbXNnID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgICBtc2cuJHR5cGVOYW1lID0gZGVzYy50eXBlTmFtZTtcbiAgICAgICAgZm9yIChjb25zdCBtZW1iZXIgb2YgZGVzYy5tZW1iZXJzKSB7XG4gICAgICAgICAgICBpZiAobWVtYmVycy5oYXMobWVtYmVyKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lbWJlci5raW5kID09IFwiZmllbGRcIikge1xuICAgICAgICAgICAgICAgIGlmIChtZW1iZXIuZmllbGRLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLmZpZWxkS2luZCA9PSBcInNjYWxhclwiIHx8IG1lbWJlci5maWVsZEtpbmQgPT0gXCJlbnVtXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlci5wcmVzZW5jZSAhPSBJTVBMSUNJVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtc2dbbWVtYmVyLmxvY2FsTmFtZV0gPSBjcmVhdGVaZXJvRmllbGQobWVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbXNnO1xufVxuLyoqXG4gKiBEbyB3ZSBuZWVkIHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gdHJhY2sgZmllbGQgcHJlc2VuY2U/XG4gKi9cbmZ1bmN0aW9uIG5lZWRzUHJvdG90eXBlQ2hhaW4oZGVzYykge1xuICAgIHN3aXRjaCAoZGVzYy5maWxlLmVkaXRpb24pIHtcbiAgICAgICAgY2FzZSBFRElUSU9OX1BST1RPMzpcbiAgICAgICAgICAgIC8vIHByb3RvMyBhbHdheXMgdXNlcyBpbXBsaWNpdCBwcmVzZW5jZSwgd2UgbmV2ZXIgbmVlZCB0aGUgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIEVESVRJT05fUFJPVE8yOlxuICAgICAgICAgICAgLy8gcHJvdG8yIG5ldmVyIHVzZXMgaW1wbGljaXQgcHJlc2VuY2UsIHdlIGFsd2F5cyBuZWVkIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIElmIGEgbWVzc2FnZSB1c2VzIHNjYWxhciBvciBlbnVtIGZpZWxkcyB3aXRoIGV4cGxpY2l0IHByZXNlbmNlLCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0aGUgcHJvdG90eXBlIGNoYWluIHRvIHRyYWNrIHByZXNlbmNlLiBUaGlzIHJ1bGUgZG9lcyBub3QgYXBwbHkgdG8gZmllbGRzXG4gICAgICAgICAgICAvLyBpbiBhIG9uZW9mIGdyb3VwIC0gdGhleSB1c2UgYSBkaWZmZXJlbnQgbWVjaGFuaXNtIHRvIHRyYWNrIHByZXNlbmNlLlxuICAgICAgICAgICAgcmV0dXJuIGRlc2MuZmllbGRzLnNvbWUoKGYpID0+IGYucHJlc2VuY2UgIT0gSU1QTElDSVQgJiYgZi5maWVsZEtpbmQgIT0gXCJtZXNzYWdlXCIgJiYgIWYub25lb2YpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhIHplcm8gdmFsdWUgZm9yIG9uZW9mIGdyb3VwcywgYW5kIGZvciBldmVyeSBmaWVsZCBraW5kIGV4Y2VwdFxuICogbWVzc2FnZXMuIFNjYWxhciBhbmQgZW51bSBmaWVsZHMgY2FuIGhhdmUgZGVmYXVsdCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVplcm9GaWVsZChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5raW5kID09IFwib25lb2ZcIikge1xuICAgICAgICByZXR1cm4geyBjYXNlOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgaWYgKGZpZWxkLmZpZWxkS2luZCA9PSBcImxpc3RcIikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChmaWVsZC5maWVsZEtpbmQgPT0gXCJtYXBcIikge1xuICAgICAgICByZXR1cm4ge307IC8vIE9iamVjdC5jcmVhdGUobnVsbCkgd291bGQgYmUgZGVzaXJhYmxlIGhlcmUsIGJ1dCBpcyB1bnN1cHBvcnRlZCBieSByZWFjdCBodHRwczovL3JlYWN0LmRldi9yZWZlcmVuY2UvcmVhY3QvdXNlLXNlcnZlciNzZXJpYWxpemFibGUtcGFyYW1ldGVycy1hbmQtcmV0dXJuLXZhbHVlc1xuICAgIH1cbiAgICBpZiAoZmllbGQuZmllbGRLaW5kID09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIHJldHVybiB0b2tlblplcm9NZXNzYWdlRmllbGQ7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGZpZWxkLmdldERlZmF1bHRWYWx1ZSgpO1xuICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmllbGQuZmllbGRLaW5kID09IFwic2NhbGFyXCIgJiYgZmllbGQubG9uZ0FzU3RyaW5nXG4gICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZS50b1N0cmluZygpXG4gICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkLmZpZWxkS2luZCA9PSBcInNjYWxhclwiXG4gICAgICAgID8gc2NhbGFyWmVyb1ZhbHVlKGZpZWxkLnNjYWxhciwgZmllbGQubG9uZ0FzU3RyaW5nKVxuICAgICAgICA6IGZpZWxkLmVudW0udmFsdWVzWzBdLm51bWJlcjtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuY29uc3QgZXJyb3JOYW1lcyA9IFtcbiAgICBcIkZpZWxkVmFsdWVJbnZhbGlkRXJyb3JcIixcbiAgICBcIkZpZWxkTGlzdFJhbmdlRXJyb3JcIixcbiAgICBcIkZvcmVpZ25GaWVsZEVycm9yXCIsXG5dO1xuZXhwb3J0IGNsYXNzIEZpZWxkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoZmllbGRPck9uZW9mLCBtZXNzYWdlLCBuYW1lID0gXCJGaWVsZFZhbHVlSW52YWxpZEVycm9yXCIpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZmllbGQgPSAoKSA9PiBmaWVsZE9yT25lb2Y7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRmllbGRFcnJvcihhcmcpIHtcbiAgICByZXR1cm4gKGFyZyBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVycm9yTmFtZXMuaW5jbHVkZXMoYXJnLm5hbWUpICYmXG4gICAgICAgIFwiZmllbGRcIiBpbiBhcmcgJiZcbiAgICAgICAgdHlwZW9mIGFyZy5maWVsZCA9PSBcImZ1bmN0aW9uXCIpO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmL3RleHQtZW5jb2RpbmdcIik7XG4vKipcbiAqIFByb3RvYnVmLUVTIHJlcXVpcmVzIHRoZSBUZXh0IEVuY29kaW5nIEFQSSB0byBjb252ZXJ0IFVURi04IGZyb20gYW5kIHRvXG4gKiBiaW5hcnkuIFRoaXMgV0hBVFdHIEFQSSBpcyB3aWRlbHkgYXZhaWxhYmxlLCBidXQgaXQgaXMgbm90IHBhcnQgb2YgdGhlXG4gKiBFQ01BU2NyaXB0IHN0YW5kYXJkLiBPbiBydW50aW1lcyB3aGVyZSBpdCBpcyBub3QgYXZhaWxhYmxlLCB1c2UgdGhpc1xuICogZnVuY3Rpb24gdG8gcHJvdmlkZSB5b3VyIG93biBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIFRleHQgRW5jb2RpbmcgQVBJIGRvZXMgbm90IHByb3ZpZGUgYSB3YXkgdG8gdmFsaWRhdGUgVVRGLTguXG4gKiBPdXIgaW1wbGVtZW50YXRpb24gZmFsbHMgYmFjayB0byB1c2UgZW5jb2RlVVJJQ29tcG9uZW50KCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVUZXh0RW5jb2RpbmcodGV4dEVuY29kaW5nKSB7XG4gICAgZ2xvYmFsVGhpc1tzeW1ib2xdID0gdGV4dEVuY29kaW5nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRFbmNvZGluZygpIHtcbiAgICBpZiAoZ2xvYmFsVGhpc1tzeW1ib2xdID09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB0ZSA9IG5ldyBnbG9iYWxUaGlzLlRleHRFbmNvZGVyKCk7XG4gICAgICAgIGNvbnN0IHRkID0gbmV3IGdsb2JhbFRoaXMuVGV4dERlY29kZXIoKTtcbiAgICAgICAgZ2xvYmFsVGhpc1tzeW1ib2xdID0ge1xuICAgICAgICAgICAgZW5jb2RlVXRmOCh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlLmVuY29kZSh0ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvZGVVdGY4KGJ5dGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRkLmRlY29kZShieXRlcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hlY2tVdGY4KHRleHQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFRoaXNbc3ltYm9sXTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgdmFyaW50MzJyZWFkLCB2YXJpbnQzMndyaXRlLCB2YXJpbnQ2NHJlYWQsIHZhcmludDY0d3JpdGUsIH0gZnJvbSBcIi4vdmFyaW50LmpzXCI7XG5pbXBvcnQgeyBwcm90b0ludDY0IH0gZnJvbSBcIi4uL3Byb3RvLWludDY0LmpzXCI7XG5pbXBvcnQgeyBnZXRUZXh0RW5jb2RpbmcgfSBmcm9tIFwiLi90ZXh0LWVuY29kaW5nLmpzXCI7XG4vKipcbiAqIFByb3RvYnVmIGJpbmFyeSBmb3JtYXQgd2lyZSB0eXBlcy5cbiAqXG4gKiBBIHdpcmUgdHlwZSBwcm92aWRlcyBqdXN0IGVub3VnaCBpbmZvcm1hdGlvbiB0byBmaW5kIHRoZSBsZW5ndGggb2YgdGhlXG4gKiBmb2xsb3dpbmcgdmFsdWUuXG4gKlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9lbmNvZGluZyNzdHJ1Y3R1cmVcbiAqL1xuZXhwb3J0IHZhciBXaXJlVHlwZTtcbihmdW5jdGlvbiAoV2lyZVR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBpbnQzMiwgaW50NjQsIHVpbnQzMiwgdWludDY0LCBzaW50MzIsIHNpbnQ2NCwgYm9vbCwgZW51bVxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiVmFyaW50XCJdID0gMF0gPSBcIlZhcmludFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIGZpeGVkNjQsIHNmaXhlZDY0LCBkb3VibGUuXG4gICAgICogQWx3YXlzIDggYnl0ZXMgd2l0aCBsaXR0bGUtZW5kaWFuIGJ5dGUgb3JkZXIuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJCaXQ2NFwiXSA9IDFdID0gXCJCaXQ2NFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIHN0cmluZywgYnl0ZXMsIGVtYmVkZGVkIG1lc3NhZ2VzLCBwYWNrZWQgcmVwZWF0ZWQgZmllbGRzXG4gICAgICpcbiAgICAgKiBPbmx5IHJlcGVhdGVkIG51bWVyaWMgdHlwZXMgKHR5cGVzIHdoaWNoIHVzZSB0aGUgdmFyaW50LCAzMi1iaXQsXG4gICAgICogb3IgNjQtYml0IHdpcmUgdHlwZXMpIGNhbiBiZSBwYWNrZWQuIEluIHByb3RvMywgc3VjaCBmaWVsZHMgYXJlXG4gICAgICogcGFja2VkIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJMZW5ndGhEZWxpbWl0ZWRcIl0gPSAyXSA9IFwiTGVuZ3RoRGVsaW1pdGVkXCI7XG4gICAgLyoqXG4gICAgICogU3RhcnQgb2YgYSB0YWctZGVsaW1pdGVkIGFnZ3JlZ2F0ZSwgc3VjaCBhcyBhIHByb3RvMiBncm91cCwgb3IgYSBtZXNzYWdlXG4gICAgICogaW4gZWRpdGlvbnMgd2l0aCBtZXNzYWdlX2VuY29kaW5nID0gREVMSU1JVEVELlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiU3RhcnRHcm91cFwiXSA9IDNdID0gXCJTdGFydEdyb3VwXCI7XG4gICAgLyoqXG4gICAgICogRW5kIG9mIGEgdGFnLWRlbGltaXRlZCBhZ2dyZWdhdGUuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJFbmRHcm91cFwiXSA9IDRdID0gXCJFbmRHcm91cFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIGZpeGVkMzIsIHNmaXhlZDMyLCBmbG9hdC5cbiAgICAgKiBBbHdheXMgNCBieXRlcyB3aXRoIGxpdHRsZS1lbmRpYW4gYnl0ZSBvcmRlci5cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIkJpdDMyXCJdID0gNV0gPSBcIkJpdDMyXCI7XG59KShXaXJlVHlwZSB8fCAoV2lyZVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBNYXhpbXVtIHZhbHVlIGZvciBhIDMyLWJpdCBmbG9hdGluZyBwb2ludCB2YWx1ZSAoUHJvdG9idWYgRkxPQVQpLlxuICovXG5leHBvcnQgY29uc3QgRkxPQVQzMl9NQVggPSAzLjQwMjgyMzQ2NjM4NTI4ODZlMzg7XG4vKipcbiAqIE1pbmltdW0gdmFsdWUgZm9yIGEgMzItYml0IGZsb2F0aW5nIHBvaW50IHZhbHVlIChQcm90b2J1ZiBGTE9BVCkuXG4gKi9cbmV4cG9ydCBjb25zdCBGTE9BVDMyX01JTiA9IC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzg7XG4vKipcbiAqIE1heGltdW0gdmFsdWUgZm9yIGFuIHVuc2lnbmVkIDMyLWJpdCBpbnRlZ2VyIChQcm90b2J1ZiBVSU5UMzIsIEZJWEVEMzIpLlxuICovXG5leHBvcnQgY29uc3QgVUlOVDMyX01BWCA9IDB4ZmZmZmZmZmY7XG4vKipcbiAqIE1heGltdW0gdmFsdWUgZm9yIGEgc2lnbmVkIDMyLWJpdCBpbnRlZ2VyIChQcm90b2J1ZiBJTlQzMiwgU0ZJWEVEMzIsIFNJTlQzMikuXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQzMl9NQVggPSAweDdmZmZmZmZmO1xuLyoqXG4gKiBNaW5pbXVtIHZhbHVlIGZvciBhIHNpZ25lZCAzMi1iaXQgaW50ZWdlciAoUHJvdG9idWYgSU5UMzIsIFNGSVhFRDMyLCBTSU5UMzIpLlxuICovXG5leHBvcnQgY29uc3QgSU5UMzJfTUlOID0gLTB4ODAwMDAwMDA7XG5leHBvcnQgY2xhc3MgQmluYXJ5V3JpdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbmNvZGVVdGY4ID0gZ2V0VGV4dEVuY29kaW5nKCkuZW5jb2RlVXRmOCkge1xuICAgICAgICB0aGlzLmVuY29kZVV0ZjggPSBlbmNvZGVVdGY4O1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJldmlvdXMgZm9yayBzdGF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgIHRoaXMuYnVmID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgYnl0ZXMgd3JpdHRlbiBhbmQgcmVzZXQgdGhpcyB3cml0ZXIuXG4gICAgICovXG4gICAgZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5idWYubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rcy5wdXNoKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmKSk7IC8vIGZsdXNoIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHRoaXMuYnVmID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVua3MubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBsZW4gKz0gdGhpcy5jaHVua3NbaV0ubGVuZ3RoO1xuICAgICAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNodW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnl0ZXMuc2V0KHRoaXMuY2h1bmtzW2ldLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHRoaXMuY2h1bmtzW2ldLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGEgbmV3IGZvcmsgZm9yIGxlbmd0aC1kZWxpbWl0ZWQgZGF0YSBsaWtlIGEgbWVzc2FnZVxuICAgICAqIG9yIGEgcGFja2VkIHJlcGVhdGVkIGZpZWxkLlxuICAgICAqXG4gICAgICogTXVzdCBiZSBqb2luZWQgbGF0ZXIgd2l0aCBgam9pbigpYC5cbiAgICAgKi9cbiAgICBmb3JrKCkge1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2goeyBjaHVua3M6IHRoaXMuY2h1bmtzLCBidWY6IHRoaXMuYnVmIH0pO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSm9pbiB0aGUgbGFzdCBmb3JrLiBXcml0ZSBpdHMgbGVuZ3RoIGFuZCBieXRlcywgdGhlblxuICAgICAqIHJldHVybiB0byB0aGUgcHJldmlvdXMgc3RhdGUuXG4gICAgICovXG4gICAgam9pbigpIHtcbiAgICAgICAgLy8gZ2V0IGNodW5rIG9mIGZvcmtcbiAgICAgICAgbGV0IGNodW5rID0gdGhpcy5maW5pc2goKTtcbiAgICAgICAgLy8gcmVzdG9yZSBwcmV2aW91cyBzdGF0ZVxuICAgICAgICBsZXQgcHJldiA9IHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghcHJldilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgc3RhdGUsIGZvcmsgc3RhY2sgZW1wdHlcIik7XG4gICAgICAgIHRoaXMuY2h1bmtzID0gcHJldi5jaHVua3M7XG4gICAgICAgIHRoaXMuYnVmID0gcHJldi5idWY7XG4gICAgICAgIC8vIHdyaXRlIGxlbmd0aCBvZiBjaHVuayBhcyB2YXJpbnRcbiAgICAgICAgdGhpcy51aW50MzIoY2h1bmsuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHRhZyAoZmllbGQgbnVtYmVyIGFuZCB3aXJlIHR5cGUpLlxuICAgICAqXG4gICAgICogRXF1aXZhbGVudCB0byBgdWludDMyKCAoZmllbGRObyA8PCAzIHwgdHlwZSkgPj4+IDAgKWAuXG4gICAgICpcbiAgICAgKiBHZW5lcmF0ZWQgY29kZSBzaG91bGQgY29tcHV0ZSB0aGUgdGFnIGFoZWFkIG9mIHRpbWUgYW5kIGNhbGwgYHVpbnQzMigpYC5cbiAgICAgKi9cbiAgICB0YWcoZmllbGRObywgdHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51aW50MzIoKChmaWVsZE5vIDw8IDMpIHwgdHlwZSkgPj4+IDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGNodW5rIG9mIHJhdyBieXRlcy5cbiAgICAgKi9cbiAgICByYXcoY2h1bmspIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaHVua3MucHVzaChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZikpO1xuICAgICAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHVpbnQzMmAgdmFsdWUsIGFuIHVuc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgdWludDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydFVJbnQzMih2YWx1ZSk7XG4gICAgICAgIC8vIHdyaXRlIHZhbHVlIGFzIHZhcmludCAzMiwgaW5saW5lZCBmb3Igc3BlZWRcbiAgICAgICAgd2hpbGUgKHZhbHVlID4gMHg3Zikge1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgodmFsdWUgJiAweDdmKSB8IDB4ODApO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+Pj4gNztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGludDMyYCB2YWx1ZSwgYSBzaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRJbnQzMih2YWx1ZSk7XG4gICAgICAgIHZhcmludDMyd3JpdGUodmFsdWUsIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGJvb2xgIHZhbHVlLCBhIHZhcmlhbnQuXG4gICAgICovXG4gICAgYm9vbCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmJ1Zi5wdXNoKHZhbHVlID8gMSA6IDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgYnl0ZXNgIHZhbHVlLCBsZW5ndGgtZGVsaW1pdGVkIGFyYml0cmFyeSBkYXRhLlxuICAgICAqL1xuICAgIGJ5dGVzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudWludDMyKHZhbHVlLmJ5dGVMZW5ndGgpOyAvLyB3cml0ZSBsZW5ndGggb2YgY2h1bmsgYXMgdmFyaW50XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHN0cmluZ2AgdmFsdWUsIGxlbmd0aC1kZWxpbWl0ZWQgZGF0YSBjb252ZXJ0ZWQgdG8gVVRGLTggdGV4dC5cbiAgICAgKi9cbiAgICBzdHJpbmcodmFsdWUpIHtcbiAgICAgICAgbGV0IGNodW5rID0gdGhpcy5lbmNvZGVVdGY4KHZhbHVlKTtcbiAgICAgICAgdGhpcy51aW50MzIoY2h1bmsuYnl0ZUxlbmd0aCk7IC8vIHdyaXRlIGxlbmd0aCBvZiBjaHVuayBhcyB2YXJpbnRcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZmxvYXRgIHZhbHVlLCAzMi1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZsb2F0KHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEZsb2F0MzIodmFsdWUpO1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcikuc2V0RmxvYXQzMigwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGRvdWJsZWAgdmFsdWUsIGEgNjQtYml0IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAgKi9cbiAgICBkb3VibGUodmFsdWUpIHtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldEZsb2F0NjQoMCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBmaXhlZDMyYCB2YWx1ZSwgYW4gdW5zaWduZWQsIGZpeGVkLWxlbmd0aCAzMi1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBmaXhlZDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydFVJbnQzMih2YWx1ZSk7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRVaW50MzIoMCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBzZml4ZWQzMmAgdmFsdWUsIGEgc2lnbmVkLCBmaXhlZC1sZW5ndGggMzItYml0IGludGVnZXIuXG4gICAgICovXG4gICAgc2ZpeGVkMzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0SW50MzIodmFsdWUpO1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcikuc2V0SW50MzIoMCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBzaW50MzJgIHZhbHVlLCBhIHNpZ25lZCwgemlnemFnLWVuY29kZWQgMzItYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBzaW50MzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0SW50MzIodmFsdWUpO1xuICAgICAgICAvLyB6aWd6YWcgZW5jb2RlXG4gICAgICAgIHZhbHVlID0gKCh2YWx1ZSA8PCAxKSBeICh2YWx1ZSA+PiAzMSkpID4+PiAwO1xuICAgICAgICB2YXJpbnQzMndyaXRlKHZhbHVlLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBmaXhlZDY0YCB2YWx1ZSwgYSBzaWduZWQsIGZpeGVkLWxlbmd0aCA2NC1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBzZml4ZWQ2NCh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg4KSwgdmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLCB0YyA9IHByb3RvSW50NjQuZW5jKHZhbHVlKTtcbiAgICAgICAgdmlldy5zZXRJbnQzMigwLCB0Yy5sbywgdHJ1ZSk7XG4gICAgICAgIHZpZXcuc2V0SW50MzIoNCwgdGMuaGksIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBmaXhlZDY0YCB2YWx1ZSwgYW4gdW5zaWduZWQsIGZpeGVkLWxlbmd0aCA2NCBiaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBmaXhlZDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpLCB2aWV3ID0gbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlciksIHRjID0gcHJvdG9JbnQ2NC51RW5jKHZhbHVlKTtcbiAgICAgICAgdmlldy5zZXRJbnQzMigwLCB0Yy5sbywgdHJ1ZSk7XG4gICAgICAgIHZpZXcuc2V0SW50MzIoNCwgdGMuaGksIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBpbnQ2NGAgdmFsdWUsIGEgc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50NjQodmFsdWUpIHtcbiAgICAgICAgbGV0IHRjID0gcHJvdG9JbnQ2NC5lbmModmFsdWUpO1xuICAgICAgICB2YXJpbnQ2NHdyaXRlKHRjLmxvLCB0Yy5oaSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc2ludDY0YCB2YWx1ZSwgYSBzaWduZWQsIHppZy16YWctZW5jb2RlZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB0YyA9IHByb3RvSW50NjQuZW5jKHZhbHVlKSwgXG4gICAgICAgIC8vIHppZ3phZyBlbmNvZGVcbiAgICAgICAgc2lnbiA9IHRjLmhpID4+IDMxLCBsbyA9ICh0Yy5sbyA8PCAxKSBeIHNpZ24sIGhpID0gKCh0Yy5oaSA8PCAxKSB8ICh0Yy5sbyA+Pj4gMzEpKSBeIHNpZ247XG4gICAgICAgIHZhcmludDY0d3JpdGUobG8sIGhpLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGB1aW50NjRgIHZhbHVlLCBhbiB1bnNpZ25lZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHVpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB0YyA9IHByb3RvSW50NjQudUVuYyh2YWx1ZSk7XG4gICAgICAgIHZhcmludDY0d3JpdGUodGMubG8sIHRjLmhpLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCaW5hcnlSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGJ1ZiwgZGVjb2RlVXRmOCA9IGdldFRleHRFbmNvZGluZygpLmRlY29kZVV0ZjgpIHtcbiAgICAgICAgdGhpcy5kZWNvZGVVdGY4ID0gZGVjb2RlVXRmODtcbiAgICAgICAgdGhpcy52YXJpbnQ2NCA9IHZhcmludDY0cmVhZDsgLy8gZGlydHkgY2FzdCBmb3IgYHRoaXNgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkIGEgYHVpbnQzMmAgZmllbGQsIGFuIHVuc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVpbnQzMiA9IHZhcmludDMycmVhZDtcbiAgICAgICAgdGhpcy5idWYgPSBidWY7XG4gICAgICAgIHRoaXMubGVuID0gYnVmLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgYSB0YWcgLSBmaWVsZCBudW1iZXIgYW5kIHdpcmUgdHlwZS5cbiAgICAgKi9cbiAgICB0YWcoKSB7XG4gICAgICAgIGxldCB0YWcgPSB0aGlzLnVpbnQzMigpLCBmaWVsZE5vID0gdGFnID4+PiAzLCB3aXJlVHlwZSA9IHRhZyAmIDc7XG4gICAgICAgIGlmIChmaWVsZE5vIDw9IDAgfHwgd2lyZVR5cGUgPCAwIHx8IHdpcmVUeXBlID4gNSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgdGFnOiBmaWVsZCBubyBcIiArIGZpZWxkTm8gKyBcIiB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSk7XG4gICAgICAgIHJldHVybiBbZmllbGRObywgd2lyZVR5cGVdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTa2lwIG9uZSBlbGVtZW50IGFuZCByZXR1cm4gdGhlIHNraXBwZWQgZGF0YS5cbiAgICAgKlxuICAgICAqIFdoZW4gc2tpcHBpbmcgU3RhcnRHcm91cCwgcHJvdmlkZSB0aGUgdGFncyBmaWVsZCBudW1iZXIgdG8gY2hlY2sgZm9yXG4gICAgICogbWF0Y2hpbmcgZmllbGQgbnVtYmVyIGluIHRoZSBFbmRHcm91cCB0YWcuXG4gICAgICovXG4gICAgc2tpcCh3aXJlVHlwZSwgZmllbGRObykge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgc3dpdGNoICh3aXJlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5WYXJpbnQ6XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuYnVmW3RoaXMucG9zKytdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIFRTNzAyOTogRmFsbHRocm91Z2ggY2FzZSBpbiBzd2l0Y2ggLS0gaWdub3JlIGluc3RlYWQgb2YgZXhwZWN0LWVycm9yIGZvciBjb21waWxlciBzZXR0aW5ncyB3aXRob3V0IG5vRmFsbHRocm91Z2hDYXNlc0luU3dpdGNoOiB0cnVlXG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLkJpdDY0OlxuICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLkJpdDMyOlxuICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZDpcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gdGhpcy51aW50MzIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSBsZW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLlN0YXJ0R3JvdXA6XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbZm4sIHd0XSA9IHRoaXMudGFnKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3dCA9PT0gV2lyZVR5cGUuRW5kR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZE5vICE9PSB1bmRlZmluZWQgJiYgZm4gIT09IGZpZWxkTm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGVuZCBncm91cCB0YWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraXAod3QsIGZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbnQgc2tpcCB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnN1YmFycmF5KHN0YXJ0LCB0aGlzLnBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRocm93cyBlcnJvciBpZiBwb3NpdGlvbiBpbiBieXRlIGFycmF5IGlzIG91dCBvZiByYW5nZS5cbiAgICAgKi9cbiAgICBhc3NlcnRCb3VuZHMoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+IHRoaXMubGVuKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJwcmVtYXR1cmUgRU9GXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGludDMyYCBmaWVsZCwgYSBzaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWludDMyKCkgfCAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHNpbnQzMmAgZmllbGQsIGEgc2lnbmVkLCB6aWd6YWctZW5jb2RlZCAzMi1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQzMigpIHtcbiAgICAgICAgbGV0IHp6ZSA9IHRoaXMudWludDMyKCk7XG4gICAgICAgIC8vIGRlY29kZSB6aWd6YWdcbiAgICAgICAgcmV0dXJuICh6emUgPj4+IDEpIF4gLSh6emUgJiAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBpbnQ2NGAgZmllbGQsIGEgc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50NjQoKSB7XG4gICAgICAgIHJldHVybiBwcm90b0ludDY0LmRlYyguLi50aGlzLnZhcmludDY0KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHVpbnQ2NGAgZmllbGQsIGFuIHVuc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgdWludDY0KCkge1xuICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC51RGVjKC4uLnRoaXMudmFyaW50NjQoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgc2ludDY0YCBmaWVsZCwgYSBzaWduZWQsIHppZy16YWctZW5jb2RlZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQ2NCgpIHtcbiAgICAgICAgbGV0IFtsbywgaGldID0gdGhpcy52YXJpbnQ2NCgpO1xuICAgICAgICAvLyBkZWNvZGUgemlnIHphZ1xuICAgICAgICBsZXQgcyA9IC0obG8gJiAxKTtcbiAgICAgICAgbG8gPSAoKGxvID4+PiAxKSB8ICgoaGkgJiAxKSA8PCAzMSkpIF4gcztcbiAgICAgICAgaGkgPSAoaGkgPj4+IDEpIF4gcztcbiAgICAgICAgcmV0dXJuIHByb3RvSW50NjQuZGVjKGxvLCBoaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgYm9vbGAgZmllbGQsIGEgdmFyaWFudC5cbiAgICAgKi9cbiAgICBib29sKCkge1xuICAgICAgICBsZXQgW2xvLCBoaV0gPSB0aGlzLnZhcmludDY0KCk7XG4gICAgICAgIHJldHVybiBsbyAhPT0gMCB8fCBoaSAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBmaXhlZDMyYCBmaWVsZCwgYW4gdW5zaWduZWQsIGZpeGVkLWxlbmd0aCAzMi1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBmaXhlZDMyKCkge1xuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MzIoKHRoaXMucG9zICs9IDQpIC0gNCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgc2ZpeGVkMzJgIGZpZWxkLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDMyKCkge1xuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBmaXhlZDY0YCBmaWVsZCwgYW4gdW5zaWduZWQsIGZpeGVkLWxlbmd0aCA2NCBiaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBmaXhlZDY0KCkge1xuICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC51RGVjKHRoaXMuc2ZpeGVkMzIoKSwgdGhpcy5zZml4ZWQzMigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBmaXhlZDY0YCBmaWVsZCwgYSBzaWduZWQsIGZpeGVkLWxlbmd0aCA2NC1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBzZml4ZWQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvSW50NjQuZGVjKHRoaXMuc2ZpeGVkMzIoKSwgdGhpcy5zZml4ZWQzMigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBmbG9hdGAgZmllbGQsIDMyLWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZmxvYXQoKSB7XG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0MzIoKHRoaXMucG9zICs9IDQpIC0gNCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZG91YmxlYCBmaWVsZCwgYSA2NC1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGRvdWJsZSgpIHtcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IG5vXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQ2NCgodGhpcy5wb3MgKz0gOCkgLSA4LCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBieXRlc2AgZmllbGQsIGxlbmd0aC1kZWxpbWl0ZWQgYXJiaXRyYXJ5IGRhdGEuXG4gICAgICovXG4gICAgYnl0ZXMoKSB7XG4gICAgICAgIGxldCBsZW4gPSB0aGlzLnVpbnQzMigpLCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW47XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHN0cmluZ2AgZmllbGQsIGxlbmd0aC1kZWxpbWl0ZWQgZGF0YSBjb252ZXJ0ZWQgdG8gVVRGLTggdGV4dC5cbiAgICAgKi9cbiAgICBzdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZVV0ZjgodGhpcy5ieXRlcygpKTtcbiAgICB9XG59XG4vKipcbiAqIEFzc2VydCBhIHZhbGlkIHNpZ25lZCBwcm90b2J1ZiAzMi1iaXQgaW50ZWdlciBhcyBhIG51bWJlciBvciBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEludDMyKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXJnID0gTnVtYmVyKGFyZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgIT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGludDMyOiBcIiArIHR5cGVvZiBhcmcpO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoYXJnKSB8fFxuICAgICAgICBhcmcgPiBJTlQzMl9NQVggfHxcbiAgICAgICAgYXJnIDwgSU5UMzJfTUlOKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGludDMyOiBcIiArIGFyZyk7XG59XG4vKipcbiAqIEFzc2VydCBhIHZhbGlkIHVuc2lnbmVkIHByb3RvYnVmIDMyLWJpdCBpbnRlZ2VyIGFzIGEgbnVtYmVyIG9yIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VUludDMyKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXJnID0gTnVtYmVyKGFyZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgIT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHVpbnQzMjogXCIgKyB0eXBlb2YgYXJnKTtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGFyZykgfHxcbiAgICAgICAgYXJnID4gVUlOVDMyX01BWCB8fFxuICAgICAgICBhcmcgPCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHVpbnQzMjogXCIgKyBhcmcpO1xufVxuLyoqXG4gKiBBc3NlcnQgYSB2YWxpZCBwcm90b2J1ZiBmbG9hdCB2YWx1ZSBhcyBhIG51bWJlciBvciBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEZsb2F0MzIoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBvID0gYXJnO1xuICAgICAgICBhcmcgPSBOdW1iZXIoYXJnKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihhcmcpICYmIG8gIT09IFwiTmFOXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmxvYXQzMjogXCIgKyBvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYXJnICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmbG9hdDMyOiBcIiArIHR5cGVvZiBhcmcpO1xuICAgIH1cbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGFyZykgJiZcbiAgICAgICAgKGFyZyA+IEZMT0FUMzJfTUFYIHx8IGFyZyA8IEZMT0FUMzJfTUlOKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmbG9hdDMyOiBcIiArIGFyZyk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4uL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBpc01lc3NhZ2UgfSBmcm9tIFwiLi4vaXMtbWVzc2FnZS5qc1wiO1xuaW1wb3J0IHsgRmllbGRFcnJvciB9IGZyb20gXCIuL2Vycm9yLmpzXCI7XG5pbXBvcnQgeyBpc1JlZmxlY3RMaXN0LCBpc1JlZmxlY3RNYXAsIGlzUmVmbGVjdE1lc3NhZ2UgfSBmcm9tIFwiLi9ndWFyZC5qc1wiO1xuaW1wb3J0IHsgRkxPQVQzMl9NQVgsIEZMT0FUMzJfTUlOLCBJTlQzMl9NQVgsIElOVDMyX01JTiwgVUlOVDMyX01BWCwgfSBmcm9tIFwiLi4vd2lyZS9iaW5hcnktZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IGdldFRleHRFbmNvZGluZyB9IGZyb20gXCIuLi93aXJlL3RleHQtZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IHByb3RvSW50NjQgfSBmcm9tIFwiLi4vcHJvdG8taW50NjQuanNcIjtcbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gZmllbGQgdmFsdWUgaXMgdmFsaWQgZm9yIHRoZSByZWZsZWN0IEFQSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSB7XG4gICAgY29uc3QgY2hlY2sgPSBmaWVsZC5maWVsZEtpbmQgPT0gXCJsaXN0XCJcbiAgICAgICAgPyBpc1JlZmxlY3RMaXN0KHZhbHVlLCBmaWVsZClcbiAgICAgICAgOiBmaWVsZC5maWVsZEtpbmQgPT0gXCJtYXBcIlxuICAgICAgICAgICAgPyBpc1JlZmxlY3RNYXAodmFsdWUsIGZpZWxkKVxuICAgICAgICAgICAgOiBjaGVja1Npbmd1bGFyKGZpZWxkLCB2YWx1ZSk7XG4gICAgaWYgKGNoZWNrID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCByZWFzb247XG4gICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIHJlYXNvbiA9IGBleHBlY3RlZCAke2Zvcm1hdFJlZmxlY3RMaXN0KGZpZWxkKX0sIGdvdCAke2Zvcm1hdFZhbCh2YWx1ZSl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICByZWFzb24gPSBgZXhwZWN0ZWQgJHtmb3JtYXRSZWZsZWN0TWFwKGZpZWxkKX0sIGdvdCAke2Zvcm1hdFZhbCh2YWx1ZSl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICByZWFzb24gPSByZWFzb25TaW5ndWxhcihmaWVsZCwgdmFsdWUsIGNoZWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEZpZWxkRXJyb3IoZmllbGQsIHJlYXNvbik7XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIGxpc3QgaXRlbSBpcyB2YWxpZCBmb3IgdGhlIHJlZmxlY3QgQVBJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tMaXN0SXRlbShmaWVsZCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgY29uc3QgY2hlY2sgPSBjaGVja1Npbmd1bGFyKGZpZWxkLCB2YWx1ZSk7XG4gICAgaWYgKGNoZWNrICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRFcnJvcihmaWVsZCwgYGxpc3QgaXRlbSAjJHtpbmRleCArIDF9OiAke3JlYXNvblNpbmd1bGFyKGZpZWxkLCB2YWx1ZSwgY2hlY2spfWApO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBtYXAga2V5IGFuZCB2YWx1ZSBhcmUgdmFsaWQgZm9yIHRoZSByZWZsZWN0IEFQSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTWFwRW50cnkoZmllbGQsIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBjaGVja0tleSA9IGNoZWNrU2NhbGFyVmFsdWUoa2V5LCBmaWVsZC5tYXBLZXkpO1xuICAgIGlmIChjaGVja0tleSAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkRXJyb3IoZmllbGQsIGBpbnZhbGlkIG1hcCBrZXk6ICR7cmVhc29uU2luZ3VsYXIoeyBzY2FsYXI6IGZpZWxkLm1hcEtleSB9LCBrZXksIGNoZWNrS2V5KX1gKTtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tWYWwgPSBjaGVja1Npbmd1bGFyKGZpZWxkLCB2YWx1ZSk7XG4gICAgaWYgKGNoZWNrVmFsICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRFcnJvcihmaWVsZCwgYG1hcCBlbnRyeSAke2Zvcm1hdFZhbChrZXkpfTogJHtyZWFzb25TaW5ndWxhcihmaWVsZCwgdmFsdWUsIGNoZWNrVmFsKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGNoZWNrU2luZ3VsYXIoZmllbGQsIHZhbHVlKSB7XG4gICAgaWYgKGZpZWxkLnNjYWxhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjaGVja1NjYWxhclZhbHVlKHZhbHVlLCBmaWVsZC5zY2FsYXIpO1xuICAgIH1cbiAgICBpZiAoZmllbGQuZW51bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChmaWVsZC5lbnVtLm9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGQuZW51bS52YWx1ZXMuc29tZSgodikgPT4gdi5udW1iZXIgPT09IHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzUmVmbGVjdE1lc3NhZ2UodmFsdWUsIGZpZWxkLm1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gY2hlY2tTY2FsYXJWYWx1ZSh2YWx1ZSwgc2NhbGFyKSB7XG4gICAgc3dpdGNoIChzY2FsYXIpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTih2YWx1ZSkgfHwgIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IEZMT0FUMzJfTUFYIHx8IHZhbHVlIDwgRkxPQVQzMl9NSU4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWUudG9GaXhlZCgpfSBvdXQgb2YgcmFuZ2VgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgLy8gc2lnbmVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IElOVDMyX01BWCB8fCB2YWx1ZSA8IElOVDMyX01JTikge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZS50b0ZpeGVkKCl9IG91dCBvZiByYW5nZWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAvLyB1bnNpZ25lZFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBVSU5UMzJfTUFYIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZS50b0ZpeGVkKCl9IG91dCBvZiByYW5nZWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldFRleHRFbmNvZGluZygpLmNoZWNrVXRmOCh2YWx1ZSkgfHwgXCJpbnZhbGlkIFVURjhcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAvLyBzaWduZWRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJiaWdpbnRcIiB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmIHZhbHVlLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdG9JbnQ2NC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWV9IG91dCBvZiByYW5nZWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgIC8vIHVuc2lnbmVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwiYmlnaW50XCIgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3RvSW50NjQudVBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZX0gb3V0IG9mIHJhbmdlYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhc29uU2luZ3VsYXIoZmllbGQsIHZhbCwgZGV0YWlscykge1xuICAgIGRldGFpbHMgPVxuICAgICAgICB0eXBlb2YgZGV0YWlscyA9PSBcInN0cmluZ1wiID8gYDogJHtkZXRhaWxzfWAgOiBgLCBnb3QgJHtmb3JtYXRWYWwodmFsKX1gO1xuICAgIGlmIChmaWVsZC5zY2FsYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYGV4cGVjdGVkICR7c2NhbGFyVHlwZURlc2NyaXB0aW9uKGZpZWxkLnNjYWxhcil9YCArIGRldGFpbHM7XG4gICAgfVxuICAgIGlmIChmaWVsZC5lbnVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGBleHBlY3RlZCAke2ZpZWxkLmVudW0udG9TdHJpbmcoKX1gICsgZGV0YWlscztcbiAgICB9XG4gICAgcmV0dXJuIGBleHBlY3RlZCAke2Zvcm1hdFJlZmxlY3RNZXNzYWdlKGZpZWxkLm1lc3NhZ2UpfWAgKyBkZXRhaWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFZhbCh2YWwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVaW50OEFycmF5KCR7dmFsLmxlbmd0aH0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEFycmF5KCR7dmFsLmxlbmd0aH0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JlZmxlY3RMaXN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0UmVmbGVjdExpc3QodmFsLmZpZWxkKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUmVmbGVjdE1hcCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFJlZmxlY3RNYXAodmFsLmZpZWxkKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUmVmbGVjdE1lc3NhZ2UodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRSZWZsZWN0TWVzc2FnZSh2YWwuZGVzYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNNZXNzYWdlKHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYG1lc3NhZ2UgJHt2YWwuJHR5cGVOYW1lfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbC5sZW5ndGggPiAzMCA/IFwic3RyaW5nXCIgOiBgXCIke3ZhbC5zcGxpdCgnXCInKS5qb2luKCdcXFxcXCInKX1cImA7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWwpICsgXCJuXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBcInN5bWJvbFwiIHwgXCJ1bmRlZmluZWRcIiB8IFwib2JqZWN0XCIgfCBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFJlZmxlY3RNZXNzYWdlKGRlc2MpIHtcbiAgICByZXR1cm4gYFJlZmxlY3RNZXNzYWdlICgke2Rlc2MudHlwZU5hbWV9KWA7XG59XG5mdW5jdGlvbiBmb3JtYXRSZWZsZWN0TGlzdChmaWVsZCkge1xuICAgIHN3aXRjaCAoZmllbGQubGlzdEtpbmQpIHtcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJldHVybiBgUmVmbGVjdExpc3QgKCR7ZmllbGQubWVzc2FnZS50b1N0cmluZygpfSlgO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgcmV0dXJuIGBSZWZsZWN0TGlzdCAoJHtmaWVsZC5lbnVtLnRvU3RyaW5nKCl9KWA7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIHJldHVybiBgUmVmbGVjdExpc3QgKCR7U2NhbGFyVHlwZVtmaWVsZC5zY2FsYXJdfSlgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFJlZmxlY3RNYXAoZmllbGQpIHtcbiAgICBzd2l0Y2ggKGZpZWxkLm1hcEtpbmQpIHtcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJldHVybiBgUmVmbGVjdE1hcCAoJHtTY2FsYXJUeXBlW2ZpZWxkLm1hcEtleV19LCAke2ZpZWxkLm1lc3NhZ2UudG9TdHJpbmcoKX0pYDtcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJldHVybiBgUmVmbGVjdE1hcCAoJHtTY2FsYXJUeXBlW2ZpZWxkLm1hcEtleV19LCAke2ZpZWxkLmVudW0udG9TdHJpbmcoKX0pYDtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgcmV0dXJuIGBSZWZsZWN0TWFwICgke1NjYWxhclR5cGVbZmllbGQubWFwS2V5XX0sICR7U2NhbGFyVHlwZVtmaWVsZC5zY2FsYXJdfSlgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNjYWxhclR5cGVEZXNjcmlwdGlvbihzY2FsYXIpIHtcbiAgICBzd2l0Y2ggKHNjYWxhcikge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgIHJldHVybiBcImJpZ2ludCAoaW50NjQpXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50ICh1aW50NjQpXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiBcIlVpbnQ4QXJyYXlcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlciAoZmxvYXQ2NClcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyIChmbG9hdDMyKVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlciAodWludDMyKVwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlciAoaW50MzIpXCI7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgY2hlY2tGaWVsZCwgY2hlY2tMaXN0SXRlbSwgY2hlY2tNYXBFbnRyeSB9IGZyb20gXCIuL3JlZmxlY3QtY2hlY2suanNcIjtcbmltcG9ydCB7IEZpZWxkRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IHsgdW5zYWZlQ2xlYXIsIHVuc2FmZUdldCwgdW5zYWZlSXNTZXQsIHVuc2FmZUxvY2FsLCB1bnNhZmVPbmVvZkNhc2UsIHVuc2FmZVNldCwgfSBmcm9tIFwiLi91bnNhZmUuanNcIjtcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCIuLi9jcmVhdGUuanNcIjtcbmltcG9ydCB7IGlzV3JhcHBlciwgaXNXcmFwcGVyRGVzYyB9IGZyb20gXCIuLi93a3Qvd3JhcHBlcnMuanNcIjtcbmltcG9ydCB7IHNjYWxhclplcm9WYWx1ZSB9IGZyb20gXCIuL3NjYWxhci5qc1wiO1xuaW1wb3J0IHsgcHJvdG9JbnQ2NCB9IGZyb20gXCIuLi9wcm90by1pbnQ2NC5qc1wiO1xuaW1wb3J0IHsgaXNPYmplY3QsIGlzUmVmbGVjdExpc3QsIGlzUmVmbGVjdE1hcCwgaXNSZWZsZWN0TWVzc2FnZSwgfSBmcm9tIFwiLi9ndWFyZC5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBSZWZsZWN0TWVzc2FnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3QobWVzc2FnZURlc2MsIG1lc3NhZ2UsIFxuLyoqXG4gKiBCeSBkZWZhdWx0LCBmaWVsZCB2YWx1ZXMgYXJlIHZhbGlkYXRlZCB3aGVuIHNldHRpbmcgdGhlbS4gRm9yIGV4YW1wbGUsXG4gKiBhIHZhbHVlIGZvciBhbiB1aW50MzIgZmllbGQgbXVzdCBiZSBhIEVDTUFTY3JpcHQgTnVtYmVyID49IDAuXG4gKlxuICogV2hlbiBmaWVsZCB2YWx1ZXMgYXJlIHRydXN0ZWQsIHBlcmZvcm1hbmNlIGNhbiBiZSBpbXByb3ZlZCBieSBkaXNhYmxpbmdcbiAqIGNoZWNrcy5cbiAqL1xuY2hlY2sgPSB0cnVlKSB7XG4gICAgcmV0dXJuIG5ldyBSZWZsZWN0TWVzc2FnZUltcGwobWVzc2FnZURlc2MsIG1lc3NhZ2UsIGNoZWNrKTtcbn1cbmNsYXNzIFJlZmxlY3RNZXNzYWdlSW1wbCB7XG4gICAgZ2V0IHNvcnRlZEZpZWxkcygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKChfYSA9IHRoaXMuX3NvcnRlZEZpZWxkcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICAodGhpcy5fc29ydGVkRmllbGRzID0gdGhpcy5kZXNjLmZpZWxkc1xuICAgICAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5udW1iZXIgLSBiLm51bWJlcikpKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobWVzc2FnZURlc2MsIG1lc3NhZ2UsIGNoZWNrID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmxpc3RzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm1hcHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2hlY2sgPSBjaGVjaztcbiAgICAgICAgdGhpcy5kZXNjID0gbWVzc2FnZURlc2M7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXNbdW5zYWZlTG9jYWxdID0gbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogY3JlYXRlKG1lc3NhZ2VEZXNjKTtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBtZXNzYWdlRGVzYy5maWVsZHM7XG4gICAgICAgIHRoaXMub25lb2ZzID0gbWVzc2FnZURlc2Mub25lb2ZzO1xuICAgICAgICB0aGlzLm1lbWJlcnMgPSBtZXNzYWdlRGVzYy5tZW1iZXJzO1xuICAgIH1cbiAgICBmaW5kTnVtYmVyKG51bWJlcikge1xuICAgICAgICBpZiAoIXRoaXMuX2ZpZWxkc0J5TnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9maWVsZHNCeU51bWJlciA9IG5ldyBNYXAodGhpcy5kZXNjLmZpZWxkcy5tYXAoKGYpID0+IFtmLm51bWJlciwgZl0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZmllbGRzQnlOdW1iZXIuZ2V0KG51bWJlcik7XG4gICAgfVxuICAgIG9uZW9mQ2FzZShvbmVvZikge1xuICAgICAgICBhc3NlcnRPd24odGhpcy5tZXNzYWdlLCBvbmVvZik7XG4gICAgICAgIHJldHVybiB1bnNhZmVPbmVvZkNhc2UodGhpcy5tZXNzYWdlLCBvbmVvZik7XG4gICAgfVxuICAgIGlzU2V0KGZpZWxkKSB7XG4gICAgICAgIGFzc2VydE93bih0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUlzU2V0KHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgIH1cbiAgICBjbGVhcihmaWVsZCkge1xuICAgICAgICBhc3NlcnRPd24odGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgICAgIHVuc2FmZUNsZWFyKHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgIH1cbiAgICBnZXQoZmllbGQpIHtcbiAgICAgICAgYXNzZXJ0T3duKHRoaXMubWVzc2FnZSwgZmllbGQpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHVuc2FmZUdldCh0aGlzLm1lc3NhZ2UsIGZpZWxkKTtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmxpc3RzLmdldChmaWVsZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0IHx8IGxpc3RbdW5zYWZlTG9jYWxdICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RzLnNldChmaWVsZCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICAgICAgICAgICAgICAobGlzdCA9IG5ldyBSZWZsZWN0TGlzdEltcGwoZmllbGQsIHZhbHVlLCB0aGlzLmNoZWNrKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICBsZXQgbWFwID0gdGhpcy5tYXBzLmdldChmaWVsZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXAgfHwgbWFwW3Vuc2FmZUxvY2FsXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBzLnNldChmaWVsZCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICAgICAgICAgICAgICAobWFwID0gbmV3IFJlZmxlY3RNYXBJbXBsKGZpZWxkLCB2YWx1ZSwgdGhpcy5jaGVjaykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VUb1JlZmxlY3QoZmllbGQsIHZhbHVlLCB0aGlzLmNoZWNrKTtcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzY2FsYXJaZXJvVmFsdWUoZmllbGQuc2NhbGFyLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgOiBsb25nVG9SZWZsZWN0KGZpZWxkLCB2YWx1ZSkpO1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDAgPyB2YWx1ZSA6IGZpZWxkLmVudW0udmFsdWVzWzBdLm51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0KGZpZWxkLCB2YWx1ZSkge1xuICAgICAgICBhc3NlcnRPd24odGhpcy5tZXNzYWdlLCBmaWVsZCk7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBsb2NhbDtcbiAgICAgICAgaWYgKGZpZWxkLmZpZWxkS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgbG9jYWwgPSBtZXNzYWdlVG9Mb2NhbChmaWVsZCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVmbGVjdE1hcCh2YWx1ZSkgfHwgaXNSZWZsZWN0TGlzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxvY2FsID0gdmFsdWVbdW5zYWZlTG9jYWxdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9jYWwgPSBsb25nVG9Mb2NhbChmaWVsZCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHVuc2FmZVNldCh0aGlzLm1lc3NhZ2UsIGZpZWxkLCBsb2NhbCk7XG4gICAgfVxuICAgIGdldFVua25vd24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UuJHVua25vd247XG4gICAgfVxuICAgIHNldFVua25vd24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLiR1bmtub3duID0gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0T3duKG93bmVyLCBtZW1iZXIpIHtcbiAgICBpZiAobWVtYmVyLnBhcmVudC50eXBlTmFtZSAhPT0gb3duZXIuJHR5cGVOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKG1lbWJlciwgYGNhbm5vdCB1c2UgJHttZW1iZXIudG9TdHJpbmcoKX0gd2l0aCBtZXNzYWdlICR7b3duZXIuJHR5cGVOYW1lfWAsIFwiRm9yZWlnbkZpZWxkRXJyb3JcIik7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBSZWZsZWN0TGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3RMaXN0KGZpZWxkLCB1bnNhZmVJbnB1dCwgXG4vKipcbiAqIEJ5IGRlZmF1bHQsIGZpZWxkIHZhbHVlcyBhcmUgdmFsaWRhdGVkIHdoZW4gc2V0dGluZyB0aGVtLiBGb3IgZXhhbXBsZSxcbiAqIGEgdmFsdWUgZm9yIGFuIHVpbnQzMiBmaWVsZCBtdXN0IGJlIGEgRUNNQVNjcmlwdCBOdW1iZXIgPj0gMC5cbiAqXG4gKiBXaGVuIGZpZWxkIHZhbHVlcyBhcmUgdHJ1c3RlZCwgcGVyZm9ybWFuY2UgY2FuIGJlIGltcHJvdmVkIGJ5IGRpc2FibGluZ1xuICogY2hlY2tzLlxuICovXG5jaGVjayA9IHRydWUpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RMaXN0SW1wbChmaWVsZCwgdW5zYWZlSW5wdXQgIT09IG51bGwgJiYgdW5zYWZlSW5wdXQgIT09IHZvaWQgMCA/IHVuc2FmZUlucHV0IDogW10sIGNoZWNrKTtcbn1cbmNsYXNzIFJlZmxlY3RMaXN0SW1wbCB7XG4gICAgZmllbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWVsZDtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcnIubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZCwgdW5zYWZlSW5wdXQsIGNoZWNrKSB7XG4gICAgICAgIHRoaXMuX2ZpZWxkID0gZmllbGQ7XG4gICAgICAgIHRoaXMuX2FyciA9IHRoaXNbdW5zYWZlTG9jYWxdID0gdW5zYWZlSW5wdXQ7XG4gICAgICAgIHRoaXMuY2hlY2sgPSBjaGVjaztcbiAgICB9XG4gICAgZ2V0KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9hcnJbaW5kZXhdO1xuICAgICAgICByZXR1cm4gaXRlbSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBsaXN0SXRlbVRvUmVmbGVjdCh0aGlzLl9maWVsZCwgaXRlbSwgdGhpcy5jaGVjayk7XG4gICAgfVxuICAgIHNldChpbmRleCwgaXRlbSkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX2Fyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKHRoaXMuX2ZpZWxkLCBgbGlzdCBpdGVtICMke2luZGV4ICsgMX06IG91dCBvZiByYW5nZWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjaGVja0xpc3RJdGVtKHRoaXMuX2ZpZWxkLCBpbmRleCwgaXRlbSk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FycltpbmRleF0gPSBsaXN0SXRlbVRvTG9jYWwodGhpcy5fZmllbGQsIGl0ZW0pO1xuICAgIH1cbiAgICBhZGQoaXRlbSkge1xuICAgICAgICBpZiAodGhpcy5jaGVjaykge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY2hlY2tMaXN0SXRlbSh0aGlzLl9maWVsZCwgdGhpcy5fYXJyLmxlbmd0aCwgaXRlbSk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Fyci5wdXNoKGxpc3RJdGVtVG9Mb2NhbCh0aGlzLl9maWVsZCwgaXRlbSkpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fYXJyLnNwbGljZSgwLCB0aGlzLl9hcnIubGVuZ3RoKTtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXJyLmtleXMoKTtcbiAgICB9XG4gICAgKnZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuX2Fycikge1xuICAgICAgICAgICAgeWllbGQgbGlzdEl0ZW1Ub1JlZmxlY3QodGhpcy5fZmllbGQsIGl0ZW0sIHRoaXMuY2hlY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgICplbnRyaWVzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2Fyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgeWllbGQgW2ksIGxpc3RJdGVtVG9SZWZsZWN0KHRoaXMuX2ZpZWxkLCB0aGlzLl9hcnJbaV0sIHRoaXMuY2hlY2spXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgUmVmbGVjdE1hcC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3RNYXAoZmllbGQsIHVuc2FmZUlucHV0LCBcbi8qKlxuICogQnkgZGVmYXVsdCwgZmllbGQgdmFsdWVzIGFyZSB2YWxpZGF0ZWQgd2hlbiBzZXR0aW5nIHRoZW0uIEZvciBleGFtcGxlLFxuICogYSB2YWx1ZSBmb3IgYW4gdWludDMyIGZpZWxkIG11c3QgYmUgYSBFQ01BU2NyaXB0IE51bWJlciA+PSAwLlxuICpcbiAqIFdoZW4gZmllbGQgdmFsdWVzIGFyZSB0cnVzdGVkLCBwZXJmb3JtYW5jZSBjYW4gYmUgaW1wcm92ZWQgYnkgZGlzYWJsaW5nXG4gKiBjaGVja3MuXG4gKi9cbmNoZWNrID0gdHJ1ZSkge1xuICAgIHJldHVybiBuZXcgUmVmbGVjdE1hcEltcGwoZmllbGQsIHVuc2FmZUlucHV0LCBjaGVjayk7XG59XG5jbGFzcyBSZWZsZWN0TWFwSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZmllbGQsIHVuc2FmZUlucHV0LCBjaGVjayA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5vYmogPSB0aGlzW3Vuc2FmZUxvY2FsXSA9IHVuc2FmZUlucHV0ICE9PSBudWxsICYmIHVuc2FmZUlucHV0ICE9PSB2b2lkIDAgPyB1bnNhZmVJbnB1dCA6IHt9O1xuICAgICAgICB0aGlzLmNoZWNrID0gY2hlY2s7XG4gICAgICAgIHRoaXMuX2ZpZWxkID0gZmllbGQ7XG4gICAgfVxuICAgIGZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmllbGQ7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjaGVja01hcEVudHJ5KHRoaXMuX2ZpZWxkLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmpbbWFwS2V5VG9Mb2NhbChrZXkpXSA9IG1hcFZhbHVlVG9Mb2NhbCh0aGlzLl9maWVsZCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCBrID0gbWFwS2V5VG9Mb2NhbChrZXkpO1xuICAgICAgICBjb25zdCBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5vYmosIGspO1xuICAgICAgICBpZiAoaGFzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5vYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMub2JqKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMub2JqW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICBsZXQgdmFsID0gdGhpcy5vYmpbbWFwS2V5VG9Mb2NhbChrZXkpXTtcbiAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YWwgPSBtYXBWYWx1ZVRvUmVmbGVjdCh0aGlzLl9maWVsZCwgdmFsLCB0aGlzLmNoZWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5vYmosIG1hcEtleVRvTG9jYWwoa2V5KSk7XG4gICAgfVxuICAgICprZXlzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG9iaktleSBvZiBPYmplY3Qua2V5cyh0aGlzLm9iaikpIHtcbiAgICAgICAgICAgIHlpZWxkIG1hcEtleVRvUmVmbGVjdChvYmpLZXksIHRoaXMuX2ZpZWxkLm1hcEtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqRW50cnkgb2YgT2JqZWN0LmVudHJpZXModGhpcy5vYmopKSB7XG4gICAgICAgICAgICB5aWVsZCBbXG4gICAgICAgICAgICAgICAgbWFwS2V5VG9SZWZsZWN0KG9iakVudHJ5WzBdLCB0aGlzLl9maWVsZC5tYXBLZXkpLFxuICAgICAgICAgICAgICAgIG1hcFZhbHVlVG9SZWZsZWN0KHRoaXMuX2ZpZWxkLCBvYmpFbnRyeVsxXSwgdGhpcy5jaGVjayksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5vYmopLmxlbmd0aDtcbiAgICB9XG4gICAgKnZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLm9iaikpIHtcbiAgICAgICAgICAgIHlpZWxkIG1hcFZhbHVlVG9SZWZsZWN0KHRoaXMuX2ZpZWxkLCB2YWwsIHRoaXMuY2hlY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2tmbiwgdGhpc0FyZykge1xuICAgICAgICBmb3IgKGNvbnN0IG1hcEVudHJ5IG9mIHRoaXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjYWxsYmFja2ZuLmNhbGwodGhpc0FyZywgbWFwRW50cnlbMV0sIG1hcEVudHJ5WzBdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1lc3NhZ2VUb0xvY2FsKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmICghaXNSZWZsZWN0TWVzc2FnZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNXcmFwcGVyKHZhbHVlLm1lc3NhZ2UpICYmXG4gICAgICAgICFmaWVsZC5vbmVvZiAmJlxuICAgICAgICBmaWVsZC5maWVsZEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgLy8gVHlwZXMgZnJvbSBnb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8gYXJlIHVud3JhcHBlZCB3aGVuIHVzZWQgaW5cbiAgICAgICAgLy8gYSBzaW5ndWxhciBmaWVsZCB0aGF0IGlzIG5vdCBwYXJ0IG9mIGEgb25lb2YgZ3JvdXAuXG4gICAgICAgIHJldHVybiB2YWx1ZS5tZXNzYWdlLnZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUuZGVzYy50eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcIiAmJlxuICAgICAgICBmaWVsZC5wYXJlbnQudHlwZU5hbWUgIT0gXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIikge1xuICAgICAgICAvLyBnb29nbGUucHJvdG9idWYuU3RydWN0IGlzIHJlcHJlc2VudGVkIHdpdGggSnNvbk9iamVjdCB3aGVuIHVzZWQgaW4gYVxuICAgICAgICAvLyBmaWVsZCwgZXhjZXB0IHdoZW4gdXNlZCBpbiBnb29nbGUucHJvdG9idWYuVmFsdWUuXG4gICAgICAgIHJldHVybiB3a3RTdHJ1Y3RUb0xvY2FsKHZhbHVlLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUubWVzc2FnZTtcbn1cbmZ1bmN0aW9uIG1lc3NhZ2VUb1JlZmxlY3QoZmllbGQsIHZhbHVlLCBjaGVjaykge1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpc1dyYXBwZXJEZXNjKGZpZWxkLm1lc3NhZ2UpICYmXG4gICAgICAgICAgICAhZmllbGQub25lb2YgJiZcbiAgICAgICAgICAgIGZpZWxkLmZpZWxkS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgLy8gVHlwZXMgZnJvbSBnb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8gYXJlIHVud3JhcHBlZCB3aGVuIHVzZWQgaW5cbiAgICAgICAgICAgIC8vIGEgc2luZ3VsYXIgZmllbGQgdGhhdCBpcyBub3QgcGFydCBvZiBhIG9uZW9mIGdyb3VwLlxuICAgICAgICAgICAgdmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJHR5cGVOYW1lOiBmaWVsZC5tZXNzYWdlLnR5cGVOYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBsb25nVG9SZWZsZWN0KGZpZWxkLm1lc3NhZ2UuZmllbGRzWzBdLCB2YWx1ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkLm1lc3NhZ2UudHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuU3RydWN0XCIgJiZcbiAgICAgICAgICAgIGZpZWxkLnBhcmVudC50eXBlTmFtZSAhPSBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiICYmXG4gICAgICAgICAgICBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgaXMgcmVwcmVzZW50ZWQgd2l0aCBKc29uT2JqZWN0IHdoZW4gdXNlZCBpbiBhXG4gICAgICAgICAgICAvLyBmaWVsZCwgZXhjZXB0IHdoZW4gdXNlZCBpbiBnb29nbGUucHJvdG9idWYuVmFsdWUuXG4gICAgICAgICAgICB2YWx1ZSA9IHdrdFN0cnVjdFRvUmVmbGVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWZsZWN0TWVzc2FnZUltcGwoZmllbGQubWVzc2FnZSwgdmFsdWUsIGNoZWNrKTtcbn1cbmZ1bmN0aW9uIGxpc3RJdGVtVG9Mb2NhbChmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQubGlzdEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VUb0xvY2FsKGZpZWxkLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsb25nVG9Mb2NhbChmaWVsZCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gbGlzdEl0ZW1Ub1JlZmxlY3QoZmllbGQsIHZhbHVlLCBjaGVjaykge1xuICAgIGlmIChmaWVsZC5saXN0S2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICByZXR1cm4gbWVzc2FnZVRvUmVmbGVjdChmaWVsZCwgdmFsdWUsIGNoZWNrKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvbmdUb1JlZmxlY3QoZmllbGQsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG1hcFZhbHVlVG9Mb2NhbChmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQubWFwS2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICByZXR1cm4gbWVzc2FnZVRvTG9jYWwoZmllbGQsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvbmdUb0xvY2FsKGZpZWxkLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBtYXBWYWx1ZVRvUmVmbGVjdChmaWVsZCwgdmFsdWUsIGNoZWNrKSB7XG4gICAgaWYgKGZpZWxkLm1hcEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VUb1JlZmxlY3QoZmllbGQsIHZhbHVlLCBjaGVjayk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG1hcEtleVRvTG9jYWwoa2V5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBrZXkgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Yga2V5ID09IFwibnVtYmVyXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBtYXAga2V5IChhbnkgc2NhbGFyIHZhbHVlIGV4Y2VwdCBmbG9hdCwgZG91YmxlLCBvciBieXRlcykgZnJvbSBpdHNcbiAqIHJlcHJlc2VudGF0aW9uIGluIGEgbWVzc2FnZSAoc3RyaW5nIG9yIG51bWJlciwgdGhlIG9ubHkgcG9zc2libGUgb2JqZWN0IGtleVxuICogdHlwZXMpIHRvIHRoZSBjbG9zZXN0IHBvc3NpYmxlIHR5cGUgaW4gRUNNQVNjcmlwdC5cbiAqL1xuZnVuY3Rpb24gbWFwS2V5VG9SZWZsZWN0KGtleSwgdHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOiB7XG4gICAgICAgICAgICBjb25zdCBuID0gTnVtYmVyLnBhcnNlSW50KGtleSk7XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZhbHNlXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvSW50NjQudVBhcnNlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBJTlQ2NCwgU0ZJWEVENjQsIFNJTlQ2NFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC5wYXJzZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9iKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gbG9uZ1RvUmVmbGVjdChmaWVsZCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkLnNjYWxhcikge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgIGlmIChcImxvbmdBc1N0cmluZ1wiIGluIGZpZWxkICYmXG4gICAgICAgICAgICAgICAgZmllbGQubG9uZ0FzU3RyaW5nICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3RvSW50NjQucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgaWYgKFwibG9uZ0FzU3RyaW5nXCIgaW4gZmllbGQgJiZcbiAgICAgICAgICAgICAgICBmaWVsZC5sb25nQXNTdHJpbmcgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvdG9JbnQ2NC51UGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGxvbmdUb0xvY2FsKGZpZWxkLCB2YWx1ZSkge1xuICAgIHN3aXRjaCAoZmllbGQuc2NhbGFyKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgaWYgKFwibG9uZ0FzU3RyaW5nXCIgaW4gZmllbGQgJiYgZmllbGQubG9uZ0FzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3RvSW50NjQucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgaWYgKFwibG9uZ0FzU3RyaW5nXCIgaW4gZmllbGQgJiYgZmllbGQubG9uZ0FzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3RvSW50NjQudVBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3a3RTdHJ1Y3RUb1JlZmxlY3QoanNvbikge1xuICAgIGNvbnN0IHN0cnVjdCA9IHtcbiAgICAgICAgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcIixcbiAgICAgICAgZmllbGRzOiB7fSxcbiAgICB9O1xuICAgIGlmIChpc09iamVjdChqc29uKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgICAgICAgc3RydWN0LmZpZWxkc1trXSA9IHdrdFZhbHVlVG9SZWZsZWN0KHYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJ1Y3Q7XG59XG5mdW5jdGlvbiB3a3RTdHJ1Y3RUb0xvY2FsKHZhbCkge1xuICAgIGNvbnN0IGpzb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh2YWwuZmllbGRzKSkge1xuICAgICAgICBqc29uW2tdID0gd2t0VmFsdWVUb0xvY2FsKHYpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmZ1bmN0aW9uIHdrdFZhbHVlVG9Mb2NhbCh2YWwpIHtcbiAgICBzd2l0Y2ggKHZhbC5raW5kLmNhc2UpIHtcbiAgICAgICAgY2FzZSBcInN0cnVjdFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gd2t0U3RydWN0VG9Mb2NhbCh2YWwua2luZC52YWx1ZSk7XG4gICAgICAgIGNhc2UgXCJsaXN0VmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiB2YWwua2luZC52YWx1ZS52YWx1ZXMubWFwKHdrdFZhbHVlVG9Mb2NhbCk7XG4gICAgICAgIGNhc2UgXCJudWxsVmFsdWVcIjpcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB2YWwua2luZC52YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiB3a3RWYWx1ZVRvUmVmbGVjdChqc29uKSB7XG4gICAgY29uc3QgdmFsdWUgPSB7XG4gICAgICAgICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuVmFsdWVcIixcbiAgICAgICAga2luZDogeyBjYXNlOiB1bmRlZmluZWQgfSxcbiAgICB9O1xuICAgIHN3aXRjaCAodHlwZW9mIGpzb24pIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJudW1iZXJWYWx1ZVwiLCB2YWx1ZToganNvbiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgdmFsdWU6IGpzb24gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJib29sVmFsdWVcIiwgdmFsdWU6IGpzb24gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bGxWYWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJudWxsVmFsdWVcIiwgdmFsdWU6IG51bGxWYWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0VmFsdWUudmFsdWVzLnB1c2god2t0VmFsdWVUb1JlZmxlY3QoZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2U6IFwibGlzdFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBsaXN0VmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2U6IFwic3RydWN0VmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHdrdFN0cnVjdFRvUmVmbGVjdChqc29uKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgU2NhbGFyVHlwZSB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG5pbXBvcnQgeyBpc1JlZmxlY3RNZXNzYWdlIH0gZnJvbSBcIi4vcmVmbGVjdC9ndWFyZC5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBkZWVwIGNvcHkgb2YgYSBtZXNzYWdlLCBpbmNsdWRpbmcgZXh0ZW5zaW9ucyBhbmQgdW5rbm93biBmaWVsZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShzY2hlbWEsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gY2xvbmVSZWZsZWN0KHJlZmxlY3Qoc2NoZW1hLCBtZXNzYWdlKSkubWVzc2FnZTtcbn1cbmZ1bmN0aW9uIGNsb25lUmVmbGVjdChpKSB7XG4gICAgY29uc3QgbyA9IHJlZmxlY3QoaS5kZXNjKTtcbiAgICBmb3IgKGNvbnN0IGYgb2YgaS5maWVsZHMpIHtcbiAgICAgICAgaWYgKCFpLmlzU2V0KGYpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGYuZmllbGRLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBvLmdldChmKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaS5nZXQoZikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoY2xvbmVTaW5ndWxhcihmLCBpdGVtKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcCA9IG8uZ2V0KGYpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaS5nZXQoZikuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXQoZW50cnlbMF0sIGNsb25lU2luZ3VsYXIoZiwgZW50cnlbMV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgby5zZXQoZiwgY2xvbmVTaW5ndWxhcihmLCBpLmdldChmKSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVua25vd24gPSBpLmdldFVua25vd24oKTtcbiAgICBpZiAodW5rbm93biAmJiB1bmtub3duLmxlbmd0aCA+IDApIHtcbiAgICAgICAgby5zZXRVbmtub3duKFsuLi51bmtub3duXSk7XG4gICAgfVxuICAgIHJldHVybiBvO1xufVxuZnVuY3Rpb24gY2xvbmVTaW5ndWxhcihmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAoZmllbGQubWVzc2FnZSAhPT0gdW5kZWZpbmVkICYmIGlzUmVmbGVjdE1lc3NhZ2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBjbG9uZVJlZmxlY3QodmFsdWUpO1xuICAgIH1cbiAgICBpZiAoZmllbGQuc2NhbGFyID09IFNjYWxhclR5cGUuQllURVMgJiYgdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVCBjYW5ub3QgZXh0ZW5kIFVpbnQ4QXJyYXkgaW4gcHJhY3RpY2VcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBEZWNvZGVzIGEgYmFzZTY0IHN0cmluZyB0byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBpZ25vcmVzIHdoaXRlLXNwYWNlLCBpbmNsdWRpbmcgbGluZSBicmVha3MgYW5kIHRhYnNcbiAqIC0gYWxsb3dzIGlubmVyIHBhZGRpbmcgKGNhbiBkZWNvZGUgY29uY2F0ZW5hdGVkIGJhc2U2NCBzdHJpbmdzKVxuICogLSBkb2VzIG5vdCByZXF1aXJlIHBhZGRpbmdcbiAqIC0gdW5kZXJzdGFuZHMgYmFzZTY0dXJsIGVuY29kaW5nOlxuICogICBcIi1cIiBpbnN0ZWFkIG9mIFwiK1wiLFxuICogICBcIl9cIiBpbnN0ZWFkIG9mIFwiL1wiLFxuICogICBubyBwYWRkaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjREZWNvZGUoYmFzZTY0U3RyKSB7XG4gICAgY29uc3QgdGFibGUgPSBnZXREZWNvZGVUYWJsZSgpO1xuICAgIC8vIGVzdGltYXRlIGJ5dGUgc2l6ZSwgbm90IGFjY291bnRpbmcgZm9yIGlubmVyIHBhZGRpbmcgYW5kIHdoaXRlc3BhY2VcbiAgICBsZXQgZXMgPSAoYmFzZTY0U3RyLmxlbmd0aCAqIDMpIC8gNDtcbiAgICBpZiAoYmFzZTY0U3RyW2Jhc2U2NFN0ci5sZW5ndGggLSAyXSA9PSBcIj1cIilcbiAgICAgICAgZXMgLT0gMjtcbiAgICBlbHNlIGlmIChiYXNlNjRTdHJbYmFzZTY0U3RyLmxlbmd0aCAtIDFdID09IFwiPVwiKVxuICAgICAgICBlcyAtPSAxO1xuICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGVzKSwgYnl0ZVBvcyA9IDAsIC8vIHBvc2l0aW9uIGluIGJ5dGUgYXJyYXlcbiAgICBncm91cFBvcyA9IDAsIC8vIHBvc2l0aW9uIGluIGJhc2U2NCBncm91cFxuICAgIGIsIC8vIGN1cnJlbnQgYnl0ZVxuICAgIHAgPSAwOyAvLyBwcmV2aW91cyBieXRlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNlNjRTdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYiA9IHRhYmxlW2Jhc2U2NFN0ci5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3dpdGNoIChiYXNlNjRTdHJbaV0pIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFRTNzAyOTogRmFsbHRocm91Z2ggY2FzZSBpbiBzd2l0Y2ggLS0gaWdub3JlIGluc3RlYWQgb2YgZXhwZWN0LWVycm9yIGZvciBjb21waWxlciBzZXR0aW5ncyB3aXRob3V0IG5vRmFsbHRocm91Z2hDYXNlc0luU3dpdGNoOiB0cnVlXG4gICAgICAgICAgICAgICAgY2FzZSBcIj1cIjpcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAwOyAvLyByZXNldCBzdGF0ZSB3aGVuIHBhZGRpbmcgZm91bmRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB3aGl0ZS1zcGFjZSwgYW5kIHBhZGRpbmdcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImludmFsaWQgYmFzZTY0IHN0cmluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGdyb3VwUG9zKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcCA9IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGJ5dGVzW2J5dGVQb3MrK10gPSAocCA8PCAyKSB8ICgoYiAmIDQ4KSA+PiA0KTtcbiAgICAgICAgICAgICAgICBwID0gYjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgYnl0ZXNbYnl0ZVBvcysrXSA9ICgocCAmIDE1KSA8PCA0KSB8ICgoYiAmIDYwKSA+PiAyKTtcbiAgICAgICAgICAgICAgICBwID0gYjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgYnl0ZXNbYnl0ZVBvcysrXSA9ICgocCAmIDMpIDw8IDYpIHwgYjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGdyb3VwUG9zID09IDEpXG4gICAgICAgIHRocm93IEVycm9yKFwiaW52YWxpZCBiYXNlNjQgc3RyaW5nXCIpO1xuICAgIHJldHVybiBieXRlcy5zdWJhcnJheSgwLCBieXRlUG9zKTtcbn1cbi8qKlxuICogRW5jb2RlIGEgYnl0ZSBhcnJheSB0byBhIGJhc2U2NCBzdHJpbmcuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBzdGFuZGFyZCBiYXNlNjQgZW5jb2Rpbmcgd2l0aCBwYWRkaW5nLlxuICpcbiAqIFRvIGVuY29kZSB3aXRob3V0IHBhZGRpbmcsIHVzZSBlbmNvZGluZyA9IFwic3RkX3Jhd1wiLlxuICpcbiAqIFRvIGVuY29kZSB3aXRoIHRoZSBVUkwgZW5jb2RpbmcsIHVzZSBlbmNvZGluZyA9IFwidXJsXCIsIHdoaWNoIHJlcGxhY2VzIHRoZVxuICogY2hhcmFjdGVycyArLyBieSB0aGVpciBVUkwtc2FmZSBjb3VudGVycGFydHMgLV8sIGFuZCBvbWl0cyBwYWRkaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0RW5jb2RlKGJ5dGVzLCBlbmNvZGluZyA9IFwic3RkXCIpIHtcbiAgICBjb25zdCB0YWJsZSA9IGdldEVuY29kZVRhYmxlKGVuY29kaW5nKTtcbiAgICBjb25zdCBwYWQgPSBlbmNvZGluZyA9PSBcInN0ZFwiO1xuICAgIGxldCBiYXNlNjQgPSBcIlwiLCBncm91cFBvcyA9IDAsIC8vIHBvc2l0aW9uIGluIGJhc2U2NCBncm91cFxuICAgIGIsIC8vIGN1cnJlbnQgYnl0ZVxuICAgIHAgPSAwOyAvLyBjYXJyeSBvdmVyIGZyb20gcHJldmlvdXMgYnl0ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYiA9IGJ5dGVzW2ldO1xuICAgICAgICBzd2l0Y2ggKGdyb3VwUG9zKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IHRhYmxlW2IgPj4gMl07XG4gICAgICAgICAgICAgICAgcCA9IChiICYgMykgPDwgNDtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IHRhYmxlW3AgfCAoYiA+PiA0KV07XG4gICAgICAgICAgICAgICAgcCA9IChiICYgMTUpIDw8IDI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGJhc2U2NCArPSB0YWJsZVtwIHwgKGIgPj4gNildO1xuICAgICAgICAgICAgICAgIGJhc2U2NCArPSB0YWJsZVtiICYgNjNdO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgb3V0cHV0IHBhZGRpbmdcbiAgICBpZiAoZ3JvdXBQb3MpIHtcbiAgICAgICAgYmFzZTY0ICs9IHRhYmxlW3BdO1xuICAgICAgICBpZiAocGFkKSB7XG4gICAgICAgICAgICBiYXNlNjQgKz0gXCI9XCI7XG4gICAgICAgICAgICBpZiAoZ3JvdXBQb3MgPT0gMSlcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gXCI9XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJhc2U2NDtcbn1cbi8vIGxvb2t1cCB0YWJsZSBmcm9tIGJhc2U2NCBjaGFyYWN0ZXIgdG8gYnl0ZVxubGV0IGVuY29kZVRhYmxlU3RkO1xubGV0IGVuY29kZVRhYmxlVXJsO1xuLy8gbG9va3VwIHRhYmxlIGZyb20gYmFzZTY0IGNoYXJhY3RlciAqY29kZSogdG8gYnl0ZSBiZWNhdXNlIGxvb2t1cCBieSBudW1iZXIgaXMgZmFzdFxubGV0IGRlY29kZVRhYmxlO1xuZnVuY3Rpb24gZ2V0RW5jb2RlVGFibGUoZW5jb2RpbmcpIHtcbiAgICBpZiAoIWVuY29kZVRhYmxlU3RkKSB7XG4gICAgICAgIGVuY29kZVRhYmxlU3RkID1cbiAgICAgICAgICAgIFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLnNwbGl0KFwiXCIpO1xuICAgICAgICBlbmNvZGVUYWJsZVVybCA9IGVuY29kZVRhYmxlU3RkLnNsaWNlKDAsIC0yKS5jb25jYXQoXCItXCIsIFwiX1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kaW5nID09IFwidXJsXCJcbiAgICAgICAgPyAvLyBiaW9tZS1pZ25vcmUgbGludC9zdHlsZS9ub05vbk51bGxBc3NlcnRpb246IFRTIGZhaWxzIHRvIG5hcnJvdyBkb3duXG4gICAgICAgICAgICBlbmNvZGVUYWJsZVVybFxuICAgICAgICA6IGVuY29kZVRhYmxlU3RkO1xufVxuZnVuY3Rpb24gZ2V0RGVjb2RlVGFibGUoKSB7XG4gICAgaWYgKCFkZWNvZGVUYWJsZSkge1xuICAgICAgICBkZWNvZGVUYWJsZSA9IFtdO1xuICAgICAgICBjb25zdCBlbmNvZGVUYWJsZSA9IGdldEVuY29kZVRhYmxlKFwic3RkXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZVRhYmxlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgZGVjb2RlVGFibGVbZW5jb2RlVGFibGVbaV0uY2hhckNvZGVBdCgwKV0gPSBpO1xuICAgICAgICAvLyBzdXBwb3J0IGJhc2U2NHVybCB2YXJpYW50c1xuICAgICAgICBkZWNvZGVUYWJsZVtcIi1cIi5jaGFyQ29kZUF0KDApXSA9IGVuY29kZVRhYmxlLmluZGV4T2YoXCIrXCIpO1xuICAgICAgICBkZWNvZGVUYWJsZVtcIl9cIi5jaGFyQ29kZUF0KDApXSA9IGVuY29kZVRhYmxlLmluZGV4T2YoXCIvXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlVGFibGU7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogUmV0dXJuIGEgZnVsbHktcXVhbGlmaWVkIG5hbWUgZm9yIGEgUHJvdG9idWYgZGVzY3JpcHRvci5cbiAqIEZvciBhIGZpbGUgZGVzY3JpcHRvciwgcmV0dXJuIHRoZSBvcmlnaW5hbCBmaWxlIHBhdGguXG4gKlxuICogU2VlIGh0dHBzOi8vcHJvdG9idWYuY29tL2RvY3MvbGFuZ3VhZ2Utc3BlYyNmdWxseS1xdWFsaWZpZWQtbmFtZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YWxpZmllZE5hbWUoZGVzYykge1xuICAgIHN3aXRjaCAoZGVzYy5raW5kKSB7XG4gICAgICAgIGNhc2UgXCJmaWVsZFwiOlxuICAgICAgICBjYXNlIFwib25lb2ZcIjpcbiAgICAgICAgY2FzZSBcInJwY1wiOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2MucGFyZW50LnR5cGVOYW1lICsgXCIuXCIgKyBkZXNjLm5hbWU7XG4gICAgICAgIGNhc2UgXCJlbnVtX3ZhbHVlXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBkZXNjLnBhcmVudC5wYXJlbnRcbiAgICAgICAgICAgICAgICA/IGRlc2MucGFyZW50LnBhcmVudC50eXBlTmFtZVxuICAgICAgICAgICAgICAgIDogZGVzYy5wYXJlbnQuZmlsZS5wcm90by5wYWNrYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHAgKyAocC5sZW5ndGggPiAwID8gXCIuXCIgOiBcIlwiKSArIGRlc2MubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2VydmljZVwiOlxuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICBjYXNlIFwiZXh0ZW5zaW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gZGVzYy50eXBlTmFtZTtcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICAgIHJldHVybiBkZXNjLnByb3RvLm5hbWU7XG4gICAgfVxufVxuLyoqXG4gKiBDb252ZXJ0cyBzbmFrZV9jYXNlIHRvIHByb3RvQ2FtZWxDYXNlIGFjY29yZGluZyB0byB0aGUgY29udmVudGlvblxuICogdXNlZCBieSBwcm90b2MgdG8gY29udmVydCBhIGZpZWxkIG5hbWUgdG8gYSBKU09OIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm90b0NhbWVsQ2FzZShzbmFrZUNhc2UpIHtcbiAgICBsZXQgY2FwTmV4dCA9IGZhbHNlO1xuICAgIGNvbnN0IGIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNuYWtlQ2FzZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYyA9IHNuYWtlQ2FzZS5jaGFyQXQoaSk7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSBcIl9cIjpcbiAgICAgICAgICAgICAgICBjYXBOZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgICBjYXNlIFwiN1wiOlxuICAgICAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgICAgIGNhc2UgXCI5XCI6XG4gICAgICAgICAgICAgICAgYi5wdXNoKGMpO1xuICAgICAgICAgICAgICAgIGNhcE5leHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGNhcE5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FwTmV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjID0gYy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiLnB1c2goYyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGIuam9pbihcIlwiKTtcbn1cbi8qKlxuICogTmFtZXMgdGhhdCBjYW5ub3QgYmUgdXNlZCBmb3Igb2JqZWN0IHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGFyZSByZXNlcnZlZFxuICogYnkgYnVpbHQtaW4gSmF2YVNjcmlwdCBwcm9wZXJ0aWVzLlxuICovXG5jb25zdCByZXNlcnZlZE9iamVjdFByb3BlcnRpZXMgPSBuZXcgU2V0KFtcbiAgICAvLyBuYW1lcyByZXNlcnZlZCBieSBKYXZhU2NyaXB0XG4gICAgXCJjb25zdHJ1Y3RvclwiLFxuICAgIFwidG9TdHJpbmdcIixcbiAgICBcInRvSlNPTlwiLFxuICAgIFwidmFsdWVPZlwiLFxuXSk7XG4vKipcbiAqIEVzY2FwZXMgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgZm9yIEVDTUFTY3JpcHQgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMuXG4gKlxuICogQWxzbyBzZWUgc2FmZUlkZW50aWZpZXIoKSBmcm9tIEBidWZidWlsZC9wcm90b3BsdWdpbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVPYmplY3RQcm9wZXJ0eShuYW1lKSB7XG4gICAgcmV0dXJuIHJlc2VydmVkT2JqZWN0UHJvcGVydGllcy5oYXMobmFtZSkgPyBuYW1lICsgXCIkXCIgOiBuYW1lO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBwcm90b0NhbWVsQ2FzZSB9IGZyb20gXCIuLi9yZWZsZWN0L25hbWVzLmpzXCI7XG5pbXBvcnQgeyB1bnNhZmVJc1NldEV4cGxpY2l0IH0gZnJvbSBcIi4uL3JlZmxlY3QvdW5zYWZlLmpzXCI7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXN0b3JlSnNvbk5hbWVzKG1lc3NhZ2UpIHtcbiAgICBmb3IgKGNvbnN0IGYgb2YgbWVzc2FnZS5maWVsZCkge1xuICAgICAgICBpZiAoIXVuc2FmZUlzU2V0RXhwbGljaXQoZiwgXCJqc29uTmFtZVwiKSkge1xuICAgICAgICAgICAgZi5qc29uTmFtZSA9IHByb3RvQ2FtZWxDYXNlKGYubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVzc2FnZS5uZXN0ZWRUeXBlLmZvckVhY2gocmVzdG9yZUpzb25OYW1lcyk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHByb3RvSW50NjQgfSBmcm9tIFwiLi4vcHJvdG8taW50NjQuanNcIjtcbi8qKlxuICogUGFyc2UgYW4gZW51bSB2YWx1ZSBmcm9tIHRoZSBQcm90b2J1ZiB0ZXh0IGZvcm1hdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUZXh0Rm9ybWF0RW51bVZhbHVlKGRlc2NFbnVtLCB2YWx1ZSkge1xuICAgIGNvbnN0IGVudW1WYWx1ZSA9IGRlc2NFbnVtLnZhbHVlcy5maW5kKCh2KSA9PiB2Lm5hbWUgPT09IHZhbHVlKTtcbiAgICBpZiAoIWVudW1WYWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBwYXJzZSAke2Rlc2NFbnVtfSBkZWZhdWx0IHZhbHVlOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgICByZXR1cm4gZW51bVZhbHVlLm51bWJlcjtcbn1cbi8qKlxuICogUGFyc2UgYSBzY2FsYXIgdmFsdWUgZnJvbSB0aGUgUHJvdG9idWYgdGV4dCBmb3JtYXQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGV4dEZvcm1hdFNjYWxhclZhbHVlKHR5cGUsIHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzoge1xuICAgICAgICAgICAgY29uc3QgdSA9IHVuZXNjYXBlQnl0ZXNEZWZhdWx0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgcGFyc2UgJHtTY2FsYXJUeXBlW3R5cGVdfSBkZWZhdWx0IHZhbHVlOiAke3ZhbHVlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gcHJvdG9JbnQ2NC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIHByb3RvSW50NjQudVBhcnNlKHZhbHVlKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmZcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiLWluZlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJuYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5OYU47XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH1cbn1cbi8qKlxuICogUGFyc2VzIGEgdGV4dC1lbmNvZGVkIGRlZmF1bHQgdmFsdWUgKHByb3RvMikgb2YgYSBCWVRFUyBmaWVsZC5cbiAqL1xuZnVuY3Rpb24gdW5lc2NhcGVCeXRlc0RlZmF1bHRWYWx1ZShzdHIpIHtcbiAgICBjb25zdCBiID0gW107XG4gICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRhaWw6IHN0cixcbiAgICAgICAgYzogXCJcIixcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhaWwubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmMgPSB0aGlzLnRhaWxbMF07XG4gICAgICAgICAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHRha2Uobikge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFpbC5sZW5ndGggPj0gbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLnRhaWwuc3Vic3RyaW5nKDAsIG4pO1xuICAgICAgICAgICAgICAgIHRoaXMudGFpbCA9IHRoaXMudGFpbC5zdWJzdHJpbmcobik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICB3aGlsZSAoaW5wdXQubmV4dCgpKSB7XG4gICAgICAgIHN3aXRjaCAoaW5wdXQuYykge1xuICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5wdXQuYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goaW5wdXQuYy5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDB4MDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMHgwYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgweDBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDB4MGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMHgwOSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgweDBiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiN1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGlucHV0LmM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGlucHV0LnRha2UoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHMgKyB0LCA4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInhcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBpbnB1dC5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpbnB1dC50YWtlKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBwYXJzZUludChzICsgdCwgMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2gobik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGlucHV0LmM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGlucHV0LnRha2UoNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHMgKyB0LCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0SW50MzIoMCwgbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKGNodW5rWzBdLCBjaHVua1sxXSwgY2h1bmtbMl0sIGNodW5rWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gaW5wdXQuYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gaW5wdXQudGFrZSg4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YyA9IHByb3RvSW50NjQudUVuYyhzICsgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRJbnQzMigwLCB0Yy5sbywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRJbnQzMig0LCB0Yy5oaSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKGNodW5rWzBdLCBjaHVua1sxXSwgY2h1bmtbMl0sIGNodW5rWzNdLCBjaHVua1s0XSwgY2h1bmtbNV0sIGNodW5rWzZdLCBjaHVua1s3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGIucHVzaChpbnB1dC5jLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShiKTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHR5cGVzIC0gZW51bWVyYXRpb25zLCBleHRlbnNpb25zLCBzZXJ2aWNlcywgbWVzc2FnZXMgLVxuICogYW5kIGVudW1lcmF0aW9ucywgZXh0ZW5zaW9ucyBhbmQgbWVzc2FnZXMgbmVzdGVkIGluIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24qIG5lc3RlZFR5cGVzKGRlc2MpIHtcbiAgICBzd2l0Y2ggKGRlc2Mua2luZCkge1xuICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGRlc2MubWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIHlpZWxkKiBuZXN0ZWRUeXBlcyhtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkKiBkZXNjLmVudW1zO1xuICAgICAgICAgICAgeWllbGQqIGRlc2Muc2VydmljZXM7XG4gICAgICAgICAgICB5aWVsZCogZGVzYy5leHRlbnNpb25zO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgZGVzYy5uZXN0ZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgeWllbGQqIG5lc3RlZFR5cGVzKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQqIGRlc2MubmVzdGVkRW51bXM7XG4gICAgICAgICAgICB5aWVsZCogZGVzYy5uZXN0ZWRFeHRlbnNpb25zO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgdHlwZXMgcmVmZXJlbmNlZCBieSBmaWVsZHMgb2YgdGhlIGdpdmVuIG1lc3NhZ2UuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogYGBgcHJvdG9cbiAqIHN5bnRheD1cInByb3RvM1wiO1xuICpcbiAqIG1lc3NhZ2UgRXhhbXBsZSB7XG4gKiAgIE1zZyBzaW5ndWxhciA9IDE7XG4gKiAgIHJlcGVhdGVkIExldmVsIGxpc3QgPSAyO1xuICogfVxuICpcbiAqIG1lc3NhZ2UgTXNnIHt9XG4gKlxuICogZW51bSBMZXZlbCB7XG4gKiAgIExFVkVMX1VOU1BFQ0lGSUVEID0gMDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBtZXNzYWdlIEV4YW1wbGUgcmVmZXJlbmNlcyB0aGUgbWVzc2FnZSBNc2csIGFuZCB0aGUgZW51bSBMZXZlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZWRUeXBlcyhkZXNjTWVzc2FnZSkge1xuICAgIHJldHVybiB1c2VkVHlwZXNJbnRlcm5hbChkZXNjTWVzc2FnZSwgbmV3IFNldCgpKTtcbn1cbmZ1bmN0aW9uKiB1c2VkVHlwZXNJbnRlcm5hbChkZXNjTWVzc2FnZSwgc2Vlbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBkZXNjTWVzc2FnZS5maWVsZHMpIHtcbiAgICAgICAgY29uc3QgcmVmID0gKF9iID0gKF9hID0gZmllbGQuZW51bSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmllbGQubWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXJlZiB8fCBzZWVuLmhhcyhyZWYudHlwZU5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzZWVuLmFkZChyZWYudHlwZU5hbWUpO1xuICAgICAgICB5aWVsZCByZWY7XG4gICAgICAgIGlmIChyZWYua2luZCA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgeWllbGQqIHVzZWRUeXBlc0ludGVybmFsKHJlZiwgc2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGFuY2VzdG9ycyBvZiBhIGdpdmVuIFByb3RvYnVmIGVsZW1lbnQsIHVwIHRvIHRoZSBmaWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyZW50VHlwZXMoZGVzYykge1xuICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICB3aGlsZSAoZGVzYy5raW5kICE9PSBcImZpbGVcIikge1xuICAgICAgICBjb25zdCBwID0gcGFyZW50KGRlc2MpO1xuICAgICAgICBkZXNjID0gcDtcbiAgICAgICAgcGFyZW50cy5wdXNoKHApO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50cztcbn1cbmZ1bmN0aW9uIHBhcmVudChkZXNjKSB7XG4gICAgdmFyIF9hO1xuICAgIHN3aXRjaCAoZGVzYy5raW5kKSB7XG4gICAgICAgIGNhc2UgXCJlbnVtX3ZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJmaWVsZFwiOlxuICAgICAgICBjYXNlIFwib25lb2ZcIjpcbiAgICAgICAgY2FzZSBcInJwY1wiOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2MucGFyZW50O1xuICAgICAgICBjYXNlIFwic2VydmljZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2MuZmlsZTtcbiAgICAgICAgY2FzZSBcImV4dGVuc2lvblwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmV0dXJuIChfYSA9IGRlc2MucGFyZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZXNjLmZpbGU7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVRleHRGb3JtYXRFbnVtVmFsdWUsIHBhcnNlVGV4dEZvcm1hdFNjYWxhclZhbHVlLCB9IGZyb20gXCIuL3dpcmUvdGV4dC1mb3JtYXQuanNcIjtcbmltcG9ydCB7IG5lc3RlZFR5cGVzIH0gZnJvbSBcIi4vcmVmbGVjdC9uZXN0ZWQtdHlwZXMuanNcIjtcbmltcG9ydCB7IHVuc2FmZUlzU2V0RXhwbGljaXQgfSBmcm9tIFwiLi9yZWZsZWN0L3Vuc2FmZS5qc1wiO1xuaW1wb3J0IHsgcHJvdG9DYW1lbENhc2UsIHNhZmVPYmplY3RQcm9wZXJ0eSB9IGZyb20gXCIuL3JlZmxlY3QvbmFtZXMuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgcmVnaXN0cnkgZnJvbSB0aGUgZ2l2ZW4gaW5wdXRzLlxuICpcbiAqIEFuIGlucHV0IGNhbiBiZTpcbiAqIC0gQW55IG1lc3NhZ2UsIGVudW0sIHNlcnZpY2UsIG9yIGV4dGVuc2lvbiBkZXNjcmlwdG9yLCB3aGljaCBhZGRzIGp1c3QgdGhlXG4gKiAgIGRlc2NyaXB0b3IgZm9yIHRoaXMgdHlwZS5cbiAqIC0gQSBmaWxlIGRlc2NyaXB0b3IsIHdoaWNoIGFkZHMgYWxsIHR5cGVkIGRlZmluZWQgaW4gdGhpcyBmaWxlLlxuICogLSBBIHJlZ2lzdHJ5LCB3aGljaCBhZGRzIGFsbCB0eXBlcyBmcm9tIHRoZSByZWdpc3RyeS5cbiAqXG4gKiBGb3IgZHVwbGljYXRlIGRlc2NyaXB0b3JzIChzYW1lIHR5cGUgbmFtZSksIHRoZSBvbmUgZ2l2ZW4gbGFzdCB3aW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVnaXN0cnkoLi4uaW5wdXQpIHtcbiAgICByZXR1cm4gaW5pdEJhc2VSZWdpc3RyeShpbnB1dCk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHJlZ2lzdHJ5IHRoYXQgYWxsb3dzIGFkZGluZyBhbmQgcmVtb3ZpbmcgZGVzY3JpcHRvcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdXRhYmxlUmVnaXN0cnkoLi4uaW5wdXQpIHtcbiAgICBjb25zdCByZWcgPSBpbml0QmFzZVJlZ2lzdHJ5KGlucHV0KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWcpLCB7IHJlbW92ZShkZXNjKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoZGVzYy5raW5kID09IFwiZXh0ZW5zaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAoX2EgPSByZWcuZXh0ZW5kZWVzLmdldChkZXNjLmV4dGVuZGVlLnR5cGVOYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlbGV0ZShkZXNjLm51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWcudHlwZXMuZGVsZXRlKGRlc2MudHlwZU5hbWUpO1xuICAgICAgICB9IH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVSZWdpc3RyeSguLi5hcmdzKSB7XG4gICAgY29uc3QgcmVnaXN0cnkgPSBjcmVhdGVCYXNlUmVnaXN0cnkoKTtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RyeTtcbiAgICB9XG4gICAgaWYgKFwiJHR5cGVOYW1lXCIgaW4gYXJnc1swXSAmJlxuICAgICAgICBhcmdzWzBdLiR0eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldFwiKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBhcmdzWzBdLmZpbGUpIHtcbiAgICAgICAgICAgIGFkZEZpbGUoZmlsZSwgcmVnaXN0cnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWdpc3RyeTtcbiAgICB9XG4gICAgaWYgKFwiJHR5cGVOYW1lXCIgaW4gYXJnc1swXSkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGFyZ3NbMF07XG4gICAgICAgIGNvbnN0IHJlc29sdmUgPSBhcmdzWzFdO1xuICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICAgICAgICBmdW5jdGlvbiByZWN1cnNlRGVwcyhmaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkZXBzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3RvRmlsZU5hbWUgb2YgZmlsZS5kZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5LmdldEZpbGUocHJvdG9GaWxlTmFtZSkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5oYXMocHJvdG9GaWxlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRlcCA9IHJlc29sdmUocHJvdG9GaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFkZXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcmVzb2x2ZSAke3Byb3RvRmlsZU5hbWV9LCBpbXBvcnRlZCBieSAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFwia2luZFwiIGluIGRlcCkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGRGaWxlKGRlcCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vlbi5hZGQoZGVwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQoLi4uZGVwcy5tYXAocmVjdXJzZURlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgW2lucHV0LCAuLi5yZWN1cnNlRGVwcyhpbnB1dCldLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgYWRkRmlsZShmaWxlLCByZWdpc3RyeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgZmlsZVJlZyBvZiBhcmdzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZVJlZy5maWxlcykge1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmFkZEZpbGUoZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVnaXN0cnkoKSB7XG4gICAgY29uc3QgdHlwZXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZXh0ZW5kZWVzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGZpbGVzID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwicmVnaXN0cnlcIixcbiAgICAgICAgdHlwZXMsXG4gICAgICAgIGV4dGVuZGVlcyxcbiAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZXMudmFsdWVzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmaWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxlcy52YWx1ZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkRmlsZShmaWxlLCBza2lwVHlwZXMsIHdpdGhEZXBzKSB7XG4gICAgICAgICAgICBmaWxlcy5zZXQoZmlsZS5wcm90by5uYW1lLCBmaWxlKTtcbiAgICAgICAgICAgIGlmICghc2tpcFR5cGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG5lc3RlZFR5cGVzKGZpbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKHR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aXRoRGVwcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiBmaWxlLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEZpbGUoZiwgc2tpcFR5cGVzLCB3aXRoRGVwcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGQoZGVzYykge1xuICAgICAgICAgICAgaWYgKGRlc2Mua2luZCA9PSBcImV4dGVuc2lvblwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IG51bWJlclRvRXh0ID0gZXh0ZW5kZWVzLmdldChkZXNjLmV4dGVuZGVlLnR5cGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIW51bWJlclRvRXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVlcy5zZXQoZGVzYy5leHRlbmRlZS50eXBlTmFtZSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICAgICAgICAgICAgICAobnVtYmVyVG9FeHQgPSBuZXcgTWFwKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbnVtYmVyVG9FeHQuc2V0KGRlc2MubnVtYmVyLCBkZXNjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR5cGVzLnNldChkZXNjLnR5cGVOYW1lLCBkZXNjKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KHR5cGVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZXMuZ2V0KHR5cGVOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RmlsZShmaWxlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVzLmdldChmaWxlTmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE1lc3NhZ2UodHlwZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0eXBlcy5nZXQodHlwZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuICh0ID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHQua2luZCkgPT0gXCJtZXNzYWdlXCIgPyB0IDogdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRFbnVtKHR5cGVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdHlwZXMuZ2V0KHR5cGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiAodCA9PT0gbnVsbCB8fCB0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0LmtpbmQpID09IFwiZW51bVwiID8gdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RXh0ZW5zaW9uKHR5cGVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdHlwZXMuZ2V0KHR5cGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiAodCA9PT0gbnVsbCB8fCB0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0LmtpbmQpID09IFwiZXh0ZW5zaW9uXCIgPyB0IDogdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRFeHRlbnNpb25Gb3IoZXh0ZW5kZWUsIG5vKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gZXh0ZW5kZWVzLmdldChleHRlbmRlZS50eXBlTmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQobm8pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTZXJ2aWNlKHR5cGVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdHlwZXMuZ2V0KHR5cGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiAodCA9PT0gbnVsbCB8fCB0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0LmtpbmQpID09IFwic2VydmljZVwiID8gdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpbml0QmFzZVJlZ2lzdHJ5KGlucHV0cykge1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gY3JlYXRlQmFzZVJlZ2lzdHJ5KCk7XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgICAgc3dpdGNoIChpbnB1dC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwicmVnaXN0cnlcIjpcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0cnkuYWRkKG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICAgICAgcmVnaXN0cnkuYWRkRmlsZShpbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmFkZChpbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRWRpdGlvbi5FRElUSU9OX1BST1RPMjogY29uc3QgJG5hbWU6IEVkaXRpb24uJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBFRElUSU9OX1BST1RPMiA9IDk5ODtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkVkaXRpb24uRURJVElPTl9QUk9UTzM6IGNvbnN0ICRuYW1lOiBFZGl0aW9uLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgRURJVElPTl9QUk9UTzMgPSA5OTk7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlLlRZUEVfU1RSSU5HOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IFRZUEVfU1RSSU5HID0gOTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUuVFlQRV9HUk9VUDogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBUWVBFX0dST1VQID0gMTA7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlLlRZUEVfTUVTU0FHRTogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBUWVBFX01FU1NBR0UgPSAxMTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUuVFlQRV9CWVRFUzogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBUWVBFX0JZVEVTID0gMTI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlLlRZUEVfRU5VTTogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBUWVBFX0VOVU0gPSAxNDtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsLkxBQkVMX1JFUEVBVEVEOiBjb25zdCAkbmFtZTogRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWwuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBMQUJFTF9SRVBFQVRFRCA9IDM7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbC5MQUJFTF9SRVFVSVJFRDogY29uc3QgJG5hbWU6IEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgTEFCRUxfUkVRVUlSRUQgPSAyO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkpTVHlwZS5KU19TVFJJTkc6IGNvbnN0ICRuYW1lOiBGaWVsZE9wdGlvbnNfSlNUeXBlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgSlNfU1RSSU5HID0gMTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuSWRlbXBvdGVuY3lMZXZlbC5JREVNUE9URU5DWV9VTktOT1dOOiBjb25zdCAkbmFtZTogTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgSURFTVBPVEVOQ1lfVU5LTk9XTiA9IDA7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuRVhQTElDSVQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBFWFBMSUNJVCA9IDE7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuSU1QTElDSVQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBJTVBMSUNJVCA9IDI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuTEVHQUNZX1JFUVVJUkVEOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgTEVHQUNZX1JFUVVJUkVEID0gMztcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuUmVwZWF0ZWRGaWVsZEVuY29kaW5nLlBBQ0tFRDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgUEFDS0VEID0gMTtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuTWVzc2FnZUVuY29kaW5nLkRFTElNSVRFRDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgREVMSU1JVEVEID0gMjtcbi8vIGJvb3RzdHJhcC1pbmplY3QgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW51bVR5cGUuT1BFTjogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRW51bVR5cGUuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBPUEVOID0gMTtcbi8vIGJpb21lLWlnbm9yZSBmb3JtYXQ6IHdhbnQgdGhpcyB0byByZWFkIHdlbGxcbi8vIGJvb3RzdHJhcC1pbmplY3QgZGVmYXVsdHM6IEVESVRJT05fUFJPVE8yIHRvIEVESVRJT05fMjAyNDogZXhwb3J0IGNvbnN0IG1pbmltdW1FZGl0aW9uOiBTdXBwb3J0ZWRFZGl0aW9uID0gJG1pbmltdW1FZGl0aW9uLCBtYXhpbXVtRWRpdGlvbjogU3VwcG9ydGVkRWRpdGlvbiA9ICRtYXhpbXVtRWRpdGlvbjtcbi8vIGdlbmVyYXRlZCBmcm9tIHByb3RvYyB2MzIuMFxuZXhwb3J0IGNvbnN0IG1pbmltdW1FZGl0aW9uID0gOTk4LCBtYXhpbXVtRWRpdGlvbiA9IDEwMDE7XG5jb25zdCBmZWF0dXJlRGVmYXVsdHMgPSB7XG4gICAgLy8gRURJVElPTl9QUk9UTzJcbiAgICA5OTg6IHtcbiAgICAgICAgZmllbGRQcmVzZW5jZTogMSwgLy8gRVhQTElDSVQsXG4gICAgICAgIGVudW1UeXBlOiAyLCAvLyBDTE9TRUQsXG4gICAgICAgIHJlcGVhdGVkRmllbGRFbmNvZGluZzogMiwgLy8gRVhQQU5ERUQsXG4gICAgICAgIHV0ZjhWYWxpZGF0aW9uOiAzLCAvLyBOT05FLFxuICAgICAgICBtZXNzYWdlRW5jb2Rpbmc6IDEsIC8vIExFTkdUSF9QUkVGSVhFRCxcbiAgICAgICAganNvbkZvcm1hdDogMiwgLy8gTEVHQUNZX0JFU1RfRUZGT1JULFxuICAgICAgICBlbmZvcmNlTmFtaW5nU3R5bGU6IDIsIC8vIFNUWUxFX0xFR0FDWSxcbiAgICAgICAgZGVmYXVsdFN5bWJvbFZpc2liaWxpdHk6IDEsIC8vIEVYUE9SVF9BTEwsXG4gICAgfSxcbiAgICAvLyBFRElUSU9OX1BST1RPM1xuICAgIDk5OToge1xuICAgICAgICBmaWVsZFByZXNlbmNlOiAyLCAvLyBJTVBMSUNJVCxcbiAgICAgICAgZW51bVR5cGU6IDEsIC8vIE9QRU4sXG4gICAgICAgIHJlcGVhdGVkRmllbGRFbmNvZGluZzogMSwgLy8gUEFDS0VELFxuICAgICAgICB1dGY4VmFsaWRhdGlvbjogMiwgLy8gVkVSSUZZLFxuICAgICAgICBtZXNzYWdlRW5jb2Rpbmc6IDEsIC8vIExFTkdUSF9QUkVGSVhFRCxcbiAgICAgICAganNvbkZvcm1hdDogMSwgLy8gQUxMT1csXG4gICAgICAgIGVuZm9yY2VOYW1pbmdTdHlsZTogMiwgLy8gU1RZTEVfTEVHQUNZLFxuICAgICAgICBkZWZhdWx0U3ltYm9sVmlzaWJpbGl0eTogMSwgLy8gRVhQT1JUX0FMTCxcbiAgICB9LFxuICAgIC8vIEVESVRJT05fMjAyM1xuICAgIDEwMDA6IHtcbiAgICAgICAgZmllbGRQcmVzZW5jZTogMSwgLy8gRVhQTElDSVQsXG4gICAgICAgIGVudW1UeXBlOiAxLCAvLyBPUEVOLFxuICAgICAgICByZXBlYXRlZEZpZWxkRW5jb2Rpbmc6IDEsIC8vIFBBQ0tFRCxcbiAgICAgICAgdXRmOFZhbGlkYXRpb246IDIsIC8vIFZFUklGWSxcbiAgICAgICAgbWVzc2FnZUVuY29kaW5nOiAxLCAvLyBMRU5HVEhfUFJFRklYRUQsXG4gICAgICAgIGpzb25Gb3JtYXQ6IDEsIC8vIEFMTE9XLFxuICAgICAgICBlbmZvcmNlTmFtaW5nU3R5bGU6IDIsIC8vIFNUWUxFX0xFR0FDWSxcbiAgICAgICAgZGVmYXVsdFN5bWJvbFZpc2liaWxpdHk6IDEsIC8vIEVYUE9SVF9BTEwsXG4gICAgfSxcbiAgICAvLyBFRElUSU9OXzIwMjRcbiAgICAxMDAxOiB7XG4gICAgICAgIGZpZWxkUHJlc2VuY2U6IDEsIC8vIEVYUExJQ0lULFxuICAgICAgICBlbnVtVHlwZTogMSwgLy8gT1BFTixcbiAgICAgICAgcmVwZWF0ZWRGaWVsZEVuY29kaW5nOiAxLCAvLyBQQUNLRUQsXG4gICAgICAgIHV0ZjhWYWxpZGF0aW9uOiAyLCAvLyBWRVJJRlksXG4gICAgICAgIG1lc3NhZ2VFbmNvZGluZzogMSwgLy8gTEVOR1RIX1BSRUZJWEVELFxuICAgICAgICBqc29uRm9ybWF0OiAxLCAvLyBBTExPVyxcbiAgICAgICAgZW5mb3JjZU5hbWluZ1N0eWxlOiAxLCAvLyBTVFlMRTIwMjQsXG4gICAgICAgIGRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5OiAyLCAvLyBFWFBPUlRfVE9QX0xFVkVMLFxuICAgIH0sXG59O1xuLyoqXG4gKiBDcmVhdGUgYSBkZXNjcmlwdG9yIGZvciBhIGZpbGUsIGFkZCBpdCB0byB0aGUgcmVnaXN0cnkuXG4gKi9cbmZ1bmN0aW9uIGFkZEZpbGUocHJvdG8sIHJlZykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgZmlsZSA9IHtcbiAgICAgICAga2luZDogXCJmaWxlXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiAoX2IgPSAoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgIGVkaXRpb246IGdldEZpbGVFZGl0aW9uKHByb3RvKSxcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZS5yZXBsYWNlKC9cXC5wcm90byQvLCBcIlwiKSxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBmaW5kRmlsZURlcGVuZGVuY2llcyhwcm90bywgcmVnKSxcbiAgICAgICAgZW51bXM6IFtdLFxuICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgIGV4dGVuc2lvbnM6IFtdLFxuICAgICAgICBzZXJ2aWNlczogW10sXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9ucyAtLSB3ZSBhc3NlcnRlZCBhYm92ZVxuICAgICAgICAgICAgcmV0dXJuIGBmaWxlICR7cHJvdG8ubmFtZX1gO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgbWFwRW50cmllc1N0b3JlID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IG1hcEVudHJpZXMgPSB7XG4gICAgICAgIGdldCh0eXBlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcEVudHJpZXNTdG9yZS5nZXQodHlwZU5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBhZGQoZGVzYykge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgYXNzZXJ0KCgoX2EgPSBkZXNjLnByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXBFbnRyeSkgPT09IHRydWUpO1xuICAgICAgICAgICAgbWFwRW50cmllc1N0b3JlLnNldChkZXNjLnR5cGVOYW1lLCBkZXNjKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgZW51bVByb3RvIG9mIHByb3RvLmVudW1UeXBlKSB7XG4gICAgICAgIGFkZEVudW0oZW51bVByb3RvLCBmaWxlLCB1bmRlZmluZWQsIHJlZyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbWVzc2FnZVByb3RvIG9mIHByb3RvLm1lc3NhZ2VUeXBlKSB7XG4gICAgICAgIGFkZE1lc3NhZ2UobWVzc2FnZVByb3RvLCBmaWxlLCB1bmRlZmluZWQsIHJlZywgbWFwRW50cmllcyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc2VydmljZVByb3RvIG9mIHByb3RvLnNlcnZpY2UpIHtcbiAgICAgICAgYWRkU2VydmljZShzZXJ2aWNlUHJvdG8sIGZpbGUsIHJlZyk7XG4gICAgfVxuICAgIGFkZEV4dGVuc2lvbnMoZmlsZSwgcmVnKTtcbiAgICBmb3IgKGNvbnN0IG1hcEVudHJ5IG9mIG1hcEVudHJpZXNTdG9yZS52YWx1ZXMoKSkge1xuICAgICAgICAvLyB0byBjcmVhdGUgYSBtYXAgZmllbGQsIHdlIG5lZWQgYWNjZXNzIHRvIHRoZSBtYXAgZW50cnkncyBmaWVsZHNcbiAgICAgICAgYWRkRmllbGRzKG1hcEVudHJ5LCByZWcsIG1hcEVudHJpZXMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgZmlsZS5tZXNzYWdlcykge1xuICAgICAgICBhZGRGaWVsZHMobWVzc2FnZSwgcmVnLCBtYXBFbnRyaWVzKTtcbiAgICAgICAgYWRkRXh0ZW5zaW9ucyhtZXNzYWdlLCByZWcpO1xuICAgIH1cbiAgICByZWcuYWRkRmlsZShmaWxlLCB0cnVlKTtcbn1cbi8qKlxuICogQ3JlYXRlIGRlc2NyaXB0b3JzIGZvciBleHRlbnNpb25zLCBhbmQgYWRkIHRoZW0gdG8gdGhlIG1lc3NhZ2UgLyBmaWxlLFxuICogYW5kIHRvIG91ciBjYXJ0LlxuICogUmVjdXJzZXMgaW50byBuZXN0ZWQgdHlwZXMuXG4gKi9cbmZ1bmN0aW9uIGFkZEV4dGVuc2lvbnMoZGVzYywgcmVnKSB7XG4gICAgc3dpdGNoIChkZXNjLmtpbmQpIHtcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvdG8gb2YgZGVzYy5wcm90by5leHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBuZXdGaWVsZChwcm90bywgZGVzYywgcmVnKTtcbiAgICAgICAgICAgICAgICBkZXNjLmV4dGVuc2lvbnMucHVzaChleHQpO1xuICAgICAgICAgICAgICAgIHJlZy5hZGQoZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm90byBvZiBkZXNjLnByb3RvLmV4dGVuc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IG5ld0ZpZWxkKHByb3RvLCBkZXNjLCByZWcpO1xuICAgICAgICAgICAgICAgIGRlc2MubmVzdGVkRXh0ZW5zaW9ucy5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgcmVnLmFkZChleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGRlc2MubmVzdGVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICBhZGRFeHRlbnNpb25zKG1lc3NhZ2UsIHJlZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBkZXNjcmlwdG9ycyBmb3IgZmllbGRzIGFuZCBvbmVvZiBncm91cHMsIGFuZCBhZGQgdGhlbSB0byB0aGUgbWVzc2FnZS5cbiAqIFJlY3Vyc2VzIGludG8gbmVzdGVkIHR5cGVzLlxuICovXG5mdW5jdGlvbiBhZGRGaWVsZHMobWVzc2FnZSwgcmVnLCBtYXBFbnRyaWVzKSB7XG4gICAgY29uc3QgYWxsT25lb2ZzID0gbWVzc2FnZS5wcm90by5vbmVvZkRlY2wubWFwKChwcm90bykgPT4gbmV3T25lb2YocHJvdG8sIG1lc3NhZ2UpKTtcbiAgICBjb25zdCBvbmVvZnNTZWVuID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgcHJvdG8gb2YgbWVzc2FnZS5wcm90by5maWVsZCkge1xuICAgICAgICBjb25zdCBvbmVvZiA9IGZpbmRPbmVvZihwcm90bywgYWxsT25lb2ZzKTtcbiAgICAgICAgY29uc3QgZmllbGQgPSBuZXdGaWVsZChwcm90bywgbWVzc2FnZSwgcmVnLCBvbmVvZiwgbWFwRW50cmllcyk7XG4gICAgICAgIG1lc3NhZ2UuZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICBtZXNzYWdlLmZpZWxkW2ZpZWxkLmxvY2FsTmFtZV0gPSBmaWVsZDtcbiAgICAgICAgaWYgKG9uZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UubWVtYmVycy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uZW9mLmZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgIGlmICghb25lb2ZzU2Vlbi5oYXMob25lb2YpKSB7XG4gICAgICAgICAgICAgICAgb25lb2ZzU2Vlbi5hZGQob25lb2YpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVtYmVycy5wdXNoKG9uZW9mKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IG9uZW9mIG9mIGFsbE9uZW9mcy5maWx0ZXIoKG8pID0+IG9uZW9mc1NlZW4uaGFzKG8pKSkge1xuICAgICAgICBtZXNzYWdlLm9uZW9mcy5wdXNoKG9uZW9mKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBtZXNzYWdlLm5lc3RlZE1lc3NhZ2VzKSB7XG4gICAgICAgIGFkZEZpZWxkcyhjaGlsZCwgcmVnLCBtYXBFbnRyaWVzKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIGRlc2NyaXB0b3IgZm9yIGFuIGVudW1lcmF0aW9uLCBhbmQgYWRkIGl0IG91ciBjYXJ0IGFuZCB0byB0aGVcbiAqIHBhcmVudCB0eXBlLCBpZiBhbnkuXG4gKi9cbmZ1bmN0aW9uIGFkZEVudW0ocHJvdG8sIGZpbGUsIHBhcmVudCwgcmVnKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCBzaGFyZWRQcmVmaXggPSBmaW5kRW51bVNoYXJlZFByZWZpeChwcm90by5uYW1lLCBwcm90by52YWx1ZSk7XG4gICAgY29uc3QgZGVzYyA9IHtcbiAgICAgICAga2luZDogXCJlbnVtXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiAoX2IgPSAoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgIGZpbGUsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgdHlwZU5hbWU6IG1ha2VUeXBlTmFtZShwcm90bywgcGFyZW50LCBmaWxlKSxcbiAgICAgICAgdmFsdWU6IHt9LFxuICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICBzaGFyZWRQcmVmaXgsXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGBlbnVtICR7dGhpcy50eXBlTmFtZX1gO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZGVzYy5vcGVuID0gaXNFbnVtT3BlbihkZXNjKTtcbiAgICByZWcuYWRkKGRlc2MpO1xuICAgIGZvciAoY29uc3QgcCBvZiBwcm90by52YWx1ZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gcC5uYW1lO1xuICAgICAgICBkZXNjLnZhbHVlcy5wdXNoKFxuICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vQXNzaWduSW5FeHByZXNzaW9uczogbm9cbiAgICAgICAgKGRlc2MudmFsdWVbcC5udW1iZXJdID0ge1xuICAgICAgICAgICAga2luZDogXCJlbnVtX3ZhbHVlXCIsXG4gICAgICAgICAgICBwcm90bzogcCxcbiAgICAgICAgICAgIGRlcHJlY2F0ZWQ6IChfZCA9IChfYyA9IHAub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyZW50OiBkZXNjLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGxvY2FsTmFtZTogc2FmZU9iamVjdFByb3BlcnR5KHNoYXJlZFByZWZpeCA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG5hbWVcbiAgICAgICAgICAgICAgICA6IG5hbWUuc3Vic3RyaW5nKHNoYXJlZFByZWZpeC5sZW5ndGgpKSxcbiAgICAgICAgICAgIG51bWJlcjogcC5udW1iZXIsXG4gICAgICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYGVudW0gdmFsdWUgJHtkZXNjLnR5cGVOYW1lfS4ke25hbWV9YDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgKChfZSA9IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5uZXN0ZWRFbnVtcykgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogZmlsZS5lbnVtcykucHVzaChkZXNjKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgZGVzY3JpcHRvciBmb3IgYSBtZXNzYWdlLCBpbmNsdWRpbmcgbmVzdGVkIHR5cGVzLCBhbmQgYWRkIGl0IHRvIG91clxuICogY2FydC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY3JlYXRlIGRlc2NyaXB0b3JzIGZpZWxkcy5cbiAqL1xuZnVuY3Rpb24gYWRkTWVzc2FnZShwcm90bywgZmlsZSwgcGFyZW50LCByZWcsIG1hcEVudHJpZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgZGVzYyA9IHtcbiAgICAgICAga2luZDogXCJtZXNzYWdlXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiAoX2IgPSAoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgIGZpbGUsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgdHlwZU5hbWU6IG1ha2VUeXBlTmFtZShwcm90bywgcGFyZW50LCBmaWxlKSxcbiAgICAgICAgZmllbGRzOiBbXSxcbiAgICAgICAgZmllbGQ6IHt9LFxuICAgICAgICBvbmVvZnM6IFtdLFxuICAgICAgICBtZW1iZXJzOiBbXSxcbiAgICAgICAgbmVzdGVkRW51bXM6IFtdLFxuICAgICAgICBuZXN0ZWRNZXNzYWdlczogW10sXG4gICAgICAgIG5lc3RlZEV4dGVuc2lvbnM6IFtdLFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgbWVzc2FnZSAke3RoaXMudHlwZU5hbWV9YDtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGlmICgoKF9jID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1hcEVudHJ5KSA9PT0gdHJ1ZSkge1xuICAgICAgICBtYXBFbnRyaWVzLmFkZChkZXNjKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgICgoX2QgPSBwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQubmVzdGVkTWVzc2FnZXMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGZpbGUubWVzc2FnZXMpLnB1c2goZGVzYyk7XG4gICAgICAgIHJlZy5hZGQoZGVzYyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZW51bVByb3RvIG9mIHByb3RvLmVudW1UeXBlKSB7XG4gICAgICAgIGFkZEVudW0oZW51bVByb3RvLCBmaWxlLCBkZXNjLCByZWcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2VQcm90byBvZiBwcm90by5uZXN0ZWRUeXBlKSB7XG4gICAgICAgIGFkZE1lc3NhZ2UobWVzc2FnZVByb3RvLCBmaWxlLCBkZXNjLCByZWcsIG1hcEVudHJpZXMpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgZGVzY3JpcHRvciBmb3IgYSBzZXJ2aWNlLCBpbmNsdWRpbmcgbWV0aG9kcywgYW5kIGFkZCBpdCB0byBvdXJcbiAqIGNhcnQuXG4gKi9cbmZ1bmN0aW9uIGFkZFNlcnZpY2UocHJvdG8sIGZpbGUsIHJlZykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgZGVzYyA9IHtcbiAgICAgICAga2luZDogXCJzZXJ2aWNlXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiAoX2IgPSAoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgIGZpbGUsXG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIHR5cGVOYW1lOiBtYWtlVHlwZU5hbWUocHJvdG8sIHVuZGVmaW5lZCwgZmlsZSksXG4gICAgICAgIG1ldGhvZHM6IFtdLFxuICAgICAgICBtZXRob2Q6IHt9LFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgc2VydmljZSAke3RoaXMudHlwZU5hbWV9YDtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZpbGUuc2VydmljZXMucHVzaChkZXNjKTtcbiAgICByZWcuYWRkKGRlc2MpO1xuICAgIGZvciAoY29uc3QgbWV0aG9kUHJvdG8gb2YgcHJvdG8ubWV0aG9kKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG5ld01ldGhvZChtZXRob2RQcm90bywgZGVzYywgcmVnKTtcbiAgICAgICAgZGVzYy5tZXRob2RzLnB1c2gobWV0aG9kKTtcbiAgICAgICAgZGVzYy5tZXRob2RbbWV0aG9kLmxvY2FsTmFtZV0gPSBtZXRob2Q7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBkZXNjcmlwdG9yIGZvciBhIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gbmV3TWV0aG9kKHByb3RvLCBwYXJlbnQsIHJlZykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBsZXQgbWV0aG9kS2luZDtcbiAgICBpZiAocHJvdG8uY2xpZW50U3RyZWFtaW5nICYmIHByb3RvLnNlcnZlclN0cmVhbWluZykge1xuICAgICAgICBtZXRob2RLaW5kID0gXCJiaWRpX3N0cmVhbWluZ1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm90by5jbGllbnRTdHJlYW1pbmcpIHtcbiAgICAgICAgbWV0aG9kS2luZCA9IFwiY2xpZW50X3N0cmVhbWluZ1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm90by5zZXJ2ZXJTdHJlYW1pbmcpIHtcbiAgICAgICAgbWV0aG9kS2luZCA9IFwic2VydmVyX3N0cmVhbWluZ1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWV0aG9kS2luZCA9IFwidW5hcnlcIjtcbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSByZWcuZ2V0TWVzc2FnZSh0cmltTGVhZGluZ0RvdChwcm90by5pbnB1dFR5cGUpKTtcbiAgICBjb25zdCBvdXRwdXQgPSByZWcuZ2V0TWVzc2FnZSh0cmltTGVhZGluZ0RvdChwcm90by5vdXRwdXRUeXBlKSk7XG4gICAgYXNzZXJ0KGlucHV0LCBgaW52YWxpZCBNZXRob2REZXNjcmlwdG9yUHJvdG86IGlucHV0X3R5cGUgJHtwcm90by5pbnB1dFR5cGV9IG5vdCBmb3VuZGApO1xuICAgIGFzc2VydChvdXRwdXQsIGBpbnZhbGlkIE1ldGhvZERlc2NyaXB0b3JQcm90bzogb3V0cHV0X3R5cGUgJHtwcm90by5pbnB1dFR5cGV9IG5vdCBmb3VuZGApO1xuICAgIGNvbnN0IG5hbWUgPSBwcm90by5uYW1lO1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwicnBjXCIsXG4gICAgICAgIHByb3RvLFxuICAgICAgICBkZXByZWNhdGVkOiAoX2IgPSAoX2EgPSBwcm90by5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVwcmVjYXRlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbG9jYWxOYW1lOiBzYWZlT2JqZWN0UHJvcGVydHkobmFtZS5sZW5ndGhcbiAgICAgICAgICAgID8gc2FmZU9iamVjdFByb3BlcnR5KG5hbWVbMF0udG9Mb3dlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpKVxuICAgICAgICAgICAgOiBuYW1lKSxcbiAgICAgICAgbWV0aG9kS2luZCxcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgaWRlbXBvdGVuY3k6IChfZCA9IChfYyA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pZGVtcG90ZW5jeUxldmVsKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBJREVNUE9URU5DWV9VTktOT1dOLFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgcnBjICR7cGFyZW50LnR5cGVOYW1lfS4ke25hbWV9YDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBkZXNjcmlwdG9yIGZvciBhIG9uZW9mIGdyb3VwLlxuICovXG5mdW5jdGlvbiBuZXdPbmVvZihwcm90bywgcGFyZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJvbmVvZlwiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogZmFsc2UsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgZmllbGRzOiBbXSxcbiAgICAgICAgbmFtZTogcHJvdG8ubmFtZSxcbiAgICAgICAgbG9jYWxOYW1lOiBzYWZlT2JqZWN0UHJvcGVydHkocHJvdG9DYW1lbENhc2UocHJvdG8ubmFtZSkpLFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgb25lb2YgJHtwYXJlbnQudHlwZU5hbWV9LiR7dGhpcy5uYW1lfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG5ld0ZpZWxkKHByb3RvLCBwYXJlbnRPckZpbGUsIHJlZywgb25lb2YsIG1hcEVudHJpZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBpc0V4dGVuc2lvbiA9IG1hcEVudHJpZXMgPT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCBmaWVsZCA9IHtcbiAgICAgICAga2luZDogXCJmaWVsZFwiLFxuICAgICAgICBwcm90byxcbiAgICAgICAgZGVwcmVjYXRlZDogKF9iID0gKF9hID0gcHJvdG8ub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcHJlY2F0ZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICBudW1iZXI6IHByb3RvLm51bWJlcixcbiAgICAgICAgc2NhbGFyOiB1bmRlZmluZWQsXG4gICAgICAgIG1lc3NhZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgZW51bTogdW5kZWZpbmVkLFxuICAgICAgICBwcmVzZW5jZTogZ2V0RmllbGRQcmVzZW5jZShwcm90bywgb25lb2YsIGlzRXh0ZW5zaW9uLCBwYXJlbnRPckZpbGUpLFxuICAgICAgICBsaXN0S2luZDogdW5kZWZpbmVkLFxuICAgICAgICBtYXBLaW5kOiB1bmRlZmluZWQsXG4gICAgICAgIG1hcEtleTogdW5kZWZpbmVkLFxuICAgICAgICBkZWxpbWl0ZWRFbmNvZGluZzogdW5kZWZpbmVkLFxuICAgICAgICBwYWNrZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9uZ0FzU3RyaW5nOiBmYWxzZSxcbiAgICAgICAgZ2V0RGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICBpZiAoaXNFeHRlbnNpb24pIHtcbiAgICAgICAgLy8gZXh0ZW5zaW9uIGZpZWxkXG4gICAgICAgIGNvbnN0IGZpbGUgPSBwYXJlbnRPckZpbGUua2luZCA9PSBcImZpbGVcIiA/IHBhcmVudE9yRmlsZSA6IHBhcmVudE9yRmlsZS5maWxlO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBwYXJlbnRPckZpbGUua2luZCA9PSBcImZpbGVcIiA/IHVuZGVmaW5lZCA6IHBhcmVudE9yRmlsZTtcbiAgICAgICAgY29uc3QgdHlwZU5hbWUgPSBtYWtlVHlwZU5hbWUocHJvdG8sIHBhcmVudCwgZmlsZSk7XG4gICAgICAgIGZpZWxkLmtpbmQgPSBcImV4dGVuc2lvblwiO1xuICAgICAgICBmaWVsZC5maWxlID0gZmlsZTtcbiAgICAgICAgZmllbGQucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBmaWVsZC5vbmVvZiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZmllbGQudHlwZU5hbWUgPSB0eXBlTmFtZTtcbiAgICAgICAgZmllbGQuanNvbk5hbWUgPSBgWyR7dHlwZU5hbWV9XWA7IC8vIG9wdGlvbiBqc29uX25hbWUgaXMgbm90IGFsbG93ZWQgb24gZXh0ZW5zaW9uIGZpZWxkc1xuICAgICAgICBmaWVsZC50b1N0cmluZyA9ICgpID0+IGBleHRlbnNpb24gJHt0eXBlTmFtZX1gO1xuICAgICAgICBjb25zdCBleHRlbmRlZSA9IHJlZy5nZXRNZXNzYWdlKHRyaW1MZWFkaW5nRG90KHByb3RvLmV4dGVuZGVlKSk7XG4gICAgICAgIGFzc2VydChleHRlbmRlZSwgYGludmFsaWQgRmllbGREZXNjcmlwdG9yUHJvdG86IGV4dGVuZGVlICR7cHJvdG8uZXh0ZW5kZWV9IG5vdCBmb3VuZGApO1xuICAgICAgICBmaWVsZC5leHRlbmRlZSA9IGV4dGVuZGVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVndWxhciBmaWVsZFxuICAgICAgICBjb25zdCBwYXJlbnQgPSBwYXJlbnRPckZpbGU7XG4gICAgICAgIGFzc2VydChwYXJlbnQua2luZCA9PSBcIm1lc3NhZ2VcIik7XG4gICAgICAgIGZpZWxkLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgZmllbGQub25lb2YgPSBvbmVvZjtcbiAgICAgICAgZmllbGQubG9jYWxOYW1lID0gb25lb2ZcbiAgICAgICAgICAgID8gcHJvdG9DYW1lbENhc2UocHJvdG8ubmFtZSlcbiAgICAgICAgICAgIDogc2FmZU9iamVjdFByb3BlcnR5KHByb3RvQ2FtZWxDYXNlKHByb3RvLm5hbWUpKTtcbiAgICAgICAgZmllbGQuanNvbk5hbWUgPSBwcm90by5qc29uTmFtZTtcbiAgICAgICAgZmllbGQudG9TdHJpbmcgPSAoKSA9PiBgZmllbGQgJHtwYXJlbnQudHlwZU5hbWV9LiR7cHJvdG8ubmFtZX1gO1xuICAgIH1cbiAgICBjb25zdCBsYWJlbCA9IHByb3RvLmxhYmVsO1xuICAgIGNvbnN0IHR5cGUgPSBwcm90by50eXBlO1xuICAgIGNvbnN0IGpzdHlwZSA9IChfYyA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5qc3R5cGU7XG4gICAgaWYgKGxhYmVsID09PSBMQUJFTF9SRVBFQVRFRCkge1xuICAgICAgICAvLyBsaXN0IG9yIG1hcCBmaWVsZFxuICAgICAgICBjb25zdCBtYXBFbnRyeSA9IHR5cGUgPT0gVFlQRV9NRVNTQUdFXG4gICAgICAgICAgICA/IG1hcEVudHJpZXMgPT09IG51bGwgfHwgbWFwRW50cmllcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFwRW50cmllcy5nZXQodHJpbUxlYWRpbmdEb3QocHJvdG8udHlwZU5hbWUpKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChtYXBFbnRyeSkge1xuICAgICAgICAgICAgLy8gbWFwIGZpZWxkXG4gICAgICAgICAgICBmaWVsZC5maWVsZEtpbmQgPSBcIm1hcFwiO1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBmaW5kTWFwRW50cnlGaWVsZHMobWFwRW50cnkpO1xuICAgICAgICAgICAgZmllbGQubWFwS2V5ID0ga2V5LnNjYWxhcjtcbiAgICAgICAgICAgIGZpZWxkLm1hcEtpbmQgPSB2YWx1ZS5maWVsZEtpbmQ7XG4gICAgICAgICAgICBmaWVsZC5tZXNzYWdlID0gdmFsdWUubWVzc2FnZTtcbiAgICAgICAgICAgIGZpZWxkLmRlbGltaXRlZEVuY29kaW5nID0gZmFsc2U7IC8vIG1hcCBmaWVsZHMgYXJlIGFsd2F5cyBMRU5HVEhfUFJFRklYRURcbiAgICAgICAgICAgIGZpZWxkLmVudW0gPSB2YWx1ZS5lbnVtO1xuICAgICAgICAgICAgZmllbGQuc2NhbGFyID0gdmFsdWUuc2NhbGFyO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxpc3QgZmllbGRcbiAgICAgICAgZmllbGQuZmllbGRLaW5kID0gXCJsaXN0XCI7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUWVBFX01FU1NBR0U6XG4gICAgICAgICAgICBjYXNlIFRZUEVfR1JPVVA6XG4gICAgICAgICAgICAgICAgZmllbGQubGlzdEtpbmQgPSBcIm1lc3NhZ2VcIjtcbiAgICAgICAgICAgICAgICBmaWVsZC5tZXNzYWdlID0gcmVnLmdldE1lc3NhZ2UodHJpbUxlYWRpbmdEb3QocHJvdG8udHlwZU5hbWUpKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmllbGQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgZmllbGQuZGVsaW1pdGVkRW5jb2RpbmcgPSBpc0RlbGltaXRlZEVuY29kaW5nKHByb3RvLCBwYXJlbnRPckZpbGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUWVBFX0VOVU06XG4gICAgICAgICAgICAgICAgZmllbGQubGlzdEtpbmQgPSBcImVudW1cIjtcbiAgICAgICAgICAgICAgICBmaWVsZC5lbnVtID0gcmVnLmdldEVudW0odHJpbUxlYWRpbmdEb3QocHJvdG8udHlwZU5hbWUpKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmllbGQuZW51bSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZpZWxkLmxpc3RLaW5kID0gXCJzY2FsYXJcIjtcbiAgICAgICAgICAgICAgICBmaWVsZC5zY2FsYXIgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGZpZWxkLmxvbmdBc1N0cmluZyA9IGpzdHlwZSA9PSBKU19TVFJJTkc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZmllbGQucGFja2VkID0gaXNQYWNrZWRGaWVsZChwcm90bywgcGFyZW50T3JGaWxlKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cbiAgICAvLyBzaW5ndWxhclxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFRZUEVfTUVTU0FHRTpcbiAgICAgICAgY2FzZSBUWVBFX0dST1VQOlxuICAgICAgICAgICAgZmllbGQuZmllbGRLaW5kID0gXCJtZXNzYWdlXCI7XG4gICAgICAgICAgICBmaWVsZC5tZXNzYWdlID0gcmVnLmdldE1lc3NhZ2UodHJpbUxlYWRpbmdEb3QocHJvdG8udHlwZU5hbWUpKTtcbiAgICAgICAgICAgIGFzc2VydChmaWVsZC5tZXNzYWdlLCBgaW52YWxpZCBGaWVsZERlc2NyaXB0b3JQcm90bzogdHlwZV9uYW1lICR7cHJvdG8udHlwZU5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgZmllbGQuZGVsaW1pdGVkRW5jb2RpbmcgPSBpc0RlbGltaXRlZEVuY29kaW5nKHByb3RvLCBwYXJlbnRPckZpbGUpO1xuICAgICAgICAgICAgZmllbGQuZ2V0RGVmYXVsdFZhbHVlID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVFlQRV9FTlVNOiB7XG4gICAgICAgICAgICBjb25zdCBlbnVtZXJhdGlvbiA9IHJlZy5nZXRFbnVtKHRyaW1MZWFkaW5nRG90KHByb3RvLnR5cGVOYW1lKSk7XG4gICAgICAgICAgICBhc3NlcnQoZW51bWVyYXRpb24gIT09IHVuZGVmaW5lZCwgYGludmFsaWQgRmllbGREZXNjcmlwdG9yUHJvdG86IHR5cGVfbmFtZSAke3Byb3RvLnR5cGVOYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIGZpZWxkLmZpZWxkS2luZCA9IFwiZW51bVwiO1xuICAgICAgICAgICAgZmllbGQuZW51bSA9IHJlZy5nZXRFbnVtKHRyaW1MZWFkaW5nRG90KHByb3RvLnR5cGVOYW1lKSk7XG4gICAgICAgICAgICBmaWVsZC5nZXREZWZhdWx0VmFsdWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuc2FmZUlzU2V0RXhwbGljaXQocHJvdG8sIFwiZGVmYXVsdFZhbHVlXCIpXG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VUZXh0Rm9ybWF0RW51bVZhbHVlKGVudW1lcmF0aW9uLCBwcm90by5kZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGZpZWxkLmZpZWxkS2luZCA9IFwic2NhbGFyXCI7XG4gICAgICAgICAgICBmaWVsZC5zY2FsYXIgPSB0eXBlO1xuICAgICAgICAgICAgZmllbGQubG9uZ0FzU3RyaW5nID0ganN0eXBlID09IEpTX1NUUklORztcbiAgICAgICAgICAgIGZpZWxkLmdldERlZmF1bHRWYWx1ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5zYWZlSXNTZXRFeHBsaWNpdChwcm90bywgXCJkZWZhdWx0VmFsdWVcIilcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJzZVRleHRGb3JtYXRTY2FsYXJWYWx1ZSh0eXBlLCBwcm90by5kZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaWVsZDtcbn1cbi8qKlxuICogUGFyc2UgdGhlIFwic3ludGF4XCIgYW5kIFwiZWRpdGlvblwiIGZpZWxkcywgcmV0dXJuaW5nIG9uZSBvZiB0aGUgc3VwcG9ydGVkXG4gKiBlZGl0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZ2V0RmlsZUVkaXRpb24ocHJvdG8pIHtcbiAgICBzd2l0Y2ggKHByb3RvLnN5bnRheCkge1xuICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgIGNhc2UgXCJwcm90bzJcIjpcbiAgICAgICAgICAgIHJldHVybiBFRElUSU9OX1BST1RPMjtcbiAgICAgICAgY2FzZSBcInByb3RvM1wiOlxuICAgICAgICAgICAgcmV0dXJuIEVESVRJT05fUFJPVE8zO1xuICAgICAgICBjYXNlIFwiZWRpdGlvbnNcIjpcbiAgICAgICAgICAgIGlmIChwcm90by5lZGl0aW9uIGluIGZlYXR1cmVEZWZhdWx0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm90by5lZGl0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3RvLm5hbWV9OiB1bnN1cHBvcnRlZCBlZGl0aW9uYCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cHJvdG8ubmFtZX06IHVuc3VwcG9ydGVkIHN5bnRheCBcIiR7cHJvdG8uc3ludGF4fVwiYCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIGRlcGVuZGVuY2llcyBvZiBGaWxlRGVzY3JpcHRvclByb3RvIHRvIERlc2NGaWxlLlxuICovXG5mdW5jdGlvbiBmaW5kRmlsZURlcGVuZGVuY2llcyhwcm90bywgcmVnKSB7XG4gICAgcmV0dXJuIHByb3RvLmRlcGVuZGVuY3kubWFwKCh3YW50TmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBkZXAgPSByZWcuZ2V0RmlsZSh3YW50TmFtZSk7XG4gICAgICAgIGlmICghZGVwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kICR7d2FudE5hbWV9LCBpbXBvcnRlZCBieSAke3Byb3RvLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlcDtcbiAgICB9KTtcbn1cbi8qKlxuICogRmluZHMgYSBwcmVmaXggc2hhcmVkIGJ5IGVudW0gdmFsdWVzLCBmb3IgZXhhbXBsZSBgbXlfZW51bV9gIGZvclxuICogYGVudW0gTXlFbnVtIHtNWV9FTlVNX0E9MDsgTVlfRU5VTV9CPTE7fWAuXG4gKi9cbmZ1bmN0aW9uIGZpbmRFbnVtU2hhcmVkUHJlZml4KGVudW1OYW1lLCB2YWx1ZXMpIHtcbiAgICBjb25zdCBwcmVmaXggPSBjYW1lbFRvU25ha2VDYXNlKGVudW1OYW1lKSArIFwiX1wiO1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgIGlmICghdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaG9ydE5hbWUgPSB2YWx1ZS5uYW1lLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgaWYgKHNob3J0TmFtZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoL15cXGQvLnRlc3Qoc2hvcnROYW1lKSkge1xuICAgICAgICAgICAgLy8gaWRlbnRpZmllcnMgbXVzdCBub3Qgc3RhcnQgd2l0aCBudW1iZXJzXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmVmaXg7XG59XG4vKipcbiAqIENvbnZlcnRzIGxvd2VyQ2FtZWxDYXNlIG9yIFVwcGVyQ2FtZWxDYXNlIGludG8gbG93ZXJfc25ha2VfY2FzZS5cbiAqIFRoaXMgaXMgdXNlZCB0byBmaW5kIHNoYXJlZCBwcmVmaXhlcyBpbiBhbiBlbnVtLlxuICovXG5mdW5jdGlvbiBjYW1lbFRvU25ha2VDYXNlKGNhbWVsKSB7XG4gICAgcmV0dXJuIChjYW1lbC5zdWJzdHJpbmcoMCwgMSkgKyBjYW1lbC5zdWJzdHJpbmcoMSkucmVwbGFjZSgvW0EtWl0vZywgKGMpID0+IFwiX1wiICsgYykpLnRvTG93ZXJDYXNlKCk7XG59XG4vKipcbiAqIENyZWF0ZSBhIGZ1bGx5IHF1YWxpZmllZCBuYW1lIGZvciBhIHByb3RvYnVmIHR5cGUgb3IgZXh0ZW5zaW9uIGZpZWxkLlxuICpcbiAqIFRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZSBmb3IgbWVzc2FnZXMsIGVudW1lcmF0aW9ucywgYW5kIHNlcnZpY2VzIGlzXG4gKiBjb25zdHJ1Y3RlZCBieSBjb25jYXRlbmF0aW5nIHRoZSBwYWNrYWdlIG5hbWUgKGlmIHByZXNlbnQpLCBwYXJlbnRcbiAqIG1lc3NhZ2UgbmFtZXMgKGZvciBuZXN0ZWQgdHlwZXMpLCBhbmQgdGhlIHR5cGUgbmFtZS4gV2Ugb21pdCB0aGUgbGVhZGluZ1xuICogZG90IGFkZGVkIGJ5IHByb3RvYnVmIGNvbXBpbGVycy4gRXhhbXBsZXM6XG4gKiAtIG15cGFja2FnZS5NeU1lc3NhZ2VcbiAqIC0gbXlwYWNrYWdlLk15TWVzc2FnZS5OZXN0ZWRNZXNzYWdlXG4gKlxuICogVGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lIGZvciBleHRlbnNpb24gZmllbGRzIGlzIGNvbnN0cnVjdGVkIGJ5XG4gKiBjb25jYXRlbmF0aW5nIHRoZSBwYWNrYWdlIG5hbWUgKGlmIHByZXNlbnQpLCBwYXJlbnQgbWVzc2FnZSBuYW1lcyAoZm9yXG4gKiBleHRlbnNpb25zIGRlY2xhcmVkIHdpdGhpbiBhIG1lc3NhZ2UpLCBhbmQgdGhlIGZpZWxkIG5hbWUuIEV4YW1wbGVzOlxuICogLSBteXBhY2thZ2UuZXh0ZmllbGRcbiAqIC0gbXlwYWNrYWdlLk15TWVzc2FnZS5leHRmaWVsZFxuICovXG5mdW5jdGlvbiBtYWtlVHlwZU5hbWUocHJvdG8sIHBhcmVudCwgZmlsZSkge1xuICAgIGxldCB0eXBlTmFtZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHR5cGVOYW1lID0gYCR7cGFyZW50LnR5cGVOYW1lfS4ke3Byb3RvLm5hbWV9YDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlsZS5wcm90by5wYWNrYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHlwZU5hbWUgPSBgJHtmaWxlLnByb3RvLnBhY2thZ2V9LiR7cHJvdG8ubmFtZX1gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdHlwZU5hbWUgPSBgJHtwcm90by5uYW1lfWA7XG4gICAgfVxuICAgIHJldHVybiB0eXBlTmFtZTtcbn1cbi8qKlxuICogUmVtb3ZlIHRoZSBsZWFkaW5nIGRvdCBmcm9tIGEgZnVsbHkgcXVhbGlmaWVkIHR5cGUgbmFtZS5cbiAqL1xuZnVuY3Rpb24gdHJpbUxlYWRpbmdEb3QodHlwZU5hbWUpIHtcbiAgICByZXR1cm4gdHlwZU5hbWUuc3RhcnRzV2l0aChcIi5cIikgPyB0eXBlTmFtZS5zdWJzdHJpbmcoMSkgOiB0eXBlTmFtZTtcbn1cbi8qKlxuICogRGlkIHRoZSB1c2VyIHB1dCB0aGUgZmllbGQgaW4gYSBvbmVvZiBncm91cD9cbiAqIFN5bnRoZXRpYyBvbmVvZnMgZm9yIHByb3RvMyBvcHRpb25hbHMgYXJlIGlnbm9yZWQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRPbmVvZihwcm90bywgYWxsT25lb2ZzKSB7XG4gICAgaWYgKCF1bnNhZmVJc1NldEV4cGxpY2l0KHByb3RvLCBcIm9uZW9mSW5kZXhcIikpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHByb3RvLnByb3RvM09wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IG9uZW9mID0gYWxsT25lb2ZzW3Byb3RvLm9uZW9mSW5kZXhdO1xuICAgIGFzc2VydChvbmVvZiwgYGludmFsaWQgRmllbGREZXNjcmlwdG9yUHJvdG86IG9uZW9mICMke3Byb3RvLm9uZW9mSW5kZXh9IGZvciBmaWVsZCAjJHtwcm90by5udW1iZXJ9IG5vdCBmb3VuZGApO1xuICAgIHJldHVybiBvbmVvZjtcbn1cbi8qKlxuICogUHJlc2VuY2Ugb2YgdGhlIGZpZWxkLlxuICogU2VlIGh0dHBzOi8vcHJvdG9idWYuZGV2L3Byb2dyYW1taW5nLWd1aWRlcy9maWVsZF9wcmVzZW5jZS9cbiAqL1xuZnVuY3Rpb24gZ2V0RmllbGRQcmVzZW5jZShwcm90bywgb25lb2YsIGlzRXh0ZW5zaW9uLCBwYXJlbnQpIHtcbiAgICBpZiAocHJvdG8ubGFiZWwgPT0gTEFCRUxfUkVRVUlSRUQpIHtcbiAgICAgICAgLy8gcHJvdG8yIHJlcXVpcmVkIGlzIExFR0FDWV9SRVFVSVJFRFxuICAgICAgICByZXR1cm4gTEVHQUNZX1JFUVVJUkVEO1xuICAgIH1cbiAgICBpZiAocHJvdG8ubGFiZWwgPT0gTEFCRUxfUkVQRUFURUQpIHtcbiAgICAgICAgLy8gcmVwZWF0ZWQgZmllbGRzIChpbmNsdWRpbmcgbWFwcykgZG8gbm90IHRyYWNrIHByZXNlbmNlXG4gICAgICAgIHJldHVybiBJTVBMSUNJVDtcbiAgICB9XG4gICAgaWYgKCEhb25lb2YgfHwgcHJvdG8ucHJvdG8zT3B0aW9uYWwpIHtcbiAgICAgICAgLy8gb25lb2YgaXMgYWx3YXlzIGV4cGxpY2l0XG4gICAgICAgIHJldHVybiBFWFBMSUNJVDtcbiAgICB9XG4gICAgaWYgKGlzRXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIGV4dGVuc2lvbnMgYWx3YXlzIHRyYWNrIHByZXNlbmNlXG4gICAgICAgIHJldHVybiBFWFBMSUNJVDtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlRmVhdHVyZShcImZpZWxkUHJlc2VuY2VcIiwgeyBwcm90bywgcGFyZW50IH0pO1xuICAgIGlmIChyZXNvbHZlZCA9PSBJTVBMSUNJVCAmJlxuICAgICAgICAocHJvdG8udHlwZSA9PSBUWVBFX01FU1NBR0UgfHwgcHJvdG8udHlwZSA9PSBUWVBFX0dST1VQKSkge1xuICAgICAgICAvLyBzaW5ndWxhciBtZXNzYWdlIGZpZWxkIGNhbm5vdCBiZSBpbXBsaWNpdFxuICAgICAgICByZXR1cm4gRVhQTElDSVQ7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZDtcbn1cbi8qKlxuICogUGFjayB0aGlzIHJlcGVhdGVkIGZpZWxkP1xuICovXG5mdW5jdGlvbiBpc1BhY2tlZEZpZWxkKHByb3RvLCBwYXJlbnQpIHtcbiAgICBpZiAocHJvdG8ubGFiZWwgIT0gTEFCRUxfUkVQRUFURUQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzd2l0Y2ggKHByb3RvLnR5cGUpIHtcbiAgICAgICAgY2FzZSBUWVBFX1NUUklORzpcbiAgICAgICAgY2FzZSBUWVBFX0JZVEVTOlxuICAgICAgICBjYXNlIFRZUEVfR1JPVVA6XG4gICAgICAgIGNhc2UgVFlQRV9NRVNTQUdFOlxuICAgICAgICAgICAgLy8gbGVuZ3RoLWRlbGltaXRlZCB0eXBlcyBjYW5ub3QgYmUgcGFja2VkXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IG8gPSBwcm90by5vcHRpb25zO1xuICAgIGlmIChvICYmIHVuc2FmZUlzU2V0RXhwbGljaXQobywgXCJwYWNrZWRcIikpIHtcbiAgICAgICAgLy8gcHJlZmVyIHRoZSBmaWVsZCBvcHRpb24gb3ZlciBlZGl0aW9uIGZlYXR1cmVzXG4gICAgICAgIHJldHVybiBvLnBhY2tlZDtcbiAgICB9XG4gICAgcmV0dXJuIChQQUNLRUQgPT1cbiAgICAgICAgcmVzb2x2ZUZlYXR1cmUoXCJyZXBlYXRlZEZpZWxkRW5jb2RpbmdcIiwge1xuICAgICAgICAgICAgcHJvdG8sXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgIH0pKTtcbn1cbi8qKlxuICogRmluZCB0aGUga2V5IGFuZCB2YWx1ZSBmaWVsZHMgb2YgYSBzeW50aGV0aWMgbWFwIGVudHJ5IG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNYXBFbnRyeUZpZWxkcyhtYXBFbnRyeSkge1xuICAgIGNvbnN0IGtleSA9IG1hcEVudHJ5LmZpZWxkcy5maW5kKChmKSA9PiBmLm51bWJlciA9PT0gMSk7XG4gICAgY29uc3QgdmFsdWUgPSBtYXBFbnRyeS5maWVsZHMuZmluZCgoZikgPT4gZi5udW1iZXIgPT09IDIpO1xuICAgIGFzc2VydChrZXkgJiZcbiAgICAgICAga2V5LmZpZWxkS2luZCA9PSBcInNjYWxhclwiICYmXG4gICAgICAgIGtleS5zY2FsYXIgIT0gU2NhbGFyVHlwZS5CWVRFUyAmJlxuICAgICAgICBrZXkuc2NhbGFyICE9IFNjYWxhclR5cGUuRkxPQVQgJiZcbiAgICAgICAga2V5LnNjYWxhciAhPSBTY2FsYXJUeXBlLkRPVUJMRSAmJlxuICAgICAgICB2YWx1ZSAmJlxuICAgICAgICB2YWx1ZS5maWVsZEtpbmQgIT0gXCJsaXN0XCIgJiZcbiAgICAgICAgdmFsdWUuZmllbGRLaW5kICE9IFwibWFwXCIpO1xuICAgIHJldHVybiB7IGtleSwgdmFsdWUgfTtcbn1cbi8qKlxuICogRW51bWVyYXRpb25zIGNhbiBiZSBvcGVuIG9yIGNsb3NlZC5cbiAqIFNlZSBodHRwczovL3Byb3RvYnVmLmRldi9wcm9ncmFtbWluZy1ndWlkZXMvZW51bS9cbiAqL1xuZnVuY3Rpb24gaXNFbnVtT3BlbihkZXNjKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoT1BFTiA9PVxuICAgICAgICByZXNvbHZlRmVhdHVyZShcImVudW1UeXBlXCIsIHtcbiAgICAgICAgICAgIHByb3RvOiBkZXNjLnByb3RvLFxuICAgICAgICAgICAgcGFyZW50OiAoX2EgPSBkZXNjLnBhcmVudCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVzYy5maWxlLFxuICAgICAgICB9KSk7XG59XG4vKipcbiAqIEVuY29kZSB0aGUgbWVzc2FnZSBkZWxpbWl0ZWQgKGEuay5hLiBwcm90bzIgZ3JvdXAgZW5jb2RpbmcpLCBvclxuICogbGVuZ3RoLXByZWZpeGVkP1xuICovXG5mdW5jdGlvbiBpc0RlbGltaXRlZEVuY29kaW5nKHByb3RvLCBwYXJlbnQpIHtcbiAgICBpZiAocHJvdG8udHlwZSA9PSBUWVBFX0dST1VQKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKERFTElNSVRFRCA9PVxuICAgICAgICByZXNvbHZlRmVhdHVyZShcIm1lc3NhZ2VFbmNvZGluZ1wiLCB7XG4gICAgICAgICAgICBwcm90byxcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgfSkpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUZlYXR1cmUobmFtZSwgcmVmKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBmZWF0dXJlU2V0ID0gKF9hID0gcmVmLnByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mZWF0dXJlcztcbiAgICBpZiAoZmVhdHVyZVNldCkge1xuICAgICAgICBjb25zdCB2YWwgPSBmZWF0dXJlU2V0W25hbWVdO1xuICAgICAgICBpZiAodmFsICE9IDApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwia2luZFwiIGluIHJlZikge1xuICAgICAgICBpZiAocmVmLmtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlRmVhdHVyZShuYW1lLCAoX2IgPSByZWYucGFyZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiByZWYuZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWRpdGlvbkRlZmF1bHRzID0gZmVhdHVyZURlZmF1bHRzW3JlZi5lZGl0aW9uXTtcbiAgICAgICAgaWYgKCFlZGl0aW9uRGVmYXVsdHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZmVhdHVyZSBkZWZhdWx0IGZvciBlZGl0aW9uICR7cmVmLmVkaXRpb259IG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlZGl0aW9uRGVmYXVsdHNbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlRmVhdHVyZShuYW1lLCByZWYucGFyZW50KTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgY29uZGl0aW9uIGlzIHRydXRoeSBvciB0aHJvdyBlcnJvciAod2l0aCBtZXNzYWdlKVxuICovXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtc2cpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHJlc3RvcmVKc29uTmFtZXMgfSBmcm9tIFwiLi9yZXN0b3JlLWpzb24tbmFtZXMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUZpbGVSZWdpc3RyeSB9IGZyb20gXCIuLi9yZWdpc3RyeS5qc1wiO1xuLyoqXG4gKiBIeWRyYXRlIGEgZmlsZSBkZXNjcmlwdG9yIGZvciBnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90byBmcm9tIGEgcGxhaW5cbiAqIG9iamVjdC5cbiAqXG4gKiBTZWUgY3JlYXRlRmlsZURlc2NyaXB0b3JQcm90b0Jvb3QoKSBmb3IgZGV0YWlscy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vdChib290KSB7XG4gICAgY29uc3Qgcm9vdCA9IGJvb3RGaWxlRGVzY3JpcHRvclByb3RvKGJvb3QpO1xuICAgIHJvb3QubWVzc2FnZVR5cGUuZm9yRWFjaChyZXN0b3JlSnNvbk5hbWVzKTtcbiAgICBjb25zdCByZWcgPSBjcmVhdGVGaWxlUmVnaXN0cnkocm9vdCwgKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdHlsZS9ub05vbk51bGxBc3NlcnRpb246IG5vbi1udWxsIGFzc2VydGlvbiBiZWNhdXNlIHdlIGp1c3QgY3JlYXRlZCB0aGUgcmVnaXN0cnkgZnJvbSB0aGUgZmlsZSB3ZSBsb29rIHVwXG4gICAgcmV0dXJuIHJlZy5nZXRGaWxlKHJvb3QubmFtZSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8gZnJvbSBhbiBvYmplY3QgbGl0ZXJhbC5cbiAqXG4gKiBTZWUgY3JlYXRlRmlsZURlc2NyaXB0b3JQcm90b0Jvb3QoKSBmb3IgZGV0YWlscy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vdEZpbGVEZXNjcmlwdG9yUHJvdG8oaW5pdCkge1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIHN5bnRheDogXCJcIixcbiAgICAgICAgZWRpdGlvbjogMCxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90bywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgJHR5cGVOYW1lOiBcImdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvXCIsIGRlcGVuZGVuY3k6IFtdLCBwdWJsaWNEZXBlbmRlbmN5OiBbXSwgd2Vha0RlcGVuZGVuY3k6IFtdLCBvcHRpb25EZXBlbmRlbmN5OiBbXSwgc2VydmljZTogW10sIGV4dGVuc2lvbjogW10gfSwgaW5pdCksIHsgbWVzc2FnZVR5cGU6IGluaXQubWVzc2FnZVR5cGUubWFwKGJvb3REZXNjcmlwdG9yUHJvdG8pLCBlbnVtVHlwZTogaW5pdC5lbnVtVHlwZS5tYXAoYm9vdEVudW1EZXNjcmlwdG9yUHJvdG8pIH0pKTtcbn1cbmZ1bmN0aW9uIGJvb3REZXNjcmlwdG9yUHJvdG8oaW5pdCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgdmlzaWJpbGl0eTogMCxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90bywge1xuICAgICAgICAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90b1wiLFxuICAgICAgICBuYW1lOiBpbml0Lm5hbWUsXG4gICAgICAgIGZpZWxkOiAoX2IgPSAoX2EgPSBpbml0LmZpZWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGJvb3RGaWVsZERlc2NyaXB0b3JQcm90bykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLFxuICAgICAgICBleHRlbnNpb246IFtdLFxuICAgICAgICBuZXN0ZWRUeXBlOiAoX2QgPSAoX2MgPSBpbml0Lm5lc3RlZFR5cGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tYXAoYm9vdERlc2NyaXB0b3JQcm90bykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IFtdLFxuICAgICAgICBlbnVtVHlwZTogKF9mID0gKF9lID0gaW5pdC5lbnVtVHlwZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm1hcChib290RW51bURlc2NyaXB0b3JQcm90bykpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IFtdLFxuICAgICAgICBleHRlbnNpb25SYW5nZTogKF9oID0gKF9nID0gaW5pdC5leHRlbnNpb25SYW5nZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLm1hcCgoZSkgPT4gKE9iamVjdC5hc3NpZ24oeyAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZVwiIH0sIGUpKSkpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IFtdLFxuICAgICAgICBvbmVvZkRlY2w6IFtdLFxuICAgICAgICByZXNlcnZlZFJhbmdlOiBbXSxcbiAgICAgICAgcmVzZXJ2ZWROYW1lOiBbXSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGJvb3RGaWVsZERlc2NyaXB0b3JQcm90byhpbml0KSB7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgbGFiZWw6IDEsXG4gICAgICAgIHR5cGVOYW1lOiBcIlwiLFxuICAgICAgICBleHRlbmRlZTogXCJcIixcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBcIlwiLFxuICAgICAgICBvbmVvZkluZGV4OiAwLFxuICAgICAgICBqc29uTmFtZTogXCJcIixcbiAgICAgICAgcHJvdG8zT3B0aW9uYWw6IGZhbHNlLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3RvLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvXCIgfSwgaW5pdCksIHsgb3B0aW9uczogaW5pdC5vcHRpb25zID8gYm9vdEZpZWxkT3B0aW9ucyhpbml0Lm9wdGlvbnMpIDogdW5kZWZpbmVkIH0pKTtcbn1cbmZ1bmN0aW9uIGJvb3RGaWVsZE9wdGlvbnMoaW5pdCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIGN0eXBlOiAwLFxuICAgICAgICBwYWNrZWQ6IGZhbHNlLFxuICAgICAgICBqc3R5cGU6IDAsXG4gICAgICAgIGxhenk6IGZhbHNlLFxuICAgICAgICB1bnZlcmlmaWVkTGF6eTogZmFsc2UsXG4gICAgICAgIGRlcHJlY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB3ZWFrOiBmYWxzZSxcbiAgICAgICAgZGVidWdSZWRhY3Q6IGZhbHNlLFxuICAgICAgICByZXRlbnRpb246IDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvdG8sIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7ICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zXCIgfSwgaW5pdCksIHsgdGFyZ2V0czogKF9hID0gaW5pdC50YXJnZXRzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSwgZWRpdGlvbkRlZmF1bHRzOiAoX2MgPSAoX2IgPSBpbml0LmVkaXRpb25EZWZhdWx0cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1hcCgoZSkgPT4gKE9iamVjdC5hc3NpZ24oeyAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5FZGl0aW9uRGVmYXVsdFwiIH0sIGUpKSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdLCB1bmludGVycHJldGVkT3B0aW9uOiBbXSB9KSk7XG59XG5mdW5jdGlvbiBib290RW51bURlc2NyaXB0b3JQcm90byhpbml0KSB7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgdmlzaWJpbGl0eTogMCxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90bywge1xuICAgICAgICAkdHlwZU5hbWU6IFwiZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG9cIixcbiAgICAgICAgbmFtZTogaW5pdC5uYW1lLFxuICAgICAgICByZXNlcnZlZE5hbWU6IFtdLFxuICAgICAgICByZXNlcnZlZFJhbmdlOiBbXSxcbiAgICAgICAgdmFsdWU6IGluaXQudmFsdWUubWFwKChlKSA9PiAoT2JqZWN0LmFzc2lnbih7ICR0eXBlTmFtZTogXCJnb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvXCIgfSwgZSkpKSxcbiAgICB9KTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBIeWRyYXRlIGEgbWVzc2FnZSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXNzYWdlRGVzYyhmaWxlLCBwYXRoLCAuLi5wYXRocykge1xuICAgIHJldHVybiBwYXRocy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MubmVzdGVkTWVzc2FnZXNbY3VyXSwgZmlsZS5tZXNzYWdlc1twYXRoXSk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogSHlkcmF0ZSBhbiBlbnVtIGRlc2NyaXB0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVudW1EZXNjKGZpbGUsIHBhdGgsIC4uLnBhdGhzKSB7XG4gICAgaWYgKHBhdGhzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHJldHVybiBmaWxlLmVudW1zW3BhdGhdO1xuICAgIH1cbiAgICBjb25zdCBlID0gcGF0aHMucG9wKCk7IC8vIHdlIGNoZWNrZWQgbGVuZ3RoIGFib3ZlXG4gICAgcmV0dXJuIHBhdGhzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYy5uZXN0ZWRNZXNzYWdlc1tjdXJdLCBmaWxlLm1lc3NhZ2VzW3BhdGhdKS5uZXN0ZWRFbnVtc1tlXTtcbn1cbi8qKlxuICogQ29uc3RydWN0IGEgVHlwZVNjcmlwdCBlbnVtIG9iamVjdCBhdCBydW50aW1lIGZyb20gYSBkZXNjcmlwdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHNFbnVtKGRlc2MpIHtcbiAgICBjb25zdCBlbnVtT2JqZWN0ID0ge307XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkZXNjLnZhbHVlcykge1xuICAgICAgICBlbnVtT2JqZWN0W3ZhbHVlLmxvY2FsTmFtZV0gPSB2YWx1ZS5udW1iZXI7XG4gICAgICAgIGVudW1PYmplY3RbdmFsdWUubnVtYmVyXSA9IHZhbHVlLmxvY2FsTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudW1PYmplY3Q7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IGJvb3QgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29kZWdlbnYyL2Jvb3QuanNcIjtcbmltcG9ydCB7IG1lc3NhZ2VEZXNjIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvZGVnZW52Mi9tZXNzYWdlLmpzXCI7XG5pbXBvcnQgeyBlbnVtRGVzYyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb2RlZ2VudjIvZW51bS5qc1wiO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGZpbGUgZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG8uXG4gKi9cbmV4cG9ydCBjb25zdCBmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yID0gLypAX19QVVJFX18qLyBib290KHsgXCJuYW1lXCI6IFwiZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG9cIiwgXCJwYWNrYWdlXCI6IFwiZ29vZ2xlLnByb3RvYnVmXCIsIFwibWVzc2FnZVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRmlsZURlc2NyaXB0b3JTZXRcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJmaWxlXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvXCIgfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiA1MzYwMDAwMDAsIFwiZW5kXCI6IDUzNjAwMDAwMSB9XSB9LCB7IFwibmFtZVwiOiBcIkZpbGVEZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJwYWNrYWdlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJkZXBlbmRlbmN5XCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDMgfSwgeyBcIm5hbWVcIjogXCJwdWJsaWNfZGVwZW5kZW5jeVwiLCBcIm51bWJlclwiOiAxMCwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMyB9LCB7IFwibmFtZVwiOiBcIndlYWtfZGVwZW5kZW5jeVwiLCBcIm51bWJlclwiOiAxMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMyB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbl9kZXBlbmRlbmN5XCIsIFwibnVtYmVyXCI6IDE1LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAzIH0sIHsgXCJuYW1lXCI6IFwibWVzc2FnZV90eXBlXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcImVudW1fdHlwZVwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwic2VydmljZVwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwiZXh0ZW5zaW9uXCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiA4LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnNcIiB9LCB7IFwibmFtZVwiOiBcInNvdXJjZV9jb2RlX2luZm9cIiwgXCJudW1iZXJcIjogOSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvXCIgfSwgeyBcIm5hbWVcIjogXCJzeW50YXhcIiwgXCJudW1iZXJcIjogMTIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJlZGl0aW9uXCIsIFwibnVtYmVyXCI6IDE0LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH1dIH0sIHsgXCJuYW1lXCI6IFwiRGVzY3JpcHRvclByb3RvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZmllbGRcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJleHRlbnNpb25cIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJuZXN0ZWRfdHlwZVwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvXCIgfSwgeyBcIm5hbWVcIjogXCJlbnVtX3R5cGVcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcImV4dGVuc2lvbl9yYW5nZVwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlXCIgfSwgeyBcIm5hbWVcIjogXCJvbmVvZl9kZWNsXCIsIFwibnVtYmVyXCI6IDgsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnNcIiB9LCB7IFwibmFtZVwiOiBcInJlc2VydmVkX3JhbmdlXCIsIFwibnVtYmVyXCI6IDksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZVwiIH0sIHsgXCJuYW1lXCI6IFwicmVzZXJ2ZWRfbmFtZVwiLCBcIm51bWJlclwiOiAxMCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMyB9LCB7IFwibmFtZVwiOiBcInZpc2liaWxpdHlcIiwgXCJudW1iZXJcIjogMTEsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5TeW1ib2xWaXNpYmlsaXR5XCIgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJFeHRlbnNpb25SYW5nZVwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcInN0YXJ0XCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJlbmRcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9uc1wiIH1dIH0sIHsgXCJuYW1lXCI6IFwiUmVzZXJ2ZWRSYW5nZVwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcInN0YXJ0XCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJlbmRcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9XSB9XSB9LCB7IFwibmFtZVwiOiBcIkV4dGVuc2lvblJhbmdlT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9LCB7IFwibmFtZVwiOiBcImRlY2xhcmF0aW9uXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuRGVjbGFyYXRpb25cIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMiB9IH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogNTAsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJ2ZXJpZmljYXRpb25cIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5WZXJpZmljYXRpb25TdGF0ZVwiLCBcImRlZmF1bHRWYWx1ZVwiOiBcIlVOVkVSSUZJRURcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMiB9IH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRGVjbGFyYXRpb25cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJudW1iZXJcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImZ1bGxfbmFtZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwidHlwZVwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicmVzZXJ2ZWRcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInJlcGVhdGVkXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEgfV0gfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiVmVyaWZpY2F0aW9uU3RhdGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJERUNMQVJBVElPTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiVU5WRVJJRklFRFwiLCBcIm51bWJlclwiOiAxIH1dIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmllbGREZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJudW1iZXJcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImxhYmVsXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbFwiIH0sIHsgXCJuYW1lXCI6IFwidHlwZVwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZVwiIH0sIHsgXCJuYW1lXCI6IFwidHlwZV9uYW1lXCIsIFwibnVtYmVyXCI6IDYsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJleHRlbmRlZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZGVmYXVsdF92YWx1ZVwiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwib25lb2ZfaW5kZXhcIiwgXCJudW1iZXJcIjogOSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImpzb25fbmFtZVwiLCBcIm51bWJlclwiOiAxMCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogOCwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9uc1wiIH0sIHsgXCJuYW1lXCI6IFwicHJvdG8zX29wdGlvbmFsXCIsIFwibnVtYmVyXCI6IDE3LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIlR5cGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJUWVBFX0RPVUJMRVwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9GTE9BVFwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9JTlQ2NFwiLCBcIm51bWJlclwiOiAzIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9VSU5UNjRcIiwgXCJudW1iZXJcIjogNCB9LCB7IFwibmFtZVwiOiBcIlRZUEVfSU5UMzJcIiwgXCJudW1iZXJcIjogNSB9LCB7IFwibmFtZVwiOiBcIlRZUEVfRklYRUQ2NFwiLCBcIm51bWJlclwiOiA2IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9GSVhFRDMyXCIsIFwibnVtYmVyXCI6IDcgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0JPT0xcIiwgXCJudW1iZXJcIjogOCB9LCB7IFwibmFtZVwiOiBcIlRZUEVfU1RSSU5HXCIsIFwibnVtYmVyXCI6IDkgfSwgeyBcIm5hbWVcIjogXCJUWVBFX0dST1VQXCIsIFwibnVtYmVyXCI6IDEwIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9NRVNTQUdFXCIsIFwibnVtYmVyXCI6IDExIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9CWVRFU1wiLCBcIm51bWJlclwiOiAxMiB9LCB7IFwibmFtZVwiOiBcIlRZUEVfVUlOVDMyXCIsIFwibnVtYmVyXCI6IDEzIH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9FTlVNXCIsIFwibnVtYmVyXCI6IDE0IH0sIHsgXCJuYW1lXCI6IFwiVFlQRV9TRklYRUQzMlwiLCBcIm51bWJlclwiOiAxNSB9LCB7IFwibmFtZVwiOiBcIlRZUEVfU0ZJWEVENjRcIiwgXCJudW1iZXJcIjogMTYgfSwgeyBcIm5hbWVcIjogXCJUWVBFX1NJTlQzMlwiLCBcIm51bWJlclwiOiAxNyB9LCB7IFwibmFtZVwiOiBcIlRZUEVfU0lOVDY0XCIsIFwibnVtYmVyXCI6IDE4IH1dIH0sIHsgXCJuYW1lXCI6IFwiTGFiZWxcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJMQUJFTF9PUFRJT05BTFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiTEFCRUxfUkVQRUFURURcIiwgXCJudW1iZXJcIjogMyB9LCB7IFwibmFtZVwiOiBcIkxBQkVMX1JFUVVJUkVEXCIsIFwibnVtYmVyXCI6IDIgfV0gfV0gfSwgeyBcIm5hbWVcIjogXCJPbmVvZkRlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9uc1wiIH1dIH0sIHsgXCJuYW1lXCI6IFwiRW51bURlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInZhbHVlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG9cIiB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zXCIgfSwgeyBcIm5hbWVcIjogXCJyZXNlcnZlZF9yYW5nZVwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZVwiIH0sIHsgXCJuYW1lXCI6IFwicmVzZXJ2ZWRfbmFtZVwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAzIH0sIHsgXCJuYW1lXCI6IFwidmlzaWJpbGl0eVwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuU3ltYm9sVmlzaWJpbGl0eVwiIH1dLCBcIm5lc3RlZFR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRW51bVJlc2VydmVkUmFuZ2VcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJzdGFydFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZW5kXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfV0gfV0gfSwgeyBcIm5hbWVcIjogXCJFbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJudW1iZXJcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm9wdGlvbnNcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnNcIiB9XSB9LCB7IFwibmFtZVwiOiBcIlNlcnZpY2VEZXNjcmlwdG9yUHJvdG9cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJuYW1lXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJtZXRob2RcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90b1wiIH0sIHsgXCJuYW1lXCI6IFwib3B0aW9uc1wiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnNcIiB9XSB9LCB7IFwibmFtZVwiOiBcIk1ldGhvZERlc2NyaXB0b3JQcm90b1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImlucHV0X3R5cGVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcIm91dHB1dF90eXBlXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJvcHRpb25zXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zXCIgfSwgeyBcIm5hbWVcIjogXCJjbGllbnRfc3RyZWFtaW5nXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcInNlcnZlcl9zdHJlYW1pbmdcIiwgXCJudW1iZXJcIjogNiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmlsZU9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJqYXZhX3BhY2thZ2VcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImphdmFfb3V0ZXJfY2xhc3NuYW1lXCIsIFwibnVtYmVyXCI6IDgsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJqYXZhX211bHRpcGxlX2ZpbGVzXCIsIFwibnVtYmVyXCI6IDEwLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJqYXZhX2dlbmVyYXRlX2VxdWFsc19hbmRfaGFzaFwiLCBcIm51bWJlclwiOiAyMCwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJvcHRpb25zXCI6IHsgXCJkZXByZWNhdGVkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcImphdmFfc3RyaW5nX2NoZWNrX3V0ZjhcIiwgXCJudW1iZXJcIjogMjcsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcIm9wdGltaXplX2ZvclwiLCBcIm51bWJlclwiOiA5LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlXCIsIFwiZGVmYXVsdFZhbHVlXCI6IFwiU1BFRURcIiB9LCB7IFwibmFtZVwiOiBcImdvX3BhY2thZ2VcIiwgXCJudW1iZXJcIjogMTEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJjY19nZW5lcmljX3NlcnZpY2VzXCIsIFwibnVtYmVyXCI6IDE2LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJqYXZhX2dlbmVyaWNfc2VydmljZXNcIiwgXCJudW1iZXJcIjogMTcsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcInB5X2dlbmVyaWNfc2VydmljZXNcIiwgXCJudW1iZXJcIjogMTgsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMjMsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImNjX2VuYWJsZV9hcmVuYXNcIiwgXCJudW1iZXJcIjogMzEsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwidHJ1ZVwiIH0sIHsgXCJuYW1lXCI6IFwib2JqY19jbGFzc19wcmVmaXhcIiwgXCJudW1iZXJcIjogMzYsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJjc2hhcnBfbmFtZXNwYWNlXCIsIFwibnVtYmVyXCI6IDM3LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwic3dpZnRfcHJlZml4XCIsIFwibnVtYmVyXCI6IDM5LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicGhwX2NsYXNzX3ByZWZpeFwiLCBcIm51bWJlclwiOiA0MCwgXCJ0eXBlXCI6IDksIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcInBocF9uYW1lc3BhY2VcIiwgXCJudW1iZXJcIjogNDEsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJwaHBfbWV0YWRhdGFfbmFtZXNwYWNlXCIsIFwibnVtYmVyXCI6IDQ0LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicnVieV9wYWNrYWdlXCIsIFwibnVtYmVyXCI6IDQ1LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogNTAsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiT3B0aW1pemVNb2RlXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiU1BFRURcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkNPREVfU0laRVwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiTElURV9SVU5USU1FXCIsIFwibnVtYmVyXCI6IDMgfV0gfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJNZXNzYWdlT3B0aW9uc1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm1lc3NhZ2Vfc2V0X3dpcmVfZm9ybWF0XCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcIm5vX3N0YW5kYXJkX2Rlc2NyaXB0b3JfYWNjZXNzb3JcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJtYXBfZW50cnlcIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRfbGVnYWN5X2pzb25fZmllbGRfY29uZmxpY3RzXCIsIFwibnVtYmVyXCI6IDExLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcIm9wdGlvbnNcIjogeyBcImRlcHJlY2F0ZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogMTIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJGaWVsZE9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJjdHlwZVwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkNUeXBlXCIsIFwiZGVmYXVsdFZhbHVlXCI6IFwiU1RSSU5HXCIgfSwgeyBcIm5hbWVcIjogXCJwYWNrZWRcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImpzdHlwZVwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkpTVHlwZVwiLCBcImRlZmF1bHRWYWx1ZVwiOiBcIkpTX05PUk1BTFwiIH0sIHsgXCJuYW1lXCI6IFwibGF6eVwiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJ1bnZlcmlmaWVkX2xhenlcIiwgXCJudW1iZXJcIjogMTUsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImRlcHJlY2F0ZWRcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwid2Vha1wiLCBcIm51bWJlclwiOiAxMCwgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiLCBcIm9wdGlvbnNcIjogeyBcImRlcHJlY2F0ZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwiZGVidWdfcmVkYWN0XCIsIFwibnVtYmVyXCI6IDE2LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJyZXRlbnRpb25cIiwgXCJudW1iZXJcIjogMTcsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuT3B0aW9uUmV0ZW50aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJ0YXJnZXRzXCIsIFwibnVtYmVyXCI6IDE5LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLk9wdGlvblRhcmdldFR5cGVcIiB9LCB7IFwibmFtZVwiOiBcImVkaXRpb25fZGVmYXVsdHNcIiwgXCJudW1iZXJcIjogMjAsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuRWRpdGlvbkRlZmF1bHRcIiB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDIxLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZV9zdXBwb3J0XCIsIFwibnVtYmVyXCI6IDIyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkZlYXR1cmVTdXBwb3J0XCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJFZGl0aW9uRGVmYXVsdFwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImVkaXRpb25cIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9LCB7IFwibmFtZVwiOiBcInZhbHVlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfV0gfSwgeyBcIm5hbWVcIjogXCJGZWF0dXJlU3VwcG9ydFwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImVkaXRpb25faW50cm9kdWNlZFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH0sIHsgXCJuYW1lXCI6IFwiZWRpdGlvbl9kZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGlvbl93YXJuaW5nXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJlZGl0aW9uX3JlbW92ZWRcIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cIiB9XSB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJDVHlwZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlNUUklOR1wiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiQ09SRFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiU1RSSU5HX1BJRUNFXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJKU1R5cGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJKU19OT1JNQUxcIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkpTX1NUUklOR1wiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiSlNfTlVNQkVSXCIsIFwibnVtYmVyXCI6IDIgfV0gfSwgeyBcIm5hbWVcIjogXCJPcHRpb25SZXRlbnRpb25cIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJSRVRFTlRJT05fVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiUkVURU5USU9OX1JVTlRJTUVcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIlJFVEVOVElPTl9TT1VSQ0VcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIk9wdGlvblRhcmdldFR5cGVcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9GSUxFXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9FWFRFTlNJT05fUkFOR0VcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX01FU1NBR0VcIiwgXCJudW1iZXJcIjogMyB9LCB7IFwibmFtZVwiOiBcIlRBUkdFVF9UWVBFX0ZJRUxEXCIsIFwibnVtYmVyXCI6IDQgfSwgeyBcIm5hbWVcIjogXCJUQVJHRVRfVFlQRV9PTkVPRlwiLCBcIm51bWJlclwiOiA1IH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfRU5VTVwiLCBcIm51bWJlclwiOiA2IH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfRU5VTV9FTlRSWVwiLCBcIm51bWJlclwiOiA3IH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfU0VSVklDRVwiLCBcIm51bWJlclwiOiA4IH0sIHsgXCJuYW1lXCI6IFwiVEFSR0VUX1RZUEVfTUVUSE9EXCIsIFwibnVtYmVyXCI6IDkgfV0gfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJPbmVvZk9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwidW5pbnRlcnByZXRlZF9vcHRpb25cIiwgXCJudW1iZXJcIjogOTk5LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvblwiIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogMTAwMCwgXCJlbmRcIjogNTM2ODcwOTEyIH1dIH0sIHsgXCJuYW1lXCI6IFwiRW51bU9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJhbGxvd19hbGlhc1wiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkX2xlZ2FjeV9qc29uX2ZpZWxkX2NvbmZsaWN0c1wiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcIm9wdGlvbnNcIjogeyBcImRlcHJlY2F0ZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogNywgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIkVudW1WYWx1ZU9wdGlvbnNcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFZhbHVlXCI6IFwiZmFsc2VcIiB9LCB7IFwibmFtZVwiOiBcImZlYXR1cmVzXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJkZWJ1Z19yZWRhY3RcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiZmVhdHVyZV9zdXBwb3J0XCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuRmVhdHVyZVN1cHBvcnRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJleHRlbnNpb25SYW5nZVwiOiBbeyBcInN0YXJ0XCI6IDEwMDAsIFwiZW5kXCI6IDUzNjg3MDkxMiB9XSB9LCB7IFwibmFtZVwiOiBcIlNlcnZpY2VPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogMzQsIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0XCIgfSwgeyBcIm5hbWVcIjogXCJkZXByZWNhdGVkXCIsIFwibnVtYmVyXCI6IDMzLCBcInR5cGVcIjogOCwgXCJsYWJlbFwiOiAxLCBcImRlZmF1bHRWYWx1ZVwiOiBcImZhbHNlXCIgfSwgeyBcIm5hbWVcIjogXCJ1bmludGVycHJldGVkX29wdGlvblwiLCBcIm51bWJlclwiOiA5OTksIFwidHlwZVwiOiAxMSwgXCJsYWJlbFwiOiAzLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uXCIgfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJNZXRob2RPcHRpb25zXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZGVwcmVjYXRlZFwiLCBcIm51bWJlclwiOiAzMywgXCJ0eXBlXCI6IDgsIFwibGFiZWxcIjogMSwgXCJkZWZhdWx0VmFsdWVcIjogXCJmYWxzZVwiIH0sIHsgXCJuYW1lXCI6IFwiaWRlbXBvdGVuY3lfbGV2ZWxcIiwgXCJudW1iZXJcIjogMzQsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWxcIiwgXCJkZWZhdWx0VmFsdWVcIjogXCJJREVNUE9URU5DWV9VTktOT1dOXCIgfSwgeyBcIm5hbWVcIjogXCJmZWF0dXJlc1wiLCBcIm51bWJlclwiOiAzNSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9LCB7IFwibmFtZVwiOiBcInVuaW50ZXJwcmV0ZWRfb3B0aW9uXCIsIFwibnVtYmVyXCI6IDk5OSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb25cIiB9XSwgXCJlbnVtVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJJZGVtcG90ZW5jeUxldmVsXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiTk9fU0lERV9FRkZFQ1RTXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJJREVNUE9URU5UXCIsIFwibnVtYmVyXCI6IDIgfV0gfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA1MzY4NzA5MTIgfV0gfSwgeyBcIm5hbWVcIjogXCJVbmludGVycHJldGVkT3B0aW9uXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibmFtZVwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMywgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydFwiIH0sIHsgXCJuYW1lXCI6IFwiaWRlbnRpZmllcl92YWx1ZVwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwicG9zaXRpdmVfaW50X3ZhbHVlXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiA0LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJuZWdhdGl2ZV9pbnRfdmFsdWVcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDMsIFwibGFiZWxcIjogMSB9LCB7IFwibmFtZVwiOiBcImRvdWJsZV92YWx1ZVwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogMSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwic3RyaW5nX3ZhbHVlXCIsIFwibnVtYmVyXCI6IDcsIFwidHlwZVwiOiAxMiwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiYWdncmVnYXRlX3ZhbHVlXCIsIFwibnVtYmVyXCI6IDgsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJOYW1lUGFydFwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcIm5hbWVfcGFydFwiLCBcIm51bWJlclwiOiAxLCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiaXNfZXh0ZW5zaW9uXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA4LCBcImxhYmVsXCI6IDIgfV0gfV0gfSwgeyBcIm5hbWVcIjogXCJGZWF0dXJlU2V0XCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZmllbGRfcHJlc2VuY2VcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZVwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAxLCBcInRhcmdldHNcIjogWzQsIDFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiRVhQTElDSVRcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJJTVBMSUNJVFwiLCBcImVkaXRpb25cIjogOTk5IH0sIHsgXCJ2YWx1ZVwiOiBcIkVYUExJQ0lUXCIsIFwiZWRpdGlvblwiOiAxMDAwIH1dIH0gfSwgeyBcIm5hbWVcIjogXCJlbnVtX3R5cGVcIiwgXCJudW1iZXJcIjogMiwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW51bVR5cGVcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMSwgXCJ0YXJnZXRzXCI6IFs2LCAxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIkNMT1NFRFwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIk9QRU5cIiwgXCJlZGl0aW9uXCI6IDk5OSB9XSB9IH0sIHsgXCJuYW1lXCI6IFwicmVwZWF0ZWRfZmllbGRfZW5jb2RpbmdcIiwgXCJudW1iZXJcIjogMywgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuUmVwZWF0ZWRGaWVsZEVuY29kaW5nXCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDEsIFwidGFyZ2V0c1wiOiBbNCwgMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJFWFBBTkRFRFwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIlBBQ0tFRFwiLCBcImVkaXRpb25cIjogOTk5IH1dIH0gfSwgeyBcIm5hbWVcIjogXCJ1dGY4X3ZhbGlkYXRpb25cIiwgXCJudW1iZXJcIjogNCwgXCJ0eXBlXCI6IDE0LCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVXRmOFZhbGlkYXRpb25cIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMSwgXCJ0YXJnZXRzXCI6IFs0LCAxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIk5PTkVcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJWRVJJRllcIiwgXCJlZGl0aW9uXCI6IDk5OSB9XSB9IH0sIHsgXCJuYW1lXCI6IFwibWVzc2FnZV9lbmNvZGluZ1wiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5NZXNzYWdlRW5jb2RpbmdcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMSwgXCJ0YXJnZXRzXCI6IFs0LCAxXSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIkxFTkdUSF9QUkVGSVhFRFwiLCBcImVkaXRpb25cIjogOTAwIH1dIH0gfSwgeyBcIm5hbWVcIjogXCJqc29uX2Zvcm1hdFwiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5Kc29uRm9ybWF0XCIsIFwib3B0aW9uc1wiOiB7IFwicmV0ZW50aW9uXCI6IDEsIFwidGFyZ2V0c1wiOiBbMywgNiwgMV0sIFwiZWRpdGlvbkRlZmF1bHRzXCI6IFt7IFwidmFsdWVcIjogXCJMRUdBQ1lfQkVTVF9FRkZPUlRcIiwgXCJlZGl0aW9uXCI6IDkwMCB9LCB7IFwidmFsdWVcIjogXCJBTExPV1wiLCBcImVkaXRpb25cIjogOTk5IH1dIH0gfSwgeyBcIm5hbWVcIjogXCJlbmZvcmNlX25hbWluZ19zdHlsZVwiLCBcIm51bWJlclwiOiA3LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbmZvcmNlTmFtaW5nU3R5bGVcIiwgXCJvcHRpb25zXCI6IHsgXCJyZXRlbnRpb25cIjogMiwgXCJ0YXJnZXRzXCI6IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5XSwgXCJlZGl0aW9uRGVmYXVsdHNcIjogW3sgXCJ2YWx1ZVwiOiBcIlNUWUxFX0xFR0FDWVwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIlNUWUxFMjAyNFwiLCBcImVkaXRpb25cIjogMTAwMSB9XSB9IH0sIHsgXCJuYW1lXCI6IFwiZGVmYXVsdF9zeW1ib2xfdmlzaWJpbGl0eVwiLCBcIm51bWJlclwiOiA4LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5WaXNpYmlsaXR5RmVhdHVyZS5EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVwiLCBcIm9wdGlvbnNcIjogeyBcInJldGVudGlvblwiOiAyLCBcInRhcmdldHNcIjogWzFdLCBcImVkaXRpb25EZWZhdWx0c1wiOiBbeyBcInZhbHVlXCI6IFwiRVhQT1JUX0FMTFwiLCBcImVkaXRpb25cIjogOTAwIH0sIHsgXCJ2YWx1ZVwiOiBcIkVYUE9SVF9UT1BfTEVWRUxcIiwgXCJlZGl0aW9uXCI6IDEwMDEgfV0gfSB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIlZpc2liaWxpdHlGZWF0dXJlXCIsIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlcIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJERUZBVUxUX1NZTUJPTF9WSVNJQklMSVRZX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkVYUE9SVF9BTExcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkVYUE9SVF9UT1BfTEVWRUxcIiwgXCJudW1iZXJcIjogMiB9LCB7IFwibmFtZVwiOiBcIkxPQ0FMX0FMTFwiLCBcIm51bWJlclwiOiAzIH0sIHsgXCJuYW1lXCI6IFwiU1RSSUNUXCIsIFwibnVtYmVyXCI6IDQgfV0gfV0gfV0sIFwiZW51bVR5cGVcIjogW3sgXCJuYW1lXCI6IFwiRmllbGRQcmVzZW5jZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkZJRUxEX1BSRVNFTkNFX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkVYUExJQ0lUXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJJTVBMSUNJVFwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiTEVHQUNZX1JFUVVJUkVEXCIsIFwibnVtYmVyXCI6IDMgfV0gfSwgeyBcIm5hbWVcIjogXCJFbnVtVHlwZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkVOVU1fVFlQRV9VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJPUEVOXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJDTE9TRURcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIlJlcGVhdGVkRmllbGRFbmNvZGluZ1wiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlJFUEVBVEVEX0ZJRUxEX0VOQ09ESU5HX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlBBQ0tFRFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiRVhQQU5ERURcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIlV0ZjhWYWxpZGF0aW9uXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiVVRGOF9WQUxJREFUSU9OX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlZFUklGWVwiLCBcIm51bWJlclwiOiAyIH0sIHsgXCJuYW1lXCI6IFwiTk9ORVwiLCBcIm51bWJlclwiOiAzIH1dIH0sIHsgXCJuYW1lXCI6IFwiTWVzc2FnZUVuY29kaW5nXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiTUVTU0FHRV9FTkNPRElOR19VTktOT1dOXCIsIFwibnVtYmVyXCI6IDAgfSwgeyBcIm5hbWVcIjogXCJMRU5HVEhfUFJFRklYRURcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIkRFTElNSVRFRFwiLCBcIm51bWJlclwiOiAyIH1dIH0sIHsgXCJuYW1lXCI6IFwiSnNvbkZvcm1hdFwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkpTT05fRk9STUFUX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkFMTE9XXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJMRUdBQ1lfQkVTVF9FRkZPUlRcIiwgXCJudW1iZXJcIjogMiB9XSB9LCB7IFwibmFtZVwiOiBcIkVuZm9yY2VOYW1pbmdTdHlsZVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIkVORk9SQ0VfTkFNSU5HX1NUWUxFX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlNUWUxFMjAyNFwiLCBcIm51bWJlclwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiU1RZTEVfTEVHQUNZXCIsIFwibnVtYmVyXCI6IDIgfV0gfV0sIFwiZXh0ZW5zaW9uUmFuZ2VcIjogW3sgXCJzdGFydFwiOiAxMDAwLCBcImVuZFwiOiA5OTk1IH0sIHsgXCJzdGFydFwiOiA5OTk1LCBcImVuZFwiOiAxMDAwMCB9LCB7IFwic3RhcnRcIjogMTAwMDAsIFwiZW5kXCI6IDEwMDAxIH1dIH0sIHsgXCJuYW1lXCI6IFwiRmVhdHVyZVNldERlZmF1bHRzXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwiZGVmYXVsdHNcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXREZWZhdWx0cy5GZWF0dXJlU2V0RWRpdGlvbkRlZmF1bHRcIiB9LCB7IFwibmFtZVwiOiBcIm1pbmltdW1fZWRpdGlvblwiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRWRpdGlvblwiIH0sIHsgXCJuYW1lXCI6IFwibWF4aW11bV9lZGl0aW9uXCIsIFwibnVtYmVyXCI6IDUsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJGZWF0dXJlU2V0RWRpdGlvbkRlZmF1bHRcIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJlZGl0aW9uXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiAxNCwgXCJsYWJlbFwiOiAxLCBcInR5cGVOYW1lXCI6IFwiLmdvb2dsZS5wcm90b2J1Zi5FZGl0aW9uXCIgfSwgeyBcIm5hbWVcIjogXCJvdmVycmlkYWJsZV9mZWF0dXJlc1wiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogMTEsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldFwiIH0sIHsgXCJuYW1lXCI6IFwiZml4ZWRfZmVhdHVyZXNcIiwgXCJudW1iZXJcIjogNSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDEsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXRcIiB9XSB9XSB9LCB7IFwibmFtZVwiOiBcIlNvdXJjZUNvZGVJbmZvXCIsIFwiZmllbGRcIjogW3sgXCJuYW1lXCI6IFwibG9jYXRpb25cIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uXCIgfV0sIFwibmVzdGVkVHlwZVwiOiBbeyBcIm5hbWVcIjogXCJMb2NhdGlvblwiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcInBhdGhcIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDUsIFwibGFiZWxcIjogMywgXCJvcHRpb25zXCI6IHsgXCJwYWNrZWRcIjogdHJ1ZSB9IH0sIHsgXCJuYW1lXCI6IFwic3BhblwiLCBcIm51bWJlclwiOiAyLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAzLCBcIm9wdGlvbnNcIjogeyBcInBhY2tlZFwiOiB0cnVlIH0gfSwgeyBcIm5hbWVcIjogXCJsZWFkaW5nX2NvbW1lbnRzXCIsIFwibnVtYmVyXCI6IDMsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJ0cmFpbGluZ19jb21tZW50c1wiLCBcIm51bWJlclwiOiA0LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwibGVhZGluZ19kZXRhY2hlZF9jb21tZW50c1wiLCBcIm51bWJlclwiOiA2LCBcInR5cGVcIjogOSwgXCJsYWJlbFwiOiAzIH1dIH1dLCBcImV4dGVuc2lvblJhbmdlXCI6IFt7IFwic3RhcnRcIjogNTM2MDAwMDAwLCBcImVuZFwiOiA1MzYwMDAwMDEgfV0gfSwgeyBcIm5hbWVcIjogXCJHZW5lcmF0ZWRDb2RlSW5mb1wiLCBcImZpZWxkXCI6IFt7IFwibmFtZVwiOiBcImFubm90YXRpb25cIiwgXCJudW1iZXJcIjogMSwgXCJ0eXBlXCI6IDExLCBcImxhYmVsXCI6IDMsIFwidHlwZU5hbWVcIjogXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb25cIiB9XSwgXCJuZXN0ZWRUeXBlXCI6IFt7IFwibmFtZVwiOiBcIkFubm90YXRpb25cIiwgXCJmaWVsZFwiOiBbeyBcIm5hbWVcIjogXCJwYXRoXCIsIFwibnVtYmVyXCI6IDEsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDMsIFwib3B0aW9uc1wiOiB7IFwicGFja2VkXCI6IHRydWUgfSB9LCB7IFwibmFtZVwiOiBcInNvdXJjZV9maWxlXCIsIFwibnVtYmVyXCI6IDIsIFwidHlwZVwiOiA5LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJiZWdpblwiLCBcIm51bWJlclwiOiAzLCBcInR5cGVcIjogNSwgXCJsYWJlbFwiOiAxIH0sIHsgXCJuYW1lXCI6IFwiZW5kXCIsIFwibnVtYmVyXCI6IDQsIFwidHlwZVwiOiA1LCBcImxhYmVsXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJzZW1hbnRpY1wiLCBcIm51bWJlclwiOiA1LCBcInR5cGVcIjogMTQsIFwibGFiZWxcIjogMSwgXCJ0eXBlTmFtZVwiOiBcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5TZW1hbnRpY1wiIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIlNlbWFudGljXCIsIFwidmFsdWVcIjogW3sgXCJuYW1lXCI6IFwiTk9ORVwiLCBcIm51bWJlclwiOiAwIH0sIHsgXCJuYW1lXCI6IFwiU0VUXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJBTElBU1wiLCBcIm51bWJlclwiOiAyIH1dIH1dIH1dIH1dLCBcImVudW1UeXBlXCI6IFt7IFwibmFtZVwiOiBcIkVkaXRpb25cIiwgXCJ2YWx1ZVwiOiBbeyBcIm5hbWVcIjogXCJFRElUSU9OX1VOS05PV05cIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fTEVHQUNZXCIsIFwibnVtYmVyXCI6IDkwMCB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fUFJPVE8yXCIsIFwibnVtYmVyXCI6IDk5OCB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fUFJPVE8zXCIsIFwibnVtYmVyXCI6IDk5OSB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fMjAyM1wiLCBcIm51bWJlclwiOiAxMDAwIH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl8yMDI0XCIsIFwibnVtYmVyXCI6IDEwMDEgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzFfVEVTVF9PTkxZXCIsIFwibnVtYmVyXCI6IDEgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzJfVEVTVF9PTkxZXCIsIFwibnVtYmVyXCI6IDIgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OXzk5OTk3X1RFU1RfT05MWVwiLCBcIm51bWJlclwiOiA5OTk5NyB9LCB7IFwibmFtZVwiOiBcIkVESVRJT05fOTk5OThfVEVTVF9PTkxZXCIsIFwibnVtYmVyXCI6IDk5OTk4IH0sIHsgXCJuYW1lXCI6IFwiRURJVElPTl85OTk5OV9URVNUX09OTFlcIiwgXCJudW1iZXJcIjogOTk5OTkgfSwgeyBcIm5hbWVcIjogXCJFRElUSU9OX01BWFwiLCBcIm51bWJlclwiOiAyMTQ3NDgzNjQ3IH1dIH0sIHsgXCJuYW1lXCI6IFwiU3ltYm9sVmlzaWJpbGl0eVwiLCBcInZhbHVlXCI6IFt7IFwibmFtZVwiOiBcIlZJU0lCSUxJVFlfVU5TRVRcIiwgXCJudW1iZXJcIjogMCB9LCB7IFwibmFtZVwiOiBcIlZJU0lCSUxJVFlfTE9DQUxcIiwgXCJudW1iZXJcIjogMSB9LCB7IFwibmFtZVwiOiBcIlZJU0lCSUxJVFlfRVhQT1JUXCIsIFwibnVtYmVyXCI6IDIgfV0gfV0gfSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQuXG4gKiBVc2UgYGNyZWF0ZShGaWxlRGVzY3JpcHRvclNldFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmlsZURlc2NyaXB0b3JTZXRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShEZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMik7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLlxuICogVXNlIGBjcmVhdGUoRGVzY3JpcHRvclByb3RvX0V4dGVuc2lvblJhbmdlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEZXNjcmlwdG9yUHJvdG9fRXh0ZW5zaW9uUmFuZ2VTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLlxuICogVXNlIGBjcmVhdGUoRGVzY3JpcHRvclByb3RvX1Jlc2VydmVkUmFuZ2VTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0b3JQcm90b19SZXNlcnZlZFJhbmdlU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyLCAxKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShFeHRlbnNpb25SYW5nZU9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEV4dGVuc2lvblJhbmdlT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMyk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLkRlY2xhcmF0aW9uLlxuICogVXNlIGBjcmVhdGUoRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX0RlY2xhcmF0aW9uU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFeHRlbnNpb25SYW5nZU9wdGlvbnNfRGVjbGFyYXRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDMsIDApO1xuLyoqXG4gKiBUaGUgdmVyaWZpY2F0aW9uIHN0YXRlIG9mIHRoZSBleHRlbnNpb24gcmFuZ2UuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5WZXJpZmljYXRpb25TdGF0ZVxuICovXG5leHBvcnQgdmFyIEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZTtcbihmdW5jdGlvbiAoRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlKSB7XG4gICAgLyoqXG4gICAgICogQWxsIHRoZSBleHRlbnNpb25zIG9mIHRoZSByYW5nZSBtdXN0IGJlIGRlY2xhcmVkLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERFQ0xBUkFUSU9OID0gMDtcbiAgICAgKi9cbiAgICBFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGVbRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlW1wiREVDTEFSQVRJT05cIl0gPSAwXSA9IFwiREVDTEFSQVRJT05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVU5WRVJJRklFRCA9IDE7XG4gICAgICovXG4gICAgRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlW0V4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZVtcIlVOVkVSSUZJRURcIl0gPSAxXSA9IFwiVU5WRVJJRklFRFwiO1xufSkoRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlIHx8IChFeHRlbnNpb25SYW5nZU9wdGlvbnNfVmVyaWZpY2F0aW9uU3RhdGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5WZXJpZmljYXRpb25TdGF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEV4dGVuc2lvblJhbmdlT3B0aW9uc19WZXJpZmljYXRpb25TdGF0ZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMywgMCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDQpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZVxuICovXG5leHBvcnQgdmFyIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGU7XG4oZnVuY3Rpb24gKEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUpIHtcbiAgICAvKipcbiAgICAgKiAwIGlzIHJlc2VydmVkIGZvciBlcnJvcnMuXG4gICAgICogT3JkZXIgaXMgd2VpcmQgZm9yIGhpc3RvcmljYWwgcmVhc29ucy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0RPVUJMRSA9IDE7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiRE9VQkxFXCJdID0gMV0gPSBcIkRPVUJMRVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0ZMT0FUID0gMjtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJGTE9BVFwiXSA9IDJdID0gXCJGTE9BVFwiO1xuICAgIC8qKlxuICAgICAqIE5vdCBaaWdaYWcgZW5jb2RlZC4gIE5lZ2F0aXZlIG51bWJlcnMgdGFrZSAxMCBieXRlcy4gIFVzZSBUWVBFX1NJTlQ2NCBpZlxuICAgICAqIG5lZ2F0aXZlIHZhbHVlcyBhcmUgbGlrZWx5LlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfSU5UNjQgPSAzO1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIklOVDY0XCJdID0gM10gPSBcIklOVDY0XCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfVUlOVDY0ID0gNDtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJVSU5UNjRcIl0gPSA0XSA9IFwiVUlOVDY0XCI7XG4gICAgLyoqXG4gICAgICogTm90IFppZ1phZyBlbmNvZGVkLiAgTmVnYXRpdmUgbnVtYmVycyB0YWtlIDEwIGJ5dGVzLiAgVXNlIFRZUEVfU0lOVDMyIGlmXG4gICAgICogbmVnYXRpdmUgdmFsdWVzIGFyZSBsaWtlbHkuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9JTlQzMiA9IDU7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiSU5UMzJcIl0gPSA1XSA9IFwiSU5UMzJcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9GSVhFRDY0ID0gNjtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJGSVhFRDY0XCJdID0gNl0gPSBcIkZJWEVENjRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9GSVhFRDMyID0gNztcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJGSVhFRDMyXCJdID0gN10gPSBcIkZJWEVEMzJcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9CT09MID0gODtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJCT09MXCJdID0gOF0gPSBcIkJPT0xcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9TVFJJTkcgPSA5O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlNUUklOR1wiXSA9IDldID0gXCJTVFJJTkdcIjtcbiAgICAvKipcbiAgICAgKiBUYWctZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAgKiBHcm91cCB0eXBlIGlzIGRlcHJlY2F0ZWQgYW5kIG5vdCBzdXBwb3J0ZWQgYWZ0ZXIgZ29vZ2xlLnByb3RvYnVmLiBIb3dldmVyLCBQcm90bzNcbiAgICAgKiBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIHN0aWxsIGJlIGFibGUgdG8gcGFyc2UgdGhlIGdyb3VwIHdpcmUgZm9ybWF0IGFuZFxuICAgICAqIHRyZWF0IGdyb3VwIGZpZWxkcyBhcyB1bmtub3duIGZpZWxkcy4gIEluIEVkaXRpb25zLCB0aGUgZ3JvdXAgd2lyZSBmb3JtYXRcbiAgICAgKiBjYW4gYmUgZW5hYmxlZCB2aWEgdGhlIGBtZXNzYWdlX2VuY29kaW5nYCBmZWF0dXJlLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfR1JPVVAgPSAxMDtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJHUk9VUFwiXSA9IDEwXSA9IFwiR1JPVVBcIjtcbiAgICAvKipcbiAgICAgKiBMZW5ndGgtZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX01FU1NBR0UgPSAxMTtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJNRVNTQUdFXCJdID0gMTFdID0gXCJNRVNTQUdFXCI7XG4gICAgLyoqXG4gICAgICogTmV3IGluIHZlcnNpb24gMi5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX0JZVEVTID0gMTI7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiQllURVNcIl0gPSAxMl0gPSBcIkJZVEVTXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfVUlOVDMyID0gMTM7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiVUlOVDMyXCJdID0gMTNdID0gXCJVSU5UMzJcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9FTlVNID0gMTQ7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiRU5VTVwiXSA9IDE0XSA9IFwiRU5VTVwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1NGSVhFRDMyID0gMTU7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW1wiU0ZJWEVEMzJcIl0gPSAxNV0gPSBcIlNGSVhFRDMyXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFRZUEVfU0ZJWEVENjQgPSAxNjtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJTRklYRUQ2NFwiXSA9IDE2XSA9IFwiU0ZJWEVENjRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VzIFppZ1phZyBlbmNvZGluZy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBUWVBFX1NJTlQzMiA9IDE3O1xuICAgICAqL1xuICAgIEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZVtcIlNJTlQzMlwiXSA9IDE3XSA9IFwiU0lOVDMyXCI7XG4gICAgLyoqXG4gICAgICogVXNlcyBaaWdaYWcgZW5jb2RpbmcuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVFlQRV9TSU5UNjQgPSAxODtcbiAgICAgKi9cbiAgICBGaWVsZERlc2NyaXB0b3JQcm90b19UeXBlW0ZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVbXCJTSU5UNjRcIl0gPSAxOF0gPSBcIlNJTlQ2NFwiO1xufSkoRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZSB8fCAoRmllbGREZXNjcmlwdG9yUHJvdG9fVHlwZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGVTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDQsIDApO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWxcbiAqL1xuZXhwb3J0IHZhciBGaWVsZERlc2NyaXB0b3JQcm90b19MYWJlbDtcbihmdW5jdGlvbiAoRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWwpIHtcbiAgICAvKipcbiAgICAgKiAwIGlzIHJlc2VydmVkIGZvciBlcnJvcnNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMQUJFTF9PUFRJT05BTCA9IDE7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxbRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxbXCJPUFRJT05BTFwiXSA9IDFdID0gXCJPUFRJT05BTFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMQUJFTF9SRVBFQVRFRCA9IDM7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxbRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxbXCJSRVBFQVRFRFwiXSA9IDNdID0gXCJSRVBFQVRFRFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSByZXF1aXJlZCBsYWJlbCBpcyBvbmx5IGFsbG93ZWQgaW4gZ29vZ2xlLnByb3RvYnVmLiAgSW4gcHJvdG8zIGFuZCBFZGl0aW9uc1xuICAgICAqIGl0J3MgZXhwbGljaXRseSBwcm9oaWJpdGVkLiAgSW4gRWRpdGlvbnMsIHRoZSBgZmllbGRfcHJlc2VuY2VgIGZlYXR1cmVcbiAgICAgKiBjYW4gYmUgdXNlZCB0byBnZXQgdGhpcyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMQUJFTF9SRVFVSVJFRCA9IDI7XG4gICAgICovXG4gICAgRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxbRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWxbXCJSRVFVSVJFRFwiXSA9IDJdID0gXCJSRVFVSVJFRFwiO1xufSkoRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWwgfHwgKEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbC5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkRGVzY3JpcHRvclByb3RvX0xhYmVsU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA0LCAxKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKE9uZW9mRGVzY3JpcHRvclByb3RvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBPbmVvZkRlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKEVudW1EZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1EZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDYpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuXG4gKiBVc2UgYGNyZWF0ZShFbnVtRGVzY3JpcHRvclByb3RvX0VudW1SZXNlcnZlZFJhbmdlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBFbnVtRGVzY3JpcHRvclByb3RvX0VudW1SZXNlcnZlZFJhbmdlU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA2LCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uXG4gKiBVc2UgYGNyZWF0ZShFbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1WYWx1ZURlc2NyaXB0b3JQcm90b1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgNyk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKFNlcnZpY2VEZXNjcmlwdG9yUHJvdG9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNlcnZpY2VEZXNjcmlwdG9yUHJvdG9TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDgpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5cbiAqIFVzZSBgY3JlYXRlKE1ldGhvZERlc2NyaXB0b3JQcm90b1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWV0aG9kRGVzY3JpcHRvclByb3RvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCA5KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKEZpbGVPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTApO1xuLyoqXG4gKiBHZW5lcmF0ZWQgY2xhc3NlcyBjYW4gYmUgb3B0aW1pemVkIGZvciBzcGVlZCBvciBjb2RlIHNpemUuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLk9wdGltaXplTW9kZVxuICovXG5leHBvcnQgdmFyIEZpbGVPcHRpb25zX09wdGltaXplTW9kZTtcbihmdW5jdGlvbiAoRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlKSB7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgY29tcGxldGUgY29kZSBmb3IgcGFyc2luZywgc2VyaWFsaXphdGlvbixcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTUEVFRCA9IDE7XG4gICAgICovXG4gICAgRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlW0ZpbGVPcHRpb25zX09wdGltaXplTW9kZVtcIlNQRUVEXCJdID0gMV0gPSBcIlNQRUVEXCI7XG4gICAgLyoqXG4gICAgICogZXRjLlxuICAgICAqXG4gICAgICogVXNlIFJlZmxlY3Rpb25PcHMgdG8gaW1wbGVtZW50IHRoZXNlIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogQ09ERV9TSVpFID0gMjtcbiAgICAgKi9cbiAgICBGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVbRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlW1wiQ09ERV9TSVpFXCJdID0gMl0gPSBcIkNPREVfU0laRVwiO1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGNvZGUgdXNpbmcgTWVzc2FnZUxpdGUgYW5kIHRoZSBsaXRlIHJ1bnRpbWUuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTElURV9SVU5USU1FID0gMztcbiAgICAgKi9cbiAgICBGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGVbRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlW1wiTElURV9SVU5USU1FXCJdID0gM10gPSBcIkxJVEVfUlVOVElNRVwiO1xufSkoRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlIHx8IChGaWxlT3B0aW9uc19PcHRpbWl6ZU1vZGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLk9wdGltaXplTW9kZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVPcHRpb25zX09wdGltaXplTW9kZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTAsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoTWVzc2FnZU9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1lc3NhZ2VPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoRmllbGRPcHRpb25zU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuRWRpdGlvbkRlZmF1bHQuXG4gKiBVc2UgYGNyZWF0ZShGaWVsZE9wdGlvbnNfRWRpdGlvbkRlZmF1bHRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc19FZGl0aW9uRGVmYXVsdFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5GZWF0dXJlU3VwcG9ydC5cbiAqIFVzZSBgY3JlYXRlKEZpZWxkT3B0aW9uc19GZWF0dXJlU3VwcG9ydFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zX0ZlYXR1cmVTdXBwb3J0U2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMiwgMSk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuQ1R5cGVcbiAqL1xuZXhwb3J0IHZhciBGaWVsZE9wdGlvbnNfQ1R5cGU7XG4oZnVuY3Rpb24gKEZpZWxkT3B0aW9uc19DVHlwZSkge1xuICAgIC8qKlxuICAgICAqIERlZmF1bHQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVFJJTkcgPSAwO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19DVHlwZVtGaWVsZE9wdGlvbnNfQ1R5cGVbXCJTVFJJTkdcIl0gPSAwXSA9IFwiU1RSSU5HXCI7XG4gICAgLyoqXG4gICAgICogVGhlIG9wdGlvbiBbY3R5cGU9Q09SRF0gbWF5IGJlIGFwcGxpZWQgdG8gYSBub24tcmVwZWF0ZWQgZmllbGQgb2YgdHlwZVxuICAgICAqIFwiYnl0ZXNcIi4gSXQgaW5kaWNhdGVzIHRoYXQgaW4gQysrLCB0aGUgZGF0YSBzaG91bGQgYmUgc3RvcmVkIGluIGEgQ29yZFxuICAgICAqIGluc3RlYWQgb2YgYSBzdHJpbmcuICBGb3IgdmVyeSBsYXJnZSBzdHJpbmdzLCB0aGlzIG1heSByZWR1Y2UgbWVtb3J5XG4gICAgICogZnJhZ21lbnRhdGlvbi4gSXQgbWF5IGFsc28gYWxsb3cgYmV0dGVyIHBlcmZvcm1hbmNlIHdoZW4gcGFyc2luZyBmcm9tIGFcbiAgICAgKiBDb3JkLCBvciB3aGVuIHBhcnNpbmcgd2l0aCBhbGlhc2luZyBlbmFibGVkLCBhcyB0aGUgcGFyc2VkIENvcmQgbWF5IHRoZW5cbiAgICAgKiBhbGlhcyB0aGUgb3JpZ2luYWwgYnVmZmVyLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IENPUkQgPSAxO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19DVHlwZVtGaWVsZE9wdGlvbnNfQ1R5cGVbXCJDT1JEXCJdID0gMV0gPSBcIkNPUkRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RSSU5HX1BJRUNFID0gMjtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfQ1R5cGVbRmllbGRPcHRpb25zX0NUeXBlW1wiU1RSSU5HX1BJRUNFXCJdID0gMl0gPSBcIlNUUklOR19QSUVDRVwiO1xufSkoRmllbGRPcHRpb25zX0NUeXBlIHx8IChGaWVsZE9wdGlvbnNfQ1R5cGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5DVHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc19DVHlwZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIsIDApO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkpTVHlwZVxuICovXG5leHBvcnQgdmFyIEZpZWxkT3B0aW9uc19KU1R5cGU7XG4oZnVuY3Rpb24gKEZpZWxkT3B0aW9uc19KU1R5cGUpIHtcbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIGRlZmF1bHQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBKU19OT1JNQUwgPSAwO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19KU1R5cGVbRmllbGRPcHRpb25zX0pTVHlwZVtcIkpTX05PUk1BTFwiXSA9IDBdID0gXCJKU19OT1JNQUxcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgSmF2YVNjcmlwdCBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEpTX1NUUklORyA9IDE7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX0pTVHlwZVtGaWVsZE9wdGlvbnNfSlNUeXBlW1wiSlNfU1RSSU5HXCJdID0gMV0gPSBcIkpTX1NUUklOR1wiO1xuICAgIC8qKlxuICAgICAqIFVzZSBKYXZhU2NyaXB0IG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSlNfTlVNQkVSID0gMjtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfSlNUeXBlW0ZpZWxkT3B0aW9uc19KU1R5cGVbXCJKU19OVU1CRVJcIl0gPSAyXSA9IFwiSlNfTlVNQkVSXCI7XG59KShGaWVsZE9wdGlvbnNfSlNUeXBlIHx8IChGaWVsZE9wdGlvbnNfSlNUeXBlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuSlNUeXBlLlxuICovXG5leHBvcnQgY29uc3QgRmllbGRPcHRpb25zX0pTVHlwZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIsIDEpO1xuLyoqXG4gKiBJZiBzZXQgdG8gUkVURU5USU9OX1NPVVJDRSwgdGhlIG9wdGlvbiB3aWxsIGJlIG9taXR0ZWQgZnJvbSB0aGUgYmluYXJ5LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuT3B0aW9uUmV0ZW50aW9uXG4gKi9cbmV4cG9ydCB2YXIgRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbjtcbihmdW5jdGlvbiAoRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbikge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBSRVRFTlRJT05fVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbltGaWVsZE9wdGlvbnNfT3B0aW9uUmV0ZW50aW9uW1wiUkVURU5USU9OX1VOS05PV05cIl0gPSAwXSA9IFwiUkVURU5USU9OX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogUkVURU5USU9OX1JVTlRJTUUgPSAxO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25bRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbltcIlJFVEVOVElPTl9SVU5USU1FXCJdID0gMV0gPSBcIlJFVEVOVElPTl9SVU5USU1FXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFJFVEVOVElPTl9TT1VSQ0UgPSAyO1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25bRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbltcIlJFVEVOVElPTl9TT1VSQ0VcIl0gPSAyXSA9IFwiUkVURU5USU9OX1NPVVJDRVwiO1xufSkoRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbiB8fCAoRmllbGRPcHRpb25zX09wdGlvblJldGVudGlvbiA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLk9wdGlvblJldGVudGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDEyLCAyKTtcbi8qKlxuICogVGhpcyBpbmRpY2F0ZXMgdGhlIHR5cGVzIG9mIGVudGl0aWVzIHRoYXQgdGhlIGZpZWxkIG1heSBhcHBseSB0byB3aGVuIHVzZWRcbiAqIGFzIGFuIG9wdGlvbi4gSWYgaXQgaXMgdW5zZXQsIHRoZW4gdGhlIGZpZWxkIG1heSBiZSBmcmVlbHkgdXNlZCBhcyBhblxuICogb3B0aW9uIG9uIGFueSBraW5kIG9mIGVudGl0eS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLk9wdGlvblRhcmdldFR5cGVcbiAqL1xuZXhwb3J0IHZhciBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZTtcbihmdW5jdGlvbiAoRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9VTktOT1dOXCJdID0gMF0gPSBcIlRBUkdFVF9UWVBFX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfRklMRSA9IDE7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9GSUxFXCJdID0gMV0gPSBcIlRBUkdFVF9UWVBFX0ZJTEVcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfRVhURU5TSU9OX1JBTkdFID0gMjtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX0VYVEVOU0lPTl9SQU5HRVwiXSA9IDJdID0gXCJUQVJHRVRfVFlQRV9FWFRFTlNJT05fUkFOR0VcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfTUVTU0FHRSA9IDM7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9NRVNTQUdFXCJdID0gM10gPSBcIlRBUkdFVF9UWVBFX01FU1NBR0VcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfRklFTEQgPSA0O1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfRklFTERcIl0gPSA0XSA9IFwiVEFSR0VUX1RZUEVfRklFTERcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfT05FT0YgPSA1O1xuICAgICAqL1xuICAgIEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW0ZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlW1wiVEFSR0VUX1RZUEVfT05FT0ZcIl0gPSA1XSA9IFwiVEFSR0VUX1RZUEVfT05FT0ZcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfRU5VTSA9IDY7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9FTlVNXCJdID0gNl0gPSBcIlRBUkdFVF9UWVBFX0VOVU1cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfRU5VTV9FTlRSWSA9IDc7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9FTlVNX0VOVFJZXCJdID0gN10gPSBcIlRBUkdFVF9UWVBFX0VOVU1fRU5UUllcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfU0VSVklDRSA9IDg7XG4gICAgICovXG4gICAgRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGVbXCJUQVJHRVRfVFlQRV9TRVJWSUNFXCJdID0gOF0gPSBcIlRBUkdFVF9UWVBFX1NFUlZJQ0VcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVEFSR0VUX1RZUEVfTUVUSE9EID0gOTtcbiAgICAgKi9cbiAgICBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVtcIlRBUkdFVF9UWVBFX01FVEhPRFwiXSA9IDldID0gXCJUQVJHRVRfVFlQRV9NRVRIT0RcIjtcbn0pKEZpZWxkT3B0aW9uc19PcHRpb25UYXJnZXRUeXBlIHx8IChGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLk9wdGlvblRhcmdldFR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZE9wdGlvbnNfT3B0aW9uVGFyZ2V0VHlwZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTIsIDMpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKE9uZW9mT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgT25lb2ZPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxMyk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuXG4gKiBVc2UgYGNyZWF0ZShFbnVtT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRW51bU9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE0KTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoRW51bVZhbHVlT3B0aW9uc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRW51bVZhbHVlT3B0aW9uc1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTUpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLlxuICogVXNlIGBjcmVhdGUoU2VydmljZU9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNlcnZpY2VPcHRpb25zU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxNik7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5cbiAqIFVzZSBgY3JlYXRlKE1ldGhvZE9wdGlvbnNTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1ldGhvZE9wdGlvbnNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE3KTtcbi8qKlxuICogSXMgdGhpcyBtZXRob2Qgc2lkZS1lZmZlY3QtZnJlZSAob3Igc2FmZSBpbiBIVFRQIHBhcmxhbmNlKSwgb3IgaWRlbXBvdGVudCxcbiAqIG9yIG5laXRoZXI/IEhUVFAgYmFzZWQgUlBDIGltcGxlbWVudGF0aW9uIG1heSBjaG9vc2UgR0VUIHZlcmIgZm9yIHNhZmVcbiAqIG1ldGhvZHMsIGFuZCBQVVQgdmVyYiBmb3IgaWRlbXBvdGVudCBtZXRob2RzIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgUE9TVC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5JZGVtcG90ZW5jeUxldmVsXG4gKi9cbmV4cG9ydCB2YXIgTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsO1xuKGZ1bmN0aW9uIChNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWwpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSURFTVBPVEVOQ1lfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsW01ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFtcIklERU1QT1RFTkNZX1VOS05PV05cIl0gPSAwXSA9IFwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIGltcGxpZXMgaWRlbXBvdGVudFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE5PX1NJREVfRUZGRUNUUyA9IDE7XG4gICAgICovXG4gICAgTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsW01ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFtcIk5PX1NJREVfRUZGRUNUU1wiXSA9IDFdID0gXCJOT19TSURFX0VGRkVDVFNcIjtcbiAgICAvKipcbiAgICAgKiBpZGVtcG90ZW50LCBidXQgbWF5IGhhdmUgc2lkZSBlZmZlY3RzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogSURFTVBPVEVOVCA9IDI7XG4gICAgICovXG4gICAgTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsW01ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFtcIklERU1QT1RFTlRcIl0gPSAyXSA9IFwiSURFTVBPVEVOVFwiO1xufSkoTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsIHx8IChNZXRob2RPcHRpb25zX0lkZW1wb3RlbmN5TGV2ZWwgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuSWRlbXBvdGVuY3lMZXZlbC5cbiAqL1xuZXhwb3J0IGNvbnN0IE1ldGhvZE9wdGlvbnNfSWRlbXBvdGVuY3lMZXZlbFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTcsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uXG4gKiBVc2UgYGNyZWF0ZShVbmludGVycHJldGVkT3B0aW9uU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBVbmludGVycHJldGVkT3B0aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOCk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5cbiAqIFVzZSBgY3JlYXRlKFVuaW50ZXJwcmV0ZWRPcHRpb25fTmFtZVBhcnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuaW50ZXJwcmV0ZWRPcHRpb25fTmFtZVBhcnRTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE4LCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlxuICogVXNlIGBjcmVhdGUoRmVhdHVyZVNldFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuVmlzaWJpbGl0eUZlYXR1cmUuXG4gKiBVc2UgYGNyZWF0ZShGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgMCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlZpc2liaWxpdHlGZWF0dXJlLkRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5XG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eTtcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eSkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBERUZBVUxUX1NZTUJPTF9WSVNJQklMSVRZX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtcIkRFRkFVTFRfU1lNQk9MX1ZJU0lCSUxJVFlfVU5LTk9XTlwiXSA9IDBdID0gXCJERUZBVUxUX1NZTUJPTF9WSVNJQklMSVRZX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHByZS1FRElUSU9OXzIwMjQsIGFsbCBVTlNFVCB2aXNpYmlsaXR5IGFyZSBleHBvcnQuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRVhQT1JUX0FMTCA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W1wiRVhQT1JUX0FMTFwiXSA9IDFdID0gXCJFWFBPUlRfQUxMXCI7XG4gICAgLyoqXG4gICAgICogQWxsIHRvcC1sZXZlbCBzeW1ib2xzIGRlZmF1bHQgdG8gZXhwb3J0LCBuZXN0ZWQgZGVmYXVsdCB0byBsb2NhbC5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFWFBPUlRfVE9QX0xFVkVMID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W0ZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbXCJFWFBPUlRfVE9QX0xFVkVMXCJdID0gMl0gPSBcIkVYUE9SVF9UT1BfTEVWRUxcIjtcbiAgICAvKipcbiAgICAgKiBBbGwgc3ltYm9scyBkZWZhdWx0IHRvIGxvY2FsLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExPQ0FMX0FMTCA9IDM7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVtGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W1wiTE9DQUxfQUxMXCJdID0gM10gPSBcIkxPQ0FMX0FMTFwiO1xuICAgIC8qKlxuICAgICAqIEFsbCBzeW1ib2xzIGxvY2FsIGJ5IGRlZmF1bHQuIE5lc3RlZCB0eXBlcyBjYW5ub3QgYmUgZXhwb3J0ZWQuXG4gICAgICogV2l0aCBzcGVjaWFsIGNhc2UgY2F2ZWF0IGZvciBtZXNzYWdlIHsgZW51bSB7fSByZXNlcnZlZCAxIHRvIG1heDsgfVxuICAgICAqIFRoaXMgaXMgdGhlIHJlY29tbWVuZGVkIHNldHRpbmcgZm9yIG5ldyBwcm90b3MuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RSSUNUID0gNDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5W0ZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHlbXCJTVFJJQ1RcIl0gPSA0XSA9IFwiU1RSSUNUXCI7XG59KShGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5IHx8IChGZWF0dXJlU2V0X1Zpc2liaWxpdHlGZWF0dXJlX0RlZmF1bHRTeW1ib2xWaXNpYmlsaXR5ID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlZpc2liaWxpdHlGZWF0dXJlLkRlZmF1bHRTeW1ib2xWaXNpYmlsaXR5LlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9WaXNpYmlsaXR5RmVhdHVyZV9EZWZhdWx0U3ltYm9sVmlzaWJpbGl0eVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDAsIDApO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlXG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlO1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRklFTERfUFJFU0VOQ0VfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW0ZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtcIkZJRUxEX1BSRVNFTkNFX1VOS05PV05cIl0gPSAwXSA9IFwiRklFTERfUFJFU0VOQ0VfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFWFBMSUNJVCA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW0ZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVtcIkVYUExJQ0lUXCJdID0gMV0gPSBcIkVYUExJQ0lUXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IElNUExJQ0lUID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW1wiSU1QTElDSVRcIl0gPSAyXSA9IFwiSU1QTElDSVRcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTEVHQUNZX1JFUVVJUkVEID0gMztcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2VbRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlW1wiTEVHQUNZX1JFUVVJUkVEXCJdID0gM10gPSBcIkxFR0FDWV9SRVFVSVJFRFwiO1xufSkoRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlIHx8IChGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRmllbGRQcmVzZW5jZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMTksIDApO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5FbnVtVHlwZVxuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfRW51bVR5cGU7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfRW51bVR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRU5VTV9UWVBFX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRW51bVR5cGVbRmVhdHVyZVNldF9FbnVtVHlwZVtcIkVOVU1fVFlQRV9VTktOT1dOXCJdID0gMF0gPSBcIkVOVU1fVFlQRV9VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE9QRU4gPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRW51bVR5cGVbRmVhdHVyZVNldF9FbnVtVHlwZVtcIk9QRU5cIl0gPSAxXSA9IFwiT1BFTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBDTE9TRUQgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRW51bVR5cGVbRmVhdHVyZVNldF9FbnVtVHlwZVtcIkNMT1NFRFwiXSA9IDJdID0gXCJDTE9TRURcIjtcbn0pKEZlYXR1cmVTZXRfRW51bVR5cGUgfHwgKEZlYXR1cmVTZXRfRW51bVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuRW51bVR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0X0VudW1UeXBlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgMSk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlJlcGVhdGVkRmllbGRFbmNvZGluZ1xuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nO1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZykge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBSRVBFQVRFRF9GSUVMRF9FTkNPRElOR19VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1tGZWF0dXJlU2V0X1JlcGVhdGVkRmllbGRFbmNvZGluZ1tcIlJFUEVBVEVEX0ZJRUxEX0VOQ09ESU5HX1VOS05PV05cIl0gPSAwXSA9IFwiUkVQRUFURURfRklFTERfRU5DT0RJTkdfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBQQUNLRUQgPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nW0ZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nW1wiUEFDS0VEXCJdID0gMV0gPSBcIlBBQ0tFRFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFWFBBTkRFRCA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdbRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmdbXCJFWFBBTkRFRFwiXSA9IDJdID0gXCJFWFBBTkRFRFwiO1xufSkoRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmcgfHwgKEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlJlcGVhdGVkRmllbGRFbmNvZGluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfUmVwZWF0ZWRGaWVsZEVuY29kaW5nU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgMik7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LlV0ZjhWYWxpZGF0aW9uXG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbjtcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbikge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVVEY4X1ZBTElEQVRJT05fVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbltGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uW1wiVVRGOF9WQUxJREFUSU9OX1VOS05PV05cIl0gPSAwXSA9IFwiVVRGOF9WQUxJREFUSU9OX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVkVSSUZZID0gMjtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X1V0ZjhWYWxpZGF0aW9uW0ZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25bXCJWRVJJRllcIl0gPSAyXSA9IFwiVkVSSUZZXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE5PTkUgPSAzO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25bRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbltcIk5PTkVcIl0gPSAzXSA9IFwiTk9ORVwiO1xufSkoRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbiB8fCAoRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbiA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5VdGY4VmFsaWRhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfVXRmOFZhbGlkYXRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCAzKTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuTWVzc2FnZUVuY29kaW5nXG4gKi9cbmV4cG9ydCB2YXIgRmVhdHVyZVNldF9NZXNzYWdlRW5jb2Rpbmc7XG4oZnVuY3Rpb24gKEZlYXR1cmVTZXRfTWVzc2FnZUVuY29kaW5nKSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1FU1NBR0VfRU5DT0RJTkdfVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdbRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdbXCJNRVNTQUdFX0VOQ09ESU5HX1VOS05PV05cIl0gPSAwXSA9IFwiTUVTU0FHRV9FTkNPRElOR19VTktOT1dOXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IExFTkdUSF9QUkVGSVhFRCA9IDE7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdbRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdbXCJMRU5HVEhfUFJFRklYRURcIl0gPSAxXSA9IFwiTEVOR1RIX1BSRUZJWEVEXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERFTElNSVRFRCA9IDI7XG4gICAgICovXG4gICAgRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdbRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdbXCJERUxJTUlURURcIl0gPSAyXSA9IFwiREVMSU1JVEVEXCI7XG59KShGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZyB8fCAoRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmcgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuTWVzc2FnZUVuY29kaW5nLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9NZXNzYWdlRW5jb2RpbmdTY2hlbWEgPSAvKkBfX1BVUkVfXyovIGVudW1EZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDE5LCA0KTtcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQuSnNvbkZvcm1hdFxuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfSnNvbkZvcm1hdDtcbihmdW5jdGlvbiAoRmVhdHVyZVNldF9Kc29uRm9ybWF0KSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEpTT05fRk9STUFUX1VOS05PV04gPSAwO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfSnNvbkZvcm1hdFtGZWF0dXJlU2V0X0pzb25Gb3JtYXRbXCJKU09OX0ZPUk1BVF9VTktOT1dOXCJdID0gMF0gPSBcIkpTT05fRk9STUFUX1VOS05PV05cIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogQUxMT1cgPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfSnNvbkZvcm1hdFtGZWF0dXJlU2V0X0pzb25Gb3JtYXRbXCJBTExPV1wiXSA9IDFdID0gXCJBTExPV1wiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBMRUdBQ1lfQkVTVF9FRkZPUlQgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfSnNvbkZvcm1hdFtGZWF0dXJlU2V0X0pzb25Gb3JtYXRbXCJMRUdBQ1lfQkVTVF9FRkZPUlRcIl0gPSAyXSA9IFwiTEVHQUNZX0JFU1RfRUZGT1JUXCI7XG59KShGZWF0dXJlU2V0X0pzb25Gb3JtYXQgfHwgKEZlYXR1cmVTZXRfSnNvbkZvcm1hdCA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5Kc29uRm9ybWF0LlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldF9Kc29uRm9ybWF0U2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgNSk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVuZm9yY2VOYW1pbmdTdHlsZVxuICovXG5leHBvcnQgdmFyIEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlO1xuKGZ1bmN0aW9uIChGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZSkge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFTkZPUkNFX05BTUlOR19TVFlMRV9VTktOT1dOID0gMDtcbiAgICAgKi9cbiAgICBGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVtGZWF0dXJlU2V0X0VuZm9yY2VOYW1pbmdTdHlsZVtcIkVORk9SQ0VfTkFNSU5HX1NUWUxFX1VOS05PV05cIl0gPSAwXSA9IFwiRU5GT1JDRV9OQU1JTkdfU1RZTEVfVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVFlMRTIwMjQgPSAxO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlW0ZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlW1wiU1RZTEUyMDI0XCJdID0gMV0gPSBcIlNUWUxFMjAyNFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVFlMRV9MRUdBQ1kgPSAyO1xuICAgICAqL1xuICAgIEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlW0ZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlW1wiU1RZTEVfTEVHQUNZXCJdID0gMl0gPSBcIlNUWUxFX0xFR0FDWVwiO1xufSkoRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGUgfHwgKEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkVuZm9yY2VOYW1pbmdTdHlsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEZlYXR1cmVTZXRfRW5mb3JjZU5hbWluZ1N0eWxlU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAxOSwgNik7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldERlZmF1bHRzLlxuICogVXNlIGBjcmVhdGUoRmVhdHVyZVNldERlZmF1bHRzU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWF0dXJlU2V0RGVmYXVsdHNTY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0RGVmYXVsdHMuRmVhdHVyZVNldEVkaXRpb25EZWZhdWx0LlxuICogVXNlIGBjcmVhdGUoRmVhdHVyZVNldERlZmF1bHRzX0ZlYXR1cmVTZXRFZGl0aW9uRGVmYXVsdFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRmVhdHVyZVNldERlZmF1bHRzX0ZlYXR1cmVTZXRFZGl0aW9uRGVmYXVsdFNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjAsIDApO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLlxuICogVXNlIGBjcmVhdGUoU291cmNlQ29kZUluZm9TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNvdXJjZUNvZGVJbmZvU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uXG4gKiBVc2UgYGNyZWF0ZShTb3VyY2VDb2RlSW5mb19Mb2NhdGlvblNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU291cmNlQ29kZUluZm9fTG9jYXRpb25TY2hlbWEgPSAvKkBfX1BVUkVfXyovIG1lc3NhZ2VEZXNjKGZpbGVfZ29vZ2xlX3Byb3RvYnVmX2Rlc2NyaXB0b3IsIDIxLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5cbiAqIFVzZSBgY3JlYXRlKEdlbmVyYXRlZENvZGVJbmZvU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBHZW5lcmF0ZWRDb2RlSW5mb1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gbWVzc2FnZURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjIpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uXG4gKiBVc2UgYGNyZWF0ZShHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBtZXNzYWdlRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAyMiwgMCk7XG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGlkZW50aWZpZWQgb2JqZWN0J3MgZWZmZWN0IG9uIHRoZSBlbGVtZW50IGluIHRoZSBvcmlnaW5hbFxuICogLnByb3RvIGZpbGUuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uU2VtYW50aWNcbiAqL1xuZXhwb3J0IHZhciBHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljO1xuKGZ1bmN0aW9uIChHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljKSB7XG4gICAgLyoqXG4gICAgICogVGhlcmUgaXMgbm8gZWZmZWN0IG9yIHRoZSBlZmZlY3QgaXMgaW5kZXNjcmliYWJsZS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBOT05FID0gMDtcbiAgICAgKi9cbiAgICBHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljW0dlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCBpcyBzZXQgb3Igb3RoZXJ3aXNlIG11dGF0ZWQuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU0VUID0gMTtcbiAgICAgKi9cbiAgICBHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljW0dlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNbXCJTRVRcIl0gPSAxXSA9IFwiU0VUXCI7XG4gICAgLyoqXG4gICAgICogQW4gYWxpYXMgdG8gdGhlIGVsZW1lbnQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogQUxJQVMgPSAyO1xuICAgICAqL1xuICAgIEdlbmVyYXRlZENvZGVJbmZvX0Fubm90YXRpb25fU2VtYW50aWNbR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1tcIkFMSUFTXCJdID0gMl0gPSBcIkFMSUFTXCI7XG59KShHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljIHx8IChHZW5lcmF0ZWRDb2RlSW5mb19Bbm5vdGF0aW9uX1NlbWFudGljID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLlNlbWFudGljLlxuICovXG5leHBvcnQgY29uc3QgR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpY1NjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMjIsIDAsIDApO1xuLyoqXG4gKiBUaGUgZnVsbCBzZXQgb2Yga25vd24gZWRpdGlvbnMuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLkVkaXRpb25cbiAqL1xuZXhwb3J0IHZhciBFZGl0aW9uO1xuKGZ1bmN0aW9uIChFZGl0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQSBwbGFjZWhvbGRlciBmb3IgYW4gdW5rbm93biBlZGl0aW9uIHZhbHVlLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fVU5LTk9XTiA9IDA7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl9VTktOT1dOXCJdID0gMF0gPSBcIkVESVRJT05fVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIEEgcGxhY2Vob2xkZXIgZWRpdGlvbiBmb3Igc3BlY2lmeWluZyBkZWZhdWx0IGJlaGF2aW9ycyAqYmVmb3JlKiBhIGZlYXR1cmVcbiAgICAgKiB3YXMgZmlyc3QgaW50cm9kdWNlZC4gIFRoaXMgaXMgZWZmZWN0aXZlbHkgYW4gXCJpbmZpbml0ZSBwYXN0XCIuXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl9MRUdBQ1kgPSA5MDA7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl9MRUdBQ1lcIl0gPSA5MDBdID0gXCJFRElUSU9OX0xFR0FDWVwiO1xuICAgIC8qKlxuICAgICAqIExlZ2FjeSBzeW50YXggXCJlZGl0aW9uc1wiLiAgVGhlc2UgcHJlLWRhdGUgZWRpdGlvbnMsIGJ1dCBiZWhhdmUgbXVjaCBsaWtlXG4gICAgICogZGlzdGluY3QgZWRpdGlvbnMuICBUaGVzZSBjYW4ndCBiZSB1c2VkIHRvIHNwZWNpZnkgdGhlIGVkaXRpb24gb2YgcHJvdG9cbiAgICAgKiBmaWxlcywgYnV0IGZlYXR1cmUgZGVmaW5pdGlvbnMgbXVzdCBzdXBwbHkgcHJvdG8yL3Byb3RvMyBkZWZhdWx0cyBmb3JcbiAgICAgKiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OX1BST1RPMiA9IDk5ODtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OX1BST1RPMlwiXSA9IDk5OF0gPSBcIkVESVRJT05fUFJPVE8yXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fUFJPVE8zID0gOTk5O1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fUFJPVE8zXCJdID0gOTk5XSA9IFwiRURJVElPTl9QUk9UTzNcIjtcbiAgICAvKipcbiAgICAgKiBFZGl0aW9ucyB0aGF0IGhhdmUgYmVlbiByZWxlYXNlZC4gIFRoZSBzcGVjaWZpYyB2YWx1ZXMgYXJlIGFyYml0cmFyeSBhbmRcbiAgICAgKiBzaG91bGQgbm90IGJlIGRlcGVuZGVkIG9uLCBidXQgdGhleSB3aWxsIGFsd2F5cyBiZSB0aW1lLW9yZGVyZWQgZm9yIGVhc3lcbiAgICAgKiBjb21wYXJpc29uLlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fMjAyMyA9IDEwMDA7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl8yMDIzXCJdID0gMTAwMF0gPSBcIkVESVRJT05fMjAyM1wiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzIwMjQgPSAxMDAxO1xuICAgICAqL1xuICAgIEVkaXRpb25bRWRpdGlvbltcIkVESVRJT05fMjAyNFwiXSA9IDEwMDFdID0gXCJFRElUSU9OXzIwMjRcIjtcbiAgICAvKipcbiAgICAgKiBQbGFjZWhvbGRlciBlZGl0aW9ucyBmb3IgdGVzdGluZyBmZWF0dXJlIHJlc29sdXRpb24uICBUaGVzZSBzaG91bGQgbm90IGJlXG4gICAgICogdXNlZCBvciByZWxpZWQgb24gb3V0c2lkZSBvZiB0ZXN0cy5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OXzFfVEVTVF9PTkxZID0gMTtcbiAgICAgKi9cbiAgICBFZGl0aW9uW0VkaXRpb25bXCJFRElUSU9OXzFfVEVTVF9PTkxZXCJdID0gMV0gPSBcIkVESVRJT05fMV9URVNUX09OTFlcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogRURJVElPTl8yX1RFU1RfT05MWSA9IDI7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl8yX1RFU1RfT05MWVwiXSA9IDJdID0gXCJFRElUSU9OXzJfVEVTVF9PTkxZXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fOTk5OTdfVEVTVF9PTkxZID0gOTk5OTc7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl85OTk5N19URVNUX09OTFlcIl0gPSA5OTk5N10gPSBcIkVESVRJT05fOTk5OTdfVEVTVF9PTkxZXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fOTk5OThfVEVTVF9PTkxZID0gOTk5OTg7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl85OTk5OF9URVNUX09OTFlcIl0gPSA5OTk5OF0gPSBcIkVESVRJT05fOTk5OThfVEVTVF9PTkxZXCI7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IEVESVRJT05fOTk5OTlfVEVTVF9PTkxZID0gOTk5OTk7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl85OTk5OV9URVNUX09OTFlcIl0gPSA5OTk5OV0gPSBcIkVESVRJT05fOTk5OTlfVEVTVF9PTkxZXCI7XG4gICAgLyoqXG4gICAgICogUGxhY2Vob2xkZXIgZm9yIHNwZWNpZnlpbmcgdW5ib3VuZGVkIGVkaXRpb24gc3VwcG9ydC4gIFRoaXMgc2hvdWxkIG9ubHlcbiAgICAgKiBldmVyIGJlIHVzZWQgYnkgcGx1Z2lucyB0aGF0IGNhbiBleHBlY3QgdG8gbmV2ZXIgcmVxdWlyZSBhbnkgY2hhbmdlcyB0b1xuICAgICAqIHN1cHBvcnQgYSBuZXcgZWRpdGlvbi5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBFRElUSU9OX01BWCA9IDIxNDc0ODM2NDc7XG4gICAgICovXG4gICAgRWRpdGlvbltFZGl0aW9uW1wiRURJVElPTl9NQVhcIl0gPSAyMTQ3NDgzNjQ3XSA9IFwiRURJVElPTl9NQVhcIjtcbn0pKEVkaXRpb24gfHwgKEVkaXRpb24gPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gZ29vZ2xlLnByb3RvYnVmLkVkaXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBFZGl0aW9uU2NoZW1hID0gLypAX19QVVJFX18qLyBlbnVtRGVzYyhmaWxlX2dvb2dsZV9wcm90b2J1Zl9kZXNjcmlwdG9yLCAwKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSAndmlzaWJpbGl0eScgb2YgYSBzeW1ib2wgd2l0aCByZXNwZWN0IHRvIHRoZSBwcm90byBpbXBvcnRcbiAqIHN5c3RlbS4gU3ltYm9scyBjYW4gb25seSBiZSBpbXBvcnRlZCB3aGVuIHRoZSB2aXNpYmlsaXR5IHJ1bGVzIGRvIG5vdCBwcmV2ZW50XG4gKiBpdCAoZXg6IGxvY2FsIHN5bWJvbHMgY2Fubm90IGJlIGltcG9ydGVkKS4gIFZpc2liaWxpdHkgbW9kaWZpZXJzIGNhbiBvbmx5IHNldFxuICogb24gYG1lc3NhZ2VgIGFuZCBgZW51bWAgYXMgdGhleSBhcmUgdGhlIG9ubHkgdHlwZXMgYXZhaWxhYmxlIHRvIGJlIHJlZmVyZW5jZWRcbiAqIGZyb20gb3RoZXIgZmlsZXMuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gZ29vZ2xlLnByb3RvYnVmLlN5bWJvbFZpc2liaWxpdHlcbiAqL1xuZXhwb3J0IHZhciBTeW1ib2xWaXNpYmlsaXR5O1xuKGZ1bmN0aW9uIChTeW1ib2xWaXNpYmlsaXR5KSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFZJU0lCSUxJVFlfVU5TRVQgPSAwO1xuICAgICAqL1xuICAgIFN5bWJvbFZpc2liaWxpdHlbU3ltYm9sVmlzaWJpbGl0eVtcIlZJU0lCSUxJVFlfVU5TRVRcIl0gPSAwXSA9IFwiVklTSUJJTElUWV9VTlNFVFwiO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBWSVNJQklMSVRZX0xPQ0FMID0gMTtcbiAgICAgKi9cbiAgICBTeW1ib2xWaXNpYmlsaXR5W1N5bWJvbFZpc2liaWxpdHlbXCJWSVNJQklMSVRZX0xPQ0FMXCJdID0gMV0gPSBcIlZJU0lCSUxJVFlfTE9DQUxcIjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVklTSUJJTElUWV9FWFBPUlQgPSAyO1xuICAgICAqL1xuICAgIFN5bWJvbFZpc2liaWxpdHlbU3ltYm9sVmlzaWJpbGl0eVtcIlZJU0lCSUxJVFlfRVhQT1JUXCJdID0gMl0gPSBcIlZJU0lCSUxJVFlfRVhQT1JUXCI7XG59KShTeW1ib2xWaXNpYmlsaXR5IHx8IChTeW1ib2xWaXNpYmlsaXR5ID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGdvb2dsZS5wcm90b2J1Zi5TeW1ib2xWaXNpYmlsaXR5LlxuICovXG5leHBvcnQgY29uc3QgU3ltYm9sVmlzaWJpbGl0eVNjaGVtYSA9IC8qQF9fUFVSRV9fKi8gZW51bURlc2MoZmlsZV9nb29nbGVfcHJvdG9idWZfZGVzY3JpcHRvciwgMSk7XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi9kZXNjcmlwdG9ycy5qc1wiO1xuaW1wb3J0IHsgc2NhbGFyWmVyb1ZhbHVlIH0gZnJvbSBcIi4vcmVmbGVjdC9zY2FsYXIuanNcIjtcbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbmltcG9ydCB7IEJpbmFyeVJlYWRlciwgV2lyZVR5cGUgfSBmcm9tIFwiLi93aXJlL2JpbmFyeS1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgdmFyaW50MzJ3cml0ZSB9IGZyb20gXCIuL3dpcmUvdmFyaW50LmpzXCI7XG4vLyBEZWZhdWx0IG9wdGlvbnMgZm9yIHBhcnNpbmcgYmluYXJ5IGRhdGEuXG5jb25zdCByZWFkRGVmYXVsdHMgPSB7XG4gICAgcmVhZFVua25vd25GaWVsZHM6IHRydWUsXG59O1xuZnVuY3Rpb24gbWFrZVJlYWRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVhZERlZmF1bHRzKSwgb3B0aW9ucykgOiByZWFkRGVmYXVsdHM7XG59XG4vKipcbiAqIFBhcnNlIHNlcmlhbGl6ZWQgYmluYXJ5IGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQmluYXJ5KHNjaGVtYSwgYnl0ZXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtc2cgPSByZWZsZWN0KHNjaGVtYSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgcmVhZE1lc3NhZ2UobXNnLCBuZXcgQmluYXJ5UmVhZGVyKGJ5dGVzKSwgbWFrZVJlYWRPcHRpb25zKG9wdGlvbnMpLCBmYWxzZSwgYnl0ZXMuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIG1zZy5tZXNzYWdlO1xufVxuLyoqXG4gKiBQYXJzZSBmcm9tIGJpbmFyeSBkYXRhLCBtZXJnaW5nIGZpZWxkcy5cbiAqXG4gKiBSZXBlYXRlZCBmaWVsZHMgYXJlIGFwcGVuZGVkLiBNYXAgZW50cmllcyBhcmUgYWRkZWQsIG92ZXJ3cml0aW5nXG4gKiBleGlzdGluZyBrZXlzLlxuICpcbiAqIElmIGEgbWVzc2FnZSBmaWVsZCBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlXG4gKiBuZXcgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRnJvbUJpbmFyeShzY2hlbWEsIHRhcmdldCwgYnl0ZXMsIG9wdGlvbnMpIHtcbiAgICByZWFkTWVzc2FnZShyZWZsZWN0KHNjaGVtYSwgdGFyZ2V0LCBmYWxzZSksIG5ldyBCaW5hcnlSZWFkZXIoYnl0ZXMpLCBtYWtlUmVhZE9wdGlvbnMob3B0aW9ucyksIGZhbHNlLCBieXRlcy5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLyoqXG4gKiBJZiBgZGVsaW1pdGVkYCBpcyBmYWxzZSwgcmVhZCB0aGUgbGVuZ3RoIGdpdmVuIGluIGBsZW5ndGhPckRlbGltaXRlZEZpZWxkTm9gLlxuICpcbiAqIElmIGBkZWxpbWl0ZWRgIGlzIHRydWUsIHJlYWQgdW50aWwgYW4gRW5kR3JvdXAgdGFnLiBgbGVuZ3RoT3JEZWxpbWl0ZWRGaWVsZE5vYFxuICogaXMgdGhlIGV4cGVjdGVkIGZpZWxkIG51bWJlci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWFkTWVzc2FnZShtZXNzYWdlLCByZWFkZXIsIG9wdGlvbnMsIGRlbGltaXRlZCwgbGVuZ3RoT3JEZWxpbWl0ZWRGaWVsZE5vKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGVuZCA9IGRlbGltaXRlZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoT3JEZWxpbWl0ZWRGaWVsZE5vO1xuICAgIGxldCBmaWVsZE5vO1xuICAgIGxldCB3aXJlVHlwZTtcbiAgICBjb25zdCB1bmtub3duRmllbGRzID0gKF9hID0gbWVzc2FnZS5nZXRVbmtub3duKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgIFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICAgIGlmIChkZWxpbWl0ZWQgJiYgd2lyZVR5cGUgPT0gV2lyZVR5cGUuRW5kR3JvdXApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpZWxkID0gbWVzc2FnZS5maW5kTnVtYmVyKGZpZWxkTm8pO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVhZGVyLnNraXAod2lyZVR5cGUsIGZpZWxkTm8pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVhZFVua25vd25GaWVsZHMpIHtcbiAgICAgICAgICAgICAgICB1bmtub3duRmllbGRzLnB1c2goeyBubzogZmllbGRObywgd2lyZVR5cGUsIGRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZWFkRmllbGQobWVzc2FnZSwgcmVhZGVyLCBmaWVsZCwgd2lyZVR5cGUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoZGVsaW1pdGVkKSB7XG4gICAgICAgIGlmICh3aXJlVHlwZSAhPSBXaXJlVHlwZS5FbmRHcm91cCB8fCBmaWVsZE5vICE9PSBsZW5ndGhPckRlbGltaXRlZEZpZWxkTm8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgZW5kIGdyb3VwIHRhZ1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5rbm93bkZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1lc3NhZ2Uuc2V0VW5rbm93bih1bmtub3duRmllbGRzKTtcbiAgICB9XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmllbGQobWVzc2FnZSwgcmVhZGVyLCBmaWVsZCwgd2lyZVR5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgbWVzc2FnZS5zZXQoZmllbGQsIHJlYWRTY2FsYXIocmVhZGVyLCBmaWVsZC5zY2FsYXIpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgY29uc3QgdmFsID0gcmVhZFNjYWxhcihyZWFkZXIsIFNjYWxhclR5cGUuSU5UMzIpO1xuICAgICAgICAgICAgaWYgKGZpZWxkLmVudW0ub3Blbikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2V0KGZpZWxkLCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2sgPSBmaWVsZC5lbnVtLnZhbHVlcy5zb21lKCh2KSA9PiB2Lm51bWJlciA9PT0gdmFsKTtcbiAgICAgICAgICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZXQoZmllbGQsIHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMucmVhZFVua25vd25GaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyaW50MzJ3cml0ZSh2YWwsIGJ5dGVzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5rbm93bkZpZWxkcyA9IChfYSA9IG1lc3NhZ2UuZ2V0VW5rbm93bigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgdW5rbm93bkZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vOiBmaWVsZC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aXJlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KGJ5dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2V0VW5rbm93bih1bmtub3duRmllbGRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2V0KGZpZWxkLCByZWFkTWVzc2FnZUZpZWxkKHJlYWRlciwgb3B0aW9ucywgZmllbGQsIG1lc3NhZ2UuZ2V0KGZpZWxkKSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICByZWFkTGlzdEZpZWxkKHJlYWRlciwgd2lyZVR5cGUsIG1lc3NhZ2UuZ2V0KGZpZWxkKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgcmVhZE1hcEVudHJ5KHJlYWRlciwgbWVzc2FnZS5nZXQoZmllbGQpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8vIFJlYWQgYSBtYXAgZmllbGQsIGV4cGVjdGluZyBrZXkgZmllbGQgPSAxLCB2YWx1ZSBmaWVsZCA9IDJcbmZ1bmN0aW9uIHJlYWRNYXBFbnRyeShyZWFkZXIsIG1hcCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGZpZWxkID0gbWFwLmZpZWxkKCk7XG4gICAgbGV0IGtleTtcbiAgICBsZXQgdmFsO1xuICAgIC8vIFJlYWQgdGhlIGxlbmd0aCBvZiB0aGUgbWFwIGVudHJ5LCB3aGljaCBpcyBhIHZhcmludC5cbiAgICBjb25zdCBsZW4gPSByZWFkZXIudWludDMyKCk7XG4gICAgLy8gV0FSTklORzogQ2FsY3VsYXRlIGVuZCBBRlRFUiBhZHZhbmNpbmcgcmVhZGVyLnBvcyAoYWJvdmUpLCBzbyB0aGF0XG4gICAgLy8gICAgICAgICAgcmVhZGVyLnBvcyBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIG1hcCBlbnRyeS5cbiAgICBjb25zdCBlbmQgPSByZWFkZXIucG9zICsgbGVuO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgIGNvbnN0IFtmaWVsZE5vXSA9IHJlYWRlci50YWcoKTtcbiAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAga2V5ID0gcmVhZFNjYWxhcihyZWFkZXIsIGZpZWxkLm1hcEtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5tYXBLaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHJlYWRTY2FsYXIocmVhZGVyLCBmaWVsZC5zY2FsYXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcmVhZE1lc3NhZ2VGaWVsZChyZWFkZXIsIG9wdGlvbnMsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5ID0gc2NhbGFyWmVyb1ZhbHVlKGZpZWxkLm1hcEtleSwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5tYXBLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgdmFsID0gc2NhbGFyWmVyb1ZhbHVlKGZpZWxkLnNjYWxhciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICB2YWwgPSBmaWVsZC5lbnVtLnZhbHVlc1swXS5udW1iZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IHJlZmxlY3QoZmllbGQubWVzc2FnZSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFwLnNldChrZXksIHZhbCk7XG59XG5mdW5jdGlvbiByZWFkTGlzdEZpZWxkKHJlYWRlciwgd2lyZVR5cGUsIGxpc3QsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZmllbGQgPSBsaXN0LmZpZWxkKCk7XG4gICAgaWYgKGZpZWxkLmxpc3RLaW5kID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICBsaXN0LmFkZChyZWFkTWVzc2FnZUZpZWxkKHJlYWRlciwgb3B0aW9ucywgZmllbGQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzY2FsYXJUeXBlID0gKF9hID0gZmllbGQuc2NhbGFyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTY2FsYXJUeXBlLklOVDMyO1xuICAgIGNvbnN0IHBhY2tlZCA9IHdpcmVUeXBlID09IFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCAmJlxuICAgICAgICBzY2FsYXJUeXBlICE9IFNjYWxhclR5cGUuU1RSSU5HICYmXG4gICAgICAgIHNjYWxhclR5cGUgIT0gU2NhbGFyVHlwZS5CWVRFUztcbiAgICBpZiAoIXBhY2tlZCkge1xuICAgICAgICBsaXN0LmFkZChyZWFkU2NhbGFyKHJlYWRlciwgc2NhbGFyVHlwZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGUgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZSkge1xuICAgICAgICBsaXN0LmFkZChyZWFkU2NhbGFyKHJlYWRlciwgc2NhbGFyVHlwZSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRNZXNzYWdlRmllbGQocmVhZGVyLCBvcHRpb25zLCBmaWVsZCwgbWVyZ2VNZXNzYWdlKSB7XG4gICAgY29uc3QgZGVsaW1pdGVkID0gZmllbGQuZGVsaW1pdGVkRW5jb2Rpbmc7XG4gICAgY29uc3QgbWVzc2FnZSA9IG1lcmdlTWVzc2FnZSAhPT0gbnVsbCAmJiBtZXJnZU1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lcmdlTWVzc2FnZSA6IHJlZmxlY3QoZmllbGQubWVzc2FnZSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgcmVhZE1lc3NhZ2UobWVzc2FnZSwgcmVhZGVyLCBvcHRpb25zLCBkZWxpbWl0ZWQsIGRlbGltaXRlZCA/IGZpZWxkLm51bWJlciA6IHJlYWRlci51aW50MzIoKSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiByZWFkU2NhbGFyKHJlYWRlciwgdHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuZG91YmxlKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5pbnQzMigpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmludDY0KCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnVpbnQ2NCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuZml4ZWQ2NCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5maXhlZDMyKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIuc2ZpeGVkMzIoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zZml4ZWQ2NCgpO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zaW50NjQoKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIudWludDMyKCk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVyLnNpbnQzMigpO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgYmFzZTY0RGVjb2RlIH0gZnJvbSBcIi4uL3dpcmUvYmFzZTY0LWVuY29kaW5nLmpzXCI7XG5pbXBvcnQgeyBGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hIH0gZnJvbSBcIi4uL3drdC9nZW4vZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3JfcGIuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUZpbGVSZWdpc3RyeSB9IGZyb20gXCIuLi9yZWdpc3RyeS5qc1wiO1xuaW1wb3J0IHsgcmVzdG9yZUpzb25OYW1lcyB9IGZyb20gXCIuL3Jlc3RvcmUtanNvbi1uYW1lcy5qc1wiO1xuaW1wb3J0IHsgZnJvbUJpbmFyeSB9IGZyb20gXCIuLi9mcm9tLWJpbmFyeS5qc1wiO1xuLyoqXG4gKiBIeWRyYXRlIGEgZmlsZSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWxlRGVzYyhiNjQsIGltcG9ydHMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgcm9vdCA9IGZyb21CaW5hcnkoRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYSwgYmFzZTY0RGVjb2RlKGI2NCkpO1xuICAgIHJvb3QubWVzc2FnZVR5cGUuZm9yRWFjaChyZXN0b3JlSnNvbk5hbWVzKTtcbiAgICByb290LmRlcGVuZGVuY3kgPSAoX2EgPSBpbXBvcnRzID09PSBudWxsIHx8IGltcG9ydHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltcG9ydHMubWFwKChmKSA9PiBmLnByb3RvLm5hbWUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICBjb25zdCByZWcgPSBjcmVhdGVGaWxlUmVnaXN0cnkocm9vdCwgKHByb3RvRmlsZU5hbWUpID0+IGltcG9ydHMgPT09IG51bGwgfHwgaW1wb3J0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1wb3J0cy5maW5kKChmKSA9PiBmLnByb3RvLm5hbWUgPT09IHByb3RvRmlsZU5hbWUpKTtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdHlsZS9ub05vbk51bGxBc3NlcnRpb246IG5vbi1udWxsIGFzc2VydGlvbiBiZWNhdXNlIHdlIGp1c3QgY3JlYXRlZCB0aGUgcmVnaXN0cnkgZnJvbSB0aGUgZmlsZSB3ZSBsb29rIHVwXG4gICAgcmV0dXJuIHJlZy5nZXRGaWxlKHJvb3QubmFtZSk7XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHJlZmxlY3QgfSBmcm9tIFwiLi9yZWZsZWN0L3JlZmxlY3QuanNcIjtcbmltcG9ydCB7IEJpbmFyeVdyaXRlciwgV2lyZVR5cGUgfSBmcm9tIFwiLi93aXJlL2JpbmFyeS1lbmNvZGluZy5qc1wiO1xuaW1wb3J0IHsgU2NhbGFyVHlwZSB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuTEVHQUNZX1JFUVVJUkVEOiBjb25zdCAkbmFtZTogRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlLiRsb2NhbE5hbWUgPSAkbnVtYmVyO1xuY29uc3QgTEVHQUNZX1JFUVVJUkVEID0gMztcbi8vIERlZmF1bHQgb3B0aW9ucyBmb3Igc2VyaWFsaXppbmcgYmluYXJ5IGRhdGEuXG5jb25zdCB3cml0ZURlZmF1bHRzID0ge1xuICAgIHdyaXRlVW5rbm93bkZpZWxkczogdHJ1ZSxcbn07XG5mdW5jdGlvbiBtYWtlV3JpdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgd3JpdGVEZWZhdWx0cyksIG9wdGlvbnMpIDogd3JpdGVEZWZhdWx0cztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0JpbmFyeShzY2hlbWEsIG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gd3JpdGVGaWVsZHMobmV3IEJpbmFyeVdyaXRlcigpLCBtYWtlV3JpdGVPcHRpb25zKG9wdGlvbnMpLCByZWZsZWN0KHNjaGVtYSwgbWVzc2FnZSkpLmZpbmlzaCgpO1xufVxuZnVuY3Rpb24gd3JpdGVGaWVsZHMod3JpdGVyLCBvcHRzLCBtc2cpIHtcbiAgICB2YXIgX2E7XG4gICAgZm9yIChjb25zdCBmIG9mIG1zZy5zb3J0ZWRGaWVsZHMpIHtcbiAgICAgICAgaWYgKCFtc2cuaXNTZXQoZikpIHtcbiAgICAgICAgICAgIGlmIChmLnByZXNlbmNlID09IExFR0FDWV9SRVFVSVJFRCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2Z9IHRvIGJpbmFyeTogcmVxdWlyZWQgZmllbGQgbm90IHNldGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVGaWVsZCh3cml0ZXIsIG9wdHMsIG1zZywgZik7XG4gICAgfVxuICAgIGlmIChvcHRzLndyaXRlVW5rbm93bkZpZWxkcykge1xuICAgICAgICBmb3IgKGNvbnN0IHsgbm8sIHdpcmVUeXBlLCBkYXRhIH0gb2YgKF9hID0gbXNnLmdldFVua25vd24oKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pIHtcbiAgICAgICAgICAgIHdyaXRlci50YWcobm8sIHdpcmVUeXBlKS5yYXcoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlRmllbGQod3JpdGVyLCBvcHRzLCBtc2csIGZpZWxkKSB7XG4gICAgdmFyIF9hO1xuICAgIHN3aXRjaCAoZmllbGQuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHdyaXRlU2NhbGFyKHdyaXRlciwgbXNnLmRlc2MudHlwZU5hbWUsIGZpZWxkLm5hbWUsIChfYSA9IGZpZWxkLnNjYWxhcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU2NhbGFyVHlwZS5JTlQzMiwgZmllbGQubnVtYmVyLCBtc2cuZ2V0KGZpZWxkKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIHdyaXRlTGlzdEZpZWxkKHdyaXRlciwgb3B0cywgZmllbGQsIG1zZy5nZXQoZmllbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgd3JpdGVNZXNzYWdlRmllbGQod3JpdGVyLCBvcHRzLCBmaWVsZCwgbXNnLmdldChmaWVsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBtc2cuZ2V0KGZpZWxkKSkge1xuICAgICAgICAgICAgICAgIHdyaXRlTWFwRW50cnkod3JpdGVyLCBvcHRzLCBmaWVsZCwga2V5LCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JpdGVTY2FsYXIod3JpdGVyLCBtc2dOYW1lLCBmaWVsZE5hbWUsIHNjYWxhclR5cGUsIGZpZWxkTm8sIHZhbHVlKSB7XG4gICAgd3JpdGVTY2FsYXJWYWx1ZSh3cml0ZXIudGFnKGZpZWxkTm8sIHdyaXRlVHlwZU9mU2NhbGFyKHNjYWxhclR5cGUpKSwgbXNnTmFtZSwgZmllbGROYW1lLCBzY2FsYXJUeXBlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiB3cml0ZU1lc3NhZ2VGaWVsZCh3cml0ZXIsIG9wdHMsIGZpZWxkLCBtZXNzYWdlKSB7XG4gICAgaWYgKGZpZWxkLmRlbGltaXRlZEVuY29kaW5nKSB7XG4gICAgICAgIHdyaXRlRmllbGRzKHdyaXRlci50YWcoZmllbGQubnVtYmVyLCBXaXJlVHlwZS5TdGFydEdyb3VwKSwgb3B0cywgbWVzc2FnZSkudGFnKGZpZWxkLm51bWJlciwgV2lyZVR5cGUuRW5kR3JvdXApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd3JpdGVGaWVsZHMod3JpdGVyLnRhZyhmaWVsZC5udW1iZXIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLCBvcHRzLCBtZXNzYWdlKS5qb2luKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JpdGVMaXN0RmllbGQod3JpdGVyLCBvcHRzLCBmaWVsZCwgbGlzdCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoZmllbGQubGlzdEtpbmQgPT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgICAgIHdyaXRlTWVzc2FnZUZpZWxkKHdyaXRlciwgb3B0cywgZmllbGQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NhbGFyVHlwZSA9IChfYSA9IGZpZWxkLnNjYWxhcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU2NhbGFyVHlwZS5JTlQzMjtcbiAgICBpZiAoZmllbGQucGFja2VkKSB7XG4gICAgICAgIGlmICghbGlzdC5zaXplKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLnRhZyhmaWVsZC5udW1iZXIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgd3JpdGVTY2FsYXJWYWx1ZSh3cml0ZXIsIGZpZWxkLnBhcmVudC50eXBlTmFtZSwgZmllbGQubmFtZSwgc2NhbGFyVHlwZSwgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmpvaW4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgICB3cml0ZVNjYWxhcih3cml0ZXIsIGZpZWxkLnBhcmVudC50eXBlTmFtZSwgZmllbGQubmFtZSwgc2NhbGFyVHlwZSwgZmllbGQubnVtYmVyLCBpdGVtKTtcbiAgICB9XG59XG5mdW5jdGlvbiB3cml0ZU1hcEVudHJ5KHdyaXRlciwgb3B0cywgZmllbGQsIGtleSwgdmFsdWUpIHtcbiAgICB2YXIgX2E7XG4gICAgd3JpdGVyLnRhZyhmaWVsZC5udW1iZXIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpO1xuICAgIC8vIHdyaXRlIGtleSwgZXhwZWN0aW5nIGtleSBmaWVsZCBudW1iZXIgPSAxXG4gICAgd3JpdGVTY2FsYXIod3JpdGVyLCBmaWVsZC5wYXJlbnQudHlwZU5hbWUsIGZpZWxkLm5hbWUsIGZpZWxkLm1hcEtleSwgMSwga2V5KTtcbiAgICAvLyB3cml0ZSB2YWx1ZSwgZXhwZWN0aW5nIHZhbHVlIGZpZWxkIG51bWJlciA9IDJcbiAgICBzd2l0Y2ggKGZpZWxkLm1hcEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgd3JpdGVTY2FsYXIod3JpdGVyLCBmaWVsZC5wYXJlbnQudHlwZU5hbWUsIGZpZWxkLm5hbWUsIChfYSA9IGZpZWxkLnNjYWxhcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU2NhbGFyVHlwZS5JTlQzMiwgMiwgdmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICB3cml0ZUZpZWxkcyh3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLCBvcHRzLCB2YWx1ZSkuam9pbigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHdyaXRlci5qb2luKCk7XG59XG5mdW5jdGlvbiB3cml0ZVNjYWxhclZhbHVlKHdyaXRlciwgbXNnTmFtZSwgZmllbGROYW1lLCB0eXBlLCB2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICB3cml0ZXIuc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgICAgIHdyaXRlci5ib29sKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmRvdWJsZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgICAgICB3cml0ZXIuaW50MzIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgICAgIHdyaXRlci5pbnQ2NCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50NjQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICAgICAgd3JpdGVyLmZpeGVkNjQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgICAgIHdyaXRlci5ieXRlcyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgICAgICB3cml0ZXIuZml4ZWQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnNmaXhlZDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgICAgICB3cml0ZXIuc2ZpeGVkNjQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgICAgICB3cml0ZXIuc2ludDY0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgICAgIHdyaXRlci5zaW50MzIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSBmaWVsZCAke21zZ05hbWV9LiR7ZmllbGROYW1lfSB0byBiaW5hcnk6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JpdGVUeXBlT2ZTY2FsYXIodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIFdpcmVUeXBlLkJpdDY0O1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICByZXR1cm4gV2lyZVR5cGUuQml0MzI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gV2lyZVR5cGUuVmFyaW50O1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBIeWRyYXRlIGFuIGV4dGVuc2lvbiBkZXNjcmlwdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHREZXNjKGZpbGUsIHBhdGgsIC4uLnBhdGhzKSB7XG4gICAgaWYgKHBhdGhzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHJldHVybiBmaWxlLmV4dGVuc2lvbnNbcGF0aF07XG4gICAgfVxuICAgIGNvbnN0IGUgPSBwYXRocy5wb3AoKTsgLy8gd2UgY2hlY2tlZCBsZW5ndGggYWJvdmVcbiAgICByZXR1cm4gcGF0aHMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjLm5lc3RlZE1lc3NhZ2VzW2N1cl0sIGZpbGUubWVzc2FnZXNbcGF0aF0pLm5lc3RlZEV4dGVuc2lvbnNbZV07XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHNjYWxhckVxdWFscyB9IGZyb20gXCIuL3JlZmxlY3Qvc2NhbGFyLmpzXCI7XG5pbXBvcnQgeyByZWZsZWN0IH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LmpzXCI7XG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBhbnlVbnBhY2sgfSBmcm9tIFwiLi93a3QvaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lciwgZ2V0RXh0ZW5zaW9uIH0gZnJvbSBcIi4vZXh0ZW5zaW9ucy5qc1wiO1xuLyoqXG4gKiBDb21wYXJlIHR3byBtZXNzYWdlcyBvZiB0aGUgc2FtZSB0eXBlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGRpc3JlZ2FyZHMgZXh0ZW5zaW9ucyBhbmQgdW5rbm93biBmaWVsZHMsIGFuZCB0aGF0XG4gKiBOYU4gaXMgbm90IGVxdWFsIE5hTiwgZm9sbG93aW5nIHRoZSBJRUVFIHN0YW5kYXJkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKHNjaGVtYSwgYSwgYiwgb3B0aW9ucykge1xuICAgIGlmIChhLiR0eXBlTmFtZSAhPSBzY2hlbWEudHlwZU5hbWUgfHwgYi4kdHlwZU5hbWUgIT0gc2NoZW1hLnR5cGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZWZsZWN0RXF1YWxzKHJlZmxlY3Qoc2NoZW1hLCBhKSwgcmVmbGVjdChzY2hlbWEsIGIpLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlZmxlY3RFcXVhbHMoYSwgYiwgb3B0cykge1xuICAgIGlmIChhLmRlc2MudHlwZU5hbWUgPT09IFwiZ29vZ2xlLnByb3RvYnVmLkFueVwiICYmIChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMudW5wYWNrQW55KSA9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBhbnlVbnBhY2tlZEVxdWFscyhhLm1lc3NhZ2UsIGIubWVzc2FnZSwgb3B0cyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZiBvZiBhLmZpZWxkcykge1xuICAgICAgICBpZiAoIWZpZWxkRXF1YWxzKGYsIGEsIGIsIG9wdHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMudW5rbm93bikgPT0gdHJ1ZSAmJiAhdW5rbm93bkVxdWFscyhhLCBiLCBvcHRzLnJlZ2lzdHJ5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICgob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmV4dGVuc2lvbnMpID09IHRydWUgJiYgIWV4dGVuc2lvbnNFcXVhbHMoYSwgYiwgb3B0cykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIFRPRE8odHN0YW1tKSBhZGQgYW4gb3B0aW9uIHRvIGNvbnNpZGVyIE5hTiBlcXVhbCB0byBOYU4/XG5mdW5jdGlvbiBmaWVsZEVxdWFscyhmLCBhLCBiLCBvcHRzKSB7XG4gICAgaWYgKCFhLmlzU2V0KGYpICYmICFiLmlzU2V0KGYpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWEuaXNTZXQoZikgfHwgIWIuaXNTZXQoZikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzd2l0Y2ggKGYuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIHJldHVybiBzY2FsYXJFcXVhbHMoZi5zY2FsYXIsIGEuZ2V0KGYpLCBiLmdldChmKSk7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gYS5nZXQoZikgPT09IGIuZ2V0KGYpO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3RFcXVhbHMoYS5nZXQoZiksIGIuZ2V0KGYpLCBvcHRzKTtcbiAgICAgICAgY2FzZSBcIm1hcFwiOiB7XG4gICAgICAgICAgICAvLyBUT0RPKHRzdGFtbSkgY2FuJ3Qgd2UgY29tcGFyZSBzaXplcyBmaXJzdD9cbiAgICAgICAgICAgIGNvbnN0IG1hcEEgPSBhLmdldChmKTtcbiAgICAgICAgICAgIGNvbnN0IG1hcEIgPSBiLmdldChmKTtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBtYXBBLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwQi5oYXMoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbWFwQi5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1hcEEuaGFzKGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmEgPSBtYXBBLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZiID0gbWFwQi5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAodmEgPT09IHZiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGYubWFwS2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWZsZWN0RXF1YWxzKHZhLCB2Yiwgb3B0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzY2FsYXJFcXVhbHMoZi5zY2FsYXIsIHZhLCB2YikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwibGlzdFwiOiB7XG4gICAgICAgICAgICBjb25zdCBsaXN0QSA9IGEuZ2V0KGYpO1xuICAgICAgICAgICAgY29uc3QgbGlzdEIgPSBiLmdldChmKTtcbiAgICAgICAgICAgIGlmIChsaXN0QS5zaXplICE9IGxpc3RCLnNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RBLnNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhID0gbGlzdEEuZ2V0KGkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZiID0gbGlzdEIuZ2V0KGkpO1xuICAgICAgICAgICAgICAgIGlmICh2YSA9PT0gdmIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZi5saXN0S2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWZsZWN0RXF1YWxzKHZhLCB2Yiwgb3B0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzY2FsYXJFcXVhbHMoZi5zY2FsYXIsIHZhLCB2YikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGFueVVucGFja2VkRXF1YWxzKGEsIGIsIG9wdHMpIHtcbiAgICBpZiAoYS50eXBlVXJsICE9PSBiLnR5cGVVcmwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB1bnBhY2tlZEEgPSBhbnlVbnBhY2soYSwgb3B0cy5yZWdpc3RyeSk7XG4gICAgY29uc3QgdW5wYWNrZWRCID0gYW55VW5wYWNrKGIsIG9wdHMucmVnaXN0cnkpO1xuICAgIGlmICh1bnBhY2tlZEEgJiYgdW5wYWNrZWRCKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IG9wdHMucmVnaXN0cnkuZ2V0TWVzc2FnZSh1bnBhY2tlZEEuJHR5cGVOYW1lKTtcbiAgICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFscyhzY2hlbWEsIHVucGFja2VkQSwgdW5wYWNrZWRCLCBvcHRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NhbGFyRXF1YWxzKFNjYWxhclR5cGUuQllURVMsIGEudmFsdWUsIGIudmFsdWUpO1xufVxuZnVuY3Rpb24gdW5rbm93bkVxdWFscyhhLCBiLCByZWdpc3RyeSkge1xuICAgIGZ1bmN0aW9uIGdldFRydWx5VW5rbm93bihtc2csIHJlZ2lzdHJ5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdSA9IChfYSA9IG1zZy5nZXRVbmtub3duKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICByZXR1cm4gcmVnaXN0cnlcbiAgICAgICAgICAgID8gdS5maWx0ZXIoKHVmKSA9PiAhcmVnaXN0cnkuZ2V0RXh0ZW5zaW9uRm9yKG1zZy5kZXNjLCB1Zi5ubykpXG4gICAgICAgICAgICA6IHU7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25BID0gZ2V0VHJ1bHlVbmtub3duKGEsIHJlZ2lzdHJ5KTtcbiAgICBjb25zdCB1bmtub3duQiA9IGdldFRydWx5VW5rbm93bihiLCByZWdpc3RyeSk7XG4gICAgaWYgKHVua25vd25BLmxlbmd0aCAhPSB1bmtub3duQi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVua25vd25BLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSB1bmtub3duQVtpXTtcbiAgICAgICAgY29uc3QgYiA9IHVua25vd25CW2ldO1xuICAgICAgICBpZiAoYS5ubyAhPSBiLm5vKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEud2lyZVR5cGUgIT0gYi53aXJlVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2NhbGFyRXF1YWxzKFNjYWxhclR5cGUuQllURVMsIGEuZGF0YSwgYi5kYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZXh0ZW5zaW9uc0VxdWFscyhhLCBiLCBvcHRzKSB7XG4gICAgZnVuY3Rpb24gZ2V0U2V0RXh0ZW5zaW9ucyhtc2csIHJlZ2lzdHJ5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSBtc2cuZ2V0VW5rbm93bigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSlcbiAgICAgICAgICAgIC5tYXAoKHVmKSA9PiByZWdpc3RyeS5nZXRFeHRlbnNpb25Gb3IobXNnLmRlc2MsIHVmLm5vKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgLmZpbHRlcigoZSwgaW5kZXgsIGFycikgPT4gYXJyLmluZGV4T2YoZSkgPT09IGluZGV4KTtcbiAgICB9XG4gICAgY29uc3QgZXh0ZW5zaW9uc0EgPSBnZXRTZXRFeHRlbnNpb25zKGEsIG9wdHMucmVnaXN0cnkpO1xuICAgIGNvbnN0IGV4dGVuc2lvbnNCID0gZ2V0U2V0RXh0ZW5zaW9ucyhiLCBvcHRzLnJlZ2lzdHJ5KTtcbiAgICBpZiAoZXh0ZW5zaW9uc0EubGVuZ3RoICE9IGV4dGVuc2lvbnNCLmxlbmd0aCB8fFxuICAgICAgICBleHRlbnNpb25zQS5zb21lKChlKSA9PiAhZXh0ZW5zaW9uc0IuaW5jbHVkZXMoZSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBleHRlbnNpb24gb2YgZXh0ZW5zaW9uc0EpIHtcbiAgICAgICAgY29uc3QgW2NvbnRhaW5lckEsIGZpZWxkXSA9IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lcihleHRlbnNpb24sIGdldEV4dGVuc2lvbihhLm1lc3NhZ2UsIGV4dGVuc2lvbikpO1xuICAgICAgICBjb25zdCBbY29udGFpbmVyQl0gPSBjcmVhdGVFeHRlbnNpb25Db250YWluZXIoZXh0ZW5zaW9uLCBnZXRFeHRlbnNpb24oYi5tZXNzYWdlLCBleHRlbnNpb24pKTtcbiAgICAgICAgaWYgKCFmaWVsZEVxdWFscyhmaWVsZCwgY29udGFpbmVyQSwgY29udGFpbmVyQiwgb3B0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgdW5zYWZlQ2xlYXIsIHVuc2FmZUlzU2V0IH0gZnJvbSBcIi4vcmVmbGVjdC91bnNhZmUuanNcIjtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBmaWVsZCBpcyBzZXQuXG4gKlxuICogLSBTY2FsYXIgYW5kIGVudW0gZmllbGRzIHdpdGggaW1wbGljaXQgcHJlc2VuY2UgKHByb3RvMyk6XG4gKiAgIFNldCBpZiBub3QgYSB6ZXJvIHZhbHVlLlxuICpcbiAqIC0gU2NhbGFyIGFuZCBlbnVtIGZpZWxkcyB3aXRoIGV4cGxpY2l0IHByZXNlbmNlIChwcm90bzIsIG9uZW9mKTpcbiAqICAgU2V0IGlmIGEgdmFsdWUgd2FzIHNldCB3aGVuIGNyZWF0aW5nIG9yIHBhcnNpbmcgdGhlIG1lc3NhZ2UsIG9yIHdoZW4gYVxuICogICB2YWx1ZSB3YXMgYXNzaWduZWQgdG8gdGhlIGZpZWxkJ3MgcHJvcGVydHkuXG4gKlxuICogLSBNZXNzYWdlIGZpZWxkczpcbiAqICAgU2V0IGlmIHRoZSBwcm9wZXJ0eSBpcyBub3QgdW5kZWZpbmVkLlxuICpcbiAqIC0gTGlzdCBhbmQgbWFwIGZpZWxkczpcbiAqICAgU2V0IGlmIG5vdCBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmllbGRTZXQobWVzc2FnZSwgZmllbGQpIHtcbiAgICByZXR1cm4gKGZpZWxkLnBhcmVudC50eXBlTmFtZSA9PSBtZXNzYWdlLiR0eXBlTmFtZSAmJiB1bnNhZmVJc1NldChtZXNzYWdlLCBmaWVsZCkpO1xufVxuLyoqXG4gKiBSZXNldHMgdGhlIGZpZWxkLCBzbyB0aGF0IGlzRmllbGRTZXQoKSB3aWxsIHJldHVybiBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRmllbGQobWVzc2FnZSwgZmllbGQpIHtcbiAgICBpZiAoZmllbGQucGFyZW50LnR5cGVOYW1lID09IG1lc3NhZ2UuJHR5cGVOYW1lKSB7XG4gICAgICAgIHVuc2FmZUNsZWFyKG1lc3NhZ2UsIGZpZWxkKTtcbiAgICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUsIH0gZnJvbSBcIi4vZGVzY3JpcHRvcnMuanNcIjtcbmltcG9ydCB7IHByb3RvQ2FtZWxDYXNlIH0gZnJvbSBcIi4vcmVmbGVjdC9uYW1lcy5qc1wiO1xuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuaW1wb3J0IHsgYW55VW5wYWNrIH0gZnJvbSBcIi4vd2t0L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpc1dyYXBwZXJEZXNjIH0gZnJvbSBcIi4vd2t0L3dyYXBwZXJzLmpzXCI7XG5pbXBvcnQgeyBiYXNlNjRFbmNvZGUgfSBmcm9tIFwiLi93aXJlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVFeHRlbnNpb25Db250YWluZXIsIGdldEV4dGVuc2lvbiB9IGZyb20gXCIuL2V4dGVuc2lvbnMuanNcIjtcbmltcG9ydCB7IGNoZWNrRmllbGQsIGZvcm1hdFZhbCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC1jaGVjay5qc1wiO1xuLy8gYm9vdHN0cmFwLWluamVjdCBnb29nbGUucHJvdG9idWYuRmVhdHVyZVNldC5GaWVsZFByZXNlbmNlLkxFR0FDWV9SRVFVSVJFRDogY29uc3QgJG5hbWU6IEZlYXR1cmVTZXRfRmllbGRQcmVzZW5jZS4kbG9jYWxOYW1lID0gJG51bWJlcjtcbmNvbnN0IExFR0FDWV9SRVFVSVJFRCA9IDM7XG4vLyBib290c3RyYXAtaW5qZWN0IGdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0LkZpZWxkUHJlc2VuY2UuSU1QTElDSVQ6IGNvbnN0ICRuYW1lOiBGZWF0dXJlU2V0X0ZpZWxkUHJlc2VuY2UuJGxvY2FsTmFtZSA9ICRudW1iZXI7XG5jb25zdCBJTVBMSUNJVCA9IDI7XG4vLyBEZWZhdWx0IG9wdGlvbnMgZm9yIHNlcmlhbGl6aW5nIHRvIEpTT04uXG5jb25zdCBqc29uV3JpdGVEZWZhdWx0cyA9IHtcbiAgICBhbHdheXNFbWl0SW1wbGljaXQ6IGZhbHNlLFxuICAgIGVudW1Bc0ludGVnZXI6IGZhbHNlLFxuICAgIHVzZVByb3RvRmllbGROYW1lOiBmYWxzZSxcbn07XG5mdW5jdGlvbiBtYWtlV3JpdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwganNvbldyaXRlRGVmYXVsdHMpLCBvcHRpb25zKSA6IGpzb25Xcml0ZURlZmF1bHRzO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIG1lc3NhZ2UgdG8gYSBKU09OIHZhbHVlLCBhIEphdmFTY3JpcHQgdmFsdWUgdGhhdCBjYW4gYmVcbiAqIHBhc3NlZCB0byBKU09OLnN0cmluZ2lmeSgpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Kc29uKHNjaGVtYSwgbWVzc2FnZSwgb3B0aW9ucykge1xuICAgIHJldHVybiByZWZsZWN0VG9Kc29uKHJlZmxlY3Qoc2NoZW1hLCBtZXNzYWdlKSwgbWFrZVdyaXRlT3B0aW9ucyhvcHRpb25zKSk7XG59XG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgbWVzc2FnZSB0byBhIEpTT04gc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Kc29uU3RyaW5nKHNjaGVtYSwgbWVzc2FnZSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBqc29uVmFsdWUgPSB0b0pzb24oc2NoZW1hLCBtZXNzYWdlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNvblZhbHVlLCBudWxsLCAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJldHR5U3BhY2VzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKTtcbn1cbi8qKlxuICogU2VyaWFsaXplIGEgc2luZ2xlIGVudW0gdmFsdWUgdG8gSlNPTi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVudW1Ub0pzb24oZGVzY0VudW0sIHZhbHVlKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChkZXNjRW51bS50eXBlTmFtZSA9PSBcImdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWVcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IChfYSA9IGRlc2NFbnVtLnZhbHVlW3ZhbHVlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWU7XG4gICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsdWV9IGlzIG5vdCBhIHZhbHVlIGluICR7ZGVzY0VudW19YCk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gcmVmbGVjdFRvSnNvbihtc2csIG9wdHMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgd2t0SnNvbiA9IHRyeVdrdFRvSnNvbihtc2csIG9wdHMpO1xuICAgIGlmICh3a3RKc29uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB3a3RKc29uO1xuICAgIGNvbnN0IGpzb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGYgb2YgbXNnLnNvcnRlZEZpZWxkcykge1xuICAgICAgICBpZiAoIW1zZy5pc1NldChmKSkge1xuICAgICAgICAgICAgaWYgKGYucHJlc2VuY2UgPT0gTEVHQUNZX1JFUVVJUkVEKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7Zn0gdG8gSlNPTjogcmVxdWlyZWQgZmllbGQgbm90IHNldGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvcHRzLmFsd2F5c0VtaXRJbXBsaWNpdCB8fCBmLnByZXNlbmNlICE9PSBJTVBMSUNJVCkge1xuICAgICAgICAgICAgICAgIC8vIEZpZWxkcyB3aXRoIGltcGxpY2l0IHByZXNlbmNlIG9taXQgemVybyB2YWx1ZXMgKGUuZy4gZW1wdHkgc3RyaW5nKSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QganNvblZhbHVlID0gZmllbGRUb0pzb24oZiwgbXNnLmdldChmKSwgb3B0cyk7XG4gICAgICAgIGlmIChqc29uVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAganNvbltqc29uTmFtZShmLCBvcHRzKV0gPSBqc29uVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdHMucmVnaXN0cnkpIHtcbiAgICAgICAgY29uc3QgdGFnU2VlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCB7IG5vIH0gb2YgKF9hID0gbXNnLmdldFVua25vd24oKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pIHtcbiAgICAgICAgICAgIC8vIFNhbWUgdGFnIGNhbiBhcHBlYXIgbXVsdGlwbGUgdGltZXMsIHNvIHdlXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIGFuZCBza2lwIGlkZW50aWNhbCBvbmVzLlxuICAgICAgICAgICAgaWYgKCF0YWdTZWVuLmhhcyhubykpIHtcbiAgICAgICAgICAgICAgICB0YWdTZWVuLmFkZChubyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gb3B0cy5yZWdpc3RyeS5nZXRFeHRlbnNpb25Gb3IobXNnLmRlc2MsIG5vKTtcbiAgICAgICAgICAgICAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRFeHRlbnNpb24obXNnLm1lc3NhZ2UsIGV4dGVuc2lvbik7XG4gICAgICAgICAgICAgICAgY29uc3QgW2NvbnRhaW5lciwgZmllbGRdID0gY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyKGV4dGVuc2lvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25WYWx1ZSA9IGZpZWxkVG9Kc29uKGZpZWxkLCBjb250YWluZXIuZ2V0KGZpZWxkKSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGpzb25bZXh0ZW5zaW9uLmpzb25OYW1lXSA9IGpzb25WYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBmaWVsZFRvSnNvbihmLCB2YWwsIG9wdHMpIHtcbiAgICBzd2l0Y2ggKGYuZmllbGRLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIHJldHVybiBzY2FsYXJUb0pzb24oZiwgdmFsKTtcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHJldHVybiByZWZsZWN0VG9Kc29uKHZhbCwgb3B0cyk7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gZW51bVRvSnNvbkludGVybmFsKGYuZW51bSwgdmFsLCBvcHRzLmVudW1Bc0ludGVnZXIpO1xuICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgcmV0dXJuIGxpc3RUb0pzb24odmFsLCBvcHRzKTtcbiAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgcmV0dXJuIG1hcFRvSnNvbih2YWwsIG9wdHMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFRvSnNvbihtYXAsIG9wdHMpIHtcbiAgICBjb25zdCBmID0gbWFwLmZpZWxkKCk7XG4gICAgY29uc3QganNvbk9iaiA9IHt9O1xuICAgIHN3aXRjaCAoZi5tYXBLaW5kKSB7XG4gICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBtYXApIHtcbiAgICAgICAgICAgICAgICBqc29uT2JqW2VudHJ5S2V5XSA9IHNjYWxhclRvSnNvbihmLCBlbnRyeVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50cnlLZXksIGVudHJ5VmFsdWVdIG9mIG1hcCkge1xuICAgICAgICAgICAgICAgIGpzb25PYmpbZW50cnlLZXldID0gcmVmbGVjdFRvSnNvbihlbnRyeVZhbHVlLCBvcHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50cnlLZXksIGVudHJ5VmFsdWVdIG9mIG1hcCkge1xuICAgICAgICAgICAgICAgIGpzb25PYmpbZW50cnlLZXldID0gZW51bVRvSnNvbkludGVybmFsKGYuZW51bSwgZW50cnlWYWx1ZSwgb3B0cy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gb3B0cy5hbHdheXNFbWl0SW1wbGljaXQgfHwgbWFwLnNpemUgPiAwID8ganNvbk9iaiA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGxpc3RUb0pzb24obGlzdCwgb3B0cykge1xuICAgIGNvbnN0IGYgPSBsaXN0LmZpZWxkKCk7XG4gICAgY29uc3QganNvbkFyciA9IFtdO1xuICAgIHN3aXRjaCAoZi5saXN0S2luZCkge1xuICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgICAgIGpzb25BcnIucHVzaChzY2FsYXJUb0pzb24oZiwgaXRlbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgICAgICAgICAgIGpzb25BcnIucHVzaChlbnVtVG9Kc29uSW50ZXJuYWwoZi5lbnVtLCBpdGVtLCBvcHRzLmVudW1Bc0ludGVnZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2gocmVmbGVjdFRvSnNvbihpdGVtLCBvcHRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG9wdHMuYWx3YXlzRW1pdEltcGxpY2l0IHx8IGpzb25BcnIubGVuZ3RoID4gMCA/IGpzb25BcnIgOiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBlbnVtVG9Kc29uSW50ZXJuYWwoZGVzYywgdmFsdWUsIGVudW1Bc0ludGVnZXIpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2Rlc2N9IHRvIEpTT046IGV4cGVjdGVkIG51bWJlciwgZ290ICR7Zm9ybWF0VmFsKHZhbHVlKX1gKTtcbiAgICB9XG4gICAgaWYgKGRlc2MudHlwZU5hbWUgPT0gXCJnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlbnVtQXNJbnRlZ2VyKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgdmFsID0gZGVzYy52YWx1ZVt2YWx1ZV07XG4gICAgcmV0dXJuIChfYSA9IHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbC5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB2YWx1ZTsgLy8gaWYgd2UgZG9uJ3Qga25vdyB0aGUgZW51bSB2YWx1ZSwganVzdCByZXR1cm4gdGhlIG51bWJlclxufVxuZnVuY3Rpb24gc2NhbGFyVG9Kc29uKGZpZWxkLCB2YWx1ZSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgIHN3aXRjaCAoZmllbGQuc2NhbGFyKSB7XG4gICAgICAgIC8vIGludDMyLCBmaXhlZDMyLCB1aW50MzI6IEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgbnVtYmVyLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZmllbGR9IHRvIEpTT046ICR7KF9hID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gZmxvYXQsIGRvdWJsZTogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCBzdHJpbmcgdmFsdWVzIFwiTmFOXCIsIFwiSW5maW5pdHlcIiwgYW5kIFwiLUluZmluaXR5XCIuXG4gICAgICAgIC8vIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLiBFeHBvbmVudCBub3RhdGlvbiBpcyBhbHNvIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSAke2ZpZWxkfSB0byBKU09OOiAkeyhfYiA9IGNoZWNrRmllbGQoZmllbGQsIHZhbHVlKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkluZmluaXR5XCI7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCItSW5maW5pdHlcIjtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gc3RyaW5nOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZmllbGR9IHRvIEpTT046ICR7KF9jID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gYm9vbDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlICR7ZmllbGR9IHRvIEpTT046ICR7KF9kID0gY2hlY2tGaWVsZChmaWVsZCwgdmFsdWUpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBzdHJpbmcuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwiYmlnaW50XCIgJiYgdHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmaWVsZH0gdG8gSlNPTjogJHsoX2UgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIC8vIGJ5dGVzOiBKU09OIHZhbHVlIHdpbGwgYmUgdGhlIGRhdGEgZW5jb2RlZCBhcyBhIHN0cmluZyB1c2luZyBzdGFuZGFyZCBiYXNlNjQgZW5jb2Rpbmcgd2l0aCBwYWRkaW5ncy5cbiAgICAgICAgLy8gRWl0aGVyIHN0YW5kYXJkIG9yIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyB3aXRoL3dpdGhvdXQgcGFkZGluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U2NEVuY29kZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgJHtmaWVsZH0gdG8gSlNPTjogJHsoX2YgPSBjaGVja0ZpZWxkKGZpZWxkLCB2YWx1ZSkpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5tZXNzYWdlfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGpzb25OYW1lKGYsIG9wdHMpIHtcbiAgICByZXR1cm4gb3B0cy51c2VQcm90b0ZpZWxkTmFtZSA/IGYubmFtZSA6IGYuanNvbk5hbWU7XG59XG4vLyByZXR1cm5zIGEganNvbiB2YWx1ZSBpZiB3a3QsIG90aGVyd2lzZSByZXR1cm5zIHVuZGVmaW5lZC5cbmZ1bmN0aW9uIHRyeVdrdFRvSnNvbihtc2csIG9wdHMpIHtcbiAgICBpZiAoIW1zZy5kZXNjLnR5cGVOYW1lLnN0YXJ0c1dpdGgoXCJnb29nbGUucHJvdG9idWYuXCIpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN3aXRjaCAobXNnLmRlc2MudHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5BbnlcIjpcbiAgICAgICAgICAgIHJldHVybiBhbnlUb0pzb24obXNnLm1lc3NhZ2UsIG9wdHMpO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFwiOlxuICAgICAgICAgICAgcmV0dXJuIHRpbWVzdGFtcFRvSnNvbihtc2cubWVzc2FnZSk7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuRHVyYXRpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBkdXJhdGlvblRvSnNvbihtc2cubWVzc2FnZSk7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuRmllbGRNYXNrXCI6XG4gICAgICAgICAgICByZXR1cm4gZmllbGRNYXNrVG9Kc29uKG1zZy5tZXNzYWdlKTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcIjpcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3RUb0pzb24obXNnLm1lc3NhZ2UpO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVUb0pzb24obXNnLm1lc3NhZ2UpO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxpc3RWYWx1ZVRvSnNvbihtc2cubWVzc2FnZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoaXNXcmFwcGVyRGVzYyhtc2cuZGVzYykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUZpZWxkID0gbXNnLmRlc2MuZmllbGRzWzBdO1xuICAgICAgICAgICAgICAgIHJldHVybiBzY2FsYXJUb0pzb24odmFsdWVGaWVsZCwgbXNnLmdldCh2YWx1ZUZpZWxkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFueVRvSnNvbih2YWwsIG9wdHMpIHtcbiAgICBpZiAodmFsLnR5cGVVcmwgPT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCB7IHJlZ2lzdHJ5IH0gPSBvcHRzO1xuICAgIGxldCBtZXNzYWdlO1xuICAgIGxldCBkZXNjO1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBtZXNzYWdlID0gYW55VW5wYWNrKHZhbCwgcmVnaXN0cnkpO1xuICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgZGVzYyA9IHJlZ2lzdHJ5LmdldE1lc3NhZ2UobWVzc2FnZS4kdHlwZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZGVzYyB8fCAhbWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgbWVzc2FnZSAke3ZhbC4kdHlwZU5hbWV9IHRvIEpTT046IFwiJHt2YWwudHlwZVVybH1cIiBpcyBub3QgaW4gdGhlIHR5cGUgcmVnaXN0cnlgKTtcbiAgICB9XG4gICAgbGV0IGpzb24gPSByZWZsZWN0VG9Kc29uKHJlZmxlY3QoZGVzYywgbWVzc2FnZSksIG9wdHMpO1xuICAgIGlmIChkZXNjLnR5cGVOYW1lLnN0YXJ0c1dpdGgoXCJnb29nbGUucHJvdG9idWYuXCIpIHx8XG4gICAgICAgIGpzb24gPT09IG51bGwgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShqc29uKSB8fFxuICAgICAgICB0eXBlb2YganNvbiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBqc29uID0geyB2YWx1ZToganNvbiB9O1xuICAgIH1cbiAgICBqc29uW1wiQHR5cGVcIl0gPSB2YWwudHlwZVVybDtcbiAgICByZXR1cm4ganNvbjtcbn1cbmZ1bmN0aW9uIGR1cmF0aW9uVG9Kc29uKHZhbCkge1xuICAgIGlmIChOdW1iZXIodmFsLnNlY29uZHMpID4gMzE1NTc2MDAwMDAwIHx8XG4gICAgICAgIE51bWJlcih2YWwuc2Vjb25kcykgPCAtMzE1NTc2MDAwMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSBtZXNzYWdlICR7dmFsLiR0eXBlTmFtZX0gdG8gSlNPTjogdmFsdWUgb3V0IG9mIHJhbmdlYCk7XG4gICAgfVxuICAgIGxldCB0ZXh0ID0gdmFsLnNlY29uZHMudG9TdHJpbmcoKTtcbiAgICBpZiAodmFsLm5hbm9zICE9PSAwKSB7XG4gICAgICAgIGxldCBuYW5vc1N0ciA9IE1hdGguYWJzKHZhbC5uYW5vcykudG9TdHJpbmcoKTtcbiAgICAgICAgbmFub3NTdHIgPSBcIjBcIi5yZXBlYXQoOSAtIG5hbm9zU3RyLmxlbmd0aCkgKyBuYW5vc1N0cjtcbiAgICAgICAgaWYgKG5hbm9zU3RyLnN1YnN0cmluZygzKSA9PT0gXCIwMDAwMDBcIikge1xuICAgICAgICAgICAgbmFub3NTdHIgPSBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDYpID09PSBcIjAwMFwiKSB7XG4gICAgICAgICAgICBuYW5vc1N0ciA9IG5hbm9zU3RyLnN1YnN0cmluZygwLCA2KTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0ICs9IFwiLlwiICsgbmFub3NTdHI7XG4gICAgICAgIGlmICh2YWwubmFub3MgPCAwICYmIE51bWJlcih2YWwuc2Vjb25kcykgPT0gMCkge1xuICAgICAgICAgICAgdGV4dCA9IFwiLVwiICsgdGV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dCArIFwic1wiO1xufVxuZnVuY3Rpb24gZmllbGRNYXNrVG9Kc29uKHZhbCkge1xuICAgIHJldHVybiB2YWwucGF0aHNcbiAgICAgICAgLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC5tYXRjaCgvX1swLTldP18vZykgfHwgcC5tYXRjaCgvW0EtWl0vZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGVuY29kZSBtZXNzYWdlICR7dmFsLiR0eXBlTmFtZX0gdG8gSlNPTjogbG93ZXJDYW1lbENhc2Ugb2YgcGF0aCBuYW1lIFwiYCArXG4gICAgICAgICAgICAgICAgcCArXG4gICAgICAgICAgICAgICAgJ1wiIGlzIGlycmV2ZXJzaWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm90b0NhbWVsQ2FzZShwKTtcbiAgICB9KVxuICAgICAgICAuam9pbihcIixcIik7XG59XG5mdW5jdGlvbiBzdHJ1Y3RUb0pzb24odmFsKSB7XG4gICAgY29uc3QganNvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHZhbC5maWVsZHMpKSB7XG4gICAgICAgIGpzb25ba10gPSB2YWx1ZVRvSnNvbih2KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiB2YWx1ZVRvSnNvbih2YWwpIHtcbiAgICBzd2l0Y2ggKHZhbC5raW5kLmNhc2UpIHtcbiAgICAgICAgY2FzZSBcIm51bGxWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJudW1iZXJWYWx1ZVwiOlxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodmFsLmtpbmQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3ZhbC4kdHlwZU5hbWV9IGNhbm5vdCBiZSBOYU4gb3IgSW5maW5pdHlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWwua2luZC52YWx1ZTtcbiAgICAgICAgY2FzZSBcImJvb2xWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbC5raW5kLnZhbHVlO1xuICAgICAgICBjYXNlIFwic3RyaW5nVmFsdWVcIjpcbiAgICAgICAgICAgIHJldHVybiB2YWwua2luZC52YWx1ZTtcbiAgICAgICAgY2FzZSBcInN0cnVjdFZhbHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0VG9Kc29uKHZhbC5raW5kLnZhbHVlKTtcbiAgICAgICAgY2FzZSBcImxpc3RWYWx1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxpc3RWYWx1ZVRvSnNvbih2YWwua2luZC52YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsLiR0eXBlTmFtZX0gbXVzdCBoYXZlIGEgdmFsdWVgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsaXN0VmFsdWVUb0pzb24odmFsKSB7XG4gICAgcmV0dXJuIHZhbC52YWx1ZXMubWFwKHZhbHVlVG9Kc29uKTtcbn1cbmZ1bmN0aW9uIHRpbWVzdGFtcFRvSnNvbih2YWwpIHtcbiAgICBjb25zdCBtcyA9IE51bWJlcih2YWwuc2Vjb25kcykgKiAxMDAwO1xuICAgIGlmIChtcyA8IERhdGUucGFyc2UoXCIwMDAxLTAxLTAxVDAwOjAwOjAwWlwiKSB8fFxuICAgICAgICBtcyA+IERhdGUucGFyc2UoXCI5OTk5LTEyLTMxVDIzOjU5OjU5WlwiKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBlbmNvZGUgbWVzc2FnZSAke3ZhbC4kdHlwZU5hbWV9IHRvIEpTT046IG11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmVgKTtcbiAgICB9XG4gICAgaWYgKHZhbC5uYW5vcyA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZW5jb2RlIG1lc3NhZ2UgJHt2YWwuJHR5cGVOYW1lfSB0byBKU09OOiBuYW5vcyBtdXN0IG5vdCBiZSBuZWdhdGl2ZWApO1xuICAgIH1cbiAgICBsZXQgeiA9IFwiWlwiO1xuICAgIGlmICh2YWwubmFub3MgPiAwKSB7XG4gICAgICAgIGNvbnN0IG5hbm9zU3RyID0gKHZhbC5uYW5vcyArIDEwMDAwMDAwMDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpO1xuICAgICAgICBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDMpID09PSBcIjAwMDAwMFwiKSB7XG4gICAgICAgICAgICB6ID0gXCIuXCIgKyBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgMykgKyBcIlpcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoNikgPT09IFwiMDAwXCIpIHtcbiAgICAgICAgICAgIHogPSBcIi5cIiArIG5hbm9zU3RyLnN1YnN0cmluZygwLCA2KSArIFwiWlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeiA9IFwiLlwiICsgbmFub3NTdHIgKyBcIlpcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUobXMpLnRvSVNPU3RyaW5nKCkucmVwbGFjZShcIi4wMDBaXCIsIHopO1xufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBTY2FsYXJUeXBlLCB9IGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5pbXBvcnQgeyBwcm90b0ludDY0IH0gZnJvbSBcIi4vcHJvdG8taW50NjQuanNcIjtcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCIuL2NyZWF0ZS5qc1wiO1xuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuaW1wb3J0IHsgRmllbGRFcnJvciwgaXNGaWVsZEVycm9yIH0gZnJvbSBcIi4vcmVmbGVjdC9lcnJvci5qc1wiO1xuaW1wb3J0IHsgZm9ybWF0VmFsIH0gZnJvbSBcIi4vcmVmbGVjdC9yZWZsZWN0LWNoZWNrLmpzXCI7XG5pbXBvcnQgeyBzY2FsYXJaZXJvVmFsdWUgfSBmcm9tIFwiLi9yZWZsZWN0L3NjYWxhci5qc1wiO1xuaW1wb3J0IHsgYmFzZTY0RGVjb2RlIH0gZnJvbSBcIi4vd2lyZS9iYXNlNjQtZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IGlzV3JhcHBlckRlc2MsIGFueVBhY2ssIExpc3RWYWx1ZVNjaGVtYSwgTnVsbFZhbHVlLCBTdHJ1Y3RTY2hlbWEsIFZhbHVlU2NoZW1hLCB9IGZyb20gXCIuL3drdC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRXh0ZW5zaW9uQ29udGFpbmVyLCBzZXRFeHRlbnNpb24gfSBmcm9tIFwiLi9leHRlbnNpb25zLmpzXCI7XG4vLyBEZWZhdWx0IG9wdGlvbnMgZm9yIHBhcnNpbmcgSlNPTi5cbmNvbnN0IGpzb25SZWFkRGVmYXVsdHMgPSB7XG4gICAgaWdub3JlVW5rbm93bkZpZWxkczogZmFsc2UsXG59O1xuZnVuY3Rpb24gbWFrZVJlYWRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwganNvblJlYWREZWZhdWx0cyksIG9wdGlvbnMpIDoganNvblJlYWREZWZhdWx0cztcbn1cbi8qKlxuICogUGFyc2UgYSBtZXNzYWdlIGZyb20gYSBKU09OIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Kc29uU3RyaW5nKHNjaGVtYSwganNvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBmcm9tSnNvbihzY2hlbWEsIHBhcnNlSnNvblN0cmluZyhqc29uLCBzY2hlbWEudHlwZU5hbWUpLCBvcHRpb25zKTtcbn1cbi8qKlxuICogUGFyc2UgYSBtZXNzYWdlIGZyb20gYSBKU09OIHN0cmluZywgbWVyZ2luZyBmaWVsZHMuXG4gKlxuICogUmVwZWF0ZWQgZmllbGRzIGFyZSBhcHBlbmRlZC4gTWFwIGVudHJpZXMgYXJlIGFkZGVkLCBvdmVyd3JpdGluZ1xuICogZXhpc3Rpbmcga2V5cy5cbiAqXG4gKiBJZiBhIG1lc3NhZ2UgZmllbGQgaXMgYWxyZWFkeSBwcmVzZW50LCBpdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZVxuICogbmV3IGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUZyb21Kc29uU3RyaW5nKHNjaGVtYSwgdGFyZ2V0LCBqc29uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG1lcmdlRnJvbUpzb24oc2NoZW1hLCB0YXJnZXQsIHBhcnNlSnNvblN0cmluZyhqc29uLCBzY2hlbWEudHlwZU5hbWUpLCBvcHRpb25zKTtcbn1cbi8qKlxuICogUGFyc2UgYSBtZXNzYWdlIGZyb20gYSBKU09OIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUpzb24oc2NoZW1hLCBqc29uLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbXNnID0gcmVmbGVjdChzY2hlbWEpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlYWRNZXNzYWdlKG1zZywganNvbiwgbWFrZVJlYWRPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzRmllbGRFcnJvcihlKSkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB3ZSB1c2UgdGhlIEVTMjAyMiBlcnJvciBDVE9SIG9wdGlvbiBcImNhdXNlXCIgZm9yIGJldHRlciBzdGFjayB0cmFjZXNcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSAke2UuZmllbGQoKX0gZnJvbSBKU09OOiAke2UubWVzc2FnZX1gLCB7XG4gICAgICAgICAgICAgICAgY2F1c2U6IGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gbXNnLm1lc3NhZ2U7XG59XG4vKipcbiAqIFBhcnNlIGEgbWVzc2FnZSBmcm9tIGEgSlNPTiB2YWx1ZSwgbWVyZ2luZyBmaWVsZHMuXG4gKlxuICogUmVwZWF0ZWQgZmllbGRzIGFyZSBhcHBlbmRlZC4gTWFwIGVudHJpZXMgYXJlIGFkZGVkLCBvdmVyd3JpdGluZ1xuICogZXhpc3Rpbmcga2V5cy5cbiAqXG4gKiBJZiBhIG1lc3NhZ2UgZmllbGQgaXMgYWxyZWFkeSBwcmVzZW50LCBpdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZVxuICogbmV3IGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUZyb21Kc29uKHNjaGVtYSwgdGFyZ2V0LCBqc29uLCBvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVhZE1lc3NhZ2UocmVmbGVjdChzY2hlbWEsIHRhcmdldCksIGpzb24sIG1ha2VSZWFkT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChpc0ZpZWxkRXJyb3IoZSkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igd2UgdXNlIHRoZSBFUzIwMjIgZXJyb3IgQ1RPUiBvcHRpb24gXCJjYXVzZVwiIGZvciBiZXR0ZXIgc3RhY2sgdHJhY2VzXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgJHtlLmZpZWxkKCl9IGZyb20gSlNPTjogJHtlLm1lc3NhZ2V9YCwge1xuICAgICAgICAgICAgICAgIGNhdXNlOiBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8qKlxuICogUGFyc2VzIGFuIGVudW0gdmFsdWUgZnJvbSBKU09OLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW51bUZyb21Kc29uKGRlc2NFbnVtLCBqc29uKSB7XG4gICAgY29uc3QgdmFsID0gcmVhZEVudW0oZGVzY0VudW0sIGpzb24sIGZhbHNlLCBmYWxzZSk7XG4gICAgaWYgKHZhbCA9PT0gdG9rZW5JZ25vcmVkVW5rbm93bkVudW0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlICR7ZGVzY0VudW19IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG4vKipcbiAqIElzIHRoZSBnaXZlbiB2YWx1ZSBhIEpTT04gZW51bSB2YWx1ZT9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW51bUpzb24oZGVzY0VudW0sIHZhbHVlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCAhPT0gZGVzY0VudW0udmFsdWVzLmZpbmQoKHYpID0+IHYubmFtZSA9PT0gdmFsdWUpO1xufVxuZnVuY3Rpb24gcmVhZE1lc3NhZ2UobXNnLCBqc29uLCBvcHRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0cnlXa3RGcm9tSnNvbihtc2csIGpzb24sIG9wdHMpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGpzb24gPT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGpzb24pIHx8IHR5cGVvZiBqc29uICE9IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlICR7bXNnLmRlc2N9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGNvbnN0IG9uZW9mU2VlbiA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBqc29uTmFtZXMgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBtc2cuZGVzYy5maWVsZHMpIHtcbiAgICAgICAganNvbk5hbWVzLnNldChmaWVsZC5uYW1lLCBmaWVsZCkuc2V0KGZpZWxkLmpzb25OYW1lLCBmaWVsZCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2pzb25LZXksIGpzb25WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoanNvbikpIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBqc29uTmFtZXMuZ2V0KGpzb25LZXkpO1xuICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgPT09IG51bGwgJiYgZmllbGQuZmllbGRLaW5kID09IFwic2NhbGFyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VlIGNvbmZvcm1hbmNlIHRlc3QgUmVxdWlyZWQuUHJvdG8zLkpzb25JbnB1dC5PbmVvZkZpZWxkTnVsbHtGaXJzdCxTZWNvbmR9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzZWVuID0gb25lb2ZTZWVuLmdldChmaWVsZC5vbmVvZik7XG4gICAgICAgICAgICAgICAgaWYgKHNlZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZC5vbmVvZiwgYG9uZW9mIHNldCBtdWx0aXBsZSB0aW1lcyBieSAke3NlZW4ubmFtZX0gYW5kICR7ZmllbGQubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25lb2ZTZWVuLnNldChmaWVsZC5vbmVvZiwgZmllbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZEZpZWxkKG1zZywgZmllbGQsIGpzb25WYWx1ZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZXh0ZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGpzb25LZXkuc3RhcnRzV2l0aChcIltcIikgJiZcbiAgICAgICAgICAgICAgICBqc29uS2V5LmVuZHNXaXRoKFwiXVwiKSAmJlxuICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiBub1xuICAgICAgICAgICAgICAgIChleHRlbnNpb24gPSAoX2EgPSBvcHRzLnJlZ2lzdHJ5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0RXh0ZW5zaW9uKGpzb25LZXkuc3Vic3RyaW5nKDEsIGpzb25LZXkubGVuZ3RoIC0gMSkpKSAmJlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbi5leHRlbmRlZS50eXBlTmFtZSA9PT0gbXNnLmRlc2MudHlwZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbY29udGFpbmVyLCBmaWVsZCwgZ2V0XSA9IGNyZWF0ZUV4dGVuc2lvbkNvbnRhaW5lcihleHRlbnNpb24pO1xuICAgICAgICAgICAgICAgIHJlYWRGaWVsZChjb250YWluZXIsIGZpZWxkLCBqc29uVmFsdWUsIG9wdHMpO1xuICAgICAgICAgICAgICAgIHNldEV4dGVuc2lvbihtc2cubWVzc2FnZSwgZXh0ZW5zaW9uLCBnZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWV4dGVuc2lvbiAmJiAhb3B0cy5pZ25vcmVVbmtub3duRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlICR7bXNnLmRlc2N9IGZyb20gSlNPTjoga2V5IFwiJHtqc29uS2V5fVwiIGlzIHVua25vd25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRGaWVsZChtc2csIGZpZWxkLCBqc29uLCBvcHRzKSB7XG4gICAgc3dpdGNoIChmaWVsZC5maWVsZEtpbmQpIHtcbiAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgcmVhZFNjYWxhckZpZWxkKG1zZywgZmllbGQsIGpzb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICByZWFkRW51bUZpZWxkKG1zZywgZmllbGQsIGpzb24sIG9wdHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZWFkTWVzc2FnZUZpZWxkKG1zZywgZmllbGQsIGpzb24sIG9wdHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICByZWFkTGlzdEZpZWxkKG1zZy5nZXQoZmllbGQpLCBqc29uLCBvcHRzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICByZWFkTWFwRmllbGQobXNnLmdldChmaWVsZCksIGpzb24sIG9wdHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZE1hcEZpZWxkKG1hcCwganNvbiwgb3B0cykge1xuICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmllbGQgPSBtYXAuZmllbGQoKTtcbiAgICBpZiAodHlwZW9mIGpzb24gIT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBcImV4cGVjdGVkIG9iamVjdCwgZ290IFwiICsgZm9ybWF0VmFsKGpzb24pKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbanNvbk1hcEtleSwganNvbk1hcFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgICBpZiAoanNvbk1hcFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgXCJtYXAgdmFsdWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIHN3aXRjaCAoZmllbGQubWFwS2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBtc2dWYWx1ZSA9IHJlZmxlY3QoZmllbGQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVhZE1lc3NhZ2UobXNnVmFsdWUsIGpzb25NYXBWYWx1ZSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtc2dWYWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZWFkRW51bShmaWVsZC5lbnVtLCBqc29uTWFwVmFsdWUsIG9wdHMuaWdub3JlVW5rbm93bkZpZWxkcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0b2tlbklnbm9yZWRVbmtub3duRW51bSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gc2NhbGFyRnJvbUpzb24oZmllbGQsIGpzb25NYXBWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gbWFwS2V5RnJvbUpzb24oZmllbGQubWFwS2V5LCBqc29uTWFwS2V5KTtcbiAgICAgICAgbWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWFkTGlzdEZpZWxkKGxpc3QsIGpzb24sIG9wdHMpIHtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkID0gbGlzdC5maWVsZCgpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgXCJleHBlY3RlZCBBcnJheSwgZ290IFwiICsgZm9ybWF0VmFsKGpzb24pKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBqc29uSXRlbSBvZiBqc29uKSB7XG4gICAgICAgIGlmIChqc29uSXRlbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZpZWxkRXJyb3IoZmllbGQsIFwibGlzdCBpdGVtIG11c3Qgbm90IGJlIG51bGxcIik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChmaWVsZC5saXN0S2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBtc2dWYWx1ZSA9IHJlZmxlY3QoZmllbGQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVhZE1lc3NhZ2UobXNnVmFsdWUsIGpzb25JdGVtLCBvcHRzKTtcbiAgICAgICAgICAgICAgICBsaXN0LmFkZChtc2dWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGVudW1WYWx1ZSA9IHJlYWRFbnVtKGZpZWxkLmVudW0sIGpzb25JdGVtLCBvcHRzLmlnbm9yZVVua25vd25GaWVsZHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChlbnVtVmFsdWUgIT09IHRva2VuSWdub3JlZFVua25vd25FbnVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGVudW1WYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIGxpc3QuYWRkKHNjYWxhckZyb21Kc29uKGZpZWxkLCBqc29uSXRlbSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZE1lc3NhZ2VGaWVsZChtc2csIGZpZWxkLCBqc29uLCBvcHRzKSB7XG4gICAgaWYgKGpzb24gPT09IG51bGwgJiYgZmllbGQubWVzc2FnZS50eXBlTmFtZSAhPSBcImdvb2dsZS5wcm90b2J1Zi5WYWx1ZVwiKSB7XG4gICAgICAgIG1zZy5jbGVhcihmaWVsZCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbXNnVmFsdWUgPSBtc2cuaXNTZXQoZmllbGQpID8gbXNnLmdldChmaWVsZCkgOiByZWZsZWN0KGZpZWxkLm1lc3NhZ2UpO1xuICAgIHJlYWRNZXNzYWdlKG1zZ1ZhbHVlLCBqc29uLCBvcHRzKTtcbiAgICBtc2cuc2V0KGZpZWxkLCBtc2dWYWx1ZSk7XG59XG5mdW5jdGlvbiByZWFkRW51bUZpZWxkKG1zZywgZmllbGQsIGpzb24sIG9wdHMpIHtcbiAgICBjb25zdCBlbnVtVmFsdWUgPSByZWFkRW51bShmaWVsZC5lbnVtLCBqc29uLCBvcHRzLmlnbm9yZVVua25vd25GaWVsZHMsIGZhbHNlKTtcbiAgICBpZiAoZW51bVZhbHVlID09PSB0b2tlbk51bGwpIHtcbiAgICAgICAgbXNnLmNsZWFyKGZpZWxkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW51bVZhbHVlICE9PSB0b2tlbklnbm9yZWRVbmtub3duRW51bSkge1xuICAgICAgICBtc2cuc2V0KGZpZWxkLCBlbnVtVmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRTY2FsYXJGaWVsZChtc2csIGZpZWxkLCBqc29uKSB7XG4gICAgY29uc3Qgc2NhbGFyVmFsdWUgPSBzY2FsYXJGcm9tSnNvbihmaWVsZCwganNvbiwgZmFsc2UpO1xuICAgIGlmIChzY2FsYXJWYWx1ZSA9PT0gdG9rZW5OdWxsKSB7XG4gICAgICAgIG1zZy5jbGVhcihmaWVsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtc2cuc2V0KGZpZWxkLCBzY2FsYXJWYWx1ZSk7XG4gICAgfVxufVxuY29uc3QgdG9rZW5JZ25vcmVkVW5rbm93bkVudW0gPSBTeW1ib2woKTtcbmZ1bmN0aW9uIHJlYWRFbnVtKGRlc2MsIGpzb24sIGlnbm9yZVVua25vd25GaWVsZHMsIG51bGxBc1plcm9WYWx1ZSkge1xuICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgIGlmIChkZXNjLnR5cGVOYW1lID09IFwiZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gMDsgLy8gZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZS5OVUxMX1ZBTFVFID0gMFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsQXNaZXJvVmFsdWUgPyBkZXNjLnZhbHVlc1swXS5udW1iZXIgOiB0b2tlbk51bGw7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZW9mIGpzb24pIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIoanNvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRlc2MudmFsdWVzLmZpbmQoKGV2KSA9PiBldi5uYW1lID09PSBqc29uKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpZ25vcmVVbmtub3duRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuSWdub3JlZFVua25vd25FbnVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSAke2Rlc2N9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG59XG5jb25zdCB0b2tlbk51bGwgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIHNjYWxhckZyb21Kc29uKGZpZWxkLCBqc29uLCBudWxsQXNaZXJvVmFsdWUpIHtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobnVsbEFzWmVyb1ZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NhbGFyWmVyb1ZhbHVlKGZpZWxkLnNjYWxhciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbk51bGw7XG4gICAgfVxuICAgIC8vIGludDY0LCBzZml4ZWQ2NCwgc2ludDY0LCBmaXhlZDY0LCB1aW50NjQ6IFJlZmxlY3Qgc3VwcG9ydHMgc3RyaW5nIGFuZCBudW1iZXIuXG4gICAgLy8gc3RyaW5nLCBib29sOiBTdXBwb3J0ZWQgYnkgcmVmbGVjdC5cbiAgICBzd2l0Y2ggKGZpZWxkLnNjYWxhcikge1xuICAgICAgICAvLyBmbG9hdCwgZG91YmxlOiBKU09OIHZhbHVlIHdpbGwgYmUgYSBudW1iZXIgb3Igb25lIG9mIHRoZSBzcGVjaWFsIHN0cmluZyB2YWx1ZXMgXCJOYU5cIiwgXCJJbmZpbml0eVwiLCBhbmQgXCItSW5maW5pdHlcIi5cbiAgICAgICAgLy8gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuIEV4cG9uZW50IG5vdGF0aW9uIGlzIGFsc28gYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIGlmIChqc29uID09PSBcIk5hTlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJJbmZpbml0eVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBpZiAoanNvbiA9PT0gXCItSW5maW5pdHlcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hTiBtdXN0IGJlIGVuY29kZWQgd2l0aCBzdHJpbmcgY29uc3RhbnRzXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBcInVuZXhwZWN0ZWQgTmFOIG51bWJlclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5maW5pdHkgbXVzdCBiZSBlbmNvZGVkIHdpdGggc3RyaW5nIGNvbnN0YW50c1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmllbGRFcnJvcihmaWVsZCwgXCJ1bmV4cGVjdGVkIGluZmluaXRlIG51bWJlclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmIChqc29uID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgYSBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChqc29uLnRyaW0oKS5sZW5ndGggIT09IGpzb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4dHJhIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0ID0gTnVtYmVyKGpzb24pO1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGZsb2F0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbmZpbml0eSBhbmQgTmFOIG11c3QgYmUgZW5jb2RlZCB3aXRoIHN0cmluZyBjb25zdGFudHNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmbG9hdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBpbnQzMiwgZml4ZWQzMiwgdWludDMyOiBKU09OIHZhbHVlIHdpbGwgYmUgYSBkZWNpbWFsIG51bWJlci4gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIHJldHVybiBpbnQzMkZyb21Kc29uKGpzb24pO1xuICAgICAgICAvLyBieXRlczogSlNPTiB2YWx1ZSB3aWxsIGJlIHRoZSBkYXRhIGVuY29kZWQgYXMgYSBzdHJpbmcgdXNpbmcgc3RhbmRhcmQgYmFzZTY0IGVuY29kaW5nIHdpdGggcGFkZGluZ3MuXG4gICAgICAgIC8vIEVpdGhlciBzdGFuZGFyZCBvciBVUkwtc2FmZSBiYXNlNjQgZW5jb2Rpbmcgd2l0aC93aXRob3V0IHBhZGRpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlNjREZWNvZGUoanNvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaWVsZEVycm9yKGZpZWxkLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG4vKipcbiAqIFRyeSB0byBwYXJzZSBhIEpTT04gdmFsdWUgdG8gYSBtYXAga2V5IGZvciB0aGUgcmVmbGVjdCBBUEkuXG4gKlxuICogUmV0dXJucyB0aGUgaW5wdXQgaWYgdGhlIEpTT04gdmFsdWUgY2Fubm90IGJlIGNvbnZlcnRlZC5cbiAqL1xuZnVuY3Rpb24gbWFwS2V5RnJvbUpzb24odHlwZSwganNvbikge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHN3aXRjaCAoanNvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgcmV0dXJuIGludDMyRnJvbUpzb24oanNvbik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9XG59XG4vKipcbiAqIFRyeSB0byBwYXJzZSBhIEpTT04gdmFsdWUgdG8gYSAzMi1iaXQgaW50ZWdlciBmb3IgdGhlIHJlZmxlY3QgQVBJLlxuICpcbiAqIFJldHVybnMgdGhlIGlucHV0IGlmIHRoZSBKU09OIHZhbHVlIGNhbm5vdCBiZSBjb252ZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIGludDMyRnJvbUpzb24oanNvbikge1xuICAgIGlmICh0eXBlb2YganNvbiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChqc29uID09PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBlbXB0eSBzdHJpbmcgaXMgbm90IGEgbnVtYmVyXG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvbi50cmltKCkubGVuZ3RoICE9PSBqc29uLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZXh0cmEgd2hpdGVzcGFjZVxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKGpzb24pO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG51bSkpIHtcbiAgICAgICAgICAgIC8vIG5vdCBhIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBwYXJzZUpzb25TdHJpbmcoanNvblN0cmluZywgdHlwZU5hbWUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFN0cmluZyhlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHt0eXBlTmFtZX0gZnJvbSBKU09OOiAke21lc3NhZ2V9YCwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igd2UgdXNlIHRoZSBFUzIwMjIgZXJyb3IgQ1RPUiBvcHRpb24gXCJjYXVzZVwiIGZvciBiZXR0ZXIgc3RhY2sgdHJhY2VzXG4gICAgICAgIHsgY2F1c2U6IGUgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5V2t0RnJvbUpzb24obXNnLCBqc29uVmFsdWUsIG9wdHMpIHtcbiAgICBpZiAoIW1zZy5kZXNjLnR5cGVOYW1lLnN0YXJ0c1dpdGgoXCJnb29nbGUucHJvdG9idWYuXCIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3dpdGNoIChtc2cuZGVzYy50eXBlTmFtZSkge1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLkFueVwiOlxuICAgICAgICAgICAgYW55RnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSwgb3B0cyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcIjpcbiAgICAgICAgICAgIHRpbWVzdGFtcEZyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuRHVyYXRpb25cIjpcbiAgICAgICAgICAgIGR1cmF0aW9uRnJvbUpzb24obXNnLm1lc3NhZ2UsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImdvb2dsZS5wcm90b2J1Zi5GaWVsZE1hc2tcIjpcbiAgICAgICAgICAgIGZpZWxkTWFza0Zyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuU3RydWN0XCI6XG4gICAgICAgICAgICBzdHJ1Y3RGcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLnByb3RvYnVmLlZhbHVlXCI6XG4gICAgICAgICAgICB2YWx1ZUZyb21Kc29uKG1zZy5tZXNzYWdlLCBqc29uVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlXCI6XG4gICAgICAgICAgICBsaXN0VmFsdWVGcm9tSnNvbihtc2cubWVzc2FnZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKGlzV3JhcHBlckRlc2MobXNnLmRlc2MpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVGaWVsZCA9IG1zZy5kZXNjLmZpZWxkc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoanNvblZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZy5jbGVhcih2YWx1ZUZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZy5zZXQodmFsdWVGaWVsZCwgc2NhbGFyRnJvbUpzb24odmFsdWVGaWVsZCwganNvblZhbHVlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFueUZyb21Kc29uKGFueSwganNvbiwgb3B0cykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGpzb24pIHx8IHR5cGVvZiBqc29uICE9IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHthbnkuJHR5cGVOYW1lfSBmcm9tIEpTT046IGV4cGVjdGVkIG9iamVjdCBidXQgZ290ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMoanNvbikubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0eXBlVXJsID0ganNvbltcIkB0eXBlXCJdO1xuICAgIGlmICh0eXBlb2YgdHlwZVVybCAhPSBcInN0cmluZ1wiIHx8IHR5cGVVcmwgPT0gXCJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2FueS4kdHlwZU5hbWV9IGZyb20gSlNPTjogXCJAdHlwZVwiIGlzIGVtcHR5YCk7XG4gICAgfVxuICAgIGNvbnN0IHR5cGVOYW1lID0gdHlwZVVybC5pbmNsdWRlcyhcIi9cIilcbiAgICAgICAgPyB0eXBlVXJsLnN1YnN0cmluZyh0eXBlVXJsLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpXG4gICAgICAgIDogdHlwZVVybDtcbiAgICBpZiAoIXR5cGVOYW1lLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke2FueS4kdHlwZU5hbWV9IGZyb20gSlNPTjogXCJAdHlwZVwiIGlzIGludmFsaWRgKTtcbiAgICB9XG4gICAgY29uc3QgZGVzYyA9IChfYSA9IG9wdHMucmVnaXN0cnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRNZXNzYWdlKHR5cGVOYW1lKTtcbiAgICBpZiAoIWRlc2MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHthbnkuJHR5cGVOYW1lfSBmcm9tIEpTT046ICR7dHlwZVVybH0gaXMgbm90IGluIHRoZSB0eXBlIHJlZ2lzdHJ5YCk7XG4gICAgfVxuICAgIGNvbnN0IG1zZyA9IHJlZmxlY3QoZGVzYyk7XG4gICAgaWYgKHR5cGVOYW1lLnN0YXJ0c1dpdGgoXCJnb29nbGUucHJvdG9idWYuXCIpICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChqc29uLCBcInZhbHVlXCIpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ganNvbi52YWx1ZTtcbiAgICAgICAgcmVhZE1lc3NhZ2UobXNnLCB2YWx1ZSwgb3B0cyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwganNvbik7XG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3BlcmZvcm1hbmNlL25vRGVsZXRlOiA8ZXhwbGFuYXRpb24+XG4gICAgICAgIGRlbGV0ZSBjb3B5W1wiQHR5cGVcIl07XG4gICAgICAgIHJlYWRNZXNzYWdlKG1zZywgY29weSwgb3B0cyk7XG4gICAgfVxuICAgIGFueVBhY2sobXNnLmRlc2MsIG1zZy5tZXNzYWdlLCBhbnkpO1xufVxuZnVuY3Rpb24gdGltZXN0YW1wRnJvbUpzb24odGltZXN0YW1wLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7dGltZXN0YW1wLiR0eXBlTmFtZX0gZnJvbSBKU09OOiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlcyA9IGpzb24ubWF0Y2goL14oWzAtOV17NH0pLShbMC05XXsyfSktKFswLTldezJ9KVQoWzAtOV17Mn0pOihbMC05XXsyfSk6KFswLTldezJ9KSg/OlxcLihbMC05XXsxLDl9KSk/KD86WnwoWystXVswLTldWzAtOV06WzAtOV1bMC05XSkpJC8pO1xuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3RpbWVzdGFtcC4kdHlwZU5hbWV9IGZyb20gSlNPTjogaW52YWxpZCBSRkMgMzMzOSBzdHJpbmdgKTtcbiAgICB9XG4gICAgY29uc3QgbXMgPSBEYXRlLnBhcnNlKFxuICAgIC8vIGJpb21lLWlnbm9yZSBmb3JtYXQ6IHdhbnQgdGhpcyB0byByZWFkIHdlbGxcbiAgICBtYXRjaGVzWzFdICsgXCItXCIgKyBtYXRjaGVzWzJdICsgXCItXCIgKyBtYXRjaGVzWzNdICsgXCJUXCIgKyBtYXRjaGVzWzRdICsgXCI6XCIgKyBtYXRjaGVzWzVdICsgXCI6XCIgKyBtYXRjaGVzWzZdICsgKG1hdGNoZXNbOF0gPyBtYXRjaGVzWzhdIDogXCJaXCIpKTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKG1zKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBkZWNvZGUgbWVzc2FnZSAke3RpbWVzdGFtcC4kdHlwZU5hbWV9IGZyb20gSlNPTjogaW52YWxpZCBSRkMgMzMzOSBzdHJpbmdgKTtcbiAgICB9XG4gICAgaWYgKG1zIDwgRGF0ZS5wYXJzZShcIjAwMDEtMDEtMDFUMDA6MDA6MDBaXCIpIHx8XG4gICAgICAgIG1zID4gRGF0ZS5wYXJzZShcIjk5OTktMTItMzFUMjM6NTk6NTlaXCIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7dGltZXN0YW1wLiR0eXBlTmFtZX0gZnJvbSBKU09OOiBtdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlYCk7XG4gICAgfVxuICAgIHRpbWVzdGFtcC5zZWNvbmRzID0gcHJvdG9JbnQ2NC5wYXJzZShtcyAvIDEwMDApO1xuICAgIHRpbWVzdGFtcC5uYW5vcyA9IDA7XG4gICAgaWYgKG1hdGNoZXNbN10pIHtcbiAgICAgICAgdGltZXN0YW1wLm5hbm9zID1cbiAgICAgICAgICAgIHBhcnNlSW50KFwiMVwiICsgbWF0Y2hlc1s3XSArIFwiMFwiLnJlcGVhdCg5IC0gbWF0Y2hlc1s3XS5sZW5ndGgpKSAtXG4gICAgICAgICAgICAgICAgMTAwMDAwMDAwMDtcbiAgICB9XG59XG5mdW5jdGlvbiBkdXJhdGlvbkZyb21Kc29uKGR1cmF0aW9uLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7ZHVyYXRpb24uJHR5cGVOYW1lfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IGpzb24ubWF0Y2goL14oLT9bMC05XSspKD86XFwuKFswLTldKykpP3MvKTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtkdXJhdGlvbi4kdHlwZU5hbWV9IGZyb20gSlNPTjogJHtmb3JtYXRWYWwoanNvbil9YCk7XG4gICAgfVxuICAgIGNvbnN0IGxvbmdTZWNvbmRzID0gTnVtYmVyKG1hdGNoWzFdKTtcbiAgICBpZiAobG9uZ1NlY29uZHMgPiAzMTU1NzYwMDAwMDAgfHwgbG9uZ1NlY29uZHMgPCAtMzE1NTc2MDAwMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7ZHVyYXRpb24uJHR5cGVOYW1lfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBkdXJhdGlvbi5zZWNvbmRzID0gcHJvdG9JbnQ2NC5wYXJzZShsb25nU2Vjb25kcyk7XG4gICAgaWYgKHR5cGVvZiBtYXRjaFsyXSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5hbm9zU3RyID0gbWF0Y2hbMl0gKyBcIjBcIi5yZXBlYXQoOSAtIG1hdGNoWzJdLmxlbmd0aCk7XG4gICAgZHVyYXRpb24ubmFub3MgPSBwYXJzZUludChuYW5vc1N0cik7XG4gICAgaWYgKGxvbmdTZWNvbmRzIDwgMCB8fCBPYmplY3QuaXMobG9uZ1NlY29uZHMsIC0wKSkge1xuICAgICAgICBkdXJhdGlvbi5uYW5vcyA9IC1kdXJhdGlvbi5uYW5vcztcbiAgICB9XG59XG5mdW5jdGlvbiBmaWVsZE1hc2tGcm9tSnNvbihmaWVsZE1hc2ssIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHtmaWVsZE1hc2suJHR5cGVOYW1lfSBmcm9tIEpTT046ICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBpZiAoanNvbiA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbWVsVG9TbmFrZShzdHIpIHtcbiAgICAgICAgaWYgKHN0ci5pbmNsdWRlcyhcIl9cIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7ZmllbGRNYXNrLiR0eXBlTmFtZX0gZnJvbSBKU09OOiBwYXRoIG5hbWVzIG11c3QgYmUgbG93ZXJDYW1lbENhc2VgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYyA9IHN0ci5yZXBsYWNlKC9bQS1aXS9nLCAobGV0dGVyKSA9PiBcIl9cIiArIGxldHRlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgcmV0dXJuIHNjWzBdID09PSBcIl9cIiA/IHNjLnN1YnN0cmluZygxKSA6IHNjO1xuICAgIH1cbiAgICBmaWVsZE1hc2sucGF0aHMgPSBqc29uLnNwbGl0KFwiLFwiKS5tYXAoY2FtZWxUb1NuYWtlKTtcbn1cbmZ1bmN0aW9uIHN0cnVjdEZyb21Kc29uKHN0cnVjdCwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbiAhPSBcIm9iamVjdFwiIHx8IGpzb24gPT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7c3RydWN0LiR0eXBlTmFtZX0gZnJvbSBKU09OICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgICBjb25zdCBwYXJzZWRWID0gY3JlYXRlKFZhbHVlU2NoZW1hKTtcbiAgICAgICAgdmFsdWVGcm9tSnNvbihwYXJzZWRWLCB2KTtcbiAgICAgICAgc3RydWN0LmZpZWxkc1trXSA9IHBhcnNlZFY7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsdWVGcm9tSnNvbih2YWx1ZSwganNvbikge1xuICAgIHN3aXRjaCAodHlwZW9mIGpzb24pIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJudW1iZXJWYWx1ZVwiLCB2YWx1ZToganNvbiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgdmFsdWU6IGpzb24gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJib29sVmFsdWVcIiwgdmFsdWU6IGpzb24gfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgPSB7IGNhc2U6IFwibnVsbFZhbHVlXCIsIHZhbHVlOiBOdWxsVmFsdWUuTlVMTF9WQUxVRSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RWYWx1ZSA9IGNyZWF0ZShMaXN0VmFsdWVTY2hlbWEpO1xuICAgICAgICAgICAgICAgIGxpc3RWYWx1ZUZyb21Kc29uKGxpc3RWYWx1ZSwganNvbik7XG4gICAgICAgICAgICAgICAgdmFsdWUua2luZCA9IHsgY2FzZTogXCJsaXN0VmFsdWVcIiwgdmFsdWU6IGxpc3RWYWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0ID0gY3JlYXRlKFN0cnVjdFNjaGVtYSk7XG4gICAgICAgICAgICAgICAgc3RydWN0RnJvbUpzb24oc3RydWN0LCBqc29uKTtcbiAgICAgICAgICAgICAgICB2YWx1ZS5raW5kID0geyBjYXNlOiBcInN0cnVjdFZhbHVlXCIsIHZhbHVlOiBzdHJ1Y3QgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZGVjb2RlIG1lc3NhZ2UgJHt2YWx1ZS4kdHlwZU5hbWV9IGZyb20gSlNPTiAke2Zvcm1hdFZhbChqc29uKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gbGlzdFZhbHVlRnJvbUpzb24obGlzdFZhbHVlLCBqc29uKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGRlY29kZSBtZXNzYWdlICR7bGlzdFZhbHVlLiR0eXBlTmFtZX0gZnJvbSBKU09OICR7Zm9ybWF0VmFsKGpzb24pfWApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGUgb2YganNvbikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNyZWF0ZShWYWx1ZVNjaGVtYSk7XG4gICAgICAgIHZhbHVlRnJvbUpzb24odmFsdWUsIGUpO1xuICAgICAgICBsaXN0VmFsdWUudmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcmVmbGVjdCB9IGZyb20gXCIuL3JlZmxlY3QvcmVmbGVjdC5qc1wiO1xuLyoqXG4gKiBNZXJnZSBtZXNzYWdlIGBzb3VyY2VgIGludG8gbWVzc2FnZSBgdGFyZ2V0YCwgZm9sbG93aW5nIFByb3RvYnVmIHNlbWFudGljcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBzYW1lIGFzIHNlcmlhbGl6aW5nIHRoZSBzb3VyY2UgbWVzc2FnZSwgdGhlbiBkZXNlcmlhbGl6aW5nIGl0XG4gKiBpbnRvIHRoZSB0YXJnZXQgbWVzc2FnZSB2aWEgYG1lcmdlRnJvbUJpbmFyeSgpYCwgd2l0aCBvbmUgZGlmZmVyZW5jZTpcbiAqIFdoaWxlIHNlcmlhbGl6YXRpb24gd2lsbCBjcmVhdGUgYSBjb3B5IG9mIGFsbCB2YWx1ZXMsIGBtZXJnZSgpYCB3aWxsIGNvcHlcbiAqIHRoZSByZWZlcmVuY2UgZm9yIGBieXRlc2AgYW5kIG1lc3NhZ2VzLlxuICpcbiAqIEFsc28gc2VlIGh0dHBzOi8vcHJvdG9idWYuY29tL2RvY3MvbGFuZ3VhZ2Utc3BlYyNtZXJnaW5nLXByb3RvYnVmLW1lc3NhZ2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShzY2hlbWEsIHRhcmdldCwgc291cmNlKSB7XG4gICAgcmVmbGVjdE1lcmdlKHJlZmxlY3Qoc2NoZW1hLCB0YXJnZXQpLCByZWZsZWN0KHNjaGVtYSwgc291cmNlKSk7XG59XG5mdW5jdGlvbiByZWZsZWN0TWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIF9iO1xuICAgIGNvbnN0IHNvdXJjZVVua25vd24gPSBzb3VyY2UubWVzc2FnZS4kdW5rbm93bjtcbiAgICBpZiAoc291cmNlVW5rbm93biAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZVVua25vd24ubGVuZ3RoID4gMCkge1xuICAgICAgICAoX2EgPSAoX2IgPSB0YXJnZXQubWVzc2FnZSkuJHVua25vd24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYi4kdW5rbm93biA9IFtdKTtcbiAgICAgICAgdGFyZ2V0Lm1lc3NhZ2UuJHVua25vd24ucHVzaCguLi5zb3VyY2VVbmtub3duKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBmIG9mIHRhcmdldC5maWVsZHMpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UuaXNTZXQoZikpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZi5maWVsZEtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldChmLCBzb3VyY2UuZ2V0KGYpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc1NldChmKSkge1xuICAgICAgICAgICAgICAgICAgICByZWZsZWN0TWVyZ2UodGFyZ2V0LmdldChmKSwgc291cmNlLmdldChmKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0KGYsIHNvdXJjZS5nZXQoZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IHRhcmdldC5nZXQoZik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHNvdXJjZS5nZXQoZikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcCA9IHRhcmdldC5nZXQoZik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2Ygc291cmNlLmdldChmKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXAuc2V0KGssIHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2lzLW1lc3NhZ2UuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NyZWF0ZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2xvbmUuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Rlc2NyaXB0b3JzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcXVhbHMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2ZpZWxkcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmVnaXN0cnkuanNcIjtcbmV4cG9ydCB7IHRvQmluYXJ5IH0gZnJvbSBcIi4vdG8tYmluYXJ5LmpzXCI7XG5leHBvcnQgeyBmcm9tQmluYXJ5LCBtZXJnZUZyb21CaW5hcnkgfSBmcm9tIFwiLi9mcm9tLWJpbmFyeS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdG8tanNvbi5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZnJvbS1qc29uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuZXhwb3J0IHsgaGFzRXh0ZW5zaW9uLCBnZXRFeHRlbnNpb24sIHNldEV4dGVuc2lvbiwgY2xlYXJFeHRlbnNpb24sIGhhc09wdGlvbiwgZ2V0T3B0aW9uLCB9IGZyb20gXCIuL2V4dGVuc2lvbnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3Byb3RvLWludDY0LmpzXCI7XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IHByb3RvQ2FtZWxDYXNlIH0gZnJvbSBcIi4uL3JlZmxlY3QvbmFtZXMuanNcIjtcbmltcG9ydCB7IGlzRmllbGRTZXQsIGNsZWFyRmllbGQgfSBmcm9tIFwiLi4vZmllbGRzLmpzXCI7XG5pbXBvcnQgeyBiYXNlNjRFbmNvZGUgfSBmcm9tIFwiLi4vd2lyZS9iYXNlNjQtZW5jb2RpbmcuanNcIjtcbmltcG9ydCB7IHRvQmluYXJ5IH0gZnJvbSBcIi4uL3RvLWJpbmFyeS5qc1wiO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tIFwiLi4vY2xvbmUuanNcIjtcbmltcG9ydCB7IEVkaXRpb24sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLCBGaWVsZE9wdGlvbnNTY2hlbWEsIEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEsIERlc2NyaXB0b3JQcm90b1NjaGVtYSwgRW51bURlc2NyaXB0b3JQcm90b1NjaGVtYSwgfSBmcm9tIFwiLi4vd2t0L2dlbi9nb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvcl9wYi5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIHRvIGVtYmVkIGEgZmlsZSBkZXNjcmlwdG9yIGluXG4gKiBnZW5lcmF0ZWQgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRGaWxlRGVzYyhmaWxlKSB7XG4gICAgY29uc3QgZW1iZWQgPSB7XG4gICAgICAgIGJvb3RhYmxlOiBmYWxzZSxcbiAgICAgICAgcHJvdG8oKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZCA9IGNsb25lKEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEsIGZpbGUpO1xuICAgICAgICAgICAgY2xlYXJGaWVsZChzdHJpcHBlZCwgRmlsZURlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5kZXBlbmRlbmN5KTtcbiAgICAgICAgICAgIGNsZWFyRmllbGQoc3RyaXBwZWQsIEZpbGVEZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQuc291cmNlQ29kZUluZm8pO1xuICAgICAgICAgICAgc3RyaXBwZWQubWVzc2FnZVR5cGUubWFwKHN0cmlwSnNvbk5hbWVzKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJpcHBlZDtcbiAgICAgICAgfSxcbiAgICAgICAgYmFzZTY0KCkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSB0b0JpbmFyeShGaWxlRGVzY3JpcHRvclByb3RvU2NoZW1hLCB0aGlzLnByb3RvKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2U2NEVuY29kZShieXRlcywgXCJzdGRfcmF3XCIpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGZpbGUubmFtZSA9PSBcImdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvXCJcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVtYmVkKSwgeyBib290YWJsZTogdHJ1ZSwgYm9vdCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRmlsZURlc2NyaXB0b3JQcm90b0Jvb3QodGhpcy5wcm90bygpKTtcbiAgICAgICAgICAgIH0gfSkgOiBlbWJlZDtcbn1cbmZ1bmN0aW9uIHN0cmlwSnNvbk5hbWVzKGQpIHtcbiAgICBmb3IgKGNvbnN0IGYgb2YgZC5maWVsZCkge1xuICAgICAgICBpZiAoZi5qc29uTmFtZSA9PT0gcHJvdG9DYW1lbENhc2UoZi5uYW1lKSkge1xuICAgICAgICAgICAgY2xlYXJGaWVsZChmLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC5qc29uTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBuIG9mIGQubmVzdGVkVHlwZSkge1xuICAgICAgICBzdHJpcEpzb25OYW1lcyhuKTtcbiAgICB9XG59XG4vKipcbiAqIENvbXB1dGUgdGhlIHBhdGggdG8gYSBtZXNzYWdlLCBlbnVtZXJhdGlvbiwgZXh0ZW5zaW9uLCBvciBzZXJ2aWNlIGluIGFcbiAqIGZpbGUgZGVzY3JpcHRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGF0aEluRmlsZURlc2MoZGVzYykge1xuICAgIGlmIChkZXNjLmtpbmQgPT0gXCJzZXJ2aWNlXCIpIHtcbiAgICAgICAgcmV0dXJuIFtkZXNjLmZpbGUuc2VydmljZXMuaW5kZXhPZihkZXNjKV07XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudCA9IGRlc2MucGFyZW50O1xuICAgIGlmIChwYXJlbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN3aXRjaCAoZGVzYy5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbZGVzYy5maWxlLmVudW1zLmluZGV4T2YoZGVzYyldO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gW2Rlc2MuZmlsZS5tZXNzYWdlcy5pbmRleE9mKGRlc2MpXTtcbiAgICAgICAgICAgIGNhc2UgXCJleHRlbnNpb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gW2Rlc2MuZmlsZS5leHRlbnNpb25zLmluZGV4T2YoZGVzYyldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRQYXRoKGN1cikge1xuICAgICAgICBjb25zdCBuZXN0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50ID0gY3VyLnBhcmVudDsgcGFyZW50Oykge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gcGFyZW50Lm5lc3RlZE1lc3NhZ2VzLmluZGV4T2YoY3VyKTtcbiAgICAgICAgICAgIG5lc3RlZC51bnNoaWZ0KGlkeCk7XG4gICAgICAgICAgICBjdXIgPSBwYXJlbnQ7XG4gICAgICAgICAgICBwYXJlbnQgPSBjdXIucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIG5lc3RlZC51bnNoaWZ0KGN1ci5maWxlLm1lc3NhZ2VzLmluZGV4T2YoY3VyKSk7XG4gICAgICAgIHJldHVybiBuZXN0ZWQ7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBmaW5kUGF0aChwYXJlbnQpO1xuICAgIHN3aXRjaCAoZGVzYy5raW5kKSB7XG4gICAgICAgIGNhc2UgXCJleHRlbnNpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBbLi4ucGF0aCwgcGFyZW50Lm5lc3RlZEV4dGVuc2lvbnMuaW5kZXhPZihkZXNjKV07XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhdGgsIHBhcmVudC5uZXN0ZWRNZXNzYWdlcy5pbmRleE9mKGRlc2MpXTtcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIHJldHVybiBbLi4ucGF0aCwgcGFyZW50Lm5lc3RlZEVudW1zLmluZGV4T2YoZGVzYyldO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIGZpbGUgZGVzY3JpcHRvciBmb3IgZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG8gY2Fubm90IGJlIGVtYmVkZGVkXG4gKiBpbiBzZXJpYWxpemVkIGZvcm0sIHNpbmNlIGl0IGlzIHJlcXVpcmVkIHRvIHBhcnNlIGl0c2VsZi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIGluc3RhbmNlIG9mIHRoZSBtZXNzYWdlLCBhbmQgcmV0dXJucyBhIHBsYWluIG9iamVjdFxuICogdGhhdCBjYW4gYmUgaHlkcmF0ZWQgdG8gdGhlIG1lc3NhZ2UgYWdhaW4gdmlhIGJvb3RGaWxlRGVzY3JpcHRvclByb3RvKCkuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBvbmx5IHdvcmtzIHdpdGggYSBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvXG4gKiBmb3IgZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG8sIGFuZCBvbmx5IHN1cHBvcnRzIGZlYXR1cmVzIHRoYXQgYXJlXG4gKiByZWxldmFudCBmb3IgdGhlIHNwZWNpZmljIHVzZSBjYXNlLiBGb3IgZXhhbXBsZSwgaXQgZGlzY2FyZHMgZmlsZSBvcHRpb25zLFxuICogcmVzZXJ2ZWQgcmFuZ2VzIGFuZCByZXNlcnZlZCBuYW1lcywgYW5kIGZpZWxkIG9wdGlvbnMgdGhhdCBhcmUgdW51c2VkIGluXG4gKiBkZXNjcmlwdG9yLnByb3RvLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWxlRGVzY3JpcHRvclByb3RvQm9vdChwcm90bykge1xuICAgIHZhciBfYTtcbiAgICBhc3NlcnQocHJvdG8ubmFtZSA9PSBcImdvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLnByb3RvXCIpO1xuICAgIGFzc2VydChwcm90by5wYWNrYWdlID09IFwiZ29vZ2xlLnByb3RvYnVmXCIpO1xuICAgIGFzc2VydCghcHJvdG8uZGVwZW5kZW5jeS5sZW5ndGgpO1xuICAgIGFzc2VydCghcHJvdG8ucHVibGljRGVwZW5kZW5jeS5sZW5ndGgpO1xuICAgIGFzc2VydCghcHJvdG8ud2Vha0RlcGVuZGVuY3kubGVuZ3RoKTtcbiAgICBhc3NlcnQoIXByb3RvLm9wdGlvbkRlcGVuZGVuY3kubGVuZ3RoKTtcbiAgICBhc3NlcnQoIXByb3RvLnNlcnZpY2UubGVuZ3RoKTtcbiAgICBhc3NlcnQoIXByb3RvLmV4dGVuc2lvbi5sZW5ndGgpO1xuICAgIGFzc2VydChwcm90by5zb3VyY2VDb2RlSW5mbyA9PT0gdW5kZWZpbmVkKTtcbiAgICBhc3NlcnQocHJvdG8uc3ludGF4ID09IFwiXCIgfHwgcHJvdG8uc3ludGF4ID09IFwicHJvdG8yXCIpO1xuICAgIGFzc2VydCghKChfYSA9IHByb3RvLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mZWF0dXJlcykpOyAvLyB3ZSdyZSBkcm9wcGluZyBmaWxlIG9wdGlvbnNcbiAgICBhc3NlcnQocHJvdG8uZWRpdGlvbiA9PT0gRWRpdGlvbi5FRElUSU9OX1VOS05PV04pO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIHBhY2thZ2U6IHByb3RvLnBhY2thZ2UsXG4gICAgICAgIG1lc3NhZ2VUeXBlOiBwcm90by5tZXNzYWdlVHlwZS5tYXAoY3JlYXRlRGVzY3JpcHRvckJvb3QpLFxuICAgICAgICBlbnVtVHlwZTogcHJvdG8uZW51bVR5cGUubWFwKGNyZWF0ZUVudW1EZXNjcmlwdG9yQm9vdCksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0b3JCb290KHByb3RvKSB7XG4gICAgYXNzZXJ0KHByb3RvLmV4dGVuc2lvbi5sZW5ndGggPT0gMCk7XG4gICAgYXNzZXJ0KCFwcm90by5vbmVvZkRlY2wubGVuZ3RoKTtcbiAgICBhc3NlcnQoIXByb3RvLm9wdGlvbnMpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLnZpc2liaWxpdHkpKTtcbiAgICBjb25zdCBiID0ge1xuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgIH07XG4gICAgaWYgKHByb3RvLmZpZWxkLmxlbmd0aCkge1xuICAgICAgICBiLmZpZWxkID0gcHJvdG8uZmllbGQubWFwKGNyZWF0ZUZpZWxkRGVzY3JpcHRvckJvb3QpO1xuICAgIH1cbiAgICBpZiAocHJvdG8ubmVzdGVkVHlwZS5sZW5ndGgpIHtcbiAgICAgICAgYi5uZXN0ZWRUeXBlID0gcHJvdG8ubmVzdGVkVHlwZS5tYXAoY3JlYXRlRGVzY3JpcHRvckJvb3QpO1xuICAgIH1cbiAgICBpZiAocHJvdG8uZW51bVR5cGUubGVuZ3RoKSB7XG4gICAgICAgIGIuZW51bVR5cGUgPSBwcm90by5lbnVtVHlwZS5tYXAoY3JlYXRlRW51bURlc2NyaXB0b3JCb290KTtcbiAgICB9XG4gICAgaWYgKHByb3RvLmV4dGVuc2lvblJhbmdlLmxlbmd0aCkge1xuICAgICAgICBiLmV4dGVuc2lvblJhbmdlID0gcHJvdG8uZXh0ZW5zaW9uUmFuZ2UubWFwKChyKSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQoIXIub3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogci5zdGFydCwgZW5kOiByLmVuZCB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGI7XG59XG5mdW5jdGlvbiBjcmVhdGVGaWVsZERlc2NyaXB0b3JCb290KHByb3RvKSB7XG4gICAgYXNzZXJ0KGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLm5hbWUpKTtcbiAgICBhc3NlcnQoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQubnVtYmVyKSk7XG4gICAgYXNzZXJ0KGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLnR5cGUpKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLm9uZW9mSW5kZXgpKTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLmpzb25OYW1lKSB8fFxuICAgICAgICBwcm90by5qc29uTmFtZSA9PT0gcHJvdG9DYW1lbENhc2UocHJvdG8ubmFtZSkpO1xuICAgIGNvbnN0IGIgPSB7XG4gICAgICAgIG5hbWU6IHByb3RvLm5hbWUsXG4gICAgICAgIG51bWJlcjogcHJvdG8ubnVtYmVyLFxuICAgICAgICB0eXBlOiBwcm90by50eXBlLFxuICAgIH07XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLmxhYmVsKSkge1xuICAgICAgICBiLmxhYmVsID0gcHJvdG8ubGFiZWw7XG4gICAgfVxuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZERlc2NyaXB0b3JQcm90b1NjaGVtYS5maWVsZC50eXBlTmFtZSkpIHtcbiAgICAgICAgYi50eXBlTmFtZSA9IHByb3RvLnR5cGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGREZXNjcmlwdG9yUHJvdG9TY2hlbWEuZmllbGQuZXh0ZW5kZWUpKSB7XG4gICAgICAgIGIuZXh0ZW5kZWUgPSBwcm90by5leHRlbmRlZTtcbiAgICB9XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLmRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgYi5kZWZhdWx0VmFsdWUgPSBwcm90by5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIGlmIChwcm90by5vcHRpb25zKSB7XG4gICAgICAgIGIub3B0aW9ucyA9IGNyZWF0ZUZpZWxkT3B0aW9uc0Jvb3QocHJvdG8ub3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBiO1xufVxuZnVuY3Rpb24gY3JlYXRlRmllbGRPcHRpb25zQm9vdChwcm90bykge1xuICAgIGNvbnN0IGIgPSB7fTtcbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5jdHlwZSkpO1xuICAgIGlmIChpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQucGFja2VkKSkge1xuICAgICAgICBiLnBhY2tlZCA9IHByb3RvLnBhY2tlZDtcbiAgICB9XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQuanN0eXBlKSk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQubGF6eSkpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLnVudmVyaWZpZWRMYXp5KSk7XG4gICAgaWYgKGlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5kZXByZWNhdGVkKSkge1xuICAgICAgICBiLmRlcHJlY2F0ZWQgPSBwcm90by5kZXByZWNhdGVkO1xuICAgIH1cbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC53ZWFrKSk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBGaWVsZE9wdGlvbnNTY2hlbWEuZmllbGQuZGVidWdSZWRhY3QpKTtcbiAgICBpZiAoaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLnJldGVudGlvbikpIHtcbiAgICAgICAgYi5yZXRlbnRpb24gPSBwcm90by5yZXRlbnRpb247XG4gICAgfVxuICAgIGlmIChwcm90by50YXJnZXRzLmxlbmd0aCkge1xuICAgICAgICBiLnRhcmdldHMgPSBwcm90by50YXJnZXRzO1xuICAgIH1cbiAgICBpZiAocHJvdG8uZWRpdGlvbkRlZmF1bHRzLmxlbmd0aCkge1xuICAgICAgICBiLmVkaXRpb25EZWZhdWx0cyA9IHByb3RvLmVkaXRpb25EZWZhdWx0cy5tYXAoKGQpID0+ICh7XG4gICAgICAgICAgICB2YWx1ZTogZC52YWx1ZSxcbiAgICAgICAgICAgIGVkaXRpb246IGQuZWRpdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3NlcnQoIWlzRmllbGRTZXQocHJvdG8sIEZpZWxkT3B0aW9uc1NjaGVtYS5maWVsZC5mZWF0dXJlcykpO1xuICAgIGFzc2VydCghaXNGaWVsZFNldChwcm90bywgRmllbGRPcHRpb25zU2NoZW1hLmZpZWxkLnVuaW50ZXJwcmV0ZWRPcHRpb24pKTtcbiAgICByZXR1cm4gYjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVudW1EZXNjcmlwdG9yQm9vdChwcm90bykge1xuICAgIGFzc2VydCghcHJvdG8ub3B0aW9ucyk7XG4gICAgYXNzZXJ0KCFpc0ZpZWxkU2V0KHByb3RvLCBFbnVtRGVzY3JpcHRvclByb3RvU2NoZW1hLmZpZWxkLnZpc2liaWxpdHkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBwcm90by5uYW1lLFxuICAgICAgICB2YWx1ZTogcHJvdG8udmFsdWUubWFwKCh2KSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQoIXYub3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHYubmFtZSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IHYubnVtYmVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgY29uZGl0aW9uIGlzIHRydXRoeSBvciB0aHJvdyBlcnJvci5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbikge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBIeWRyYXRlIGEgc2VydmljZSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2aWNlRGVzYyhmaWxlLCBwYXRoLCAuLi5wYXRocykge1xuICAgIGlmIChwYXRocy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZmlsZS5zZXJ2aWNlc1twYXRoXTtcbn1cbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgcGFja2FnZU5hbWUgPSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3Qgd2t0UHVibGljSW1wb3J0UGF0aHMgPSB7XG4gICAgXCJnb29nbGUvcHJvdG9idWYvY29tcGlsZXIvcGx1Z2luLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvYW55LnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvYXBpLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvY3BwX2ZlYXR1cmVzLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5wcm90b1wiOiBwYWNrYWdlTmFtZSArIFwiL3drdFwiLFxuICAgIFwiZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvZW1wdHkucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9maWVsZF9tYXNrLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvZ29fZmVhdHVyZXMucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9qYXZhX2ZlYXR1cmVzLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvc291cmNlX2NvbnRleHQucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbiAgICBcImdvb2dsZS9wcm90b2J1Zi90eXBlLnByb3RvXCI6IHBhY2thZ2VOYW1lICsgXCIvd2t0XCIsXG4gICAgXCJnb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG9cIjogcGFja2FnZU5hbWUgKyBcIi93a3RcIixcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbi8vIGJpb21lLWlnbm9yZSBmb3JtYXQ6IHdhbnQgdGhpcyB0byByZWFkIHdlbGxcbmV4cG9ydCBjb25zdCBzeW1ib2xzID0ge1xuICAgIGlzTWVzc2FnZTogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vaXMtbWVzc2FnZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIE1lc3NhZ2U6IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vdHlwZXMuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBjcmVhdGU6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NyZWF0ZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIGZyb21Kc29uOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9mcm9tLWpzb24uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBmcm9tSnNvblN0cmluZzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vZnJvbS1qc29uLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgZnJvbUJpbmFyeTogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vZnJvbS1iaW5hcnkuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICB0b0JpbmFyeTogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vdG8tYmluYXJ5LmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgdG9Kc29uOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi90by1qc29uLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgdG9Kc29uU3RyaW5nOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi90by1qc29uLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lIH0sXG4gICAgcHJvdG9JbnQ2NDogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vcHJvdG8taW50NjQuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgfSxcbiAgICBKc29uVmFsdWU6IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vanNvbi12YWx1ZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIEpzb25PYmplY3Q6IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vanNvbi12YWx1ZS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSB9LFxuICAgIGNvZGVnZW46IHtcbiAgICAgICAgYm9vdDogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL2Jvb3QuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBmaWxlRGVzYzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL2ZpbGUuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBlbnVtRGVzYzogeyB0eXBlT25seTogZmFsc2UsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL2VudW0uanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBleHREZXNjOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvZXh0ZW5zaW9uLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgbWVzc2FnZURlc2M6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9tZXNzYWdlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgc2VydmljZURlc2M6IHsgdHlwZU9ubHk6IGZhbHNlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi9zZXJ2aWNlLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgdHNFbnVtOiB7IHR5cGVPbmx5OiBmYWxzZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvZW51bS5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgICAgIEdlbkZpbGU6IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL3R5cGVzLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgR2VuRW51bTogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvdHlwZXMuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBHZW5FeHRlbnNpb246IHsgdHlwZU9ubHk6IHRydWUsIGJvb3RzdHJhcFdrdEZyb206IFwiLi4vLi4vY29kZWdlbnYyL3R5cGVzLmpzXCIsIGZyb206IHBhY2thZ2VOYW1lICsgXCIvY29kZWdlbnYyXCIgfSxcbiAgICAgICAgR2VuTWVzc2FnZTogeyB0eXBlT25seTogdHJ1ZSwgYm9vdHN0cmFwV2t0RnJvbTogXCIuLi8uLi9jb2RlZ2VudjIvdHlwZXMuanNcIiwgZnJvbTogcGFja2FnZU5hbWUgKyBcIi9jb2RlZ2VudjJcIiB9LFxuICAgICAgICBHZW5TZXJ2aWNlOiB7IHR5cGVPbmx5OiB0cnVlLCBib290c3RyYXBXa3RGcm9tOiBcIi4uLy4uL2NvZGVnZW52Mi90eXBlcy5qc1wiLCBmcm9tOiBwYWNrYWdlTmFtZSArIFwiL2NvZGVnZW52MlwiIH0sXG4gICAgfSxcbn07XG4iLCAiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNSBCdWYgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi4vZGVzY3JpcHRvcnMuanNcIjtcbi8qKlxuICogUmV0dXJuIHRoZSBUeXBlU2NyaXB0IHR5cGUgKGFzIGEgc3RyaW5nKSBmb3IgdGhlIGdpdmVuIHNjYWxhciB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGFyVHlwZVNjcmlwdFR5cGUoc2NhbGFyLCBsb25nQXNTdHJpbmcpIHtcbiAgICBzd2l0Y2ggKHNjYWxhcikge1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gbG9uZ0FzU3RyaW5nID8gXCJzdHJpbmdcIiA6IFwiYmlnaW50XCI7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiBcIlVpbnQ4QXJyYXlcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIHRoZSBKU09OIHR5cGUgKGFzIGEgc3RyaW5nKSBmb3IgdGhlIGdpdmVuIHNjYWxhciB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGFySnNvblR5cGUoc2NhbGFyKSB7XG4gICAgc3dpdGNoIChzY2FsYXIpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgcmV0dXJuIGBudW1iZXIgfCBcIk5hTlwiIHwgXCJJbmZpbml0eVwiIHwgXCItSW5maW5pdHlcImA7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxufVxuIiwgIi8vIENvcHlyaWdodCAyMDIxLTIwMjUgQnVmIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5jbGFzcyBicmFuZHYyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52ID0gXCJjb2RlZ2VudjJcIjtcbiAgICAgICAgdGhpcy5hID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYiA9IGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCB7fTtcbiIsICIvLyBDb3B5cmlnaHQgMjAyMS0yMDI1IEJ1ZiBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSBcIi4vYm9vdC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZW1iZWQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2VudW0uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2V4dGVuc2lvbi5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZmlsZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWVzc2FnZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2VydmljZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc3ltYm9scy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2NhbGFyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90eXBlcy5qc1wiO1xuIiwgIi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9jLWdlbi1lcyB2Mi45LjAgd2l0aCBwYXJhbWV0ZXIgXCJ0YXJnZXQ9dHNcIlxuLy8gQGdlbmVyYXRlZCBmcm9tIGZpbGUgcHJvdG8vd3NfbWVzc2FnZXMucHJvdG8gKHBhY2thZ2UgbGlnaHRzcGVlZGR1ZWwud3MsIHN5bnRheCBwcm90bzMpXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5pbXBvcnQgdHlwZSB7IEdlbkVudW0sIEdlbkZpbGUsIEdlbk1lc3NhZ2UgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmL2NvZGVnZW52MlwiO1xuaW1wb3J0IHsgZW51bURlc2MsIGZpbGVEZXNjLCBtZXNzYWdlRGVzYyB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWYvY29kZWdlbnYyXCI7XG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2UgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBmaWxlIHByb3RvL3dzX21lc3NhZ2VzLnByb3RvLlxuICovXG5leHBvcnQgY29uc3QgZmlsZV9wcm90b193c19tZXNzYWdlczogR2VuRmlsZSA9IC8qQF9fUFVSRV9fKi9cbiAgZmlsZURlc2MoXCJDaGR3Y205MGJ5OTNjMTl0WlhOellXZGxjeTV3Y205MGJ4SVJiR2xuYUhSemNHVmxaR1IxWld3dWQzTWkxQTRLQ2xkelJXNTJaV3h2Y0dVU05nb01jM1JoZEdWZmRYQmtZWFJsR0FFZ0FTZ0xNaDR1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VTNSaGRHVlZjR1JoZEdWSUFCSTFDZ2x5YjI5dFgyWjFiR3dZQWlBQktBc3lJQzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVTYjI5dFJuVnNiRVZ5Y205eVNBQVNMUW9FYW05cGJoZ0tJQUVvQ3pJZExteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrTnNhV1Z1ZEVwdmFXNUlBQkl3Q2dsemNHRjNibDlpYjNRWUN5QUJLQXN5R3k1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1VGNHRjNia0p2ZEVnQUVqWUtER0ZrWkY5M1lYbHdiMmx1ZEJnTUlBRW9DekllTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtGa1pGZGhlWEJ2YVc1MFNBQVNQQW9QZFhCa1lYUmxYM2RoZVhCdmFXNTBHQTBnQVNnTE1pRXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVWWEJrWVhSbFYyRjVjRzlwYm5SSUFCSTRDZzF0YjNabFgzZGhlWEJ2YVc1MEdBNGdBU2dMTWg4dWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXOTJaVmRoZVhCdmFXNTBTQUFTUEFvUFpHVnNaWFJsWDNkaGVYQnZhVzUwR0E4Z0FTZ0xNaUV1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011UkdWc1pYUmxWMkY1Y0c5cGJuUklBQkk4Q2c5amJHVmhjbDkzWVhsd2IybHVkSE1ZRUNBQktBc3lJUzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVEYkdWaGNsZGhlWEJ2YVc1MGMwZ0FFa0FLRVdOdmJtWnBaM1Z5WlY5dGFYTnphV3hsR0JFZ0FTZ0xNaU11YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011UTI5dVptbG5kWEpsVFdsemMybHNaVWdBRWtVS0ZHRmtaRjl0YVhOemFXeGxYM2RoZVhCdmFXNTBHQklnQVNnTE1pVXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVRV1JrVFdsemMybHNaVmRoZVhCdmFXNTBTQUFTVmdvZGRYQmtZWFJsWDIxcGMzTnBiR1ZmZDJGNWNHOXBiblJmYzNCbFpXUVlFeUFCS0FzeUxTNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NVZjR1JoZEdWTmFYTnphV3hsVjJGNWNHOXBiblJUY0dWbFpFZ0FFa2NLRlcxdmRtVmZiV2x6YzJsc1pWOTNZWGx3YjJsdWRCZ1VJQUVvQ3pJbUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrMXZkbVZOYVhOemFXeGxWMkY1Y0c5cGJuUklBQkpMQ2hka1pXeGxkR1ZmYldsemMybHNaVjkzWVhsd2IybHVkQmdWSUFFb0N6SW9MbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JsYkdWMFpVMXBjM05wYkdWWFlYbHdiMmx1ZEVnQUVrTUtFMk5zWldGeVgyMXBjM05wYkdWZmNtOTFkR1VZRmlBQktBc3lKQzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVEYkdWaGNrMXBjM05wYkdWU2IzVjBaVWdBRWo4S0VXRmtaRjl0YVhOemFXeGxYM0p2ZFhSbEdCY2dBU2dMTWlJdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVFXUmtUV2x6YzJsc1pWSnZkWFJsU0FBU1JRb1VjbVZ1WVcxbFgyMXBjM05wYkdWZmNtOTFkR1VZR0NBQktBc3lKUzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVTWlc1aGJXVk5hWE56YVd4bFVtOTFkR1ZJQUJKRkNoUmtaV3hsZEdWZmJXbHpjMmxzWlY5eWIzVjBaUmdaSUFFb0N6SWxMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JsYkdWMFpVMXBjM05wYkdWU2IzVjBaVWdBRWt3S0dITmxkRjloWTNScGRtVmZiV2x6YzJsc1pWOXliM1YwWlJnYUlBRW9DeklvTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGxObGRFRmpkR2wyWlUxcGMzTnBiR1ZTYjNWMFpVZ0FFam9LRG14aGRXNWphRjl0YVhOemFXeGxHQnNnQVNnTE1pQXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUR0YxYm1Ob1RXbHpjMmxzWlVnQUVqQUtDV1JoWjE5emRHRnlkQmdlSUFFb0N6SWJMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JoWjFOMFlYSjBTQUFTTWdvS1pHRm5YMk5oYm1ObGJCZ2ZJQUVvQ3pJY0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmhaME5oYm1ObGJFZ0FFamNLRFdSaFoxOXpkRzl5ZVY5aFkyc1lJQ0FCS0FzeUhpNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUVZV2RUZEc5eWVVRmphMGdBRWk0S0NHUmhaMTlzYVhOMEdDRWdBU2dMTWhvdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVJHRm5UR2x6ZEVnQUVrRUtFbTFwYzNOcGIyNWZjM0JoZDI1ZmQyRjJaUmdvSUFFb0N6SWpMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMazFwYzNOcGIyNVRjR0YzYmxkaGRtVklBQkpEQ2hOdGFYTnphVzl1WDNOMGIzSjVYMlYyWlc1MEdDa2dBU2dMTWlRdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmx2YmxOMGIzSjVSWFpsYm5SSUFCSS9DaEZrWVdkZmJHbHpkRjl5WlhOd2IyNXpaUmd5SUFFb0N6SWlMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMa1JoWjB4cGMzUlNaWE53YjI1elpVZ0FFa3NLRjIxcGMzTnBiMjVmWW1WaFkyOXVYM051WVhCemFHOTBHRHdnQVNnTE1pZ3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVUV2x6YzJsdmJrSmxZV052YmxOdVlYQnphRzkwU0FBU1JRb1ViV2x6YzJsdmJsOWlaV0ZqYjI1ZlpHVnNkR0VZUFNBQktBc3lKUzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVOYVhOemFXOXVRbVZoWTI5dVJHVnNkR0ZJQUVJSkNnZHdZWGxzYjJGa0lyTUZDZ3RUZEdGMFpWVndaR0YwWlJJTENnTnViM2NZQVNBQktBRVNKQW9DYldVWUFpQUJLQXN5R0M1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1SGFHOXpkQklvQ2dabmFHOXpkSE1ZQXlBREtBc3lHQzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVIYUc5emRCSXBDZ1J0WlhSaEdBUWdBU2dMTWhzdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVVtOXZiVTFsZEdFU0xBb0liV2x6YzJsc1pYTVlCU0FES0FzeUdpNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NU5hWE56YVd4bEVqZ0tEbTFwYzNOcGJHVmZZMjl1Wm1sbkdBWWdBU2dMTWlBdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmxzWlVOdmJtWnBaeEkyQ2hGdGFYTnphV3hsWDNkaGVYQnZhVzUwY3hnSElBTW9DekliTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGxkaGVYQnZhVzUwRWpjS0RtMXBjM05wYkdWZmNtOTFkR1Z6R0FnZ0F5Z0xNaDh1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VFdsemMybHNaVkp2ZFhSbEVod0tGR0ZqZEdsMlpWOXRhWE56YVd4bFgzSnZkWFJsR0FrZ0FTZ0pFaG9LRW01bGVIUmZiV2x6YzJsc1pWOXlaV0ZrZVJnS0lBRW9BUkl0Q2dOa1lXY1lDeUFCS0FzeUd5NXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUVZV2RUZEdGMFpVZ0FpQUVCRWpRS0NXbHVkbVZ1ZEc5eWVSZ01JQUVvQ3pJY0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrbHVkbVZ1ZEc5eWVVZ0JpQUVCRWpFS0JYTjBiM0o1R0EwZ0FTZ0xNaDB1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VTNSdmNubFRkR0YwWlVnQ2lBRUJFa0FLREdOaGNHRmlhV3hwZEdsbGN4Z09JQUVvQ3pJbExteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxsQnNZWGxsY2tOaGNHRmlhV3hwZEdsbGMwZ0RpQUVCUWdZS0JGOWtZV2RDREFvS1gybHVkbVZ1ZEc5eWVVSUlDZ1pmYzNSdmNubENEd29OWDJOaGNHRmlhV3hwZEdsbGN5SWdDZzFTYjI5dFJuVnNiRVZ5Y205eUVnOEtCMjFsYzNOaFoyVVlBU0FCS0FraVJnb0tRMnhwWlc1MFNtOXBiaElNQ2dSdVlXMWxHQUVnQVNnSkVnd0tCSEp2YjIwWUFpQUJLQWtTRFFvRmJXRndYM2NZQXlBQktBRVNEUW9GYldGd1gyZ1lCQ0FCS0FFaUNnb0lVM0JoZDI1Q2IzUWlNZ29MUVdSa1YyRjVjRzlwYm5RU0NRb0JlQmdCSUFFb0FSSUpDZ0Y1R0FJZ0FTZ0JFZzBLQlhOd1pXVmtHQU1nQVNnQklpNEtEbFZ3WkdGMFpWZGhlWEJ2YVc1MEVnMEtCV2x1WkdWNEdBRWdBU2dGRWcwS0JYTndaV1ZrR0FJZ0FTZ0JJak1LREUxdmRtVlhZWGx3YjJsdWRCSU5DZ1ZwYm1SbGVCZ0JJQUVvQlJJSkNnRjRHQUlnQVNnQkVna0tBWGtZQXlBQktBRWlId29PUkdWc1pYUmxWMkY1Y0c5cGJuUVNEUW9GYVc1a1pYZ1lBU0FCS0FVaUVBb09RMnhsWVhKWFlYbHdiMmx1ZEhNaVB3b1FRMjl1Wm1sbmRYSmxUV2x6YzJsc1pSSVZDZzF0YVhOemFXeGxYM053WldWa0dBRWdBU2dCRWhRS0RHMXBjM05wYkdWZllXZHlieGdDSUFFb0FTSkxDaEpCWkdSTmFYTnphV3hsVjJGNWNHOXBiblFTRUFvSWNtOTFkR1ZmYVdRWUFTQUJLQWtTQ1FvQmVCZ0NJQUVvQVJJSkNnRjVHQU1nQVNnQkVnMEtCWE53WldWa0dBUWdBU2dCSWt3S0dsVndaR0YwWlUxcGMzTnBiR1ZYWVhsd2IybHVkRk53WldWa0VoQUtDSEp2ZFhSbFgybGtHQUVnQVNnSkVnMEtCV2x1WkdWNEdBSWdBU2dGRWcwS0JYTndaV1ZrR0FNZ0FTZ0JJa3dLRTAxdmRtVk5hWE56YVd4bFYyRjVjRzlwYm5RU0VBb0ljbTkxZEdWZmFXUVlBU0FCS0FrU0RRb0ZhVzVrWlhnWUFpQUJLQVVTQ1FvQmVCZ0RJQUVvQVJJSkNnRjVHQVFnQVNnQklqZ0tGVVJsYkdWMFpVMXBjM05wYkdWWFlYbHdiMmx1ZEJJUUNnaHliM1YwWlY5cFpCZ0JJQUVvQ1JJTkNnVnBibVJsZUJnQ0lBRW9CU0lsQ2hGRGJHVmhjazFwYzNOcGJHVlNiM1YwWlJJUUNnaHliM1YwWlY5cFpCZ0JJQUVvQ1NJZkNnOUJaR1JOYVhOemFXeGxVbTkxZEdVU0RBb0VibUZ0WlJnQklBRW9DU0kwQ2hKU1pXNWhiV1ZOYVhOemFXeGxVbTkxZEdVU0VBb0ljbTkxZEdWZmFXUVlBU0FCS0FrU0RBb0VibUZ0WlJnQ0lBRW9DU0ltQ2hKRVpXeGxkR1ZOYVhOemFXeGxVbTkxZEdVU0VBb0ljbTkxZEdWZmFXUVlBU0FCS0FraUtRb1ZVMlYwUVdOMGFYWmxUV2x6YzJsc1pWSnZkWFJsRWhBS0NISnZkWFJsWDJsa0dBRWdBU2dKSWlFS0RVeGhkVzVqYUUxcGMzTnBiR1VTRUFvSWNtOTFkR1ZmYVdRWUFTQUJLQWtpZ2dJS0JVZG9iM04wRWdvS0FtbGtHQUVnQVNnSkVna0tBWGdZQWlBQktBRVNDUW9CZVJnRElBRW9BUklLQ2dKMmVCZ0VJQUVvQVJJS0NnSjJlUmdGSUFFb0FSSUpDZ0YwR0FZZ0FTZ0JFZ3dLQkhObGJHWVlCeUFCS0FnU0xnb0pkMkY1Y0c5cGJuUnpHQWdnQXlnTE1oc3ViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVWMkY1Y0c5cGJuUVNIZ29XWTNWeWNtVnVkRjkzWVhsd2IybHVkRjlwYm1SbGVCZ0pJQUVvQlJJS0NnSm9jQmdLSUFFb0JSSU5DZ1ZyYVd4c2N4Z0xJQUVvQlJJeUNnUm9aV0YwR0F3Z0FTZ0xNaDh1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VTJocGNFaGxZWFJXYVdWM1NBQ0lBUUZDQndvRlgyaGxZWFFpTHdvSVYyRjVjRzlwYm5RU0NRb0JlQmdCSUFFb0FSSUpDZ0Y1R0FJZ0FTZ0JFZzBLQlhOd1pXVmtHQU1nQVNnQklpc0tDRkp2YjIxTlpYUmhFZ2tLQVdNWUFTQUJLQUVTQ1FvQmR4Z0NJQUVvQVJJSkNnRm9HQU1nQVNnQklvc0NDZ2ROYVhOemFXeGxFZ29LQW1sa0dBRWdBU2dKRWcwS0JXOTNibVZ5R0FJZ0FTZ0pFZ3dLQkhObGJHWVlBeUFCS0FnU0NRb0JlQmdFSUFFb0FSSUpDZ0Y1R0FVZ0FTZ0JFZ29LQW5aNEdBWWdBU2dCRWdvS0FuWjVHQWNnQVNnQkVna0tBWFFZQ0NBQktBRVNFd29MWVdkeWIxOXlZV1JwZFhNWUNTQUJLQUVTRUFvSWJHbG1aWFJwYldVWUNpQUJLQUVTRXdvTGJHRjFibU5vWDNScGJXVVlDeUFCS0FFU0Vnb0taWGh3YVhKbGMxOWhkQmdNSUFFb0FSSVJDZ2wwWVhKblpYUmZhV1FZRFNBQktBa1NNZ29FYUdWaGRCZ09JQUVvQ3pJZkxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxsTm9hWEJJWldGMFZtbGxkMGdBaUFFQlFnY0tCVjlvWldGMElzWUJDZzFOYVhOemFXeGxRMjl1Wm1sbkVnMEtCWE53WldWa0dBRWdBU2dCRWhFS0NYTndaV1ZrWDIxcGJoZ0NJQUVvQVJJUkNnbHpjR1ZsWkY5dFlYZ1lBeUFCS0FFU0VBb0lZV2R5YjE5dGFXNFlCQ0FCS0FFU0V3b0xZV2R5YjE5eVlXUnBkWE1ZQlNBQktBRVNFQW9JYkdsbVpYUnBiV1VZQmlBQktBRVNOd29MYUdWaGRGOWpiMjVtYVdjWUJ5QUJLQXN5SFM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1SVpXRjBVR0Z5WVcxelNBQ0lBUUZDRGdvTVgyaGxZWFJmWTI5dVptbG5JbGdLREUxcGMzTnBiR1ZTYjNWMFpSSUtDZ0pwWkJnQklBRW9DUklNQ2dSdVlXMWxHQUlnQVNnSkVpNEtDWGRoZVhCdmFXNTBjeGdESUFNb0N6SWJMbXhwWjJoMGMzQmxaV1JrZFdWc0xuZHpMbGRoZVhCdmFXNTBJbllLREZOb2FYQklaV0YwVm1sbGR4SUpDZ0YyR0FFZ0FTZ0JFZ2tLQVcwWUFpQUJLQUVTQ1FvQmR4Z0RJQUVvQVJJSkNnRnZHQVFnQVNnQkVnb0tBbTF6R0FVZ0FTZ0JFZ29LQW5OMUdBWWdBU2dCRWdvS0FtdDFHQWNnQVNnQkVnb0tBbXRrR0FnZ0FTZ0JFZ29LQW1WNEdBa2dBU2dCSW9BQkNncElaV0YwVUdGeVlXMXpFZ3NLQTIxaGVCZ0JJQUVvQVJJUENnZDNZWEp1WDJGMEdBSWdBU2dCRWhNS0MyOTJaWEpvWldGMFgyRjBHQU1nQVNnQkVoUUtERzFoY210bGNsOXpjR1ZsWkJnRUlBRW9BUklNQ2dSclgzVndHQVVnQVNnQkVnNEtCbXRmWkc5M2JoZ0dJQUVvQVJJTENnTmxlSEFZQnlBQktBRWlkd29OVlhCbmNtRmtaVVZtWm1WamRCSXlDZ1IwZVhCbEdBRWdBU2dPTWlRdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVZYQm5jbUZrWlVWbVptVmpkRlI1Y0dVU0ZBb0tiWFZzZEdsd2JHbGxjaGdDSUFFb0FVZ0FFaE1LQ1hWdWJHOWphMTlwWkJnRElBRW9DVWdBUWdjS0JYWmhiSFZsSW5rS0VsQnNZWGxsY2tOaGNHRmlhV3hwZEdsbGN4SVlDaEJ6Y0dWbFpGOXRkV3gwYVhCc2FXVnlHQUVnQVNnQkVoa0tFWFZ1Ykc5amEyVmtYMjFwYzNOcGJHVnpHQUlnQXlnSkVoVUtEV2hsWVhSZlkyRndZV05wZEhrWUF5QUJLQUVTRndvUGFHVmhkRjlsWm1acFkybGxibU41R0FRZ0FTZ0JJdlFCQ2dkRVlXZE9iMlJsRWdvS0FtbGtHQUVnQVNnSkVpd0tCR3RwYm1RWUFpQUJLQTR5SGk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1RVlXZE9iMlJsUzJsdVpCSU5DZ1ZzWVdKbGJCZ0RJQUVvQ1JJd0NnWnpkR0YwZFhNWUJDQUJLQTR5SUM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1RVlXZE9iMlJsVTNSaGRIVnpFaE1LQzNKbGJXRnBibWx1WjE5ekdBVWdBU2dCRWhJS0NtUjFjbUYwYVc5dVgzTVlCaUFCS0FFU0Vnb0tjbVZ3WldGMFlXSnNaUmdISUFFb0NCSXhDZ2RsWm1abFkzUnpHQWdnQXlnTE1pQXViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVWWEJuY21Ga1pVVm1abVZqZENJMUNnaEVZV2RUZEdGMFpSSXBDZ1Z1YjJSbGN4Z0JJQU1vQ3pJYUxteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxrUmhaMDV2WkdVaUd3b0lSR0ZuVTNSaGNuUVNEd29IYm05a1pWOXBaQmdCSUFFb0NTSWNDZ2xFWVdkRFlXNWpaV3dTRHdvSGJtOWtaVjlwWkJnQklBRW9DU0l4Q2d0RVlXZFRkRzl5ZVVGamF4SVBDZ2R1YjJSbFgybGtHQUVnQVNnSkVoRUtDV05vYjJsalpWOXBaQmdDSUFFb0NTSUpDZ2RFWVdkTWFYTjBJanNLRDBSaFoweHBjM1JTWlhOd2IyNXpaUklvQ2dOa1lXY1lBU0FCS0FzeUd5NXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NUVZV2RUZEdGMFpTSmFDZzFKYm5abGJuUnZjbmxKZEdWdEVnd0tCSFI1Y0dVWUFTQUJLQWtTRWdvS2RtRnlhV0Z1ZEY5cFpCZ0NJQUVvQ1JJVkNnMW9aV0YwWDJOaGNHRmphWFI1R0FNZ0FTZ0JFaEFLQ0hGMVlXNTBhWFI1R0FRZ0FTZ0ZJandLQ1VsdWRtVnVkRzl5ZVJJdkNnVnBkR1Z0Y3hnQklBTW9DeklnTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGtsdWRtVnVkRzl5ZVVsMFpXMGlMd29UVTNSdmNubEVhV0ZzYjJkMVpVTm9iMmxqWlJJS0NnSnBaQmdCSUFFb0NSSU1DZ1IwWlhoMEdBSWdBU2dKSWk4S0VGTjBiM0o1VkhWMGIzSnBZV3hVYVhBU0RRb0ZkR2wwYkdVWUFTQUJLQWtTREFvRWRHVjRkQmdDSUFFb0NTS0FBZ29OVTNSdmNubEVhV0ZzYjJkMVpSSVBDZ2R6Y0dWaGEyVnlHQUVnQVNnSkVnd0tCSFJsZUhRWUFpQUJLQWtTTGdvR2FXNTBaVzUwR0FNZ0FTZ09NaDR1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VTNSdmNubEpiblJsYm5RU0Znb09ZMjl1ZEdsdWRXVmZiR0ZpWld3WUJDQUJLQWtTTndvSFkyaHZhV05sY3hnRklBTW9DekltTG14cFoyaDBjM0JsWldSa2RXVnNMbmR6TGxOMGIzSjVSR2xoYkc5bmRXVkRhRzlwWTJVU1Bnb01kSFYwYjNKcFlXeGZkR2x3R0FZZ0FTZ0xNaU11YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VTNSdmNubFVkWFJ2Y21saGJGUnBjRWdBaUFFQlFnOEtEVjkwZFhSdmNtbGhiRjkwYVhBaVJBb0tVM1J2Y25sRmRtVnVkQklTQ2dwamFHRndkR1Z5WDJsa0dBRWdBU2dKRWc4S0IyNXZaR1ZmYVdRWUFpQUJLQWtTRVFvSmRHbHRaWE4wWVcxd0dBTWdBU2dCSXBjQ0NncFRkRzl5ZVZOMFlYUmxFaE1LQzJGamRHbDJaVjl1YjJSbEdBRWdBU2dKRWpjS0NHUnBZV3h2WjNWbEdBSWdBU2dMTWlBdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVUzUnZjbmxFYVdGc2IyZDFaVWdBaUFFQkVoRUtDV0YyWVdsc1lXSnNaUmdESUFNb0NSSTNDZ1ZtYkdGbmN4Z0VJQU1vQ3pJb0xteHBaMmgwYzNCbFpXUmtkV1ZzTG5kekxsTjBiM0o1VTNSaGRHVXVSbXhoWjNORmJuUnllUkkwQ2cxeVpXTmxiblJmWlhabGJuUnpHQVVnQXlnTE1oMHViR2xuYUhSemNHVmxaR1IxWld3dWQzTXVVM1J2Y25sRmRtVnVkQm9zQ2dwR2JHRm5jMFZ1ZEhKNUVnc0tBMnRsZVJnQklBRW9DUklOQ2dWMllXeDFaUmdDSUFFb0NEb0NPQUZDQ3dvSlgyUnBZV3h2WjNWbElpWUtFRTFwYzNOcGIyNVRjR0YzYmxkaGRtVVNFZ29LZDJGMlpWOXBibVJsZUJnQklBRW9CU0l5Q2hGTmFYTnphVzl1VTNSdmNubEZkbVZ1ZEJJTkNnVmxkbVZ1ZEJnQklBRW9DUklPQ2daaVpXRmpiMjRZQWlBQktBVWlpZ0lLRlUxcGMzTnBiMjVDWldGamIyNVRibUZ3YzJodmRCSVNDZ3B0YVhOemFXOXVYMmxrR0FFZ0FTZ0pFaE1LQzJ4aGVXOTFkRjl6WldWa0dBSWdBU2dFRWhNS0MzTmxjblpsY2w5MGFXMWxHQU1nQVNnQkVqc0tCMkpsWVdOdmJuTVlCQ0FES0FzeUtpNXNhV2RvZEhOd1pXVmtaSFZsYkM1M2N5NU5hWE56YVc5dVFtVmhZMjl1UkdWbWFXNXBkR2x2YmhJM0NnZHdiR0Y1WlhKekdBVWdBeWdMTWlZdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmx2YmtKbFlXTnZibEJzWVhsbGNoSTlDZ3BsYm1OdmRXNTBaWEp6R0FZZ0F5Z0xNaWt1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VFdsemMybHZia0psWVdOdmJrVnVZMjkxYm5SbGNpSnFDaGROYVhOemFXOXVRbVZoWTI5dVJHVm1hVzVwZEdsdmJoSUtDZ0pwWkJnQklBRW9DUklQQ2dkdmNtUnBibUZzR0FJZ0FTZ0ZFZ2tLQVhnWUF5QUJLQUVTQ1FvQmVSZ0VJQUVvQVJJT0NnWnlZV1JwZFhNWUJTQUJLQUVTREFvRWMyVmxaQmdHSUFFb0F5S2tBZ29UVFdsemMybHZia0psWVdOdmJsQnNZWGxsY2hJUkNnbHdiR0Y1WlhKZmFXUVlBU0FCS0FrU0ZRb05ZM1Z5Y21WdWRGOXBibVJsZUJnQ0lBRW9CUklTQ2dwb2IyeGtYMkZqWTNWdEdBTWdBU2dCRWhVS0RXaHZiR1JmY21WeGRXbHlaV1FZQkNBQktBRVNGUW9OWVdOMGFYWmxYMkpsWVdOdmJoZ0ZJQUVvQ1JJU0NncGthWE5qYjNabGNtVmtHQVlnQXlnSkVoRUtDV052YlhCc1pYUmxaQmdISUFNb0NSSklDZ2xqYjI5c1pHOTNibk1ZQ0NBREtBc3lOUzVzYVdkb2RITndaV1ZrWkhWbGJDNTNjeTVOYVhOemFXOXVRbVZoWTI5dVVHeGhlV1Z5TGtOdmIyeGtiM2R1YzBWdWRISjVHakFLRGtOdmIyeGtiM2R1YzBWdWRISjVFZ3NLQTJ0bGVSZ0JJQUVvQ1JJTkNnVjJZV3gxWlJnQ0lBRW9BVG9DT0FFaWxnRUtFazFwYzNOcGIyNUNaV0ZqYjI1RVpXeDBZUkk4Q2dkd2JHRjVaWEp6R0FFZ0F5Z0xNaXN1YkdsbmFIUnpjR1ZsWkdSMVpXd3VkM011VFdsemMybHZia0psWVdOdmJsQnNZWGxsY2tSbGJIUmhFa0lLQ21WdVkyOTFiblJsY25NWUFpQURLQXN5TGk1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1TmFYTnphVzl1UW1WaFkyOXVSVzVqYjNWdWRHVnlSWFpsYm5RaTRnRUtHRTFwYzNOcGIyNUNaV0ZqYjI1UWJHRjVaWEpFWld4MFlSSTNDZ1IwZVhCbEdBRWdBU2dPTWlrdWJHbG5hSFJ6Y0dWbFpHUjFaV3d1ZDNNdVRXbHpjMmx2YmtKbFlXTnZia1JsYkhSaFZIbHdaUklSQ2dsd2JHRjVaWEpmYVdRWUFpQUJLQWtTRVFvSlltVmhZMjl1WDJsa0dBTWdBU2dKRWc4S0IyOXlaR2x1WVd3WUJDQUJLQVVTRWdvS2FHOXNaRjloWTJOMWJSZ0ZJQUVvQVJJVkNnMW9iMnhrWDNKbGNYVnBjbVZrR0FZZ0FTZ0JFaFlLRG1OdmIyeGtiM2R1WDNWdWRHbHNHQWNnQVNnQkVoTUtDM05sY25abGNsOTBhVzFsR0FnZ0FTZ0JJbjBLRmsxcGMzTnBiMjVDWldGamIyNUZibU52ZFc1MFpYSVNGQW9NWlc1amIzVnVkR1Z5WDJsa0dBRWdBU2dKRWhFS0NXSmxZV052Ymw5cFpCZ0NJQUVvQ1JJU0NncDNZWFpsWDJsdVpHVjRHQU1nQVNnRkVoSUtDbk53WVhkdVpXUmZZWFFZQkNBQktBRVNFZ29LWlhod2FYSmxjMTloZEJnRklBRW9BU0xPQVFvYlRXbHpjMmx2YmtKbFlXTnZia1Z1WTI5MWJuUmxja1YyWlc1MEVqb0tCSFI1Y0dVWUFTQUJLQTR5TEM1c2FXZG9kSE53WldWa1pIVmxiQzUzY3k1TmFYTnphVzl1Ulc1amIzVnVkR1Z5UlhabGJuUlVlWEJsRWhRS0RHVnVZMjkxYm5SbGNsOXBaQmdDSUFFb0NSSVJDZ2xpWldGamIyNWZhV1FZQXlBQktBa1NFZ29LZDJGMlpWOXBibVJsZUJnRUlBRW9CUklTQ2dwemNHRjNibVZrWDJGMEdBVWdBU2dCRWhJS0NtVjRjR2x5WlhOZllYUVlCaUFCS0FFU0Rnb0djbVZoYzI5dUdBY2dBU2dKS3FzQkNnMUVZV2RPYjJSbFUzUmhkSFZ6RWg4S0cwUkJSMTlPVDBSRlgxTlVRVlJWVTE5VlRsTlFSVU5KUmtsRlJCQUFFaG9LRmtSQlIxOU9UMFJGWDFOVVFWUlZVMTlNVDBOTFJVUVFBUklkQ2hsRVFVZGZUazlFUlY5VFZFRlVWVk5mUVZaQlNVeEJRa3hGRUFJU0h3b2JSRUZIWDA1UFJFVmZVMVJCVkZWVFgwbE9YMUJTVDBkU1JWTlRFQU1TSFFvWlJFRkhYMDVQUkVWZlUxUkJWRlZUWDBOUFRWQk1SVlJGUkJBRUtwRUJDZ3RFWVdkT2IyUmxTMmx1WkJJZENobEVRVWRmVGs5RVJWOUxTVTVFWDFWT1UxQkZRMGxHU1VWRUVBQVNHUW9WUkVGSFgwNVBSRVZmUzBsT1JGOUdRVU5VVDFKWkVBRVNGZ29TUkVGSFgwNVBSRVZmUzBsT1JGOVZUa2xVRUFJU0Z3b1RSRUZIWDA1UFJFVmZTMGxPUkY5VFZFOVNXUkFERWhjS0UwUkJSMTlPVDBSRlgwdEpUa1JmUTFKQlJsUVFCQ3JhQVFvUlZYQm5jbUZrWlVWbVptVmpkRlI1Y0dVU0l3b2ZWVkJIVWtGRVJWOUZSa1pGUTFSZlZGbFFSVjlWVGxOUVJVTkpSa2xGUkJBQUVpZ0tKRlZRUjFKQlJFVmZSVVpHUlVOVVgxUlpVRVZmVTFCRlJVUmZUVlZNVkVsUVRFbEZVaEFCRWlZS0lsVlFSMUpCUkVWZlJVWkdSVU5VWDFSWlVFVmZUVWxUVTBsTVJWOVZUa3hQUTBzUUFoSWxDaUZWVUVkU1FVUkZYMFZHUmtWRFZGOVVXVkJGWDBoRlFWUmZRMEZRUVVOSlZGa1FBeEluQ2lOVlVFZFNRVVJGWDBWR1JrVkRWRjlVV1ZCRlgwaEZRVlJmUlVaR1NVTkpSVTVEV1JBRUtsd0tDMU4wYjNKNVNXNTBaVzUwRWh3S0dGTlVUMUpaWDBsT1ZFVk9WRjlWVGxOUVJVTkpSa2xGUkJBQUVoZ0tGRk5VVDFKWlgwbE9WRVZPVkY5R1FVTlVUMUpaRUFFU0ZRb1JVMVJQVWxsZlNVNVVSVTVVWDFWT1NWUVFBaXFnQWdvV1RXbHpjMmx2YmtKbFlXTnZia1JsYkhSaFZIbHdaUklrQ2lCTlNWTlRTVTlPWDBKRlFVTlBUbDlFUlV4VVFWOVZUbE5RUlVOSlJrbEZSQkFBRWlNS0gwMUpVMU5KVDA1ZlFrVkJRMDlPWDBSRlRGUkJYMFJKVTBOUFZrVlNSVVFRQVJJbUNpSk5TVk5UU1U5T1gwSkZRVU5QVGw5RVJVeFVRVjlJVDB4RVgxQlNUMGRTUlZOVEVBSVNJd29mVFVsVFUwbFBUbDlDUlVGRFQwNWZSRVZNVkVGZlNFOU1SRjlTUlZORlZCQURFaDhLRzAxSlUxTkpUMDVmUWtWQlEwOU9YMFJGVEZSQlgweFBRMHRGUkJBRUVpRUtIVTFKVTFOSlQwNWZRa1ZCUTA5T1gwUkZURlJCWDBOUFQweEVUMWRPRUFVU0tnb21UVWxUVTBsUFRsOUNSVUZEVDA1ZlJFVk1WRUZmVFVsVFUwbFBUbDlEVDAxUVRFVlVSVVFRQmlyWEFRb1pUV2x6YzJsdmJrVnVZMjkxYm5SbGNrVjJaVzUwVkhsd1pSSW5DaU5OU1ZOVFNVOU9YMFZPUTA5VlRsUkZVbDlGVmtWT1ZGOVZUbE5RUlVOSlJrbEZSQkFBRWlNS0gwMUpVMU5KVDA1ZlJVNURUMVZPVkVWU1gwVldSVTVVWDFOUVFWZE9SVVFRQVJJakNoOU5TVk5UU1U5T1gwVk9RMDlWVGxSRlVsOUZWa1ZPVkY5RFRFVkJVa1ZFRUFJU0l3b2ZUVWxUVTBsUFRsOUZUa05QVlU1VVJWSmZSVlpGVGxSZlZFbE5SVTlWVkJBREVpSUtIazFKVTFOSlQwNWZSVTVEVDFWT1ZFVlNYMFZXUlU1VVgxQlZVa2RGUkJBRVFpSmFJRXhwWjJoMFUzQmxaV1JFZFdWc0wybHVkR1Z5Ym1Gc0wzQnliM1J2TDNkellnWndjbTkwYnpNXCIpO1xuXG4vKipcbiAqIFdzRW52ZWxvcGUgd3JhcHMgYWxsIFdlYlNvY2tldCBtZXNzYWdlcyBpbiBhIGRpc2NyaW1pbmF0ZWQgdW5pb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Xc0VudmVsb3BlXG4gKi9cbmV4cG9ydCB0eXBlIFdzRW52ZWxvcGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuV3NFbnZlbG9wZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBvbmVvZiBsaWdodHNwZWVkZHVlbC53cy5Xc0VudmVsb3BlLnBheWxvYWRcbiAgICovXG4gIHBheWxvYWQ6IHtcbiAgICAvKipcbiAgICAgKiBTZXJ2ZXIgXHUyMTkyIENsaWVudFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZSBzdGF0ZV91cGRhdGUgPSAxO1xuICAgICAqL1xuICAgIHZhbHVlOiBTdGF0ZVVwZGF0ZTtcbiAgICBjYXNlOiBcInN0YXRlVXBkYXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yIHJvb21fZnVsbCA9IDI7XG4gICAgICovXG4gICAgdmFsdWU6IFJvb21GdWxsRXJyb3I7XG4gICAgY2FzZTogXCJyb29tRnVsbFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIENsaWVudCBcdTIxOTIgU2VydmVyXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW4gam9pbiA9IDEwO1xuICAgICAqL1xuICAgIHZhbHVlOiBDbGllbnRKb2luO1xuICAgIGNhc2U6IFwiam9pblwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3Qgc3Bhd25fYm90ID0gMTE7XG4gICAgICovXG4gICAgdmFsdWU6IFNwYXduQm90O1xuICAgIGNhc2U6IFwic3Bhd25Cb3RcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50IGFkZF93YXlwb2ludCA9IDEyO1xuICAgICAqL1xuICAgIHZhbHVlOiBBZGRXYXlwb2ludDtcbiAgICBjYXNlOiBcImFkZFdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5VcGRhdGVXYXlwb2ludCB1cGRhdGVfd2F5cG9pbnQgPSAxMztcbiAgICAgKi9cbiAgICB2YWx1ZTogVXBkYXRlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJ1cGRhdGVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50IG1vdmVfd2F5cG9pbnQgPSAxNDtcbiAgICAgKi9cbiAgICB2YWx1ZTogTW92ZVdheXBvaW50O1xuICAgIGNhc2U6IFwibW92ZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVXYXlwb2ludCBkZWxldGVfd2F5cG9pbnQgPSAxNTtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGVsZXRlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJkZWxldGVXYXlwb2ludFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJXYXlwb2ludHMgY2xlYXJfd2F5cG9pbnRzID0gMTY7XG4gICAgICovXG4gICAgdmFsdWU6IENsZWFyV2F5cG9pbnRzO1xuICAgIGNhc2U6IFwiY2xlYXJXYXlwb2ludHNcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkNvbmZpZ3VyZU1pc3NpbGUgY29uZmlndXJlX21pc3NpbGUgPSAxNztcbiAgICAgKi9cbiAgICB2YWx1ZTogQ29uZmlndXJlTWlzc2lsZTtcbiAgICBjYXNlOiBcImNvbmZpZ3VyZU1pc3NpbGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVXYXlwb2ludCBhZGRfbWlzc2lsZV93YXlwb2ludCA9IDE4O1xuICAgICAqL1xuICAgIHZhbHVlOiBBZGRNaXNzaWxlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJhZGRNaXNzaWxlV2F5cG9pbnRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkIHVwZGF0ZV9taXNzaWxlX3dheXBvaW50X3NwZWVkID0gMTk7XG4gICAgICovXG4gICAgdmFsdWU6IFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkO1xuICAgIGNhc2U6IFwidXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1vdmVNaXNzaWxlV2F5cG9pbnQgbW92ZV9taXNzaWxlX3dheXBvaW50ID0gMjA7XG4gICAgICovXG4gICAgdmFsdWU6IE1vdmVNaXNzaWxlV2F5cG9pbnQ7XG4gICAgY2FzZTogXCJtb3ZlTWlzc2lsZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlV2F5cG9pbnQgZGVsZXRlX21pc3NpbGVfd2F5cG9pbnQgPSAyMTtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGVsZXRlTWlzc2lsZVdheXBvaW50O1xuICAgIGNhc2U6IFwiZGVsZXRlTWlzc2lsZVdheXBvaW50XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZSBjbGVhcl9taXNzaWxlX3JvdXRlID0gMjI7XG4gICAgICovXG4gICAgdmFsdWU6IENsZWFyTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwiY2xlYXJNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVSb3V0ZSBhZGRfbWlzc2lsZV9yb3V0ZSA9IDIzO1xuICAgICAqL1xuICAgIHZhbHVlOiBBZGRNaXNzaWxlUm91dGU7XG4gICAgY2FzZTogXCJhZGRNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlJlbmFtZU1pc3NpbGVSb3V0ZSByZW5hbWVfbWlzc2lsZV9yb3V0ZSA9IDI0O1xuICAgICAqL1xuICAgIHZhbHVlOiBSZW5hbWVNaXNzaWxlUm91dGU7XG4gICAgY2FzZTogXCJyZW5hbWVNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVSb3V0ZSBkZWxldGVfbWlzc2lsZV9yb3V0ZSA9IDI1O1xuICAgICAqL1xuICAgIHZhbHVlOiBEZWxldGVNaXNzaWxlUm91dGU7XG4gICAgY2FzZTogXCJkZWxldGVNaXNzaWxlUm91dGVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZSBzZXRfYWN0aXZlX21pc3NpbGVfcm91dGUgPSAyNjtcbiAgICAgKi9cbiAgICB2YWx1ZTogU2V0QWN0aXZlTWlzc2lsZVJvdXRlO1xuICAgIGNhc2U6IFwic2V0QWN0aXZlTWlzc2lsZVJvdXRlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5MYXVuY2hNaXNzaWxlIGxhdW5jaF9taXNzaWxlID0gMjc7XG4gICAgICovXG4gICAgdmFsdWU6IExhdW5jaE1pc3NpbGU7XG4gICAgY2FzZTogXCJsYXVuY2hNaXNzaWxlXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogUGhhc2UgMjogREFHIGNvbW1hbmRzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXJ0IGRhZ19zdGFydCA9IDMwO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdTdGFydDtcbiAgICBjYXNlOiBcImRhZ1N0YXJ0XCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdDYW5jZWwgZGFnX2NhbmNlbCA9IDMxO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdDYW5jZWw7XG4gICAgY2FzZTogXCJkYWdDYW5jZWxcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrIGRhZ19zdG9yeV9hY2sgPSAzMjtcbiAgICAgKi9cbiAgICB2YWx1ZTogRGFnU3RvcnlBY2s7XG4gICAgY2FzZTogXCJkYWdTdG9yeUFja1wiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdCBkYWdfbGlzdCA9IDMzO1xuICAgICAqL1xuICAgIHZhbHVlOiBEYWdMaXN0O1xuICAgIGNhc2U6IFwiZGFnTGlzdFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIFBoYXNlIDI6IE1pc3Npb24gY29tbWFuZHNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblNwYXduV2F2ZSBtaXNzaW9uX3NwYXduX3dhdmUgPSA0MDtcbiAgICAgKi9cbiAgICB2YWx1ZTogTWlzc2lvblNwYXduV2F2ZTtcbiAgICBjYXNlOiBcIm1pc3Npb25TcGF3bldhdmVcIjtcbiAgfSB8IHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TdG9yeUV2ZW50IG1pc3Npb25fc3RvcnlfZXZlbnQgPSA0MTtcbiAgICAgKi9cbiAgICB2YWx1ZTogTWlzc2lvblN0b3J5RXZlbnQ7XG4gICAgY2FzZTogXCJtaXNzaW9uU3RvcnlFdmVudFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIFBoYXNlIDI6IFNlcnZlciByZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFJlc3BvbnNlIGRhZ19saXN0X3Jlc3BvbnNlID0gNTA7XG4gICAgICovXG4gICAgdmFsdWU6IERhZ0xpc3RSZXNwb25zZTtcbiAgICBjYXNlOiBcImRhZ0xpc3RSZXNwb25zZVwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblNuYXBzaG90IG1pc3Npb25fYmVhY29uX3NuYXBzaG90ID0gNjA7XG4gICAgICovXG4gICAgdmFsdWU6IE1pc3Npb25CZWFjb25TbmFwc2hvdDtcbiAgICBjYXNlOiBcIm1pc3Npb25CZWFjb25TbmFwc2hvdFwiO1xuICB9IHwge1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlbHRhIG1pc3Npb25fYmVhY29uX2RlbHRhID0gNjE7XG4gICAgICovXG4gICAgdmFsdWU6IE1pc3Npb25CZWFjb25EZWx0YTtcbiAgICBjYXNlOiBcIm1pc3Npb25CZWFjb25EZWx0YVwiO1xuICB9IHwgeyBjYXNlOiB1bmRlZmluZWQ7IHZhbHVlPzogdW5kZWZpbmVkIH07XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Xc0VudmVsb3BlLlxuICogVXNlIGBjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgV3NFbnZlbG9wZVNjaGVtYTogR2VuTWVzc2FnZTxXc0VudmVsb3BlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMCk7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IEZ1bGwgZ2FtZSBzdGF0ZVxuICogU2VudCBldmVyeSB0aWNrICh+MjBIeikgY29udGFpbmluZyB0aGUgcGxheWVyJ3MgdmlldyBvZiB0aGUgZ2FtZSB3b3JsZFxuICogd2l0aCBsaWdodC1kZWxheWVkIHBvc2l0aW9ucyBvZiBvdGhlciBzaGlwcyBhbmQgbWlzc2lsZXNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZVxuICovXG5leHBvcnQgdHlwZSBTdGF0ZVVwZGF0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdGF0ZVVwZGF0ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG5vdyA9IDE7XG4gICAqL1xuICBub3c6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5HaG9zdCBtZSA9IDI7XG4gICAqL1xuICBtZT86IEdob3N0O1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLkdob3N0IGdob3N0cyA9IDM7XG4gICAqL1xuICBnaG9zdHM6IEdob3N0W107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGEgbWV0YSA9IDQ7XG4gICAqL1xuICBtZXRhPzogUm9vbU1ldGE7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZSBtaXNzaWxlcyA9IDU7XG4gICAqL1xuICBtaXNzaWxlczogTWlzc2lsZVtdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVDb25maWcgbWlzc2lsZV9jb25maWcgPSA2O1xuICAgKi9cbiAgbWlzc2lsZUNvbmZpZz86IE1pc3NpbGVDb25maWc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnQgbWlzc2lsZV93YXlwb2ludHMgPSA3O1xuICAgKi9cbiAgbWlzc2lsZVdheXBvaW50czogV2F5cG9pbnRbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlUm91dGUgbWlzc2lsZV9yb3V0ZXMgPSA4O1xuICAgKi9cbiAgbWlzc2lsZVJvdXRlczogTWlzc2lsZVJvdXRlW107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGFjdGl2ZV9taXNzaWxlX3JvdXRlID0gOTtcbiAgICovXG4gIGFjdGl2ZU1pc3NpbGVSb3V0ZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBuZXh0X21pc3NpbGVfcmVhZHkgPSAxMDtcbiAgICovXG4gIG5leHRNaXNzaWxlUmVhZHk6IG51bWJlcjtcblxuICAvKipcbiAgICogUGhhc2UgMiBhZGRpdGlvbnM6XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhdGUgZGFnID0gMTE7XG4gICAqL1xuICBkYWc/OiBEYWdTdGF0ZTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnkgaW52ZW50b3J5ID0gMTI7XG4gICAqL1xuICBpbnZlbnRvcnk/OiBJbnZlbnRvcnk7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlTdGF0ZSBzdG9yeSA9IDEzO1xuICAgKi9cbiAgc3Rvcnk/OiBTdG9yeVN0YXRlO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG9wdGlvbmFsIGxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllcyBjYXBhYmlsaXRpZXMgPSAxNDtcbiAgICovXG4gIGNhcGFiaWxpdGllcz86IFBsYXllckNhcGFiaWxpdGllcztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0YXRlVXBkYXRlLlxuICogVXNlIGBjcmVhdGUoU3RhdGVVcGRhdGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRlVXBkYXRlU2NoZW1hOiBHZW5NZXNzYWdlPFN0YXRlVXBkYXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMSk7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IFJvb20gZnVsbCBlcnJvclxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlJvb21GdWxsRXJyb3JcbiAqL1xuZXhwb3J0IHR5cGUgUm9vbUZ1bGxFcnJvciA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDE7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Sb29tRnVsbEVycm9yLlxuICogVXNlIGBjcmVhdGUoUm9vbUZ1bGxFcnJvclNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgUm9vbUZ1bGxFcnJvclNjaGVtYTogR2VuTWVzc2FnZTxSb29tRnVsbEVycm9yPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMik7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IEpvaW4gZ2FtZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xpZW50Sm9pbiA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5DbGllbnRKb2luXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvb20gPSAyO1xuICAgKi9cbiAgcm9vbTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtYXBfdyA9IDM7XG4gICAqL1xuICBtYXBXOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1hcF9oID0gNDtcbiAgICovXG4gIG1hcEg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsaWVudEpvaW4uXG4gKiBVc2UgYGNyZWF0ZShDbGllbnRKb2luU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnRKb2luU2NoZW1hOiBHZW5NZXNzYWdlPENsaWVudEpvaW4+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzKTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogU3Bhd24gQUkgYm90XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3RcbiAqL1xuZXhwb3J0IHR5cGUgU3Bhd25Cb3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU3Bhd25Cb3RcIj4gJiB7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TcGF3bkJvdC5cbiAqIFVzZSBgY3JlYXRlKFNwYXduQm90U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTcGF3bkJvdFNjaGVtYTogR2VuTWVzc2FnZTxTcGF3bkJvdD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBBZGQgd2F5cG9pbnQgdG8gc2hpcCByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIEFkZFdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkFkZFdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDE7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSAyO1xuICAgKi9cbiAgeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZCA9IDM7XG4gICAqL1xuICBzcGVlZDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQWRkV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShBZGRXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQWRkV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8QWRkV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA1KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogVXBkYXRlIHdheXBvaW50IHNwZWVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRcbiAqL1xuZXhwb3J0IHR5cGUgVXBkYXRlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlV2F5cG9pbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMTtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gMjtcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5VcGRhdGVXYXlwb2ludC5cbiAqIFVzZSBgY3JlYXRlKFVwZGF0ZVdheXBvaW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBVcGRhdGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxVcGRhdGVXYXlwb2ludD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDYpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBNb3ZlIHdheXBvaW50IHBvc2l0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTW92ZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIE1vdmVXYXlwb2ludCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Nb3ZlV2F5cG9pbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMTtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAyO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMztcbiAgICovXG4gIHk6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1vdmVXYXlwb2ludC5cbiAqIFVzZSBgY3JlYXRlKE1vdmVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTW92ZVdheXBvaW50U2NoZW1hOiBHZW5NZXNzYWdlPE1vdmVXYXlwb2ludD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDcpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBEZWxldGUgd2F5cG9pbnQgZnJvbSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIERlbGV0ZVdheXBvaW50ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDE7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShEZWxldGVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGVsZXRlV2F5cG9pbnRTY2hlbWE6IEdlbk1lc3NhZ2U8RGVsZXRlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA4KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQ2xlYXIgYWxsIHdheXBvaW50c1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyV2F5cG9pbnRzXG4gKi9cbmV4cG9ydCB0eXBlIENsZWFyV2F5cG9pbnRzID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkNsZWFyV2F5cG9pbnRzXCI+ICYge1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJXYXlwb2ludHMuXG4gKiBVc2UgYGNyZWF0ZShDbGVhcldheXBvaW50c1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ2xlYXJXYXlwb2ludHNTY2hlbWE6IEdlbk1lc3NhZ2U8Q2xlYXJXYXlwb2ludHM+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA5KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQ29uZmlndXJlIG1pc3NpbGUgcGFyYW1ldGVyc1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkNvbmZpZ3VyZU1pc3NpbGVcbiAqL1xuZXhwb3J0IHR5cGUgQ29uZmlndXJlTWlzc2lsZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Db25maWd1cmVNaXNzaWxlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWlzc2lsZV9zcGVlZCA9IDE7XG4gICAqL1xuICBtaXNzaWxlU3BlZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWlzc2lsZV9hZ3JvID0gMjtcbiAgICovXG4gIG1pc3NpbGVBZ3JvOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Db25maWd1cmVNaXNzaWxlLlxuICogVXNlIGBjcmVhdGUoQ29uZmlndXJlTWlzc2lsZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ29uZmlndXJlTWlzc2lsZVNjaGVtYTogR2VuTWVzc2FnZTxDb25maWd1cmVNaXNzaWxlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTApO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBBZGQgd2F5cG9pbnQgdG8gbWlzc2lsZSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBBZGRNaXNzaWxlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMjtcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDM7XG4gICAqL1xuICB5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gNDtcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShBZGRNaXNzaWxlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEFkZE1pc3NpbGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxBZGRNaXNzaWxlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxMSk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFVwZGF0ZSBtaXNzaWxlIHdheXBvaW50IHNwZWVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRcbiAqL1xuZXhwb3J0IHR5cGUgVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgaW5kZXggPSAyO1xuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3BlZWQgPSAzO1xuICAgKi9cbiAgc3BlZWQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkLlxuICogVXNlIGBjcmVhdGUoVXBkYXRlTWlzc2lsZVdheXBvaW50U3BlZWRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkU2NoZW1hOiBHZW5NZXNzYWdlPFVwZGF0ZU1pc3NpbGVXYXlwb2ludFNwZWVkPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTIpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBNb3ZlIG1pc3NpbGUgd2F5cG9pbnQgcG9zaXRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Nb3ZlTWlzc2lsZVdheXBvaW50XG4gKi9cbmV4cG9ydCB0eXBlIE1vdmVNaXNzaWxlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTW92ZU1pc3NpbGVXYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBpbmRleCA9IDI7XG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMztcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDQ7XG4gICAqL1xuICB5OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Nb3ZlTWlzc2lsZVdheXBvaW50LlxuICogVXNlIGBjcmVhdGUoTW92ZU1pc3NpbGVXYXlwb2ludFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTW92ZU1pc3NpbGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxNb3ZlTWlzc2lsZVdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTMpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBEZWxldGUgbWlzc2lsZSB3YXlwb2ludFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRlbGV0ZU1pc3NpbGVXYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBEZWxldGVNaXNzaWxlV2F5cG9pbnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVdheXBvaW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGluZGV4ID0gMjtcbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlV2F5cG9pbnQuXG4gKiBVc2UgYGNyZWF0ZShEZWxldGVNaXNzaWxlV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlbGV0ZU1pc3NpbGVXYXlwb2ludFNjaGVtYTogR2VuTWVzc2FnZTxEZWxldGVNaXNzaWxlV2F5cG9pbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxNCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENsZWFyIG1pc3NpbGUgcm91dGUgd2F5cG9pbnRzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJNaXNzaWxlUm91dGVcbiAqL1xuZXhwb3J0IHR5cGUgQ2xlYXJNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuQ2xlYXJNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5DbGVhck1pc3NpbGVSb3V0ZS5cbiAqIFVzZSBgY3JlYXRlKENsZWFyTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGVhck1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxDbGVhck1pc3NpbGVSb3V0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDE1KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogQ3JlYXRlIG5ldyBtaXNzaWxlIHJvdXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuQWRkTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIEFkZE1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5BZGRNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkFkZE1pc3NpbGVSb3V0ZS5cbiAqIFVzZSBgY3JlYXRlKEFkZE1pc3NpbGVSb3V0ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgQWRkTWlzc2lsZVJvdXRlU2NoZW1hOiBHZW5NZXNzYWdlPEFkZE1pc3NpbGVSb3V0ZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDE2KTtcblxuLyoqXG4gKiBDbGllbnQgXHUyMTkyIFNlcnZlcjogUmVuYW1lIG1pc3NpbGUgcm91dGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGVcbiAqL1xuZXhwb3J0IHR5cGUgUmVuYW1lTWlzc2lsZVJvdXRlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlJlbmFtZU1pc3NpbGVSb3V0ZVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHJvdXRlX2lkID0gMTtcbiAgICovXG4gIHJvdXRlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDI7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5SZW5hbWVNaXNzaWxlUm91dGUuXG4gKiBVc2UgYGNyZWF0ZShSZW5hbWVNaXNzaWxlUm91dGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlbmFtZU1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxSZW5hbWVNaXNzaWxlUm91dGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxNyk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IERlbGV0ZSBtaXNzaWxlIHJvdXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGVsZXRlTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIERlbGV0ZU1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyByb3V0ZV9pZCA9IDE7XG4gICAqL1xuICByb3V0ZUlkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EZWxldGVNaXNzaWxlUm91dGUuXG4gKiBVc2UgYGNyZWF0ZShEZWxldGVNaXNzaWxlUm91dGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERlbGV0ZU1pc3NpbGVSb3V0ZVNjaGVtYTogR2VuTWVzc2FnZTxEZWxldGVNaXNzaWxlUm91dGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxOCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFNldCBhY3RpdmUgbWlzc2lsZSByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlNldEFjdGl2ZU1pc3NpbGVSb3V0ZVxuICovXG5leHBvcnQgdHlwZSBTZXRBY3RpdmVNaXNzaWxlUm91dGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuU2V0QWN0aXZlTWlzc2lsZVJvdXRlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU2V0QWN0aXZlTWlzc2lsZVJvdXRlLlxuICogVXNlIGBjcmVhdGUoU2V0QWN0aXZlTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXRBY3RpdmVNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8U2V0QWN0aXZlTWlzc2lsZVJvdXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMTkpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBMYXVuY2ggbWlzc2lsZSBvbiByb3V0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkxhdW5jaE1pc3NpbGVcbiAqL1xuZXhwb3J0IHR5cGUgTGF1bmNoTWlzc2lsZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5MYXVuY2hNaXNzaWxlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcm91dGVfaWQgPSAxO1xuICAgKi9cbiAgcm91dGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTGF1bmNoTWlzc2lsZS5cbiAqIFVzZSBgY3JlYXRlKExhdW5jaE1pc3NpbGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IExhdW5jaE1pc3NpbGVTY2hlbWE6IEdlbk1lc3NhZ2U8TGF1bmNoTWlzc2lsZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIwKTtcblxuLyoqXG4gKiBTaGlwL2dob3N0IHNuYXBzaG90IHdpdGggcG9zaXRpb24sIHZlbG9jaXR5LCBhbmQgc3RhdGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5HaG9zdFxuICovXG5leHBvcnQgdHlwZSBHaG9zdCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5HaG9zdFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGlkID0gMTtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAyO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMztcbiAgICovXG4gIHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdnggPSA0O1xuICAgKi9cbiAgdng6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdnkgPSA1O1xuICAgKi9cbiAgdnk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdCA9IDY7XG4gICAqL1xuICB0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogYm9vbCBzZWxmID0gNztcbiAgICovXG4gIHNlbGY6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgbGlnaHRzcGVlZGR1ZWwud3MuV2F5cG9pbnQgd2F5cG9pbnRzID0gODtcbiAgICovXG4gIHdheXBvaW50czogV2F5cG9pbnRbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBjdXJyZW50X3dheXBvaW50X2luZGV4ID0gOTtcbiAgICovXG4gIGN1cnJlbnRXYXlwb2ludEluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgaHAgPSAxMDtcbiAgICovXG4gIGhwOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIga2lsbHMgPSAxMTtcbiAgICovXG4gIGtpbGxzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3IGhlYXQgPSAxMjtcbiAgICovXG4gIGhlYXQ/OiBTaGlwSGVhdFZpZXc7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5HaG9zdC5cbiAqIFVzZSBgY3JlYXRlKEdob3N0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBHaG9zdFNjaGVtYTogR2VuTWVzc2FnZTxHaG9zdD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDIxKTtcblxuLyoqXG4gKiBXYXlwb2ludCB3aXRoIHBvc2l0aW9uIGFuZCB0YXJnZXQgc3BlZWRcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludFxuICovXG5leHBvcnQgdHlwZSBXYXlwb2ludCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHggPSAxO1xuICAgKi9cbiAgeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB5ID0gMjtcbiAgICovXG4gIHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3BlZWQgPSAzO1xuICAgKi9cbiAgc3BlZWQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLldheXBvaW50LlxuICogVXNlIGBjcmVhdGUoV2F5cG9pbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFdheXBvaW50U2NoZW1hOiBHZW5NZXNzYWdlPFdheXBvaW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjIpO1xuXG4vKipcbiAqIFJvb20gY29uc3RhbnRzIChzcGVlZCBvZiBsaWdodCwgd29ybGQgZGltZW5zaW9ucylcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5Sb29tTWV0YVxuICovXG5leHBvcnQgdHlwZSBSb29tTWV0YSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5Sb29tTWV0YVwiPiAmIHtcbiAgLyoqXG4gICAqIFNwZWVkIG9mIGxpZ2h0XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGMgPSAxO1xuICAgKi9cbiAgYzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBXb3JsZCB3aWR0aFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB3ID0gMjtcbiAgICovXG4gIHc6IG51bWJlcjtcblxuICAvKipcbiAgICogV29ybGQgaGVpZ2h0XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGggPSAzO1xuICAgKi9cbiAgaDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuUm9vbU1ldGEuXG4gKiBVc2UgYGNyZWF0ZShSb29tTWV0YVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgUm9vbU1ldGFTY2hlbWE6IEdlbk1lc3NhZ2U8Um9vbU1ldGE+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyMyk7XG5cbi8qKlxuICogTWlzc2lsZSBzbmFwc2hvdCB3aXRoIHBvc2l0aW9uLCB2ZWxvY2l0eSwgYW5kIHRhcmdldGluZ1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lsZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgb3duZXIgPSAyO1xuICAgKi9cbiAgb3duZXI6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBib29sIHNlbGYgPSAzO1xuICAgKi9cbiAgc2VsZjogYm9vbGVhbjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeCA9IDQ7XG4gICAqL1xuICB4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHkgPSA1O1xuICAgKi9cbiAgeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB2eCA9IDY7XG4gICAqL1xuICB2eDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB2eSA9IDc7XG4gICAqL1xuICB2eTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB0ID0gODtcbiAgICovXG4gIHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgYWdyb19yYWRpdXMgPSA5O1xuICAgKi9cbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBsaWZldGltZSA9IDEwO1xuICAgKi9cbiAgbGlmZXRpbWU6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbGF1bmNoX3RpbWUgPSAxMTtcbiAgICovXG4gIGxhdW5jaFRpbWU6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZXhwaXJlc19hdCA9IDEyO1xuICAgKi9cbiAgZXhwaXJlc0F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHRhcmdldF9pZCA9IDEzO1xuICAgKi9cbiAgdGFyZ2V0SWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5TaGlwSGVhdFZpZXcgaGVhdCA9IDE0O1xuICAgKi9cbiAgaGVhdD86IFNoaXBIZWF0Vmlldztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGUuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaWxlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaWxlU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3NpbGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyNCk7XG5cbi8qKlxuICogTWlzc2lsZSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlQ29uZmlnXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3NpbGVDb25maWcgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZUNvbmZpZ1wiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkID0gMTtcbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkX21pbiA9IDI7XG4gICAqL1xuICBzcGVlZE1pbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzcGVlZF9tYXggPSAzO1xuICAgKi9cbiAgc3BlZWRNYXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgYWdyb19taW4gPSA0O1xuICAgKi9cbiAgYWdyb01pbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBhZ3JvX3JhZGl1cyA9IDU7XG4gICAqL1xuICBhZ3JvUmFkaXVzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGxpZmV0aW1lID0gNjtcbiAgICovXG4gIGxpZmV0aW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuSGVhdFBhcmFtcyBoZWF0X2NvbmZpZyA9IDc7XG4gICAqL1xuICBoZWF0Q29uZmlnPzogSGVhdFBhcmFtcztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3NpbGVDb25maWcuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaWxlQ29uZmlnU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaWxlQ29uZmlnU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3NpbGVDb25maWc+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyNSk7XG5cbi8qKlxuICogTWlzc2lsZSByb3V0ZSBkZWZpbml0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlXG4gKi9cbmV4cG9ydCB0eXBlIE1pc3NpbGVSb3V0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaWxlUm91dGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBpZCA9IDE7XG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBuYW1lID0gMjtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5XYXlwb2ludCB3YXlwb2ludHMgPSAzO1xuICAgKi9cbiAgd2F5cG9pbnRzOiBXYXlwb2ludFtdO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lsZVJvdXRlLlxuICogVXNlIGBjcmVhdGUoTWlzc2lsZVJvdXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaWxlUm91dGVTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lsZVJvdXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjYpO1xuXG4vKipcbiAqIEhlYXQgdmlldyAoYWJicmV2aWF0ZWQgZmllbGQgbmFtZXMgbWF0Y2ggSlNPTilcbiAqIFVzZWQgZm9yIGJvdGggc2hpcHMgYW5kIG1pc3NpbGVzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3XG4gKi9cbmV4cG9ydCB0eXBlIFNoaXBIZWF0VmlldyA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TaGlwSGVhdFZpZXdcIj4gJiB7XG4gIC8qKlxuICAgKiB2YWx1ZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB2ID0gMTtcbiAgICovXG4gIHY6IG51bWJlcjtcblxuICAvKipcbiAgICogbWF4XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG0gPSAyO1xuICAgKi9cbiAgbTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiB3YXJuQXRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdyA9IDM7XG4gICAqL1xuICB3OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIG92ZXJoZWF0QXRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbyA9IDQ7XG4gICAqL1xuICBvOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIG1hcmtlclNwZWVkXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG1zID0gNTtcbiAgICovXG4gIG1zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIHN0YWxsVW50aWxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3UgPSA2O1xuICAgKi9cbiAgc3U6IG51bWJlcjtcblxuICAvKipcbiAgICoga1VwXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGt1ID0gNztcbiAgICovXG4gIGt1OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGtEb3duXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGtkID0gODtcbiAgICovXG4gIGtkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGV4cFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBleCA9IDk7XG4gICAqL1xuICBleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU2hpcEhlYXRWaWV3LlxuICogVXNlIGBjcmVhdGUoU2hpcEhlYXRWaWV3U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTaGlwSGVhdFZpZXdTY2hlbWE6IEdlbk1lc3NhZ2U8U2hpcEhlYXRWaWV3PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjcpO1xuXG4vKipcbiAqIEhlYXQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSGVhdFBhcmFtc1xuICovXG5leHBvcnQgdHlwZSBIZWF0UGFyYW1zID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkhlYXRQYXJhbXNcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBtYXggPSAxO1xuICAgKi9cbiAgbWF4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHdhcm5fYXQgPSAyO1xuICAgKi9cbiAgd2FybkF0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG92ZXJoZWF0X2F0ID0gMztcbiAgICovXG4gIG92ZXJoZWF0QXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgbWFya2VyX3NwZWVkID0gNDtcbiAgICovXG4gIG1hcmtlclNwZWVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGtfdXAgPSA1O1xuICAgKi9cbiAga1VwOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIGtfZG93biA9IDY7XG4gICAqL1xuICBrRG93bjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBleHAgPSA3O1xuICAgKi9cbiAgZXhwOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5IZWF0UGFyYW1zLlxuICogVXNlIGBjcmVhdGUoSGVhdFBhcmFtc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgSGVhdFBhcmFtc1NjaGVtYTogR2VuTWVzc2FnZTxIZWF0UGFyYW1zPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMjgpO1xuXG4vKipcbiAqIFVwZ3JhZGUgZWZmZWN0IGRlZmluaXRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0XG4gKi9cbmV4cG9ydCB0eXBlIFVwZ3JhZGVFZmZlY3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdFR5cGUgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBVcGdyYWRlRWZmZWN0VHlwZTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIG9uZW9mIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3QudmFsdWVcbiAgICovXG4gIHZhbHVlOiB7XG4gICAgLyoqXG4gICAgICogRm9yIHNwZWVkL2hlYXQgbXVsdGlwbGllcnNcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIG11bHRpcGxpZXIgPSAyO1xuICAgICAqL1xuICAgIHZhbHVlOiBudW1iZXI7XG4gICAgY2FzZTogXCJtdWx0aXBsaWVyXCI7XG4gIH0gfCB7XG4gICAgLyoqXG4gICAgICogRm9yIG1pc3NpbGUgdW5sb2NrcyAoZS5nLiwgXCJzY291dFwiKVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdW5sb2NrX2lkID0gMztcbiAgICAgKi9cbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIGNhc2U6IFwidW5sb2NrSWRcIjtcbiAgfSB8IHsgY2FzZTogdW5kZWZpbmVkOyB2YWx1ZT86IHVuZGVmaW5lZCB9O1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuVXBncmFkZUVmZmVjdC5cbiAqIFVzZSBgY3JlYXRlKFVwZ3JhZGVFZmZlY3RTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVwZ3JhZGVFZmZlY3RTY2hlbWE6IEdlbk1lc3NhZ2U8VXBncmFkZUVmZmVjdD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDI5KTtcblxuLyoqXG4gKiBQbGF5ZXIgY2FwYWJpbGl0aWVzIChjb21wdXRlZCBmcm9tIGNvbXBsZXRlZCB1cGdyYWRlcylcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5QbGF5ZXJDYXBhYmlsaXRpZXNcbiAqL1xuZXhwb3J0IHR5cGUgUGxheWVyQ2FwYWJpbGl0aWVzID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllc1wiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHNwZWVkX211bHRpcGxpZXIgPSAxO1xuICAgKi9cbiAgc3BlZWRNdWx0aXBsaWVyOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIHVubG9ja2VkX21pc3NpbGVzID0gMjtcbiAgICovXG4gIHVubG9ja2VkTWlzc2lsZXM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBoZWF0X2NhcGFjaXR5ID0gMztcbiAgICovXG4gIGhlYXRDYXBhY2l0eTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBoZWF0X2VmZmljaWVuY3kgPSA0O1xuICAgKi9cbiAgaGVhdEVmZmljaWVuY3k6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlBsYXllckNhcGFiaWxpdGllcy5cbiAqIFVzZSBgY3JlYXRlKFBsYXllckNhcGFiaWxpdGllc1NjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgUGxheWVyQ2FwYWJpbGl0aWVzU2NoZW1hOiBHZW5NZXNzYWdlPFBsYXllckNhcGFiaWxpdGllcz4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDMwKTtcblxuLyoqXG4gKiBEQUcgbm9kZSBzdGF0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVcbiAqL1xuZXhwb3J0IHR5cGUgRGFnTm9kZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgaWQgPSAxO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlS2luZCBraW5kID0gMjtcbiAgICovXG4gIGtpbmQ6IERhZ05vZGVLaW5kO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBsYWJlbCA9IDM7XG4gICAqL1xuICBsYWJlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVTdGF0dXMgc3RhdHVzID0gNDtcbiAgICovXG4gIHN0YXR1czogRGFnTm9kZVN0YXR1cztcblxuICAvKipcbiAgICogVGltZSByZW1haW5pbmcgZm9yIGluLXByb2dyZXNzIGpvYnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgcmVtYWluaW5nX3MgPSA1O1xuICAgKi9cbiAgcmVtYWluaW5nUzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUb3RhbCBkdXJhdGlvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBkdXJhdGlvbl9zID0gNjtcbiAgICovXG4gIGR1cmF0aW9uUzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYW4gYmUgcmVwZWF0ZWQgYWZ0ZXIgY29tcGxldGlvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGJvb2wgcmVwZWF0YWJsZSA9IDc7XG4gICAqL1xuICByZXBlYXRhYmxlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBPbmx5IHBvcHVsYXRlZCBmb3IgdXBncmFkZSBub2Rlc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3QgZWZmZWN0cyA9IDg7XG4gICAqL1xuICBlZmZlY3RzOiBVcGdyYWRlRWZmZWN0W107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdOb2RlLlxuICogVXNlIGBjcmVhdGUoRGFnTm9kZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnTm9kZVNjaGVtYTogR2VuTWVzc2FnZTxEYWdOb2RlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzEpO1xuXG4vKipcbiAqIEZ1bGwgREFHIHN0YXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhdGVcbiAqL1xuZXhwb3J0IHR5cGUgRGFnU3RhdGUgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhdGVcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGUgbm9kZXMgPSAxO1xuICAgKi9cbiAgbm9kZXM6IERhZ05vZGVbXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlLlxuICogVXNlIGBjcmVhdGUoRGFnU3RhdGVTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ1N0YXRlU2NoZW1hOiBHZW5NZXNzYWdlPERhZ1N0YXRlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzIpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBTdGFydCBhIERBRyBub2RlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhcnRcbiAqL1xuZXhwb3J0IHR5cGUgRGFnU3RhcnQgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhcnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBub2RlX2lkID0gMTtcbiAgICovXG4gIG5vZGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnU3RhcnQuXG4gKiBVc2UgYGNyZWF0ZShEYWdTdGFydFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnU3RhcnRTY2hlbWE6IEdlbk1lc3NhZ2U8RGFnU3RhcnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzMyk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IENhbmNlbCBhIERBRyBub2RlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnQ2FuY2VsXG4gKi9cbmV4cG9ydCB0eXBlIERhZ0NhbmNlbCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdDYW5jZWxcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBub2RlX2lkID0gMTtcbiAgICovXG4gIG5vZGVJZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnQ2FuY2VsLlxuICogVXNlIGBjcmVhdGUoRGFnQ2FuY2VsU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdDYW5jZWxTY2hlbWE6IEdlbk1lc3NhZ2U8RGFnQ2FuY2VsPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzQpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBBY2tub3dsZWRnZSBzdG9yeSBkaWFsb2d1ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrXG4gKi9cbmV4cG9ydCB0eXBlIERhZ1N0b3J5QWNrID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbm9kZV9pZCA9IDE7XG4gICAqL1xuICBub2RlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogRW1wdHkgaWYganVzdCBjb250aW51ZSAobm8gY2hvaWNlKVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBjaG9pY2VfaWQgPSAyO1xuICAgKi9cbiAgY2hvaWNlSWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0b3J5QWNrLlxuICogVXNlIGBjcmVhdGUoRGFnU3RvcnlBY2tTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ1N0b3J5QWNrU2NoZW1hOiBHZW5NZXNzYWdlPERhZ1N0b3J5QWNrPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgMzUpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBSZXF1ZXN0IGZ1bGwgREFHIGxpc3RcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5EYWdMaXN0XG4gKi9cbmV4cG9ydCB0eXBlIERhZ0xpc3QgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFwiPiAmIHtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3QuXG4gKiBVc2UgYGNyZWF0ZShEYWdMaXN0U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBEYWdMaXN0U2NoZW1hOiBHZW5NZXNzYWdlPERhZ0xpc3Q+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAzNik7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IERBRyBsaXN0IHJlc3BvbnNlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuRGFnTGlzdFJlc3BvbnNlXG4gKi9cbmV4cG9ydCB0eXBlIERhZ0xpc3RSZXNwb25zZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5EYWdMaXN0UmVzcG9uc2VcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLkRhZ1N0YXRlIGRhZyA9IDE7XG4gICAqL1xuICBkYWc/OiBEYWdTdGF0ZTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ0xpc3RSZXNwb25zZS5cbiAqIFVzZSBgY3JlYXRlKERhZ0xpc3RSZXNwb25zZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgRGFnTGlzdFJlc3BvbnNlU2NoZW1hOiBHZW5NZXNzYWdlPERhZ0xpc3RSZXNwb25zZT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM3KTtcblxuLyoqXG4gKiBJbnZlbnRvcnkgaXRlbVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW1cbiAqL1xuZXhwb3J0IHR5cGUgSW52ZW50b3J5SXRlbSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnlJdGVtXCI+ICYge1xuICAvKipcbiAgICogXCJtaXNzaWxlXCIsIFwiY29tcG9uZW50XCIsIGV0Yy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljIHZhcmlhbnQgaWRlbnRpZmllclxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB2YXJpYW50X2lkID0gMjtcbiAgICovXG4gIHZhcmlhbnRJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIZWF0IGNhcGFjaXR5IGZvciB0aGlzIGl0ZW1cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaGVhdF9jYXBhY2l0eSA9IDM7XG4gICAqL1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcblxuICAvKipcbiAgICogU3RhY2sgcXVhbnRpdHlcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBxdWFudGl0eSA9IDQ7XG4gICAqL1xuICBxdWFudGl0eTogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5SXRlbS5cbiAqIFVzZSBgY3JlYXRlKEludmVudG9yeUl0ZW1TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEludmVudG9yeUl0ZW1TY2hlbWE6IEdlbk1lc3NhZ2U8SW52ZW50b3J5SXRlbT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM4KTtcblxuLyoqXG4gKiBQbGF5ZXIgaW52ZW50b3J5XG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuSW52ZW50b3J5XG4gKi9cbmV4cG9ydCB0eXBlIEludmVudG9yeSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5JbnZlbnRvcnlcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeUl0ZW0gaXRlbXMgPSAxO1xuICAgKi9cbiAgaXRlbXM6IEludmVudG9yeUl0ZW1bXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLkludmVudG9yeS5cbiAqIFVzZSBgY3JlYXRlKEludmVudG9yeVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgSW52ZW50b3J5U2NoZW1hOiBHZW5NZXNzYWdlPEludmVudG9yeT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDM5KTtcblxuLyoqXG4gKiBTdG9yeSBkaWFsb2d1ZSBjaG9pY2Ugb3B0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZUNob2ljZVxuICovXG5leHBvcnQgdHlwZSBTdG9yeURpYWxvZ3VlQ2hvaWNlID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2VcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBpZCA9IDE7XG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0ZXh0ID0gMjtcbiAgICovXG4gIHRleHQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2UuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeURpYWxvZ3VlQ2hvaWNlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeURpYWxvZ3VlQ2hvaWNlU2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5RGlhbG9ndWVDaG9pY2U+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0MCk7XG5cbi8qKlxuICogU3RvcnkgdHV0b3JpYWwgdGlwXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlUdXRvcmlhbFRpcFxuICovXG5leHBvcnQgdHlwZSBTdG9yeVR1dG9yaWFsVGlwID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5VHV0b3JpYWxUaXBcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0aXRsZSA9IDE7XG4gICAqL1xuICB0aXRsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyB0ZXh0ID0gMjtcbiAgICovXG4gIHRleHQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5VHV0b3JpYWxUaXAuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeVR1dG9yaWFsVGlwU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeVR1dG9yaWFsVGlwU2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5VHV0b3JpYWxUaXA+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0MSk7XG5cbi8qKlxuICogU3RvcnkgZGlhbG9ndWUgY29udGVudFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlEaWFsb2d1ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgc3BlYWtlciA9IDE7XG4gICAqL1xuICBzcGVha2VyOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHRleHQgPSAyO1xuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5SW50ZW50IGludGVudCA9IDM7XG4gICAqL1xuICBpbnRlbnQ6IFN0b3J5SW50ZW50O1xuXG4gIC8qKlxuICAgKiBFbXB0eSA9IGRlZmF1bHQgXCJDb250aW51ZVwiXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGNvbnRpbnVlX2xhYmVsID0gNDtcbiAgICovXG4gIGNvbnRpbnVlTGFiZWw6IHN0cmluZztcblxuICAvKipcbiAgICogRW1wdHkgPSBzaG93IGNvbnRpbnVlIGJ1dHRvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RGlhbG9ndWVDaG9pY2UgY2hvaWNlcyA9IDU7XG4gICAqL1xuICBjaG9pY2VzOiBTdG9yeURpYWxvZ3VlQ2hvaWNlW107XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGdhbWVwbGF5IGhpbnRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBvcHRpb25hbCBsaWdodHNwZWVkZHVlbC53cy5TdG9yeVR1dG9yaWFsVGlwIHR1dG9yaWFsX3RpcCA9IDY7XG4gICAqL1xuICB0dXRvcmlhbFRpcD86IFN0b3J5VHV0b3JpYWxUaXA7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5TdG9yeURpYWxvZ3VlLlxuICogVXNlIGBjcmVhdGUoU3RvcnlEaWFsb2d1ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgU3RvcnlEaWFsb2d1ZVNjaGVtYTogR2VuTWVzc2FnZTxTdG9yeURpYWxvZ3VlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDIpO1xuXG4vKipcbiAqIFN0b3J5IGV2ZW50IChoaXN0b3J5IGVudHJ5KVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RXZlbnRcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlFdmVudCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeUV2ZW50XCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgY2hhcHRlcl9pZCA9IDE7XG4gICAqL1xuICBjaGFwdGVySWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbm9kZV9pZCA9IDI7XG4gICAqL1xuICBub2RlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgdGltZXN0YW1wID0gMztcbiAgICovXG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlFdmVudC5cbiAqIFVzZSBgY3JlYXRlKFN0b3J5RXZlbnRTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3J5RXZlbnRTY2hlbWE6IEdlbk1lc3NhZ2U8U3RvcnlFdmVudD4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQzKTtcblxuLyoqXG4gKiBTdG9yeSBzdGF0ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGVcbiAqL1xuZXhwb3J0IHR5cGUgU3RvcnlTdGF0ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5TdG9yeVN0YXRlXCI+ICYge1xuICAvKipcbiAgICogQ3VycmVudGx5IGFjdGl2ZSBzdG9yeSBub2RlIElEXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIGFjdGl2ZV9ub2RlID0gMTtcbiAgICovXG4gIGFjdGl2ZU5vZGU6IHN0cmluZztcblxuICAvKipcbiAgICogRnVsbCBkaWFsb2d1ZSBjb250ZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogb3B0aW9uYWwgbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlEaWFsb2d1ZSBkaWFsb2d1ZSA9IDI7XG4gICAqL1xuICBkaWFsb2d1ZT86IFN0b3J5RGlhbG9ndWU7XG5cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBzdG9yeSBub2RlIElEc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIHN0cmluZyBhdmFpbGFibGUgPSAzO1xuICAgKi9cbiAgYXZhaWxhYmxlOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogU3RvcnkgZmxhZ3MgZm9yIGJyYW5jaGluZ1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IG1hcDxzdHJpbmcsIGJvb2w+IGZsYWdzID0gNDtcbiAgICovXG4gIGZsYWdzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcblxuICAvKipcbiAgICogUmVjZW50IHN0b3J5IGV2ZW50c1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5RXZlbnQgcmVjZW50X2V2ZW50cyA9IDU7XG4gICAqL1xuICByZWNlbnRFdmVudHM6IFN0b3J5RXZlbnRbXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5U3RhdGUuXG4gKiBVc2UgYGNyZWF0ZShTdG9yeVN0YXRlU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeVN0YXRlU2NoZW1hOiBHZW5NZXNzYWdlPFN0b3J5U3RhdGU+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0NCk7XG5cbi8qKlxuICogQ2xpZW50IFx1MjE5MiBTZXJ2ZXI6IFNwYXduIG1pc3Npb24gd2F2ZVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25TcGF3bldhdmVcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvblNwYXduV2F2ZSA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3Bhd25XYXZlXCI+ICYge1xuICAvKipcbiAgICogMSwgMiwgb3IgM1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIHdhdmVfaW5kZXggPSAxO1xuICAgKi9cbiAgd2F2ZUluZGV4OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3Bhd25XYXZlLlxuICogVXNlIGBjcmVhdGUoTWlzc2lvblNwYXduV2F2ZVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvblNwYXduV2F2ZVNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uU3Bhd25XYXZlPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDUpO1xuXG4vKipcbiAqIENsaWVudCBcdTIxOTIgU2VydmVyOiBUcmlnZ2VyIG1pc3Npb24gc3RvcnkgZXZlbnRcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3RvcnlFdmVudFxuICovXG5leHBvcnQgdHlwZSBNaXNzaW9uU3RvcnlFdmVudCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uU3RvcnlFdmVudFwiPiAmIHtcbiAgLyoqXG4gICAqIGUuZy4gXCJtaXNzaW9uOnN0YXJ0XCIsIFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgZXZlbnQgPSAxO1xuICAgKi9cbiAgZXZlbnQ6IHN0cmluZztcblxuICAvKipcbiAgICogQmVhY29uIGluZGV4IGZvciBiZWFjb24tc3BlY2lmaWMgZXZlbnRzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgYmVhY29uID0gMjtcbiAgICovXG4gIGJlYWNvbjogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvblN0b3J5RXZlbnQuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uU3RvcnlFdmVudFNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvblN0b3J5RXZlbnRTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvblN0b3J5RXZlbnQ+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0Nik7XG5cbi8qKlxuICogU2VydmVyIFx1MjE5MiBDbGllbnQ6IE1pc3Npb24gYmVhY29uIGF1dGhvcml0YXRpdmUgc25hcHNob3RcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uU25hcHNob3RcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvbkJlYWNvblNuYXBzaG90ID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25TbmFwc2hvdFwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIG1pc3Npb25faWQgPSAxO1xuICAgKi9cbiAgbWlzc2lvbklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogdWludDY0IGxheW91dF9zZWVkID0gMjtcbiAgICovXG4gIGxheW91dFNlZWQ6IGJpZ2ludDtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc2VydmVyX3RpbWUgPSAzO1xuICAgKi9cbiAgc2VydmVyVGltZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWZpbml0aW9uIGJlYWNvbnMgPSA0O1xuICAgKi9cbiAgYmVhY29uczogTWlzc2lvbkJlYWNvbkRlZmluaXRpb25bXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyIHBsYXllcnMgPSA1O1xuICAgKi9cbiAgcGxheWVyczogTWlzc2lvbkJlYWNvblBsYXllcltdO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHJlcGVhdGVkIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25FbmNvdW50ZXIgZW5jb3VudGVycyA9IDY7XG4gICAqL1xuICBlbmNvdW50ZXJzOiBNaXNzaW9uQmVhY29uRW5jb3VudGVyW107XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uU25hcHNob3QuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uQmVhY29uU25hcHNob3RTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25CZWFjb25TbmFwc2hvdFNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uQmVhY29uU25hcHNob3Q+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0Nyk7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlZmluaXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvbkJlYWNvbkRlZmluaXRpb24gPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlZmluaXRpb25cIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBpZCA9IDE7XG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIG9yZGluYWwgPSAyO1xuICAgKi9cbiAgb3JkaW5hbDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSB4ID0gMztcbiAgICovXG4gIHg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgeSA9IDQ7XG4gICAqL1xuICB5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogZG91YmxlIHJhZGl1cyA9IDU7XG4gICAqL1xuICByYWRpdXM6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQ2NCBzZWVkID0gNjtcbiAgICovXG4gIHNlZWQ6IGJpZ2ludDtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWZpbml0aW9uLlxuICogVXNlIGBjcmVhdGUoTWlzc2lvbkJlYWNvbkRlZmluaXRpb25TY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25CZWFjb25EZWZpbml0aW9uU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3Npb25CZWFjb25EZWZpbml0aW9uPiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNDgpO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25QbGF5ZXJcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvbkJlYWNvblBsYXllciA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcGxheWVyX2lkID0gMTtcbiAgICovXG4gIHBsYXllcklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgY3VycmVudF9pbmRleCA9IDI7XG4gICAqL1xuICBjdXJyZW50SW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaG9sZF9hY2N1bSA9IDM7XG4gICAqL1xuICBob2xkQWNjdW06IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaG9sZF9yZXF1aXJlZCA9IDQ7XG4gICAqL1xuICBob2xkUmVxdWlyZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgYWN0aXZlX2JlYWNvbiA9IDU7XG4gICAqL1xuICBhY3RpdmVCZWFjb246IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgZGlzY292ZXJlZCA9IDY7XG4gICAqL1xuICBkaXNjb3ZlcmVkOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgY29tcGxldGVkID0gNztcbiAgICovXG4gIGNvbXBsZXRlZDogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbWFwPHN0cmluZywgZG91YmxlPiBjb29sZG93bnMgPSA4O1xuICAgKi9cbiAgY29vbGRvd25zOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvblBsYXllci5cbiAqIFVzZSBgY3JlYXRlKE1pc3Npb25CZWFjb25QbGF5ZXJTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25CZWFjb25QbGF5ZXJTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvbkJlYWNvblBsYXllcj4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDQ5KTtcblxuLyoqXG4gKiBTZXJ2ZXIgXHUyMTkyIENsaWVudDogaW5jcmVtZW50YWwgbWlzc2lvbiBiZWFjb24gdXBkYXRlc1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YVxuICovXG5leHBvcnQgdHlwZSBNaXNzaW9uQmVhY29uRGVsdGEgPSBNZXNzYWdlPFwibGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlbHRhXCI+ICYge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyRGVsdGEgcGxheWVycyA9IDE7XG4gICAqL1xuICBwbGF5ZXJzOiBNaXNzaW9uQmVhY29uUGxheWVyRGVsdGFbXTtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnQgZW5jb3VudGVycyA9IDI7XG4gICAqL1xuICBlbmNvdW50ZXJzOiBNaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnRbXTtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YS5cbiAqIFVzZSBgY3JlYXRlKE1pc3Npb25CZWFjb25EZWx0YVNjaGVtYSlgIHRvIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvbkJlYWNvbkRlbHRhU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3Npb25CZWFjb25EZWx0YT4gPSAvKkBfX1BVUkVfXyovXG4gIG1lc3NhZ2VEZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDUwKTtcblxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyRGVsdGFcbiAqL1xuZXhwb3J0IHR5cGUgTWlzc2lvbkJlYWNvblBsYXllckRlbHRhID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25QbGF5ZXJEZWx0YVwiPiAmIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkRlbHRhVHlwZSB0eXBlID0gMTtcbiAgICovXG4gIHR5cGU6IE1pc3Npb25CZWFjb25EZWx0YVR5cGU7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogc3RyaW5nIHBsYXllcl9pZCA9IDI7XG4gICAqL1xuICBwbGF5ZXJJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBiZWFjb25faWQgPSAzO1xuICAgKi9cbiAgYmVhY29uSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBpbnQzMiBvcmRpbmFsID0gNDtcbiAgICovXG4gIG9yZGluYWw6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaG9sZF9hY2N1bSA9IDU7XG4gICAqL1xuICBob2xkQWNjdW06IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgaG9sZF9yZXF1aXJlZCA9IDY7XG4gICAqL1xuICBob2xkUmVxdWlyZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgY29vbGRvd25fdW50aWwgPSA3O1xuICAgKi9cbiAgY29vbGRvd25VbnRpbDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGRvdWJsZSBzZXJ2ZXJfdGltZSA9IDg7XG4gICAqL1xuICBzZXJ2ZXJUaW1lOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgbWVzc2FnZSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uUGxheWVyRGVsdGEuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uQmVhY29uUGxheWVyRGVsdGFTY2hlbWEpYCB0byBjcmVhdGUgYSBuZXcgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1pc3Npb25CZWFjb25QbGF5ZXJEZWx0YVNjaGVtYTogR2VuTWVzc2FnZTxNaXNzaW9uQmVhY29uUGxheWVyRGVsdGE+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA1MSk7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlclxuICovXG5leHBvcnQgdHlwZSBNaXNzaW9uQmVhY29uRW5jb3VudGVyID0gTWVzc2FnZTxcImxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25FbmNvdW50ZXJcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBlbmNvdW50ZXJfaWQgPSAxO1xuICAgKi9cbiAgZW5jb3VudGVySWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgYmVhY29uX2lkID0gMjtcbiAgICovXG4gIGJlYWNvbklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgd2F2ZV9pbmRleCA9IDM7XG4gICAqL1xuICB3YXZlSW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3Bhd25lZF9hdCA9IDQ7XG4gICAqL1xuICBzcGF3bmVkQXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZXhwaXJlc19hdCA9IDU7XG4gICAqL1xuICBleHBpcmVzQXQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtZXNzYWdlIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25FbmNvdW50ZXIuXG4gKiBVc2UgYGNyZWF0ZShNaXNzaW9uQmVhY29uRW5jb3VudGVyU2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uRW5jb3VudGVyU2NoZW1hOiBHZW5NZXNzYWdlPE1pc3Npb25CZWFjb25FbmNvdW50ZXI+ID0gLypAX19QVVJFX18qL1xuICBtZXNzYWdlRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA1Mik7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50XG4gKi9cbmV4cG9ydCB0eXBlIE1pc3Npb25CZWFjb25FbmNvdW50ZXJFdmVudCA9IE1lc3NhZ2U8XCJsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnRcIj4gJiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGUgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBNaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlO1xuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IHN0cmluZyBlbmNvdW50ZXJfaWQgPSAyO1xuICAgKi9cbiAgZW5jb3VudGVySWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgYmVhY29uX2lkID0gMztcbiAgICovXG4gIGJlYWNvbklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBmaWVsZDogaW50MzIgd2F2ZV9pbmRleCA9IDQ7XG4gICAqL1xuICB3YXZlSW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgc3Bhd25lZF9hdCA9IDU7XG4gICAqL1xuICBzcGF3bmVkQXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBkb3VibGUgZXhwaXJlc19hdCA9IDY7XG4gICAqL1xuICBleHBpcmVzQXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgcmVhc29uID0gNztcbiAgICovXG4gIHJlYXNvbjogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1lc3NhZ2UgbGlnaHRzcGVlZGR1ZWwud3MuTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50LlxuICogVXNlIGBjcmVhdGUoTWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50U2NoZW1hKWAgdG8gY3JlYXRlIGEgbmV3IG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uRW5jb3VudGVyRXZlbnRTY2hlbWE6IEdlbk1lc3NhZ2U8TWlzc2lvbkJlYWNvbkVuY291bnRlckV2ZW50PiA9IC8qQF9fUFVSRV9fKi9cbiAgbWVzc2FnZURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNTMpO1xuXG4vKipcbiAqIERBRyBub2RlIHN0YXR1cyBlbnVtXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZVN0YXR1c1xuICovXG5leHBvcnQgZW51bSBEYWdOb2RlU3RhdHVzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9TVEFUVVNfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfU1RBVFVTX0xPQ0tFRCA9IDE7XG4gICAqL1xuICBMT0NLRUQgPSAxLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfU1RBVFVTX0FWQUlMQUJMRSA9IDI7XG4gICAqL1xuICBBVkFJTEFCTEUgPSAyLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfU1RBVFVTX0lOX1BST0dSRVNTID0gMztcbiAgICovXG4gIElOX1BST0dSRVNTID0gMyxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX1NUQVRVU19DT01QTEVURUQgPSA0O1xuICAgKi9cbiAgQ09NUExFVEVEID0gNCxcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuRGFnTm9kZVN0YXR1cy5cbiAqL1xuZXhwb3J0IGNvbnN0IERhZ05vZGVTdGF0dXNTY2hlbWE6IEdlbkVudW08RGFnTm9kZVN0YXR1cz4gPSAvKkBfX1BVUkVfXyovXG4gIGVudW1EZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDApO1xuXG4vKipcbiAqIERBRyBub2RlIGtpbmQgZW51bVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVLaW5kXG4gKi9cbmV4cG9ydCBlbnVtIERhZ05vZGVLaW5kIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBEQUdfTk9ERV9LSU5EX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX0tJTkRfRkFDVE9SWSA9IDE7XG4gICAqL1xuICBGQUNUT1JZID0gMSxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX0tJTkRfVU5JVCA9IDI7XG4gICAqL1xuICBVTklUID0gMixcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IERBR19OT0RFX0tJTkRfU1RPUlkgPSAzO1xuICAgKi9cbiAgU1RPUlkgPSAzLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogREFHX05PREVfS0lORF9DUkFGVCA9IDQ7XG4gICAqL1xuICBDUkFGVCA9IDQsXG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLkRhZ05vZGVLaW5kLlxuICovXG5leHBvcnQgY29uc3QgRGFnTm9kZUtpbmRTY2hlbWE6IEdlbkVudW08RGFnTm9kZUtpbmQ+ID0gLypAX19QVVJFX18qL1xuICBlbnVtRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAxKTtcblxuLyoqXG4gKiBVcGdyYWRlIGVmZmVjdCB0eXBlIGVudW1cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBsaWdodHNwZWVkZHVlbC53cy5VcGdyYWRlRWZmZWN0VHlwZVxuICovXG5leHBvcnQgZW51bSBVcGdyYWRlRWZmZWN0VHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogVVBHUkFERV9FRkZFQ1RfVFlQRV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVUEdSQURFX0VGRkVDVF9UWVBFX1NQRUVEX01VTFRJUExJRVIgPSAxO1xuICAgKi9cbiAgU1BFRURfTVVMVElQTElFUiA9IDEsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBVUEdSQURFX0VGRkVDVF9UWVBFX01JU1NJTEVfVU5MT0NLID0gMjtcbiAgICovXG4gIE1JU1NJTEVfVU5MT0NLID0gMixcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVQR1JBREVfRUZGRUNUX1RZUEVfSEVBVF9DQVBBQ0lUWSA9IDM7XG4gICAqL1xuICBIRUFUX0NBUEFDSVRZID0gMyxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IFVQR1JBREVfRUZGRUNUX1RZUEVfSEVBVF9FRkZJQ0lFTkNZID0gNDtcbiAgICovXG4gIEhFQVRfRUZGSUNJRU5DWSA9IDQsXG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLlVwZ3JhZGVFZmZlY3RUeXBlLlxuICovXG5leHBvcnQgY29uc3QgVXBncmFkZUVmZmVjdFR5cGVTY2hlbWE6IEdlbkVudW08VXBncmFkZUVmZmVjdFR5cGU+ID0gLypAX19QVVJFX18qL1xuICBlbnVtRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCAyKTtcblxuLyoqXG4gKiBTdG9yeSBpbnRlbnQgZW51bVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLlN0b3J5SW50ZW50XG4gKi9cbmV4cG9ydCBlbnVtIFN0b3J5SW50ZW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVE9SWV9JTlRFTlRfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogU1RPUllfSU5URU5UX0ZBQ1RPUlkgPSAxO1xuICAgKi9cbiAgRkFDVE9SWSA9IDEsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBTVE9SWV9JTlRFTlRfVU5JVCA9IDI7XG4gICAqL1xuICBVTklUID0gMixcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGVudW0gbGlnaHRzcGVlZGR1ZWwud3MuU3RvcnlJbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9yeUludGVudFNjaGVtYTogR2VuRW51bTxTdG9yeUludGVudD4gPSAvKkBfX1BVUkVfXyovXG4gIGVudW1EZXNjKGZpbGVfcHJvdG9fd3NfbWVzc2FnZXMsIDMpO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YVR5cGVcbiAqL1xuZXhwb3J0IGVudW0gTWlzc2lvbkJlYWNvbkRlbHRhVHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9CRUFDT05fREVMVEFfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgTUlTU0lPTl9CRUFDT05fREVMVEFfVU5TUEVDSUZJRUQgPSAwLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9CRUFDT05fREVMVEFfRElTQ09WRVJFRCA9IDE7XG4gICAqL1xuICBNSVNTSU9OX0JFQUNPTl9ERUxUQV9ESVNDT1ZFUkVEID0gMSxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fQkVBQ09OX0RFTFRBX0hPTERfUFJPR1JFU1MgPSAyO1xuICAgKi9cbiAgTUlTU0lPTl9CRUFDT05fREVMVEFfSE9MRF9QUk9HUkVTUyA9IDIsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0JFQUNPTl9ERUxUQV9IT0xEX1JFU0VUID0gMztcbiAgICovXG4gIE1JU1NJT05fQkVBQ09OX0RFTFRBX0hPTERfUkVTRVQgPSAzLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9CRUFDT05fREVMVEFfTE9DS0VEID0gNDtcbiAgICovXG4gIE1JU1NJT05fQkVBQ09OX0RFTFRBX0xPQ0tFRCA9IDQsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0JFQUNPTl9ERUxUQV9DT09MRE9XTiA9IDU7XG4gICAqL1xuICBNSVNTSU9OX0JFQUNPTl9ERUxUQV9DT09MRE9XTiA9IDUsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0JFQUNPTl9ERUxUQV9NSVNTSU9OX0NPTVBMRVRFRCA9IDY7XG4gICAqL1xuICBNSVNTSU9OX0JFQUNPTl9ERUxUQV9NSVNTSU9OX0NPTVBMRVRFRCA9IDYsXG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBlbnVtIGxpZ2h0c3BlZWRkdWVsLndzLk1pc3Npb25CZWFjb25EZWx0YVR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCBNaXNzaW9uQmVhY29uRGVsdGFUeXBlU2NoZW1hOiBHZW5FbnVtPE1pc3Npb25CZWFjb25EZWx0YVR5cGU+ID0gLypAX19QVVJFX18qL1xuICBlbnVtRGVzYyhmaWxlX3Byb3RvX3dzX21lc3NhZ2VzLCA0KTtcblxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gZW51bSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIE1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1VOU1BFQ0lGSUVEID0gMCxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1NQQVdORUQgPSAxO1xuICAgKi9cbiAgTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfU1BBV05FRCA9IDEsXG5cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBlbnVtIHZhbHVlOiBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9DTEVBUkVEID0gMjtcbiAgICovXG4gIE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX0NMRUFSRUQgPSAyLFxuXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gZW51bSB2YWx1ZTogTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfVElNRU9VVCA9IDM7XG4gICAqL1xuICBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9USU1FT1VUID0gMyxcblxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIGVudW0gdmFsdWU6IE1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1BVUkdFRCA9IDQ7XG4gICAqL1xuICBNSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9QVVJHRUQgPSA0LFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZW51bSBsaWdodHNwZWVkZHVlbC53cy5NaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlLlxuICovXG5leHBvcnQgY29uc3QgTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZVNjaGVtYTogR2VuRW51bTxNaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlPiA9IC8qQF9fUFVSRV9fKi9cbiAgZW51bURlc2MoZmlsZV9wcm90b193c19tZXNzYWdlcywgNSk7XG5cbiIsICIvLyBQcm90b2J1ZiBjb252ZXJzaW9uIGhlbHBlcnNcbmltcG9ydCB0eXBlIHtcbiAgR2hvc3QsXG4gIE1pc3NpbGUsXG4gIFN0YXRlVXBkYXRlLFxuICBEYWdOb2RlLFxuICBEYWdTdGF0ZSxcbiAgSW52ZW50b3J5SXRlbSxcbiAgSW52ZW50b3J5LFxuICBTdG9yeVN0YXRlLFxuICBTdG9yeURpYWxvZ3VlLFxuICBTdG9yeUV2ZW50LFxuICBTdG9yeURpYWxvZ3VlQ2hvaWNlLFxuICBTdG9yeVR1dG9yaWFsVGlwLFxuICBVcGdyYWRlRWZmZWN0LFxuICBQbGF5ZXJDYXBhYmlsaXRpZXMsXG59IGZyb20gJy4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGInO1xuLy8gSW1wb3J0IGVudW1zIGFzIHZhbHVlcywgbm90IHR5cGVzXG5pbXBvcnQge1xuICBEYWdOb2RlU3RhdHVzLFxuICBEYWdOb2RlS2luZCxcbiAgU3RvcnlJbnRlbnQsXG59IGZyb20gJy4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGInO1xuXG4vLyBBZGFwdGVyIHR5cGVzIGZvciBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgY29kZVxuZXhwb3J0IGludGVyZmFjZSBHaG9zdFNuYXBzaG90IHtcbiAgaWQ6IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG4gIHQ6IG51bWJlcjtcbiAgc2VsZjogYm9vbGVhbjtcbiAgd2F5cG9pbnRzPzogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgc3BlZWQ6IG51bWJlciB9W107XG4gIGN1cnJlbnRXYXlwb2ludEluZGV4PzogbnVtYmVyO1xuICBocDogbnVtYmVyO1xuICBraWxsczogbnVtYmVyO1xuICBoZWF0Pzoge1xuICAgIHY6IG51bWJlcjtcbiAgICBtOiBudW1iZXI7XG4gICAgdzogbnVtYmVyO1xuICAgIG86IG51bWJlcjtcbiAgICBtczogbnVtYmVyO1xuICAgIHN1OiBudW1iZXI7XG4gICAga3U6IG51bWJlcjtcbiAgICBrZDogbnVtYmVyO1xuICAgIGV4OiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlzc2lsZVNuYXBzaG90IHtcbiAgaWQ6IHN0cmluZztcbiAgb3duZXI6IHN0cmluZztcbiAgc2VsZjogYm9vbGVhbjtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHZ4OiBudW1iZXI7XG4gIHZ5OiBudW1iZXI7XG4gIHQ6IG51bWJlcjtcbiAgYWdyb1JhZGl1czogbnVtYmVyO1xuICBsaWZldGltZTogbnVtYmVyO1xuICBsYXVuY2g6IG51bWJlcjtcbiAgZXhwaXJlczogbnVtYmVyO1xuICB0YXJnZXRJZD86IHN0cmluZztcbiAgaGVhdD86IHtcbiAgICB2OiBudW1iZXI7XG4gICAgbTogbnVtYmVyO1xuICAgIHc6IG51bWJlcjtcbiAgICBvOiBudW1iZXI7XG4gICAgbXM6IG51bWJlcjtcbiAgICBzdTogbnVtYmVyO1xuICAgIGt1OiBudW1iZXI7XG4gICAga2Q6IG51bWJlcjtcbiAgICBleDogbnVtYmVyO1xuICB9O1xufVxuXG4vLyBDb252ZXJ0IHByb3RvIEdob3N0IHRvIEdob3N0U25hcHNob3RcbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvR2hvc3QocHJvdG86IEdob3N0KTogR2hvc3RTbmFwc2hvdCB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHByb3RvLmlkLFxuICAgIHg6IHByb3RvLngsXG4gICAgeTogcHJvdG8ueSxcbiAgICB2eDogcHJvdG8udngsXG4gICAgdnk6IHByb3RvLnZ5LFxuICAgIHQ6IHByb3RvLnQsXG4gICAgc2VsZjogcHJvdG8uc2VsZixcbiAgICB3YXlwb2ludHM6IHByb3RvLndheXBvaW50cz8ubWFwKHdwID0+ICh7IHg6IHdwLngsIHk6IHdwLnksIHNwZWVkOiB3cC5zcGVlZCB9KSksXG4gICAgY3VycmVudFdheXBvaW50SW5kZXg6IHByb3RvLmN1cnJlbnRXYXlwb2ludEluZGV4LFxuICAgIGhwOiBwcm90by5ocCxcbiAgICBraWxsczogcHJvdG8ua2lsbHMsXG4gICAgaGVhdDogcHJvdG8uaGVhdCA/IHtcbiAgICAgIHY6IHByb3RvLmhlYXQudixcbiAgICAgIG06IHByb3RvLmhlYXQubSxcbiAgICAgIHc6IHByb3RvLmhlYXQudyxcbiAgICAgIG86IHByb3RvLmhlYXQubyxcbiAgICAgIG1zOiBwcm90by5oZWF0Lm1zLFxuICAgICAgc3U6IHByb3RvLmhlYXQuc3UsXG4gICAgICBrdTogcHJvdG8uaGVhdC5rdSxcbiAgICAgIGtkOiBwcm90by5oZWF0LmtkLFxuICAgICAgZXg6IHByb3RvLmhlYXQuZXgsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLy8gQ29udmVydCBwcm90byBNaXNzaWxlIHRvIE1pc3NpbGVTbmFwc2hvdFxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9NaXNzaWxlKHByb3RvOiBNaXNzaWxlKTogTWlzc2lsZVNuYXBzaG90IHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcHJvdG8uaWQsXG4gICAgb3duZXI6IHByb3RvLm93bmVyLFxuICAgIHNlbGY6IHByb3RvLnNlbGYsXG4gICAgeDogcHJvdG8ueCxcbiAgICB5OiBwcm90by55LFxuICAgIHZ4OiBwcm90by52eCxcbiAgICB2eTogcHJvdG8udnksXG4gICAgdDogcHJvdG8udCxcbiAgICBhZ3JvUmFkaXVzOiBwcm90by5hZ3JvUmFkaXVzLFxuICAgIGxpZmV0aW1lOiBwcm90by5saWZldGltZSxcbiAgICBsYXVuY2g6IHByb3RvLmxhdW5jaFRpbWUsXG4gICAgZXhwaXJlczogcHJvdG8uZXhwaXJlc0F0LFxuICAgIHRhcmdldElkOiBwcm90by50YXJnZXRJZCB8fCB1bmRlZmluZWQsXG4gICAgaGVhdDogcHJvdG8uaGVhdCA/IHtcbiAgICAgIHY6IHByb3RvLmhlYXQudixcbiAgICAgIG06IHByb3RvLmhlYXQubSxcbiAgICAgIHc6IHByb3RvLmhlYXQudyxcbiAgICAgIG86IHByb3RvLmhlYXQubyxcbiAgICAgIG1zOiBwcm90by5oZWF0Lm1zLFxuICAgICAgc3U6IHByb3RvLmhlYXQuc3UsXG4gICAgICBrdTogcHJvdG8uaGVhdC5rdSxcbiAgICAgIGtkOiBwcm90by5oZWF0LmtkLFxuICAgICAgZXg6IHByb3RvLmhlYXQuZXgsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLy8gQ29udmVydCBwcm90byBTdGF0ZVVwZGF0ZSB0byBBcHBTdGF0ZSBmb3JtYXRcbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvU3RhdGUocHJvdG86IFN0YXRlVXBkYXRlKSB7XG4gIGNvbnN0IGJhc2UgPSB7XG4gICAgbm93OiBwcm90by5ub3csXG4gICAgbWU6IHByb3RvLm1lID8gcHJvdG9Ub0dob3N0KHByb3RvLm1lKSA6IG51bGwsXG4gICAgZ2hvc3RzOiBwcm90by5naG9zdHMubWFwKHByb3RvVG9HaG9zdCksXG4gICAgbWlzc2lsZXM6IHByb3RvLm1pc3NpbGVzLm1hcChwcm90b1RvTWlzc2lsZSksXG4gICAgbWV0YTogcHJvdG8ubWV0YSA/IHtcbiAgICAgIGM6IHByb3RvLm1ldGEuYyxcbiAgICAgIHc6IHByb3RvLm1ldGEudyxcbiAgICAgIGg6IHByb3RvLm1ldGEuaCxcbiAgICB9IDogeyBjOiAyOTksIHc6IDE2MDAwLCBoOiA5MDAwIH0sXG4gICAgbWlzc2lsZUNvbmZpZzogcHJvdG8ubWlzc2lsZUNvbmZpZyA/IHtcbiAgICAgIHNwZWVkOiBwcm90by5taXNzaWxlQ29uZmlnLnNwZWVkLFxuICAgICAgc3BlZWRNaW46IHByb3RvLm1pc3NpbGVDb25maWcuc3BlZWRNaW4sXG4gICAgICBzcGVlZE1heDogcHJvdG8ubWlzc2lsZUNvbmZpZy5zcGVlZE1heCxcbiAgICAgIGFncm9NaW46IHByb3RvLm1pc3NpbGVDb25maWcuYWdyb01pbixcbiAgICAgIGFncm9SYWRpdXM6IHByb3RvLm1pc3NpbGVDb25maWcuYWdyb1JhZGl1cyxcbiAgICAgIGxpZmV0aW1lOiBwcm90by5taXNzaWxlQ29uZmlnLmxpZmV0aW1lLFxuICAgICAgaGVhdENvbmZpZzogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnID8ge1xuICAgICAgICBtYXg6IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy5tYXgsXG4gICAgICAgIHdhcm5BdDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLndhcm5BdCxcbiAgICAgICAgb3ZlcmhlYXRBdDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLm92ZXJoZWF0QXQsXG4gICAgICAgIG1hcmtlclNwZWVkOiBwcm90by5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcubWFya2VyU3BlZWQsXG4gICAgICAgIGtVcDogcHJvdG8ubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnLmtVcCxcbiAgICAgICAga0Rvd246IHByb3RvLm1pc3NpbGVDb25maWcuaGVhdENvbmZpZy5rRG93bixcbiAgICAgICAgZXhwOiBwcm90by5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcuZXhwLFxuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICB9IDoge1xuICAgICAgc3BlZWQ6IDAsXG4gICAgICBzcGVlZE1pbjogMCxcbiAgICAgIHNwZWVkTWF4OiAwLFxuICAgICAgYWdyb01pbjogMCxcbiAgICAgIGFncm9SYWRpdXM6IDAsXG4gICAgICBsaWZldGltZTogMCxcbiAgICB9LFxuICAgIG1pc3NpbGVXYXlwb2ludHM6IHByb3RvLm1pc3NpbGVXYXlwb2ludHMubWFwKHdwID0+ICh7IHg6IHdwLngsIHk6IHdwLnksIHNwZWVkOiB3cC5zcGVlZCB9KSksXG4gICAgbWlzc2lsZVJvdXRlczogcHJvdG8ubWlzc2lsZVJvdXRlcy5tYXAociA9PiAoe1xuICAgICAgaWQ6IHIuaWQsXG4gICAgICBuYW1lOiByLm5hbWUsXG4gICAgICB3YXlwb2ludHM6IHIud2F5cG9pbnRzLm1hcCh3cCA9PiAoeyB4OiB3cC54LCB5OiB3cC55LCBzcGVlZDogd3Auc3BlZWQgfSkpLFxuICAgIH0pKSxcbiAgICBhY3RpdmVNaXNzaWxlUm91dGU6IHByb3RvLmFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBuZXh0TWlzc2lsZVJlYWR5OiBwcm90by5uZXh0TWlzc2lsZVJlYWR5LFxuICB9O1xuXG4gIC8vIFBoYXNlIDIgYWRkaXRpb25zXG4gIHJldHVybiB7XG4gICAgLi4uYmFzZSxcbiAgICBkYWc6IHByb3RvLmRhZyA/IHByb3RvVG9EYWdTdGF0ZShwcm90by5kYWcpIDogdW5kZWZpbmVkLFxuICAgIGludmVudG9yeTogcHJvdG8uaW52ZW50b3J5ID8gcHJvdG9Ub0ludmVudG9yeShwcm90by5pbnZlbnRvcnkpIDogdW5kZWZpbmVkLFxuICAgIHN0b3J5OiBwcm90by5zdG9yeSA/IHByb3RvVG9TdG9yeVN0YXRlKHByb3RvLnN0b3J5KSA6IHVuZGVmaW5lZCxcbiAgICBjYXBhYmlsaXRpZXM6IHByb3RvLmNhcGFiaWxpdGllcyA/IHByb3RvVG9QbGF5ZXJDYXBhYmlsaXRpZXMocHJvdG8uY2FwYWJpbGl0aWVzKSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLy8gPT09PT09PT09PSBQaGFzZSAyOiBFbnVtIENvbnZlcnRlcnMgPT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9TdGF0dXNUb1N0cmluZyhzdGF0dXM6IERhZ05vZGVTdGF0dXMpOiBzdHJpbmcge1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgRGFnTm9kZVN0YXR1cy5MT0NLRUQ6IHJldHVybiAnbG9ja2VkJztcbiAgICBjYXNlIERhZ05vZGVTdGF0dXMuQVZBSUxBQkxFOiByZXR1cm4gJ2F2YWlsYWJsZSc7XG4gICAgY2FzZSBEYWdOb2RlU3RhdHVzLklOX1BST0dSRVNTOiByZXR1cm4gJ2luX3Byb2dyZXNzJztcbiAgICBjYXNlIERhZ05vZGVTdGF0dXMuQ09NUExFVEVEOiByZXR1cm4gJ2NvbXBsZXRlZCc7XG4gICAgZGVmYXVsdDogcmV0dXJuICd1bmtub3duJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9LaW5kVG9TdHJpbmcoa2luZDogRGFnTm9kZUtpbmQpOiBzdHJpbmcge1xuICBzd2l0Y2ggKGtpbmQpIHtcbiAgICBjYXNlIERhZ05vZGVLaW5kLkZBQ1RPUlk6IHJldHVybiAnZmFjdG9yeSc7XG4gICAgY2FzZSBEYWdOb2RlS2luZC5VTklUOiByZXR1cm4gJ3VuaXQnO1xuICAgIGNhc2UgRGFnTm9kZUtpbmQuU1RPUlk6IHJldHVybiAnc3RvcnknO1xuICAgIGNhc2UgRGFnTm9kZUtpbmQuQ1JBRlQ6IHJldHVybiAnY3JhZnQnO1xuICAgIGRlZmF1bHQ6IHJldHVybiAndW5rbm93bic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvSW50ZW50VG9TdHJpbmcoaW50ZW50OiBTdG9yeUludGVudCk6IHN0cmluZyB7XG4gIHN3aXRjaCAoaW50ZW50KSB7XG4gICAgY2FzZSBTdG9yeUludGVudC5GQUNUT1JZOiByZXR1cm4gJ2ZhY3RvcnknO1xuICAgIGNhc2UgU3RvcnlJbnRlbnQuVU5JVDogcmV0dXJuICd1bml0JztcbiAgICBkZWZhdWx0OiByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvRWZmZWN0VHlwZVRvU3RyaW5nKHR5cGU6IGFueSk6IHN0cmluZyB7XG4gIC8vIE1hcCBwcm90byBlbnVtIHZhbHVlcyB0byBzdHJpbmdzXG4gIC8vIFRPRE86IFVzZSBwcm9wZXIgZW51bSB3aGVuIHByb3RvIGlzIHJlZ2VuZXJhdGVkXG4gIGNvbnN0IHR5cGVNYXA6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XG4gICAgMTogJ3NwZWVkX211bHRpcGxpZXInLFxuICAgIDI6ICdtaXNzaWxlX3VubG9jaycsXG4gICAgMzogJ2hlYXRfY2FwYWNpdHknLFxuICAgIDQ6ICdoZWF0X2VmZmljaWVuY3knLFxuICB9O1xuICByZXR1cm4gdHlwZU1hcFt0eXBlXSB8fCAndW5rbm93bic7XG59XG5cbi8vID09PT09PT09PT0gUGhhc2UgMjogVHlwZSBEZWZpbml0aW9ucyA9PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBncmFkZUVmZmVjdERhdGEge1xuICB0eXBlOiBzdHJpbmc7XG4gIHZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFnTm9kZURhdGEge1xuICBpZDogc3RyaW5nO1xuICBraW5kOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICByZW1haW5pbmdTOiBudW1iZXI7XG4gIGR1cmF0aW9uUzogbnVtYmVyO1xuICByZXBlYXRhYmxlOiBib29sZWFuO1xuICBlZmZlY3RzPzogVXBncmFkZUVmZmVjdERhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJDYXBhYmlsaXRpZXNEYXRhIHtcbiAgc3BlZWRNdWx0aXBsaWVyOiBudW1iZXI7XG4gIHVubG9ja2VkTWlzc2lsZXM6IHN0cmluZ1tdO1xuICBoZWF0Q2FwYWNpdHk6IG51bWJlcjtcbiAgaGVhdEVmZmljaWVuY3k6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWdTdGF0ZURhdGEge1xuICBub2RlczogRGFnTm9kZURhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnlJdGVtRGF0YSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdmFyaWFudElkOiBzdHJpbmc7XG4gIGhlYXRDYXBhY2l0eTogbnVtYmVyO1xuICBxdWFudGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludmVudG9yeURhdGEge1xuICBpdGVtczogSW52ZW50b3J5SXRlbURhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeURpYWxvZ3VlQ2hvaWNlRGF0YSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeVR1dG9yaWFsVGlwRGF0YSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeURpYWxvZ3VlRGF0YSB7XG4gIHNwZWFrZXI6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICBpbnRlbnQ6IHN0cmluZztcbiAgY29udGludWVMYWJlbDogc3RyaW5nO1xuICBjaG9pY2VzOiBTdG9yeURpYWxvZ3VlQ2hvaWNlRGF0YVtdO1xuICB0dXRvcmlhbFRpcD86IFN0b3J5VHV0b3JpYWxUaXBEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3J5RXZlbnREYXRhIHtcbiAgY2hhcHRlcklkOiBzdHJpbmc7XG4gIG5vZGVJZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeVN0YXRlRGF0YSB7XG4gIGFjdGl2ZU5vZGU6IHN0cmluZztcbiAgZGlhbG9ndWU/OiBTdG9yeURpYWxvZ3VlRGF0YTtcbiAgYXZhaWxhYmxlOiBzdHJpbmdbXTtcbiAgZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICByZWNlbnRFdmVudHM6IFN0b3J5RXZlbnREYXRhW107XG59XG5cbi8vID09PT09PT09PT0gUGhhc2UgMjogQ29udmVyc2lvbiBGdW5jdGlvbnMgPT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub1VwZ3JhZGVFZmZlY3QocHJvdG86IFVwZ3JhZGVFZmZlY3QpOiBVcGdyYWRlRWZmZWN0RGF0YSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcHJvdG9FZmZlY3RUeXBlVG9TdHJpbmcocHJvdG8udHlwZSksXG4gICAgdmFsdWU6IHByb3RvLnZhbHVlLmNhc2UgPT09ICdtdWx0aXBsaWVyJyA/IHByb3RvLnZhbHVlLnZhbHVlIDogcHJvdG8udmFsdWUudmFsdWUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvUGxheWVyQ2FwYWJpbGl0aWVzKHByb3RvOiBQbGF5ZXJDYXBhYmlsaXRpZXMpOiBQbGF5ZXJDYXBhYmlsaXRpZXNEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBzcGVlZE11bHRpcGxpZXI6IHByb3RvLnNwZWVkTXVsdGlwbGllcixcbiAgICB1bmxvY2tlZE1pc3NpbGVzOiBwcm90by51bmxvY2tlZE1pc3NpbGVzLFxuICAgIGhlYXRDYXBhY2l0eTogcHJvdG8uaGVhdENhcGFjaXR5LFxuICAgIGhlYXRFZmZpY2llbmN5OiBwcm90by5oZWF0RWZmaWNpZW5jeSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9EYWdOb2RlKHByb3RvOiBEYWdOb2RlKTogRGFnTm9kZURhdGEge1xuICByZXR1cm4ge1xuICAgIGlkOiBwcm90by5pZCxcbiAgICBraW5kOiBwcm90b0tpbmRUb1N0cmluZyhwcm90by5raW5kKSxcbiAgICBsYWJlbDogcHJvdG8ubGFiZWwsXG4gICAgc3RhdHVzOiBwcm90b1N0YXR1c1RvU3RyaW5nKHByb3RvLnN0YXR1cyksXG4gICAgcmVtYWluaW5nUzogcHJvdG8ucmVtYWluaW5nUyxcbiAgICBkdXJhdGlvblM6IHByb3RvLmR1cmF0aW9uUyxcbiAgICByZXBlYXRhYmxlOiBwcm90by5yZXBlYXRhYmxlLFxuICAgIGVmZmVjdHM6IHByb3RvLmVmZmVjdHM/Lm1hcChwcm90b1RvVXBncmFkZUVmZmVjdCkgfHwgW10sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvRGFnU3RhdGUocHJvdG86IERhZ1N0YXRlKTogRGFnU3RhdGVEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBub2RlczogcHJvdG8ubm9kZXMubWFwKHByb3RvVG9EYWdOb2RlKSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9JbnZlbnRvcnlJdGVtKHByb3RvOiBJbnZlbnRvcnlJdGVtKTogSW52ZW50b3J5SXRlbURhdGEge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHByb3RvLnR5cGUsXG4gICAgdmFyaWFudElkOiBwcm90by52YXJpYW50SWQsXG4gICAgaGVhdENhcGFjaXR5OiBwcm90by5oZWF0Q2FwYWNpdHksXG4gICAgcXVhbnRpdHk6IHByb3RvLnF1YW50aXR5LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdG9Ub0ludmVudG9yeShwcm90bzogSW52ZW50b3J5KTogSW52ZW50b3J5RGF0YSB7XG4gIHJldHVybiB7XG4gICAgaXRlbXM6IHByb3RvLml0ZW1zLm1hcChwcm90b1RvSW52ZW50b3J5SXRlbSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90b1RvU3RvcnlEaWFsb2d1ZShwcm90bzogU3RvcnlEaWFsb2d1ZSk6IFN0b3J5RGlhbG9ndWVEYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBzcGVha2VyOiBwcm90by5zcGVha2VyLFxuICAgIHRleHQ6IHByb3RvLnRleHQsXG4gICAgaW50ZW50OiBwcm90b0ludGVudFRvU3RyaW5nKHByb3RvLmludGVudCksXG4gICAgY29udGludWVMYWJlbDogcHJvdG8uY29udGludWVMYWJlbCxcbiAgICBjaG9pY2VzOiBwcm90by5jaG9pY2VzLm1hcChjID0+ICh7IGlkOiBjLmlkLCB0ZXh0OiBjLnRleHQgfSkpLFxuICAgIHR1dG9yaWFsVGlwOiBwcm90by50dXRvcmlhbFRpcCA/IHtcbiAgICAgIHRpdGxlOiBwcm90by50dXRvcmlhbFRpcC50aXRsZSxcbiAgICAgIHRleHQ6IHByb3RvLnR1dG9yaWFsVGlwLnRleHQsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RvVG9TdG9yeVN0YXRlKHByb3RvOiBTdG9yeVN0YXRlKTogU3RvcnlTdGF0ZURhdGEge1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZU5vZGU6IHByb3RvLmFjdGl2ZU5vZGUsXG4gICAgZGlhbG9ndWU6IHByb3RvLmRpYWxvZ3VlID8gcHJvdG9Ub1N0b3J5RGlhbG9ndWUocHJvdG8uZGlhbG9ndWUpIDogdW5kZWZpbmVkLFxuICAgIGF2YWlsYWJsZTogcHJvdG8uYXZhaWxhYmxlLFxuICAgIGZsYWdzOiBwcm90by5mbGFncyxcbiAgICByZWNlbnRFdmVudHM6IHByb3RvLnJlY2VudEV2ZW50cy5tYXAoZSA9PiAoe1xuICAgICAgY2hhcHRlcklkOiBlLmNoYXB0ZXJJZCxcbiAgICAgIG5vZGVJZDogZS5ub2RlSWQsXG4gICAgICB0aW1lc3RhbXA6IGUudGltZXN0YW1wLFxuICAgIH0pKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyB0eXBlIEV2ZW50QnVzIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQge1xuICB0eXBlIEFwcFN0YXRlLFxuICB0eXBlIE1pc3NpbGVSb3V0ZSxcbiAgdHlwZSBNaXNzaW9uU3RhdGUsXG4gIHR5cGUgTWlzc2lvbkJlYWNvbixcbiAgdHlwZSBNaXNzaW9uRW5jb3VudGVyU3RhdGUsXG4gIHR5cGUgTWlzc2lvblBsYXllclN0YXRlLFxuICB0eXBlIE1pc3Npb25PYmplY3RpdmVTdGF0ZSxcbiAgdHlwZSBEZWJ1Z0JlYWNvbkluZm8sXG4gIHR5cGUgRGVidWdFbmNvdW50ZXJJbmZvLFxuICBtb25vdG9uaWNOb3csXG4gIHNhbml0aXplTWlzc2lsZUNvbmZpZyxcbiAgdXBkYXRlTWlzc2lsZUxpbWl0cyxcbiAgY2xhbXBQcm9ncmVzcyxcbn0gZnJvbSBcIi4vc3RhdGVcIjtcbmltcG9ydCB0eXBlIHsgRGlhbG9ndWVDb250ZW50IH0gZnJvbSBcIi4vc3RvcnkvdHlwZXNcIjtcbmltcG9ydCB7IGNyZWF0ZSwgdG9CaW5hcnksIGZyb21CaW5hcnkgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG5pbXBvcnQge1xuICBXc0VudmVsb3BlU2NoZW1hLFxuICB0eXBlIFdzRW52ZWxvcGUsXG4gIE1pc3Npb25CZWFjb25EZWx0YVR5cGUsXG4gIE1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGUsXG59IGZyb20gXCIuL3Byb3RvL3Byb3RvL3dzX21lc3NhZ2VzX3BiXCI7XG5pbXBvcnQgdHlwZSB7IE1pc3Npb25CZWFjb25TbmFwc2hvdCwgTWlzc2lvbkJlYWNvbkRlbHRhIH0gZnJvbSBcIi4vcHJvdG8vcHJvdG8vd3NfbWVzc2FnZXNfcGJcIjtcbmltcG9ydCB7IHByb3RvVG9TdGF0ZSwgcHJvdG9Ub0RhZ1N0YXRlIH0gZnJvbSBcIi4vcHJvdG9faGVscGVyc1wiO1xuaW1wb3J0IHR5cGUgeyBNaXNzaW9uT2ZmZXJEVE8sIE1pc3Npb25VcGRhdGVEVE8sIE9iamVjdGl2ZVN0YXRlRFRPIH0gZnJvbSBcIi4vbWlzc2lvbi90eXBlc1wiO1xuXG5pbnRlcmZhY2UgQ29ubmVjdE9wdGlvbnMge1xuICByb29tOiBzdHJpbmc7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgb25TdGF0ZVVwZGF0ZWQ/OiAoKSA9PiB2b2lkO1xuICBvbk9wZW4/OiAoc29ja2V0OiBXZWJTb2NrZXQpID0+IHZvaWQ7XG4gIG1hcFc/OiBudW1iZXI7XG4gIG1hcEg/OiBudW1iZXI7XG4gIG1vZGU/OiBzdHJpbmc7XG4gIG1pc3Npb25JZD86IHN0cmluZztcbn1cblxubGV0IHdzOiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcbmxldCBjb25uZWN0ZWRTdGF0ZTogQXBwU3RhdGUgfCBudWxsID0gbnVsbDtcbmxldCBjb25uZWN0ZWRCdXM6IEV2ZW50QnVzIHwgbnVsbCA9IG51bGw7XG5cbi8vIEhlbHBlciB0byBzZW5kIHByb3RvYnVmIG1lc3NhZ2VzXG5mdW5jdGlvbiBzZW5kUHJvdG8oZW52ZWxvcGU6IFdzRW52ZWxvcGUpIHtcbiAgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICBjb25zdCBieXRlcyA9IHRvQmluYXJ5KFdzRW52ZWxvcGVTY2hlbWEsIGVudmVsb3BlKTtcbiAgd3Muc2VuZChieXRlcyk7XG59XG5cbi8vIExlZ2FjeSBKU09OIG1lc3NhZ2Ugc2VuZGVyIChrZXB0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFuZCBEQUcgbWVzc2FnZXMpXG5leHBvcnQgZnVuY3Rpb24gc2VuZE1lc3NhZ2UocGF5bG9hZDogdW5rbm93bik6IHZvaWQge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG5cbiAgLy8gSWYgcGF5bG9hZCBoYXMgYSBcInR5cGVcIiBmaWVsZCwgY29udmVydCB0byBwcm90b2J1ZlxuICBpZiAodHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgcGF5bG9hZCAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBwYXlsb2FkKSB7XG4gICAgY29uc3QgbXNnID0gcGF5bG9hZCBhcyBhbnk7XG5cbiAgICAvLyBDb252ZXJ0IGNvbW1vbiBtZXNzYWdlIHR5cGVzIHRvIHByb3RvYnVmXG4gICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgY2FzZSBcImpvaW5cIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJqb2luXCIsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICBuYW1lOiBtc2cubmFtZSB8fCBcIlwiLFxuICAgICAgICAgICAgICByb29tOiBtc2cucm9vbSB8fCBcIlwiLFxuICAgICAgICAgICAgICBtYXBXOiBtc2cubWFwX3cgfHwgMCxcbiAgICAgICAgICAgICAgbWFwSDogbXNnLm1hcF9oIHx8IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwic3Bhd25fYm90XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHsgY2FzZTogXCJzcGF3bkJvdFwiLCB2YWx1ZToge30gfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJhZGRfd2F5cG9pbnRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJhZGRXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgeDogbXNnLngsIHk6IG1zZy55LCBzcGVlZDogbXNnLnNwZWVkIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJ1cGRhdGVfd2F5cG9pbnRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJ1cGRhdGVXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgaW5kZXg6IG1zZy5pbmRleCwgc3BlZWQ6IG1zZy5zcGVlZCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwibW92ZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcIm1vdmVXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgaW5kZXg6IG1zZy5pbmRleCwgeDogbXNnLngsIHk6IG1zZy55IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJkZWxldGVfd2F5cG9pbnRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJkZWxldGVXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgaW5kZXg6IG1zZy5pbmRleCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiY2xlYXJfd2F5cG9pbnRzXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHsgY2FzZTogXCJjbGVhcldheXBvaW50c1wiLCB2YWx1ZToge30gfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJjb25maWd1cmVfbWlzc2lsZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImNvbmZpZ3VyZU1pc3NpbGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IG1pc3NpbGVTcGVlZDogbXNnLm1pc3NpbGVfc3BlZWQsIG1pc3NpbGVBZ3JvOiBtc2cubWlzc2lsZV9hZ3JvIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJsYXVuY2hfbWlzc2lsZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImxhdW5jaE1pc3NpbGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJhZGRfbWlzc2lsZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImFkZE1pc3NpbGVXYXlwb2ludFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIsIHg6IG1zZy54LCB5OiBtc2cueSwgc3BlZWQ6IG1zZy5zcGVlZCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwidXBkYXRlX21pc3NpbGVfd2F5cG9pbnRfc3BlZWRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJ1cGRhdGVNaXNzaWxlV2F5cG9pbnRTcGVlZFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgcm91dGVJZDogbXNnLnJvdXRlX2lkIHx8IFwiXCIsIGluZGV4OiBtc2cuaW5kZXgsIHNwZWVkOiBtc2cuc3BlZWQgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcIm1vdmVfbWlzc2lsZV93YXlwb2ludFwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcIm1vdmVNaXNzaWxlV2F5cG9pbnRcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiLCBpbmRleDogbXNnLmluZGV4LCB4OiBtc2cueCwgeTogbXNnLnkgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcImRlbGV0ZV9taXNzaWxlX3dheXBvaW50XCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiZGVsZXRlTWlzc2lsZVdheXBvaW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiwgaW5kZXg6IG1zZy5pbmRleCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiY2xlYXJfbWlzc2lsZV9yb3V0ZVwiOlxuICAgICAgICBzZW5kUHJvdG8oY3JlYXRlKFdzRW52ZWxvcGVTY2hlbWEsIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBjYXNlOiBcImNsZWFyTWlzc2lsZVJvdXRlXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiYWRkX21pc3NpbGVfcm91dGVcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJhZGRNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IG5hbWU6IG1zZy5uYW1lIHx8IFwiXCIgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBcInJlbmFtZV9taXNzaWxlX3JvdXRlXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwicmVuYW1lTWlzc2lsZVJvdXRlXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyByb3V0ZUlkOiBtc2cucm91dGVfaWQgfHwgXCJcIiwgbmFtZTogbXNnLm5hbWUgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiZGVsZXRlX21pc3NpbGVfcm91dGVcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJkZWxldGVNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJzZXRfYWN0aXZlX21pc3NpbGVfcm91dGVcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJzZXRBY3RpdmVNaXNzaWxlUm91dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJkYWdfc3RhcnRcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJkYWdTdGFydFwiLFxuICAgICAgICAgICAgdmFsdWU6IHsgbm9kZUlkOiBtc2cubm9kZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJkYWdfc3RvcnlfYWNrXCI6XG4gICAgICAgIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNhc2U6IFwiZGFnU3RvcnlBY2tcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IG5vZGVJZDogbXNnLm5vZGVfaWQgfHwgXCJcIiwgY2hvaWNlSWQ6IG1zZy5jaG9pY2VfaWQgfHwgXCJcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFwiY2xlYXJfbWlzc2lsZV93YXlwb2ludHNcIjpcbiAgICAgICAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY2FzZTogXCJjbGVhck1pc3NpbGVXYXlwb2ludHNcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IHJvdXRlSWQ6IG1zZy5yb3V0ZV9pZCB8fCBcIlwiIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgXCJtaXNzaW9uOmFjY2VwdFwiOlxuICAgICAgICBpZiAod3MgJiYgd3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PSBQaGFzZSAyOiBEQUcgQ29tbWFuZCBGdW5jdGlvbnMgPT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZERhZ1N0YXJ0KG5vZGVJZDogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgcGF5bG9hZDoge1xuICAgICAgY2FzZTogXCJkYWdTdGFydFwiLFxuICAgICAgdmFsdWU6IHsgbm9kZUlkIH0sXG4gICAgfSxcbiAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZERhZ0NhbmNlbChub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhc2U6IFwiZGFnQ2FuY2VsXCIsXG4gICAgICB2YWx1ZTogeyBub2RlSWQgfSxcbiAgICB9LFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kRGFnU3RvcnlBY2sobm9kZUlkOiBzdHJpbmcsIGNob2ljZUlkOiBzdHJpbmcgPSBcIlwiKTogdm9pZCB7XG4gIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgc2VuZFByb3RvKGNyZWF0ZShXc0VudmVsb3BlU2NoZW1hLCB7XG4gICAgcGF5bG9hZDoge1xuICAgICAgY2FzZTogXCJkYWdTdG9yeUFja1wiLFxuICAgICAgdmFsdWU6IHsgbm9kZUlkLCBjaG9pY2VJZCB9LFxuICAgIH0sXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmREYWdMaXN0KCk6IHZvaWQge1xuICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gIHNlbmRQcm90byhjcmVhdGUoV3NFbnZlbG9wZVNjaGVtYSwge1xuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhc2U6IFwiZGFnTGlzdFwiLFxuICAgICAgdmFsdWU6IHt9LFxuICAgIH0sXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFjY2VwdE1pc3Npb24obWlzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCFtaXNzaW9uSWQpIHJldHVybjtcbiAgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgIC8vIEFsbG93IGxvY2FsIHN0YXRlIHVwZGF0ZSBldmVuIGlmIHNvY2tldCBub3QgcmVhZHkgZm9yIHJlc2lsaWVuY2VcbiAgICBpZiAoY29ubmVjdGVkU3RhdGUgJiYgY29ubmVjdGVkQnVzKSB7XG4gICAgICBjb25zdCBtaXNzaW9uID0gZW5zdXJlTWlzc2lvblN0YXRlKGNvbm5lY3RlZFN0YXRlKTtcbiAgICAgIG1pc3Npb24ubWlzc2lvbklkID0gbWlzc2lvbklkO1xuICAgICAgbWlzc2lvbi5zdGF0dXMgPSBcImFjdGl2ZVwiO1xuICAgICAgbWlzc2lvbi5zdGFydFRpbWUgPSBtaXNzaW9uLnN0YXJ0VGltZSA/PyBnZXRBcHByb3hTZXJ2ZXJOb3coY29ubmVjdGVkU3RhdGUpO1xuICAgICAgY29ubmVjdGVkQnVzLmVtaXQoXCJtaXNzaW9uOnN0YXJ0XCIsIHsgbWlzc2lvbklkIH0pO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJtaXNzaW9uOmFjY2VwdFwiLCBwYXlsb2FkOiB7IG1pc3Npb25JZCB9IH0pKTtcblxuICBpZiAoY29ubmVjdGVkU3RhdGUgJiYgY29ubmVjdGVkQnVzKSB7XG4gICAgY29uc3QgbWlzc2lvbiA9IGVuc3VyZU1pc3Npb25TdGF0ZShjb25uZWN0ZWRTdGF0ZSk7XG4gICAgbWlzc2lvbi5taXNzaW9uSWQgPSBtaXNzaW9uSWQ7XG4gICAgbWlzc2lvbi5zdGF0dXMgPSBcImFjdGl2ZVwiO1xuICAgIG1pc3Npb24uc3RhcnRUaW1lID0gbWlzc2lvbi5zdGFydFRpbWUgPz8gZ2V0QXBwcm94U2VydmVyTm93KGNvbm5lY3RlZFN0YXRlKTtcbiAgICBjb25uZWN0ZWRCdXMuZW1pdChcIm1pc3Npb246c3RhcnRcIiwgeyBtaXNzaW9uSWQgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RXZWJTb2NrZXQoe1xuICByb29tLFxuICBzdGF0ZSxcbiAgYnVzLFxuICBvblN0YXRlVXBkYXRlZCxcbiAgb25PcGVuLFxuICBtYXBXLFxuICBtYXBILFxuICBtb2RlLFxuICBtaXNzaW9uSWQsXG59OiBDb25uZWN0T3B0aW9ucyk6IHZvaWQge1xuICBjb25zdCBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJodHRwczpcIiA/IFwid3NzOi8vXCIgOiBcIndzOi8vXCI7XG4gIGxldCB3c1VybCA9IGAke3Byb3RvY29sfSR7d2luZG93LmxvY2F0aW9uLmhvc3R9L3dzP3Jvb209JHtlbmNvZGVVUklDb21wb25lbnQocm9vbSl9YDtcbiAgaWYgKG1hcFcgJiYgbWFwVyA+IDApIHtcbiAgICB3c1VybCArPSBgJm1hcFc9JHttYXBXfWA7XG4gIH1cbiAgaWYgKG1hcEggJiYgbWFwSCA+IDApIHtcbiAgICB3c1VybCArPSBgJm1hcEg9JHttYXBIfWA7XG4gIH1cbiAgaWYgKG1vZGUpIHtcbiAgICB3c1VybCArPSBgJm1vZGU9JHtlbmNvZGVVUklDb21wb25lbnQobW9kZSl9YDtcbiAgfVxuICBpZiAobWlzc2lvbklkKSB7XG4gICAgd3NVcmwgKz0gYCZtaXNzaW9uPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG1pc3Npb25JZCl9YDtcbiAgfVxuICB3cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xuICBjb25uZWN0ZWRTdGF0ZSA9IHN0YXRlO1xuICBjb25uZWN0ZWRCdXMgPSBidXM7XG4gIC8vIFNldCBiaW5hcnkgdHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZXNcbiAgd3MuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiW3dzXSBvcGVuXCIpO1xuICAgIGNvbnN0IHNvY2tldCA9IHdzO1xuICAgIGlmIChzb2NrZXQgJiYgb25PcGVuKSB7XG4gICAgICBvbk9wZW4oc29ja2V0KTtcbiAgICB9XG4gIH0pO1xuICB3cy5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiW3dzXSBjbG9zZVwiKTtcbiAgICBjb25uZWN0ZWRTdGF0ZSA9IG51bGw7XG4gICAgY29ubmVjdGVkQnVzID0gbnVsbDtcbiAgfSk7XG5cbiAgbGV0IHByZXZSb3V0ZXMgPSBuZXcgTWFwPHN0cmluZywgTWlzc2lsZVJvdXRlPigpO1xuICBsZXQgcHJldkFjdGl2ZVJvdXRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IHByZXZNaXNzaWxlQ291bnQgPSAwO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgIC8vIEhhbmRsZSBiaW5hcnkgcHJvdG9idWYgbWVzc2FnZXNcbiAgICBpZiAoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnZlbG9wZSA9IGZyb21CaW5hcnkoV3NFbnZlbG9wZVNjaGVtYSwgbmV3IFVpbnQ4QXJyYXkoZXZlbnQuZGF0YSkpO1xuXG4gICAgICAgIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwic3RhdGVVcGRhdGVcIikge1xuICAgICAgICAgIGNvbnN0IHByb3RvU3RhdGUgPSBwcm90b1RvU3RhdGUoZW52ZWxvcGUucGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgaGFuZGxlUHJvdG9TdGF0ZU1lc3NhZ2Uoc3RhdGUsIHByb3RvU3RhdGUsIGJ1cywgcHJldlJvdXRlcywgcHJldkFjdGl2ZVJvdXRlLCBwcmV2TWlzc2lsZUNvdW50KTtcbiAgICAgICAgICBwcmV2Um91dGVzID0gbmV3IE1hcChzdGF0ZS5taXNzaWxlUm91dGVzLm1hcCgocm91dGUpID0+IFtyb3V0ZS5pZCwgY2xvbmVSb3V0ZShyb3V0ZSldKSk7XG4gICAgICAgICAgcHJldkFjdGl2ZVJvdXRlID0gc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQ7XG4gICAgICAgICAgcHJldk1pc3NpbGVDb3VudCA9IHN0YXRlLm1pc3NpbGVzLmxlbmd0aDtcbiAgICAgICAgICBidXMuZW1pdChcInN0YXRlOnVwZGF0ZWRcIik7XG4gICAgICAgICAgb25TdGF0ZVVwZGF0ZWQ/LigpO1xuICAgICAgICB9IGVsc2UgaWYgKGVudmVsb3BlLnBheWxvYWQuY2FzZSA9PT0gXCJyb29tRnVsbFwiKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlt3c10gUm9vbSBmdWxsOlwiLCBlbnZlbG9wZS5wYXlsb2FkLnZhbHVlLm1lc3NhZ2UpO1xuICAgICAgICAgIGJ1cy5lbWl0KFwiY29ubmVjdGlvbjplcnJvclwiLCB7IG1lc3NhZ2U6IGVudmVsb3BlLnBheWxvYWQudmFsdWUubWVzc2FnZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwiZGFnTGlzdFJlc3BvbnNlXCIpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgREFHIGxpc3QgcmVzcG9uc2UgZnJvbSBQaGFzZSAyXG4gICAgICAgICAgY29uc3QgZGFnRGF0YSA9IGVudmVsb3BlLnBheWxvYWQudmFsdWUuZGFnO1xuICAgICAgICAgIGlmIChkYWdEYXRhKSB7XG4gICAgICAgICAgICBidXMuZW1pdChcImRhZzpsaXN0XCIsIHByb3RvVG9EYWdTdGF0ZShkYWdEYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVudmVsb3BlLnBheWxvYWQuY2FzZSA9PT0gXCJtaXNzaW9uQmVhY29uU25hcHNob3RcIikge1xuICAgICAgICAgIGhhbmRsZU1pc3Npb25TbmFwc2hvdChzdGF0ZSwgZW52ZWxvcGUucGF5bG9hZC52YWx1ZSwgYnVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnZlbG9wZS5wYXlsb2FkLmNhc2UgPT09IFwibWlzc2lvbkJlYWNvbkRlbHRhXCIpIHtcbiAgICAgICAgICBoYW5kbGVNaXNzaW9uRGVsdGEoc3RhdGUsIGVudmVsb3BlLnBheWxvYWQudmFsdWUsIGJ1cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3dzXSBVbmtub3duIHByb3RvYnVmIG1lc3NhZ2UgdHlwZTpcIiwgZW52ZWxvcGUucGF5bG9hZC5jYXNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbd3NdIEZhaWxlZCB0byBkZWNvZGUgcHJvdG9idWYgbWVzc2FnZTpcIiwgZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGhhbmRsZUpzb25NZXNzYWdlKHN0YXRlLCBidXMsIGV2ZW50LmRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgZXZlbnQuZGF0YS50ZXh0KClcbiAgICAgICAgLnRoZW4oKHRleHQpID0+IGhhbmRsZUpzb25NZXNzYWdlKHN0YXRlLCBidXMsIHRleHQpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIlt3c10gRmFpbGVkIHRvIHJlYWQgdGV4dCBtZXNzYWdlOlwiLCBlcnIpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8vIEhhbmRsZSBwcm90b2J1ZiBzdGF0ZSBtZXNzYWdlcyAoc2ltcGxpZmllZCB2ZXJzaW9uIG9mIGhhbmRsZVN0YXRlTWVzc2FnZSlcbmZ1bmN0aW9uIGhhbmRsZUpzb25NZXNzYWdlKHN0YXRlOiBBcHBTdGF0ZSwgYnVzOiBFdmVudEJ1cywgcmF3OiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCFyYXcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1zZzogeyB0eXBlPzogc3RyaW5nOyBwYXlsb2FkPzogdW5rbm93biB9O1xuICB0cnkge1xuICAgIG1zZyA9IEpTT04ucGFyc2UocmF3KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlt3c10gRmFpbGVkIHRvIHBhcnNlIEpTT04gbWVzc2FnZTpcIiwgZXJyKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFtc2cgfHwgdHlwZW9mIG1zZy50eXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgIGNhc2UgXCJtaXNzaW9uOm9mZmVyXCI6IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBtc2cucGF5bG9hZCBhcyBQYXJ0aWFsPE1pc3Npb25PZmZlckRUTz4gfCB1bmRlZmluZWQ7XG4gICAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbWlzc2lvbiA9IGVuc3VyZU1pc3Npb25TdGF0ZShzdGF0ZSk7XG4gICAgICBtaXNzaW9uLm1pc3Npb25JZCA9IHBheWxvYWQubWlzc2lvbklkID8/IG1pc3Npb24ubWlzc2lvbklkID8/IFwiXCI7XG4gICAgICBtaXNzaW9uLnRlbXBsYXRlSWQgPSBwYXlsb2FkLnRlbXBsYXRlSWQgPz8gXCJcIjtcbiAgICAgIG1pc3Npb24uZGlzcGxheU5hbWUgPSBwYXlsb2FkLmRpc3BsYXlOYW1lID8/IG1pc3Npb24uZGlzcGxheU5hbWUgPz8gXCJcIjtcbiAgICAgIG1pc3Npb24uYXJjaGV0eXBlID0gcGF5bG9hZC5hcmNoZXR5cGUgPz8gbWlzc2lvbi5hcmNoZXR5cGUgPz8gXCJcIjtcbiAgICAgIG1pc3Npb24udGltZW91dCA9IE51bWJlci5pc0Zpbml0ZShwYXlsb2FkLnRpbWVvdXQpID8gTnVtYmVyKHBheWxvYWQudGltZW91dCkgOiAwO1xuICAgICAgbWlzc2lvbi5zdGF0dXMgPSBcImlkbGVcIjtcbiAgICAgIG1pc3Npb24uc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgIG1pc3Npb24uY29tcGxldGlvblRpbWUgPSBudWxsO1xuICAgICAgbWlzc2lvbi5wcm9ncmVzcyA9IDA7XG4gICAgICBtaXNzaW9uLm9iamVjdGl2ZXMgPSBbXTtcbiAgICAgIG1pc3Npb24ub2JqZWN0aXZlU3VtbWFyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLm9iamVjdGl2ZXMpID8gWy4uLnBheWxvYWQub2JqZWN0aXZlc10gOiBbXTtcbiAgICAgIG1pc3Npb24uc2VydmVyVGltZSA9IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG5cbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjpvZmZlcmVkXCIsIHtcbiAgICAgICAgbWlzc2lvbklkOiBtaXNzaW9uLm1pc3Npb25JZCxcbiAgICAgICAgdGVtcGxhdGVJZDogbWlzc2lvbi50ZW1wbGF0ZUlkLFxuICAgICAgICBkaXNwbGF5TmFtZTogbWlzc2lvbi5kaXNwbGF5TmFtZSxcbiAgICAgICAgYXJjaGV0eXBlOiBtaXNzaW9uLmFyY2hldHlwZSxcbiAgICAgICAgb2JqZWN0aXZlczogbWlzc2lvbi5vYmplY3RpdmVTdW1tYXJpZXMsXG4gICAgICAgIHRpbWVvdXQ6IG1pc3Npb24udGltZW91dCxcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FzZSBcIm1pc3Npb246dXBkYXRlXCI6IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBtc2cucGF5bG9hZCBhcyBQYXJ0aWFsPE1pc3Npb25VcGRhdGVEVE8+IHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1pc3Npb24gPSBlbnN1cmVNaXNzaW9uU3RhdGUoc3RhdGUpO1xuICAgICAgaWYgKHBheWxvYWQubWlzc2lvbklkKSB7XG4gICAgICAgIG1pc3Npb24ubWlzc2lvbklkID0gcGF5bG9hZC5taXNzaW9uSWQ7XG4gICAgICB9XG4gICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHBheWxvYWQuc2VydmVyVGltZSkpIHtcbiAgICAgICAgbWlzc2lvbi5zZXJ2ZXJUaW1lID0gTnVtYmVyKHBheWxvYWQuc2VydmVyVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBheWxvYWQuc3RhdHVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG1pc3Npb24uc3RhdHVzID0gcGF5bG9hZC5zdGF0dXMgYXMgTWlzc2lvblN0YXR1cztcbiAgICAgIH1cbiAgICAgIGlmIChtaXNzaW9uLnN0YXR1cyA9PT0gXCJhY3RpdmVcIiAmJiBtaXNzaW9uLnN0YXJ0VGltZSA9PSBudWxsKSB7XG4gICAgICAgIG1pc3Npb24uc3RhcnRUaW1lID0gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXlsb2FkLm9iamVjdGl2ZXMpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0aXZlcyA9IHVwZGF0ZU1pc3Npb25PYmplY3RpdmVzKHN0YXRlLCBidXMsIHBheWxvYWQub2JqZWN0aXZlcyk7XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjp1cGRhdGVcIiwge1xuICAgICAgICAgIG1pc3Npb25JZDogbWlzc2lvbi5taXNzaW9uSWQsXG4gICAgICAgICAgc3RhdHVzOiBtaXNzaW9uLnN0YXR1cyxcbiAgICAgICAgICBvYmplY3RpdmVzLFxuICAgICAgICAgIHNlcnZlclRpbWU6IG1pc3Npb24uc2VydmVyVGltZSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidXMuZW1pdChcIm1pc3Npb246dXBkYXRlXCIsIHtcbiAgICAgICAgICBtaXNzaW9uSWQ6IG1pc3Npb24ubWlzc2lvbklkLFxuICAgICAgICAgIHN0YXR1czogbWlzc2lvbi5zdGF0dXMsXG4gICAgICAgICAgb2JqZWN0aXZlczogbWlzc2lvbi5vYmplY3RpdmVzLFxuICAgICAgICAgIHNlcnZlclRpbWU6IG1pc3Npb24uc2VydmVyVGltZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaXNzaW9uLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICBtaXNzaW9uLmNvbXBsZXRpb25UaW1lID0gbWlzc2lvbi5zZXJ2ZXJUaW1lO1xuICAgICAgICBtaXNzaW9uLnByb2dyZXNzID0gMTtcbiAgICAgICAgYnVzLmVtaXQoXCJtaXNzaW9uOmNvbXBsZXRlZFwiLCB7IG1pc3Npb25JZDogbWlzc2lvbi5taXNzaW9uSWQgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1pc3Npb24uc3RhdHVzID09PSBcImZhaWxlZFwiKSB7XG4gICAgICAgIG1pc3Npb24uY29tcGxldGlvblRpbWUgPSBtaXNzaW9uLnNlcnZlclRpbWU7XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lvbjpmYWlsZWRcIiwgeyBtaXNzaW9uSWQ6IG1pc3Npb24ubWlzc2lvbklkIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FzZSBcImRlYnVnOmJlYWNvbnNcIjoge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IG1zZy5wYXlsb2FkIGFzIHsgYmVhY29ucz86IHVua25vd24gfSB8IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IGJlYWNvbnNBcnJheSA9IEFycmF5LmlzQXJyYXkocGF5bG9hZD8uYmVhY29ucykgPyBwYXlsb2FkIS5iZWFjb25zIDogW107XG4gICAgICBjb25zdCBiZWFjb25zOiBEZWJ1Z0JlYWNvbkluZm9bXSA9IGJlYWNvbnNBcnJheS5tYXAobm9ybWFsaXplRGVidWdCZWFjb24pO1xuICAgICAgc3RhdGUuZGVidWcuYmVhY29ucyA9IGJlYWNvbnM7XG4gICAgICBzdGF0ZS5kZWJ1Zy5sYXN0UmVjZWl2ZWRBdCA9IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG4gICAgICBidXMuZW1pdChcImRlYnVnOmJlYWNvbnNcIiwgeyBiZWFjb25zIH0pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FzZSBcImRlYnVnOmVuY291bnRlcnNcIjoge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IG1zZy5wYXlsb2FkIGFzIHsgZW5jb3VudGVycz86IHVua25vd24gfSB8IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IGVuY291bnRlcnNBcnJheSA9IEFycmF5LmlzQXJyYXkocGF5bG9hZD8uZW5jb3VudGVycykgPyBwYXlsb2FkIS5lbmNvdW50ZXJzIDogW107XG4gICAgICBjb25zdCBlbmNvdW50ZXJzOiBEZWJ1Z0VuY291bnRlckluZm9bXSA9IGVuY291bnRlcnNBcnJheS5tYXAobm9ybWFsaXplRGVidWdFbmNvdW50ZXIpO1xuICAgICAgc3RhdGUuZGVidWcuZW5jb3VudGVycyA9IGVuY291bnRlcnM7XG4gICAgICBzdGF0ZS5kZWJ1Zy5sYXN0UmVjZWl2ZWRBdCA9IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG4gICAgICBidXMuZW1pdChcImRlYnVnOmVuY291bnRlcnNcIiwgeyBlbmNvdW50ZXJzIH0pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1pc3Npb25PYmplY3RpdmVzKHN0YXRlOiBBcHBTdGF0ZSwgYnVzOiBFdmVudEJ1cywgb2JqZWN0aXZlRFRPczogT2JqZWN0aXZlU3RhdGVEVE9bXSk6IE1pc3Npb25PYmplY3RpdmVTdGF0ZVtdIHtcbiAgY29uc3QgbWlzc2lvbiA9IGVuc3VyZU1pc3Npb25TdGF0ZShzdGF0ZSk7XG4gIGNvbnN0IG9iamVjdGl2ZXMgPSBBcnJheS5pc0FycmF5KG9iamVjdGl2ZURUT3MpXG4gICAgPyBvYmplY3RpdmVEVE9zLm1hcCgob2JqKSA9PiAoe1xuICAgICAgaWQ6IG9iai5pZCA/PyBcIlwiLFxuICAgICAgdHlwZTogb2JqLnR5cGUgPz8gXCJ1bmtub3duXCIsXG4gICAgICBwcm9ncmVzczogY2xhbXBQcm9ncmVzcyhvYmoucHJvZ3Jlc3MgPz8gMCksXG4gICAgICBjb21wbGV0ZTogQm9vbGVhbihvYmouY29tcGxldGUpLFxuICAgICAgZGVzY3JpcHRpb246IG9iai5kZXNjcmlwdGlvbiA/PyBcIlwiLFxuICAgIH0pKVxuICAgIDogW107XG5cbiAgbWlzc2lvbi5vYmplY3RpdmVzID0gb2JqZWN0aXZlcztcbiAgbWlzc2lvbi5wcm9ncmVzcyA9IGNhbGN1bGF0ZU1pc3Npb25Qcm9ncmVzcyhvYmplY3RpdmVzKTtcblxuICBidXMuZW1pdChcIm1pc3Npb246b2JqZWN0aXZlcy11cGRhdGVkXCIsIHsgb2JqZWN0aXZlcyB9KTtcbiAgYnVzLmVtaXQoXCJtaXNzaW9uOnByb2dyZXNzLWNoYW5nZWRcIiwgeyBwcm9ncmVzczogbWlzc2lvbi5wcm9ncmVzcywgb2JqZWN0aXZlcyB9KTtcblxuICByZXR1cm4gb2JqZWN0aXZlcztcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTWlzc2lvblByb2dyZXNzKG9iamVjdGl2ZXM6IE1pc3Npb25PYmplY3RpdmVTdGF0ZVtdKTogbnVtYmVyIHtcbiAgaWYgKCFvYmplY3RpdmVzIHx8IG9iamVjdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgdG90YWwgPSBvYmplY3RpdmVzLnJlZHVjZSgoc3VtLCBvYmopID0+IHN1bSArIGNsYW1wUHJvZ3Jlc3Mob2JqLnByb2dyZXNzKSwgMCk7XG4gIGNvbnN0IG1lYW4gPSB0b3RhbCAvIG9iamVjdGl2ZXMubGVuZ3RoO1xuICByZXR1cm4gY2xhbXBQcm9ncmVzcyhtZWFuKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVidWdCZWFjb24ocmF3OiBhbnkpOiBEZWJ1Z0JlYWNvbkluZm8ge1xuICBjb25zdCBpZCA9IHR5cGVvZiByYXc/LmlkID09PSBcInN0cmluZ1wiID8gcmF3LmlkIDogU3RyaW5nKHJhdz8uaWQgPz8gXCJcIik7XG4gIGNvbnN0IHggPSBOdW1iZXIocmF3Py54KTtcbiAgY29uc3QgeSA9IE51bWJlcihyYXc/LnkpO1xuICBjb25zdCB0YWdzID0gQXJyYXkuaXNBcnJheShyYXc/LnRhZ3MpID8gcmF3LnRhZ3MubWFwKCh0YWc6IHVua25vd24pID0+IFN0cmluZyh0YWcgPz8gXCJcIikpIDogW107XG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgeDogTnVtYmVyLmlzRmluaXRlKHgpID8geCA6IDAsXG4gICAgeTogTnVtYmVyLmlzRmluaXRlKHkpID8geSA6IDAsXG4gICAgdGFncyxcbiAgICBwaW5uZWQ6IEJvb2xlYW4ocmF3Py5waW5uZWQpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEZWJ1Z0VuY291bnRlcihyYXc6IGFueSk6IERlYnVnRW5jb3VudGVySW5mbyB7XG4gIGNvbnN0IGVuY291bnRlcklkID0gdHlwZW9mIHJhdz8uZW5jb3VudGVySWQgPT09IFwic3RyaW5nXCIgPyByYXcuZW5jb3VudGVySWQgOiBTdHJpbmcocmF3Py5lbmNvdW50ZXJJZCA/PyBcIlwiKTtcbiAgY29uc3QgYmVhY29uSWQgPSB0eXBlb2YgcmF3Py5iZWFjb25JZCA9PT0gXCJzdHJpbmdcIiA/IHJhdy5iZWFjb25JZCA6IFN0cmluZyhyYXc/LmJlYWNvbklkID8/IFwiXCIpO1xuICBjb25zdCBzcGF3blRpbWVOdW0gPSBOdW1iZXIocmF3Py5zcGF3blRpbWUpO1xuICBjb25zdCBsaWZldGltZU51bSA9IE51bWJlcihyYXc/LmxpZmV0aW1lKTtcbiAgY29uc3QgZW50aXR5Q291bnROdW0gPSBOdW1iZXIocmF3Py5lbnRpdHlDb3VudCk7XG4gIHJldHVybiB7XG4gICAgZW5jb3VudGVySWQsXG4gICAgYmVhY29uSWQsXG4gICAgc3Bhd25UaW1lOiBOdW1iZXIuaXNGaW5pdGUoc3Bhd25UaW1lTnVtKSA/IHNwYXduVGltZU51bSA6IDAsXG4gICAgbGlmZXRpbWU6IE51bWJlci5pc0Zpbml0ZShsaWZldGltZU51bSkgPyBNYXRoLm1heCgwLCBsaWZldGltZU51bSkgOiAwLFxuICAgIGVudGl0eUNvdW50OiBOdW1iZXIuaXNGaW5pdGUoZW50aXR5Q291bnROdW0pID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihlbnRpdHlDb3VudE51bSkpIDogMCxcbiAgfTtcbn1cblxuLy8gSGFuZGxlIHByb3RvYnVmIHN0YXRlIG1lc3NhZ2VzIChzaW1wbGlmaWVkIHZlcnNpb24gb2YgaGFuZGxlU3RhdGVNZXNzYWdlKVxuZnVuY3Rpb24gaGFuZGxlUHJvdG9TdGF0ZU1lc3NhZ2UoXG4gIHN0YXRlOiBBcHBTdGF0ZSxcbiAgbXNnOiBSZXR1cm5UeXBlPHR5cGVvZiBwcm90b1RvU3RhdGU+LFxuICBidXM6IEV2ZW50QnVzLFxuICBwcmV2Um91dGVzOiBNYXA8c3RyaW5nLCBNaXNzaWxlUm91dGU+LFxuICBwcmV2QWN0aXZlUm91dGU6IHN0cmluZyB8IG51bGwsXG4gIHByZXZNaXNzaWxlQ291bnQ6IG51bWJlcixcbik6IHZvaWQge1xuICBzdGF0ZS5ub3cgPSBtc2cubm93O1xuICBzdGF0ZS5ub3dTeW5jZWRBdCA9IG1vbm90b25pY05vdygpO1xuICBzdGF0ZS5uZXh0TWlzc2lsZVJlYWR5QXQgPSBtc2cubmV4dE1pc3NpbGVSZWFkeTtcblxuICAvLyBVcGRhdGUgcGxheWVyIHNoaXBcbiAgaWYgKG1zZy5tZSkge1xuICAgIHN0YXRlLm1lID0ge1xuICAgICAgeDogbXNnLm1lLngsXG4gICAgICB5OiBtc2cubWUueSxcbiAgICAgIHZ4OiBtc2cubWUudngsXG4gICAgICB2eTogbXNnLm1lLnZ5LFxuICAgICAgaHA6IG1zZy5tZS5ocCxcbiAgICAgIGtpbGxzOiBtc2cubWUua2lsbHMsXG4gICAgICB3YXlwb2ludHM6IG1zZy5tZS53YXlwb2ludHMgPz8gW10sXG4gICAgICBjdXJyZW50V2F5cG9pbnRJbmRleDogbXNnLm1lLmN1cnJlbnRXYXlwb2ludEluZGV4ID8/IDAsXG4gICAgICBoZWF0OiBtc2cubWUuaGVhdCA/IGNvbnZlcnRIZWF0Vmlldyhtc2cubWUuaGVhdCwgc3RhdGUubm93U3luY2VkQXQsIHN0YXRlLm5vdykgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5tZSA9IG51bGw7XG4gIH1cblxuICAvLyBVcGRhdGUgZ2hvc3RzIGFuZCBtaXNzaWxlcyAoYWxyZWFkeSBpbiBjb3JyZWN0IGZvcm1hdCBmcm9tIHByb3RvX2hlbHBlcnMpXG4gIHN0YXRlLmdob3N0cyA9IG1zZy5naG9zdHM7XG4gIHN0YXRlLm1pc3NpbGVzID0gbXNnLm1pc3NpbGVzO1xuXG4gIC8vIFVwZGF0ZSBtaXNzaWxlIHJvdXRlc1xuICBjb25zdCBuZXdSb3V0ZXM6IE1pc3NpbGVSb3V0ZVtdID0gbXNnLm1pc3NpbGVSb3V0ZXM7XG4gIGRpZmZSb3V0ZXMocHJldlJvdXRlcywgbmV3Um91dGVzLCBidXMpO1xuICBzdGF0ZS5taXNzaWxlUm91dGVzID0gbmV3Um91dGVzO1xuXG4gIC8vIFVwZGF0ZSBhY3RpdmUgcm91dGVcbiAgY29uc3QgbmV4dEFjdGl2ZSA9IG1zZy5hY3RpdmVNaXNzaWxlUm91dGUgfHwgKG5ld1JvdXRlcy5sZW5ndGggPiAwID8gbmV3Um91dGVzWzBdLmlkIDogbnVsbCk7XG4gIHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkID0gbmV4dEFjdGl2ZTtcbiAgaWYgKG5leHRBY3RpdmUgIT09IHByZXZBY3RpdmVSb3V0ZSkge1xuICAgIGJ1cy5lbWl0KFwibWlzc2lsZTphY3RpdmVSb3V0ZUNoYW5nZWRcIiwgeyByb3V0ZUlkOiBuZXh0QWN0aXZlIH0pO1xuICB9XG5cbiAgLy8gVXBkYXRlIG1pc3NpbGUgY29uZmlnXG4gIGlmIChtc2cubWlzc2lsZUNvbmZpZykge1xuICAgIHVwZGF0ZU1pc3NpbGVMaW1pdHMoc3RhdGUsIHtcbiAgICAgIHNwZWVkTWluOiBtc2cubWlzc2lsZUNvbmZpZy5zcGVlZE1pbixcbiAgICAgIHNwZWVkTWF4OiBtc2cubWlzc2lsZUNvbmZpZy5zcGVlZE1heCxcbiAgICAgIGFncm9NaW46IG1zZy5taXNzaWxlQ29uZmlnLmFncm9NaW4sXG4gICAgfSk7XG5cbiAgICBjb25zdCBwcmV2SGVhdCA9IHN0YXRlLm1pc3NpbGVDb25maWcuaGVhdFBhcmFtcztcbiAgICBsZXQgaGVhdFBhcmFtczogeyBtYXg6IG51bWJlcjsgd2FybkF0OiBudW1iZXI7IG92ZXJoZWF0QXQ6IG51bWJlcjsgbWFya2VyU3BlZWQ6IG51bWJlcjsga1VwOiBudW1iZXI7IGtEb3duOiBudW1iZXI7IGV4cDogbnVtYmVyIH0gfCB1bmRlZmluZWQ7XG4gICAgaWYgKG1zZy5taXNzaWxlQ29uZmlnLmhlYXRDb25maWcpIHtcbiAgICAgIGNvbnN0IGhlYXRDb25maWcgPSBtc2cubWlzc2lsZUNvbmZpZy5oZWF0Q29uZmlnO1xuICAgICAgaGVhdFBhcmFtcyA9IHtcbiAgICAgICAgbWF4OiBoZWF0Q29uZmlnLm1heCA/PyBwcmV2SGVhdD8ubWF4ID8/IDAsXG4gICAgICAgIHdhcm5BdDogaGVhdENvbmZpZy53YXJuQXQgPz8gcHJldkhlYXQ/Lndhcm5BdCA/PyAwLFxuICAgICAgICBvdmVyaGVhdEF0OiBoZWF0Q29uZmlnLm92ZXJoZWF0QXQgPz8gcHJldkhlYXQ/Lm92ZXJoZWF0QXQgPz8gMCxcbiAgICAgICAgbWFya2VyU3BlZWQ6IGhlYXRDb25maWcubWFya2VyU3BlZWQgPz8gcHJldkhlYXQ/Lm1hcmtlclNwZWVkID8/IDAsXG4gICAgICAgIGtVcDogaGVhdENvbmZpZy5rVXAgPz8gcHJldkhlYXQ/LmtVcCA/PyAwLFxuICAgICAgICBrRG93bjogaGVhdENvbmZpZy5rRG93biA/PyBwcmV2SGVhdD8ua0Rvd24gPz8gMCxcbiAgICAgICAgZXhwOiBoZWF0Q29uZmlnLmV4cCA/PyBwcmV2SGVhdD8uZXhwID8/IDEsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHNhbml0aXplZCA9IHNhbml0aXplTWlzc2lsZUNvbmZpZyh7XG4gICAgICBzcGVlZDogbXNnLm1pc3NpbGVDb25maWcuc3BlZWQsXG4gICAgICBhZ3JvUmFkaXVzOiBtc2cubWlzc2lsZUNvbmZpZy5hZ3JvUmFkaXVzLFxuICAgICAgaGVhdFBhcmFtcyxcbiAgICB9LCBzdGF0ZS5taXNzaWxlQ29uZmlnLCBzdGF0ZS5taXNzaWxlTGltaXRzKTtcbiAgICBzYW5pdGl6ZWQubGlmZXRpbWUgPSBtc2cubWlzc2lsZUNvbmZpZy5saWZldGltZTtcbiAgICBzdGF0ZS5taXNzaWxlQ29uZmlnID0gc2FuaXRpemVkO1xuICB9XG5cbiAgLy8gVXBkYXRlIHdvcmxkIG1ldGFcbiAgc3RhdGUud29ybGRNZXRhID0ge1xuICAgIGM6IG1zZy5tZXRhLmMsXG4gICAgdzogbXNnLm1ldGEudyxcbiAgICBoOiBtc2cubWV0YS5oLFxuICB9O1xuXG4gIC8vIFBoYXNlIDI6IFVwZGF0ZSBpbnZlbnRvcnlcbiAgaWYgKG1zZy5pbnZlbnRvcnkpIHtcbiAgICBzdGF0ZS5pbnZlbnRvcnkgPSB7XG4gICAgICBpdGVtczogbXNnLmludmVudG9yeS5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgdmFyaWFudF9pZDogaXRlbS52YXJpYW50SWQsXG4gICAgICAgIGhlYXRfY2FwYWNpdHk6IGl0ZW0uaGVhdENhcGFjaXR5LFxuICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgIH0pKSxcbiAgICB9O1xuICB9XG5cbiAgLy8gUGhhc2UgMjogVXBkYXRlIERBRyAocHJvdG9Ub1N0YXRlIGFscmVhZHkgbm9ybWFsaXplZCB2aWEgcHJvdG9faGVscGVycylcbiAgaWYgKG1zZy5kYWcpIHtcbiAgICBzdGF0ZS5kYWcgPSB7XG4gICAgICBub2RlczogbXNnLmRhZy5ub2Rlcy5tYXAoKG4pID0+ICh7XG4gICAgICAgIGlkOiBuLmlkLFxuICAgICAgICBraW5kOiBuLmtpbmQsXG4gICAgICAgIGxhYmVsOiBuLmxhYmVsLFxuICAgICAgICBzdGF0dXM6IG4uc3RhdHVzLFxuICAgICAgICByZW1haW5pbmdfczogbi5yZW1haW5pbmdTLFxuICAgICAgICBkdXJhdGlvbl9zOiBuLmR1cmF0aW9uUyxcbiAgICAgICAgcmVwZWF0YWJsZTogbi5yZXBlYXRhYmxlLFxuICAgICAgICBlZmZlY3RzOiBuLmVmZmVjdHMsXG4gICAgICB9KSksXG4gICAgfTtcbiAgfVxuXG4gIC8vIFBoYXNlIDI6IFVwZGF0ZSBjYXBhYmlsaXRpZXNcbiAgaWYgKG1zZy5jYXBhYmlsaXRpZXMpIHtcbiAgICBzdGF0ZS5jYXBhYmlsaXRpZXMgPSB7XG4gICAgICBzcGVlZE11bHRpcGxpZXI6IG1zZy5jYXBhYmlsaXRpZXMuc3BlZWRNdWx0aXBsaWVyLFxuICAgICAgdW5sb2NrZWRNaXNzaWxlczogbXNnLmNhcGFiaWxpdGllcy51bmxvY2tlZE1pc3NpbGVzLFxuICAgICAgaGVhdENhcGFjaXR5OiBtc2cuY2FwYWJpbGl0aWVzLmhlYXRDYXBhY2l0eSxcbiAgICAgIGhlYXRFZmZpY2llbmN5OiBtc2cuY2FwYWJpbGl0aWVzLmhlYXRFZmZpY2llbmN5LFxuICAgIH07XG4gIH1cblxuICAvLyBQaGFzZSAyOiBVcGRhdGUgc3RvcnlcbiAgaWYgKG1zZy5zdG9yeSkge1xuICAgIGNvbnN0IHByZXZBY3RpdmVOb2RlID0gc3RhdGUuc3Rvcnk/LmFjdGl2ZU5vZGUgPz8gbnVsbDtcblxuICAgIC8vIENvbnZlcnQgc3RvcnkgZGlhbG9ndWUgdG8gRGlhbG9ndWVDb250ZW50IGZvcm1hdFxuICAgIGxldCBkaWFsb2d1ZTogRGlhbG9ndWVDb250ZW50IHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKG1zZy5zdG9yeS5kaWFsb2d1ZSkge1xuICAgICAgY29uc3QgZCA9IG1zZy5zdG9yeS5kaWFsb2d1ZTtcbiAgICAgIGRpYWxvZ3VlID0ge1xuICAgICAgICBzcGVha2VyOiBkLnNwZWFrZXIsXG4gICAgICAgIHRleHQ6IGQudGV4dCxcbiAgICAgICAgaW50ZW50OiBkLmludGVudCBhcyBcImZhY3RvcnlcIiB8IFwidW5pdFwiLFxuICAgICAgICB0eXBpbmdTcGVlZE1zOiAxOCxcbiAgICAgICAgY29udGludWVMYWJlbDogZC5jb250aW51ZUxhYmVsLFxuICAgICAgICBjaG9pY2VzOiBkLmNob2ljZXM/Lm1hcChjID0+ICh7IGlkOiBjLmlkLCB0ZXh0OiBjLnRleHQgfSkpLFxuICAgICAgICB0dXRvcmlhbFRpcDogZC50dXRvcmlhbFRpcCA/IHtcbiAgICAgICAgICB0aXRsZTogZC50dXRvcmlhbFRpcC50aXRsZSxcbiAgICAgICAgICB0ZXh0OiBkLnR1dG9yaWFsVGlwLnRleHQsXG4gICAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRlLnN0b3J5ID0ge1xuICAgICAgYWN0aXZlTm9kZTogbXNnLnN0b3J5LmFjdGl2ZU5vZGUgfHwgbnVsbCxcbiAgICAgIGRpYWxvZ3VlLFxuICAgICAgYXZhaWxhYmxlOiBtc2cuc3RvcnkuYXZhaWxhYmxlLFxuICAgICAgZmxhZ3M6IG1zZy5zdG9yeS5mbGFncyxcbiAgICAgIHJlY2VudEV2ZW50czogbXNnLnN0b3J5LnJlY2VudEV2ZW50cy5tYXAoKGV2dCkgPT4gKHtcbiAgICAgICAgY2hhcHRlcjogZXZ0LmNoYXB0ZXJJZCxcbiAgICAgICAgbm9kZTogZXZ0Lm5vZGVJZCxcbiAgICAgICAgdGltZXN0YW1wOiBldnQudGltZXN0YW1wLFxuICAgICAgfSkpLFxuICAgIH07XG5cbiAgICAvLyBFbWl0IGV2ZW50IHdoZW4gYWN0aXZlIHN0b3J5IG5vZGUgY2hhbmdlc1xuICAgIGlmIChzdGF0ZS5zdG9yeS5hY3RpdmVOb2RlICE9PSBwcmV2QWN0aXZlTm9kZSAmJiBzdGF0ZS5zdG9yeS5hY3RpdmVOb2RlKSB7XG4gICAgICBidXMuZW1pdChcInN0b3J5Om5vZGVBY3RpdmF0ZWRcIiwge1xuICAgICAgICBub2RlSWQ6IHN0YXRlLnN0b3J5LmFjdGl2ZU5vZGUsXG4gICAgICAgIGRpYWxvZ3VlOiBzdGF0ZS5zdG9yeS5kaWFsb2d1ZSA/PyB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBFbWl0IG1pc3NpbGUgY291bnQgY2hhbmdlIGlmIG5lZWRlZFxuICBjb25zdCBuZXdNaXNzaWxlQ291bnQgPSBzdGF0ZS5taXNzaWxlcy5sZW5ndGg7XG4gIGlmIChuZXdNaXNzaWxlQ291bnQgPiBwcmV2TWlzc2lsZUNvdW50KSB7XG4gICAgZm9yIChsZXQgaSA9IHByZXZNaXNzaWxlQ291bnQ7IGkgPCBuZXdNaXNzaWxlQ291bnQ7IGkrKykge1xuICAgICAgY29uc3QgbSA9IHN0YXRlLm1pc3NpbGVzW2ldO1xuICAgICAgaWYgKG0gJiYgbS5zZWxmKSB7XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTpsYXVuY2hlZFwiLCB7IHJvdXRlSWQ6IG1zZy5hY3RpdmVNaXNzaWxlUm91dGUgfHwgXCJcIiB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBFbWl0IGNvb2xkb3duIHVwZGF0ZVxuICBjb25zdCBjb29sZG93blJlbWFpbmluZyA9IE1hdGgubWF4KDAsIHN0YXRlLm5leHRNaXNzaWxlUmVhZHlBdCAtIGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSkpO1xuICBidXMuZW1pdChcIm1pc3NpbGU6Y29vbGRvd25VcGRhdGVkXCIsIHsgc2Vjb25kc1JlbWFpbmluZzogY29vbGRvd25SZW1haW5pbmcgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1pc3Npb25TbmFwc2hvdChzdGF0ZTogQXBwU3RhdGUsIHNuYXBzaG90OiBNaXNzaW9uQmVhY29uU25hcHNob3QsIGJ1czogRXZlbnRCdXMpOiB2b2lkIHtcbiAgY29uc3QgbWlzc2lvbiA9IGVuc3VyZU1pc3Npb25TdGF0ZShzdGF0ZSk7XG4gIGNvbnN0IHByZXZpb3VzTWlzc2lvbklkID0gbWlzc2lvbi5taXNzaW9uSWQ7XG4gIG1pc3Npb24ubWlzc2lvbklkID0gc25hcHNob3QubWlzc2lvbklkIHx8IG1pc3Npb24ubWlzc2lvbklkIHx8IFwiXCI7XG4gIG1pc3Npb24ubGF5b3V0U2VlZCA9IE51bWJlcihzbmFwc2hvdC5sYXlvdXRTZWVkID8/IG1pc3Npb24ubGF5b3V0U2VlZCA/PyAwKTtcbiAgbWlzc2lvbi5zZXJ2ZXJUaW1lID0gTnVtYmVyLmlzRmluaXRlKHNuYXBzaG90LnNlcnZlclRpbWUpID8gc25hcHNob3Quc2VydmVyVGltZSA6IG1pc3Npb24uc2VydmVyVGltZTtcblxuICBjb25zdCBwcmV2aW91c0JlYWNvbnMgPSBuZXcgTWFwKG1pc3Npb24uYmVhY29ucy5tYXAoKGIpID0+IFtiLmlkLCBiXSkpO1xuICBtaXNzaW9uLmJlYWNvbnMgPSBzbmFwc2hvdC5iZWFjb25zXG4gICAgLnNsaWNlKClcbiAgICAuc29ydCgoYSwgYikgPT4gYS5vcmRpbmFsIC0gYi5vcmRpbmFsKVxuICAgIC5tYXAoKGRlZik6IE1pc3Npb25CZWFjb24gPT4ge1xuICAgICAgY29uc3QgcHJldiA9IHByZXZpb3VzQmVhY29ucy5nZXQoZGVmLmlkKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkZWYuaWQsXG4gICAgICAgIG9yZGluYWw6IGRlZi5vcmRpbmFsLFxuICAgICAgICB4OiBkZWYueCxcbiAgICAgICAgeTogZGVmLnksXG4gICAgICAgIHJhZGl1czogZGVmLnJhZGl1cyxcbiAgICAgICAgc2VlZDogTnVtYmVyKGRlZi5zZWVkIHx8IDApLFxuICAgICAgICBkaXNjb3ZlcmVkOiBwcmV2Py5kaXNjb3ZlcmVkID8/IGZhbHNlLFxuICAgICAgICBjb21wbGV0ZWQ6IHByZXY/LmNvbXBsZXRlZCA/PyBmYWxzZSxcbiAgICAgICAgY29vbGRvd25VbnRpbDogcHJldj8uY29vbGRvd25VbnRpbCA/PyBudWxsLFxuICAgICAgfTtcbiAgICB9KTtcblxuICBjb25zdCBsb2NhbFBsYXllcklkID0gZ2V0TG9jYWxQbGF5ZXJJZChzdGF0ZSk7XG4gIGxldCBwbGF5ZXJQcm90byA9IGxvY2FsUGxheWVySWRcbiAgICA/IHNuYXBzaG90LnBsYXllcnMuZmluZCgocCkgPT4gcC5wbGF5ZXJJZCA9PT0gbG9jYWxQbGF5ZXJJZCkgfHwgbnVsbFxuICAgIDogbnVsbDtcbiAgaWYgKCFwbGF5ZXJQcm90byAmJiBzbmFwc2hvdC5wbGF5ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgIHBsYXllclByb3RvID0gc25hcHNob3QucGxheWVyc1swXTtcbiAgfVxuXG4gIGlmIChwbGF5ZXJQcm90bykge1xuICAgIGNvbnN0IG5vd01zID0gbW9ub3RvbmljTm93KCk7XG4gICAgY29uc3QgZGlzY292ZXJlZFNldCA9IG5ldyBTZXQocGxheWVyUHJvdG8uZGlzY292ZXJlZCA/PyBbXSk7XG4gICAgY29uc3QgY29tcGxldGVkU2V0ID0gbmV3IFNldChwbGF5ZXJQcm90by5jb21wbGV0ZWQgPz8gW10pO1xuICAgIGZvciAoY29uc3QgYmVhY29uIG9mIG1pc3Npb24uYmVhY29ucykge1xuICAgICAgYmVhY29uLmRpc2NvdmVyZWQgPSBkaXNjb3ZlcmVkU2V0LmhhcyhiZWFjb24uaWQpO1xuICAgICAgYmVhY29uLmNvbXBsZXRlZCA9IGNvbXBsZXRlZFNldC5oYXMoYmVhY29uLmlkKTtcbiAgICAgIGNvbnN0IGNvb2xkb3duID0gcGxheWVyUHJvdG8uY29vbGRvd25zPy5bYmVhY29uLmlkXTtcbiAgICAgIGJlYWNvbi5jb29sZG93blVudGlsID0gTnVtYmVyLmlzRmluaXRlKGNvb2xkb3duKSA/IGNvb2xkb3duIDogbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgcGxheWVyID0gbWlzc2lvbi5wbGF5ZXI7XG4gICAgaWYgKCFwbGF5ZXIgfHwgcGxheWVyLnBsYXllcklkICE9PSBwbGF5ZXJQcm90by5wbGF5ZXJJZCkge1xuICAgICAgcGxheWVyID0ge1xuICAgICAgICBwbGF5ZXJJZDogcGxheWVyUHJvdG8ucGxheWVySWQsXG4gICAgICAgIGN1cnJlbnRJbmRleDogcGxheWVyUHJvdG8uY3VycmVudEluZGV4ID8/IDAsXG4gICAgICAgIGFjdGl2ZUJlYWNvbklkOiBwbGF5ZXJQcm90by5hY3RpdmVCZWFjb24gfHwgbnVsbCxcbiAgICAgICAgaG9sZEFjY3VtOiBwbGF5ZXJQcm90by5ob2xkQWNjdW0gPz8gMCxcbiAgICAgICAgaG9sZFJlcXVpcmVkOiBNYXRoLm1heCgwLCBwbGF5ZXJQcm90by5ob2xkUmVxdWlyZWQgPz8gMCksXG4gICAgICAgIGRpc3BsYXlIb2xkOiBwbGF5ZXJQcm90by5ob2xkQWNjdW0gPz8gMCxcbiAgICAgICAgbGFzdFNlcnZlclVwZGF0ZTogTnVtYmVyLmlzRmluaXRlKHNuYXBzaG90LnNlcnZlclRpbWUpID8gc25hcHNob3Quc2VydmVyVGltZSA6IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSksXG4gICAgICAgIGxhc3REaXNwbGF5U3luYzogbm93TXMsXG4gICAgICAgIGluc2lkZUFjdGl2ZUJlYWNvbjogZmFsc2UsXG4gICAgICB9O1xuICAgICAgbWlzc2lvbi5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXllci5jdXJyZW50SW5kZXggPSBwbGF5ZXJQcm90by5jdXJyZW50SW5kZXggPz8gcGxheWVyLmN1cnJlbnRJbmRleDtcbiAgICAgIHBsYXllci5hY3RpdmVCZWFjb25JZCA9IHBsYXllclByb3RvLmFjdGl2ZUJlYWNvbiB8fCBudWxsO1xuICAgICAgcGxheWVyLmhvbGRBY2N1bSA9IHBsYXllclByb3RvLmhvbGRBY2N1bSA/PyBwbGF5ZXIuaG9sZEFjY3VtO1xuICAgICAgcGxheWVyLmhvbGRSZXF1aXJlZCA9IE1hdGgubWF4KDAsIHBsYXllclByb3RvLmhvbGRSZXF1aXJlZCA/PyBwbGF5ZXIuaG9sZFJlcXVpcmVkKTtcbiAgICAgIHBsYXllci5kaXNwbGF5SG9sZCA9IHBsYXllclByb3RvLmhvbGRBY2N1bSA/PyBwbGF5ZXIuZGlzcGxheUhvbGQgPz8gMDtcbiAgICAgIHBsYXllci5sYXN0U2VydmVyVXBkYXRlID0gTnVtYmVyLmlzRmluaXRlKHNuYXBzaG90LnNlcnZlclRpbWUpID8gc25hcHNob3Quc2VydmVyVGltZSA6IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG4gICAgICBwbGF5ZXIubGFzdERpc3BsYXlTeW5jID0gbm93TXM7XG4gICAgfVxuXG4gICAgbWlzc2lvbi5zdGF0dXMgPSBjb21wbGV0ZWRTZXQuc2l6ZSA+IDAgJiYgY29tcGxldGVkU2V0LnNpemUgPj0gbWlzc2lvbi5iZWFjb25zLmxlbmd0aCAmJiBtaXNzaW9uLmJlYWNvbnMubGVuZ3RoID4gMFxuICAgICAgPyBcImNvbXBsZXRlZFwiXG4gICAgICA6IFwiYWN0aXZlXCI7XG4gIH0gZWxzZSBpZiAoIW1pc3Npb24ucGxheWVyIHx8IG1pc3Npb24ucGxheWVyLnBsYXllcklkID09PSBcIlwiKSB7XG4gICAgbWlzc2lvbi5wbGF5ZXIgPSBudWxsO1xuICAgIG1pc3Npb24uc3RhdHVzID0gXCJpZGxlXCI7XG4gICAgZm9yIChjb25zdCBiZWFjb24gb2YgbWlzc2lvbi5iZWFjb25zKSB7XG4gICAgICBiZWFjb24uZGlzY292ZXJlZCA9IGZhbHNlO1xuICAgICAgYmVhY29uLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgYmVhY29uLmNvb2xkb3duVW50aWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIG1pc3Npb24uZW5jb3VudGVycyA9IHNuYXBzaG90LmVuY291bnRlcnMubWFwKChlbmMpOiBNaXNzaW9uRW5jb3VudGVyU3RhdGUgPT4gKHtcbiAgICBpZDogZW5jLmVuY291bnRlcklkLFxuICAgIGJlYWNvbklkOiBlbmMuYmVhY29uSWQsXG4gICAgd2F2ZUluZGV4OiBlbmMud2F2ZUluZGV4LFxuICAgIHNwYXduZWRBdDogZW5jLnNwYXduZWRBdCxcbiAgICBleHBpcmVzQXQ6IGVuYy5leHBpcmVzQXQsXG4gICAgYWN0aXZlOiB0cnVlLFxuICB9KSk7XG5cbiAgLy8gSWYgdGhpcyBpcyBhIG5ldyBtaXNzaW9uIGlkLCByZXNldCB0cmFuc2llbnQgcGxheWVyIHN0YXRlXG4gIGlmIChtaXNzaW9uLnBsYXllciAmJiBtaXNzaW9uLm1pc3Npb25JZCAhPT0gcHJldmlvdXNNaXNzaW9uSWQpIHtcbiAgICBtaXNzaW9uLnBsYXllci5kaXNwbGF5SG9sZCA9IG1pc3Npb24ucGxheWVyLmhvbGRBY2N1bTtcbiAgICBtaXNzaW9uLnBsYXllci5sYXN0RGlzcGxheVN5bmMgPSBtb25vdG9uaWNOb3coKTtcbiAgICBtaXNzaW9uLnBsYXllci5pbnNpZGVBY3RpdmVCZWFjb24gPSBmYWxzZTtcbiAgfVxuXG4gIGFsaWduTWlzc2lvblByb2dyZXNzKG1pc3Npb24pO1xuICBidXMuZW1pdChcIm1pc3Npb246dXBkYXRlXCIsIHsgcmVhc29uOiBcInNuYXBzaG90XCIgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1pc3Npb25EZWx0YShzdGF0ZTogQXBwU3RhdGUsIGRlbHRhOiBNaXNzaW9uQmVhY29uRGVsdGEsIGJ1czogRXZlbnRCdXMpOiB2b2lkIHtcbiAgY29uc3QgbWlzc2lvbiA9IGVuc3VyZU1pc3Npb25TdGF0ZShzdGF0ZSk7XG4gIGNvbnN0IG5vd01zID0gbW9ub3RvbmljTm93KCk7XG4gIGNvbnN0IGFwcHJveE5vdyA9IGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZSk7XG4gIGNvbnN0IGxvY2FsUGxheWVySWQgPSBnZXRMb2NhbFBsYXllcklkKHN0YXRlKSA/PyBtaXNzaW9uLnBsYXllcj8ucGxheWVySWQgPz8gbnVsbDtcbiAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcblxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGRlbHRhLnBsYXllcnMgPz8gW10pIHtcbiAgICBpZiAobG9jYWxQbGF5ZXJJZCAmJiBlbnRyeS5wbGF5ZXJJZCAhPT0gbG9jYWxQbGF5ZXJJZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHBsYXllciA9IGVuc3VyZU1pc3Npb25QbGF5ZXIobWlzc2lvbiwgZW50cnkucGxheWVySWQpO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZW50cnkuaG9sZFJlcXVpcmVkKSAmJiBlbnRyeS5ob2xkUmVxdWlyZWQgPiAwKSB7XG4gICAgICBwbGF5ZXIuaG9sZFJlcXVpcmVkID0gZW50cnkuaG9sZFJlcXVpcmVkO1xuICAgIH1cbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGVudHJ5LmhvbGRBY2N1bSkpIHtcbiAgICAgIHBsYXllci5ob2xkQWNjdW0gPSBlbnRyeS5ob2xkQWNjdW07XG4gICAgfVxuICAgIHBsYXllci5sYXN0U2VydmVyVXBkYXRlID0gTnVtYmVyLmlzRmluaXRlKGVudHJ5LnNlcnZlclRpbWUpID8gZW50cnkuc2VydmVyVGltZSA6IGFwcHJveE5vdztcbiAgICBwbGF5ZXIubGFzdERpc3BsYXlTeW5jID0gbm93TXM7XG5cbiAgICBjb25zdCBiZWFjb24gPSBmaW5kQmVhY29uRm9yRGVsdGEobWlzc2lvbiwgZW50cnkpO1xuXG4gICAgc3dpdGNoIChlbnRyeS50eXBlKSB7XG4gICAgICBjYXNlIE1pc3Npb25CZWFjb25EZWx0YVR5cGUuTUlTU0lPTl9CRUFDT05fREVMVEFfRElTQ09WRVJFRDpcbiAgICAgICAgaWYgKGJlYWNvbikge1xuICAgICAgICAgIGJlYWNvbi5kaXNjb3ZlcmVkID0gdHJ1ZTtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTWlzc2lvbkJlYWNvbkRlbHRhVHlwZS5NSVNTSU9OX0JFQUNPTl9ERUxUQV9IT0xEX1BST0dSRVNTOlxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1pc3Npb25CZWFjb25EZWx0YVR5cGUuTUlTU0lPTl9CRUFDT05fREVMVEFfSE9MRF9SRVNFVDpcbiAgICAgICAgcGxheWVyLmhvbGRBY2N1bSA9IDA7XG4gICAgICAgIHBsYXllci5kaXNwbGF5SG9sZCA9IE1hdGgubWluKHBsYXllci5kaXNwbGF5SG9sZCwgMCk7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTWlzc2lvbkJlYWNvbkRlbHRhVHlwZS5NSVNTSU9OX0JFQUNPTl9ERUxUQV9MT0NLRUQ6XG4gICAgICAgIGlmIChiZWFjb24pIHtcbiAgICAgICAgICBiZWFjb24uY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBjb29sZG93biA9IE51bWJlci5pc0Zpbml0ZShlbnRyeS5jb29sZG93blVudGlsKSA/IGVudHJ5LmNvb2xkb3duVW50aWwgOiBudWxsO1xuICAgICAgICAgIGJlYWNvbi5jb29sZG93blVudGlsID0gY29vbGRvd247XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcGxheWVyLmhvbGRBY2N1bSA9IDA7XG4gICAgICAgIHBsYXllci5kaXNwbGF5SG9sZCA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNaXNzaW9uQmVhY29uRGVsdGFUeXBlLk1JU1NJT05fQkVBQ09OX0RFTFRBX0NPT0xET1dOOlxuICAgICAgICBpZiAoYmVhY29uKSB7XG4gICAgICAgICAgY29uc3QgY29vbGRvd24gPSBOdW1iZXIuaXNGaW5pdGUoZW50cnkuY29vbGRvd25VbnRpbCkgPyBlbnRyeS5jb29sZG93blVudGlsIDogbnVsbDtcbiAgICAgICAgICBiZWFjb24uY29vbGRvd25VbnRpbCA9IGNvb2xkb3duO1xuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNaXNzaW9uQmVhY29uRGVsdGFUeXBlLk1JU1NJT05fQkVBQ09OX0RFTFRBX01JU1NJT05fQ09NUExFVEVEOlxuICAgICAgICBtaXNzaW9uLnN0YXR1cyA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHBsYXllci5ob2xkQWNjdW0gPSAwO1xuICAgICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSAwO1xuICAgICAgICBwbGF5ZXIuYWN0aXZlQmVhY29uSWQgPSBudWxsO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZGVsdGEuZW5jb3VudGVycyAmJiBkZWx0YS5lbmNvdW50ZXJzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBlbmNvdW50ZXJNYXAgPSBuZXcgTWFwPHN0cmluZywgTWlzc2lvbkVuY291bnRlclN0YXRlPigpO1xuICAgIGZvciAoY29uc3QgZW5jIG9mIG1pc3Npb24uZW5jb3VudGVycykge1xuICAgICAgZW5jb3VudGVyTWFwLnNldChlbmMuaWQsIHsgLi4uZW5jIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGRlbHRhLmVuY291bnRlcnMpIHtcbiAgICAgIGxldCBlbmNvdW50ZXIgPSBlbmNvdW50ZXJNYXAuZ2V0KGV2ZW50LmVuY291bnRlcklkKTtcbiAgICAgIGlmICghZW5jb3VudGVyKSB7XG4gICAgICAgIGVuY291bnRlciA9IHtcbiAgICAgICAgICBpZDogZXZlbnQuZW5jb3VudGVySWQsXG4gICAgICAgICAgYmVhY29uSWQ6IGV2ZW50LmJlYWNvbklkLFxuICAgICAgICAgIHdhdmVJbmRleDogZXZlbnQud2F2ZUluZGV4LFxuICAgICAgICAgIHNwYXduZWRBdDogZXZlbnQuc3Bhd25lZEF0LFxuICAgICAgICAgIGV4cGlyZXNBdDogZXZlbnQuZXhwaXJlc0F0LFxuICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIGVuY291bnRlck1hcC5zZXQoZXZlbnQuZW5jb3VudGVySWQsIGVuY291bnRlcik7XG4gICAgICB9XG4gICAgICBlbmNvdW50ZXIuYmVhY29uSWQgPSBldmVudC5iZWFjb25JZCB8fCBlbmNvdW50ZXIuYmVhY29uSWQ7XG4gICAgICBlbmNvdW50ZXIud2F2ZUluZGV4ID0gZXZlbnQud2F2ZUluZGV4ID8/IGVuY291bnRlci53YXZlSW5kZXg7XG4gICAgICBlbmNvdW50ZXIuc3Bhd25lZEF0ID0gTnVtYmVyLmlzRmluaXRlKGV2ZW50LnNwYXduZWRBdCkgPyBldmVudC5zcGF3bmVkQXQgOiBlbmNvdW50ZXIuc3Bhd25lZEF0O1xuICAgICAgZW5jb3VudGVyLmV4cGlyZXNBdCA9IE51bWJlci5pc0Zpbml0ZShldmVudC5leHBpcmVzQXQpID8gZXZlbnQuZXhwaXJlc0F0IDogZW5jb3VudGVyLmV4cGlyZXNBdDtcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlIE1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGUuTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfU1BBV05FRDpcbiAgICAgICAgICBlbmNvdW50ZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICBlbmNvdW50ZXIucmVhc29uID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1pc3Npb25FbmNvdW50ZXJFdmVudFR5cGUuTUlTU0lPTl9FTkNPVU5URVJfRVZFTlRfQ0xFQVJFRDpcbiAgICAgICAgICBlbmNvdW50ZXIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgZW5jb3VudGVyLnJlYXNvbiA9IGV2ZW50LnJlYXNvbiB8fCBcImNsZWFyZWRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNaXNzaW9uRW5jb3VudGVyRXZlbnRUeXBlLk1JU1NJT05fRU5DT1VOVEVSX0VWRU5UX1RJTUVPVVQ6XG4gICAgICAgICAgZW5jb3VudGVyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIGVuY291bnRlci5yZWFzb24gPSBldmVudC5yZWFzb24gfHwgXCJ0aW1lb3V0XCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTWlzc2lvbkVuY291bnRlckV2ZW50VHlwZS5NSVNTSU9OX0VOQ09VTlRFUl9FVkVOVF9QVVJHRUQ6XG4gICAgICAgICAgZW5jb3VudGVyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIGVuY291bnRlci5yZWFzb24gPSBldmVudC5yZWFzb24gfHwgXCJwdXJnZWRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgbWlzc2lvbi5lbmNvdW50ZXJzID0gQXJyYXkuZnJvbShlbmNvdW50ZXJNYXAudmFsdWVzKCkpLnNvcnQoKGEsIGIpID0+IGEuc3Bhd25lZEF0IC0gYi5zcGF3bmVkQXQpO1xuICAgIGNoYW5nZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG1pc3Npb24ucGxheWVyKSB7XG4gICAgbWlzc2lvbi5wbGF5ZXIuZGlzcGxheUhvbGQgPSBNYXRoLm1pbihtaXNzaW9uLnBsYXllci5kaXNwbGF5SG9sZCwgbWlzc2lvbi5wbGF5ZXIuaG9sZEFjY3VtKTtcbiAgfVxuXG4gIGlmIChjaGFuZ2VkKSB7XG4gICAgYWxpZ25NaXNzaW9uUHJvZ3Jlc3MobWlzc2lvbik7XG4gICAgYnVzLmVtaXQoXCJtaXNzaW9uOnVwZGF0ZVwiLCB7IHJlYXNvbjogXCJkZWx0YVwiIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZU1pc3Npb25TdGF0ZShzdGF0ZTogQXBwU3RhdGUpOiBNaXNzaW9uU3RhdGUge1xuICBpZiAoIXN0YXRlLm1pc3Npb24pIHtcbiAgICBzdGF0ZS5taXNzaW9uID0ge1xuICAgICAgbWlzc2lvbklkOiBcIlwiLFxuICAgICAgdGVtcGxhdGVJZDogXCJcIixcbiAgICAgIGRpc3BsYXlOYW1lOiBcIlwiLFxuICAgICAgYXJjaGV0eXBlOiBcIlwiLFxuICAgICAgbGF5b3V0U2VlZDogMCxcbiAgICAgIHNlcnZlclRpbWU6IDAsXG4gICAgICBzdGF0dXM6IFwiaWRsZVwiLFxuICAgICAgdGltZW91dDogMCxcbiAgICAgIHN0YXJ0VGltZTogbnVsbCxcbiAgICAgIGNvbXBsZXRpb25UaW1lOiBudWxsLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBiZWFjb25zOiBbXSxcbiAgICAgIHBsYXllcjogbnVsbCxcbiAgICAgIGVuY291bnRlcnM6IFtdLFxuICAgICAgb2JqZWN0aXZlczogW10sXG4gICAgICBvYmplY3RpdmVTdW1tYXJpZXM6IFtdLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUubWlzc2lvbi50ZW1wbGF0ZUlkID0gc3RhdGUubWlzc2lvbi50ZW1wbGF0ZUlkID8/IFwiXCI7XG4gICAgc3RhdGUubWlzc2lvbi5kaXNwbGF5TmFtZSA9IHN0YXRlLm1pc3Npb24uZGlzcGxheU5hbWUgPz8gXCJcIjtcbiAgICBzdGF0ZS5taXNzaW9uLmFyY2hldHlwZSA9IHN0YXRlLm1pc3Npb24uYXJjaGV0eXBlID8/IFwiXCI7XG4gICAgc3RhdGUubWlzc2lvbi50aW1lb3V0ID0gc3RhdGUubWlzc2lvbi50aW1lb3V0ID8/IDA7XG4gICAgc3RhdGUubWlzc2lvbi5zdGFydFRpbWUgPSBzdGF0ZS5taXNzaW9uLnN0YXJ0VGltZSA/PyBudWxsO1xuICAgIHN0YXRlLm1pc3Npb24uY29tcGxldGlvblRpbWUgPSBzdGF0ZS5taXNzaW9uLmNvbXBsZXRpb25UaW1lID8/IG51bGw7XG4gICAgc3RhdGUubWlzc2lvbi5wcm9ncmVzcyA9IHN0YXRlLm1pc3Npb24ucHJvZ3Jlc3MgPz8gMDtcbiAgICBzdGF0ZS5taXNzaW9uLm9iamVjdGl2ZXMgPSBzdGF0ZS5taXNzaW9uLm9iamVjdGl2ZXMgPz8gW107XG4gICAgc3RhdGUubWlzc2lvbi5vYmplY3RpdmVTdW1tYXJpZXMgPSBzdGF0ZS5taXNzaW9uLm9iamVjdGl2ZVN1bW1hcmllcyA/PyBbXTtcbiAgfVxuICByZXR1cm4gc3RhdGUubWlzc2lvbjtcbn1cblxuZnVuY3Rpb24gZW5zdXJlTWlzc2lvblBsYXllcihtaXNzaW9uOiBNaXNzaW9uU3RhdGUsIHBsYXllcklkOiBzdHJpbmcpOiBNaXNzaW9uUGxheWVyU3RhdGUge1xuICBjb25zdCBub3dNcyA9IG1vbm90b25pY05vdygpO1xuICBpZiAoIW1pc3Npb24ucGxheWVyIHx8IG1pc3Npb24ucGxheWVyLnBsYXllcklkICE9PSBwbGF5ZXJJZCkge1xuICAgIG1pc3Npb24ucGxheWVyID0ge1xuICAgICAgcGxheWVySWQsXG4gICAgICBjdXJyZW50SW5kZXg6IG1pc3Npb24ucGxheWVyPy5jdXJyZW50SW5kZXggPz8gMCxcbiAgICAgIGFjdGl2ZUJlYWNvbklkOiBtaXNzaW9uLnBsYXllcj8uYWN0aXZlQmVhY29uSWQgPz8gbnVsbCxcbiAgICAgIGhvbGRBY2N1bTogbWlzc2lvbi5wbGF5ZXI/LmhvbGRBY2N1bSA/PyAwLFxuICAgICAgaG9sZFJlcXVpcmVkOiBtaXNzaW9uLnBsYXllcj8uaG9sZFJlcXVpcmVkID8/IDAsXG4gICAgICBkaXNwbGF5SG9sZDogbWlzc2lvbi5wbGF5ZXI/LmRpc3BsYXlIb2xkID8/IDAsXG4gICAgICBsYXN0U2VydmVyVXBkYXRlOiBtaXNzaW9uLnBsYXllcj8ubGFzdFNlcnZlclVwZGF0ZSA/PyAwLFxuICAgICAgbGFzdERpc3BsYXlTeW5jOiBub3dNcyxcbiAgICAgIGluc2lkZUFjdGl2ZUJlYWNvbjogbWlzc2lvbi5wbGF5ZXI/Lmluc2lkZUFjdGl2ZUJlYWNvbiA/PyBmYWxzZSxcbiAgICB9O1xuICB9XG4gIHJldHVybiBtaXNzaW9uLnBsYXllcjtcbn1cblxuZnVuY3Rpb24gZ2V0TG9jYWxQbGF5ZXJJZChzdGF0ZTogQXBwU3RhdGUpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHN0YXRlLm1pc3Npb24/LnBsYXllcj8ucGxheWVySWQpIHtcbiAgICByZXR1cm4gc3RhdGUubWlzc2lvbi5wbGF5ZXIucGxheWVySWQ7XG4gIH1cbiAgY29uc3QgaWQgPSBzdGF0ZS5tZT8uaWQ7XG4gIGlmICghaWQpIHJldHVybiBudWxsO1xuICBpZiAoaWQuc3RhcnRzV2l0aChcInNoaXAtXCIpKSB7XG4gICAgcmV0dXJuIGlkLnNsaWNlKFwic2hpcC1cIi5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBpZDtcbn1cblxuZnVuY3Rpb24gZmluZEJlYWNvbkZvckRlbHRhKG1pc3Npb246IE1pc3Npb25TdGF0ZSwgZGVsdGE6IHsgYmVhY29uSWQ6IHN0cmluZzsgb3JkaW5hbDogbnVtYmVyIH0pOiBNaXNzaW9uQmVhY29uIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFtaXNzaW9uLmJlYWNvbnMubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAoZGVsdGEuYmVhY29uSWQpIHtcbiAgICBjb25zdCBiZWFjb24gPSBtaXNzaW9uLmJlYWNvbnMuZmluZCgoYikgPT4gYi5pZCA9PT0gZGVsdGEuYmVhY29uSWQpO1xuICAgIGlmIChiZWFjb24pIHJldHVybiBiZWFjb247XG4gIH1cbiAgcmV0dXJuIG1pc3Npb24uYmVhY29ucy5maW5kKChiKSA9PiBiLm9yZGluYWwgPT09IGRlbHRhLm9yZGluYWwpO1xufVxuXG5mdW5jdGlvbiBhbGlnbk1pc3Npb25Qcm9ncmVzcyhtaXNzaW9uOiBNaXNzaW9uU3RhdGUpOiB2b2lkIHtcbiAgaWYgKG1pc3Npb24ub2JqZWN0aXZlcyAmJiBtaXNzaW9uLm9iamVjdGl2ZXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwbGF5ZXIgPSBtaXNzaW9uLnBsYXllcjtcbiAgaWYgKCFwbGF5ZXIpIHtcbiAgICBtaXNzaW9uLnN0YXR1cyA9IFwiaWRsZVwiO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBuZXh0QmVhY29uID0gbWlzc2lvbi5iZWFjb25zLmZpbmQoKGIpID0+ICFiLmNvbXBsZXRlZCk7XG4gIGlmICghbmV4dEJlYWNvbikge1xuICAgIG1pc3Npb24uc3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcbiAgICBwbGF5ZXIuY3VycmVudEluZGV4ID0gbWlzc2lvbi5iZWFjb25zLmxlbmd0aDtcbiAgICBwbGF5ZXIuYWN0aXZlQmVhY29uSWQgPSBudWxsO1xuICAgIHBsYXllci5pbnNpZGVBY3RpdmVCZWFjb24gPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbWlzc2lvbi5zdGF0dXMgPSBcImFjdGl2ZVwiO1xuICBwbGF5ZXIuY3VycmVudEluZGV4ID0gbmV4dEJlYWNvbi5vcmRpbmFsO1xuICBwbGF5ZXIuYWN0aXZlQmVhY29uSWQgPSBuZXh0QmVhY29uLmlkO1xufVxuXG5mdW5jdGlvbiBkaWZmUm91dGVzKHByZXZSb3V0ZXM6IE1hcDxzdHJpbmcsIE1pc3NpbGVSb3V0ZT4sIG5leHRSb3V0ZXM6IE1pc3NpbGVSb3V0ZVtdLCBidXM6IEV2ZW50QnVzKTogdm9pZCB7XG4gIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgZm9yIChjb25zdCByb3V0ZSBvZiBuZXh0Um91dGVzKSB7XG4gICAgc2Vlbi5hZGQocm91dGUuaWQpO1xuICAgIGNvbnN0IHByZXYgPSBwcmV2Um91dGVzLmdldChyb3V0ZS5pZCk7XG4gICAgaWYgKCFwcmV2KSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6cm91dGVBZGRlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5uYW1lICE9PSBwcmV2Lm5hbWUpIHtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTpyb3V0ZVJlbmFtZWRcIiwgeyByb3V0ZUlkOiByb3V0ZS5pZCwgbmFtZTogcm91dGUubmFtZSB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLndheXBvaW50cy5sZW5ndGggPiBwcmV2LndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQsIGluZGV4OiByb3V0ZS53YXlwb2ludHMubGVuZ3RoIC0gMSB9KTtcbiAgICB9IGVsc2UgaWYgKHJvdXRlLndheXBvaW50cy5sZW5ndGggPCBwcmV2LndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludERlbGV0ZWRcIiwgeyByb3V0ZUlkOiByb3V0ZS5pZCwgaW5kZXg6IHByZXYud2F5cG9pbnRzLmxlbmd0aCAtIDEgfSk7XG4gICAgfVxuICAgIGlmIChwcmV2LndheXBvaW50cy5sZW5ndGggPiAwICYmIHJvdXRlLndheXBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludHNDbGVhcmVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQgfSk7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgW3JvdXRlSWRdIG9mIHByZXZSb3V0ZXMpIHtcbiAgICBpZiAoIXNlZW4uaGFzKHJvdXRlSWQpKSB7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6cm91dGVEZWxldGVkXCIsIHsgcm91dGVJZCB9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVSb3V0ZShyb3V0ZTogTWlzc2lsZVJvdXRlKTogTWlzc2lsZVJvdXRlIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcm91dGUuaWQsXG4gICAgbmFtZTogcm91dGUubmFtZSxcbiAgICB3YXlwb2ludHM6IHJvdXRlLndheXBvaW50cy5tYXAoKHdwKSA9PiAoeyAuLi53cCB9KSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGU6IEFwcFN0YXRlKTogbnVtYmVyIHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc3RhdGUubm93KSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IHN5bmNlZEF0ID0gTnVtYmVyLmlzRmluaXRlKHN0YXRlLm5vd1N5bmNlZEF0KSA/IHN0YXRlLm5vd1N5bmNlZEF0IDogbnVsbDtcbiAgaWYgKCFzeW5jZWRBdCkge1xuICAgIHJldHVybiBzdGF0ZS5ub3c7XG4gIH1cbiAgY29uc3QgZWxhcHNlZE1zID0gbW9ub3RvbmljTm93KCkgLSBzeW5jZWRBdDtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZWxhcHNlZE1zKSB8fCBlbGFwc2VkTXMgPCAwKSB7XG4gICAgcmV0dXJuIHN0YXRlLm5vdztcbiAgfVxuICByZXR1cm4gc3RhdGUubm93ICsgZWxhcHNlZE1zIC8gMTAwMDtcbn1cblxuZnVuY3Rpb24gY29udmVydEhlYXRWaWV3KHNlcnZlckhlYXQ6IHsgdjogbnVtYmVyOyBtOiBudW1iZXI7IHc6IG51bWJlcjsgbzogbnVtYmVyOyBtczogbnVtYmVyOyBzdTogbnVtYmVyOyBrdTogbnVtYmVyOyBrZDogbnVtYmVyOyBleDogbnVtYmVyIH0sIG5vd1N5bmNlZEF0TXM6IG51bWJlciwgc2VydmVyTm93U2VjOiBudW1iZXIpOiBpbXBvcnQoXCIuL3N0YXRlXCIpLkhlYXRWaWV3IHtcbiAgLy8gQ29udmVydCBzZXJ2ZXIgdGltZSAoc3RhbGxVbnRpbCBpbiBzZWNvbmRzKSB0byBjbGllbnQgdGltZSAobWlsbGlzZWNvbmRzKVxuICAvLyBzdGFsbFVudGlsIGlzIGFic29sdXRlIHNlcnZlciB0aW1lLCBzbyB3ZSBuZWVkIHRvIGNvbnZlcnQgaXQgdG8gY2xpZW50IHRpbWVcbiAgY29uc3Qgc2VydmVyU3RhbGxVbnRpbFNlYyA9IHNlcnZlckhlYXQuc3U7XG4gIGNvbnN0IG9mZnNldEZyb21Ob3dTZWMgPSBzZXJ2ZXJTdGFsbFVudGlsU2VjIC0gc2VydmVyTm93U2VjO1xuICBjb25zdCBzdGFsbFVudGlsTXMgPSBub3dTeW5jZWRBdE1zICsgKG9mZnNldEZyb21Ob3dTZWMgKiAxMDAwKTtcblxuICBjb25zdCBoZWF0VmlldyA9IHtcbiAgICB2YWx1ZTogc2VydmVySGVhdC52LFxuICAgIG1heDogc2VydmVySGVhdC5tLFxuICAgIHdhcm5BdDogc2VydmVySGVhdC53LFxuICAgIG92ZXJoZWF0QXQ6IHNlcnZlckhlYXQubyxcbiAgICBtYXJrZXJTcGVlZDogc2VydmVySGVhdC5tcyxcbiAgICBzdGFsbFVudGlsTXM6IHN0YWxsVW50aWxNcyxcbiAgICBrVXA6IHNlcnZlckhlYXQua3UsXG4gICAga0Rvd246IHNlcnZlckhlYXQua2QsXG4gICAgZXhwOiBzZXJ2ZXJIZWF0LmV4LFxuICB9O1xuICByZXR1cm4gaGVhdFZpZXc7XG59XG4iLCAiZXhwb3J0IGNvbnN0IE1JTl9aT09NID0gMS4wO1xuZXhwb3J0IGNvbnN0IE1BWF9aT09NID0gMy4wO1xuXG5leHBvcnQgY29uc3QgSEVMUF9URVhUID0gW1xuICBcIlByaW1hcnkgTW9kZXNcIixcbiAgXCIgIDEgXHUyMDEzIFRvZ2dsZSBzaGlwIG5hdmlnYXRpb24gbW9kZVwiLFxuICBcIiAgMiBcdTIwMTMgVG9nZ2xlIG1pc3NpbGUgY29vcmRpbmF0aW9uIG1vZGVcIixcbiAgXCJcIixcbiAgXCJTaGlwIE5hdmlnYXRpb25cIixcbiAgXCIgIFQgXHUyMDEzIFN3aXRjaCBiZXR3ZWVuIHNldC9zZWxlY3RcIixcbiAgXCIgIEMgXHUyMDEzIENsZWFyIGFsbCB3YXlwb2ludHNcIixcbiAgXCIgIEggXHUyMDEzIEhvbGQgKGNsZWFyIHdheXBvaW50cyAmIHN0b3ApXCIsXG4gIFwiICBSIFx1MjAxMyBUb2dnbGUgc2hvdyByb3V0ZVwiLFxuICBcIiAgWyAvIF0gXHUyMDEzIEFkanVzdCB3YXlwb2ludCBzcGVlZFwiLFxuICBcIiAgU2hpZnQrWyAvIF0gXHUyMDEzIENvYXJzZSBzcGVlZCBhZGp1c3RcIixcbiAgXCIgIFRhYiAvIFNoaWZ0K1RhYiBcdTIwMTMgQ3ljbGUgd2F5cG9pbnRzXCIsXG4gIFwiICBEZWxldGUgXHUyMDEzIERlbGV0ZSBmcm9tIHNlbGVjdGVkIHdheXBvaW50XCIsXG4gIFwiXCIsXG4gIFwiTWlzc2lsZSBDb29yZGluYXRpb25cIixcbiAgXCIgIE4gXHUyMDEzIEFkZCBuZXcgbWlzc2lsZSByb3V0ZVwiLFxuICBcIiAgTCBcdTIwMTMgTGF1bmNoIG1pc3NpbGVzXCIsXG4gIFwiICBFIFx1MjAxMyBTd2l0Y2ggYmV0d2VlbiBzZXQvc2VsZWN0XCIsXG4gIFwiICAsIC8gLiBcdTIwMTMgQWRqdXN0IGFncm8gcmFkaXVzXCIsXG4gIFwiICA7IC8gJyBcdTIwMTMgQWRqdXN0IG1pc3NpbGUgc3BlZWRcIixcbiAgXCIgIFNoaWZ0K3NsaWRlciBrZXlzIFx1MjAxMyBDb2Fyc2UgYWRqdXN0XCIsXG4gIFwiICBEZWxldGUgXHUyMDEzIERlbGV0ZSBzZWxlY3RlZCBtaXNzaWxlIHdheXBvaW50XCIsXG4gIFwiXCIsXG4gIFwiTWFwIENvbnRyb2xzXCIsXG4gIFwiICArLy0gXHUyMDEzIFpvb20gaW4vb3V0XCIsXG4gIFwiICBDdHJsKzAgXHUyMDEzIFJlc2V0IHpvb21cIixcbiAgXCIgIE1vdXNlIHdoZWVsIFx1MjAxMyBab29tIGF0IGN1cnNvclwiLFxuICBcIiAgUGluY2ggXHUyMDEzIFpvb20gb24gdG91Y2ggZGV2aWNlc1wiLFxuICBcIlwiLFxuICBcIkdlbmVyYWxcIixcbiAgXCIgID8gXHUyMDEzIFRvZ2dsZSB0aGlzIG92ZXJsYXlcIixcbiAgXCIgIEVzYyBcdTIwMTMgQ2FuY2VsIHNlbGVjdGlvbiBvciBjbG9zZSBvdmVybGF5XCIsXG5dLmpvaW4oXCJcXG5cIik7XG4iLCAiaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IE1BWF9aT09NLCBNSU5fWk9PTSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhbWVyYURlcGVuZGVuY2llcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG59XG5cbmludGVyZmFjZSBXb3JsZFNpemUge1xuICB3OiBudW1iZXI7XG4gIGg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmEge1xuICBzZXRab29tKG5ld1pvb206IG51bWJlciwgY2VudGVyWD86IG51bWJlciwgY2VudGVyWT86IG51bWJlcik6IHZvaWQ7XG4gIGdldENhbWVyYVBvc2l0aW9uKCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgd29ybGRUb0NhbnZhcyhwOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIGNhbnZhc1RvV29ybGQocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICB1cGRhdGVXb3JsZEZyb21NZXRhKG1ldGE6IFBhcnRpYWw8V29ybGRTaXplIHwgdW5kZWZpbmVkPik6IHZvaWQ7XG4gIGdldFdvcmxkU2l6ZSgpOiBXb3JsZFNpemU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW1lcmEoeyBjYW52YXMsIHN0YXRlLCB1aVN0YXRlIH06IENhbWVyYURlcGVuZGVuY2llcyk6IENhbWVyYSB7XG4gIGNvbnN0IHdvcmxkOiBXb3JsZFNpemUgPSB7IHc6IDgwMDAsIGg6IDQ1MDAgfTtcblxuICBmdW5jdGlvbiByZXNvbHZlQ2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCB7XG4gICAgcmV0dXJuIGNhbnZhcyA/PyBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Wm9vbShuZXdab29tOiBudW1iZXIsIGNlbnRlclg/OiBudW1iZXIsIGNlbnRlclk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBjZW50ZXIgcGFyYW1ldGVycyByZXNlcnZlZCBmb3IgcG90ZW50aWFsIHNtb290aCB6b29taW5nIGxvZ2ljXG4gICAgdm9pZCBjZW50ZXJYO1xuICAgIHZvaWQgY2VudGVyWTtcbiAgICB1aVN0YXRlLnpvb20gPSBjbGFtcChuZXdab29tLCBNSU5fWk9PTSwgTUFYX1pPT00pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q2FtZXJhUG9zaXRpb24oKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCBjdiA9IHJlc29sdmVDYW52YXMoKTtcbiAgICBpZiAoIWN2KSByZXR1cm4geyB4OiB3b3JsZC53IC8gMiwgeTogd29ybGQuaCAvIDIgfTtcblxuICAgIGNvbnN0IHpvb20gPSB1aVN0YXRlLnpvb207XG5cbiAgICBsZXQgY2FtZXJhWCA9IHN0YXRlLm1lID8gc3RhdGUubWUueCA6IHdvcmxkLncgLyAyO1xuICAgIGxldCBjYW1lcmFZID0gc3RhdGUubWUgPyBzdGF0ZS5tZS55IDogd29ybGQuaCAvIDI7XG5cbiAgICBjb25zdCBzY2FsZVggPSBjdi53aWR0aCAvIHdvcmxkLnc7XG4gICAgY29uc3Qgc2NhbGVZID0gY3YuaGVpZ2h0IC8gd29ybGQuaDtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIHpvb207XG5cbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gY3Yud2lkdGggLyBzY2FsZTtcbiAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IGN2LmhlaWdodCAvIHNjYWxlO1xuXG4gICAgY29uc3QgbWluQ2FtZXJhWCA9IHZpZXdwb3J0V2lkdGggLyAyO1xuICAgIGNvbnN0IG1heENhbWVyYVggPSB3b3JsZC53IC0gdmlld3BvcnRXaWR0aCAvIDI7XG4gICAgY29uc3QgbWluQ2FtZXJhWSA9IHZpZXdwb3J0SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBtYXhDYW1lcmFZID0gd29ybGQuaCAtIHZpZXdwb3J0SGVpZ2h0IC8gMjtcblxuICAgIGlmICh2aWV3cG9ydFdpZHRoIDwgd29ybGQudykge1xuICAgICAgY2FtZXJhWCA9IGNsYW1wKGNhbWVyYVgsIG1pbkNhbWVyYVgsIG1heENhbWVyYVgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW1lcmFYID0gd29ybGQudyAvIDI7XG4gICAgfVxuXG4gICAgaWYgKHZpZXdwb3J0SGVpZ2h0IDwgd29ybGQuaCkge1xuICAgICAgY2FtZXJhWSA9IGNsYW1wKGNhbWVyYVksIG1pbkNhbWVyYVksIG1heENhbWVyYVkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW1lcmFZID0gd29ybGQuaCAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgeDogY2FtZXJhWCwgeTogY2FtZXJhWSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd29ybGRUb0NhbnZhcyhwOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICAgIGNvbnN0IGN2ID0gcmVzb2x2ZUNhbnZhcygpO1xuICAgIGlmICghY3YpIHJldHVybiB7IHg6IHAueCwgeTogcC55IH07XG5cbiAgICBjb25zdCB6b29tID0gdWlTdGF0ZS56b29tO1xuICAgIGNvbnN0IGNhbWVyYSA9IGdldENhbWVyYVBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCB3b3JsZFggPSBwLnggLSBjYW1lcmEueDtcbiAgICBjb25zdCB3b3JsZFkgPSBwLnkgLSBjYW1lcmEueTtcblxuICAgIGNvbnN0IHNjYWxlWCA9IGN2LndpZHRoIC8gd29ybGQudztcbiAgICBjb25zdCBzY2FsZVkgPSBjdi5oZWlnaHQgLyB3b3JsZC5oO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpICogem9vbTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiB3b3JsZFggKiBzY2FsZSArIGN2LndpZHRoIC8gMixcbiAgICAgIHk6IHdvcmxkWSAqIHNjYWxlICsgY3YuaGVpZ2h0IC8gMixcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FudmFzVG9Xb3JsZChwOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICAgIGNvbnN0IGN2ID0gcmVzb2x2ZUNhbnZhcygpO1xuICAgIGlmICghY3YpIHJldHVybiB7IHg6IHAueCwgeTogcC55IH07XG5cbiAgICBjb25zdCB6b29tID0gdWlTdGF0ZS56b29tO1xuICAgIGNvbnN0IGNhbWVyYSA9IGdldENhbWVyYVBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCBjYW52YXNYID0gcC54IC0gY3Yud2lkdGggLyAyO1xuICAgIGNvbnN0IGNhbnZhc1kgPSBwLnkgLSBjdi5oZWlnaHQgLyAyO1xuXG4gICAgY29uc3Qgc2NhbGVYID0gY3Yud2lkdGggLyB3b3JsZC53O1xuICAgIGNvbnN0IHNjYWxlWSA9IGN2LmhlaWdodCAvIHdvcmxkLmg7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkgKiB6b29tO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGNhbnZhc1ggLyBzY2FsZSArIGNhbWVyYS54LFxuICAgICAgeTogY2FudmFzWSAvIHNjYWxlICsgY2FtZXJhLnksXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVdvcmxkRnJvbU1ldGEobWV0YTogUGFydGlhbDxXb3JsZFNpemUgfCB1bmRlZmluZWQ+KTogdm9pZCB7XG4gICAgaWYgKCFtZXRhKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBtZXRhLncgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKG1ldGEudykpIHtcbiAgICAgIHdvcmxkLncgPSBtZXRhLnc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbWV0YS5oID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShtZXRhLmgpKSB7XG4gICAgICB3b3JsZC5oID0gbWV0YS5oO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFdvcmxkU2l6ZSgpOiBXb3JsZFNpemUge1xuICAgIHJldHVybiB7IC4uLndvcmxkIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldFpvb20sXG4gICAgZ2V0Q2FtZXJhUG9zaXRpb24sXG4gICAgd29ybGRUb0NhbnZhcyxcbiAgICBjYW52YXNUb1dvcmxkLFxuICAgIHVwZGF0ZVdvcmxkRnJvbU1ldGEsXG4gICAgZ2V0V29ybGRTaXplLFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBVSVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgdHlwZSB7IENhbWVyYSB9IGZyb20gXCIuL2NhbWVyYVwiO1xuaW1wb3J0IHR5cGUgeyBMb2dpYywgUG9pbnRlclBvaW50IH0gZnJvbSBcIi4vbG9naWNcIjtcbmltcG9ydCB0eXBlIHsgVUlDb250cm9sbGVyIH0gZnJvbSBcIi4vdWlcIjtcblxuaW50ZXJmYWNlIElucHV0RGVwZW5kZW5jaWVzIHtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgdWk6IFVJQ29udHJvbGxlcjtcbiAgbG9naWM6IExvZ2ljO1xuICBjYW1lcmE6IENhbWVyYTtcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICB1aVN0YXRlOiBVSVN0YXRlO1xuICBidXM6IEV2ZW50QnVzO1xuICBzZW5kTWVzc2FnZShwYXlsb2FkOiB1bmtub3duKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnB1dENvbnRyb2xsZXIge1xuICBiaW5kSW5wdXQoKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlucHV0KHtcbiAgY2FudmFzLFxuICB1aSxcbiAgbG9naWMsXG4gIGNhbWVyYSxcbiAgc3RhdGUsXG4gIHVpU3RhdGUsXG4gIGJ1cyxcbiAgc2VuZE1lc3NhZ2UsXG59OiBJbnB1dERlcGVuZGVuY2llcyk6IElucHV0Q29udHJvbGxlciB7XG4gIGxldCBsYXN0VG91Y2hEaXN0YW5jZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCBwZW5kaW5nVG91Y2hUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsO1xuICBsZXQgaXNQaW5jaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGdldFBvaW50ZXJDYW52YXNQb2ludChldmVudDogUG9pbnRlckV2ZW50KTogUG9pbnRlclBvaW50IHtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjYWxlWCA9IHJlY3Qud2lkdGggIT09IDAgPyBjYW52YXMud2lkdGggLyByZWN0LndpZHRoIDogMTtcbiAgICBjb25zdCBzY2FsZVkgPSByZWN0LmhlaWdodCAhPT0gMCA/IGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodCA6IDE7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIHNjYWxlWCxcbiAgICAgIHk6IChldmVudC5jbGllbnRZIC0gcmVjdC50b3ApICogc2NhbGVZLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb2ludGVyUGxhY2VtZW50KGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQsIHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJtaXNzaWxlXCIgPyBcIm1pc3NpbGVcIiA6IFwic2hpcFwiO1xuICAgIGlmIChjb250ZXh0ID09PSBcIm1pc3NpbGVcIikge1xuICAgICAgbG9naWMuaGFuZGxlTWlzc2lsZVBvaW50ZXIoY2FudmFzUG9pbnQsIHdvcmxkUG9pbnQpO1xuICAgICAgdWkucmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9naWMuaGFuZGxlU2hpcFBvaW50ZXIoY2FudmFzUG9pbnQsIHdvcmxkUG9pbnQpO1xuICAgICAgdWkudXBkYXRlUGxhbm5lZEhlYXRCYXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1BvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjYW52YXNQb2ludCA9IGdldFBvaW50ZXJDYW52YXNQb2ludChldmVudCk7XG4gICAgY29uc3Qgd29ybGRQb2ludCA9IGNhbWVyYS5jYW52YXNUb1dvcmxkKGNhbnZhc1BvaW50KTtcbiAgICBjb25zdCBjb250ZXh0ID0gdWlTdGF0ZS5pbnB1dENvbnRleHQgPT09IFwibWlzc2lsZVwiID8gXCJtaXNzaWxlXCIgOiBcInNoaXBcIjtcblxuICAgIGlmIChjb250ZXh0ID09PSBcInNoaXBcIiAmJiB1aVN0YXRlLnNoaXBUb29sID09PSBcInNlbGVjdFwiICYmIHN0YXRlLm1lPy53YXlwb2ludHMpIHtcbiAgICAgIGNvbnN0IHdwSW5kZXggPSBsb2dpYy5maW5kV2F5cG9pbnRBdFBvc2l0aW9uKGNhbnZhc1BvaW50KTtcbiAgICAgIGlmICh3cEluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGxvZ2ljLmJlZ2luU2hpcERyYWcod3BJbmRleCwgY2FudmFzUG9pbnQpO1xuICAgICAgICBjYW52YXMuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb250ZXh0ID09PSBcIm1pc3NpbGVcIiAmJiB1aVN0YXRlLm1pc3NpbGVUb29sID09PSBcInNlbGVjdFwiKSB7XG4gICAgICBjb25zdCBoaXQgPSBsb2dpYy5oaXRUZXN0TWlzc2lsZVJvdXRlcyhjYW52YXNQb2ludCk7XG4gICAgICBpZiAoaGl0KSB7XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24oaGl0LnNlbGVjdGlvbiwgaGl0LnJvdXRlLmlkKTtcbiAgICAgICAgdWkucmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICAgICAgaWYgKGhpdC5zZWxlY3Rpb24udHlwZSA9PT0gXCJ3YXlwb2ludFwiKSB7XG4gICAgICAgICAgbG9naWMuYmVnaW5NaXNzaWxlRHJhZyhoaXQuc2VsZWN0aW9uLmluZGV4LCBjYW52YXNQb2ludCk7XG4gICAgICAgICAgY2FudmFzLnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9naWMuc2V0TWlzc2lsZVNlbGVjdGlvbihudWxsKTtcbiAgICAgIHVpLnJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgIGlmIChwZW5kaW5nVG91Y2hUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVG91Y2hUaW1lb3V0KTtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdUb3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzUGluY2hpbmcpIHJldHVybjtcbiAgICAgICAgaGFuZGxlUG9pbnRlclBsYWNlbWVudChjYW52YXNQb2ludCwgd29ybGRQb2ludCk7XG4gICAgICAgIHBlbmRpbmdUb3VjaFRpbWVvdXQgPSBudWxsO1xuICAgICAgfSwgMTUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlUG9pbnRlclBsYWNlbWVudChjYW52YXNQb2ludCwgd29ybGRQb2ludCk7XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGRyYWdnaW5nU2hpcCA9IGxvZ2ljLmdldERyYWdnZWRXYXlwb2ludCgpICE9PSBudWxsO1xuICAgIGNvbnN0IGRyYWdnaW5nTWlzc2lsZSA9IGxvZ2ljLmdldERyYWdnZWRNaXNzaWxlV2F5cG9pbnQoKSAhPT0gbnVsbDtcbiAgICBpZiAoIWRyYWdnaW5nU2hpcCAmJiAhZHJhZ2dpbmdNaXNzaWxlKSByZXR1cm47XG5cbiAgICBjb25zdCBjYW52YXNQb2ludCA9IGdldFBvaW50ZXJDYW52YXNQb2ludChldmVudCk7XG4gICAgY29uc3Qgd29ybGRQb2ludCA9IGNhbWVyYS5jYW52YXNUb1dvcmxkKGNhbnZhc1BvaW50KTtcblxuICAgIGlmIChkcmFnZ2luZ1NoaXApIHtcbiAgICAgIGxvZ2ljLnVwZGF0ZVNoaXBEcmFnKHdvcmxkUG9pbnQpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ2dpbmdNaXNzaWxlKSB7XG4gICAgICBsb2dpYy51cGRhdGVNaXNzaWxlRHJhZyh3b3JsZFBvaW50KTtcbiAgICAgIHVpLnJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzUG9pbnRlclVwKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBsb2dpYy5lbmREcmFnKCk7XG4gICAgaWYgKGNhbnZhcy5oYXNQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpKSB7XG4gICAgICBjYW52YXMucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgfVxuICAgIHBlbmRpbmdUb3VjaFRpbWVvdXQgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DYW52YXNXaGVlbChldmVudDogV2hlZWxFdmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBjZW50ZXJYID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICBjb25zdCBjZW50ZXJZID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIGNvbnN0IHNjYWxlWCA9IHJlY3Qud2lkdGggIT09IDAgPyBjYW52YXMud2lkdGggLyByZWN0LndpZHRoIDogMTtcbiAgICBjb25zdCBzY2FsZVkgPSByZWN0LmhlaWdodCAhPT0gMCA/IGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodCA6IDE7XG4gICAgY29uc3QgY2FudmFzQ2VudGVyWCA9IGNlbnRlclggKiBzY2FsZVg7XG4gICAgY29uc3QgY2FudmFzQ2VudGVyWSA9IGNlbnRlclkgKiBzY2FsZVk7XG4gICAgY29uc3QgZGVsdGEgPSBldmVudC5kZWx0YVk7XG4gICAgY29uc3Qgem9vbUZhY3RvciA9IGRlbHRhID4gMCA/IDAuOSA6IDEuMTtcbiAgICBjb25zdCBuZXdab29tID0gdWlTdGF0ZS56b29tICogem9vbUZhY3RvcjtcbiAgICBjYW1lcmEuc2V0Wm9vbShuZXdab29tLCBjYW52YXNDZW50ZXJYLCBjYW52YXNDZW50ZXJZKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRvdWNoRGlzdGFuY2UodG91Y2hlczogVG91Y2hMaXN0KTogbnVtYmVyIHwgbnVsbCB7XG4gICAgaWYgKHRvdWNoZXMubGVuZ3RoIDwgMikgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZHggPSB0b3VjaGVzWzBdLmNsaWVudFggLSB0b3VjaGVzWzFdLmNsaWVudFg7XG4gICAgY29uc3QgZHkgPSB0b3VjaGVzWzBdLmNsaWVudFkgLSB0b3VjaGVzWzFdLmNsaWVudFk7XG4gICAgcmV0dXJuIE1hdGguaHlwb3QoZHgsIGR5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRvdWNoQ2VudGVyKHRvdWNoZXM6IFRvdWNoTGlzdCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGwge1xuICAgIGlmICh0b3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICB4OiAodG91Y2hlc1swXS5jbGllbnRYICsgdG91Y2hlc1sxXS5jbGllbnRYKSAvIDIsXG4gICAgICB5OiAodG91Y2hlc1swXS5jbGllbnRZICsgdG91Y2hlc1sxXS5jbGllbnRZKSAvIDIsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2FudmFzVG91Y2hTdGFydChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlzUGluY2hpbmcgPSB0cnVlO1xuICAgICAgbGFzdFRvdWNoRGlzdGFuY2UgPSBnZXRUb3VjaERpc3RhbmNlKGV2ZW50LnRvdWNoZXMpO1xuICAgICAgaWYgKHBlbmRpbmdUb3VjaFRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdUb3VjaFRpbWVvdXQpO1xuICAgICAgICBwZW5kaW5nVG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbnZhc1RvdWNoTW92ZShldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMikge1xuICAgICAgbGFzdFRvdWNoRGlzdGFuY2UgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZSA9IGdldFRvdWNoRGlzdGFuY2UoZXZlbnQudG91Y2hlcyk7XG4gICAgaWYgKGN1cnJlbnREaXN0YW5jZSA9PT0gbnVsbCB8fCBsYXN0VG91Y2hEaXN0YW5jZSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY2VudGVyID0gZ2V0VG91Y2hDZW50ZXIoZXZlbnQudG91Y2hlcyk7XG4gICAgaWYgKCFjZW50ZXIpIHJldHVybjtcbiAgICBjb25zdCBzY2FsZVggPSByZWN0LndpZHRoICE9PSAwID8gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCA6IDE7XG4gICAgY29uc3Qgc2NhbGVZID0gcmVjdC5oZWlnaHQgIT09IDAgPyBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQgOiAxO1xuICAgIGNvbnN0IGNhbnZhc0NlbnRlclggPSAoY2VudGVyLnggLSByZWN0LmxlZnQpICogc2NhbGVYO1xuICAgIGNvbnN0IGNhbnZhc0NlbnRlclkgPSAoY2VudGVyLnkgLSByZWN0LnRvcCkgKiBzY2FsZVk7XG4gICAgY29uc3Qgem9vbUZhY3RvciA9IGN1cnJlbnREaXN0YW5jZSAvIGxhc3RUb3VjaERpc3RhbmNlO1xuICAgIGNvbnN0IG5ld1pvb20gPSB1aVN0YXRlLnpvb20gKiB6b29tRmFjdG9yO1xuICAgIGNhbWVyYS5zZXRab29tKG5ld1pvb20sIGNhbnZhc0NlbnRlclgsIGNhbnZhc0NlbnRlclkpO1xuICAgIGxhc3RUb3VjaERpc3RhbmNlID0gY3VycmVudERpc3RhbmNlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DYW52YXNUb3VjaEVuZChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgIGxhc3RUb3VjaERpc3RhbmNlID0gbnVsbDtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpc1BpbmNoaW5nID0gZmFsc2U7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUFkZE1pc3NpbGVSb3V0ZSgpOiB2b2lkIHtcbiAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJhZGRfbWlzc2lsZV9yb3V0ZVwiIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25XaW5kb3dLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgY29uc3QgaXNFZGl0YWJsZSA9XG4gICAgICAhIXRhcmdldCAmJlxuICAgICAgKHRhcmdldC50YWdOYW1lID09PSBcIklOUFVUXCIgfHxcbiAgICAgICAgdGFyZ2V0LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIiB8fFxuICAgICAgICB0YXJnZXQuaXNDb250ZW50RWRpdGFibGUpO1xuXG4gICAgaWYgKHVpU3RhdGUuaGVscFZpc2libGUgJiYgZXZlbnQua2V5ICE9PSBcIkVzY2FwZVwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRhcmdldC5ibHVyKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoIChldmVudC5jb2RlKSB7XG4gICAgICBjYXNlIFwiRGlnaXQxXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJEaWdpdDJcIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIktleVRcIjpcbiAgICAgICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJzaGlwLXNldFwiKSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcInNoaXAtc2VsZWN0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJzaGlwLXNlbGVjdFwiKSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcInNoaXAtc2V0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVpLnNldEFjdGl2ZVRvb2woXCJzaGlwLXNldFwiKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiS2V5Q1wiOlxuICAgICAgY2FzZSBcIktleUhcIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgICAgbG9naWMuY2xlYXJTaGlwUm91dGUoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIkJyYWNrZXRMZWZ0XCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIHVpLmFkanVzdFNoaXBTcGVlZCgtMSwgZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiQnJhY2tldFJpZ2h0XCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICAgIHVpLmFkanVzdFNoaXBTcGVlZCgxLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJUYWJcIjpcbiAgICAgICAgdWkuc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgICAgbG9naWMuY3ljbGVTaGlwU2VsZWN0aW9uKGV2ZW50LnNoaWZ0S2V5ID8gLTEgOiAxKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIktleU5cIjpcbiAgICAgICAgaGFuZGxlQWRkTWlzc2lsZVJvdXRlKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJLZXlMXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICAgIGxvZ2ljLmxhdW5jaEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiS2V5RVwiOlxuICAgICAgICBpZiAodWlTdGF0ZS5hY3RpdmVUb29sID09PSBcIm1pc3NpbGUtc2V0XCIpIHtcbiAgICAgICAgICB1aS5zZXRBY3RpdmVUb29sKFwibWlzc2lsZS1zZWxlY3RcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodWlTdGF0ZS5hY3RpdmVUb29sID09PSBcIm1pc3NpbGUtc2VsZWN0XCIpIHtcbiAgICAgICAgICB1aS5zZXRBY3RpdmVUb29sKFwibWlzc2lsZS1zZXRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWkuc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJDb21tYVwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICB1aS5hZGp1c3RNaXNzaWxlQWdybygtMSwgZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiUGVyaW9kXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICAgIHVpLmFkanVzdE1pc3NpbGVBZ3JvKDEsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlNlbWljb2xvblwiOlxuICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJtaXNzaWxlXCIpO1xuICAgICAgICB1aS5hZGp1c3RNaXNzaWxlU3BlZWQoLTEsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlF1b3RlXCI6XG4gICAgICAgIHVpLnNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICAgIHVpLmFkanVzdE1pc3NpbGVTcGVlZCgxLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJEZWxldGVcIjpcbiAgICAgIGNhc2UgXCJCYWNrc3BhY2VcIjpcbiAgICAgICAgaWYgKHVpU3RhdGUuaW5wdXRDb250ZXh0ID09PSBcIm1pc3NpbGVcIiAmJiBsb2dpYy5nZXRNaXNzaWxlU2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICBsb2dpYy5kZWxldGVTZWxlY3RlZE1pc3NpbGVXYXlwb2ludCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGxvZ2ljLmdldFNlbGVjdGlvbigpKSB7XG4gICAgICAgICAgbG9naWMuZGVsZXRlU2VsZWN0ZWRTaGlwV2F5cG9pbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiRXNjYXBlXCI6IHtcbiAgICAgICAgaWYgKHVpU3RhdGUuaGVscFZpc2libGUpIHtcbiAgICAgICAgICB1aS5zZXRIZWxwVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpKSB7XG4gICAgICAgICAgbG9naWMuc2V0TWlzc2lsZVNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2dpYy5nZXRTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGxvZ2ljLnNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJtaXNzaWxlXCIpIHtcbiAgICAgICAgICB1aS5zZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJFcXVhbFwiOlxuICAgICAgY2FzZSBcIk51bXBhZEFkZFwiOiB7XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgICAgIGNhbWVyYS5zZXRab29tKHVpU3RhdGUuem9vbSAqIDEuMiwgY2VudGVyWCwgY2VudGVyWSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJNaW51c1wiOlxuICAgICAgY2FzZSBcIk51bXBhZFN1YnRyYWN0XCI6IHtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgY2FtZXJhLnNldFpvb20odWlTdGF0ZS56b29tIC8gMS4yLCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBcIkRpZ2l0MFwiOlxuICAgICAgY2FzZSBcIk51bXBhZDBcIjpcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkge1xuICAgICAgICAgIGNhbWVyYS5zZXRab29tKDEuMCk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIj9cIikge1xuICAgICAgdWkuc2V0SGVscFZpc2libGUoIXVpU3RhdGUuaGVscFZpc2libGUpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBiaW5kSW5wdXQoKTogdm9pZCB7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBvbkNhbnZhc1BvaW50ZXJEb3duKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIG9uQ2FudmFzUG9pbnRlck1vdmUpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIG9uQ2FudmFzUG9pbnRlclVwKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIiwgb25DYW52YXNQb2ludGVyVXApO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgb25DYW52YXNXaGVlbCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25DYW52YXNUb3VjaFN0YXJ0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG9uQ2FudmFzVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgb25DYW52YXNUb3VjaEVuZCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25XaW5kb3dLZXlEb3duLCB7IGNhcHR1cmU6IGZhbHNlIH0pO1xuXG4gICAgYnVzLm9uKFwiY29udGV4dDpjaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nVG91Y2hUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVG91Y2hUaW1lb3V0KTtcbiAgICAgICAgcGVuZGluZ1RvdWNoVGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJpbmRJbnB1dCxcbiAgfTtcbn1cbiIsICIvLyBTaGFyZWQgcm91dGUgcGxhbm5pbmcgbW9kdWxlIGZvciBzaGlwcyBhbmQgbWlzc2lsZXNcbi8vIFBoYXNlIDE6IFNoYXJlZCBNb2RlbCAmIEhlbHBlcnNcblxuaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUeXBlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlV2F5cG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgc3BlZWQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVQb2ludHMge1xuICB3YXlwb2ludHM6IFJvdXRlV2F5cG9pbnRbXTtcbiAgd29ybGRQb2ludHM6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVtdO1xuICBjYW52YXNQb2ludHM6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVtdO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDb25zdGFudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IFdBWVBPSU5UX0hJVF9SQURJVVMgPSAxMjtcbmV4cG9ydCBjb25zdCBMRUdfSElUX0RJU1RBTkNFID0gMTA7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEJ1aWxkZXJzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQnVpbGRzIHJvdXRlIHBvaW50cyBmcm9tIGEgc3RhcnQgcG9zaXRpb24gYW5kIHdheXBvaW50cy5cbiAqIEluY2x1ZGVzIHdvcmxkIGNvb3JkaW5hdGVzICh3cmFwcGluZykgYW5kIGNhbnZhcyBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUm91dGVQb2ludHMoXG4gIHN0YXJ0OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG4gIHdheXBvaW50czogUm91dGVXYXlwb2ludFtdLFxuICB3b3JsZDogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9LFxuICBjYW1lcmE6ICgpID0+IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgem9vbTogKCkgPT4gbnVtYmVyLFxuICB3b3JsZFRvQ2FudmFzOiAocDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1cbik6IFJvdXRlUG9pbnRzIHtcbiAgY29uc3Qgd29ybGRQb2ludHM6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVtdID0gW3sgeDogc3RhcnQueCwgeTogc3RhcnQueSB9XTtcblxuICBmb3IgKGNvbnN0IHdwIG9mIHdheXBvaW50cykge1xuICAgIHdvcmxkUG9pbnRzLnB1c2goeyB4OiB3cC54LCB5OiB3cC55IH0pO1xuICB9XG5cbiAgY29uc3QgY2FudmFzUG9pbnRzID0gd29ybGRQb2ludHMubWFwKChwb2ludCkgPT4gd29ybGRUb0NhbnZhcyhwb2ludCkpO1xuXG4gIHJldHVybiB7XG4gICAgd2F5cG9pbnRzOiB3YXlwb2ludHMuc2xpY2UoKSxcbiAgICB3b3JsZFBvaW50cyxcbiAgICBjYW52YXNQb2ludHMsXG4gIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEdlb21ldHJ5IC8gSGl0LXRlc3Rcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBmcm9tIGEgcG9pbnQgdG8gYSBsaW5lIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludFNlZ21lbnREaXN0YW5jZShcbiAgcDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuICBhOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG4gIGI6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVxuKTogbnVtYmVyIHtcbiAgY29uc3QgYWJ4ID0gYi54IC0gYS54O1xuICBjb25zdCBhYnkgPSBiLnkgLSBhLnk7XG4gIGNvbnN0IGFweCA9IHAueCAtIGEueDtcbiAgY29uc3QgYXB5ID0gcC55IC0gYS55O1xuICBjb25zdCBhYkxlblNxID0gYWJ4ICogYWJ4ICsgYWJ5ICogYWJ5O1xuICBjb25zdCB0ID0gYWJMZW5TcSA9PT0gMCA/IDAgOiBjbGFtcChhcHggKiBhYnggKyBhcHkgKiBhYnksIDAsIGFiTGVuU3EpIC8gYWJMZW5TcTtcbiAgY29uc3QgcHJvanggPSBhLnggKyBhYnggKiB0O1xuICBjb25zdCBwcm9qeSA9IGEueSArIGFieSAqIHQ7XG4gIGNvbnN0IGR4ID0gcC54IC0gcHJvang7XG4gIGNvbnN0IGR5ID0gcC55IC0gcHJvank7XG4gIHJldHVybiBNYXRoLmh5cG90KGR4LCBkeSk7XG59XG5cbi8qKlxuICogSGl0LXRlc3RzIGEgcm91dGUgYWdhaW5zdCBhIGNhbnZhcyBwb2ludC5cbiAqIFJldHVybnMgdGhlIGhpdCB0eXBlIGFuZCBpbmRleCwgb3IgbnVsbCBpZiBubyBoaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaXRUZXN0Um91dGVHZW5lcmljKFxuICBjYW52YXNQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuICByb3V0ZVBvaW50czogUm91dGVQb2ludHMsXG4gIG9wdHM6IHtcbiAgICB3YXlwb2ludEhpdFJhZGl1cz86IG51bWJlcjtcbiAgICBsZWdIaXREaXN0YW5jZT86IG51bWJlcjtcbiAgICBza2lwTGVncz86IGJvb2xlYW47XG4gIH0gPSB7fVxuKTogeyB0eXBlOiBcIndheXBvaW50XCIgfCBcImxlZ1wiOyBpbmRleDogbnVtYmVyIH0gfCBudWxsIHtcbiAgY29uc3Qgd2F5cG9pbnRIaXRSYWRpdXMgPSBvcHRzLndheXBvaW50SGl0UmFkaXVzID8/IFdBWVBPSU5UX0hJVF9SQURJVVM7XG4gIGNvbnN0IGxlZ0hpdERpc3RhbmNlID0gb3B0cy5sZWdIaXREaXN0YW5jZSA/PyBMRUdfSElUX0RJU1RBTkNFO1xuICBjb25zdCBza2lwTGVncyA9IG9wdHMuc2tpcExlZ3MgPz8gZmFsc2U7XG5cbiAgY29uc3QgeyB3YXlwb2ludHMsIGNhbnZhc1BvaW50cyB9ID0gcm91dGVQb2ludHM7XG5cbiAgaWYgKHdheXBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIENoZWNrIHdheXBvaW50cyBmaXJzdCAoaGlnaGVyIHByaW9yaXR5IHRoYW4gbGVncylcbiAgLy8gU2tpcCBpbmRleCAwIHdoaWNoIGlzIHRoZSBzdGFydCBwb3NpdGlvblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHdwQ2FudmFzID0gY2FudmFzUG9pbnRzW2kgKyAxXTsgLy8gKzEgYmVjYXVzZSBmaXJzdCBwb2ludCBpcyBzdGFydCBwb3NpdGlvblxuICAgIGNvbnN0IGR4ID0gY2FudmFzUG9pbnQueCAtIHdwQ2FudmFzLng7XG4gICAgY29uc3QgZHkgPSBjYW52YXNQb2ludC55IC0gd3BDYW52YXMueTtcbiAgICBpZiAoTWF0aC5oeXBvdChkeCwgZHkpIDw9IHdheXBvaW50SGl0UmFkaXVzKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIndheXBvaW50XCIsIGluZGV4OiBpIH07XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgbGVncyAobG93ZXIgcHJpb3JpdHkpXG4gIGlmICghc2tpcExlZ3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGlzdCA9IHBvaW50U2VnbWVudERpc3RhbmNlKGNhbnZhc1BvaW50LCBjYW52YXNQb2ludHNbaV0sIGNhbnZhc1BvaW50c1tpICsgMV0pO1xuICAgICAgaWYgKGRpc3QgPD0gbGVnSGl0RGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJsZWdcIiwgaW5kZXg6IGkgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRGFzaCBBbmltYXRpb25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBVcGRhdGVzIGRhc2ggb2Zmc2V0cyBmb3Igcm91dGUgbGVncyB0byBjcmVhdGUgbWFyY2hpbmcgYW50cyBhbmltYXRpb24uXG4gKiBNdXRhdGVzIHRoZSBwcm92aWRlZCBzdG9yZSBtYXAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEYXNoT2Zmc2V0c0ZvclJvdXRlKFxuICBzdG9yZTogTWFwPG51bWJlciwgbnVtYmVyPixcbiAgd2F5cG9pbnRzOiBBcnJheTx7IHNwZWVkPzogbnVtYmVyIH0+LFxuICB3b3JsZFBvaW50czogQXJyYXk8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9PixcbiAgY2FudmFzUG9pbnRzOiBBcnJheTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+LFxuICBmYWxsYmFja1NwZWVkOiBudW1iZXIsXG4gIGR0U2Vjb25kczogbnVtYmVyLFxuICBjeWNsZSA9IDY0XG4pOiB2b2lkIHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZHRTZWNvbmRzKSB8fCBkdFNlY29uZHMgPCAwKSB7XG4gICAgZHRTZWNvbmRzID0gMDtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2F5cG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgd3AgPSB3YXlwb2ludHNbaV07XG4gICAgY29uc3Qgc3BlZWQgPSB0eXBlb2Ygd3Auc3BlZWQgPT09IFwibnVtYmVyXCIgJiYgd3Auc3BlZWQgPiAwID8gd3Auc3BlZWQgOiBmYWxsYmFja1NwZWVkO1xuICAgIGNvbnN0IGFXb3JsZCA9IHdvcmxkUG9pbnRzW2ldO1xuICAgIGNvbnN0IGJXb3JsZCA9IHdvcmxkUG9pbnRzW2kgKyAxXTtcbiAgICBjb25zdCB3b3JsZERpc3QgPSBNYXRoLmh5cG90KGJXb3JsZC54IC0gYVdvcmxkLngsIGJXb3JsZC55IC0gYVdvcmxkLnkpO1xuICAgIGNvbnN0IGFDYW52YXMgPSBjYW52YXNQb2ludHNbaV07XG4gICAgY29uc3QgYkNhbnZhcyA9IGNhbnZhc1BvaW50c1tpICsgMV07XG4gICAgY29uc3QgY2FudmFzRGlzdCA9IE1hdGguaHlwb3QoYkNhbnZhcy54IC0gYUNhbnZhcy54LCBiQ2FudmFzLnkgLSBhQ2FudmFzLnkpO1xuXG4gICAgaWYgKFxuICAgICAgIU51bWJlci5pc0Zpbml0ZShzcGVlZCkgfHxcbiAgICAgIHNwZWVkIDw9IDFlLTMgfHxcbiAgICAgICFOdW1iZXIuaXNGaW5pdGUod29ybGREaXN0KSB8fFxuICAgICAgd29ybGREaXN0IDw9IDFlLTMgfHxcbiAgICAgIGNhbnZhc0Rpc3QgPD0gMWUtM1xuICAgICkge1xuICAgICAgc3RvcmUuc2V0KGksIDApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGR0U2Vjb25kcyA8PSAwKSB7XG4gICAgICBpZiAoIXN0b3JlLmhhcyhpKSkge1xuICAgICAgICBzdG9yZS5zZXQoaSwgMCk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBzY2FsZSA9IGNhbnZhc0Rpc3QgLyB3b3JsZERpc3Q7XG4gICAgY29uc3QgZGFzaFNwZWVkID0gc3BlZWQgKiBzY2FsZTtcbiAgICBsZXQgbmV4dCA9IChzdG9yZS5nZXQoaSkgPz8gMCkgLSBkYXNoU3BlZWQgKiBkdFNlY29uZHM7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobmV4dCkpIHtcbiAgICAgIG5leHQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0ID0gKChuZXh0ICUgY3ljbGUpICsgY3ljbGUpICUgY3ljbGU7XG4gICAgfVxuICAgIHN0b3JlLnNldChpLCBuZXh0KTtcbiAgfVxuICAvLyBDbGVhbiB1cCBvbGQga2V5c1xuICBmb3IgKGNvbnN0IGtleSBvZiBBcnJheS5mcm9tKHN0b3JlLmtleXMoKSkpIHtcbiAgICBpZiAoa2V5ID49IHdheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIHN0b3JlLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIZWF0IFByb2plY3Rpb25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBIZWF0UHJvamVjdGlvblBhcmFtcyB7XG4gIG1hcmtlclNwZWVkOiBudW1iZXI7XG4gIGtVcDogbnVtYmVyO1xuICBrRG93bjogbnVtYmVyO1xuICBleHA6IG51bWJlcjtcbiAgbWF4OiBudW1iZXI7XG4gIG92ZXJoZWF0QXQ6IG51bWJlcjtcbiAgd2FybkF0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhdFByb2plY3Rpb25SZXN1bHQge1xuICBoZWF0QXRXYXlwb2ludHM6IG51bWJlcltdO1xuICB3aWxsT3ZlcmhlYXQ6IGJvb2xlYW47XG4gIG92ZXJoZWF0QXQ/OiBudW1iZXI7IC8vIEluZGV4IHdoZXJlIG92ZXJoZWF0IG9jY3Vyc1xufVxuXG4vKipcbiAqIFByb2plY3RzIGhlYXQgYWxvbmcgYSByb3V0ZSBnaXZlbiBpbml0aWFsIGhlYXQgYW5kIGhlYXQgcGFyYW1ldGVycy5cbiAqIFJldHVybnMgaGVhdCBhdCBlYWNoIHdheXBvaW50IGFuZCB3aGV0aGVyIG92ZXJoZWF0IHdpbGwgb2NjdXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0Um91dGVIZWF0KFxuICByb3V0ZTogUm91dGVXYXlwb2ludFtdLFxuICBpbml0aWFsSGVhdDogbnVtYmVyLFxuICBwYXJhbXM6IEhlYXRQcm9qZWN0aW9uUGFyYW1zXG4pOiBIZWF0UHJvamVjdGlvblJlc3VsdCB7XG4gIGNvbnN0IHJlc3VsdDogSGVhdFByb2plY3Rpb25SZXN1bHQgPSB7XG4gICAgaGVhdEF0V2F5cG9pbnRzOiBbXSxcbiAgICB3aWxsT3ZlcmhlYXQ6IGZhbHNlLFxuICB9O1xuXG4gIGlmIChyb3V0ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgbGV0IGhlYXQgPSBjbGFtcChpbml0aWFsSGVhdCwgMCwgcGFyYW1zLm1heCk7XG4gIGxldCBwcmV2UG9pbnQgPSB7IHg6IHJvdXRlWzBdLngsIHk6IHJvdXRlWzBdLnkgfTtcblxuICByZXN1bHQuaGVhdEF0V2F5cG9pbnRzLnB1c2goaGVhdCk7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCByb3V0ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRhcmdldFBvcyA9IHJvdXRlW2ldO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIGFuZCB0aW1lXG4gICAgY29uc3QgZHggPSB0YXJnZXRQb3MueCAtIHByZXZQb2ludC54O1xuICAgIGNvbnN0IGR5ID0gdGFyZ2V0UG9zLnkgLSBwcmV2UG9pbnQueTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICBpZiAoZGlzdGFuY2UgPCAwLjAwMSkge1xuICAgICAgcmVzdWx0LmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuICAgICAgcHJldlBvaW50ID0geyB4OiB0YXJnZXRQb3MueCwgeTogdGFyZ2V0UG9zLnkgfTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHJhd1NwZWVkID0gdGFyZ2V0UG9zLnNwZWVkID8/IHBhcmFtcy5tYXJrZXJTcGVlZDtcbiAgICBjb25zdCBzZWdtZW50U3BlZWQgPSBNYXRoLm1heChyYXdTcGVlZCwgMC4wMDAwMDEpO1xuICAgIGNvbnN0IHNlZ21lbnRUaW1lID0gZGlzdGFuY2UgLyBzZWdtZW50U3BlZWQ7XG5cbiAgICAvLyBDYWxjdWxhdGUgaGVhdCByYXRlIChtYXRjaCBzZXJ2ZXIgZm9ybXVsYSlcbiAgICBjb25zdCBWbiA9IE1hdGgubWF4KHBhcmFtcy5tYXJrZXJTcGVlZCwgMC4wMDAwMDEpO1xuICAgIGNvbnN0IGRldiA9IHNlZ21lbnRTcGVlZCAtIHBhcmFtcy5tYXJrZXJTcGVlZDtcbiAgICBjb25zdCBwID0gcGFyYW1zLmV4cDtcblxuICAgIGxldCBoZG90OiBudW1iZXI7XG4gICAgaWYgKGRldiA+PSAwKSB7XG4gICAgICAvLyBIZWF0aW5nXG4gICAgICBoZG90ID0gcGFyYW1zLmtVcCAqIE1hdGgucG93KGRldiAvIFZuLCBwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29vbGluZ1xuICAgICAgaGRvdCA9IC1wYXJhbXMua0Rvd24gKiBNYXRoLnBvdyhNYXRoLmFicyhkZXYpIC8gVm4sIHApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBoZWF0XG4gICAgaGVhdCArPSBoZG90ICogc2VnbWVudFRpbWU7XG4gICAgaGVhdCA9IGNsYW1wKGhlYXQsIDAsIHBhcmFtcy5tYXgpO1xuXG4gICAgcmVzdWx0LmhlYXRBdFdheXBvaW50cy5wdXNoKGhlYXQpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIG92ZXJoZWF0XG4gICAgaWYgKCFyZXN1bHQud2lsbE92ZXJoZWF0ICYmIGhlYXQgPj0gcGFyYW1zLm92ZXJoZWF0QXQpIHtcbiAgICAgIHJlc3VsdC53aWxsT3ZlcmhlYXQgPSB0cnVlO1xuICAgICAgcmVzdWx0Lm92ZXJoZWF0QXQgPSBpO1xuICAgIH1cblxuICAgIHByZXZQb2ludCA9IHsgeDogdGFyZ2V0UG9zLngsIHk6IHRhcmdldFBvcy55IH07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbXBhdGliaWxpdHkgd3JhcHBlciBmb3IgbWlzc2lsZSBoZWF0IHByb2plY3Rpb24uXG4gKiBNaXNzaWxlcyBzdGFydCBhdCB6ZXJvIGhlYXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0TWlzc2lsZUhlYXRDb21wYXQoXG4gIHJvdXRlOiBSb3V0ZVdheXBvaW50W10sXG4gIGRlZmF1bHRTcGVlZDogbnVtYmVyLFxuICBoZWF0UGFyYW1zOiBIZWF0UHJvamVjdGlvblBhcmFtc1xuKTogSGVhdFByb2plY3Rpb25SZXN1bHQge1xuICAvLyBNaXNzaWxlcyBzdGFydCBhdCB6ZXJvIGhlYXRcbiAgLy8gRW5zdXJlIGFsbCB3YXlwb2ludHMgaGF2ZSBzcGVlZCBzZXQgKHVzZSBkZWZhdWx0IGlmIG1pc3NpbmcpXG4gIGNvbnN0IHJvdXRlV2l0aFNwZWVkID0gcm91dGUubWFwKCh3cCkgPT4gKHtcbiAgICB4OiB3cC54LFxuICAgIHk6IHdwLnksXG4gICAgc3BlZWQ6IHdwLnNwZWVkID8/IGRlZmF1bHRTcGVlZCxcbiAgfSkpO1xuXG4gIHJldHVybiBwcm9qZWN0Um91dGVIZWF0KHJvdXRlV2l0aFNwZWVkLCAwLCBoZWF0UGFyYW1zKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUmVuZGVyaW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogTGluZWFyIGNvbG9yIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gUkdCIGNvbG9ycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlQ29sb3IoXG4gIGNvbG9yMTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICBjb2xvcjI6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgdDogbnVtYmVyXG4pOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0ge1xuICByZXR1cm4gW1xuICAgIE1hdGgucm91bmQoY29sb3IxWzBdICsgKGNvbG9yMlswXSAtIGNvbG9yMVswXSkgKiB0KSxcbiAgICBNYXRoLnJvdW5kKGNvbG9yMVsxXSArIChjb2xvcjJbMV0gLSBjb2xvcjFbMV0pICogdCksXG4gICAgTWF0aC5yb3VuZChjb2xvcjFbMl0gKyAoY29sb3IyWzJdIC0gY29sb3IxWzJdKSAqIHQpLFxuICBdO1xufVxuXG4vKipcbiAqIENvbG9yIHBhbGV0dGUgZm9yIHJvdXRlIHJlbmRlcmluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3V0ZVBhbGV0dGUge1xuICAvLyBEZWZhdWx0IGxpbmUgY29sb3IgKHdoZW4gbm8gaGVhdCBkYXRhKVxuICBkZWZhdWx0TGluZTogc3RyaW5nO1xuICAvLyBTZWxlY3Rpb24gaGlnaGxpZ2h0IGNvbG9yXG4gIHNlbGVjdGlvbjogc3RyaW5nO1xuICAvLyBXYXlwb2ludCBjb2xvcnNcbiAgd2F5cG9pbnREZWZhdWx0OiBzdHJpbmc7XG4gIHdheXBvaW50U2VsZWN0ZWQ6IHN0cmluZztcbiAgd2F5cG9pbnREcmFnZ2luZz86IHN0cmluZztcbiAgd2F5cG9pbnRTdHJva2U6IHN0cmluZztcbiAgd2F5cG9pbnRTdHJva2VTZWxlY3RlZD86IHN0cmluZztcbiAgLy8gSGVhdCBncmFkaWVudCBjb2xvcnMgKGZyb20gY29vbCB0byBob3QpXG4gIGhlYXRDb29sUmdiPzogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICBoZWF0SG90UmdiPzogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2hpcCBwYWxldHRlIChibHVlIHRoZW1lKS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNISVBfUEFMRVRURTogUm91dGVQYWxldHRlID0ge1xuICBkZWZhdWx0TGluZTogXCIjMzhiZGY4XCIsXG4gIHNlbGVjdGlvbjogXCIjZjk3MzE2XCIsXG4gIHdheXBvaW50RGVmYXVsdDogXCIjMzhiZGY4XCIsXG4gIHdheXBvaW50U2VsZWN0ZWQ6IFwiI2Y5NzMxNlwiLFxuICB3YXlwb2ludERyYWdnaW5nOiBcIiNmYWNjMTVcIixcbiAgd2F5cG9pbnRTdHJva2U6IFwiIzBmMTcyYVwiLFxuICBoZWF0Q29vbFJnYjogWzEwMCwgMTUwLCAyNTVdLFxuICBoZWF0SG90UmdiOiBbMjU1LCA1MCwgNTBdLFxufTtcblxuLyoqXG4gKiBNaXNzaWxlIHBhbGV0dGUgKHJlZCB0aGVtZSkuXG4gKi9cbmV4cG9ydCBjb25zdCBNSVNTSUxFX1BBTEVUVEU6IFJvdXRlUGFsZXR0ZSA9IHtcbiAgZGVmYXVsdExpbmU6IFwiI2Y4NzE3MWFhXCIsXG4gIHNlbGVjdGlvbjogXCIjZjk3MzE2XCIsXG4gIHdheXBvaW50RGVmYXVsdDogXCIjZjg3MTcxXCIsXG4gIHdheXBvaW50U2VsZWN0ZWQ6IFwiI2ZhY2MxNVwiLFxuICB3YXlwb2ludFN0cm9rZTogXCIjN2YxZDFkXCIsXG4gIHdheXBvaW50U3Ryb2tlU2VsZWN0ZWQ6IFwiIzg1NGQwZVwiLFxuICBoZWF0Q29vbFJnYjogWzI0OCwgMTI5LCAxMjldLFxuICBoZWF0SG90UmdiOiBbMjIwLCAzOCwgMzhdLFxufTtcblxuZXhwb3J0IGludGVyZmFjZSBEcmF3UGxhbm5lZFJvdXRlT3B0aW9ucyB7XG4gIC8vIENhbnZhcyBwb2ludHMgZm9yIHRoZSByb3V0ZVxuICByb3V0ZVBvaW50czogUm91dGVQb2ludHM7XG4gIC8vIFNlbGVjdGlvbiBzdGF0ZSAod2hpY2ggd2F5cG9pbnQvbGVnIGlzIHNlbGVjdGVkKVxuICBzZWxlY3Rpb246IHsgdHlwZTogXCJ3YXlwb2ludFwiIHwgXCJsZWdcIjsgaW5kZXg6IG51bWJlciB9IHwgbnVsbDtcbiAgLy8gRHJhZ2dlZCB3YXlwb2ludCBpbmRleCAoZm9yIGRyYWctYW5kLWRyb3ApXG4gIGRyYWdnZWRXYXlwb2ludD86IG51bWJlciB8IG51bGw7XG4gIC8vIERhc2ggYW5pbWF0aW9uIG9mZnNldHNcbiAgZGFzaFN0b3JlOiBNYXA8bnVtYmVyLCBudW1iZXI+O1xuICAvLyBDb2xvciBwYWxldHRlIChkZWZhdWx0cyB0byBzaGlwIHBhbGV0dGUpXG4gIHBhbGV0dGU/OiBSb3V0ZVBhbGV0dGU7XG4gIC8vIFdoZXRoZXIgdG8gc2hvdyB0aGUgcm91dGUgbGVnc1xuICBzaG93TGVnczogYm9vbGVhbjtcbiAgLy8gSGVhdCBwYXJhbWV0ZXJzIGFuZCBpbml0aWFsIGhlYXQgKG9wdGlvbmFsKVxuICBoZWF0UGFyYW1zPzogSGVhdFByb2plY3Rpb25QYXJhbXM7XG4gIGluaXRpYWxIZWF0PzogbnVtYmVyO1xuICAvLyBEZWZhdWx0IHNwZWVkIGZvciB3YXlwb2ludHMgd2l0aG91dCBzcGVlZCBzZXRcbiAgZGVmYXVsdFNwZWVkOiBudW1iZXI7XG4gIC8vIFdvcmxkIHBvaW50cyAoZm9yIGhlYXQgY2FsY3VsYXRpb24pXG4gIHdvcmxkUG9pbnRzPzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9W107XG59XG5cbi8qKlxuICogRHJhd3MgYSBwbGFubmVkIHJvdXRlIChzaGlwIG9yIG1pc3NpbGUpIHdpdGggdW5pZmllZCB2aXN1YWxzLlxuICogVXNlcyBzaGlwLXN0eWxlIHJlbmRlcmluZyBieSBkZWZhdWx0LCB3aXRoIG9wdGlvbmFsIHBhbGV0dGUgb3ZlcnJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3UGxhbm5lZFJvdXRlKFxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgb3B0czogRHJhd1BsYW5uZWRSb3V0ZU9wdGlvbnNcbik6IHZvaWQge1xuICBjb25zdCB7XG4gICAgcm91dGVQb2ludHMsXG4gICAgc2VsZWN0aW9uLFxuICAgIGRyYWdnZWRXYXlwb2ludCxcbiAgICBkYXNoU3RvcmUsXG4gICAgcGFsZXR0ZSA9IFNISVBfUEFMRVRURSxcbiAgICBzaG93TGVncyxcbiAgICBoZWF0UGFyYW1zLFxuICAgIGluaXRpYWxIZWF0ID0gMCxcbiAgICBkZWZhdWx0U3BlZWQsXG4gICAgd29ybGRQb2ludHMsXG4gIH0gPSBvcHRzO1xuXG4gIGNvbnN0IHsgd2F5cG9pbnRzLCBjYW52YXNQb2ludHMgfSA9IHJvdXRlUG9pbnRzO1xuXG4gIGlmICh3YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIGhlYXQgcHJvamVjdGlvbiBpZiBoZWF0IHBhcmFtcyBhdmFpbGFibGVcbiAgbGV0IGhlYXRQcm9qZWN0aW9uOiBIZWF0UHJvamVjdGlvblJlc3VsdCB8IG51bGwgPSBudWxsO1xuICBpZiAoaGVhdFBhcmFtcyAmJiB3b3JsZFBvaW50cyAmJiB3b3JsZFBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3Qgcm91dGVGb3JIZWF0OiBSb3V0ZVdheXBvaW50W10gPSB3b3JsZFBvaW50cy5tYXAoKHB0LCBpKSA9PiAoe1xuICAgICAgeDogcHQueCxcbiAgICAgIHk6IHB0LnksXG4gICAgICBzcGVlZDogaSA9PT0gMCA/IHVuZGVmaW5lZCA6IHdheXBvaW50c1tpIC0gMV0/LnNwZWVkID8/IGRlZmF1bHRTcGVlZCxcbiAgICB9KSk7XG4gICAgaGVhdFByb2plY3Rpb24gPSBwcm9qZWN0Um91dGVIZWF0KHJvdXRlRm9ySGVhdCwgaW5pdGlhbEhlYXQsIGhlYXRQYXJhbXMpO1xuICB9XG5cbiAgLy8gRHJhdyByb3V0ZSBzZWdtZW50c1xuICBpZiAoc2hvd0xlZ3MpIHtcbiAgICBsZXQgY3VycmVudEhlYXQgPSBpbml0aWFsSGVhdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2F5cG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpc0ZpcnN0TGVnID0gaSA9PT0gMDtcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3Rpb24/LnR5cGUgPT09IFwibGVnXCIgJiYgc2VsZWN0aW9uLmluZGV4ID09PSBpO1xuXG4gICAgICAvLyBHZXQgaGVhdCBhdCBlbmQgb2YgdGhpcyBzZWdtZW50XG4gICAgICBsZXQgc2VnbWVudEhlYXQgPSBjdXJyZW50SGVhdDtcbiAgICAgIGlmIChoZWF0UHJvamVjdGlvbiAmJiBpICsgMSA8IGhlYXRQcm9qZWN0aW9uLmhlYXRBdFdheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgc2VnbWVudEhlYXQgPSBoZWF0UHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHNbaSArIDFdO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxjdWxhdGUgaGVhdC1iYXNlZCBjb2xvciBpZiBoZWF0IGRhdGEgYXZhaWxhYmxlXG4gICAgICBsZXQgc3Ryb2tlU3R5bGU6IHN0cmluZztcbiAgICAgIGxldCBsaW5lV2lkdGg6IG51bWJlcjtcbiAgICAgIGxldCBsaW5lRGFzaDogbnVtYmVyW10gfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBhbHBoYU92ZXJyaWRlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgLy8gU2VsZWN0aW9uIHN0eWxpbmdcbiAgICAgICAgc3Ryb2tlU3R5bGUgPSBwYWxldHRlLnNlbGVjdGlvbjtcbiAgICAgICAgbGluZVdpZHRoID0gMy41O1xuICAgICAgICBsaW5lRGFzaCA9IFs0LCA0XTtcbiAgICAgIH0gZWxzZSBpZiAoaGVhdFByb2plY3Rpb24gJiYgaGVhdFBhcmFtcyAmJiBwYWxldHRlLmhlYXRDb29sUmdiICYmIHBhbGV0dGUuaGVhdEhvdFJnYikge1xuICAgICAgICAvLyBIZWF0LWJhc2VkIGNvbG9yIGludGVycG9sYXRpb24gKHNoaXAgc3R5bGUpXG4gICAgICAgIGNvbnN0IGhlYXRSYXRpbyA9IGNsYW1wKHNlZ21lbnRIZWF0IC8gaGVhdFBhcmFtcy5vdmVyaGVhdEF0LCAwLCAxKTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBpbnRlcnBvbGF0ZUNvbG9yKHBhbGV0dGUuaGVhdENvb2xSZ2IsIHBhbGV0dGUuaGVhdEhvdFJnYiwgaGVhdFJhdGlvKTtcbiAgICAgICAgY29uc3QgYmFzZVdpZHRoID0gaXNGaXJzdExlZyA/IDMgOiAxLjU7XG4gICAgICAgIGxpbmVXaWR0aCA9IGJhc2VXaWR0aCArIGhlYXRSYXRpbyAqIDQ7XG4gICAgICAgIGNvbnN0IGFscGhhID0gaXNGaXJzdExlZyA/IDEgOiAwLjQ7XG4gICAgICAgIHN0cm9rZVN0eWxlID0gYHJnYmEoJHtjb2xvclswXX0sICR7Y29sb3JbMV19LCAke2NvbG9yWzJdfSwgJHthbHBoYX0pYDtcbiAgICAgICAgbGluZURhc2ggPSBpc0ZpcnN0TGVnID8gWzYsIDZdIDogWzgsIDhdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmYXVsdCBzdHlsaW5nIChubyBoZWF0KVxuICAgICAgICBjb25zdCBiYXNlV2lkdGggPSBpc0ZpcnN0TGVnID8gMyA6IDEuNTtcbiAgICAgICAgbGluZVdpZHRoID0gYmFzZVdpZHRoO1xuICAgICAgICBzdHJva2VTdHlsZSA9IHBhbGV0dGUuZGVmYXVsdExpbmU7XG4gICAgICAgIGxpbmVEYXNoID0gaXNGaXJzdExlZyA/IFs2LCA2XSA6IFs4LCA4XTtcbiAgICAgICAgYWxwaGFPdmVycmlkZSA9IGlzRmlyc3RMZWcgPyAxIDogMC40O1xuICAgICAgfVxuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKGxpbmVEYXNoKSB7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChsaW5lRGFzaCk7XG4gICAgICB9XG4gICAgICBpZiAoYWxwaGFPdmVycmlkZSAhPT0gbnVsbCkge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBhbHBoYU92ZXJyaWRlO1xuICAgICAgfVxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICBjdHgubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gZGFzaFN0b3JlLmdldChpKSA/PyAwO1xuICAgICAgY3R4Lm1vdmVUbyhjYW52YXNQb2ludHNbaV0ueCwgY2FudmFzUG9pbnRzW2ldLnkpO1xuICAgICAgY3R4LmxpbmVUbyhjYW52YXNQb2ludHNbaSArIDFdLngsIGNhbnZhc1BvaW50c1tpICsgMV0ueSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICBjdXJyZW50SGVhdCA9IHNlZ21lbnRIZWF0O1xuICAgIH1cbiAgfVxuXG4gIC8vIERyYXcgd2F5cG9pbnQgbWFya2Vyc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHB0ID0gY2FudmFzUG9pbnRzW2kgKyAxXTsgLy8gKzEgYmVjYXVzZSBmaXJzdCBwb2ludCBpcyBzdGFydCBwb3NpdGlvblxuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3Rpb24/LnR5cGUgPT09IFwid2F5cG9pbnRcIiAmJiBzZWxlY3Rpb24uaW5kZXggPT09IGk7XG4gICAgY29uc3QgaXNEcmFnZ2luZyA9IGRyYWdnZWRXYXlwb2ludCA9PT0gaTtcblxuICAgIC8vIERldGVybWluZSBmaWxsIGNvbG9yXG4gICAgbGV0IGZpbGxDb2xvcjogc3RyaW5nO1xuICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICBmaWxsQ29sb3IgPSBwYWxldHRlLndheXBvaW50U2VsZWN0ZWQ7XG4gICAgfSBlbHNlIGlmIChpc0RyYWdnaW5nICYmIHBhbGV0dGUud2F5cG9pbnREcmFnZ2luZykge1xuICAgICAgZmlsbENvbG9yID0gcGFsZXR0ZS53YXlwb2ludERyYWdnaW5nO1xuICAgIH0gZWxzZSBpZiAoaGVhdFByb2plY3Rpb24gJiYgaGVhdFBhcmFtcykge1xuICAgICAgLy8gSGVhdC1iYXNlZCB3YXlwb2ludCBjb2xvcmluZyAodGhyZXNob2xkLWJhc2VkIGZvciBtaXNzaWxlcylcbiAgICAgIGNvbnN0IGhlYXQgPSBoZWF0UHJvamVjdGlvbi5oZWF0QXRXYXlwb2ludHNbaSArIDFdID8/IDA7XG4gICAgICBjb25zdCBoZWF0UmF0aW8gPSBoZWF0IC8gaGVhdFBhcmFtcy5tYXg7XG4gICAgICBjb25zdCB3YXJuUmF0aW8gPSBoZWF0UGFyYW1zLndhcm5BdCAvIGhlYXRQYXJhbXMubWF4O1xuICAgICAgY29uc3Qgb3ZlcmhlYXRSYXRpbyA9IGhlYXRQYXJhbXMub3ZlcmhlYXRBdCAvIGhlYXRQYXJhbXMubWF4O1xuXG4gICAgICBpZiAoaGVhdFJhdGlvIDwgd2FyblJhdGlvKSB7XG4gICAgICAgIGZpbGxDb2xvciA9IFwiIzMzYWEzM1wiOyAvLyBHcmVlblxuICAgICAgfSBlbHNlIGlmIChoZWF0UmF0aW8gPCBvdmVyaGVhdFJhdGlvKSB7XG4gICAgICAgIGZpbGxDb2xvciA9IFwiI2ZmYWEzM1wiOyAvLyBPcmFuZ2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxDb2xvciA9IFwiI2ZmMzMzM1wiOyAvLyBSZWRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZmlsbENvbG9yID0gcGFsZXR0ZS53YXlwb2ludERlZmF1bHQ7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHN0cm9rZSBjb2xvclxuICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gaXNTZWxlY3RlZCAmJiBwYWxldHRlLndheXBvaW50U3Ryb2tlU2VsZWN0ZWRcbiAgICAgID8gcGFsZXR0ZS53YXlwb2ludFN0cm9rZVNlbGVjdGVkXG4gICAgICA6IHBhbGV0dGUud2F5cG9pbnRTdHJva2U7XG5cbiAgICAvLyBEcmF3IHdheXBvaW50XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY29uc3QgcmFkaXVzID0gaXNTZWxlY3RlZCB8fCBpc0RyYWdnaW5nID8gNyA6IDU7XG4gICAgY3R4LmFyYyhwdC54LCBwdC55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGlzU2VsZWN0ZWQgfHwgaXNEcmFnZ2luZyA/IDAuOTUgOiAwLjg7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgIGN0eC5saW5lV2lkdGggPSBpc1NlbGVjdGVkID8gMiA6IDEuNTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcjtcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vYnVzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEFwcFN0YXRlLFxuICBNaXNzaWxlUm91dGUsXG4gIE1pc3NpbGVTZWxlY3Rpb24sXG4gIFNlbGVjdGlvbixcbiAgVUlTdGF0ZSxcbn0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgeyBNSVNTSUxFX01BWF9TUEVFRCwgTUlTU0lMRV9NSU5fU1BFRUQsIGNsYW1wIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgdHlwZSB7IFJvdXRlUG9pbnRzIH0gZnJvbSBcIi4uL3JvdXRlXCI7XG5pbXBvcnQge1xuICBXQVlQT0lOVF9ISVRfUkFESVVTLFxuICBidWlsZFJvdXRlUG9pbnRzLFxuICBoaXRUZXN0Um91dGVHZW5lcmljLFxuICB1cGRhdGVEYXNoT2Zmc2V0c0ZvclJvdXRlLFxufSBmcm9tIFwiLi4vcm91dGVcIjtcbmltcG9ydCB0eXBlIHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCI7XG5cbmludGVyZmFjZSBMb2dpY0RlcGVuZGVuY2llcyB7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgdWlTdGF0ZTogVUlTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgc2VuZE1lc3NhZ2UocGF5bG9hZDogdW5rbm93bik6IHZvaWQ7XG4gIGdldEFwcHJveFNlcnZlck5vdyhzdGF0ZTogQXBwU3RhdGUpOiBudW1iZXI7XG4gIGNhbWVyYTogQ2FtZXJhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50ZXJQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2ljIHtcbiAgZ2V0U2VsZWN0aW9uKCk6IFNlbGVjdGlvbiB8IG51bGw7XG4gIHNldFNlbGVjdGlvbihzZWxlY3Rpb246IFNlbGVjdGlvbiB8IG51bGwpOiB2b2lkO1xuICBnZXRNaXNzaWxlU2VsZWN0aW9uKCk6IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsO1xuICBzZXRNaXNzaWxlU2VsZWN0aW9uKHNlbGVjdGlvbjogTWlzc2lsZVNlbGVjdGlvbiB8IG51bGwsIHJvdXRlSWQ/OiBzdHJpbmcpOiB2b2lkO1xuICBnZXREZWZhdWx0U2hpcFNwZWVkKCk6IG51bWJlcjtcbiAgc2V0RGVmYXVsdFNoaXBTcGVlZCh2YWx1ZTogbnVtYmVyKTogdm9pZDtcbiAgZ2V0RGVmYXVsdE1pc3NpbGVMZWdTcGVlZCgpOiBudW1iZXI7XG4gIHJlY29yZE1pc3NpbGVMZWdTcGVlZCh2YWx1ZTogbnVtYmVyKTogdm9pZDtcbiAgZ2V0U2hpcFdheXBvaW50T2Zmc2V0KCk6IG51bWJlcjtcbiAgZGlzcGxheUluZGV4VG9BY3R1YWxJbmRleChkaXNwbGF5SW5kZXg6IG51bWJlcik6IG51bWJlcjtcbiAgYWN0dWFsSW5kZXhUb0Rpc3BsYXlJbmRleChhY3R1YWxJbmRleDogbnVtYmVyKTogbnVtYmVyO1xuICBjb21wdXRlUm91dGVQb2ludHMoKTogUm91dGVQb2ludHMgfCBudWxsO1xuICBjb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzKCk6IFJvdXRlUG9pbnRzIHwgbnVsbDtcbiAgZmluZFdheXBvaW50QXRQb3NpdGlvbihjYW52YXNQb2ludDogUG9pbnRlclBvaW50KTogbnVtYmVyIHwgbnVsbDtcbiAgaGl0VGVzdFJvdXRlKGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQpOiBTZWxlY3Rpb24gfCBudWxsO1xuICBoaXRUZXN0TWlzc2lsZVJvdXRlcyhcbiAgICBjYW52YXNQb2ludDogUG9pbnRlclBvaW50XG4gICk6IHsgcm91dGU6IE1pc3NpbGVSb3V0ZTsgc2VsZWN0aW9uOiBNaXNzaWxlU2VsZWN0aW9uIH0gfCBudWxsO1xuICBzaGlwTGVnRGFzaE9mZnNldHM6IE1hcDxudW1iZXIsIG51bWJlcj47XG4gIG1pc3NpbGVMZWdEYXNoT2Zmc2V0czogTWFwPG51bWJlciwgbnVtYmVyPjtcbiAgdXBkYXRlUm91dGVBbmltYXRpb25zKGR0U2Vjb25kczogbnVtYmVyKTogdm9pZDtcbiAgZW5zdXJlQWN0aXZlTWlzc2lsZVJvdXRlKCk6IE1pc3NpbGVSb3V0ZSB8IG51bGw7XG4gIGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiBNaXNzaWxlUm91dGUgfCBudWxsO1xuICBjeWNsZU1pc3NpbGVSb3V0ZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQ7XG4gIGN5Y2xlU2hpcFNlbGVjdGlvbihkaXJlY3Rpb246IG51bWJlcik6IHZvaWQ7XG4gIGNsZWFyU2hpcFJvdXRlKCk6IHZvaWQ7XG4gIGRlbGV0ZVNlbGVjdGVkU2hpcFdheXBvaW50KCk6IHZvaWQ7XG4gIGRlbGV0ZVNlbGVjdGVkTWlzc2lsZVdheXBvaW50KCk6IHZvaWQ7XG4gIGxhdW5jaEFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiB2b2lkO1xuICBoYW5kbGVTaGlwUG9pbnRlcihjYW52YXNQb2ludDogUG9pbnRlclBvaW50LCB3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICBoYW5kbGVNaXNzaWxlUG9pbnRlcihjYW52YXNQb2ludDogUG9pbnRlclBvaW50LCB3b3JsZFBvaW50OiBQb2ludGVyUG9pbnQpOiB2b2lkO1xuICBiZWdpblNoaXBEcmFnKGluZGV4OiBudW1iZXIsIG9yaWdpbjogUG9pbnRlclBvaW50KTogdm9pZDtcbiAgYmVnaW5NaXNzaWxlRHJhZyhpbmRleDogbnVtYmVyLCBvcmlnaW46IFBvaW50ZXJQb2ludCk6IHZvaWQ7XG4gIHVwZGF0ZVNoaXBEcmFnKHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludCk6IHZvaWQ7XG4gIHVwZGF0ZU1pc3NpbGVEcmFnKHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludCk6IHZvaWQ7XG4gIGVuZERyYWcoKTogdm9pZDtcbiAgZ2V0RHJhZ2dlZFdheXBvaW50KCk6IG51bWJlciB8IG51bGw7XG4gIGdldERyYWdnZWRNaXNzaWxlV2F5cG9pbnQoKTogbnVtYmVyIHwgbnVsbDtcbiAgZ2V0TWlzc2lsZUNvb2xkb3duUmVtYWluaW5nKCk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvZ2ljKHtcbiAgc3RhdGUsXG4gIHVpU3RhdGUsXG4gIGJ1cyxcbiAgc2VuZE1lc3NhZ2UsXG4gIGdldEFwcHJveFNlcnZlck5vdyxcbiAgY2FtZXJhLFxufTogTG9naWNEZXBlbmRlbmNpZXMpOiBMb2dpYyB7XG4gIGxldCBzZWxlY3Rpb246IFNlbGVjdGlvbiB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNlbGVjdGlvbjogTWlzc2lsZVNlbGVjdGlvbiB8IG51bGwgPSBudWxsO1xuICBsZXQgZGVmYXVsdFNwZWVkID0gMTUwO1xuICBsZXQgbGFzdE1pc3NpbGVMZWdTcGVlZCA9IDA7XG4gIGNvbnN0IHNoaXBMZWdEYXNoT2Zmc2V0cyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG4gIGNvbnN0IG1pc3NpbGVMZWdEYXNoT2Zmc2V0cyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG4gIGxldCBkcmFnZ2VkV2F5cG9pbnQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBsZXQgZHJhZ2dlZE1pc3NpbGVXYXlwb2ludDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCk6IFNlbGVjdGlvbiB8IG51bGwge1xuICAgIHJldHVybiBzZWxlY3Rpb247XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oc2VsOiBTZWxlY3Rpb24gfCBudWxsKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uID0gc2VsO1xuICAgIGNvbnN0IGluZGV4ID0gc2VsZWN0aW9uID8gc2VsZWN0aW9uLmluZGV4IDogbnVsbDtcbiAgICBidXMuZW1pdChcInNoaXA6bGVnU2VsZWN0ZWRcIiwgeyBpbmRleCB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pc3NpbGVTZWxlY3Rpb24oKTogTWlzc2lsZVNlbGVjdGlvbiB8IG51bGwge1xuICAgIHJldHVybiBtaXNzaWxlU2VsZWN0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0TWlzc2lsZVNlbGVjdGlvbihzZWw6IE1pc3NpbGVTZWxlY3Rpb24gfCBudWxsLCByb3V0ZUlkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgbWlzc2lsZVNlbGVjdGlvbiA9IHNlbDtcbiAgICBpZiAocm91dGVJZCkge1xuICAgICAgc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQgPSByb3V0ZUlkO1xuICAgIH1cbiAgICBidXMuZW1pdChcIm1pc3NpbGU6c2VsZWN0aW9uQ2hhbmdlZFwiLCB7IHNlbGVjdGlvbjogbWlzc2lsZVNlbGVjdGlvbiB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRTaGlwU3BlZWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZGVmYXVsdFNwZWVkO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0RGVmYXVsdFNoaXBTcGVlZCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVmYXVsdFNwZWVkID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkKCk6IG51bWJlciB7XG4gICAgY29uc3QgbWluU3BlZWQgPSBzdGF0ZS5taXNzaWxlTGltaXRzLnNwZWVkTWluID8/IE1JU1NJTEVfTUlOX1NQRUVEO1xuICAgIGNvbnN0IG1heFNwZWVkID0gc3RhdGUubWlzc2lsZUxpbWl0cy5zcGVlZE1heCA/PyBNSVNTSUxFX01BWF9TUEVFRDtcbiAgICBjb25zdCBiYXNlID1cbiAgICAgIGxhc3RNaXNzaWxlTGVnU3BlZWQgPiAwID8gbGFzdE1pc3NpbGVMZWdTcGVlZCA6IHN0YXRlLm1pc3NpbGVDb25maWcuc3BlZWQ7XG4gICAgcmV0dXJuIGNsYW1wKGJhc2UsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvcmRNaXNzaWxlTGVnU3BlZWQodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodmFsdWUpICYmIHZhbHVlID4gMCkge1xuICAgICAgbGFzdE1pc3NpbGVMZWdTcGVlZCA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoaXBXYXlwb2ludE9mZnNldCgpOiBudW1iZXIge1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHN0YXRlLm1lPy5jdXJyZW50V2F5cG9pbnRJbmRleDtcbiAgICBpZiAodHlwZW9mIGN1cnJlbnRJbmRleCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUoY3VycmVudEluZGV4KSAmJiBjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICByZXR1cm4gY3VycmVudEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlJbmRleFRvQWN0dWFsSW5kZXgoZGlzcGxheUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBkaXNwbGF5SW5kZXggKyBnZXRTaGlwV2F5cG9pbnRPZmZzZXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFjdHVhbEluZGV4VG9EaXNwbGF5SW5kZXgoYWN0dWFsSW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gZ2V0U2hpcFdheXBvaW50T2Zmc2V0KCk7XG4gICAgcmV0dXJuIGFjdHVhbEluZGV4IC0gb2Zmc2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZVJvdXRlUG9pbnRzKCk6IFJvdXRlUG9pbnRzIHwgbnVsbCB7XG4gICAgaWYgKCFzdGF0ZS5tZSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYWxsV2F5cG9pbnRzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5tZS53YXlwb2ludHMpID8gc3RhdGUubWUud2F5cG9pbnRzIDogW107XG4gICAgY29uc3Qgb2Zmc2V0ID0gZ2V0U2hpcFdheXBvaW50T2Zmc2V0KCk7XG4gICAgY29uc3QgdmlzaWJsZVdheXBvaW50cyA9IG9mZnNldCA+IDAgPyBhbGxXYXlwb2ludHMuc2xpY2Uob2Zmc2V0KSA6IGFsbFdheXBvaW50cztcbiAgICBpZiAoIXZpc2libGVXYXlwb2ludHMubGVuZ3RoICYmICF1aVN0YXRlLnNob3dTaGlwUm91dGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRSb3V0ZVBvaW50cyhcbiAgICAgIHsgeDogc3RhdGUubWUueCwgeTogc3RhdGUubWUueSB9LFxuICAgICAgdmlzaWJsZVdheXBvaW50cyxcbiAgICAgIGNhbWVyYS5nZXRXb3JsZFNpemUoKSxcbiAgICAgIGNhbWVyYS5nZXRDYW1lcmFQb3NpdGlvbixcbiAgICAgICgpID0+IHVpU3RhdGUuem9vbSxcbiAgICAgIGNhbWVyYS53b3JsZFRvQ2FudmFzXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVNaXNzaWxlUm91dGVQb2ludHMoKTogUm91dGVQb2ludHMgfCBudWxsIHtcbiAgICBjb25zdCByb3V0ZSA9IGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmICghcm91dGUgfHwgIUFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSB8fCAhcm91dGUud2F5cG9pbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG9yaWdpbiA9IHJvdXRlLm9yaWdpbiA/PyB7IHg6IHN0YXRlLm1lPy54ID8/IDAsIHk6IHN0YXRlLm1lPy55ID8/IDAgfTtcbiAgICByZXR1cm4gYnVpbGRSb3V0ZVBvaW50cyhcbiAgICAgIG9yaWdpbixcbiAgICAgIHJvdXRlLndheXBvaW50cyxcbiAgICAgIGNhbWVyYS5nZXRXb3JsZFNpemUoKSxcbiAgICAgIGNhbWVyYS5nZXRDYW1lcmFQb3NpdGlvbixcbiAgICAgICgpID0+IHVpU3RhdGUuem9vbSxcbiAgICAgIGNhbWVyYS53b3JsZFRvQ2FudmFzXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRXYXlwb2ludEF0UG9zaXRpb24oY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCk6IG51bWJlciB8IG51bGwge1xuICAgIGNvbnN0IHJvdXRlID0gY29tcHV0ZVJvdXRlUG9pbnRzKCk7XG4gICAgaWYgKCFyb3V0ZSkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBoaXQgPSBoaXRUZXN0Um91dGVHZW5lcmljKGNhbnZhc1BvaW50LCByb3V0ZSwge1xuICAgICAgd2F5cG9pbnRSYWRpdXM6IFdBWVBPSU5UX0hJVF9SQURJVVMsXG4gICAgICBsZWdIaXRUb2xlcmFuY2U6IDAsXG4gICAgfSk7XG5cbiAgICBpZiAoIWhpdCB8fCBoaXQudHlwZSAhPT0gXCJ3YXlwb2ludFwiKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZGlzcGxheUluZGV4VG9BY3R1YWxJbmRleChoaXQuaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGl0VGVzdFJvdXRlKGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQpOiBTZWxlY3Rpb24gfCBudWxsIHtcbiAgICBjb25zdCByb3V0ZSA9IGNvbXB1dGVSb3V0ZVBvaW50cygpO1xuICAgIGlmICghcm91dGUpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBoaXRUZXN0Um91dGVHZW5lcmljKGNhbnZhc1BvaW50LCByb3V0ZSwge1xuICAgICAgd2F5cG9pbnRSYWRpdXM6IFdBWVBPSU5UX0hJVF9SQURJVVMsXG4gICAgICBsZWdIaXRUb2xlcmFuY2U6IDYsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoaXRUZXN0TWlzc2lsZVJvdXRlcyhjYW52YXNQb2ludDogUG9pbnRlclBvaW50KSB7XG4gICAgY29uc3Qgcm91dGVQb2ludHMgPSBjb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzKCk7XG4gICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBpZiAoIXJvdXRlUG9pbnRzIHx8ICFyb3V0ZSkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBoaXQgPSBoaXRUZXN0Um91dGVHZW5lcmljKGNhbnZhc1BvaW50LCByb3V0ZVBvaW50cywge1xuICAgICAgd2F5cG9pbnRSYWRpdXM6IFdBWVBPSU5UX0hJVF9SQURJVVMsXG4gICAgICBsZWdIaXRUb2xlcmFuY2U6IDYsXG4gICAgfSk7XG4gICAgaWYgKCFoaXQpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3Qgc2VsZWN0aW9uID1cbiAgICAgIGhpdC50eXBlID09PSBcImxlZ1wiXG4gICAgICAgID8gKHsgdHlwZTogXCJsZWdcIiwgaW5kZXg6IGhpdC5pbmRleCB9IGFzIE1pc3NpbGVTZWxlY3Rpb24pXG4gICAgICAgIDogKHsgdHlwZTogXCJ3YXlwb2ludFwiLCBpbmRleDogaGl0LmluZGV4IH0gYXMgTWlzc2lsZVNlbGVjdGlvbik7XG5cbiAgICByZXR1cm4geyByb3V0ZSwgc2VsZWN0aW9uIH07XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVSb3V0ZUFuaW1hdGlvbnMoZHRTZWNvbmRzOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBzaGlwUm91dGUgPSBjb21wdXRlUm91dGVQb2ludHMoKTtcbiAgICBpZiAoc2hpcFJvdXRlICYmIHNoaXBSb3V0ZS53YXlwb2ludHMubGVuZ3RoID4gMCAmJiB1aVN0YXRlLnNob3dTaGlwUm91dGUpIHtcbiAgICAgIHVwZGF0ZURhc2hPZmZzZXRzRm9yUm91dGUoXG4gICAgICAgIHNoaXBMZWdEYXNoT2Zmc2V0cyxcbiAgICAgICAgc2hpcFJvdXRlLndheXBvaW50cyxcbiAgICAgICAgc2hpcFJvdXRlLndvcmxkUG9pbnRzLFxuICAgICAgICBzaGlwUm91dGUuY2FudmFzUG9pbnRzLFxuICAgICAgICBkZWZhdWx0U3BlZWQsXG4gICAgICAgIGR0U2Vjb25kc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hpcExlZ0Rhc2hPZmZzZXRzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgY29uc3QgbWlzc2lsZVJvdXRlID0gY29tcHV0ZU1pc3NpbGVSb3V0ZVBvaW50cygpO1xuICAgIGlmIChtaXNzaWxlUm91dGUpIHtcbiAgICAgIHVwZGF0ZURhc2hPZmZzZXRzRm9yUm91dGUoXG4gICAgICAgIG1pc3NpbGVMZWdEYXNoT2Zmc2V0cyxcbiAgICAgICAgbWlzc2lsZVJvdXRlLndheXBvaW50cyxcbiAgICAgICAgbWlzc2lsZVJvdXRlLndvcmxkUG9pbnRzLFxuICAgICAgICBtaXNzaWxlUm91dGUuY2FudmFzUG9pbnRzLFxuICAgICAgICBzdGF0ZS5taXNzaWxlQ29uZmlnLnNwZWVkLFxuICAgICAgICBkdFNlY29uZHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NpbGVMZWdEYXNoT2Zmc2V0cy5jbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiBNaXNzaWxlUm91dGUgfCBudWxsIHtcbiAgICBjb25zdCByb3V0ZXMgPSBBcnJheS5pc0FycmF5KHN0YXRlLm1pc3NpbGVSb3V0ZXMpID8gc3RhdGUubWlzc2lsZVJvdXRlcyA6IFtdO1xuICAgIGlmICghcm91dGVzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoIXN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkKSB7XG4gICAgICBzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCA9IHJvdXRlc1swXS5pZDtcbiAgICB9XG5cbiAgICBsZXQgcm91dGUgPSByb3V0ZXMuZmluZCgocikgPT4gci5pZCA9PT0gc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWQpIHx8IG51bGw7XG4gICAgaWYgKCFyb3V0ZSkge1xuICAgICAgcm91dGUgPSByb3V0ZXNbMF0gPz8gbnVsbDtcbiAgICAgIHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkID0gcm91dGU/LmlkID8/IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpOiBNaXNzaWxlUm91dGUgfCBudWxsIHtcbiAgICBjb25zdCByb3V0ZXMgPSBBcnJheS5pc0FycmF5KHN0YXRlLm1pc3NpbGVSb3V0ZXMpID8gc3RhdGUubWlzc2lsZVJvdXRlcyA6IFtdO1xuICAgIGlmICghcm91dGVzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCFzdGF0ZS5hY3RpdmVNaXNzaWxlUm91dGVJZCkge1xuICAgICAgcmV0dXJuIGVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgcm91dGVzLmZpbmQoKHIpID0+IHIuaWQgPT09IHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkKSA/P1xuICAgICAgZW5zdXJlQWN0aXZlTWlzc2lsZVJvdXRlKClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3ljbGVNaXNzaWxlUm91dGUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZXMgPSBBcnJheS5pc0FycmF5KHN0YXRlLm1pc3NpbGVSb3V0ZXMpID8gc3RhdGUubWlzc2lsZVJvdXRlcyA6IFtdO1xuICAgIGlmICghcm91dGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSByb3V0ZXMuZmluZEluZGV4KFxuICAgICAgKHJvdXRlKSA9PiByb3V0ZS5pZCA9PT0gc3RhdGUuYWN0aXZlTWlzc2lsZVJvdXRlSWRcbiAgICApO1xuICAgIGNvbnN0IGJhc2VJbmRleCA9IGN1cnJlbnRJbmRleCA+PSAwID8gY3VycmVudEluZGV4IDogMDtcbiAgICBjb25zdCBuZXh0SW5kZXggPVxuICAgICAgKChiYXNlSW5kZXggKyBkaXJlY3Rpb24pICUgcm91dGVzLmxlbmd0aCArIHJvdXRlcy5sZW5ndGgpICUgcm91dGVzLmxlbmd0aDtcbiAgICBjb25zdCBuZXh0Um91dGUgPSByb3V0ZXNbbmV4dEluZGV4XTtcbiAgICBpZiAoIW5leHRSb3V0ZSkgcmV0dXJuO1xuICAgIHN0YXRlLmFjdGl2ZU1pc3NpbGVSb3V0ZUlkID0gbmV4dFJvdXRlLmlkO1xuICAgIHNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJzZXRfYWN0aXZlX21pc3NpbGVfcm91dGVcIixcbiAgICAgIHJvdXRlX2lkOiBuZXh0Um91dGUuaWQsXG4gICAgfSk7XG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOmFjdGl2ZVJvdXRlQ2hhbmdlZFwiLCB7IHJvdXRlSWQ6IG5leHRSb3V0ZS5pZCB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGN5Y2xlU2hpcFNlbGVjdGlvbihkaXJlY3Rpb246IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHdwcyA9IHN0YXRlLm1lICYmIEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSA/IHN0YXRlLm1lLndheXBvaW50cyA6IFtdO1xuICAgIGlmICghd3BzLmxlbmd0aCkge1xuICAgICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaW5kZXggPSBzZWxlY3Rpb24gPyBzZWxlY3Rpb24uaW5kZXggOiBkaXJlY3Rpb24gPiAwID8gLTEgOiB3cHMubGVuZ3RoO1xuICAgIGluZGV4ICs9IGRpcmVjdGlvbjtcbiAgICBpZiAoaW5kZXggPCAwKSBpbmRleCA9IHdwcy5sZW5ndGggLSAxO1xuICAgIGlmIChpbmRleCA+PSB3cHMubGVuZ3RoKSBpbmRleCA9IDA7XG4gICAgc2V0U2VsZWN0aW9uKHsgdHlwZTogXCJsZWdcIiwgaW5kZXggfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhclNoaXBSb3V0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCB3cHMgPVxuICAgICAgc3RhdGUubWUgJiYgQXJyYXkuaXNBcnJheShzdGF0ZS5tZS53YXlwb2ludHMpID8gc3RhdGUubWUud2F5cG9pbnRzIDogW107XG4gICAgaWYgKCF3cHMubGVuZ3RoKSByZXR1cm47XG4gICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImNsZWFyX3dheXBvaW50c1wiIH0pO1xuICAgIGlmIChzdGF0ZS5tZSkge1xuICAgICAgc3RhdGUubWUud2F5cG9pbnRzID0gW107XG4gICAgfVxuICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgICBidXMuZW1pdChcInNoaXA6d2F5cG9pbnRzQ2xlYXJlZFwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGVkU2hpcFdheXBvaW50KCk6IHZvaWQge1xuICAgIGlmICghc2VsZWN0aW9uKSByZXR1cm47XG4gICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImRlbGV0ZV93YXlwb2ludFwiLCBpbmRleDogc2VsZWN0aW9uLmluZGV4IH0pO1xuICAgIGlmIChzdGF0ZS5tZSAmJiBBcnJheS5pc0FycmF5KHN0YXRlLm1lLndheXBvaW50cykpIHtcbiAgICAgIHN0YXRlLm1lLndheXBvaW50cyA9IHN0YXRlLm1lLndheXBvaW50cy5zbGljZSgwLCBzZWxlY3Rpb24uaW5kZXgpO1xuICAgIH1cbiAgICBidXMuZW1pdChcInNoaXA6d2F5cG9pbnREZWxldGVkXCIsIHsgaW5kZXg6IHNlbGVjdGlvbi5pbmRleCB9KTtcbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVTZWxlY3RlZE1pc3NpbGVXYXlwb2ludCgpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZSA9IGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGlmICghcm91dGUgfHwgIW1pc3NpbGVTZWxlY3Rpb24pIHJldHVybjtcbiAgICBjb25zdCBpbmRleCA9IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXg7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykgfHwgaW5kZXggPCAwIHx8IGluZGV4ID49IHJvdXRlLndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJkZWxldGVfbWlzc2lsZV93YXlwb2ludFwiLFxuICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXgsXG4gICAgfSk7XG4gICAgcm91dGUud2F5cG9pbnRzID0gW1xuICAgICAgLi4ucm91dGUud2F5cG9pbnRzLnNsaWNlKDAsIGluZGV4KSxcbiAgICAgIC4uLnJvdXRlLndheXBvaW50cy5zbGljZShpbmRleCArIDEpLFxuICAgIF07XG4gICAgYnVzLmVtaXQoXCJtaXNzaWxlOndheXBvaW50RGVsZXRlZFwiLCB7IHJvdXRlSWQ6IHJvdXRlLmlkLCBpbmRleCB9KTtcbiAgICBzZXRNaXNzaWxlU2VsZWN0aW9uKG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGF1bmNoQWN0aXZlTWlzc2lsZVJvdXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKCFyb3V0ZSB8fCAhQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpIHx8IHJvdXRlLndheXBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGdldE1pc3NpbGVDb29sZG93blJlbWFpbmluZygpID4gMC4wNSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHBsYXllciBoYXMgbWlzc2lsZXMgaW4gaW52ZW50b3J5XG4gICAgbGV0IGhhc01pc3NpbGVzID0gZmFsc2U7XG4gICAgaWYgKHN0YXRlLmludmVudG9yeT8uaXRlbXMpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzdGF0ZS5pbnZlbnRvcnkuaXRlbXMpIHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gXCJtaXNzaWxlXCIgJiYgaXRlbS5xdWFudGl0eSA+IDApIHtcbiAgICAgICAgICBoYXNNaXNzaWxlcyA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFoYXNNaXNzaWxlcykge1xuICAgICAgY29uc29sZS5sb2coXCJObyBtaXNzaWxlcyBhdmFpbGFibGUgLSBjcmFmdCBtaXNzaWxlcyBmaXJzdFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBidXMuZW1pdChcIm1pc3NpbGU6bGF1bmNoUmVxdWVzdGVkXCIsIHsgcm91dGVJZDogcm91dGUuaWQgfSk7XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJsYXVuY2hfbWlzc2lsZVwiLFxuICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2hpcFBvaW50ZXIoXG4gICAgY2FudmFzUG9pbnQ6IFBvaW50ZXJQb2ludCxcbiAgICB3b3JsZFBvaW50OiBQb2ludGVyUG9pbnRcbiAgKTogdm9pZCB7XG4gICAgaWYgKCFzdGF0ZS5tZSkgcmV0dXJuO1xuICAgIGlmICh1aVN0YXRlLnNoaXBUb29sID09PSBcInNlbGVjdFwiKSB7XG4gICAgICBjb25zdCBoaXQgPSBoaXRUZXN0Um91dGUoY2FudmFzUG9pbnQpO1xuICAgICAgaWYgKGhpdCkge1xuICAgICAgICBjb25zdCBhY3R1YWxJbmRleCA9IGRpc3BsYXlJbmRleFRvQWN0dWFsSW5kZXgoaGl0LmluZGV4KTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKHsgdHlwZTogaGl0LnR5cGUsIGluZGV4OiBhY3R1YWxJbmRleCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB3cCA9IHsgeDogd29ybGRQb2ludC54LCB5OiB3b3JsZFBvaW50LnksIHNwZWVkOiBkZWZhdWx0U3BlZWQgfTtcbiAgICBzZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcImFkZF93YXlwb2ludFwiLFxuICAgICAgeDogd3AueCxcbiAgICAgIHk6IHdwLnksXG4gICAgICBzcGVlZDogZGVmYXVsdFNwZWVkLFxuICAgIH0pO1xuICAgIGNvbnN0IHdwcyA9IEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKVxuICAgICAgPyBzdGF0ZS5tZS53YXlwb2ludHMuc2xpY2UoKVxuICAgICAgOiBbXTtcbiAgICB3cHMucHVzaCh3cCk7XG4gICAgc3RhdGUubWUud2F5cG9pbnRzID0gd3BzO1xuICAgIGJ1cy5lbWl0KFwic2hpcDp3YXlwb2ludEFkZGVkXCIsIHsgaW5kZXg6IHdwcy5sZW5ndGggLSAxIH0pO1xuICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1pc3NpbGVQb2ludGVyKFxuICAgIGNhbnZhc1BvaW50OiBQb2ludGVyUG9pbnQsXG4gICAgd29ybGRQb2ludDogUG9pbnRlclBvaW50XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKCFyb3V0ZSkgcmV0dXJuO1xuXG4gICAgaWYgKHVpU3RhdGUubWlzc2lsZVRvb2wgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgIGNvbnN0IGhpdCA9IGhpdFRlc3RNaXNzaWxlUm91dGVzKGNhbnZhc1BvaW50KTtcbiAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgc2V0TWlzc2lsZVNlbGVjdGlvbihoaXQuc2VsZWN0aW9uLCBoaXQucm91dGUuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0TWlzc2lsZVNlbGVjdGlvbihudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzcGVlZCA9IGdldERlZmF1bHRNaXNzaWxlTGVnU3BlZWQoKTtcbiAgICBjb25zdCB3cCA9IHsgeDogd29ybGRQb2ludC54LCB5OiB3b3JsZFBvaW50LnksIHNwZWVkIH07XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJhZGRfbWlzc2lsZV93YXlwb2ludFwiLFxuICAgICAgcm91dGVfaWQ6IHJvdXRlLmlkLFxuICAgICAgeDogd3AueCxcbiAgICAgIHk6IHdwLnksXG4gICAgICBzcGVlZDogd3Auc3BlZWQsXG4gICAgfSk7XG4gICAgcm91dGUud2F5cG9pbnRzID0gcm91dGUud2F5cG9pbnRzID8gWy4uLnJvdXRlLndheXBvaW50cywgd3BdIDogW3dwXTtcbiAgICByZWNvcmRNaXNzaWxlTGVnU3BlZWQoc3BlZWQpO1xuICAgIHNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCwgcm91dGUuaWQpO1xuICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCIsIHtcbiAgICAgIHJvdXRlSWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXg6IHJvdXRlLndheXBvaW50cy5sZW5ndGggLSAxLFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYmVnaW5TaGlwRHJhZyhpbmRleDogbnVtYmVyLCBfb3JpZ2luOiBQb2ludGVyUG9pbnQpOiB2b2lkIHtcbiAgICBkcmFnZ2VkV2F5cG9pbnQgPSBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlZ2luTWlzc2lsZURyYWcoaW5kZXg6IG51bWJlciwgX29yaWdpbjogUG9pbnRlclBvaW50KTogdm9pZCB7XG4gICAgZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA9IGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gY2xhbXBUb1dvcmxkKHBvaW50OiBQb2ludGVyUG9pbnQpOiBQb2ludGVyUG9pbnQge1xuICAgIGNvbnN0IHdvcmxkVyA9IHN0YXRlLndvcmxkTWV0YS53ID8/IDQwMDA7XG4gICAgY29uc3Qgd29ybGRIID0gc3RhdGUud29ybGRNZXRhLmggPz8gNDAwMDtcbiAgICByZXR1cm4ge1xuICAgICAgeDogY2xhbXAocG9pbnQueCwgMCwgd29ybGRXKSxcbiAgICAgIHk6IGNsYW1wKHBvaW50LnksIDAsIHdvcmxkSCksXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNoaXBEcmFnKHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludCk6IHZvaWQge1xuICAgIGlmIChkcmFnZ2VkV2F5cG9pbnQgPT09IG51bGwpIHJldHVybjtcbiAgICBjb25zdCBjbGFtcGVkID0gY2xhbXBUb1dvcmxkKHdvcmxkUG9pbnQpO1xuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwibW92ZV93YXlwb2ludFwiLFxuICAgICAgaW5kZXg6IGRyYWdnZWRXYXlwb2ludCxcbiAgICAgIHg6IGNsYW1wZWQueCxcbiAgICAgIHk6IGNsYW1wZWQueSxcbiAgICB9KTtcbiAgICBpZiAoc3RhdGUubWUgJiYgc3RhdGUubWUud2F5cG9pbnRzICYmIGRyYWdnZWRXYXlwb2ludCA8IHN0YXRlLm1lLndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLm1lLndheXBvaW50c1tkcmFnZ2VkV2F5cG9pbnRdLnggPSBjbGFtcGVkLng7XG4gICAgICBzdGF0ZS5tZS53YXlwb2ludHNbZHJhZ2dlZFdheXBvaW50XS55ID0gY2xhbXBlZC55O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1pc3NpbGVEcmFnKHdvcmxkUG9pbnQ6IFBvaW50ZXJQb2ludCk6IHZvaWQge1xuICAgIGlmIChkcmFnZ2VkTWlzc2lsZVdheXBvaW50ID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBpZiAoIXJvdXRlIHx8ICFBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykpIHJldHVybjtcbiAgICBjb25zdCBjbGFtcGVkID0gY2xhbXBUb1dvcmxkKHdvcmxkUG9pbnQpO1xuICAgIGlmIChkcmFnZ2VkTWlzc2lsZVdheXBvaW50ID49IHJvdXRlLndheXBvaW50cy5sZW5ndGgpIHJldHVybjtcblxuICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwibW92ZV9taXNzaWxlX3dheXBvaW50XCIsXG4gICAgICByb3V0ZV9pZDogcm91dGUuaWQsXG4gICAgICBpbmRleDogZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCxcbiAgICAgIHg6IGNsYW1wZWQueCxcbiAgICAgIHk6IGNsYW1wZWQueSxcbiAgICB9KTtcblxuICAgIHJvdXRlLndheXBvaW50cyA9IHJvdXRlLndheXBvaW50cy5tYXAoKHdwLCBpZHgpID0+XG4gICAgICBpZHggPT09IGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQgPyB7IC4uLndwLCB4OiBjbGFtcGVkLngsIHk6IGNsYW1wZWQueSB9IDogd3BcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kRHJhZygpOiB2b2lkIHtcbiAgICBpZiAoZHJhZ2dlZFdheXBvaW50ICE9PSBudWxsICYmIHN0YXRlLm1lPy53YXlwb2ludHMpIHtcbiAgICAgIGNvbnN0IHdwID0gc3RhdGUubWUud2F5cG9pbnRzW2RyYWdnZWRXYXlwb2ludF07XG4gICAgICBpZiAod3ApIHtcbiAgICAgICAgYnVzLmVtaXQoXCJzaGlwOndheXBvaW50TW92ZWRcIiwge1xuICAgICAgICAgIGluZGV4OiBkcmFnZ2VkV2F5cG9pbnQsXG4gICAgICAgICAgeDogd3AueCxcbiAgICAgICAgICB5OiB3cC55LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qgcm91dGUgPSBnZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgIGlmIChyb3V0ZSAmJiByb3V0ZS53YXlwb2ludHMgJiYgZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA8IHJvdXRlLndheXBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgd3AgPSByb3V0ZS53YXlwb2ludHNbZHJhZ2dlZE1pc3NpbGVXYXlwb2ludF07XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp3YXlwb2ludE1vdmVkXCIsIHtcbiAgICAgICAgICByb3V0ZUlkOiByb3V0ZS5pZCxcbiAgICAgICAgICBpbmRleDogZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCxcbiAgICAgICAgICB4OiB3cC54LFxuICAgICAgICAgIHk6IHdwLnksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRyYWdnZWRXYXlwb2ludCA9IG51bGw7XG4gICAgZHJhZ2dlZE1pc3NpbGVXYXlwb2ludCA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREcmFnZ2VkV2F5cG9pbnQoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgcmV0dXJuIGRyYWdnZWRXYXlwb2ludDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERyYWdnZWRNaXNzaWxlV2F5cG9pbnQoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgcmV0dXJuIGRyYWdnZWRNaXNzaWxlV2F5cG9pbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaXNzaWxlQ29vbGRvd25SZW1haW5pbmcoKTogbnVtYmVyIHtcbiAgICBjb25zdCByZW1haW5pbmcgPSBzdGF0ZS5uZXh0TWlzc2lsZVJlYWR5QXQgLSBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGUpO1xuICAgIHJldHVybiByZW1haW5pbmcgPiAwID8gcmVtYWluaW5nIDogMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0U2VsZWN0aW9uLFxuICAgIHNldFNlbGVjdGlvbixcbiAgICBnZXRNaXNzaWxlU2VsZWN0aW9uLFxuICAgIHNldE1pc3NpbGVTZWxlY3Rpb24sXG4gICAgZ2V0RGVmYXVsdFNoaXBTcGVlZCxcbiAgICBzZXREZWZhdWx0U2hpcFNwZWVkLFxuICAgIGdldERlZmF1bHRNaXNzaWxlTGVnU3BlZWQsXG4gICAgcmVjb3JkTWlzc2lsZUxlZ1NwZWVkLFxuICAgIGdldFNoaXBXYXlwb2ludE9mZnNldCxcbiAgICBkaXNwbGF5SW5kZXhUb0FjdHVhbEluZGV4LFxuICAgIGFjdHVhbEluZGV4VG9EaXNwbGF5SW5kZXgsXG4gICAgY29tcHV0ZVJvdXRlUG9pbnRzLFxuICAgIGNvbXB1dGVNaXNzaWxlUm91dGVQb2ludHMsXG4gICAgZmluZFdheXBvaW50QXRQb3NpdGlvbixcbiAgICBoaXRUZXN0Um91dGUsXG4gICAgaGl0VGVzdE1pc3NpbGVSb3V0ZXMsXG4gICAgc2hpcExlZ0Rhc2hPZmZzZXRzLFxuICAgIG1pc3NpbGVMZWdEYXNoT2Zmc2V0cyxcbiAgICB1cGRhdGVSb3V0ZUFuaW1hdGlvbnMsXG4gICAgZW5zdXJlQWN0aXZlTWlzc2lsZVJvdXRlLFxuICAgIGdldEFjdGl2ZU1pc3NpbGVSb3V0ZSxcbiAgICBjeWNsZU1pc3NpbGVSb3V0ZSxcbiAgICBjeWNsZVNoaXBTZWxlY3Rpb24sXG4gICAgY2xlYXJTaGlwUm91dGUsXG4gICAgZGVsZXRlU2VsZWN0ZWRTaGlwV2F5cG9pbnQsXG4gICAgZGVsZXRlU2VsZWN0ZWRNaXNzaWxlV2F5cG9pbnQsXG4gICAgbGF1bmNoQWN0aXZlTWlzc2lsZVJvdXRlLFxuICAgIGhhbmRsZVNoaXBQb2ludGVyLFxuICAgIGhhbmRsZU1pc3NpbGVQb2ludGVyLFxuICAgIGJlZ2luU2hpcERyYWcsXG4gICAgYmVnaW5NaXNzaWxlRHJhZyxcbiAgICB1cGRhdGVTaGlwRHJhZyxcbiAgICB1cGRhdGVNaXNzaWxlRHJhZyxcbiAgICBlbmREcmFnLFxuICAgIGdldERyYWdnZWRXYXlwb2ludCxcbiAgICBnZXREcmFnZ2VkTWlzc2lsZVdheXBvaW50LFxuICAgIGdldE1pc3NpbGVDb29sZG93blJlbWFpbmluZyxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEFwcFN0YXRlLCBVSVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgeyBNSVNTSUxFX1BBTEVUVEUsIFNISVBfUEFMRVRURSwgZHJhd1BsYW5uZWRSb3V0ZSB9IGZyb20gXCIuLi9yb3V0ZVwiO1xuaW1wb3J0IHR5cGUgeyBDYW1lcmEgfSBmcm9tIFwiLi9jYW1lcmFcIjtcbmltcG9ydCB0eXBlIHsgTG9naWMgfSBmcm9tIFwiLi9sb2dpY1wiO1xuXG5pbnRlcmZhY2UgUmVuZGVyRGVwZW5kZW5jaWVzIHtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgdWlTdGF0ZTogVUlTdGF0ZTtcbiAgY2FtZXJhOiBDYW1lcmE7XG4gIGxvZ2ljOiBMb2dpYztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJlciB7XG4gIGRyYXdTY2VuZSgpOiB2b2lkO1xuICBkcmF3R3JpZCgpOiB2b2lkO1xuICBkcmF3QmVhY29ucygpOiB2b2lkO1xuICBkcmF3U2hpcCh4OiBudW1iZXIsIHk6IG51bWJlciwgdng6IG51bWJlciwgdnk6IG51bWJlciwgY29sb3I6IHN0cmluZywgZmlsbGVkOiBib29sZWFuKTogdm9pZDtcbiAgZHJhd0dob3N0RG90KHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZDtcbiAgZHJhd1JvdXRlKCk6IHZvaWQ7XG4gIGRyYXdNaXNzaWxlUm91dGUoKTogdm9pZDtcbiAgZHJhd01pc3NpbGVzKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcih7XG4gIGNhbnZhcyxcbiAgY3R4LFxuICBzdGF0ZSxcbiAgdWlTdGF0ZSxcbiAgY2FtZXJhLFxuICBsb2dpYyxcbn06IFJlbmRlckRlcGVuZGVuY2llcyk6IFJlbmRlcmVyIHtcbiAgZnVuY3Rpb24gZHJhd1NoaXAoXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB2eDogbnVtYmVyLFxuICAgIHZ5OiBudW1iZXIsXG4gICAgY29sb3I6IHN0cmluZyxcbiAgICBmaWxsZWQ6IGJvb2xlYW5cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcCA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeCwgeSB9KTtcbiAgICBjb25zdCByID0gMTA7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHAueCwgcC55KTtcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIodnksIHZ4KTtcbiAgICBjdHgucm90YXRlKGFuZ2xlKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhyLCAwKTtcbiAgICBjdHgubGluZVRvKC1yICogMC43LCByICogMC42KTtcbiAgICBjdHgubGluZVRvKC1yICogMC40LCAwKTtcbiAgICBjdHgubGluZVRvKC1yICogMC43LCAtciAqIDAuNik7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGlmIChmaWxsZWQpIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBgJHtjb2xvcn1jY2A7XG4gICAgICBjdHguZmlsbCgpO1xuICAgIH1cbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdHaG9zdERvdCh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHAgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHgsIHkgfSk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMocC54LCBwLnksIDMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjY2NjY2NjYWFcIjtcbiAgICBjdHguZmlsbCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd1JvdXRlKCk6IHZvaWQge1xuICAgIGlmICghc3RhdGUubWUpIHJldHVybjtcbiAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmNvbXB1dGVSb3V0ZVBvaW50cygpO1xuICAgIGlmICghcm91dGUgfHwgcm91dGUud2F5cG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGVhdCA9IHN0YXRlLm1lLmhlYXQ7XG4gICAgY29uc3QgaGVhdFBhcmFtcyA9IGhlYXRcbiAgICAgID8ge1xuICAgICAgICAgIG1hcmtlclNwZWVkOiBoZWF0Lm1hcmtlclNwZWVkLFxuICAgICAgICAgIGtVcDogaGVhdC5rVXAsXG4gICAgICAgICAga0Rvd246IGhlYXQua0Rvd24sXG4gICAgICAgICAgZXhwOiBoZWF0LmV4cCxcbiAgICAgICAgICBtYXg6IGhlYXQubWF4LFxuICAgICAgICAgIG92ZXJoZWF0QXQ6IGhlYXQub3ZlcmhlYXRBdCxcbiAgICAgICAgICB3YXJuQXQ6IGhlYXQud2FybkF0LFxuICAgICAgICB9XG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGN1cnJlbnRTZWxlY3Rpb24gPSBsb2dpYy5nZXRTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBkaXNwbGF5U2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvblxuICAgICAgPyB7XG4gICAgICAgICAgdHlwZTogY3VycmVudFNlbGVjdGlvbi50eXBlLFxuICAgICAgICAgIGluZGV4OiBsb2dpYy5hY3R1YWxJbmRleFRvRGlzcGxheUluZGV4KGN1cnJlbnRTZWxlY3Rpb24uaW5kZXgpLFxuICAgICAgICB9XG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgdmFsaWRTZWxlY3Rpb24gPVxuICAgICAgZGlzcGxheVNlbGVjdGlvbiAmJiBkaXNwbGF5U2VsZWN0aW9uLmluZGV4ID49IDAgPyBkaXNwbGF5U2VsZWN0aW9uIDogbnVsbDtcblxuICAgIGNvbnN0IGRyYWdnZWQgPSBsb2dpYy5nZXREcmFnZ2VkV2F5cG9pbnQoKTtcbiAgICBjb25zdCBkaXNwbGF5RHJhZ2dlZCA9XG4gICAgICBkcmFnZ2VkICE9PSBudWxsID8gbG9naWMuYWN0dWFsSW5kZXhUb0Rpc3BsYXlJbmRleChkcmFnZ2VkKSA6IG51bGw7XG4gICAgY29uc3QgdmFsaWREcmFnZ2VkID1cbiAgICAgIGRpc3BsYXlEcmFnZ2VkICE9PSBudWxsICYmIGRpc3BsYXlEcmFnZ2VkID49IDAgPyBkaXNwbGF5RHJhZ2dlZCA6IG51bGw7XG5cbiAgICBkcmF3UGxhbm5lZFJvdXRlKGN0eCwge1xuICAgICAgcm91dGVQb2ludHM6IHJvdXRlLFxuICAgICAgc2VsZWN0aW9uOiB2YWxpZFNlbGVjdGlvbixcbiAgICAgIGRyYWdnZWRXYXlwb2ludDogdmFsaWREcmFnZ2VkLFxuICAgICAgZGFzaFN0b3JlOiBsb2dpYy5zaGlwTGVnRGFzaE9mZnNldHMsXG4gICAgICBwYWxldHRlOiBTSElQX1BBTEVUVEUsXG4gICAgICBzaG93TGVnczogdWlTdGF0ZS5zaG93U2hpcFJvdXRlLFxuICAgICAgaGVhdFBhcmFtcyxcbiAgICAgIGluaXRpYWxIZWF0OiBoZWF0Py52YWx1ZSA/PyAwLFxuICAgICAgZGVmYXVsdFNwZWVkOiBsb2dpYy5nZXREZWZhdWx0U2hpcFNwZWVkKCksXG4gICAgICB3b3JsZFBvaW50czogcm91dGUud29ybGRQb2ludHMsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3TWlzc2lsZVJvdXRlKCk6IHZvaWQge1xuICAgIGlmICghc3RhdGUubWUpIHJldHVybjtcbiAgICBpZiAodWlTdGF0ZS5pbnB1dENvbnRleHQgIT09IFwibWlzc2lsZVwiKSByZXR1cm47XG4gICAgY29uc3Qgcm91dGUgPSBsb2dpYy5jb21wdXRlTWlzc2lsZVJvdXRlUG9pbnRzKCk7XG4gICAgaWYgKCFyb3V0ZSB8fCByb3V0ZS53YXlwb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBoZWF0UGFyYW1zID0gc3RhdGUubWlzc2lsZUNvbmZpZy5oZWF0UGFyYW1zO1xuICAgIGNvbnN0IG1pc3NpbGVTZWxlY3Rpb24gPSBsb2dpYy5nZXRNaXNzaWxlU2VsZWN0aW9uKCk7XG4gICAgY29uc3QgZ2VuZXJpY1NlbGVjdGlvbiA9XG4gICAgICBtaXNzaWxlU2VsZWN0aW9uICYmIG1pc3NpbGVTZWxlY3Rpb24udHlwZSA9PT0gXCJsZWdcIlxuICAgICAgICA/IHsgdHlwZTogXCJsZWdcIiwgaW5kZXg6IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXggfVxuICAgICAgICA6IG1pc3NpbGVTZWxlY3Rpb24gJiYgbWlzc2lsZVNlbGVjdGlvbi50eXBlID09PSBcIndheXBvaW50XCJcbiAgICAgICAgPyB7IHR5cGU6IFwid2F5cG9pbnRcIiwgaW5kZXg6IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXggfVxuICAgICAgICA6IG51bGw7XG5cbiAgICBkcmF3UGxhbm5lZFJvdXRlKGN0eCwge1xuICAgICAgcm91dGVQb2ludHM6IHJvdXRlLFxuICAgICAgc2VsZWN0aW9uOiBnZW5lcmljU2VsZWN0aW9uLFxuICAgICAgZHJhZ2dlZFdheXBvaW50OiBudWxsLFxuICAgICAgZGFzaFN0b3JlOiBsb2dpYy5taXNzaWxlTGVnRGFzaE9mZnNldHMsXG4gICAgICBwYWxldHRlOiBNSVNTSUxFX1BBTEVUVEUsXG4gICAgICBzaG93TGVnczogdHJ1ZSxcbiAgICAgIGhlYXRQYXJhbXMsXG4gICAgICBpbml0aWFsSGVhdDogMCxcbiAgICAgIGRlZmF1bHRTcGVlZDogc3RhdGUubWlzc2lsZUNvbmZpZy5zcGVlZCxcbiAgICAgIHdvcmxkUG9pbnRzOiByb3V0ZS53b3JsZFBvaW50cyxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdNaXNzaWxlcygpOiB2b2lkIHtcbiAgICBpZiAoIXN0YXRlLm1pc3NpbGVzIHx8IHN0YXRlLm1pc3NpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IHdvcmxkID0gY2FtZXJhLmdldFdvcmxkU2l6ZSgpO1xuICAgIGNvbnN0IHNjYWxlWCA9IGNhbnZhcy53aWR0aCAvIHdvcmxkLnc7XG4gICAgY29uc3Qgc2NhbGVZID0gY2FudmFzLmhlaWdodCAvIHdvcmxkLmg7XG4gICAgY29uc3QgcmFkaXVzU2NhbGUgPSAoc2NhbGVYICsgc2NhbGVZKSAvIDI7XG4gICAgZm9yIChjb25zdCBtaXNzIG9mIHN0YXRlLm1pc3NpbGVzKSB7XG4gICAgICBjb25zdCBwID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4OiBtaXNzLngsIHk6IG1pc3MueSB9KTtcbiAgICAgIGNvbnN0IHNlbGZPd25lZCA9IEJvb2xlYW4obWlzcy5zZWxmKTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHAueCwgcC55LCBzZWxmT3duZWQgPyA2IDogNSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHNlbGZPd25lZCA/IFwiI2Y4NzE3MVwiIDogXCIjZmNhNWE1XCI7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSBzZWxmT3duZWQgPyAwLjk1IDogMC44O1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICBjdHgubGluZVdpZHRoID0gMS41O1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjMTExODI3XCI7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICBpZiAoc2VsZk93bmVkICYmIG1pc3MuYWdyb19yYWRpdXMgPiAwKSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29uc3QgckNhbnZhcyA9IG1pc3MuYWdyb19yYWRpdXMgKiByYWRpdXNTY2FsZTtcbiAgICAgICAgY3R4LnNldExpbmVEYXNoKFsxNCwgMTBdKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2JhKDI0OCwxMTMsMTEzLDAuMzUpXCI7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxLjI7XG4gICAgICAgIGN0eC5hcmMocC54LCBwLnksIHJDYW52YXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdHcmlkKCk6IHZvaWQge1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjMjM0XCI7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG5cbiAgICBjb25zdCB6b29tID0gdWlTdGF0ZS56b29tO1xuICAgIGxldCBzdGVwID0gMTAwMDtcbiAgICBpZiAoem9vbSA8IDAuNykge1xuICAgICAgc3RlcCA9IDIwMDA7XG4gICAgfSBlbHNlIGlmICh6b29tID4gMS41KSB7XG4gICAgICBzdGVwID0gNTAwO1xuICAgIH0gZWxzZSBpZiAoem9vbSA+IDIuNSkge1xuICAgICAgc3RlcCA9IDI1MDtcbiAgICB9XG5cbiAgICBjb25zdCBjYW1lcmFQb3MgPSBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICBjb25zdCB3b3JsZCA9IGNhbWVyYS5nZXRXb3JsZFNpemUoKTtcbiAgICBjb25zdCBzY2FsZVggPSBjYW52YXMud2lkdGggLyB3b3JsZC53O1xuICAgIGNvbnN0IHNjYWxlWSA9IGNhbnZhcy5oZWlnaHQgLyB3b3JsZC5oO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpICogem9vbTtcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gY2FudmFzLndpZHRoIC8gc2NhbGU7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gc2NhbGU7XG5cbiAgICBjb25zdCBtaW5YID0gTWF0aC5tYXgoMCwgY2FtZXJhUG9zLnggLSB2aWV3cG9ydFdpZHRoIC8gMik7XG4gICAgY29uc3QgbWF4WCA9IE1hdGgubWluKHdvcmxkLncsIGNhbWVyYVBvcy54ICsgdmlld3BvcnRXaWR0aCAvIDIpO1xuICAgIGNvbnN0IG1pblkgPSBNYXRoLm1heCgwLCBjYW1lcmFQb3MueSAtIHZpZXdwb3J0SGVpZ2h0IC8gMik7XG4gICAgY29uc3QgbWF4WSA9IE1hdGgubWluKHdvcmxkLmgsIGNhbWVyYVBvcy55ICsgdmlld3BvcnRIZWlnaHQgLyAyKTtcblxuICAgIGNvbnN0IHN0YXJ0WCA9IE1hdGguZmxvb3IobWluWCAvIHN0ZXApICogc3RlcDtcbiAgICBjb25zdCBlbmRYID0gTWF0aC5jZWlsKG1heFggLyBzdGVwKSAqIHN0ZXA7XG4gICAgY29uc3Qgc3RhcnRZID0gTWF0aC5mbG9vcihtaW5ZIC8gc3RlcCkgKiBzdGVwO1xuICAgIGNvbnN0IGVuZFkgPSBNYXRoLmNlaWwobWF4WSAvIHN0ZXApICogc3RlcDtcblxuICAgIGZvciAobGV0IHggPSBzdGFydFg7IHggPD0gZW5kWDsgeCArPSBzdGVwKSB7XG4gICAgICBjb25zdCBhID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4LCB5OiBNYXRoLm1heCgwLCBtaW5ZKSB9KTtcbiAgICAgIGNvbnN0IGIgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHgsIHk6IE1hdGgubWluKHdvcmxkLmgsIG1heFkpIH0pO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhhLngsIGEueSk7XG4gICAgICBjdHgubGluZVRvKGIueCwgYi55KTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCB5ID0gc3RhcnRZOyB5IDw9IGVuZFk7IHkgKz0gc3RlcCkge1xuICAgICAgY29uc3QgYSA9IGNhbWVyYS53b3JsZFRvQ2FudmFzKHsgeDogTWF0aC5tYXgoMCwgbWluWCksIHkgfSk7XG4gICAgICBjb25zdCBiID0gY2FtZXJhLndvcmxkVG9DYW52YXMoeyB4OiBNYXRoLm1pbih3b3JsZC53LCBtYXhYKSwgeSB9KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgY3R4LmxpbmVUbyhiLngsIGIueSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3QmVhY29ucygpOiB2b2lkIHtcbiAgICBjb25zdCBtaXNzaW9uID0gc3RhdGUubWlzc2lvbjtcbiAgICBpZiAoIW1pc3Npb24gfHwgbWlzc2lvbi5iZWFjb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkID0gY2FtZXJhLmdldFdvcmxkU2l6ZSgpO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oY2FudmFzLndpZHRoIC8gd29ybGQudywgY2FudmFzLmhlaWdodCAvIHdvcmxkLmgpICogdWlTdGF0ZS56b29tO1xuICAgIGNvbnN0IG1lID0gc3RhdGUubWU7XG4gICAgY29uc3QgcGxheWVyID0gbWlzc2lvbi5wbGF5ZXI7XG4gICAgY29uc3QgYWN0aXZlQmVhY29uSWQgPSBwbGF5ZXI/LmFjdGl2ZUJlYWNvbklkID8/IG51bGw7XG4gICAgY29uc3QgaG9sZFJlcXVpcmVkID0gcGxheWVyPy5ob2xkUmVxdWlyZWQgPz8gMDtcbiAgICBjb25zdCBob2xkQWNjdW0gPSBwbGF5ZXI/LmRpc3BsYXlIb2xkID8/IHBsYXllcj8uaG9sZEFjY3VtID8/IDA7XG5cbiAgICBtaXNzaW9uLmJlYWNvbnMuZm9yRWFjaCgoYmVhY29uKSA9PiB7XG4gICAgICBjb25zdCBjZW50ZXIgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHg6IGJlYWNvbi54LCB5OiBiZWFjb24ueSB9KTtcbiAgICAgIGNvbnN0IGVkZ2UgPSBjYW1lcmEud29ybGRUb0NhbnZhcyh7IHg6IGJlYWNvbi54ICsgYmVhY29uLnJhZGl1cywgeTogYmVhY29uLnkgfSk7XG4gICAgICBjb25zdCByYWRpdXMgPSBNYXRoLmh5cG90KGVkZ2UueCAtIGNlbnRlci54LCBlZGdlLnkgLSBjZW50ZXIueSk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShyYWRpdXMpIHx8IHJhZGl1cyA8PSAwLjUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpc0xvY2tlZCA9IGJlYWNvbi5jb21wbGV0ZWQ7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGFjdGl2ZUJlYWNvbklkID09PSBiZWFjb24uaWQ7XG4gICAgICBjb25zdCBiYXNlTGluZVdpZHRoID0gTWF0aC5tYXgoMS41LCAyLjUgKiBNYXRoLm1pbigxLCBzY2FsZSAqIDEuMikpO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBpc0xvY2tlZFxuICAgICAgICA/IFwicmdiYSg3NCwyMjIsMTI4LDAuODUpXCJcbiAgICAgICAgOiBpc0FjdGl2ZVxuICAgICAgICA/IFwicmdiYSg1NiwxODksMjQ4LDAuOTUpXCJcbiAgICAgICAgOiBcInJnYmEoMTQ4LDE2MywxODQsMC42NSlcIjtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5zZXRMaW5lRGFzaChpc0FjdGl2ZSA/IFtdIDogWzEwLCAxMl0pO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IGlzQWN0aXZlID8gYmFzZUxpbmVXaWR0aCAqIDEuNCA6IGJhc2VMaW5lV2lkdGg7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGlzTG9ja2VkID8gMC45IDogMC44O1xuICAgICAgY3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjb25zdCBpbnNpZGUgPVxuICAgICAgICBpc0FjdGl2ZSAmJiBtZVxuICAgICAgICAgID8gKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZHggPSBtZS54IC0gYmVhY29uLng7XG4gICAgICAgICAgICAgIGNvbnN0IGR5ID0gbWUueSAtIGJlYWNvbi55O1xuICAgICAgICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gYmVhY29uLnJhZGl1cyAqIGJlYWNvbi5yYWRpdXM7XG4gICAgICAgICAgICB9KSgpXG4gICAgICAgICAgOiBmYWxzZTtcblxuICAgICAgaWYgKGluc2lkZSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoNTYsMTg5LDI0OCwwLjEyKVwiO1xuICAgICAgICBjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGhvbGRSZXF1aXJlZCA+IDAgPyBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBob2xkQWNjdW0gLyBob2xkUmVxdWlyZWQpKSA6IDA7XG4gICAgICAgIGlmIChwcm9ncmVzcyA+IDApIHtcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2JhKDU2LDE4OSwyNDgsMC45NSlcIjtcbiAgICAgICAgICBjdHgubGluZVdpZHRoID0gTWF0aC5tYXgoYmFzZUxpbmVXaWR0aCAqIDEuOCwgMik7XG4gICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTtcbiAgICAgICAgICBjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgcmFkaXVzLCAtTWF0aC5QSSAvIDIsIC1NYXRoLlBJIC8gMiArIHByb2dyZXNzICogTWF0aC5QSSAqIDIpO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNMb2NrZWQpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDc0LDIyMiwxMjgsMC43NSlcIjtcbiAgICAgICAgY3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIE1hdGgubWF4KDQsIHJhZGl1cyAqIDAuMDUpLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3U2NlbmUoKTogdm9pZCB7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGRyYXdHcmlkKCk7XG4gICAgZHJhd0JlYWNvbnMoKTtcbiAgICBkcmF3Um91dGUoKTtcbiAgICBkcmF3TWlzc2lsZVJvdXRlKCk7XG4gICAgZHJhd01pc3NpbGVzKCk7XG5cbiAgICBmb3IgKGNvbnN0IGcgb2Ygc3RhdGUuZ2hvc3RzKSB7XG4gICAgICBkcmF3U2hpcChnLngsIGcueSwgZy52eCwgZy52eSwgXCIjOWNhM2FmXCIsIGZhbHNlKTtcbiAgICAgIGRyYXdHaG9zdERvdChnLngsIGcueSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5tZSkge1xuICAgICAgZHJhd1NoaXAoc3RhdGUubWUueCwgc3RhdGUubWUueSwgc3RhdGUubWUudngsIHN0YXRlLm1lLnZ5LCBcIiMyMmQzZWVcIiwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkcmF3U2NlbmUsXG4gICAgZHJhd0dyaWQsXG4gICAgZHJhd0JlYWNvbnMsXG4gICAgZHJhd1NoaXAsXG4gICAgZHJhd0dob3N0RG90LFxuICAgIGRyYXdSb3V0ZSxcbiAgICBkcmF3TWlzc2lsZVJvdXRlLFxuICAgIGRyYXdNaXNzaWxlcyxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBY3RpdmVUb29sLCBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHtcbiAgTUlTU0lMRV9NQVhfU1BFRUQsXG4gIE1JU1NJTEVfTUlOX0FHUk8sXG4gIE1JU1NJTEVfTUlOX1NQRUVELFxuICBjbGFtcCxcbiAgc2FuaXRpemVNaXNzaWxlQ29uZmlnLFxufSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IEhFTFBfVEVYVCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHR5cGUgeyBDYW1lcmEgfSBmcm9tIFwiLi9jYW1lcmFcIjtcbmltcG9ydCB0eXBlIHsgTG9naWMgfSBmcm9tIFwiLi9sb2dpY1wiO1xuaW1wb3J0IHsgcHJvamVjdFJvdXRlSGVhdCB9IGZyb20gXCIuLi9yb3V0ZVwiO1xuXG5pbnRlcmZhY2UgVUlEZXBlbmRlbmNpZXMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIHVpU3RhdGU6IFVJU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG4gIGxvZ2ljOiBMb2dpYztcbiAgY2FtZXJhOiBDYW1lcmE7XG4gIHNlbmRNZXNzYWdlKHBheWxvYWQ6IHVua25vd24pOiB2b2lkO1xuICBnZXRBcHByb3hTZXJ2ZXJOb3coc3RhdGU6IEFwcFN0YXRlKTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ2FjaGVkQ2FudmFzIHtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw7XG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVSUNvbnRyb2xsZXIge1xuICBjYWNoZURvbSgpOiBDYWNoZWRDYW52YXM7XG4gIGJpbmRVSSgpOiB2b2lkO1xuICBzZXRBY3RpdmVUb29sKHRvb2w6IEFjdGl2ZVRvb2wpOiB2b2lkO1xuICBzZXRJbnB1dENvbnRleHQoY29udGV4dDogXCJzaGlwXCIgfCBcIm1pc3NpbGVcIik6IHZvaWQ7XG4gIHVwZGF0ZUNvbnRyb2xIaWdobGlnaHRzKCk6IHZvaWQ7XG4gIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTogdm9pZDtcbiAgcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpOiB2b2lkO1xuICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpOiB2b2lkO1xuICBzeW5jTWlzc2lsZVVJRnJvbVN0YXRlKCk6IHZvaWQ7XG4gIHVwZGF0ZUhlbHBPdmVybGF5KCk6IHZvaWQ7XG4gIHNldEhlbHBWaXNpYmxlKGZsYWc6IGJvb2xlYW4pOiB2b2lkO1xuICB1cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTogdm9pZDtcbiAgdXBkYXRlTWlzc2lsZUNvdW50RGlzcGxheSgpOiB2b2lkO1xuICB1cGRhdGVDcmFmdFRpbWVyKCk6IHZvaWQ7XG4gIHVwZGF0ZVN0YXR1c0luZGljYXRvcnMoKTogdm9pZDtcbiAgdXBkYXRlUGxhbm5lZEhlYXRCYXIoKTogdm9pZDtcbiAgdXBkYXRlU3BlZWRNYXJrZXIoKTogdm9pZDtcbiAgdXBkYXRlSGVhdEJhcigpOiB2b2lkO1xuICBwcm9qZWN0UGxhbm5lZEhlYXQoKTogbnVtYmVyIHwgbnVsbDtcbiAgZ2V0Q2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgZ2V0Q29udGV4dCgpOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsO1xuICBhZGp1c3RTaGlwU3BlZWQoc3RlcHM6IG51bWJlciwgY29hcnNlOiBib29sZWFuKTogdm9pZDtcbiAgYWRqdXN0TWlzc2lsZUFncm8oc3RlcHM6IG51bWJlciwgY29hcnNlOiBib29sZWFuKTogdm9pZDtcbiAgYWRqdXN0TWlzc2lsZVNwZWVkKHN0ZXBzOiBudW1iZXIsIGNvYXJzZTogYm9vbGVhbik6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVSSh7XG4gIHN0YXRlLFxuICB1aVN0YXRlLFxuICBidXMsXG4gIGxvZ2ljLFxuICBjYW1lcmEsXG4gIHNlbmRNZXNzYWdlLFxuICBnZXRBcHByb3hTZXJ2ZXJOb3csXG59OiBVSURlcGVuZGVuY2llcyk6IFVJQ29udHJvbGxlciB7XG4gIGxldCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgPSBudWxsO1xuICBsZXQgSFBzcGFuOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQga2lsbHNTcGFuOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcENvbnRyb2xzQ2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBDbGVhckJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBTZXRCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwU2VsZWN0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcFJvdXRlc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBSb3V0ZUxlZzogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBSb3V0ZVNwZWVkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc2hpcERlbGV0ZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBTcGVlZENhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzaGlwU3BlZWRTbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNoaXBTcGVlZFZhbHVlOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNwZWVkTWFya2VyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGxldCBtaXNzaWxlQ29udHJvbHNDYXJkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUFkZFJvdXRlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUxhdW5jaEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVMYXVuY2hUZXh0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUxhdW5jaEluZm86IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlU2V0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNlbGVjdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVEZWxldGVCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlU3BlZWRDYXJkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZVNwZWVkU2xpZGVyOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlU3BlZWRWYWx1ZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVBZ3JvQ2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVBZ3JvU2xpZGVyOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQWdyb1ZhbHVlOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUhlYXRDYXBhY2l0eUNhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlSGVhdENhcGFjaXR5U2xpZGVyOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlSGVhdENhcGFjaXR5VmFsdWU6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQ3JhZnRCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtaXNzaWxlQ291bnRTcGFuOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgbWlzc2lsZUNyYWZ0VGltZXJEaXY6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBjcmFmdFRpbWVSZW1haW5pbmdTcGFuOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc3Bhd25Cb3RCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzcGF3bkJvdFRleHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IHJvdXRlUHJldkJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHJvdXRlTmV4dEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHJvdXRlTWVudVRvZ2dsZTogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHJvdXRlTWVudTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHJlbmFtZU1pc3NpbGVSb3V0ZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGRlbGV0ZU1pc3NpbGVSb3V0ZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGNsZWFyTWlzc2lsZVdheXBvaW50c0J0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVSb3V0ZU5hbWVMYWJlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3NpbGVSb3V0ZUNvdW50TGFiZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IGhlbHBUb2dnbGU6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBoZWxwT3ZlcmxheTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGhlbHBDbG9zZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGhlbHBUZXh0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGxldCBoZWF0QmFyRmlsbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGhlYXRCYXJQbGFubmVkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVhdFZhbHVlVGV4dDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHNwZWVkTWFya2VyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgc3RhbGxPdmVybGF5OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgYmFzZVNoaXBTcGVlZE1heDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IG1hcmtlckFsaWduZWQgPSBmYWxzZTtcbiAgbGV0IGhlYXRXYXJuQWN0aXZlID0gZmFsc2U7XG4gIGxldCBzdGFsbEFjdGl2ZSA9IGZhbHNlO1xuICBsZXQgZHVhbE1ldGVyQWxlcnQgPSBmYWxzZTtcbiAgbGV0IGxhc3RNaXNzaWxlTGF1bmNoVGV4dEhUTUwgPSBcIlwiO1xuICBsZXQgbGFzdE1pc3NpbGVMYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG4gIGxldCBsYXN0TWlzc2lsZUNvbmZpZ1NlbnQ6IHsgc3BlZWQ6IG51bWJlcjsgYWdyb1JhZGl1czogbnVtYmVyIH0gfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBjYWNoZURvbSgpOiBDYWNoZWRDYW52YXMge1xuICAgIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3ZcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICAgIGN0eCA9IGNhbnZhcz8uZ2V0Q29udGV4dChcIjJkXCIpID8/IG51bGw7XG4gICAgSFBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWhwXCIpO1xuICAgIHNoaXBDb250cm9sc0NhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtY29udHJvbHNcIik7XG4gICAgc2hpcENsZWFyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWNsZWFyXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBzaGlwU2V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNldFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgc2hpcFNlbGVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zZWxlY3RcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBSb3V0ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtcm91dGVzXCIpO1xuICAgIHNoaXBSb3V0ZUxlZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1yb3V0ZS1sZWdcIik7XG4gICAgc2hpcFJvdXRlU3BlZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtcm91dGUtc3BlZWRcIik7XG4gICAgc2hpcERlbGV0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1kZWxldGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBTcGVlZENhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc3BlZWQtY2FyZFwiKTtcbiAgICBzaGlwU3BlZWRTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc3BlZWQtc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgIHNoaXBTcGVlZFZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLXNwZWVkLXZhbHVlXCIpO1xuICAgIGlmIChzaGlwU3BlZWRTbGlkZXIgJiYgYmFzZVNoaXBTcGVlZE1heCA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VGbG9hdChzaGlwU3BlZWRTbGlkZXIubWF4KTtcbiAgICAgIGJhc2VTaGlwU3BlZWRNYXggPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDI1MDtcbiAgICB9XG5cbiAgICBtaXNzaWxlQ29udHJvbHNDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWNvbnRyb2xzXCIpO1xuICAgIG1pc3NpbGVBZGRSb3V0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1hZGQtcm91dGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVMYXVuY2hCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlTGF1bmNoVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1sYXVuY2gtdGV4dFwiKTtcbiAgICBtaXNzaWxlTGF1bmNoSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1sYXVuY2gtaW5mb1wiKTtcbiAgICBtaXNzaWxlU2V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNldFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgbWlzc2lsZVNlbGVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zZWxlY3RcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVEZWxldGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtZGVsZXRlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlU3BlZWRDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNwZWVkLWNhcmRcIik7XG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNwZWVkLXNsaWRlclwiKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlU3BlZWRWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zcGVlZC12YWx1ZVwiKTtcbiAgICBtaXNzaWxlQWdyb0NhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtYWdyby1jYXJkXCIpO1xuICAgIG1pc3NpbGVBZ3JvU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVBZ3JvVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtYWdyby12YWx1ZVwiKTtcbiAgICBtaXNzaWxlSGVhdENhcGFjaXR5Q2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1oZWF0LWNhcGFjaXR5LWNhcmRcIik7XG4gICAgbWlzc2lsZUhlYXRDYXBhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1oZWF0LWNhcGFjaXR5LXNsaWRlclwiKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICBtaXNzaWxlSGVhdENhcGFjaXR5VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtaGVhdC1jYXBhY2l0eS12YWx1ZVwiKTtcbiAgICBtaXNzaWxlQ3JhZnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtY3JhZnRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVDb3VudFNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtY291bnRcIik7XG4gICAgbWlzc2lsZUNyYWZ0VGltZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtY3JhZnQtdGltZXJcIik7XG4gICAgY3JhZnRUaW1lUmVtYWluaW5nU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JhZnQtdGltZS1yZW1haW5pbmdcIik7XG5cbiAgICBzcGF3bkJvdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bhd24tYm90XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBzcGF3bkJvdFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwYXduLWJvdC10ZXh0XCIpO1xuICAgIGtpbGxzU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1raWxsc1wiKTtcbiAgICByb3V0ZVByZXZCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdXRlLXByZXZcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIHJvdXRlTmV4dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm91dGUtbmV4dFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgcm91dGVNZW51VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1tZW51LXRvZ2dsZVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgcm91dGVNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1tZW51XCIpO1xuICAgIHJlbmFtZU1pc3NpbGVSb3V0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVuYW1lLW1pc3NpbGUtcm91dGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGRlbGV0ZU1pc3NpbGVSb3V0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlLW1pc3NpbGUtcm91dGVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGNsZWFyTWlzc2lsZVdheXBvaW50c0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXItbWlzc2lsZS13YXlwb2ludHNcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIG1pc3NpbGVSb3V0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1yb3V0ZS1uYW1lXCIpO1xuICAgIG1pc3NpbGVSb3V0ZUNvdW50TGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtcm91dGUtY291bnRcIik7XG5cbiAgICBoZWxwVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwLXRvZ2dsZVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgaGVscE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlbHAtb3ZlcmxheVwiKTtcbiAgICBoZWxwQ2xvc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlbHAtY2xvc2VcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGhlbHBUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwLXRleHRcIik7XG5cbiAgICBoZWF0QmFyRmlsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhdC1iYXItZmlsbFwiKTtcbiAgICBoZWF0QmFyUGxhbm5lZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhdC1iYXItcGxhbm5lZFwiKTtcbiAgICBoZWF0VmFsdWVUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWF0LXZhbHVlLXRleHRcIik7XG4gICAgc3BlZWRNYXJrZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwZWVkLW1hcmtlclwiKTtcbiAgICBtaXNzaWxlU3BlZWRNYXJrZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtc3BlZWQtbWFya2VyXCIpO1xuICAgIHN0YWxsT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhbGwtb3ZlcmxheVwiKTtcblxuICAgIGNvbnN0IHNsaWRlckRlZmF1bHQgPSBwYXJzZUZsb2F0KHNoaXBTcGVlZFNsaWRlcj8udmFsdWUgPz8gXCIxNTBcIik7XG4gICAgbG9naWMuc2V0RGVmYXVsdFNoaXBTcGVlZChOdW1iZXIuaXNGaW5pdGUoc2xpZGVyRGVmYXVsdCkgPyBzbGlkZXJEZWZhdWx0IDogMTUwKTtcbiAgICBpZiAobWlzc2lsZVNwZWVkU2xpZGVyKSB7XG4gICAgICBtaXNzaWxlU3BlZWRTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBjYW52YXMsIGN0eCB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYmluZFVJKCk6IHZvaWQge1xuICAgIHNwYXduQm90QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKCFzcGF3bkJvdEJ0biB8fCBzcGF3bkJvdEJ0bi5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwic3Bhd25fYm90XCIgfSk7XG4gICAgICBidXMuZW1pdChcImJvdDpzcGF3blJlcXVlc3RlZFwiKTtcblxuICAgICAgc3Bhd25Cb3RCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaWYgKHNwYXduQm90VGV4dCkge1xuICAgICAgICBzcGF3bkJvdFRleHQudGV4dENvbnRlbnQgPSBcIlNwYXduZWRcIjtcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChzcGF3bkJvdEJ0bikge1xuICAgICAgICAgIHNwYXduQm90QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwYXduQm90VGV4dCkge1xuICAgICAgICAgIHNwYXduQm90VGV4dC50ZXh0Q29udGVudCA9IFwiQm90XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMDApO1xuICAgIH0pO1xuXG4gICAgc2hpcENsZWFyQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0SW5wdXRDb250ZXh0KFwic2hpcFwiKTtcbiAgICAgIGxvZ2ljLmNsZWFyU2hpcFJvdXRlKCk7XG4gICAgICBidXMuZW1pdChcInNoaXA6Y2xlYXJJbnZva2VkXCIpO1xuICAgIH0pO1xuXG4gICAgc2hpcFNldEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldEFjdGl2ZVRvb2woXCJzaGlwLXNldFwiKTtcbiAgICB9KTtcblxuICAgIHNoaXBTZWxlY3RCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRBY3RpdmVUb29sKFwic2hpcC1zZWxlY3RcIik7XG4gICAgfSk7XG5cbiAgICBzaGlwU3BlZWRTbGlkZXI/LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdCgoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgdXBkYXRlU3BlZWRMYWJlbCh2YWx1ZSk7XG4gICAgICBsb2dpYy5zZXREZWZhdWx0U2hpcFNwZWVkKHZhbHVlKTtcbiAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGxvZ2ljLmdldFNlbGVjdGlvbigpO1xuICAgICAgaWYgKFxuICAgICAgICBzZWxlY3Rpb24gJiZcbiAgICAgICAgc3RhdGUubWUgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShzdGF0ZS5tZS53YXlwb2ludHMpICYmXG4gICAgICAgIHN0YXRlLm1lLndheXBvaW50c1tzZWxlY3Rpb24uaW5kZXhdXG4gICAgICApIHtcbiAgICAgICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcInVwZGF0ZV93YXlwb2ludFwiLCBpbmRleDogc2VsZWN0aW9uLmluZGV4LCBzcGVlZDogdmFsdWUgfSk7XG4gICAgICAgIHN0YXRlLm1lLndheXBvaW50c1tzZWxlY3Rpb24uaW5kZXhdLnNwZWVkID0gdmFsdWU7XG4gICAgICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgICAgdXBkYXRlUGxhbm5lZEhlYXRCYXIoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhlYXQgPSBzdGF0ZS5tZT8uaGVhdDtcbiAgICAgIGlmIChoZWF0KSB7XG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IE1hdGgubWF4KDUsIGhlYXQubWFya2VyU3BlZWQgKiAwLjAyKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKHZhbHVlIC0gaGVhdC5tYXJrZXJTcGVlZCk7XG4gICAgICAgIGNvbnN0IGluUmFuZ2UgPSBkaWZmIDw9IHRvbGVyYW5jZTtcbiAgICAgICAgaWYgKGluUmFuZ2UgJiYgIW1hcmtlckFsaWduZWQpIHtcbiAgICAgICAgICBtYXJrZXJBbGlnbmVkID0gdHJ1ZTtcbiAgICAgICAgICBidXMuZW1pdChcImhlYXQ6bWFya2VyQWxpZ25lZFwiLCB7IHZhbHVlLCBtYXJrZXI6IGhlYXQubWFya2VyU3BlZWQgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWluUmFuZ2UgJiYgbWFya2VyQWxpZ25lZCkge1xuICAgICAgICAgIG1hcmtlckFsaWduZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFya2VyQWxpZ25lZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgYnVzLmVtaXQoXCJzaGlwOnNwZWVkQ2hhbmdlZFwiLCB7IHZhbHVlIH0pO1xuICAgIH0pO1xuXG4gICAgc2hpcERlbGV0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICBsb2dpYy5kZWxldGVTZWxlY3RlZFNoaXBXYXlwb2ludCgpO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZUFkZFJvdXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJhZGRfbWlzc2lsZV9yb3V0ZVwiIH0pO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZUxhdW5jaEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBsb2dpYy5sYXVuY2hBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVTZXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRBY3RpdmVUb29sKFwibWlzc2lsZS1zZXRcIik7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlU2VsZWN0QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlVG9vbChcIm1pc3NpbGUtc2VsZWN0XCIpO1xuICAgIH0pO1xuXG4gICAgbWlzc2lsZURlbGV0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldElucHV0Q29udGV4dChcIm1pc3NpbGVcIik7XG4gICAgICBsb2dpYy5kZWxldGVTZWxlY3RlZE1pc3NpbGVXYXlwb2ludCgpO1xuICAgICAgYnVzLmVtaXQoXCJtaXNzaWxlOmRlbGV0ZUludm9rZWRcIik7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlU3BlZWRTbGlkZXI/LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHNsaWRlciA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgaWYgKHNsaWRlci5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByYXcgPSBwYXJzZUZsb2F0KHNsaWRlci52YWx1ZSk7XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShyYXcpKSByZXR1cm47XG4gICAgICBjb25zdCBtaW5TcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNaW4gPz8gTUlTU0lMRV9NSU5fU1BFRUQ7XG4gICAgICBjb25zdCBtYXhTcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNYXggPz8gTUlTU0lMRV9NQVhfU1BFRUQ7XG4gICAgICBjb25zdCBjbGFtcGVkVmFsdWUgPSBjbGFtcChyYXcsIG1pblNwZWVkLCBtYXhTcGVlZCk7XG4gICAgICBzbGlkZXIudmFsdWUgPSBjbGFtcGVkVmFsdWUudG9GaXhlZCgwKTtcbiAgICAgIGlmIChtaXNzaWxlU3BlZWRWYWx1ZSkge1xuICAgICAgICBtaXNzaWxlU3BlZWRWYWx1ZS50ZXh0Q29udGVudCA9IGAke2NsYW1wZWRWYWx1ZS50b0ZpeGVkKDApfWA7XG4gICAgICB9XG4gICAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgY29uc3QgbWlzc2lsZVNlbGVjdGlvbiA9IGxvZ2ljLmdldE1pc3NpbGVTZWxlY3Rpb24oKTtcbiAgICAgIGlmIChcbiAgICAgICAgcm91dGUgJiZcbiAgICAgICAgbWlzc2lsZVNlbGVjdGlvbiAmJlxuICAgICAgICBtaXNzaWxlU2VsZWN0aW9uLnR5cGUgPT09IFwibGVnXCIgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpICYmXG4gICAgICAgIG1pc3NpbGVTZWxlY3Rpb24uaW5kZXggPj0gMCAmJlxuICAgICAgICBtaXNzaWxlU2VsZWN0aW9uLmluZGV4IDwgcm91dGUud2F5cG9pbnRzLmxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIHJvdXRlLndheXBvaW50cyA9IHJvdXRlLndheXBvaW50cy5tYXAoKHcsIGlkeCkgPT5cbiAgICAgICAgICBpZHggPT09IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXggPyB7IC4uLncsIHNwZWVkOiBjbGFtcGVkVmFsdWUgfSA6IHdcbiAgICAgICAgKTtcbiAgICAgICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgIHR5cGU6IFwidXBkYXRlX21pc3NpbGVfd2F5cG9pbnRfc3BlZWRcIixcbiAgICAgICAgICByb3V0ZV9pZDogcm91dGUuaWQsXG4gICAgICAgICAgaW5kZXg6IG1pc3NpbGVTZWxlY3Rpb24uaW5kZXgsXG4gICAgICAgICAgc3BlZWQ6IGNsYW1wZWRWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTpzcGVlZENoYW5nZWRcIiwgeyB2YWx1ZTogY2xhbXBlZFZhbHVlLCBpbmRleDogbWlzc2lsZVNlbGVjdGlvbi5pbmRleCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNmZyA9IHNhbml0aXplTWlzc2lsZUNvbmZpZyhcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzcGVlZDogY2xhbXBlZFZhbHVlLFxuICAgICAgICAgICAgYWdyb1JhZGl1czogc3RhdGUubWlzc2lsZUNvbmZpZy5hZ3JvUmFkaXVzLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdGUubWlzc2lsZUNvbmZpZyxcbiAgICAgICAgICBzdGF0ZS5taXNzaWxlTGltaXRzXG4gICAgICAgICk7XG4gICAgICAgIHN0YXRlLm1pc3NpbGVDb25maWcgPSBjZmc7XG4gICAgICAgIHNlbmRNaXNzaWxlQ29uZmlnKGNmZyk7XG4gICAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTpzcGVlZENoYW5nZWRcIiwgeyB2YWx1ZTogY2xhbXBlZFZhbHVlLCBpbmRleDogLTEgfSk7XG4gICAgICB9XG4gICAgICBsb2dpYy5yZWNvcmRNaXNzaWxlTGVnU3BlZWQoY2xhbXBlZFZhbHVlKTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVBZ3JvU2xpZGVyPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBzbGlkZXIgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGNvbnN0IHJhdyA9IHBhcnNlRmxvYXQoc2xpZGVyLnZhbHVlKTtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHJhdykpIHJldHVybjtcbiAgICAgIGNvbnN0IG1pbkFncm8gPSBzdGF0ZS5taXNzaWxlTGltaXRzLmFncm9NaW4gPz8gTUlTU0lMRV9NSU5fQUdSTztcbiAgICAgIGNvbnN0IGNsYW1wZWRWYWx1ZSA9IE1hdGgubWF4KG1pbkFncm8sIHJhdyk7XG4gICAgICBzbGlkZXIudmFsdWUgPSBjbGFtcGVkVmFsdWUudG9GaXhlZCgwKTtcbiAgICAgIGlmIChtaXNzaWxlQWdyb1ZhbHVlKSB7XG4gICAgICAgIG1pc3NpbGVBZ3JvVmFsdWUudGV4dENvbnRlbnQgPSBgJHtjbGFtcGVkVmFsdWUudG9GaXhlZCgwKX1gO1xuICAgICAgfVxuICAgICAgdXBkYXRlTWlzc2lsZUNvbmZpZ0Zyb21VSSh7IGFncm9SYWRpdXM6IGNsYW1wZWRWYWx1ZSB9KTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTphZ3JvQ2hhbmdlZFwiLCB7IHZhbHVlOiBjbGFtcGVkVmFsdWUgfSk7XG4gICAgfSk7XG5cbiAgICBtaXNzaWxlSGVhdENhcGFjaXR5U2xpZGVyPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCByYXcgPSBwYXJzZUZsb2F0KChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocmF3KSkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xhbXBlZFZhbHVlID0gTWF0aC5tYXgoODAsIE1hdGgubWluKDIwMCwgcmF3KSk7XG4gICAgICBtaXNzaWxlSGVhdENhcGFjaXR5U2xpZGVyLnZhbHVlID0gY2xhbXBlZFZhbHVlLnRvRml4ZWQoMCk7XG4gICAgICBpZiAobWlzc2lsZUhlYXRDYXBhY2l0eVZhbHVlKSB7XG4gICAgICAgIG1pc3NpbGVIZWF0Q2FwYWNpdHlWYWx1ZS50ZXh0Q29udGVudCA9IGAke2NsYW1wZWRWYWx1ZS50b0ZpeGVkKDApfWA7XG4gICAgICB9XG4gICAgICBzdGF0ZS5jcmFmdEhlYXRDYXBhY2l0eSA9IGNsYW1wZWRWYWx1ZTtcbiAgICB9KTtcblxuICAgIG1pc3NpbGVDcmFmdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmIChtaXNzaWxlQ3JhZnRCdG4uZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgLy8gRmluZCB0aGUgY3JhZnQgbm9kZSBmb3IgdGhlIHNlbGVjdGVkIGhlYXQgY2FwYWNpdHlcbiAgICAgIGNvbnN0IGhlYXRDYXAgPSBzdGF0ZS5jcmFmdEhlYXRDYXBhY2l0eTtcbiAgICAgIGxldCBub2RlSWQgPSBcImNyYWZ0Lm1pc3NpbGUuYmFzaWNcIjsgLy8gRGVmYXVsdFxuXG4gICAgICBpZiAoc3RhdGUuZGFnKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGJlc3QgbWF0Y2hpbmcgY3JhZnQgbm9kZSBiYXNlZCBvbiBoZWF0IGNhcGFjaXR5XG4gICAgICAgIGNvbnN0IGNyYWZ0Tm9kZXMgPSBzdGF0ZS5kYWcubm9kZXMuZmlsdGVyKG4gPT4gbi5raW5kID09PSBcImNyYWZ0XCIgJiYgbi5pZC5pbmNsdWRlcyhcIm1pc3NpbGVcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgY3JhZnROb2Rlcykge1xuICAgICAgICAgIGNvbnN0IG5vZGVIZWF0Q2FwID0gcGFyc2VJbnQobm9kZS5pZC5tYXRjaCgvKFxcZCspLyk/LlsxXSB8fCBcIjgwXCIpO1xuICAgICAgICAgIGlmIChNYXRoLmFicyhub2RlSGVhdENhcCAtIGhlYXRDYXApIDwgNSkge1xuICAgICAgICAgICAgbm9kZUlkID0gbm9kZS5pZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgcmlnaHQgbm9kZSBiYXNlZCBvbiBoZWF0IGNhcGFjaXR5IHJhbmdlc1xuICAgICAgICBpZiAoaGVhdENhcCA+PSAxODApIHtcbiAgICAgICAgICBub2RlSWQgPSBcImNyYWZ0Lm1pc3NpbGUuZXh0ZW5kZWRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChoZWF0Q2FwID49IDE0MCkge1xuICAgICAgICAgIG5vZGVJZCA9IFwiY3JhZnQubWlzc2lsZS5oaWdoX2hlYXRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChoZWF0Q2FwID49IDExMCkge1xuICAgICAgICAgIG5vZGVJZCA9IFwiY3JhZnQubWlzc2lsZS5sb25nX3JhbmdlXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZUlkID0gXCJjcmFmdC5taXNzaWxlLmJhc2ljXCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImRhZ19zdGFydFwiLCBub2RlX2lkOiBub2RlSWQgfSk7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6Y3JhZnRSZXF1ZXN0ZWRcIiwgeyBub2RlSWQsIGhlYXRDYXBhY2l0eTogaGVhdENhcCB9KTtcbiAgICB9KTtcblxuICAgIHJvdXRlUHJldkJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGxvZ2ljLmN5Y2xlTWlzc2lsZVJvdXRlKC0xKSk7XG4gICAgcm91dGVOZXh0QnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gbG9naWMuY3ljbGVNaXNzaWxlUm91dGUoMSkpO1xuXG4gICAgcm91dGVNZW51VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgcm91dGVNZW51Py5jbGFzc0xpc3QudG9nZ2xlKFwidmlzaWJsZVwiKTtcbiAgICB9KTtcblxuICAgIHJlbmFtZU1pc3NpbGVSb3V0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICBpZiAoIXJvdXRlKSByZXR1cm47XG4gICAgICBjb25zdCBuZXh0TmFtZSA9IHByb21wdChcIlJlbmFtZSByb3V0ZVwiLCByb3V0ZS5uYW1lID8/IFwiXCIpID8/IFwiXCI7XG4gICAgICBjb25zdCB0cmltbWVkID0gbmV4dE5hbWUudHJpbSgpO1xuICAgICAgaWYgKHRyaW1tZWQgPT09IHJvdXRlLm5hbWUpIHJldHVybjtcbiAgICAgIHNlbmRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJyZW5hbWVfbWlzc2lsZV9yb3V0ZVwiLFxuICAgICAgICByb3V0ZV9pZDogcm91dGUuaWQsXG4gICAgICAgIG5hbWU6IHRyaW1tZWQsXG4gICAgICB9KTtcbiAgICAgIHJvdXRlLm5hbWUgPSB0cmltbWVkO1xuICAgICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9KTtcblxuICAgIGRlbGV0ZU1pc3NpbGVSb3V0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgICBpZiAoIXJvdXRlKSByZXR1cm47XG4gICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6IFwiZGVsZXRlX21pc3NpbGVfcm91dGVcIiwgcm91dGVfaWQ6IHJvdXRlLmlkIH0pO1xuICAgIH0pO1xuXG4gICAgY2xlYXJNaXNzaWxlV2F5cG9pbnRzQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgcm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICAgIGlmICghcm91dGUgfHwgIUFycmF5LmlzQXJyYXkocm91dGUud2F5cG9pbnRzKSB8fCByb3V0ZS53YXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJjbGVhcl9taXNzaWxlX3dheXBvaW50c1wiLCByb3V0ZV9pZDogcm91dGUuaWQgfSk7XG4gICAgICByb3V0ZS53YXlwb2ludHMgPSBbXTtcbiAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIH0pO1xuXG4gICAgaGVscFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldEhlbHBWaXNpYmxlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaGVscENsb3NlQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc2V0SGVscFZpc2libGUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgYnVzLm9uKFwic2hpcDpsZWdTZWxlY3RlZFwiLCAoKSA9PiB7XG4gICAgICByZWZyZXNoU2hpcFNlbGVjdGlvblVJKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwic2hpcDp3YXlwb2ludEFkZGVkXCIsICgpID0+IHtcbiAgICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwic2hpcDp3YXlwb2ludERlbGV0ZWRcIiwgKCkgPT4ge1xuICAgICAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpO1xuICAgICAgdXBkYXRlUGxhbm5lZEhlYXRCYXIoKTtcbiAgICB9KTtcbiAgICBidXMub24oXCJzaGlwOndheXBvaW50c0NsZWFyZWRcIiwgKCkgPT4ge1xuICAgICAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpO1xuICAgICAgdXBkYXRlUGxhbm5lZEhlYXRCYXIoKTtcbiAgICB9KTtcbiAgICBidXMub24oXCJtaXNzaWxlOnNlbGVjdGlvbkNoYW5nZWRcIiwgKCkgPT4ge1xuICAgICAgcmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpO1xuICAgICAgdXBkYXRlTWlzc2lsZVNwZWVkQ29udHJvbHMoKTtcbiAgICB9KTtcbiAgICBidXMub24oXCJtaXNzaWxlOndheXBvaW50QWRkZWRcIiwgKCkgPT4ge1xuICAgICAgcmVuZGVyTWlzc2lsZVJvdXRlQ29udHJvbHMoKTtcbiAgICB9KTtcbiAgICBidXMub24oXCJtaXNzaWxlOndheXBvaW50RGVsZXRlZFwiLCAoKSA9PiB7XG4gICAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIH0pO1xuICAgIGJ1cy5vbihcIm1pc3NpbGU6YWN0aXZlUm91dGVDaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzKCk7XG4gICAgfSk7XG4gICAgYnVzLm9uKFwibWlzc2lsZTpjcmFmdFJlcXVlc3RlZFwiLCAoKSA9PiB7XG4gICAgICAvLyBEaXNhYmxlIGNyYWZ0IGJ1dHRvbiB0ZW1wb3JhcmlseSB0byBwcmV2ZW50IGRvdWJsZS1jbGlja3NcbiAgICAgIGlmIChtaXNzaWxlQ3JhZnRCdG4pIHtcbiAgICAgICAgbWlzc2lsZUNyYWZ0QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIEZvcmNlIGltbWVkaWF0ZSB0aW1lciB1cGRhdGVcbiAgICAgIHVwZGF0ZUNyYWZ0VGltZXIoKTtcbiAgICAgIC8vIFJlLWVuYWJsZSBhZnRlciBhIHNob3J0IGRlbGF5IChzZXJ2ZXIgd2lsbCB1cGRhdGUgc3RhdGUpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKG1pc3NpbGVDcmFmdEJ0bikge1xuICAgICAgICAgIG1pc3NpbGVDcmFmdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCB7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbnRleHQoKTogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbCB7XG4gICAgcmV0dXJuIGN0eDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNwZWVkTGFiZWwodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghc2hpcFNwZWVkVmFsdWUpIHJldHVybjtcbiAgICBzaGlwU3BlZWRWYWx1ZS50ZXh0Q29udGVudCA9IGAke3ZhbHVlLnRvRml4ZWQoMCl9IHUvc2A7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RTbGlkZXJWYWx1ZShcbiAgICBpbnB1dDogSFRNTElucHV0RWxlbWVudCB8IG51bGwsXG4gICAgc3RlcHM6IG51bWJlcixcbiAgICBjb2Fyc2U6IGJvb2xlYW5cbiAgKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgaWYgKCFpbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgc3RlcCA9IE1hdGguYWJzKHBhcnNlRmxvYXQoaW5wdXQuc3RlcCkpIHx8IDE7XG4gICAgY29uc3QgbXVsdGlwbGllciA9IGNvYXJzZSA/IDQgOiAxO1xuICAgIGNvbnN0IG1pbiA9IE51bWJlci5pc0Zpbml0ZShwYXJzZUZsb2F0KGlucHV0Lm1pbikpID8gcGFyc2VGbG9hdChpbnB1dC5taW4pIDogLUluZmluaXR5O1xuICAgIGNvbnN0IG1heCA9IE51bWJlci5pc0Zpbml0ZShwYXJzZUZsb2F0KGlucHV0Lm1heCkpID8gcGFyc2VGbG9hdChpbnB1dC5tYXgpIDogSW5maW5pdHk7XG4gICAgY29uc3QgY3VycmVudCA9IHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpIHx8IDA7XG4gICAgbGV0IG5leHQgPSBjdXJyZW50ICsgc3RlcHMgKiBzdGVwICogbXVsdGlwbGllcjtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG1pbikpIG5leHQgPSBNYXRoLm1heChtaW4sIG5leHQpO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobWF4KSkgbmV4dCA9IE1hdGgubWluKG1heCwgbmV4dCk7XG4gICAgaWYgKE1hdGguYWJzKG5leHQgLSBjdXJyZW50KSA8IDFlLTQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyhuZXh0KTtcbiAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RTaGlwU3BlZWQoc3RlcHM6IG51bWJlciwgY29hcnNlOiBib29sZWFuKTogdm9pZCB7XG4gICAgYWRqdXN0U2xpZGVyVmFsdWUoc2hpcFNwZWVkU2xpZGVyLCBzdGVwcywgY29hcnNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdE1pc3NpbGVBZ3JvKHN0ZXBzOiBudW1iZXIsIGNvYXJzZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGFkanVzdFNsaWRlclZhbHVlKG1pc3NpbGVBZ3JvU2xpZGVyLCBzdGVwcywgY29hcnNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdE1pc3NpbGVTcGVlZChzdGVwczogbnVtYmVyLCBjb2Fyc2U6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAobWlzc2lsZVNwZWVkU2xpZGVyICYmICFtaXNzaWxlU3BlZWRTbGlkZXIuZGlzYWJsZWQpIHtcbiAgICAgIGFkanVzdFNsaWRlclZhbHVlKG1pc3NpbGVTcGVlZFNsaWRlciwgc3RlcHMsIGNvYXJzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2hpcFNsaWRlclZhbHVlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXNoaXBTcGVlZFNsaWRlcikgcmV0dXJuO1xuICAgIHNoaXBTcGVlZFNsaWRlci52YWx1ZSA9IHZhbHVlLnRvRml4ZWQoMCk7XG4gICAgdXBkYXRlU3BlZWRMYWJlbCh2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpOiB2b2lkIHtcbiAgICBjb25zdCByb3V0ZXMgPSBBcnJheS5pc0FycmF5KHN0YXRlLm1pc3NpbGVSb3V0ZXMpID8gc3RhdGUubWlzc2lsZVJvdXRlcyA6IFtdO1xuICAgIGNvbnN0IGFjdGl2ZVJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgaWYgKG1pc3NpbGVSb3V0ZU5hbWVMYWJlbCkge1xuICAgICAgaWYgKCFhY3RpdmVSb3V0ZSkge1xuICAgICAgICBtaXNzaWxlUm91dGVOYW1lTGFiZWwudGV4dENvbnRlbnQgPSByb3V0ZXMubGVuZ3RoID09PSAwID8gXCJObyByb3V0ZVwiIDogXCJSb3V0ZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlzc2lsZVJvdXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gYWN0aXZlUm91dGUubmFtZSB8fCBcIlJvdXRlXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1pc3NpbGVSb3V0ZUNvdW50TGFiZWwpIHtcbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgYWN0aXZlUm91dGUgJiYgQXJyYXkuaXNBcnJheShhY3RpdmVSb3V0ZS53YXlwb2ludHMpID8gYWN0aXZlUm91dGUud2F5cG9pbnRzLmxlbmd0aCA6IDA7XG4gICAgICBtaXNzaWxlUm91dGVDb3VudExhYmVsLnRleHRDb250ZW50ID0gYCR7Y291bnR9IHB0c2A7XG4gICAgfVxuXG4gICAgaWYgKGRlbGV0ZU1pc3NpbGVSb3V0ZUJ0bikge1xuICAgICAgZGVsZXRlTWlzc2lsZVJvdXRlQnRuLmRpc2FibGVkID0gcm91dGVzLmxlbmd0aCA8PSAxO1xuICAgIH1cbiAgICBpZiAocmVuYW1lTWlzc2lsZVJvdXRlQnRuKSB7XG4gICAgICByZW5hbWVNaXNzaWxlUm91dGVCdG4uZGlzYWJsZWQgPSAhYWN0aXZlUm91dGU7XG4gICAgfVxuICAgIGlmIChjbGVhck1pc3NpbGVXYXlwb2ludHNCdG4pIHtcbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgYWN0aXZlUm91dGUgJiYgQXJyYXkuaXNBcnJheShhY3RpdmVSb3V0ZS53YXlwb2ludHMpID8gYWN0aXZlUm91dGUud2F5cG9pbnRzLmxlbmd0aCA6IDA7XG4gICAgICBjbGVhck1pc3NpbGVXYXlwb2ludHNCdG4uZGlzYWJsZWQgPSAhYWN0aXZlUm91dGUgfHwgY291bnQgPT09IDA7XG4gICAgfVxuICAgIGlmIChyb3V0ZVByZXZCdG4pIHtcbiAgICAgIHJvdXRlUHJldkJ0bi5kaXNhYmxlZCA9IHJvdXRlcy5sZW5ndGggPD0gMTtcbiAgICB9XG4gICAgaWYgKHJvdXRlTmV4dEJ0bikge1xuICAgICAgcm91dGVOZXh0QnRuLmRpc2FibGVkID0gcm91dGVzLmxlbmd0aCA8PSAxO1xuICAgIH1cblxuICAgIHVwZGF0ZU1pc3NpbGVMYXVuY2hCdXR0b25TdGF0ZSgpO1xuICAgIHJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNNaXNzaWxlVUlGcm9tU3RhdGUoKTogdm9pZCB7XG4gICAgbG9naWMuZW5zdXJlQWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgY29uc3QgYWN0aXZlUm91dGUgPSBsb2dpYy5nZXRBY3RpdmVNaXNzaWxlUm91dGUoKTtcbiAgICBjb25zdCBtaXNzaWxlU2VsID0gbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpO1xuICAgIGNvbnN0IHJvdXRlSGFzU2VsZWN0aW9uID1cbiAgICAgICEhYWN0aXZlUm91dGUgJiZcbiAgICAgIEFycmF5LmlzQXJyYXkoYWN0aXZlUm91dGUud2F5cG9pbnRzKSAmJlxuICAgICAgISFtaXNzaWxlU2VsICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4ID49IDAgJiZcbiAgICAgIG1pc3NpbGVTZWwuaW5kZXggPCBhY3RpdmVSb3V0ZS53YXlwb2ludHMubGVuZ3RoO1xuICAgIGlmICghcm91dGVIYXNTZWxlY3Rpb24pIHtcbiAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IGNmZyA9IHN0YXRlLm1pc3NpbGVDb25maWc7XG4gICAgYXBwbHlNaXNzaWxlVUkoY2ZnKTtcbiAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICAgIHJlZnJlc2hNaXNzaWxlU2VsZWN0aW9uVUkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5TWlzc2lsZVVJKGNmZzogeyBzcGVlZDogbnVtYmVyOyBhZ3JvUmFkaXVzOiBudW1iZXIgfSk6IHZvaWQge1xuICAgIGlmIChtaXNzaWxlQWdyb1NsaWRlcikge1xuICAgICAgY29uc3QgbWluQWdybyA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuYWdyb01pbiA/PyBNSVNTSUxFX01JTl9BR1JPO1xuICAgICAgY29uc3QgbWF4QWdybyA9IE1hdGgubWF4KDUwMDAsIE1hdGguY2VpbCgoY2ZnLmFncm9SYWRpdXMgKyA1MDApIC8gNTAwKSAqIDUwMCk7XG4gICAgICBtaXNzaWxlQWdyb1NsaWRlci5taW4gPSBTdHJpbmcobWluQWdybyk7XG4gICAgICBtaXNzaWxlQWdyb1NsaWRlci5tYXggPSBTdHJpbmcobWF4QWdybyk7XG4gICAgICBtaXNzaWxlQWdyb1NsaWRlci52YWx1ZSA9IGNmZy5hZ3JvUmFkaXVzLnRvRml4ZWQoMCk7XG4gICAgfVxuICAgIGlmIChtaXNzaWxlQWdyb1ZhbHVlKSB7XG4gICAgICBtaXNzaWxlQWdyb1ZhbHVlLnRleHRDb250ZW50ID0gY2ZnLmFncm9SYWRpdXMudG9GaXhlZCgwKTtcbiAgICB9XG4gICAgdXBkYXRlTWlzc2lsZVNwZWVkQ29udHJvbHMoKTtcbiAgICB1cGRhdGVTcGVlZE1hcmtlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWlzc2lsZUNvbmZpZ0Zyb21VSShcbiAgICBvdmVycmlkZXM6IFBhcnRpYWw8eyBhZ3JvUmFkaXVzOiBudW1iZXIgfT4gPSB7fVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBjdXJyZW50ID0gc3RhdGUubWlzc2lsZUNvbmZpZztcbiAgICBjb25zdCBjZmcgPSBzYW5pdGl6ZU1pc3NpbGVDb25maWcoXG4gICAgICB7XG4gICAgICAgIHNwZWVkOiBjdXJyZW50LnNwZWVkLFxuICAgICAgICBhZ3JvUmFkaXVzOiBvdmVycmlkZXMuYWdyb1JhZGl1cyA/PyBjdXJyZW50LmFncm9SYWRpdXMsXG4gICAgICB9LFxuICAgICAgY3VycmVudCxcbiAgICAgIHN0YXRlLm1pc3NpbGVMaW1pdHNcbiAgICApO1xuICAgIHN0YXRlLm1pc3NpbGVDb25maWcgPSBjZmc7XG4gICAgYXBwbHlNaXNzaWxlVUkoY2ZnKTtcbiAgICBjb25zdCBsYXN0ID0gbGFzdE1pc3NpbGVDb25maWdTZW50O1xuICAgIGNvbnN0IG5lZWRzU2VuZCA9XG4gICAgICAhbGFzdCB8fCBNYXRoLmFicygobGFzdC5hZ3JvUmFkaXVzID8/IDApIC0gY2ZnLmFncm9SYWRpdXMpID4gNTtcbiAgICBpZiAobmVlZHNTZW5kKSB7XG4gICAgICBzZW5kTWlzc2lsZUNvbmZpZyhjZmcpO1xuICAgIH1cbiAgICByZW5kZXJNaXNzaWxlUm91dGVDb250cm9scygpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VuZE1pc3NpbGVDb25maWcoY2ZnOiB7IHNwZWVkOiBudW1iZXI7IGFncm9SYWRpdXM6IG51bWJlciB9KTogdm9pZCB7XG4gICAgbGFzdE1pc3NpbGVDb25maWdTZW50ID0ge1xuICAgICAgc3BlZWQ6IGNmZy5zcGVlZCxcbiAgICAgIGFncm9SYWRpdXM6IGNmZy5hZ3JvUmFkaXVzLFxuICAgIH07XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJjb25maWd1cmVfbWlzc2lsZVwiLFxuICAgICAgbWlzc2lsZV9zcGVlZDogY2ZnLnNwZWVkLFxuICAgICAgbWlzc2lsZV9hZ3JvOiBjZmcuYWdyb1JhZGl1cyxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTogdm9pZCB7XG4gICAgaWYgKCFzaGlwUm91dGVzQ29udGFpbmVyIHx8ICFzaGlwUm91dGVMZWcgfHwgIXNoaXBSb3V0ZVNwZWVkIHx8ICFzaGlwRGVsZXRlQnRuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdwcyA9IHN0YXRlLm1lICYmIEFycmF5LmlzQXJyYXkoc3RhdGUubWUud2F5cG9pbnRzKSA/IHN0YXRlLm1lLndheXBvaW50cyA6IFtdO1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGxvZ2ljLmdldFNlbGVjdGlvbigpO1xuICAgIGNvbnN0IGhhc1ZhbGlkU2VsZWN0aW9uID1cbiAgICAgIHNlbGVjdGlvbiAhPT0gbnVsbCAmJiBzZWxlY3Rpb24uaW5kZXggPj0gMCAmJiBzZWxlY3Rpb24uaW5kZXggPCB3cHMubGVuZ3RoO1xuICAgIGNvbnN0IGlzU2hpcENvbnRleHQgPSB1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJzaGlwXCI7XG5cbiAgICBzaGlwUm91dGVzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICBzaGlwUm91dGVzQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBpc1NoaXBDb250ZXh0ID8gXCIxXCIgOiBcIjAuNlwiO1xuXG4gICAgaWYgKCFzdGF0ZS5tZSB8fCAhaGFzVmFsaWRTZWxlY3Rpb24gfHwgIXNlbGVjdGlvbikge1xuICAgICAgc2hpcFJvdXRlTGVnLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIHNoaXBSb3V0ZVNwZWVkLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIHNoaXBEZWxldGVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaWYgKGlzU2hpcENvbnRleHQpIHtcbiAgICAgICAgc2V0U2hpcFNsaWRlclZhbHVlKGxvZ2ljLmdldERlZmF1bHRTaGlwU3BlZWQoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd3AgPSB3cHNbc2VsZWN0aW9uLmluZGV4XTtcbiAgICBjb25zdCBzcGVlZCA9XG4gICAgICB3cCAmJiB0eXBlb2Ygd3Auc3BlZWQgPT09IFwibnVtYmVyXCIgPyB3cC5zcGVlZCA6IGxvZ2ljLmdldERlZmF1bHRTaGlwU3BlZWQoKTtcbiAgICBpZiAoXG4gICAgICBpc1NoaXBDb250ZXh0ICYmXG4gICAgICBzaGlwU3BlZWRTbGlkZXIgJiZcbiAgICAgIE1hdGguYWJzKHBhcnNlRmxvYXQoc2hpcFNwZWVkU2xpZGVyLnZhbHVlKSAtIHNwZWVkKSA+IDAuMjVcbiAgICApIHtcbiAgICAgIHNldFNoaXBTbGlkZXJWYWx1ZShzcGVlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVNwZWVkTGFiZWwoc3BlZWQpO1xuICAgIH1cbiAgICBjb25zdCBkaXNwbGF5SW5kZXggPSBzZWxlY3Rpb24uaW5kZXggKyAxO1xuICAgIHNoaXBSb3V0ZUxlZy50ZXh0Q29udGVudCA9IGAke2Rpc3BsYXlJbmRleH1gO1xuICAgIHNoaXBSb3V0ZVNwZWVkLnRleHRDb250ZW50ID0gYCR7c3BlZWQudG9GaXhlZCgwKX0gdS9zYDtcbiAgICBzaGlwRGVsZXRlQnRuLmRpc2FibGVkID0gIWlzU2hpcENvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk6IHZvaWQge1xuICAgIGNvbnN0IHJvdXRlID0gbG9naWMuZ2V0QWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gICAgY29uc3QgY291bnQgPSByb3V0ZSAmJiBBcnJheS5pc0FycmF5KHJvdXRlLndheXBvaW50cykgPyByb3V0ZS53YXlwb2ludHMubGVuZ3RoIDogMDtcbiAgICBjb25zdCBtaXNzaWxlU2VsID0gbG9naWMuZ2V0TWlzc2lsZVNlbGVjdGlvbigpO1xuICAgIGNvbnN0IGlzV2F5cG9pbnRTZWxlY3Rpb24gPVxuICAgICAgbWlzc2lsZVNlbCAhPT0gbnVsbCAmJlxuICAgICAgbWlzc2lsZVNlbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBtaXNzaWxlU2VsLnR5cGUgPT09IFwid2F5cG9pbnRcIiAmJlxuICAgICAgbWlzc2lsZVNlbC5pbmRleCA+PSAwICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4IDwgY291bnQ7XG4gICAgaWYgKG1pc3NpbGVEZWxldGVCdG4pIHtcbiAgICAgIG1pc3NpbGVEZWxldGVCdG4uZGlzYWJsZWQgPSAhaXNXYXlwb2ludFNlbGVjdGlvbjtcbiAgICB9XG4gICAgdXBkYXRlTWlzc2lsZVNwZWVkQ29udHJvbHMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1pc3NpbGVTcGVlZENvbnRyb2xzKCk6IHZvaWQge1xuICAgIGlmICghbWlzc2lsZVNwZWVkU2xpZGVyIHx8ICFtaXNzaWxlU3BlZWRWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1pblNwZWVkID0gc3RhdGUubWlzc2lsZUxpbWl0cy5zcGVlZE1pbiA/PyBNSVNTSUxFX01JTl9TUEVFRDtcbiAgICBjb25zdCBtYXhTcGVlZCA9IHN0YXRlLm1pc3NpbGVMaW1pdHMuc3BlZWRNYXggPz8gTUlTU0lMRV9NQVhfU1BFRUQ7XG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyLm1pbiA9IFN0cmluZyhtaW5TcGVlZCk7XG4gICAgbWlzc2lsZVNwZWVkU2xpZGVyLm1heCA9IFN0cmluZyhtYXhTcGVlZCk7XG5cbiAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGNvbnN0IG1pc3NpbGVTZWwgPSBsb2dpYy5nZXRNaXNzaWxlU2VsZWN0aW9uKCk7XG4gICAgY29uc3Qgd2F5cG9pbnRzID0gcm91dGUgJiYgQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpID8gcm91dGUud2F5cG9pbnRzIDogbnVsbDtcbiAgICBsZXQgc2VsZWN0ZWRTcGVlZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHNlbGVjdGVkVHlwZTogXCJsZWdcIiB8IFwid2F5cG9pbnRcIiB8IG51bGwgPSBudWxsO1xuXG4gICAgaWYgKFxuICAgICAgd2F5cG9pbnRzICYmXG4gICAgICBtaXNzaWxlU2VsICYmXG4gICAgICBtaXNzaWxlU2VsLmluZGV4ID49IDAgJiZcbiAgICAgIG1pc3NpbGVTZWwuaW5kZXggPCB3YXlwb2ludHMubGVuZ3RoXG4gICAgKSB7XG4gICAgICBjb25zdCB3cCA9IHdheXBvaW50c1ttaXNzaWxlU2VsLmluZGV4XTtcbiAgICAgIGNvbnN0IHZhbHVlID1cbiAgICAgICAgdHlwZW9mIHdwLnNwZWVkID09PSBcIm51bWJlclwiICYmIHdwLnNwZWVkID4gMFxuICAgICAgICAgID8gd3Auc3BlZWRcbiAgICAgICAgICA6IGxvZ2ljLmdldERlZmF1bHRNaXNzaWxlTGVnU3BlZWQoKTtcbiAgICAgIHNlbGVjdGVkU3BlZWQgPSBjbGFtcCh2YWx1ZSwgbWluU3BlZWQsIG1heFNwZWVkKTtcbiAgICAgIHNlbGVjdGVkVHlwZSA9IG1pc3NpbGVTZWwudHlwZTtcbiAgICB9XG5cbiAgICBjb25zdCBzbGlkZXJEaXNhYmxlZCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJ3YXlwb2ludFwiO1xuICAgIGxldCBzbGlkZXJWYWx1ZTogbnVtYmVyO1xuICAgIGlmIChzZWxlY3RlZFNwZWVkICE9PSBudWxsKSB7XG4gICAgICBzbGlkZXJWYWx1ZSA9IHNlbGVjdGVkU3BlZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJhd1ZhbHVlID0gcGFyc2VGbG9hdChtaXNzaWxlU3BlZWRTbGlkZXIudmFsdWUpO1xuICAgICAgY29uc3QgZmFsbGJhY2sgPSBsb2dpYy5nZXREZWZhdWx0TWlzc2lsZUxlZ1NwZWVkKCk7XG4gICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IE51bWJlci5pc0Zpbml0ZShyYXdWYWx1ZSkgPyByYXdWYWx1ZSA6IGZhbGxiYWNrO1xuICAgICAgc2xpZGVyVmFsdWUgPSBjbGFtcCh0YXJnZXRWYWx1ZSwgbWluU3BlZWQsIG1heFNwZWVkKTtcbiAgICB9XG5cbiAgICBtaXNzaWxlU3BlZWRTbGlkZXIuZGlzYWJsZWQgPSBzbGlkZXJEaXNhYmxlZDtcbiAgICBtaXNzaWxlU3BlZWRTbGlkZXIudmFsdWUgPSBzbGlkZXJWYWx1ZS50b0ZpeGVkKDApO1xuICAgIG1pc3NpbGVTcGVlZFZhbHVlLnRleHRDb250ZW50ID0gYCR7c2xpZGVyVmFsdWUudG9GaXhlZCgwKX1gO1xuXG4gICAgaWYgKCFzbGlkZXJEaXNhYmxlZCkge1xuICAgICAgbG9naWMucmVjb3JkTWlzc2lsZUxlZ1NwZWVkKHNsaWRlclZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnB1dENvbnRleHQoY29udGV4dDogXCJzaGlwXCIgfCBcIm1pc3NpbGVcIik6IHZvaWQge1xuICAgIGNvbnN0IG5leHQgPSBjb250ZXh0ID09PSBcIm1pc3NpbGVcIiA/IFwibWlzc2lsZVwiIDogXCJzaGlwXCI7XG4gICAgaWYgKHVpU3RhdGUuaW5wdXRDb250ZXh0ID09PSBuZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVpU3RhdGUuaW5wdXRDb250ZXh0ID0gbmV4dDtcblxuICAgIGlmIChuZXh0ID09PSBcInNoaXBcIikge1xuICAgICAgY29uc3Qgc2hpcFRvb2xUb1VzZSA9IHVpU3RhdGUuc2hpcFRvb2wgPT09IFwic2VsZWN0XCIgPyBcInNoaXAtc2VsZWN0XCIgOiBcInNoaXAtc2V0XCI7XG4gICAgICBpZiAodWlTdGF0ZS5hY3RpdmVUb29sICE9PSBzaGlwVG9vbFRvVXNlKSB7XG4gICAgICAgIHVpU3RhdGUuYWN0aXZlVG9vbCA9IHNoaXBUb29sVG9Vc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1pc3NpbGVUb29sVG9Vc2UgPVxuICAgICAgICB1aVN0YXRlLm1pc3NpbGVUb29sID09PSBcInNlbGVjdFwiID8gXCJtaXNzaWxlLXNlbGVjdFwiIDogXCJtaXNzaWxlLXNldFwiO1xuICAgICAgaWYgKHVpU3RhdGUuYWN0aXZlVG9vbCAhPT0gbWlzc2lsZVRvb2xUb1VzZSkge1xuICAgICAgICB1aVN0YXRlLmFjdGl2ZVRvb2wgPSBtaXNzaWxlVG9vbFRvVXNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJ1cy5lbWl0KFwiY29udGV4dDpjaGFuZ2VkXCIsIHsgY29udGV4dDogbmV4dCB9KTtcbiAgICB1cGRhdGVDb250cm9sSGlnaGxpZ2h0cygpO1xuICAgIHJlZnJlc2hTaGlwU2VsZWN0aW9uVUkoKTtcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBY3RpdmVUb29sKHRvb2w6IEFjdGl2ZVRvb2wpOiB2b2lkIHtcbiAgICBpZiAodWlTdGF0ZS5hY3RpdmVUb29sID09PSB0b29sKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdWlTdGF0ZS5hY3RpdmVUb29sID0gdG9vbDtcblxuICAgIGlmICh0b29sID09PSBcInNoaXAtc2V0XCIpIHtcbiAgICAgIHVpU3RhdGUuc2hpcFRvb2wgPSBcInNldFwiO1xuICAgICAgdWlTdGF0ZS5taXNzaWxlVG9vbCA9IG51bGw7XG4gICAgICBzZXRJbnB1dENvbnRleHQoXCJzaGlwXCIpO1xuICAgICAgYnVzLmVtaXQoXCJzaGlwOnRvb2xDaGFuZ2VkXCIsIHsgdG9vbDogXCJzZXRcIiB9KTtcbiAgICB9IGVsc2UgaWYgKHRvb2wgPT09IFwic2hpcC1zZWxlY3RcIikge1xuICAgICAgdWlTdGF0ZS5zaGlwVG9vbCA9IFwic2VsZWN0XCI7XG4gICAgICB1aVN0YXRlLm1pc3NpbGVUb29sID0gbnVsbDtcbiAgICAgIHNldElucHV0Q29udGV4dChcInNoaXBcIik7XG4gICAgICBidXMuZW1pdChcInNoaXA6dG9vbENoYW5nZWRcIiwgeyB0b29sOiBcInNlbGVjdFwiIH0pO1xuICAgIH0gZWxzZSBpZiAodG9vbCA9PT0gXCJtaXNzaWxlLXNldFwiKSB7XG4gICAgICB1aVN0YXRlLnNoaXBUb29sID0gbnVsbDtcbiAgICAgIHVpU3RhdGUubWlzc2lsZVRvb2wgPSBcInNldFwiO1xuICAgICAgc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgIGxvZ2ljLnNldE1pc3NpbGVTZWxlY3Rpb24obnVsbCk7XG4gICAgICBidXMuZW1pdChcIm1pc3NpbGU6dG9vbENoYW5nZWRcIiwgeyB0b29sOiBcInNldFwiIH0pO1xuICAgIH0gZWxzZSBpZiAodG9vbCA9PT0gXCJtaXNzaWxlLXNlbGVjdFwiKSB7XG4gICAgICB1aVN0YXRlLnNoaXBUb29sID0gbnVsbDtcbiAgICAgIHVpU3RhdGUubWlzc2lsZVRvb2wgPSBcInNlbGVjdFwiO1xuICAgICAgc2V0SW5wdXRDb250ZXh0KFwibWlzc2lsZVwiKTtcbiAgICAgIGJ1cy5lbWl0KFwibWlzc2lsZTp0b29sQ2hhbmdlZFwiLCB7IHRvb2w6IFwic2VsZWN0XCIgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEJ1dHRvblN0YXRlKGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsLCBhY3RpdmU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoIWJ0bikgcmV0dXJuO1xuICAgIGlmIChhY3RpdmUpIHtcbiAgICAgIGJ0bi5kYXRhc2V0LnN0YXRlID0gXCJhY3RpdmVcIjtcbiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwgXCJ0cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgYnRuLmRhdGFzZXQuc3RhdGU7XG4gICAgICBidG4uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwiZmFsc2VcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMoKTogdm9pZCB7XG4gICAgc2V0QnV0dG9uU3RhdGUoc2hpcFNldEJ0biwgdWlTdGF0ZS5hY3RpdmVUb29sID09PSBcInNoaXAtc2V0XCIpO1xuICAgIHNldEJ1dHRvblN0YXRlKHNoaXBTZWxlY3RCdG4sIHVpU3RhdGUuYWN0aXZlVG9vbCA9PT0gXCJzaGlwLXNlbGVjdFwiKTtcbiAgICBzZXRCdXR0b25TdGF0ZShtaXNzaWxlU2V0QnRuLCB1aVN0YXRlLmFjdGl2ZVRvb2wgPT09IFwibWlzc2lsZS1zZXRcIik7XG4gICAgc2V0QnV0dG9uU3RhdGUobWlzc2lsZVNlbGVjdEJ0biwgdWlTdGF0ZS5hY3RpdmVUb29sID09PSBcIm1pc3NpbGUtc2VsZWN0XCIpO1xuXG4gICAgaWYgKHNoaXBDb250cm9sc0NhcmQpIHtcbiAgICAgIHNoaXBDb250cm9sc0NhcmQuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiLCB1aVN0YXRlLmlucHV0Q29udGV4dCA9PT0gXCJzaGlwXCIpO1xuICAgIH1cbiAgICBpZiAobWlzc2lsZUNvbnRyb2xzQ2FyZCkge1xuICAgICAgbWlzc2lsZUNvbnRyb2xzQ2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIsIHVpU3RhdGUuaW5wdXRDb250ZXh0ID09PSBcIm1pc3NpbGVcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SGVscFZpc2libGUoZmxhZzogYm9vbGVhbik6IHZvaWQge1xuICAgIHVpU3RhdGUuaGVscFZpc2libGUgPSBmbGFnO1xuICAgIHVwZGF0ZUhlbHBPdmVybGF5KCk7XG4gICAgYnVzLmVtaXQoXCJoZWxwOnZpc2libGVDaGFuZ2VkXCIsIHsgdmlzaWJsZTogdWlTdGF0ZS5oZWxwVmlzaWJsZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlbHBPdmVybGF5KCk6IHZvaWQge1xuICAgIGlmICghaGVscE92ZXJsYXkgfHwgIWhlbHBUZXh0KSByZXR1cm47XG4gICAgaGVscE92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZShcInZpc2libGVcIiwgdWlTdGF0ZS5oZWxwVmlzaWJsZSk7XG4gICAgaGVscFRleHQudGV4dENvbnRlbnQgPSBIRUxQX1RFWFQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTogdm9pZCB7XG4gICAgaWYgKCFtaXNzaWxlTGF1bmNoQnRuIHx8ICFtaXNzaWxlTGF1bmNoVGV4dCB8fCAhbWlzc2lsZUxhdW5jaEluZm8pIHJldHVybjtcbiAgICBjb25zdCByb3V0ZSA9IGxvZ2ljLmdldEFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgIGNvbnN0IGNvdW50ID0gcm91dGUgJiYgQXJyYXkuaXNBcnJheShyb3V0ZS53YXlwb2ludHMpID8gcm91dGUud2F5cG9pbnRzLmxlbmd0aCA6IDA7XG4gICAgY29uc3QgcmVtYWluaW5nID0gbG9naWMuZ2V0TWlzc2lsZUNvb2xkb3duUmVtYWluaW5nKCk7XG4gICAgY29uc3QgY29vbGluZ0Rvd24gPSByZW1haW5pbmcgPiAwLjA1O1xuICAgIGNvbnN0IHNob3VsZERpc2FibGUgPSAhcm91dGUgfHwgY291bnQgPT09IDAgfHwgY29vbGluZ0Rvd247XG4gICAgbWlzc2lsZUxhdW5jaEJ0bi5kaXNhYmxlZCA9IHNob3VsZERpc2FibGU7XG5cbiAgICBjb25zdCBsYXVuY2hUZXh0SFRNTCA9XG4gICAgICAnPHNwYW4gY2xhc3M9XCJidG4tdGV4dC1mdWxsXCI+TGF1bmNoPC9zcGFuPjxzcGFuIGNsYXNzPVwiYnRuLXRleHQtc2hvcnRcIj5GaXJlPC9zcGFuPic7XG4gICAgbGV0IGxhdW5jaEluZm9IVE1MID0gXCJcIjtcblxuICAgIGlmICghcm91dGUpIHtcbiAgICAgIGxhdW5jaEluZm9IVE1MID0gXCJcIjtcbiAgICB9IGVsc2UgaWYgKGNvb2xpbmdEb3duKSB7XG4gICAgICBsYXVuY2hJbmZvSFRNTCA9IGAke3JlbWFpbmluZy50b0ZpeGVkKDEpfXNgO1xuICAgIH0gZWxzZSBpZiAocm91dGUubmFtZSkge1xuICAgICAgY29uc3Qgcm91dGVzID0gQXJyYXkuaXNBcnJheShzdGF0ZS5taXNzaWxlUm91dGVzKSA/IHN0YXRlLm1pc3NpbGVSb3V0ZXMgOiBbXTtcbiAgICAgIGNvbnN0IHJvdXRlSW5kZXggPSByb3V0ZXMuZmluZEluZGV4KChyKSA9PiByLmlkID09PSByb3V0ZS5pZCkgKyAxO1xuICAgICAgbGF1bmNoSW5mb0hUTUwgPSBgPHNwYW4gY2xhc3M9XCJidG4tdGV4dC1mdWxsXCI+JHtyb3V0ZS5uYW1lfTwvc3Bhbj48c3BhbiBjbGFzcz1cImJ0bi10ZXh0LXNob3J0XCI+JHtyb3V0ZUluZGV4fTwvc3Bhbj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXVuY2hJbmZvSFRNTCA9IFwiXCI7XG4gICAgfVxuXG4gICAgaWYgKGxhc3RNaXNzaWxlTGF1bmNoVGV4dEhUTUwgIT09IGxhdW5jaFRleHRIVE1MKSB7XG4gICAgICBtaXNzaWxlTGF1bmNoVGV4dC5pbm5lckhUTUwgPSBsYXVuY2hUZXh0SFRNTDtcbiAgICAgIGxhc3RNaXNzaWxlTGF1bmNoVGV4dEhUTUwgPSBsYXVuY2hUZXh0SFRNTDtcbiAgICB9XG5cbiAgICBpZiAobGFzdE1pc3NpbGVMYXVuY2hJbmZvSFRNTCAhPT0gbGF1bmNoSW5mb0hUTUwpIHtcbiAgICAgIG1pc3NpbGVMYXVuY2hJbmZvLmlubmVySFRNTCA9IGxhdW5jaEluZm9IVE1MO1xuICAgICAgbGFzdE1pc3NpbGVMYXVuY2hJbmZvSFRNTCA9IGxhdW5jaEluZm9IVE1MO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1pc3NpbGVDb3VudERpc3BsYXkoKTogdm9pZCB7XG4gICAgaWYgKCFtaXNzaWxlQ291bnRTcGFuKSByZXR1cm47XG5cbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGlmIChzdGF0ZS5pbnZlbnRvcnkgJiYgc3RhdGUuaW52ZW50b3J5Lml0ZW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RhdGUuaW52ZW50b3J5Lml0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwibWlzc2lsZVwiKSB7XG4gICAgICAgICAgY291bnQgKz0gaXRlbS5xdWFudGl0eTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG1pc3NpbGVDb3VudFNwYW4udGV4dENvbnRlbnQgPSBjb3VudC50b1N0cmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ3JhZnRUaW1lcigpOiB2b2lkIHtcbiAgICBpZiAoIW1pc3NpbGVDcmFmdFRpbWVyRGl2IHx8ICFjcmFmdFRpbWVSZW1haW5pbmdTcGFuKSByZXR1cm47XG5cbiAgICAvLyBMb29rIGZvciBhbnkgY3JhZnQgbm9kZSB0aGF0J3MgaW4gcHJvZ3Jlc3NcbiAgICBsZXQgY3JhZnRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IHJlbWFpbmluZ1RpbWUgPSAwO1xuXG4gICAgaWYgKHN0YXRlLmRhZyAmJiBzdGF0ZS5kYWcubm9kZXMpIHtcbiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBzdGF0ZS5kYWcubm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUua2luZCA9PT0gXCJjcmFmdFwiICYmIG5vZGUuc3RhdHVzID09PSBcImluX3Byb2dyZXNzXCIpIHtcbiAgICAgICAgICBjcmFmdEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgIHJlbWFpbmluZ1RpbWUgPSBub2RlLnJlbWFpbmluZ19zO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNyYWZ0SW5Qcm9ncmVzcyAmJiByZW1haW5pbmdUaW1lID4gMCkge1xuICAgICAgbWlzc2lsZUNyYWZ0VGltZXJEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGNyYWZ0VGltZVJlbWFpbmluZ1NwYW4udGV4dENvbnRlbnQgPSBNYXRoLmNlaWwocmVtYWluaW5nVGltZSkudG9TdHJpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWlzc2lsZUNyYWZ0VGltZXJEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YXR1c0luZGljYXRvcnMoKTogdm9pZCB7XG4gICAgY29uc3QgbWV0YSA9IHN0YXRlLndvcmxkTWV0YSA/PyB7fTtcbiAgICBjYW1lcmEudXBkYXRlV29ybGRGcm9tTWV0YShtZXRhKTtcblxuICAgIC8vIFVwZGF0ZSBzaGlwIHNwZWVkIHNsaWRlciBtYXggYmFzZWQgb24gY29tcGxldGVkIHVwZ3JhZGVzIChjbGllbnQtc2lkZSBpbmZlcmVuY2UpXG4gICAgaWYgKHNoaXBTcGVlZFNsaWRlciAmJiBiYXNlU2hpcFNwZWVkTWF4KSB7XG4gICAgICBsZXQgbXVsdGlwbGllciA9IDEuMDtcbiAgICAgIGNvbnN0IGRhZyA9IHN0YXRlLmRhZztcbiAgICAgIGlmIChkYWcgJiYgQXJyYXkuaXNBcnJheShkYWcubm9kZXMpKSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBkYWcubm9kZXMpIHtcbiAgICAgICAgICBpZiAobiAmJiBuLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIiAmJiB0eXBlb2Ygbi5pZCA9PT0gXCJzdHJpbmdcIiAmJiBuLmlkLnN0YXJ0c1dpdGgoXCJ1cGdyYWRlLnNoaXAuc3BlZWRfXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBlZmYgPSBBcnJheS5pc0FycmF5KG4uZWZmZWN0cykgPyBuLmVmZmVjdHMgOiBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBlZmYpIHtcbiAgICAgICAgICAgICAgaWYgKGUgJiYgZS50eXBlID09PSBcInNwZWVkX211bHRpcGxpZXJcIiAmJiB0eXBlb2YgZS52YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGlmIChlLnZhbHVlID4gbXVsdGlwbGllcikgbXVsdGlwbGllciA9IGUudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGludGVuZGVkTWF4ID0gKGJhc2VTaGlwU3BlZWRNYXggKiBtdWx0aXBsaWVyKS50b0ZpeGVkKDApO1xuICAgICAgaWYgKHNoaXBTcGVlZFNsaWRlci5tYXggIT09IGludGVuZGVkTWF4KSB7XG4gICAgICAgIHNoaXBTcGVlZFNsaWRlci5tYXggPSBpbnRlbmRlZE1heDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoSFBzcGFuKSB7XG4gICAgICBpZiAoc3RhdGUubWUgJiYgTnVtYmVyLmlzRmluaXRlKHN0YXRlLm1lLmhwKSkge1xuICAgICAgICBIUHNwYW4udGV4dENvbnRlbnQgPSBOdW1iZXIoc3RhdGUubWUuaHApLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBIUHNwYW4udGV4dENvbnRlbnQgPSBcIlx1MjAxM1wiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2lsbHNTcGFuKSB7XG4gICAgICBpZiAoc3RhdGUubWUgJiYgTnVtYmVyLmlzRmluaXRlKHN0YXRlLm1lLmtpbGxzKSkge1xuICAgICAgICBraWxsc1NwYW4udGV4dENvbnRlbnQgPSBOdW1iZXIoc3RhdGUubWUua2lsbHMpLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBraWxsc1NwYW4udGV4dENvbnRlbnQgPSBcIjBcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIZWF0QmFyKCk7XG4gICAgdXBkYXRlUGxhbm5lZEhlYXRCYXIoKTtcbiAgICB1cGRhdGVTcGVlZE1hcmtlcigpO1xuICAgIHVwZGF0ZVN0YWxsT3ZlcmxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSGVhdEJhcigpOiB2b2lkIHtcbiAgICBjb25zdCBoZWF0ID0gc3RhdGUubWU/LmhlYXQ7XG4gICAgaWYgKCFoZWF0IHx8ICFoZWF0QmFyRmlsbCB8fCAhaGVhdFZhbHVlVGV4dCkge1xuICAgICAgaGVhdFdhcm5BY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwZXJjZW50ID0gKGhlYXQudmFsdWUgLyBoZWF0Lm1heCkgKiAxMDA7XG4gICAgaGVhdEJhckZpbGwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuXG4gICAgaGVhdFZhbHVlVGV4dC50ZXh0Q29udGVudCA9IGBIZWF0ICR7TWF0aC5yb3VuZChoZWF0LnZhbHVlKX1gO1xuXG4gICAgaGVhdEJhckZpbGwuY2xhc3NMaXN0LnJlbW92ZShcIndhcm5cIiwgXCJvdmVyaGVhdFwiKTtcbiAgICBpZiAoaGVhdC52YWx1ZSA+PSBoZWF0Lm92ZXJoZWF0QXQpIHtcbiAgICAgIGhlYXRCYXJGaWxsLmNsYXNzTGlzdC5hZGQoXCJvdmVyaGVhdFwiKTtcbiAgICB9IGVsc2UgaWYgKGhlYXQudmFsdWUgPj0gaGVhdC53YXJuQXQpIHtcbiAgICAgIGhlYXRCYXJGaWxsLmNsYXNzTGlzdC5hZGQoXCJ3YXJuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IG5vd1dhcm4gPSBoZWF0LnZhbHVlID49IGhlYXQud2FybkF0O1xuICAgIGlmIChub3dXYXJuICYmICFoZWF0V2FybkFjdGl2ZSkge1xuICAgICAgaGVhdFdhcm5BY3RpdmUgPSB0cnVlO1xuICAgICAgYnVzLmVtaXQoXCJoZWF0Ondhcm5FbnRlcmVkXCIsIHsgdmFsdWU6IGhlYXQudmFsdWUsIHdhcm5BdDogaGVhdC53YXJuQXQgfSk7XG4gICAgfSBlbHNlIGlmICghbm93V2FybiAmJiBoZWF0V2FybkFjdGl2ZSkge1xuICAgICAgY29uc3QgY29vbFRocmVzaG9sZCA9IE1hdGgubWF4KDAsIGhlYXQud2FybkF0IC0gNSk7XG4gICAgICBpZiAoaGVhdC52YWx1ZSA8PSBjb29sVGhyZXNob2xkKSB7XG4gICAgICAgIGhlYXRXYXJuQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGJ1cy5lbWl0KFwiaGVhdDpjb29sZWRCZWxvd1dhcm5cIiwgeyB2YWx1ZTogaGVhdC52YWx1ZSwgd2FybkF0OiBoZWF0Lndhcm5BdCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9qZWN0UGxhbm5lZEhlYXQoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3Qgc2hpcCA9IHN0YXRlLm1lO1xuICAgIGlmICghc2hpcCB8fCAhQXJyYXkuaXNBcnJheShzaGlwLndheXBvaW50cykgfHwgc2hpcC53YXlwb2ludHMubGVuZ3RoID09PSAwIHx8ICFzaGlwLmhlYXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRJbmRleFJhdyA9IHNoaXAuY3VycmVudFdheXBvaW50SW5kZXg7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID1cbiAgICAgIHR5cGVvZiBjdXJyZW50SW5kZXhSYXcgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGN1cnJlbnRJbmRleFJhdykgPyBjdXJyZW50SW5kZXhSYXcgOiAwO1xuICAgIGNvbnN0IGNsYW1wZWRJbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGN1cnJlbnRJbmRleCwgc2hpcC53YXlwb2ludHMubGVuZ3RoKSk7XG4gICAgY29uc3QgcmVtYWluaW5nV2F5cG9pbnRzID1cbiAgICAgIGNsYW1wZWRJbmRleCA+IDAgPyBzaGlwLndheXBvaW50cy5zbGljZShjbGFtcGVkSW5kZXgpIDogc2hpcC53YXlwb2ludHMuc2xpY2UoKTtcblxuICAgIGlmIChyZW1haW5pbmdXYXlwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCByb3V0ZSA9IFt7IHg6IHNoaXAueCwgeTogc2hpcC55LCBzcGVlZDogdW5kZWZpbmVkIH0sIC4uLnJlbWFpbmluZ1dheXBvaW50c107XG5cbiAgICBjb25zdCBoZWF0UGFyYW1zID0ge1xuICAgICAgbWFya2VyU3BlZWQ6IHNoaXAuaGVhdC5tYXJrZXJTcGVlZCxcbiAgICAgIGtVcDogc2hpcC5oZWF0LmtVcCxcbiAgICAgIGtEb3duOiBzaGlwLmhlYXQua0Rvd24sXG4gICAgICBleHA6IHNoaXAuaGVhdC5leHAsXG4gICAgICBtYXg6IHNoaXAuaGVhdC5tYXgsXG4gICAgICBvdmVyaGVhdEF0OiBzaGlwLmhlYXQub3ZlcmhlYXRBdCxcbiAgICAgIHdhcm5BdDogc2hpcC5oZWF0Lndhcm5BdCxcbiAgICB9O1xuXG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHByb2plY3RSb3V0ZUhlYXQocm91dGUsIHNoaXAuaGVhdC52YWx1ZSwgaGVhdFBhcmFtcyk7XG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLnByb2plY3Rpb24uaGVhdEF0V2F5cG9pbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVBsYW5uZWRIZWF0QmFyKCk6IHZvaWQge1xuICAgIGlmICghaGVhdEJhclBsYW5uZWQpIHJldHVybjtcbiAgICBjb25zdCByZXNldFBsYW5uZWRCYXIgPSAoKSA9PiB7XG4gICAgICBpZiAoaGVhdEJhclBsYW5uZWQpIHtcbiAgICAgICAgaGVhdEJhclBsYW5uZWQuc3R5bGUud2lkdGggPSBcIjAlXCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNoaXAgPSBzdGF0ZS5tZTtcbiAgICBpZiAoIXNoaXAgfHwgIXNoaXAuaGVhdCkge1xuICAgICAgcmVzZXRQbGFubmVkQmFyKCk7XG4gICAgICBkdWFsTWV0ZXJBbGVydCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBsYW5uZWQgPSBwcm9qZWN0UGxhbm5lZEhlYXQoKTtcbiAgICBpZiAocGxhbm5lZCA9PT0gbnVsbCkge1xuICAgICAgcmVzZXRQbGFubmVkQmFyKCk7XG4gICAgICBkdWFsTWV0ZXJBbGVydCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdHVhbCA9IHNoaXAuaGVhdC52YWx1ZTtcbiAgICBjb25zdCBwZXJjZW50ID0gKHBsYW5uZWQgLyBzaGlwLmhlYXQubWF4KSAqIDEwMDtcbiAgICBoZWF0QmFyUGxhbm5lZC5zdHlsZS53aWR0aCA9IGAke01hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcGVyY2VudCkpfSVgO1xuXG4gICAgY29uc3QgZGlmZiA9IHBsYW5uZWQgLSBhY3R1YWw7XG4gICAgY29uc3QgdGhyZXNob2xkID0gTWF0aC5tYXgoOCwgc2hpcC5oZWF0Lndhcm5BdCAqIDAuMSk7XG4gICAgaWYgKGRpZmYgPj0gdGhyZXNob2xkICYmICFkdWFsTWV0ZXJBbGVydCkge1xuICAgICAgZHVhbE1ldGVyQWxlcnQgPSB0cnVlO1xuICAgICAgYnVzLmVtaXQoXCJoZWF0OmR1YWxNZXRlckRpdmVyZ2VkXCIsIHsgcGxhbm5lZCwgYWN0dWFsIH0pO1xuICAgIH0gZWxzZSBpZiAoZGlmZiA8IHRocmVzaG9sZCAqIDAuNiAmJiBkdWFsTWV0ZXJBbGVydCkge1xuICAgICAgZHVhbE1ldGVyQWxlcnQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTcGVlZE1hcmtlcigpOiB2b2lkIHtcbiAgICBjb25zdCBzaGlwSGVhdCA9IHN0YXRlLm1lPy5oZWF0O1xuICAgIGlmIChzcGVlZE1hcmtlciAmJiBzaGlwU3BlZWRTbGlkZXIgJiYgc2hpcEhlYXQgJiYgc2hpcEhlYXQubWFya2VyU3BlZWQgPiAwKSB7XG4gICAgICBjb25zdCBtaW4gPSBwYXJzZUZsb2F0KHNoaXBTcGVlZFNsaWRlci5taW4pO1xuICAgICAgY29uc3QgbWF4ID0gcGFyc2VGbG9hdChzaGlwU3BlZWRTbGlkZXIubWF4KTtcbiAgICAgIGNvbnN0IG1hcmtlclNwZWVkID0gc2hpcEhlYXQubWFya2VyU3BlZWQ7XG4gICAgICBjb25zdCBwZXJjZW50ID0gKChtYXJrZXJTcGVlZCAtIG1pbikgLyAobWF4IC0gbWluKSkgKiAxMDA7XG4gICAgICBjb25zdCBjbGFtcGVkID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBwZXJjZW50KSk7XG4gICAgICBzcGVlZE1hcmtlci5zdHlsZS5sZWZ0ID0gYCR7Y2xhbXBlZH0lYDtcbiAgICAgIHNwZWVkTWFya2VyLnRpdGxlID0gYEhlYXQgbmV1dHJhbDogJHtNYXRoLnJvdW5kKG1hcmtlclNwZWVkKX0gdW5pdHMvc2A7XG4gICAgICBzcGVlZE1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSBpZiAoc3BlZWRNYXJrZXIpIHtcbiAgICAgIHNwZWVkTWFya2VyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBpZiAobWlzc2lsZVNwZWVkTWFya2VyICYmIG1pc3NpbGVTcGVlZFNsaWRlcikge1xuICAgICAgY29uc3QgaGVhdFBhcmFtcyA9IHN0YXRlLm1pc3NpbGVDb25maWcuaGVhdFBhcmFtcztcbiAgICAgIGNvbnN0IG1hcmtlclNwZWVkID1cbiAgICAgICAgKGhlYXRQYXJhbXMgJiYgTnVtYmVyLmlzRmluaXRlKGhlYXRQYXJhbXMubWFya2VyU3BlZWQpID8gaGVhdFBhcmFtcy5tYXJrZXJTcGVlZCA6IHVuZGVmaW5lZCkgPz9cbiAgICAgICAgKHNoaXBIZWF0ICYmIHNoaXBIZWF0Lm1hcmtlclNwZWVkID4gMCA/IHNoaXBIZWF0Lm1hcmtlclNwZWVkIDogdW5kZWZpbmVkKTtcblxuICAgICAgaWYgKG1hcmtlclNwZWVkICE9PSB1bmRlZmluZWQgJiYgbWFya2VyU3BlZWQgPiAwKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHBhcnNlRmxvYXQobWlzc2lsZVNwZWVkU2xpZGVyLm1pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHBhcnNlRmxvYXQobWlzc2lsZVNwZWVkU2xpZGVyLm1heCk7XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSAoKG1hcmtlclNwZWVkIC0gbWluKSAvIChtYXggLSBtaW4pKSAqIDEwMDtcbiAgICAgICAgY29uc3QgY2xhbXBlZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcGVyY2VudCkpO1xuICAgICAgICBtaXNzaWxlU3BlZWRNYXJrZXIuc3R5bGUubGVmdCA9IGAke2NsYW1wZWR9JWA7XG4gICAgICAgIG1pc3NpbGVTcGVlZE1hcmtlci50aXRsZSA9IGBIZWF0IG5ldXRyYWw6ICR7TWF0aC5yb3VuZChtYXJrZXJTcGVlZCl9IHVuaXRzL3NgO1xuICAgICAgICBtaXNzaWxlU3BlZWRNYXJrZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3NpbGVTcGVlZE1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU3RhbGxPdmVybGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IGhlYXQgPSBzdGF0ZS5tZT8uaGVhdDtcbiAgICBpZiAoIWhlYXQgfHwgIXN0YWxsT3ZlcmxheSkge1xuICAgICAgc3RhbGxBY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPVxuICAgICAgdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIDogRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IGlzU3RhbGxlZCA9IG5vdyA8IGhlYXQuc3RhbGxVbnRpbE1zO1xuXG4gICAgaWYgKGlzU3RhbGxlZCkge1xuICAgICAgc3RhbGxPdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgICAgaWYgKCFzdGFsbEFjdGl2ZSkge1xuICAgICAgICBzdGFsbEFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGJ1cy5lbWl0KFwiaGVhdDpzdGFsbFRyaWdnZXJlZFwiLCB7IHN0YWxsVW50aWw6IGhlYXQuc3RhbGxVbnRpbE1zIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGFsbE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gICAgICBpZiAoc3RhbGxBY3RpdmUpIHtcbiAgICAgICAgc3RhbGxBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgYnVzLmVtaXQoXCJoZWF0OnN0YWxsUmVjb3ZlcmVkXCIsIHsgdmFsdWU6IGhlYXQudmFsdWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjYWNoZURvbSxcbiAgICBiaW5kVUksXG4gICAgc2V0QWN0aXZlVG9vbCxcbiAgICBzZXRJbnB1dENvbnRleHQsXG4gICAgdXBkYXRlQ29udHJvbEhpZ2hsaWdodHMsXG4gICAgcmVmcmVzaFNoaXBTZWxlY3Rpb25VSSxcbiAgICByZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJLFxuICAgIHJlbmRlck1pc3NpbGVSb3V0ZUNvbnRyb2xzLFxuICAgIHN5bmNNaXNzaWxlVUlGcm9tU3RhdGUsXG4gICAgdXBkYXRlSGVscE92ZXJsYXksXG4gICAgc2V0SGVscFZpc2libGUsXG4gICAgdXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlLFxuICAgIHVwZGF0ZU1pc3NpbGVDb3VudERpc3BsYXksXG4gICAgdXBkYXRlQ3JhZnRUaW1lcixcbiAgICB1cGRhdGVTdGF0dXNJbmRpY2F0b3JzLFxuICAgIHVwZGF0ZVBsYW5uZWRIZWF0QmFyLFxuICAgIHVwZGF0ZVNwZWVkTWFya2VyLFxuICAgIHVwZGF0ZUhlYXRCYXIsXG4gICAgcHJvamVjdFBsYW5uZWRIZWF0LFxuICAgIGdldENhbnZhcyxcbiAgICBnZXRDb250ZXh0LFxuICAgIGFkanVzdFNoaXBTcGVlZCxcbiAgICBhZGp1c3RNaXNzaWxlQWdybyxcbiAgICBhZGp1c3RNaXNzaWxlU3BlZWQsXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIE1pc3Npb25PYmplY3RpdmVTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgZ2V0QXBwcm94U2VydmVyTm93IH0gZnJvbSBcIi4uL25ldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1pc3Npb25IdWQge1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNaXNzaW9uSHVkT3B0aW9ucyB7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50TWlzc2lvbkh1ZCh7IHN0YXRlLCBidXMgfTogTWlzc2lvbkh1ZE9wdGlvbnMpOiBNaXNzaW9uSHVkIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaW9uLWh1ZFwiKTtcblxuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybiB7IGRlc3Ryb3koKSB7fSB9O1xuICB9XG4gIGNvbnN0IGh1ZENvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICBmdW5jdGlvbiByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgbWlzc2lvbiA9IHN0YXRlLm1pc3Npb247XG4gICAgaWYgKCFtaXNzaW9uKSB7XG4gICAgICBodWRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgIGh1ZENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaW5zaWRlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc09iamVjdGl2ZXMgPSBtaXNzaW9uLm9iamVjdGl2ZXMubGVuZ3RoID4gMCB8fCBtaXNzaW9uLm9iamVjdGl2ZVN1bW1hcmllcy5sZW5ndGggPiAwO1xuICAgIGlmICghaGFzT2JqZWN0aXZlcyAmJiAhbWlzc2lvbi5kaXNwbGF5TmFtZSkge1xuICAgICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICBodWRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImluc2lkZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvYmplY3RpdmVzOiBNaXNzaW9uT2JqZWN0aXZlU3RhdGVbXSA9IG1pc3Npb24ub2JqZWN0aXZlcy5sZW5ndGggPiAwXG4gICAgICA/IG1pc3Npb24ub2JqZWN0aXZlc1xuICAgICAgOiBtaXNzaW9uLm9iamVjdGl2ZVN1bW1hcmllcy5tYXAoKGRlc2NyaXB0aW9uLCBpbmRleCkgPT4gKHtcbiAgICAgICAgaWQ6IGBzdW1tYXJ5LSR7aW5kZXh9YCxcbiAgICAgICAgdHlwZTogXCJzdW1tYXJ5XCIsXG4gICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgfSkpO1xuXG4gICAgY29uc3QgYWdncmVnYXRlUHJvZ3Jlc3MgPSBtaXNzaW9uLnByb2dyZXNzICYmIE51bWJlci5pc0Zpbml0ZShtaXNzaW9uLnByb2dyZXNzKVxuICAgICAgPyBtaXNzaW9uLnByb2dyZXNzXG4gICAgICA6IG9iamVjdGl2ZXMubGVuZ3RoID4gMFxuICAgICAgICA/IG9iamVjdGl2ZXMucmVkdWNlKChzdW0sIG9iaikgPT4gc3VtICsgb2JqLnByb2dyZXNzLCAwKSAvIG9iamVjdGl2ZXMubGVuZ3RoXG4gICAgICAgIDogMDtcblxuICAgIGNvbnN0IHN0YXR1c0xhYmVsID0gKCgpID0+IHtcbiAgICAgIHN3aXRjaCAobWlzc2lvbi5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcImNvbXBsZXRlZFwiOlxuICAgICAgICAgIHJldHVybiBcIkNvbXBsZXRlZFwiO1xuICAgICAgICBjYXNlIFwiZmFpbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIFwiRmFpbGVkXCI7XG4gICAgICAgIGNhc2UgXCJhY3RpdmVcIjpcbiAgICAgICAgICByZXR1cm4gXCJBY3RpdmVcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gXCJSZWFkeVwiO1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICBjb25zdCBhcmNoZXR5cGVMYWJlbCA9IG1pc3Npb24uYXJjaGV0eXBlID8gbWlzc2lvbi5hcmNoZXR5cGUudG9VcHBlckNhc2UoKSA6IFwiXCI7XG4gICAgY29uc3Qgbm93ID0gZ2V0QXBwcm94U2VydmVyTm93KHN0YXRlKTtcbiAgICBsZXQgdGltZXJNYXJrdXAgPSBcIlwiO1xuICAgIGlmIChtaXNzaW9uLnRpbWVvdXQgJiYgbWlzc2lvbi50aW1lb3V0ID4gMCAmJiBtaXNzaW9uLnN0YXJ0VGltZSkge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IE1hdGgubWF4KDAsIG5vdyAtIG1pc3Npb24uc3RhcnRUaW1lKTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIG1pc3Npb24udGltZW91dCAtIGVsYXBzZWQpO1xuICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IocmVtYWluaW5nIC8gNjApO1xuICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IocmVtYWluaW5nICUgNjApO1xuICAgICAgY29uc3Qgd2FybmluZ0NsYXNzID0gcmVtYWluaW5nIDwgMzAgPyBcIndhcm5pbmdcIiA6IFwiXCI7XG4gICAgICB0aW1lck1hcmt1cCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1pc3Npb24tdGltZXIgJHt3YXJuaW5nQ2xhc3N9XCI+XG4gICAgICAgICAgVGltZSBSZW1haW5pbmc6ICR7bWludXRlc306JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgY29uc3Qgb2JqZWN0aXZlSXRlbXMgPSBvYmplY3RpdmVzLm1hcCgob2JqKSA9PiB7XG4gICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZChvYmoucHJvZ3Jlc3MgKiAxMDApO1xuICAgICAgY29uc3QgY29tcGxldGUgPSBvYmouY29tcGxldGUgfHwgcGVyY2VudCA+PSAxMDA7XG4gICAgICByZXR1cm4gYFxuICAgICAgICA8bGkgY2xhc3M9XCJtaXNzaW9uLW9iamVjdGl2ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLW9iamVjdGl2ZS1sYWJlbFwiPlxuICAgICAgICAgICAgPHNwYW4+JHtvYmouZGVzY3JpcHRpb259PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtaXNzaW9uLW9iamVjdGl2ZS1wcm9ncmVzc1wiPiR7cGVyY2VudH0lPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLW9iamVjdGl2ZS1iYXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLW9iamVjdGl2ZS1maWxsICR7Y29tcGxldGUgPyBcImNvbXBsZXRlXCIgOiBcIlwifVwiIHN0eWxlPVwid2lkdGg6ICR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwZXJjZW50KSl9JVwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgYDtcbiAgICB9KS5qb2luKFwiXCIpO1xuXG4gICAgbGV0IHBsYXllclN0YXR1cyA9IFwiXCI7XG4gICAgaWYgKG1pc3Npb24ucGxheWVyKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSBtaXNzaW9uLnBsYXllcjtcbiAgICAgIGNvbnN0IHRvdGFsID0gbWlzc2lvbi5iZWFjb25zLmxlbmd0aDtcbiAgICAgIGNvbnN0IGNvbXBsZXRlZENvdW50ID0gbWlzc2lvbi5iZWFjb25zLmZpbHRlcigoYikgPT4gYi5jb21wbGV0ZWQpLmxlbmd0aDtcbiAgICAgIGNvbnN0IGFjdGl2ZUJlYWNvbiA9IHBsYXllci5hY3RpdmVCZWFjb25JZFxuICAgICAgICA/IG1pc3Npb24uYmVhY29ucy5maW5kKChiKSA9PiBiLmlkID09PSBwbGF5ZXIuYWN0aXZlQmVhY29uSWQpXG4gICAgICAgIDogbWlzc2lvbi5iZWFjb25zLmZpbmQoKGIpID0+ICFiLmNvbXBsZXRlZCk7XG4gICAgICBjb25zdCBkaXNwbGF5SW5kZXggPSBhY3RpdmVCZWFjb25cbiAgICAgICAgPyBNYXRoLm1pbihhY3RpdmVCZWFjb24ub3JkaW5hbCArIDEsIHRvdGFsKVxuICAgICAgICA6IE1hdGgubWluKGNvbXBsZXRlZENvdW50LCB0b3RhbCk7XG4gICAgICBjb25zdCBob2xkUmVxdWlyZWQgPSBwbGF5ZXIuaG9sZFJlcXVpcmVkIHx8IDA7XG4gICAgICBjb25zdCBob2xkU2Vjb25kcyA9IE1hdGgubWF4KDAsIHBsYXllci5kaXNwbGF5SG9sZCA/PyBwbGF5ZXIuaG9sZEFjY3VtKTtcbiAgICAgIHBsYXllclN0YXR1cyA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1pc3Npb24tcGxheWVyLXN0YXR1c1wiPlxuICAgICAgICAgIDxkaXY+QmVhY29uICR7dG90YWwgPiAwID8gYCR7ZGlzcGxheUluZGV4fS8ke3RvdGFsfWAgOiBcIlx1MjAxM1wifTwvZGl2PlxuICAgICAgICAgIDxkaXY+SG9sZDogJHtob2xkUmVxdWlyZWQgPiAwID8gYCR7aG9sZFNlY29uZHMudG9GaXhlZCgxKX1zIC8gJHtob2xkUmVxdWlyZWQudG9GaXhlZCgxKX1zYCA6IGAke2hvbGRTZWNvbmRzLnRvRml4ZWQoMSl9c2B9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgaWYgKHBsYXllci5pbnNpZGVBY3RpdmVCZWFjb24pIHtcbiAgICAgICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnNpZGVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBodWRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImluc2lkZVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnNpZGVcIik7XG4gICAgfVxuXG4gICAgaHVkQ29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtaXNzaW9uLWhlYWRlclwiPlxuICAgICAgICA8aDM+JHttaXNzaW9uLmRpc3BsYXlOYW1lIHx8IFwiTWlzc2lvblwifTwvaDM+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibWlzc2lvbi1zdGF0dXNcIj4ke3N0YXR1c0xhYmVsfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgJHthcmNoZXR5cGVMYWJlbCA/IGA8ZGl2IGNsYXNzPVwibWlzc2lvbi1hcmNoZXR5cGVcIj4ke2FyY2hldHlwZUxhYmVsfTwvZGl2PmAgOiBcIlwifVxuICAgICAgPGRpdiBjbGFzcz1cIm1pc3Npb24tcHJvZ3Jlc3NcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1pc3Npb24tcHJvZ3Jlc3MtdHJhY2tcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWlzc2lvbi1wcm9ncmVzcy1maWxsXCIgc3R5bGU9XCJ3aWR0aDogJHtNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIGFnZ3JlZ2F0ZVByb2dyZXNzICogMTAwKSl9JVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJtaXNzaW9uLXByb2dyZXNzLXZhbHVlXCI+JHtNYXRoLnJvdW5kKGFnZ3JlZ2F0ZVByb2dyZXNzICogMTAwKX0lPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICAke3RpbWVyTWFya3VwfVxuICAgICAgJHtvYmplY3RpdmVJdGVtcyA/IGA8dWwgY2xhc3M9XCJtaXNzaW9uLW9iamVjdGl2ZXNcIj4ke29iamVjdGl2ZUl0ZW1zfTwvdWw+YCA6IFwiXCJ9XG4gICAgICAke3BsYXllclN0YXR1c31cbiAgICBgO1xuXG4gICAgaHVkQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gIH1cblxuICByZW5kZXIoKTtcbiAgY29uc3QgdW5zdWJzID0gW1xuICAgIGJ1cy5vbihcInN0YXRlOnVwZGF0ZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246dXBkYXRlXCIsICgpID0+IHJlbmRlcigpKSxcbiAgICBidXMub24oXCJtaXNzaW9uOnN0YXJ0XCIsICgpID0+IHJlbmRlcigpKSxcbiAgICBidXMub24oXCJtaXNzaW9uOm9mZmVyZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246Y29tcGxldGVkXCIsICgpID0+IHJlbmRlcigpKSxcbiAgICBidXMub24oXCJtaXNzaW9uOmZhaWxlZFwiLCAoKSA9PiByZW5kZXIoKSksXG4gICAgYnVzLm9uKFwibWlzc2lvbjpvYmplY3RpdmVzLXVwZGF0ZWRcIiwgKCkgPT4gcmVuZGVyKCkpLFxuICAgIGJ1cy5vbihcIm1pc3Npb246cHJvZ3Jlc3MtY2hhbmdlZFwiLCAoKSA9PiByZW5kZXIoKSksXG4gICAgYnVzLm9uKFwibWlzc2lvbjpiZWFjb24tbG9ja2VkXCIsICgpID0+IHJlbmRlcigpKSxcbiAgXTtcblxuICByZXR1cm4ge1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICBmb3IgKGNvbnN0IHVuc3ViIG9mIHVuc3Vicykge1xuICAgICAgICB1bnN1YigpO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuL2J1c1wiO1xuaW1wb3J0IHsgZ2V0QXBwcm94U2VydmVyTm93LCBzZW5kTWVzc2FnZSB9IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgVUlTdGF0ZSB9IGZyb20gXCIuL3N0YXRlXCI7XG5pbXBvcnQgeyBjcmVhdGVDYW1lcmEgfSBmcm9tIFwiLi9nYW1lL2NhbWVyYVwiO1xuaW1wb3J0IHsgY3JlYXRlSW5wdXQgfSBmcm9tIFwiLi9nYW1lL2lucHV0XCI7XG5pbXBvcnQgeyBjcmVhdGVMb2dpYyB9IGZyb20gXCIuL2dhbWUvbG9naWNcIjtcbmltcG9ydCB7IGNyZWF0ZVJlbmRlcmVyIH0gZnJvbSBcIi4vZ2FtZS9yZW5kZXJcIjtcbmltcG9ydCB7IGNyZWF0ZVVJIH0gZnJvbSBcIi4vZ2FtZS91aVwiO1xuaW1wb3J0IHsgbW91bnRNaXNzaW9uSHVkIH0gZnJvbSBcIi4vbWlzc2lvbi9odWRcIjtcblxuaW50ZXJmYWNlIEluaXRHYW1lT3B0aW9ucyB7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgdWlTdGF0ZTogVUlTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbn1cblxuaW50ZXJmYWNlIEdhbWVDb250cm9sbGVyIHtcbiAgb25TdGF0ZVVwZGF0ZWQoKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRHYW1lKHsgc3RhdGUsIHVpU3RhdGUsIGJ1cyB9OiBJbml0R2FtZU9wdGlvbnMpOiBHYW1lQ29udHJvbGxlciB7XG4gIGNvbnN0IGNhbnZhc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdlwiKSBhcyBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw7XG4gIGlmICghY2FudmFzRWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgZWxlbWVudCAjY3Ygbm90IGZvdW5kXCIpO1xuICB9XG5cbiAgY29uc3QgY2FtZXJhID0gY3JlYXRlQ2FtZXJhKHsgY2FudmFzOiBjYW52YXNFbCwgc3RhdGUsIHVpU3RhdGUgfSk7XG4gIGNvbnN0IGxvZ2ljID0gY3JlYXRlTG9naWMoe1xuICAgIHN0YXRlLFxuICAgIHVpU3RhdGUsXG4gICAgYnVzLFxuICAgIHNlbmRNZXNzYWdlLFxuICAgIGdldEFwcHJveFNlcnZlck5vdyxcbiAgICBjYW1lcmEsXG4gIH0pO1xuICBjb25zdCB1aSA9IGNyZWF0ZVVJKHtcbiAgICBzdGF0ZSxcbiAgICB1aVN0YXRlLFxuICAgIGJ1cyxcbiAgICBsb2dpYyxcbiAgICBjYW1lcmEsXG4gICAgc2VuZE1lc3NhZ2UsXG4gICAgZ2V0QXBwcm94U2VydmVyTm93LFxuICB9KTtcblxuICBjb25zdCB7IGNhbnZhczogY2FjaGVkQ2FudmFzLCBjdHg6IGNhY2hlZEN0eCB9ID0gdWkuY2FjaGVEb20oKTtcbiAgY29uc3QgcmVuZGVyQ2FudmFzID0gY2FjaGVkQ2FudmFzID8/IGNhbnZhc0VsO1xuICBjb25zdCByZW5kZXJDdHggPSBjYWNoZWRDdHggPz8gcmVuZGVyQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgaWYgKCFyZW5kZXJDdHgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gYWNxdWlyZSAyRCByZW5kZXJpbmcgY29udGV4dFwiKTtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIoe1xuICAgIGNhbnZhczogcmVuZGVyQ2FudmFzLFxuICAgIGN0eDogcmVuZGVyQ3R4LFxuICAgIHN0YXRlLFxuICAgIHVpU3RhdGUsXG4gICAgY2FtZXJhLFxuICAgIGxvZ2ljLFxuICB9KTtcblxuICBjb25zdCBpbnB1dCA9IGNyZWF0ZUlucHV0KHtcbiAgICBjYW52YXM6IHJlbmRlckNhbnZhcyxcbiAgICB1aSxcbiAgICBsb2dpYyxcbiAgICBjYW1lcmEsXG4gICAgc3RhdGUsXG4gICAgdWlTdGF0ZSxcbiAgICBidXMsXG4gICAgc2VuZE1lc3NhZ2UsXG4gIH0pO1xuXG4gIHVpLmJpbmRVSSgpO1xuICBpbnB1dC5iaW5kSW5wdXQoKTtcbiAgbG9naWMuZW5zdXJlQWN0aXZlTWlzc2lsZVJvdXRlKCk7XG4gIHVpLnN5bmNNaXNzaWxlVUlGcm9tU3RhdGUoKTtcbiAgdWkudXBkYXRlQ29udHJvbEhpZ2hsaWdodHMoKTtcbiAgdWkucmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpO1xuICB1aS5yZWZyZXNoTWlzc2lsZVNlbGVjdGlvblVJKCk7XG4gIHVpLnVwZGF0ZUhlbHBPdmVybGF5KCk7XG4gIHVpLnVwZGF0ZVN0YXR1c0luZGljYXRvcnMoKTtcbiAgdWkudXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlKCk7XG4gIHVpLnVwZGF0ZU1pc3NpbGVDb3VudERpc3BsYXkoKTtcblxuICBtb3VudE1pc3Npb25IdWQoeyBzdGF0ZSwgYnVzIH0pO1xuXG4gIGxldCBsYXN0TG9vcFRzOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGltZXN0YW1wKSkge1xuICAgICAgdGltZXN0YW1wID0gbGFzdExvb3BUcyA/PyAwO1xuICAgIH1cblxuICAgIGxldCBkdFNlY29uZHMgPSAwO1xuICAgIGlmIChsYXN0TG9vcFRzICE9PSBudWxsKSB7XG4gICAgICBkdFNlY29uZHMgPSAodGltZXN0YW1wIC0gbGFzdExvb3BUcykgLyAxMDAwO1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZHRTZWNvbmRzKSB8fCBkdFNlY29uZHMgPCAwKSB7XG4gICAgICAgIGR0U2Vjb25kcyA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RMb29wVHMgPSB0aW1lc3RhbXA7XG5cbiAgICBsb2dpYy51cGRhdGVSb3V0ZUFuaW1hdGlvbnMoZHRTZWNvbmRzKTtcbiAgICByZW5kZXJlci5kcmF3U2NlbmUoKTtcbiAgICB1aS51cGRhdGVNaXNzaWxlTGF1bmNoQnV0dG9uU3RhdGUoKTtcbiAgICB1aS51cGRhdGVDcmFmdFRpbWVyKCk7XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIH1cblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG5cbiAgcmV0dXJuIHtcbiAgICBvblN0YXRlVXBkYXRlZCgpIHtcbiAgICAgIGxvZ2ljLmVuc3VyZUFjdGl2ZU1pc3NpbGVSb3V0ZSgpO1xuICAgICAgdWkuc3luY01pc3NpbGVVSUZyb21TdGF0ZSgpO1xuICAgICAgdWkucmVmcmVzaFNoaXBTZWxlY3Rpb25VSSgpO1xuICAgICAgdWkucmVmcmVzaE1pc3NpbGVTZWxlY3Rpb25VSSgpO1xuICAgICAgdWkudXBkYXRlTWlzc2lsZUxhdW5jaEJ1dHRvblN0YXRlKCk7XG4gICAgICB1aS51cGRhdGVNaXNzaWxlQ291bnREaXNwbGF5KCk7XG4gICAgICB1aS51cGRhdGVDcmFmdFRpbWVyKCk7XG4gICAgICB1aS51cGRhdGVTdGF0dXNJbmRpY2F0b3JzKCk7XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSwgRGVidWdCZWFjb25JbmZvLCBEZWJ1Z0VuY291bnRlckluZm8gfSBmcm9tIFwiLi4vc3RhdGVcIjtcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4uL3N0YXRlXCI7XG5pbXBvcnQgeyBzZW5kTWVzc2FnZSwgZ2V0QXBwcm94U2VydmVyTm93IH0gZnJvbSBcIi4uL25ldFwiO1xuXG5pbnRlcmZhY2UgSW5pdE9wdGlvbnMge1xuICBzdGF0ZTogQXBwU3RhdGU7XG4gIGJ1czogRXZlbnRCdXM7XG4gIHJlZnJlc2hJbnRlcnZhbE1zPzogbnVtYmVyO1xufVxuXG5jb25zdCBSRUZSRVNIX0lOVEVSVkFMX01TX0RFRkFVTFQgPSAxMDAwO1xuXG5sZXQgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbmxldCBvdmVybGF5RWw6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5sZXQgcmVmcmVzaFRpbWVyOiBSZXR1cm5UeXBlPHR5cGVvZiB3aW5kb3cuc2V0SW50ZXJ2YWw+IHwgbnVsbCA9IG51bGw7XG5sZXQgaXNWaXNpYmxlID0gZmFsc2U7XG5sZXQgZGVidWdCZWFjb25zOiBEZWJ1Z0JlYWNvbkluZm9bXSA9IFtdO1xubGV0IGRlYnVnRW5jb3VudGVyczogRGVidWdFbmNvdW50ZXJJbmZvW10gPSBbXTtcbmxldCBhcHBTdGF0ZTogQXBwU3RhdGUgfCBudWxsID0gbnVsbDtcbmxldCByZWZyZXNoSW50ZXJ2YWxNcyA9IFJFRlJFU0hfSU5URVJWQUxfTVNfREVGQVVMVDtcbmxldCBldmVudEJ1czogRXZlbnRCdXMgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRFbmNvdW50ZXJEZWJ1Z092ZXJsYXkoeyBzdGF0ZSwgYnVzLCByZWZyZXNoSW50ZXJ2YWxNczogaW50ZXJ2YWxPdmVycmlkZSB9OiBJbml0T3B0aW9ucyk6IHZvaWQge1xuICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gIGFwcFN0YXRlID0gc3RhdGU7XG4gIGV2ZW50QnVzID0gYnVzO1xuICByZWZyZXNoSW50ZXJ2YWxNcyA9IE51bWJlci5pc0Zpbml0ZShpbnRlcnZhbE92ZXJyaWRlKSAmJiBpbnRlcnZhbE92ZXJyaWRlISA+IDEwMFxuICAgID8gaW50ZXJ2YWxPdmVycmlkZSFcbiAgICA6IFJFRlJFU0hfSU5URVJWQUxfTVNfREVGQVVMVDtcblxuICBkZWJ1Z0JlYWNvbnMgPSBbLi4uc3RhdGUuZGVidWcuYmVhY29uc107XG4gIGRlYnVnRW5jb3VudGVycyA9IFsuLi5zdGF0ZS5kZWJ1Zy5lbmNvdW50ZXJzXTtcbiAgaXNWaXNpYmxlID0gc3RhdGUuZGVidWcudmlzaWJsZTtcblxuICBlbnN1cmVPdmVybGF5RWxlbWVudCgpO1xuICB1cGRhdGVCdXR0b25TdGF0ZSgpO1xuICByZW5kZXIoKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5VG9nZ2xlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cbiAgYnVzLm9uKFwiZGVidWc6YmVhY29uc1wiLCAoeyBiZWFjb25zIH0pID0+IHtcbiAgICBkZWJ1Z0JlYWNvbnMgPSBbLi4uYmVhY29uc107XG4gICAgaWYgKGFwcFN0YXRlKSB7XG4gICAgICBhcHBTdGF0ZS5kZWJ1Zy5iZWFjb25zID0gWy4uLmJlYWNvbnNdO1xuICAgIH1cbiAgICByZW5kZXIoKTtcbiAgfSk7XG5cbiAgYnVzLm9uKFwiZGVidWc6ZW5jb3VudGVyc1wiLCAoeyBlbmNvdW50ZXJzIH0pID0+IHtcbiAgICBkZWJ1Z0VuY291bnRlcnMgPSBbLi4uZW5jb3VudGVyc107XG4gICAgaWYgKGFwcFN0YXRlKSB7XG4gICAgICBhcHBTdGF0ZS5kZWJ1Zy5lbmNvdW50ZXJzID0gWy4uLmVuY291bnRlcnNdO1xuICAgIH1cbiAgICByZW5kZXIoKTtcbiAgfSk7XG5cbiAgYnVzLm9uKFwibWlzc2lvbjpzdGFydFwiLCAoKSA9PiB7XG4gICAgaWYgKGlzVmlzaWJsZSkge1xuICAgICAgcmVxdWVzdERlYnVnRGF0YSh0cnVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWctb3ZlcmxheS10b2dnbGVcIik7XG4gIHRvZ2dsZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdG9nZ2xlVmlzaWJpbGl0eSgpO1xuICB9KTtcblxuICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgc2V0VmlzaWJpbGl0eSh0cnVlLCB7IHJlcXVlc3RJbW1lZGlhdGVseTogZmFsc2UgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlS2V5VG9nZ2xlKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmICghZXZlbnQgfHwgdHlwZW9mIGV2ZW50LmtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgIT09IFwiZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gIGlmICh0YXJnZXQgJiYgKHRhcmdldC50YWdOYW1lID09PSBcIklOUFVUXCIgfHwgdGFyZ2V0LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIiB8fCB0YXJnZXQuaXNDb250ZW50RWRpdGFibGUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRvZ2dsZVZpc2liaWxpdHkoKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlVmlzaWJpbGl0eSgpOiB2b2lkIHtcbiAgc2V0VmlzaWJpbGl0eSghaXNWaXNpYmxlKTtcbn1cblxuZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSh2aXNpYmxlOiBib29sZWFuLCBvcHRpb25zOiB7IHJlcXVlc3RJbW1lZGlhdGVseT86IGJvb2xlYW4gfSA9IHt9KTogdm9pZCB7XG4gIGlmICghYXBwU3RhdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2hvdWxkUmVxdWVzdCA9IG9wdGlvbnMucmVxdWVzdEltbWVkaWF0ZWx5ID8/IHRydWU7XG5cbiAgaWYgKGlzVmlzaWJsZSA9PT0gdmlzaWJsZSkge1xuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICBpZiAoc2hvdWxkUmVxdWVzdCkge1xuICAgICAgICByZXF1ZXN0RGVidWdEYXRhKHRydWUpO1xuICAgICAgfVxuICAgICAgc3RhcnRSZWZyZXNoVGltZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcFJlZnJlc2hUaW1lcigpO1xuICAgIH1cbiAgICB1cGRhdGVCdXR0b25TdGF0ZSgpO1xuICAgIHJlbmRlcigpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlzVmlzaWJsZSA9IHZpc2libGU7XG4gIGFwcFN0YXRlLmRlYnVnLnZpc2libGUgPSB2aXNpYmxlO1xuXG4gIGlmICh2aXNpYmxlKSB7XG4gICAgcmVxdWVzdERlYnVnRGF0YShzaG91bGRSZXF1ZXN0KTtcbiAgICBzdGFydFJlZnJlc2hUaW1lcigpO1xuICB9IGVsc2Uge1xuICAgIHN0b3BSZWZyZXNoVGltZXIoKTtcbiAgfVxuXG4gIHVwZGF0ZUJ1dHRvblN0YXRlKCk7XG4gIHJlbmRlcigpO1xuXG4gIGlmIChldmVudEJ1cyAmJiB0eXBlb2YgZXZlbnRCdXMuZW1pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZXZlbnRCdXMuZW1pdChcImRlYnVnOm92ZXJsYXk6dmlzaWJpbGl0eVwiLCB7IHZpc2libGUgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVxdWVzdERlYnVnRGF0YShmb3JjZTogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gIGlmICghYXBwU3RhdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgbm93ID0gZ2V0QXBwcm94U2VydmVyTm93KGFwcFN0YXRlKTtcbiAgaWYgKCFmb3JjZSAmJiBhcHBTdGF0ZS5kZWJ1Zy5sYXN0UmVxdWVzdGVkQXQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSBhcHBTdGF0ZS5kZWJ1Zy5sYXN0UmVxdWVzdGVkQXQ7XG4gICAgaWYgKGVsYXBzZWQgPj0gMCAmJiBlbGFwc2VkIDwgcmVmcmVzaEludGVydmFsTXMgLyAxMDAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGFwcFN0YXRlLmRlYnVnLmxhc3RSZXF1ZXN0ZWRBdCA9IG5vdztcbiAgc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImRlYnVnOnJlcXVlc3QtZW5jb3VudGVyLWluZm9cIiwgcGF5bG9hZDoge30gfSk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0UmVmcmVzaFRpbWVyKCk6IHZvaWQge1xuICBpZiAocmVmcmVzaFRpbWVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlZnJlc2hUaW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgcmVxdWVzdERlYnVnRGF0YSgpO1xuICAgIHJlbmRlcigpO1xuICB9LCByZWZyZXNoSW50ZXJ2YWxNcyk7XG59XG5cbmZ1bmN0aW9uIHN0b3BSZWZyZXNoVGltZXIoKTogdm9pZCB7XG4gIGlmIChyZWZyZXNoVGltZXIpIHtcbiAgICBjbGVhckludGVydmFsKHJlZnJlc2hUaW1lcik7XG4gICAgcmVmcmVzaFRpbWVyID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVPdmVybGF5RWxlbWVudCgpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGlmIChvdmVybGF5RWwpIHtcbiAgICByZXR1cm4gb3ZlcmxheUVsO1xuICB9XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZWwuaWQgPSBcImVuY291bnRlci1kZWJ1Zy1vdmVybGF5XCI7XG4gIGVsLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICBlbC5zdHlsZS50b3AgPSBcIjEycHhcIjtcbiAgZWwuc3R5bGUucmlnaHQgPSBcIjEycHhcIjtcbiAgZWwuc3R5bGUud2lkdGggPSBcIjM2MHB4XCI7XG4gIGVsLnN0eWxlLm1heEhlaWdodCA9IFwiODB2aFwiO1xuICBlbC5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICBlbC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDUsIDEwLCAyMCwgMC45MilcIjtcbiAgZWwuc3R5bGUuY29sb3IgPSBcIiNlMGYyZmVcIjtcbiAgZWwuc3R5bGUuZm9udEZhbWlseSA9IFwiSmV0QnJhaW5zIE1vbm8sIEZpcmEgQ29kZSwgQ29uc29sYXMsIG1vbm9zcGFjZVwiO1xuICBlbC5zdHlsZS5mb250U2l6ZSA9IFwiMTJweFwiO1xuICBlbC5zdHlsZS5wYWRkaW5nID0gXCIxMnB4IDE0cHhcIjtcbiAgZWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI4cHhcIjtcbiAgZWwuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgcmdiYSgxMjUsIDIxMSwgMjUyLCAwLjM1KVwiO1xuICBlbC5zdHlsZS5ib3hTaGFkb3cgPSBcIjAgMCAyNHB4IHJnYmEoMTQsIDExNiwgMTQ0LCAwLjM1KVwiO1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGVsLnN0eWxlLnpJbmRleCA9IFwiMTAwMDBcIjtcbiAgZWwuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInJlZ2lvblwiKTtcbiAgZWwuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICBvdmVybGF5RWwgPSBlbDtcbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoKTogdm9pZCB7XG4gIGNvbnN0IGVsID0gZW5zdXJlT3ZlcmxheUVsZW1lbnQoKTtcbiAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICBjb25zdCBub3cgPSBhcHBTdGF0ZSA/IGdldEFwcHJveFNlcnZlck5vdyhhcHBTdGF0ZSkgOiBEYXRlLm5vdygpIC8gMTAwMDtcbiAgY29uc3QgbGFzdFVwZGF0ZSA9IGFwcFN0YXRlPy5kZWJ1Zy5sYXN0UmVjZWl2ZWRBdCA/PyBudWxsO1xuICBjb25zdCBsYXN0UmVxdWVzdGVkID0gYXBwU3RhdGU/LmRlYnVnLmxhc3RSZXF1ZXN0ZWRBdCA/PyBudWxsO1xuXG4gIGxldCBodG1sID0gYDxoMyBzdHlsZT1cIm1hcmdpbjogMCAwIDEwcHg7IGNvbG9yOiAjMzhiZGY4O1wiPkVuY291bnRlciBEZWJ1ZzxzcGFuIHN0eWxlPVwiZmxvYXQ6cmlnaHQ7IGZvbnQtc2l6ZToxMXB4OyBjb2xvcjojOTRhM2I4O1wiPkQgdG8gaGlkZTwvc3Bhbj48L2gzPmA7XG5cbiAgaWYgKGxhc3RVcGRhdGUgIT0gbnVsbCkge1xuICAgIGNvbnN0IGFnZSA9IGNsYW1wKG5vdyAtIGxhc3RVcGRhdGUsIDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgaHRtbCArPSBgPGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206OHB4OyBmb250LXNpemU6MTFweDsgY29sb3I6Izk0YTNiODtcIj5MYXN0IHVwZGF0ZSAke2Zvcm1hdFJlbGF0aXZlKGFnZSl9JHtsYXN0UmVxdWVzdGVkICYmIGxhc3RSZXF1ZXN0ZWQgPiBsYXN0VXBkYXRlID8gYCBcdTIwMjIgd2FpdGluZ1x1MjAyNmAgOiBcIlwifTwvZGl2PmA7XG4gIH0gZWxzZSBpZiAobGFzdFJlcXVlc3RlZCAhPSBudWxsKSB7XG4gICAgaHRtbCArPSBgPGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206OHB4OyBmb250LXNpemU6MTFweDsgY29sb3I6Izk0YTNiODtcIj5SZXF1ZXN0ZWQgJHtmb3JtYXRSZWxhdGl2ZShjbGFtcChub3cgLSBsYXN0UmVxdWVzdGVkLCAwLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpKX0gYWdvXHUyMDI2PC9kaXY+YDtcbiAgfSBlbHNlIHtcbiAgICBodG1sICs9IGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTo4cHg7IGZvbnQtc2l6ZToxMXB4OyBjb2xvcjojOTRhM2I4O1wiPk5vIGRlYnVnIGRhdGEgcmVjZWl2ZWQgeWV0LjwvZGl2PmA7XG4gIH1cblxuICBodG1sICs9IGA8c2VjdGlvbiBzdHlsZT1cIm1hcmdpbi1ib3R0b206MTRweDtcIj5cbiAgICA8aDQgc3R5bGU9XCJtYXJnaW46MCAwIDZweDsgY29sb3I6I2ZhY2MxNTsgZm9udC1zaXplOjEycHg7XCI+QmVhY29ucyAoJHtkZWJ1Z0JlYWNvbnMubGVuZ3RofSk8L2g0PmA7XG5cbiAgaWYgKGRlYnVnQmVhY29ucy5sZW5ndGggPT09IDApIHtcbiAgICBodG1sICs9IGA8ZGl2IHN0eWxlPVwiY29sb3I6Izk0YTNiODtcIj5ObyBiZWFjb25zIHJlcG9ydGVkLjwvZGl2PmA7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChjb25zdCBiZWFjb24gb2YgZGVidWdCZWFjb25zKSB7XG4gICAgICBjb25zdCB0YWdTdHIgPSBiZWFjb24udGFncy5sZW5ndGggPiAwID8gYmVhY29uLnRhZ3MubWFwKGVzY2FwZUh0bWwpLmpvaW4oXCIsIFwiKSA6IFwibm9uZVwiO1xuICAgICAgY29uc3QgcGluID0gYmVhY29uLnBpbm5lZCA/IFwiXHVEODNEXHVEQ0NEXCIgOiBcIlwiO1xuICAgICAgaHRtbCArPSBgPGRpdiBzdHlsZT1cIm1hcmdpbjo1cHggMDsgcGFkZGluZzo2cHg7IGJhY2tncm91bmQ6cmdiYSgxNCwgMjQsIDQ0LCAwLjc1KTsgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDU2LCAxODksIDI0OCwgMC4xOCk7IGJvcmRlci1yYWRpdXM6NnB4O1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6NjAwOyBjb2xvcjojYmFlNmZkO1wiPiR7cGlufSAke2VzY2FwZUh0bWwoYmVhY29uLmlkKX08L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiM5NGEzYjg7XCI+UG9zOiAoJHtiZWFjb24ueC50b0ZpeGVkKDApfSwgJHtiZWFjb24ueS50b0ZpeGVkKDApfSk8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiM5NGEzYjg7XCI+VGFnczogJHt0YWdTdHJ9PC9kaXY+XG4gICAgICA8L2Rpdj5gO1xuICAgIH1cbiAgfVxuXG4gIGh0bWwgKz0gYDwvc2VjdGlvbj5gO1xuXG4gIGh0bWwgKz0gYDxzZWN0aW9uIHN0eWxlPVwibWFyZ2luLWJvdHRvbToxNHB4O1wiPlxuICAgIDxoNCBzdHlsZT1cIm1hcmdpbjowIDAgNnB4OyBjb2xvcjojZmFjYzE1OyBmb250LXNpemU6MTJweDtcIj5FbmNvdW50ZXJzICgke2RlYnVnRW5jb3VudGVycy5sZW5ndGh9KTwvaDQ+YDtcblxuICBpZiAoZGVidWdFbmNvdW50ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIGh0bWwgKz0gYDxkaXYgc3R5bGU9XCJjb2xvcjojOTRhM2I4O1wiPk5vIGFjdGl2ZSBlbmNvdW50ZXJzLjwvZGl2PmA7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChjb25zdCBlbmNvdW50ZXIgb2YgZGVidWdFbmNvdW50ZXJzKSB7XG4gICAgICBjb25zdCBzcGF3blRpbWUgPSBlbmNvdW50ZXIuc3Bhd25UaW1lID8/IDA7XG4gICAgICBjb25zdCBsaWZldGltZSA9IGVuY291bnRlci5saWZldGltZSA/PyAwO1xuICAgICAgY29uc3QgZWxhcHNlZCA9IGNsYW1wKG5vdyAtIHNwYXduVGltZSwgMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGxpZmV0aW1lID4gMCA/IGNsYW1wKGxpZmV0aW1lIC0gZWxhcHNlZCwgMCwgbGlmZXRpbWUpIDogMDtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gbGlmZXRpbWUgPiAwID8gY2xhbXAoKGVsYXBzZWQgLyBsaWZldGltZSkgKiAxMDAsIDAsIDEwMCkgOiAwO1xuICAgICAgY29uc3QgbGlmZXRpbWVMYWJlbCA9IGxpZmV0aW1lID4gMFxuICAgICAgICA/IGAke3JlbWFpbmluZy50b0ZpeGVkKDEpfXMgLyAke2xpZmV0aW1lLnRvRml4ZWQoMSl9c2BcbiAgICAgICAgOiBcIlx1MjIxRVwiO1xuXG4gICAgICBodG1sICs9IGA8ZGl2IHN0eWxlPVwibWFyZ2luOjVweCAwOyBwYWRkaW5nOjZweDsgYmFja2dyb3VuZDpyZ2JhKDE0LCAyNCwgNDQsIDAuNzUpOyBib3JkZXI6MXB4IHNvbGlkIHJnYmEoNDUsIDIxMiwgMTkxLCAwLjIpOyBib3JkZXItcmFkaXVzOjZweDtcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtd2VpZ2h0OjYwMDsgY29sb3I6I2JiZjdkMDtcIj4ke2VzY2FwZUh0bWwoZW5jb3VudGVyLmVuY291bnRlcklkKX08L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiM5NGEzYjg7XCI+QmVhY29uOiAke2VzY2FwZUh0bWwoZW5jb3VudGVyLmJlYWNvbklkKX08L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiM5NGEzYjg7XCI+RW50aXRpZXM6ICR7ZW5jb3VudGVyLmVudGl0eUNvdW50fTwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPVwiY29sb3I6Izk0YTNiODtcIj5MaWZldGltZTogJHtsaWZldGltZUxhYmVsfTwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6MTAwJTsgaGVpZ2h0OjZweDsgYmFja2dyb3VuZDojMWUyOTNiOyBib3JkZXItcmFkaXVzOjRweDsgb3ZlcmZsb3c6aGlkZGVuOyBtYXJnaW4tdG9wOjRweDtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6JHtwcm9ncmVzc30lOyBoZWlnaHQ6MTAwJTsgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMxZGQxYTEsICMzOGJkZjgpO1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuICB9XG5cbiAgaHRtbCArPSBgPC9zZWN0aW9uPmA7XG5cbiAgaHRtbCArPSBgPHNlY3Rpb24+XG4gICAgPGg0IHN0eWxlPVwibWFyZ2luOjAgMCA2cHg7IGNvbG9yOiNmYWNjMTU7IGZvbnQtc2l6ZToxMnB4O1wiPlNob3J0Y3V0czwvaDQ+XG4gICAgPGRpdiBzdHlsZT1cImNvbG9yOiM5NGEzYjg7XCI+XHUyMDIyIFByZXNzIDxzdHJvbmcgc3R5bGU9XCJjb2xvcjojZTBmMmZlO1wiPkQ8L3N0cm9uZz4gdG8gdG9nZ2xlIG92ZXJsYXkuPGJyLz5cbiAgICBcdTIwMjIgT3ZlcmxheSBhdXRvLXJlZnJlc2hlcyBldmVyeSAkeyhyZWZyZXNoSW50ZXJ2YWxNcyAvIDEwMDApLnRvRml4ZWQoMSl9cyB3aGVuIHZpc2libGUuPC9kaXY+XG4gIDwvc2VjdGlvbj5gO1xuXG4gIGVsLmlubmVySFRNTCA9IGh0bWw7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUh0bWwodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiB2YWx1ZVxuICAgIC5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIilcbiAgICAucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcbiAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcbiAgICAucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIilcbiAgICAucmVwbGFjZSgvJy9nLCBcIiYjMzk7XCIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRSZWxhdGl2ZShzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShzZWNvbmRzKSkge1xuICAgIHJldHVybiBcInVua25vd25cIjtcbiAgfVxuICBpZiAoc2Vjb25kcyA8IDEpIHtcbiAgICByZXR1cm4gYCR7KHNlY29uZHMgKiAxMDAwKS50b0ZpeGVkKDApfW1zIGFnb2A7XG4gIH1cbiAgaWYgKHNlY29uZHMgPCA2MCkge1xuICAgIHJldHVybiBgJHtzZWNvbmRzLnRvRml4ZWQoMSl9cyBhZ29gO1xuICB9XG4gIGNvbnN0IG1pbnV0ZXMgPSBzZWNvbmRzIC8gNjA7XG4gIGlmIChtaW51dGVzIDwgNjApIHtcbiAgICByZXR1cm4gYCR7bWludXRlcy50b0ZpeGVkKDEpfW0gYWdvYDtcbiAgfVxuICBjb25zdCBob3VycyA9IG1pbnV0ZXMgLyA2MDtcbiAgcmV0dXJuIGAke2hvdXJzLnRvRml4ZWQoMSl9aCBhZ29gO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVCdXR0b25TdGF0ZSgpOiB2b2lkIHtcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Zy1vdmVybGF5LXRvZ2dsZVwiKTtcbiAgaWYgKCFidXR0b24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzVmlzaWJsZSkge1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFjdGl2ZVwiLCBcInRydWVcIik7XG4gIH0gZWxzZSB7XG4gICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYWN0aXZlXCIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi4vc3RhdGVcIjtcblxuaW50ZXJmYWNlIEhpZ2hsaWdodENvbnRlbnRPcHRpb25zIHtcbiAgdGFyZ2V0OiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG4gIHN0ZXBJbmRleDogbnVtYmVyO1xuICBzdGVwQ291bnQ6IG51bWJlcjtcbiAgc2hvd05leHQ6IGJvb2xlYW47XG4gIG5leHRMYWJlbD86IHN0cmluZztcbiAgb25OZXh0PzogKCkgPT4gdm9pZDtcbiAgc2hvd1NraXA6IGJvb2xlYW47XG4gIHNraXBMYWJlbD86IHN0cmluZztcbiAgb25Ta2lwPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaWdobGlnaHRlciB7XG4gIHNob3cob3B0aW9uczogSGlnaGxpZ2h0Q29udGVudE9wdGlvbnMpOiB2b2lkO1xuICBoaWRlKCk6IHZvaWQ7XG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuY29uc3QgU1RZTEVfSUQgPSBcInR1dG9yaWFsLW92ZXJsYXktc3R5bGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhpZ2hsaWdodGVyKCk6IEhpZ2hsaWdodGVyIHtcbiAgZW5zdXJlU3R5bGVzKCk7XG5cbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG92ZXJsYXkuY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5XCI7XG4gIG92ZXJsYXkuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuXG4gIGNvbnN0IHNjcmltID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgc2NyaW0uY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5X19zY3JpbVwiO1xuXG4gIGNvbnN0IGhpZ2hsaWdodEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGhpZ2hsaWdodEJveC5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX2hpZ2hsaWdodFwiO1xuXG4gIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b29sdGlwLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fdG9vbHRpcFwiO1xuXG4gIGNvbnN0IHByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcHJvZ3Jlc3MuY2xhc3NOYW1lID0gXCJ0dXRvcmlhbC1vdmVybGF5X19wcm9ncmVzc1wiO1xuXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICB0aXRsZS5jbGFzc05hbWUgPSBcInR1dG9yaWFsLW92ZXJsYXlfX3RpdGxlXCI7XG5cbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBib2R5LmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYm9keVwiO1xuXG4gIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBhY3Rpb25zLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYWN0aW9uc1wiO1xuXG4gIGNvbnN0IHNraXBCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBza2lwQnRuLnR5cGUgPSBcImJ1dHRvblwiO1xuICBza2lwQnRuLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYnRuIHR1dG9yaWFsLW92ZXJsYXlfX2J0bi0tZ2hvc3RcIjtcbiAgc2tpcEJ0bi50ZXh0Q29udGVudCA9IFwiU2tpcFwiO1xuXG4gIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBuZXh0QnRuLnR5cGUgPSBcImJ1dHRvblwiO1xuICBuZXh0QnRuLmNsYXNzTmFtZSA9IFwidHV0b3JpYWwtb3ZlcmxheV9fYnRuIHR1dG9yaWFsLW92ZXJsYXlfX2J0bi0tcHJpbWFyeVwiO1xuICBuZXh0QnRuLnRleHRDb250ZW50ID0gXCJOZXh0XCI7XG5cbiAgYWN0aW9ucy5hcHBlbmQoc2tpcEJ0biwgbmV4dEJ0bik7XG4gIHRvb2x0aXAuYXBwZW5kKHByb2dyZXNzLCB0aXRsZSwgYm9keSwgYWN0aW9ucyk7XG4gIG92ZXJsYXkuYXBwZW5kKHNjcmltLCBoaWdobGlnaHRCb3gsIHRvb2x0aXApO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuXG4gIGxldCBjdXJyZW50VGFyZ2V0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBsZXQgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCBmcmFtZUhhbmRsZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGxldCBvbk5leHQ6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICBsZXQgb25Ta2lwOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUpIHJldHVybjtcbiAgICBpZiAoZnJhbWVIYW5kbGUgIT09IG51bGwpIHJldHVybjtcbiAgICBmcmFtZUhhbmRsZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgZnJhbWVIYW5kbGUgPSBudWxsO1xuICAgICAgdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKCk6IHZvaWQge1xuICAgIGlmICghdmlzaWJsZSkgcmV0dXJuO1xuXG4gICAgaWYgKGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBjdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgcGFkZGluZyA9IDEyO1xuICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgwLCByZWN0LndpZHRoICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMCwgcmVjdC5oZWlnaHQgKyBwYWRkaW5nICogMik7XG4gICAgICBjb25zdCBsZWZ0ID0gcmVjdC5sZWZ0IC0gcGFkZGluZztcbiAgICAgIGNvbnN0IHRvcCA9IHJlY3QudG9wIC0gcGFkZGluZztcblxuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7TWF0aC5yb3VuZChsZWZ0KX1weCwgJHtNYXRoLnJvdW5kKHRvcCl9cHgpYDtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS53aWR0aCA9IGAke01hdGgucm91bmQod2lkdGgpfXB4YDtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS5oZWlnaHQgPSBgJHtNYXRoLnJvdW5kKGhlaWdodCl9cHhgO1xuXG4gICAgICB0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgIHRvb2x0aXAuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgdG9vbHRpcC5zdHlsZS5tYXhXaWR0aCA9IGBtaW4oMzQwcHgsICR7TWF0aC5tYXgoMjYwLCB3aW5kb3cuaW5uZXJXaWR0aCAtIDMyKX1weClgO1xuICAgICAgY29uc3QgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5vZmZzZXRXaWR0aDtcbiAgICAgIGNvbnN0IHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodDtcbiAgICAgIGxldCB0b29sdGlwVG9wID0gcmVjdC5ib3R0b20gKyAxODtcbiAgICAgIGlmICh0b29sdGlwVG9wICsgdG9vbHRpcEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAtIDIwKSB7XG4gICAgICAgIHRvb2x0aXBUb3AgPSBNYXRoLm1heCgyMCwgcmVjdC50b3AgLSB0b29sdGlwSGVpZ2h0IC0gMTgpO1xuICAgICAgfVxuICAgICAgbGV0IHRvb2x0aXBMZWZ0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSB0b29sdGlwV2lkdGggLyAyO1xuICAgICAgdG9vbHRpcExlZnQgPSBjbGFtcCh0b29sdGlwTGVmdCwgMjAsIHdpbmRvdy5pbm5lcldpZHRoIC0gdG9vbHRpcFdpZHRoIC0gMjApO1xuICAgICAgdG9vbHRpcC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7TWF0aC5yb3VuZCh0b29sdGlwTGVmdCl9cHgsICR7TWF0aC5yb3VuZCh0b29sdGlwVG9wKX1weClgO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdobGlnaHRCb3guc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICAgIGhpZ2hsaWdodEJveC5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xuICAgICAgaGlnaGxpZ2h0Qm94LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtNYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoIC8gMil9cHgsICR7TWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKX1weClgO1xuXG4gICAgICB0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgIHRvb2x0aXAuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgY29uc3QgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5vZmZzZXRXaWR0aDtcbiAgICAgIGNvbnN0IHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IHRvb2x0aXBMZWZ0ID0gY2xhbXAoKHdpbmRvdy5pbm5lcldpZHRoIC0gdG9vbHRpcFdpZHRoKSAvIDIsIDIwLCB3aW5kb3cuaW5uZXJXaWR0aCAtIHRvb2x0aXBXaWR0aCAtIDIwKTtcbiAgICAgIGNvbnN0IHRvb2x0aXBUb3AgPSBjbGFtcCgod2luZG93LmlubmVySGVpZ2h0IC0gdG9vbHRpcEhlaWdodCkgLyAyLCAyMCwgd2luZG93LmlubmVySGVpZ2h0IC0gdG9vbHRpcEhlaWdodCAtIDIwKTtcbiAgICAgIHRvb2x0aXAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke01hdGgucm91bmQodG9vbHRpcExlZnQpfXB4LCAke01hdGgucm91bmQodG9vbHRpcFRvcCl9cHgpYDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2hMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgc2NoZWR1bGVVcGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVVwZGF0ZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjaGVkdWxlVXBkYXRlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY2hlZHVsZVVwZGF0ZSk7XG4gICAgaWYgKGZyYW1lSGFuZGxlICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVIYW5kbGUpO1xuICAgICAgZnJhbWVIYW5kbGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAocmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBza2lwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG9uU2tpcD8uKCk7XG4gIH0pO1xuXG4gIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25OZXh0Py4oKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVuZGVyVG9vbHRpcChvcHRpb25zOiBIaWdobGlnaHRDb250ZW50T3B0aW9ucyk6IHZvaWQge1xuICAgIGNvbnN0IHsgc3RlcENvdW50LCBzdGVwSW5kZXgsIHRpdGxlOiBvcHRpb25UaXRsZSwgYm9keTogb3B0aW9uQm9keSwgc2hvd05leHQsIG5leHRMYWJlbCwgc2hvd1NraXAsIHNraXBMYWJlbCB9ID0gb3B0aW9ucztcblxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoc3RlcENvdW50KSAmJiBzdGVwQ291bnQgPiAwKSB7XG4gICAgICBwcm9ncmVzcy50ZXh0Q29udGVudCA9IGBTdGVwICR7c3RlcEluZGV4ICsgMX0gb2YgJHtzdGVwQ291bnR9YDtcbiAgICAgIHByb2dyZXNzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIHByb2dyZXNzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9uVGl0bGUgJiYgb3B0aW9uVGl0bGUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gb3B0aW9uVGl0bGU7XG4gICAgICB0aXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICB0aXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgYm9keS50ZXh0Q29udGVudCA9IG9wdGlvbkJvZHk7XG5cbiAgICBvbk5leHQgPSBzaG93TmV4dCA/IG9wdGlvbnMub25OZXh0ID8/IG51bGwgOiBudWxsO1xuICAgIGlmIChzaG93TmV4dCkge1xuICAgICAgbmV4dEJ0bi50ZXh0Q29udGVudCA9IG5leHRMYWJlbCA/PyBcIk5leHRcIjtcbiAgICAgIG5leHRCdG4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWZsZXhcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dEJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgb25Ta2lwID0gc2hvd1NraXAgPyBvcHRpb25zLm9uU2tpcCA/PyBudWxsIDogbnVsbDtcbiAgICBpZiAoc2hvd1NraXApIHtcbiAgICAgIHNraXBCdG4udGV4dENvbnRlbnQgPSBza2lwTGFiZWwgPz8gXCJTa2lwXCI7XG4gICAgICBza2lwQnRuLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1mbGV4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNraXBCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3cob3B0aW9uczogSGlnaGxpZ2h0Q29udGVudE9wdGlvbnMpOiB2b2lkIHtcbiAgICB2aXNpYmxlID0gdHJ1ZTtcbiAgICBjdXJyZW50VGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgPz8gbnVsbDtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgIHJlbmRlclRvb2x0aXAob3B0aW9ucyk7XG4gICAgaWYgKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFyZ2V0ICYmIHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gc2NoZWR1bGVVcGRhdGUoKSk7XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGN1cnJlbnRUYXJnZXQpO1xuICAgIH1cbiAgICBhdHRhY2hMaXN0ZW5lcnMoKTtcbiAgICBzY2hlZHVsZVVwZGF0ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZSgpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUpIHJldHVybjtcbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICB0b29sdGlwLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHRvb2x0aXAuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGhpZ2hsaWdodEJveC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgZGV0YWNoTGlzdGVuZXJzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCk6IHZvaWQge1xuICAgIGhpZGUoKTtcbiAgICBvdmVybGF5LnJlbW92ZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93LFxuICAgIGhpZGUsXG4gICAgZGVzdHJveSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlU3R5bGVzKCk6IHZvaWQge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBzdHlsZS5pZCA9IFNUWUxFX0lEO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAudHV0b3JpYWwtb3ZlcmxheSB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBpbnNldDogMDtcbiAgICAgIHotaW5kZXg6IDUwO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheS52aXNpYmxlIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fc2NyaW0ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaW5zZXQ6IDA7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19oaWdobGlnaHQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTRweDtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjk1KTtcbiAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDU2LCAxODksIDI0OCwgMC4yNSksIDAgMCAyNHB4IHJnYmEoMzQsIDIxMSwgMjM4LCAwLjI1KTtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjE4cyBlYXNlLCB3aWR0aCAwLjE4cyBlYXNlLCBoZWlnaHQgMC4xOHMgZWFzZSwgb3BhY2l0eSAwLjE4cyBlYXNlO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fdG9vbHRpcCB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBtaW4td2lkdGg6IDI0MHB4O1xuICAgICAgbWF4LXdpZHRoOiBtaW4oMzQwcHgsIGNhbGMoMTAwdncgLSAzMnB4KSk7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LCAyMywgNDIsIDAuOTUpO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsIDE2MywgMTg0LCAwLjM1KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICBwYWRkaW5nOiAxNnB4IDE4cHg7XG4gICAgICBjb2xvcjogI2UyZThmMDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMTJweCAzMnB4IHJnYmEoMTUsIDIzLCA0MiwgMC41NSk7XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwcHgsIDBweCk7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xOHMgZWFzZSwgb3BhY2l0eSAwLjE4cyBlYXNlO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fcHJvZ3Jlc3Mge1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDhlbTtcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICBjb2xvcjogcmdiYSgxNDgsIDE2MywgMTg0LCAwLjc1KTtcbiAgICAgIG1hcmdpbjogMCAwIDhweDtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX3RpdGxlIHtcbiAgICAgIG1hcmdpbjogMCAwIDhweDtcbiAgICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA0ZW07XG4gICAgICBjb2xvcjogI2YxZjVmOTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX2JvZHkge1xuICAgICAgbWFyZ2luOiAwIDAgMTRweDtcbiAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICBjb2xvcjogI2NiZDVmNTtcbiAgICB9XG4gICAgLnR1dG9yaWFsLW92ZXJsYXlfX2FjdGlvbnMge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGdhcDogMTBweDtcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4ge1xuICAgICAgZm9udDogaW5oZXJpdDtcbiAgICAgIHBhZGRpbmc6IDZweCAxNHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMC4wOGVtO1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuLS1wcmltYXJ5IHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjI1KTtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1NiwgMTg5LCAyNDgsIDAuNTUpO1xuICAgICAgY29sb3I6ICNmOGZhZmM7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4tLXByaW1hcnk6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSg1NiwgMTg5LCAyNDgsIDAuMzUpO1xuICAgIH1cbiAgICAudHV0b3JpYWwtb3ZlcmxheV9fYnRuLS1naG9zdCB7XG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgxNDgsIDE2MywgMTg0LCAwLjM1KTtcbiAgICAgIGNvbG9yOiByZ2JhKDIwMywgMjEzLCAyMjUsIDAuOSk7XG4gICAgfVxuICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4tLWdob3N0OmhvdmVyIHtcbiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMDMsIDIxMywgMjI1LCAwLjU1KTtcbiAgICB9XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fdG9vbHRpcCB7XG4gICAgICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgICAgIG1heC13aWR0aDogbWluKDMyMHB4LCBjYWxjKDEwMHZ3IC0gMjRweCkpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogMTJweDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X19wcm9ncmVzcyB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X190aXRsZSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X19ib2R5IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgICB9XG4gICAgICAudHV0b3JpYWwtb3ZlcmxheV9fYWN0aW9ucyB7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogNnB4O1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIH1cbiAgICAgIC50dXRvcmlhbC1vdmVybGF5X19idG4ge1xuICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgfVxuICAgIH1cbiAgYDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG4iLCAiY29uc3QgU1RPUkFHRV9QUkVGSVggPSBcImxzZDp0dXRvcmlhbDpcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUdXRvcmlhbFByb2dyZXNzIHtcbiAgc3RlcEluZGV4OiBudW1iZXI7XG4gIGNvbXBsZXRlZDogYm9vbGVhbjtcbiAgdXBkYXRlZEF0OiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIGdldFN0b3JhZ2UoKTogU3RvcmFnZSB8IG51bGwge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFByb2dyZXNzKGlkOiBzdHJpbmcpOiBUdXRvcmlhbFByb2dyZXNzIHwgbnVsbCB7XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGlmICghc3RvcmFnZSkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgY29uc3QgcmF3ID0gc3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfUFJFRklYICsgaWQpO1xuICAgIGlmICghcmF3KSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdykgYXMgVHV0b3JpYWxQcm9ncmVzcztcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgcGFyc2VkICE9PSBcIm9iamVjdFwiIHx8IHBhcnNlZCA9PT0gbnVsbCB8fFxuICAgICAgdHlwZW9mIHBhcnNlZC5zdGVwSW5kZXggIT09IFwibnVtYmVyXCIgfHxcbiAgICAgIHR5cGVvZiBwYXJzZWQuY29tcGxldGVkICE9PSBcImJvb2xlYW5cIiB8fFxuICAgICAgdHlwZW9mIHBhcnNlZC51cGRhdGVkQXQgIT09IFwibnVtYmVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVByb2dyZXNzKGlkOiBzdHJpbmcsIHByb2dyZXNzOiBUdXRvcmlhbFByb2dyZXNzKTogdm9pZCB7XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICB0cnkge1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX1BSRUZJWCArIGlkLCBKU09OLnN0cmluZ2lmeShwcm9ncmVzcykpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBpZ25vcmUgc3RvcmFnZSBmYWlsdXJlc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclByb2dyZXNzKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgaWYgKCFzdG9yYWdlKSByZXR1cm47XG4gIHRyeSB7XG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfUFJFRklYICsgaWQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBpZ25vcmUgc3RvcmFnZSBmYWlsdXJlc1xuICB9XG59XG4iLCAiZXhwb3J0IHR5cGUgUm9sZUlkID1cbiAgfCBcImNhbnZhc1wiXG4gIHwgXCJzaGlwU2V0XCJcbiAgfCBcInNoaXBTZWxlY3RcIlxuICB8IFwic2hpcERlbGV0ZVwiXG4gIHwgXCJzaGlwQ2xlYXJcIlxuICB8IFwic2hpcFNwZWVkU2xpZGVyXCJcbiAgfCBcImhlYXRCYXJcIlxuICB8IFwic3BlZWRNYXJrZXJcIlxuICB8IFwibWlzc2lsZVNldFwiXG4gIHwgXCJtaXNzaWxlU2VsZWN0XCJcbiAgfCBcIm1pc3NpbGVEZWxldGVcIlxuICB8IFwibWlzc2lsZVNwZWVkU2xpZGVyXCJcbiAgfCBcIm1pc3NpbGVBZ3JvU2xpZGVyXCJcbiAgfCBcIm1pc3NpbGVBZGRSb3V0ZVwiXG4gIHwgXCJtaXNzaWxlTGF1bmNoXCJcbiAgfCBcInJvdXRlUHJldlwiXG4gIHwgXCJyb3V0ZU5leHRcIlxuICB8IFwiaGVscFRvZ2dsZVwiXG4gIHwgXCJ0dXRvcmlhbFN0YXJ0XCJcbiAgfCBcInNwYXduQm90XCI7XG5cbmV4cG9ydCB0eXBlIFJvbGVSZXNvbHZlciA9ICgpID0+IEhUTUxFbGVtZW50IHwgbnVsbDtcblxuZXhwb3J0IHR5cGUgUm9sZXNNYXAgPSBSZWNvcmQ8Um9sZUlkLCBSb2xlUmVzb2x2ZXI+O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm9sZXMoKTogUm9sZXNNYXAge1xuICByZXR1cm4ge1xuICAgIGNhbnZhczogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdlwiKSxcbiAgICBzaGlwU2V0OiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtc2V0XCIpLFxuICAgIHNoaXBTZWxlY3Q6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zZWxlY3RcIiksXG4gICAgc2hpcERlbGV0ZTogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwLWRlbGV0ZVwiKSxcbiAgICBzaGlwQ2xlYXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1jbGVhclwiKSxcbiAgICBzaGlwU3BlZWRTbGlkZXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1zcGVlZC1zbGlkZXJcIiksXG4gICAgaGVhdEJhcjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWF0LWJhci1jb250YWluZXJcIiksXG4gICAgc3BlZWRNYXJrZXI6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3BlZWQtbWFya2VyXCIpLFxuICAgIG1pc3NpbGVTZXQ6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWlzc2lsZS1zZXRcIiksXG4gICAgbWlzc2lsZVNlbGVjdDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNlbGVjdFwiKSxcbiAgICBtaXNzaWxlRGVsZXRlOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtZGVsZXRlXCIpLFxuICAgIG1pc3NpbGVTcGVlZFNsaWRlcjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLXNwZWVkLXNsaWRlclwiKSxcbiAgICBtaXNzaWxlQWdyb1NsaWRlcjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFncm8tc2xpZGVyXCIpLFxuICAgIG1pc3NpbGVBZGRSb3V0ZTogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXNzaWxlLWFkZC1yb3V0ZVwiKSxcbiAgICBtaXNzaWxlTGF1bmNoOiAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1pc3NpbGUtbGF1bmNoXCIpLFxuICAgIHJvdXRlUHJldjogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1wcmV2XCIpLFxuICAgIHJvdXRlTmV4dDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3V0ZS1uZXh0XCIpLFxuICAgIGhlbHBUb2dnbGU6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscC10b2dnbGVcIiksXG4gICAgdHV0b3JpYWxTdGFydDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0dXRvcmlhbC1zdGFydFwiKSxcbiAgICBzcGF3bkJvdDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGF3bi1ib3RcIiksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb2xlRWxlbWVudChyb2xlczogUm9sZXNNYXAsIHJvbGU6IFJvbGVJZCB8IG51bGwgfCB1bmRlZmluZWQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICBpZiAoIXJvbGUpIHJldHVybiBudWxsO1xuICBjb25zdCByZXNvbHZlciA9IHJvbGVzW3JvbGVdO1xuICByZXR1cm4gcmVzb2x2ZXIgPyByZXNvbHZlcigpIDogbnVsbDtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzLCBFdmVudEtleSB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB7IGNyZWF0ZUhpZ2hsaWdodGVyLCB0eXBlIEhpZ2hsaWdodGVyIH0gZnJvbSBcIi4vaGlnaGxpZ2h0XCI7XG5pbXBvcnQgeyBjbGVhclByb2dyZXNzLCBsb2FkUHJvZ3Jlc3MsIHNhdmVQcm9ncmVzcyB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGdldFJvbGVFbGVtZW50LCB0eXBlIFJvbGVJZCwgdHlwZSBSb2xlc01hcCB9IGZyb20gXCIuL3JvbGVzXCI7XG5cbmV4cG9ydCB0eXBlIFN0ZXBBZHZhbmNlID1cbiAgfCB7XG4gICAgICBraW5kOiBcImV2ZW50XCI7XG4gICAgICBldmVudDogRXZlbnRLZXk7XG4gICAgICB3aGVuPzogKHBheWxvYWQ6IHVua25vd24pID0+IGJvb2xlYW47XG4gICAgICBjaGVjaz86ICgpID0+IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIGtpbmQ6IFwibWFudWFsXCI7XG4gICAgICBuZXh0TGFiZWw/OiBzdHJpbmc7XG4gICAgfTtcblxuZXhwb3J0IGludGVyZmFjZSBUdXRvcmlhbFN0ZXAge1xuICBpZDogc3RyaW5nO1xuICB0YXJnZXQ6IFJvbGVJZCB8ICgoKSA9PiBIVE1MRWxlbWVudCB8IG51bGwpIHwgbnVsbDtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGJvZHk6IHN0cmluZztcbiAgYWR2YW5jZTogU3RlcEFkdmFuY2U7XG4gIG9uRW50ZXI/OiAoKSA9PiB2b2lkO1xuICBvbkV4aXQ/OiAoKSA9PiB2b2lkO1xuICBhbGxvd1NraXA/OiBib29sZWFuO1xuICBza2lwTGFiZWw/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFbmdpbmVPcHRpb25zIHtcbiAgaWQ6IHN0cmluZztcbiAgYnVzOiBFdmVudEJ1cztcbiAgcm9sZXM6IFJvbGVzTWFwO1xuICBzdGVwczogVHV0b3JpYWxTdGVwW107XG59XG5cbmludGVyZmFjZSBTdGFydE9wdGlvbnMge1xuICByZXN1bWU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFR1dG9yaWFsRW5naW5lIHtcbiAgc3RhcnQob3B0aW9ucz86IFN0YXJ0T3B0aW9ucyk6IHZvaWQ7XG4gIHJlc3RhcnQoKTogdm9pZDtcbiAgc3RvcCgpOiB2b2lkO1xuICBpc1J1bm5pbmcoKTogYm9vbGVhbjtcbiAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHV0b3JpYWxFbmdpbmUoeyBpZCwgYnVzLCByb2xlcywgc3RlcHMgfTogRW5naW5lT3B0aW9ucyk6IFR1dG9yaWFsRW5naW5lIHtcbiAgY29uc3QgaGlnaGxpZ2h0ZXI6IEhpZ2hsaWdodGVyID0gY3JlYXRlSGlnaGxpZ2h0ZXIoKTtcbiAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgbGV0IHBhdXNlZCA9IGZhbHNlO1xuICBsZXQgY3VycmVudEluZGV4ID0gLTE7XG4gIGxldCBjdXJyZW50U3RlcDogVHV0b3JpYWxTdGVwIHwgbnVsbCA9IG51bGw7XG4gIGxldCBjbGVhbnVwQ3VycmVudDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGxldCByZW5kZXJDdXJyZW50OiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgbGV0IGxhc3RTYXZlZENvbXBsZXRlZCA9IGZhbHNlO1xuICBsZXQgc3VwcHJlc3NQZXJzaXN0T25TdG9wID0gZmFsc2U7XG5cbiAgY29uc3QgcGVyc2lzdGVudExpc3RlbmVyczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcblxuICBwZXJzaXN0ZW50TGlzdGVuZXJzLnB1c2goXG4gICAgYnVzLm9uKFwiaGVscDp2aXNpYmxlQ2hhbmdlZFwiLCAoeyB2aXNpYmxlIH0pID0+IHtcbiAgICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgICAgcGF1c2VkID0gQm9vbGVhbih2aXNpYmxlKTtcbiAgICAgIGlmIChwYXVzZWQpIHtcbiAgICAgICAgaGlnaGxpZ2h0ZXIuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQ3VycmVudD8uKCk7XG4gICAgICB9XG4gICAgfSksXG4gICk7XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVRhcmdldChzdGVwOiBUdXRvcmlhbFN0ZXApOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIGlmICghc3RlcC50YXJnZXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0ZXAudGFyZ2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBzdGVwLnRhcmdldCgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Um9sZUVsZW1lbnQocm9sZXMsIHN0ZXAudGFyZ2V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYW1wSW5kZXgoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHN0ZXBzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5kZXgpIHx8IGluZGV4IDwgMCkgcmV0dXJuIDA7XG4gICAgaWYgKGluZGV4ID49IHN0ZXBzLmxlbmd0aCkgcmV0dXJuIHN0ZXBzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3RlcChpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN0ZXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29tcGxldGVUdXRvcmlhbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgY29tcGxldGVUdXRvcmlhbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjbGVhbnVwQ3VycmVudCkge1xuICAgICAgY2xlYW51cEN1cnJlbnQoKTtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFN0ZXApIHtcbiAgICAgIGN1cnJlbnRTdGVwLm9uRXhpdD8uKCk7XG4gICAgICBjdXJyZW50U3RlcCA9IG51bGw7XG4gICAgfVxuXG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2luZGV4XTtcbiAgICBjdXJyZW50U3RlcCA9IHN0ZXA7XG5cbiAgICBwZXJzaXN0UHJvZ3Jlc3MoaW5kZXgsIGZhbHNlKTtcblxuICAgIGJ1cy5lbWl0KFwidHV0b3JpYWw6c3RlcENoYW5nZWRcIiwgeyBpZCwgc3RlcEluZGV4OiBpbmRleCwgdG90YWw6IHN0ZXBzLmxlbmd0aCB9KTtcbiAgICBzdGVwLm9uRW50ZXI/LigpO1xuXG4gICAgY29uc3QgYWxsb3dTa2lwID0gc3RlcC5hbGxvd1NraXAgIT09IGZhbHNlO1xuICAgIGNvbnN0IHJlbmRlciA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICghcnVubmluZyB8fCBwYXVzZWQpIHJldHVybjtcbiAgICAgIGhpZ2hsaWdodGVyLnNob3coe1xuICAgICAgICB0YXJnZXQ6IHJlc29sdmVUYXJnZXQoc3RlcCksXG4gICAgICAgIHRpdGxlOiBzdGVwLnRpdGxlLFxuICAgICAgICBib2R5OiBzdGVwLmJvZHksXG4gICAgICAgIHN0ZXBJbmRleDogaW5kZXgsXG4gICAgICAgIHN0ZXBDb3VudDogc3RlcHMubGVuZ3RoLFxuICAgICAgICBzaG93TmV4dDogc3RlcC5hZHZhbmNlLmtpbmQgPT09IFwibWFudWFsXCIsXG4gICAgICAgIG5leHRMYWJlbDogc3RlcC5hZHZhbmNlLmtpbmQgPT09IFwibWFudWFsXCJcbiAgICAgICAgICA/IHN0ZXAuYWR2YW5jZS5uZXh0TGFiZWwgPz8gKGluZGV4ID09PSBzdGVwcy5sZW5ndGggLSAxID8gXCJGaW5pc2hcIiA6IFwiTmV4dFwiKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBvbk5leHQ6IHN0ZXAuYWR2YW5jZS5raW5kID09PSBcIm1hbnVhbFwiID8gYWR2YW5jZVN0ZXAgOiB1bmRlZmluZWQsXG4gICAgICAgIHNob3dTa2lwOiBhbGxvd1NraXAsXG4gICAgICAgIHNraXBMYWJlbDogc3RlcC5za2lwTGFiZWwsXG4gICAgICAgIG9uU2tpcDogYWxsb3dTa2lwID8gc2tpcEN1cnJlbnRTdGVwIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlbmRlckN1cnJlbnQgPSByZW5kZXI7XG4gICAgcmVuZGVyKCk7XG5cbiAgICBpZiAoc3RlcC5hZHZhbmNlLmtpbmQgPT09IFwiZXZlbnRcIikge1xuICAgICAgY29uc3QgaGFuZGxlciA9IChwYXlsb2FkOiB1bmtub3duKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICghcnVubmluZyB8fCBwYXVzZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHN0ZXAuYWR2YW5jZS53aGVuICYmICFzdGVwLmFkdmFuY2Uud2hlbihwYXlsb2FkKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhZHZhbmNlVG8oaW5kZXggKyAxKTtcbiAgICAgIH07XG4gICAgICBjbGVhbnVwQ3VycmVudCA9IGJ1cy5vbihzdGVwLmFkdmFuY2UuZXZlbnQsIGhhbmRsZXIgYXMgKHZhbHVlOiBuZXZlcikgPT4gdm9pZCk7XG4gICAgICBpZiAoc3RlcC5hZHZhbmNlLmNoZWNrICYmIHN0ZXAuYWR2YW5jZS5jaGVjaygpKSB7XG4gICAgICAgIGhhbmRsZXIodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYW51cEN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkdmFuY2VUbyhuZXh0SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIGlmIChjbGVhbnVwQ3VycmVudCkge1xuICAgICAgY2xlYW51cEN1cnJlbnQoKTtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICBjdXJyZW50U3RlcC5vbkV4aXQ/LigpO1xuICAgICAgY3VycmVudFN0ZXAgPSBudWxsO1xuICAgIH1cbiAgICByZW5kZXJDdXJyZW50ID0gbnVsbDtcbiAgICBpZiAobmV4dEluZGV4ID49IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgY29tcGxldGVUdXRvcmlhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTdGVwKG5leHRJbmRleCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWR2YW5jZVN0ZXAoKTogdm9pZCB7XG4gICAgYWR2YW5jZVRvKGN1cnJlbnRJbmRleCArIDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2tpcEN1cnJlbnRTdGVwKCk6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIGNvbnN0IG5leHRJbmRleCA9IGN1cnJlbnRJbmRleCA+PSAwID8gY3VycmVudEluZGV4ICsgMSA6IDA7XG4gICAgYWR2YW5jZVRvKG5leHRJbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZVR1dG9yaWFsKCk6IHZvaWQge1xuICAgIGlmICghcnVubmluZykgcmV0dXJuO1xuICAgIHN1cHByZXNzUGVyc2lzdE9uU3RvcCA9IHRydWU7XG4gICAgcGVyc2lzdFByb2dyZXNzKHN0ZXBzLmxlbmd0aCwgdHJ1ZSk7XG4gICAgYnVzLmVtaXQoXCJ0dXRvcmlhbDpjb21wbGV0ZWRcIiwgeyBpZCB9KTtcbiAgICBzdG9wKCk7XG4gICAgc3VwcHJlc3NQZXJzaXN0T25TdG9wID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydChvcHRpb25zPzogU3RhcnRPcHRpb25zKTogdm9pZCB7XG4gICAgY29uc3QgcmVzdW1lID0gb3B0aW9ucz8ucmVzdW1lICE9PSBmYWxzZTtcbiAgICBpZiAocnVubmluZykge1xuICAgICAgcmVzdGFydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgIHN1cHByZXNzUGVyc2lzdE9uU3RvcCA9IGZhbHNlO1xuICAgIGxhc3RTYXZlZENvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGxldCBzdGFydEluZGV4ID0gMDtcbiAgICBpZiAocmVzdW1lKSB7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGxvYWRQcm9ncmVzcyhpZCk7XG4gICAgICBpZiAocHJvZ3Jlc3MgJiYgIXByb2dyZXNzLmNvbXBsZXRlZCkge1xuICAgICAgICBzdGFydEluZGV4ID0gY2xhbXBJbmRleChwcm9ncmVzcy5zdGVwSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhclByb2dyZXNzKGlkKTtcbiAgICB9XG4gICAgYnVzLmVtaXQoXCJ0dXRvcmlhbDpzdGFydGVkXCIsIHsgaWQgfSk7XG4gICAgc2V0U3RlcChzdGFydEluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3RhcnQoKTogdm9pZCB7XG4gICAgc3RvcCgpO1xuICAgIHN0YXJ0KHsgcmVzdW1lOiBmYWxzZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKTogdm9pZCB7XG4gICAgY29uc3Qgc2hvdWxkUGVyc2lzdCA9ICFzdXBwcmVzc1BlcnNpc3RPblN0b3AgJiYgcnVubmluZyAmJiAhbGFzdFNhdmVkQ29tcGxldGVkICYmIGN1cnJlbnRJbmRleCA+PSAwICYmIGN1cnJlbnRJbmRleCA8IHN0ZXBzLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleFRvUGVyc2lzdCA9IGN1cnJlbnRJbmRleDtcblxuICAgIGlmIChjbGVhbnVwQ3VycmVudCkge1xuICAgICAgY2xlYW51cEN1cnJlbnQoKTtcbiAgICAgIGNsZWFudXBDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICBjdXJyZW50U3RlcC5vbkV4aXQ/LigpO1xuICAgICAgY3VycmVudFN0ZXAgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkUGVyc2lzdCkge1xuICAgICAgcGVyc2lzdFByb2dyZXNzKGluZGV4VG9QZXJzaXN0LCBmYWxzZSk7XG4gICAgfVxuICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICBjdXJyZW50SW5kZXggPSAtMTtcbiAgICByZW5kZXJDdXJyZW50ID0gbnVsbDtcbiAgICBoaWdobGlnaHRlci5oaWRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHJ1bm5pbmc7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCk6IHZvaWQge1xuICAgIHN0b3AoKTtcbiAgICBmb3IgKGNvbnN0IGRpc3Bvc2Ugb2YgcGVyc2lzdGVudExpc3RlbmVycykge1xuICAgICAgZGlzcG9zZSgpO1xuICAgIH1cbiAgICBoaWdobGlnaHRlci5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJzaXN0UHJvZ3Jlc3Moc3RlcEluZGV4OiBudW1iZXIsIGNvbXBsZXRlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGxhc3RTYXZlZENvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgICBzYXZlUHJvZ3Jlc3MoaWQsIHtcbiAgICAgIHN0ZXBJbmRleCxcbiAgICAgIGNvbXBsZXRlZCxcbiAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgcmVzdGFydCxcbiAgICBzdG9wLFxuICAgIGlzUnVubmluZyxcbiAgICBkZXN0cm95LFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgVHV0b3JpYWxTdGVwIH0gZnJvbSBcIi4vZW5naW5lXCI7XG5cbmZ1bmN0aW9uIGhhc1dheXBvaW50SW5kZXhBdExlYXN0KHBheWxvYWQ6IHVua25vd24sIG1pbkluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgaW5kZXggPSAocGF5bG9hZCBhcyB7IGluZGV4PzogdW5rbm93biB9KS5pbmRleDtcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzRmluaXRlKGluZGV4KSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaW5kZXggPj0gbWluSW5kZXg7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RSb3V0ZUlkKHBheWxvYWQ6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQgPT09IG51bGwpIHJldHVybiBudWxsO1xuICBjb25zdCByb3V0ZUlkID0gKHBheWxvYWQgYXMgeyByb3V0ZUlkPzogdW5rbm93biB9KS5yb3V0ZUlkO1xuICByZXR1cm4gdHlwZW9mIHJvdXRlSWQgPT09IFwic3RyaW5nXCIgPyByb3V0ZUlkIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcGF5bG9hZFRvb2xFcXVhbHModGFyZ2V0OiBzdHJpbmcpOiAocGF5bG9hZDogdW5rbm93bikgPT4gYm9vbGVhbiB7XG4gIHJldHVybiAocGF5bG9hZDogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdG9vbCA9IChwYXlsb2FkIGFzIHsgdG9vbD86IHVua25vd24gfSkudG9vbDtcbiAgICByZXR1cm4gdHlwZW9mIHRvb2wgPT09IFwic3RyaW5nXCIgJiYgdG9vbCA9PT0gdGFyZ2V0O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzaWNUdXRvcmlhbFN0ZXBzKCk6IFR1dG9yaWFsU3RlcFtdIHtcbiAgbGV0IHJvdXRlU3dpdGNoZXNTaW5jZUVudGVyID0gMDtcbiAgbGV0IGluaXRpYWxSb3V0ZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IG5ld1JvdXRlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1wbG90LXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwiY2FudmFzXCIsXG4gICAgICB0aXRsZTogXCJQbG90IGEgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiQ2xpY2sgb24gdGhlIG1hcCB0byBkcm9wIGF0IGxlYXN0IHRocmVlIHdheXBvaW50cyBhbmQgc2tldGNoIHlvdXIgY291cnNlLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6d2F5cG9pbnRBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4gaGFzV2F5cG9pbnRJbmRleEF0TGVhc3QocGF5bG9hZCwgMiksXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic2hpcC1jaGFuZ2Utc3BlZWRcIixcbiAgICAgIHRhcmdldDogXCJzaGlwU3BlZWRTbGlkZXJcIixcbiAgICAgIHRpdGxlOiBcIkFkanVzdCBzaGlwIHNwZWVkXCIsXG4gICAgICBib2R5OiBcIlVzZSB0aGUgU2hpcCBTcGVlZCBzbGlkZXIgKG9yIHByZXNzIFsgLyBdKSB0byBmaW5lLXR1bmUgeW91ciB0cmF2ZWwgc3BlZWQuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwic2hpcDpzcGVlZENoYW5nZWRcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzaGlwLXNlbGVjdC1sZWdcIixcbiAgICAgIHRhcmdldDogXCJzaGlwU2VsZWN0XCIsXG4gICAgICB0aXRsZTogXCJTZWxlY3QgYSByb3V0ZSBsZWdcIixcbiAgICAgIGJvZHk6IFwiU3dpdGNoIHRvIFNlbGVjdCBtb2RlIChUIGtleSkgYW5kIHRoZW4gY2xpY2sgYSB3YXlwb2ludCBvbiB0aGUgbWFwIHRvIGhpZ2hsaWdodCBpdHMgbGVnLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6bGVnU2VsZWN0ZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IGhhc1dheXBvaW50SW5kZXhBdExlYXN0KHBheWxvYWQsIDApLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImhlYXQtbWF0Y2gtbWFya2VyXCIsXG4gICAgICB0YXJnZXQ6IFwic3BlZWRNYXJrZXJcIixcbiAgICAgIHRpdGxlOiBcIk1hdGNoIHRoZSBtYXJrZXJcIixcbiAgICAgIGJvZHk6IFwiTGluZSB1cCB0aGUgU2hpcCBTcGVlZCBzbGlkZXIgd2l0aCB0aGUgdGljayB0byBjcnVpc2UgYXQgdGhlIG5ldXRyYWwgaGVhdCBzcGVlZC5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0Om1hcmtlckFsaWduZWRcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiaGVhdC1wdXNoLWhvdFwiLFxuICAgICAgdGFyZ2V0OiBcImhlYXRCYXJcIixcbiAgICAgIHRpdGxlOiBcIlNwcmludCBpbnRvIHRoZSByZWRcIixcbiAgICAgIGJvZHk6IFwiUHVzaCB0aGUgdGhyb3R0bGUgYWJvdmUgdGhlIG1hcmtlciBhbmQgd2F0Y2ggdGhlIGhlYXQgYmFyIHJlYWNoIHRoZSB3YXJuaW5nIGJhbmQuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDp3YXJuRW50ZXJlZFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJoZWF0LWNvb2wtZG93blwiLFxuICAgICAgdGFyZ2V0OiBcImhlYXRCYXJcIixcbiAgICAgIHRpdGxlOiBcIkNvb2wgaXQgYmFjayBkb3duXCIsXG4gICAgICBib2R5OiBcIkVhc2Ugb2ZmIGJlbG93IHRoZSBtYXJrZXIgdW50aWwgdGhlIGJhciBkcm9wcyBvdXQgb2YgdGhlIHdhcm5pbmcgem9uZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0OmNvb2xlZEJlbG93V2FyblwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJoZWF0LXRyaWdnZXItc3RhbGxcIixcbiAgICAgIHRhcmdldDogXCJoZWF0QmFyXCIsXG4gICAgICB0aXRsZTogXCJUcmlnZ2VyIGEgc3RhbGxcIixcbiAgICAgIGJvZHk6IFwiUHVzaCB3ZWxsIGFib3ZlIHRoZSBsaW1pdCBhbmQgaG9sZCBpdCB1bnRpbCB0aGUgb3ZlcmhlYXQgc3RhbGwgb3ZlcmxheSBhcHBlYXJzLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcImhlYXQ6c3RhbGxUcmlnZ2VyZWRcIixcbiAgICAgIH0sXG4gICAgICBhbGxvd1NraXA6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiaGVhdC1yZWNvdmVyLXN0YWxsXCIsXG4gICAgICB0YXJnZXQ6IFwiaGVhdEJhclwiLFxuICAgICAgdGl0bGU6IFwiUmVjb3ZlciBmcm9tIHRoZSBzdGFsbFwiLFxuICAgICAgYm9keTogXCJIb2xkIHN0ZWFkeSB3aGlsZSBzeXN0ZW1zIGNvb2wuIE9uY2UgdGhlIG92ZXJsYXkgY2xlYXJzLCB5b3VcdTIwMTlyZSBiYWNrIG9ubGluZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJoZWF0OnN0YWxsUmVjb3ZlcmVkXCIsXG4gICAgICB9LFxuICAgICAgYWxsb3dTa2lwOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImhlYXQtZHVhbC1iYXJzXCIsXG4gICAgICB0YXJnZXQ6IFwiaGVhdEJhclwiLFxuICAgICAgdGl0bGU6IFwiUmVhZCBib3RoIGhlYXQgYmFyc1wiLFxuICAgICAgYm9keTogXCJBZGp1c3QgYSB3YXlwb2ludCB0byBtYWtlIHRoZSBwbGFubmVkIGJhciBleHRlbmQgcGFzdCBsaXZlIGhlYXQuIFVzZSBpdCB0byBwcmVkaWN0IGZ1dHVyZSBvdmVybG9hZHMuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiaGVhdDpkdWFsTWV0ZXJEaXZlcmdlZFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzaGlwLWRlbGV0ZS1sZWdcIixcbiAgICAgIHRhcmdldDogXCJzaGlwRGVsZXRlXCIsXG4gICAgICB0aXRsZTogXCJEZWxldGUgYSByb3V0ZSBsZWdcIixcbiAgICAgIGJvZHk6IFwiUmVtb3ZlIHRoZSBzZWxlY3RlZCB3YXlwb2ludCB1c2luZyB0aGUgRGVsZXRlIGNvbnRyb2wgb3IgdGhlIERlbGV0ZSBrZXkuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwic2hpcDp3YXlwb2ludERlbGV0ZWRcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzaGlwLWNsZWFyLXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwic2hpcENsZWFyXCIsXG4gICAgICB0aXRsZTogXCJDbGVhciB0aGUgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiQ2xlYXIgcmVtYWluaW5nIHdheXBvaW50cyB0byByZXNldCB5b3VyIHBsb3R0ZWQgY291cnNlLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcInNoaXA6Y2xlYXJJbnZva2VkXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1zZXQtbW9kZVwiLFxuICAgICAgdGFyZ2V0OiBcIm1pc3NpbGVTZXRcIixcbiAgICAgIHRpdGxlOiBcIlN3aXRjaCB0byBtaXNzaWxlIHBsYW5uaW5nXCIsXG4gICAgICBib2R5OiBcIlRhcCBTZXQgc28gZXZlcnkgY2xpY2sgZHJvcHMgbWlzc2lsZSB3YXlwb2ludHMgb24gdGhlIGFjdGl2ZSByb3V0ZS5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOnRvb2xDaGFuZ2VkXCIsXG4gICAgICAgIHdoZW46IHBheWxvYWRUb29sRXF1YWxzKFwic2V0XCIpLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtcGxvdC1pbml0aWFsXCIsXG4gICAgICB0YXJnZXQ6IFwiY2FudmFzXCIsXG4gICAgICB0aXRsZTogXCJQbG90IG1pc3NpbGUgd2F5cG9pbnRzXCIsXG4gICAgICBib2R5OiBcIkNsaWNrIHRoZSBtYXAgdG8gZHJvcCBhdCBsZWFzdCB0d28gZ3VpZGFuY2UgcG9pbnRzIGZvciB0aGUgY3VycmVudCBtaXNzaWxlIHJvdXRlLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6d2F5cG9pbnRBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGlmICghaGFzV2F5cG9pbnRJbmRleEF0TGVhc3QocGF5bG9hZCwgMSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKHJvdXRlSWQpIHtcbiAgICAgICAgICAgIGluaXRpYWxSb3V0ZUlkID0gcm91dGVJZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1sYXVuY2gtaW5pdGlhbFwiLFxuICAgICAgdGFyZ2V0OiBcIm1pc3NpbGVMYXVuY2hcIixcbiAgICAgIHRpdGxlOiBcIkxhdW5jaCB0aGUgc3RyaWtlXCIsXG4gICAgICBib2R5OiBcIlNlbmQgdGhlIHBsYW5uZWQgbWlzc2lsZSByb3V0ZSBsaXZlIHdpdGggdGhlIExhdW5jaCBjb250cm9sIChMIGtleSkuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTpsYXVuY2hSZXF1ZXN0ZWRcIixcbiAgICAgICAgd2hlbjogKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBjb25zdCByb3V0ZUlkID0gZXh0cmFjdFJvdXRlSWQocGF5bG9hZCk7XG4gICAgICAgICAgaWYgKCFyb3V0ZUlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxSb3V0ZUlkKSB7XG4gICAgICAgICAgICBpbml0aWFsUm91dGVJZCA9IHJvdXRlSWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJvdXRlSWQgPT09IGluaXRpYWxSb3V0ZUlkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtYWRkLXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwibWlzc2lsZUFkZFJvdXRlXCIsXG4gICAgICB0aXRsZTogXCJDcmVhdGUgYSBuZXcgbWlzc2lsZSByb3V0ZVwiLFxuICAgICAgYm9keTogXCJQcmVzcyBOZXcgdG8gYWRkIGEgc2Vjb25kIG1pc3NpbGUgcm91dGUgZm9yIGFub3RoZXIgc3RyaWtlIGdyb3VwLlwiLFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6cm91dGVBZGRlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIXJvdXRlSWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBuZXdSb3V0ZUlkID0gcm91dGVJZDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLXBsb3QtbmV3LXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwiY2FudmFzXCIsXG4gICAgICB0aXRsZTogXCJQbG90IHRoZSBuZXcgbWlzc2lsZSByb3V0ZVwiLFxuICAgICAgYm9keTogXCJEcm9wIGF0IGxlYXN0IHR3byB3YXlwb2ludHMgb24gdGhlIG5ldyByb3V0ZSB0byBkZWZpbmUgaXRzIHBhdGguXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwibWlzc2lsZTp3YXlwb2ludEFkZGVkXCIsXG4gICAgICAgIHdoZW46IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNXYXlwb2ludEluZGV4QXRMZWFzdChwYXlsb2FkLCAxKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAobmV3Um91dGVJZCAmJiByb3V0ZUlkICYmIHJvdXRlSWQgIT09IG5ld1JvdXRlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuZXdSb3V0ZUlkICYmIHJvdXRlSWQpIHtcbiAgICAgICAgICAgIG5ld1JvdXRlSWQgPSByb3V0ZUlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJtaXNzaWxlLWxhdW5jaC1uZXctcm91dGVcIixcbiAgICAgIHRhcmdldDogXCJtaXNzaWxlTGF1bmNoXCIsXG4gICAgICB0aXRsZTogXCJMYXVuY2ggdGhlIG5ldyByb3V0ZVwiLFxuICAgICAgYm9keTogXCJMYXVuY2ggdGhlIGZyZXNoIG1pc3NpbGUgcm91dGUgdG8gY29uZmlybSBpdHMgcGF0dGVybi5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIW5ld1JvdXRlSWQgfHwgIXJvdXRlSWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIHJldHVybiByb3V0ZUlkID09PSBuZXdSb3V0ZUlkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcIm1pc3NpbGUtc3dpdGNoLXJvdXRlXCIsXG4gICAgICB0YXJnZXQ6IFwicm91dGVOZXh0XCIsXG4gICAgICB0aXRsZTogXCJTd2l0Y2ggYmFjayB0byB0aGUgb3JpZ2luYWwgcm91dGVcIixcbiAgICAgIGJvZHk6IFwiVXNlIHRoZSBcdTI1QzAgXHUyNUI2IGNvbnRyb2xzIChvciBUYWIvU2hpZnQrVGFiKSB0byBzZWxlY3QgeW91ciBmaXJzdCBtaXNzaWxlIHJvdXRlIGFnYWluLlwiLFxuICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICByb3V0ZVN3aXRjaGVzU2luY2VFbnRlciA9IDA7XG4gICAgICB9LFxuICAgICAgYWR2YW5jZToge1xuICAgICAgICBraW5kOiBcImV2ZW50XCIsXG4gICAgICAgIGV2ZW50OiBcIm1pc3NpbGU6YWN0aXZlUm91dGVDaGFuZ2VkXCIsXG4gICAgICAgIHdoZW46IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgcm91dGVTd2l0Y2hlc1NpbmNlRW50ZXIgKz0gMTtcbiAgICAgICAgICBpZiAocm91dGVTd2l0Y2hlc1NpbmNlRW50ZXIgPCAxKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgY29uc3Qgcm91dGVJZCA9IGV4dHJhY3RSb3V0ZUlkKHBheWxvYWQpO1xuICAgICAgICAgIGlmICghaW5pdGlhbFJvdXRlSWQgfHwgIXJvdXRlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGVJZCA9PT0gaW5pdGlhbFJvdXRlSWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibWlzc2lsZS1sYXVuY2gtYWZ0ZXItc3dpdGNoXCIsXG4gICAgICB0YXJnZXQ6IFwibWlzc2lsZUxhdW5jaFwiLFxuICAgICAgdGl0bGU6IFwiTGF1bmNoIGZyb20gdGhlIG90aGVyIHJvdXRlXCIsXG4gICAgICBib2R5OiBcIkZpcmUgdGhlIG9yaWdpbmFsIG1pc3NpbGUgcm91dGUgdG8gcHJhY3RpY2Ugcm91bmQtcm9iaW4gc3RyaWtlcy5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJldmVudFwiLFxuICAgICAgICBldmVudDogXCJtaXNzaWxlOmxhdW5jaFJlcXVlc3RlZFwiLFxuICAgICAgICB3aGVuOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdXRlSWQgPSBleHRyYWN0Um91dGVJZChwYXlsb2FkKTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxSb3V0ZUlkIHx8ICFyb3V0ZUlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcm91dGVJZCA9PT0gaW5pdGlhbFJvdXRlSWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwidHV0b3JpYWwtcHJhY3RpY2VcIixcbiAgICAgIHRhcmdldDogXCJzcGF3bkJvdFwiLFxuICAgICAgdGl0bGU6IFwiU3Bhd24gYSBwcmFjdGljZSBib3RcIixcbiAgICAgIGJvZHk6IFwiVXNlIHRoZSBCb3QgY29udHJvbCB0byBhZGQgYSB0YXJnZXQgYW5kIHJlaGVhcnNlIHRoZXNlIG1hbmV1dmVycyBpbiByZWFsIHRpbWUuXCIsXG4gICAgICBhZHZhbmNlOiB7XG4gICAgICAgIGtpbmQ6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnQ6IFwiYm90OnNwYXduUmVxdWVzdGVkXCIsXG4gICAgICB9LFxuICAgICAgYWxsb3dTa2lwOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInR1dG9yaWFsLWNvbXBsZXRlXCIsXG4gICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICB0aXRsZTogXCJZb3VcdTIwMTlyZSByZWFkeVwiLFxuICAgICAgYm9keTogXCJHcmVhdCB3b3JrLiBSZWxvYWQgdGhlIGNvbnNvbGUgb3IgcmVqb2luIGEgcm9vbSB0byByZXZpc2l0IHRoZXNlIGRyaWxscy5cIixcbiAgICAgIGFkdmFuY2U6IHtcbiAgICAgICAga2luZDogXCJtYW51YWxcIixcbiAgICAgICAgbmV4dExhYmVsOiBcIkZpbmlzaFwiLFxuICAgICAgfSxcbiAgICAgIGFsbG93U2tpcDogZmFsc2UsXG4gICAgfSxcbiAgXTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHsgY3JlYXRlVHV0b3JpYWxFbmdpbmUgfSBmcm9tIFwiLi9lbmdpbmVcIjtcbmltcG9ydCB7IGNyZWF0ZVJvbGVzIH0gZnJvbSBcIi4vcm9sZXNcIjtcbmltcG9ydCB7IGdldEJhc2ljVHV0b3JpYWxTdGVwcyB9IGZyb20gXCIuL3N0ZXBzX2Jhc2ljXCI7XG5leHBvcnQgY29uc3QgQkFTSUNfVFVUT1JJQUxfSUQgPSBcInNoaXAtYmFzaWNzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHV0b3JpYWxDb250cm9sbGVyIHtcbiAgc3RhcnQob3B0aW9ucz86IHsgcmVzdW1lPzogYm9vbGVhbiB9KTogdm9pZDtcbiAgcmVzdGFydCgpOiB2b2lkO1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudFR1dG9yaWFsKGJ1czogRXZlbnRCdXMpOiBUdXRvcmlhbENvbnRyb2xsZXIge1xuICBjb25zdCByb2xlcyA9IGNyZWF0ZVJvbGVzKCk7XG4gIGNvbnN0IGVuZ2luZSA9IGNyZWF0ZVR1dG9yaWFsRW5naW5lKHtcbiAgICBpZDogQkFTSUNfVFVUT1JJQUxfSUQsXG4gICAgYnVzLFxuICAgIHJvbGVzLFxuICAgIHN0ZXBzOiBnZXRCYXNpY1R1dG9yaWFsU3RlcHMoKSxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydChvcHRpb25zKSB7XG4gICAgICBlbmdpbmUuc3RhcnQob3B0aW9ucyk7XG4gICAgfSxcbiAgICByZXN0YXJ0KCkge1xuICAgICAgZW5naW5lLnJlc3RhcnQoKTtcbiAgICB9LFxuICAgIGRlc3Ryb3koKSB7XG4gICAgICBlbmdpbmUuZGVzdHJveSgpO1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi4vc3RhdGVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2d1ZUNob2ljZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2d1ZUNvbnRlbnQge1xuICBzcGVha2VyOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgaW50ZW50PzogXCJmYWN0b3J5XCIgfCBcInVuaXRcIjtcbiAgY2hvaWNlcz86IERpYWxvZ3VlQ2hvaWNlW107XG4gIHR5cGluZ1NwZWVkTXM/OiBudW1iZXI7XG4gIG9uQ2hvaWNlPzogKGNob2ljZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uVGV4dEZ1bGx5UmVuZGVyZWQ/OiAoKSA9PiB2b2lkO1xuICBvbkNvbnRpbnVlPzogKCkgPT4gdm9pZDtcbiAgY29udGludWVMYWJlbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2d1ZU92ZXJsYXkge1xuICBzaG93KGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQ7XG4gIGhpZGUoKTogdm9pZDtcbiAgZGVzdHJveSgpOiB2b2lkO1xuICBpc1Zpc2libGUoKTogYm9vbGVhbjtcbn1cblxuY29uc3QgU1RZTEVfSUQgPSBcImRpYWxvZ3VlLW92ZXJsYXktc3R5bGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURpYWxvZ3VlT3ZlcmxheSgpOiBEaWFsb2d1ZU92ZXJsYXkge1xuICBlbnN1cmVTdHlsZXMoKTtcblxuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgb3ZlcmxheS5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLW92ZXJsYXlcIjtcbiAgb3ZlcmxheS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG5cbiAgY29uc3QgY29uc29sZUZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc29sZUZyYW1lLmNsYXNzTmFtZSA9IFwiZGlhbG9ndWUtY29uc29sZVwiO1xuXG4gIGNvbnN0IHNwZWFrZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHNwZWFrZXJMYWJlbC5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLXNwZWFrZXJcIjtcblxuICBjb25zdCB0ZXh0QmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0ZXh0QmxvY2suY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS10ZXh0XCI7XG5cbiAgY29uc3QgY3Vyc29yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGN1cnNvci5jbGFzc05hbWUgPSBcImRpYWxvZ3VlLWN1cnNvclwiO1xuICBjdXJzb3IudGV4dENvbnRlbnQgPSBcIl9cIjtcblxuICBjb25zdCBjaG9pY2VzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgY2hvaWNlc0xpc3QuY2xhc3NOYW1lID0gXCJkaWFsb2d1ZS1jaG9pY2VzIGhpZGRlblwiO1xuXG4gIGNvbnN0IGNvbnRpbnVlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgY29udGludWVCdXR0b24udHlwZSA9IFwiYnV0dG9uXCI7XG4gIGNvbnRpbnVlQnV0dG9uLmNsYXNzTmFtZSA9IFwiZGlhbG9ndWUtY29udGludWUgaGlkZGVuXCI7XG4gIGNvbnRpbnVlQnV0dG9uLnRleHRDb250ZW50ID0gXCJDb250aW51ZVwiO1xuXG4gIHRleHRCbG9jay5hcHBlbmQoY3Vyc29yKTtcbiAgY29uc29sZUZyYW1lLmFwcGVuZChzcGVha2VyTGFiZWwsIHRleHRCbG9jaywgY2hvaWNlc0xpc3QsIGNvbnRpbnVlQnV0dG9uKTtcbiAgb3ZlcmxheS5hcHBlbmQoY29uc29sZUZyYW1lKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBsZXQgdHlwaW5nSGFuZGxlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgbGV0IHRhcmdldFRleHQgPSBcIlwiO1xuICBsZXQgcmVuZGVyZWRDaGFycyA9IDA7XG4gIGxldCBhY3RpdmVDb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBjbGVhclR5cGluZygpOiB2b2lkIHtcbiAgICBpZiAodHlwaW5nSGFuZGxlICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHR5cGluZ0hhbmRsZSk7XG4gICAgICB0eXBpbmdIYW5kbGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFR5cGluZyhjb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICByZW5kZXJlZENoYXJzID0gdGFyZ2V0VGV4dC5sZW5ndGg7XG4gICAgdXBkYXRlVGV4dCgpO1xuICAgIGNsZWFyVHlwaW5nKCk7XG4gICAgY29udGVudC5vblRleHRGdWxseVJlbmRlcmVkPy4oKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29udGVudC5jaG9pY2VzKSB8fCBjb250ZW50LmNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzaG93Q29udGludWUoY29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGV4dCgpOiB2b2lkIHtcbiAgICBjb25zdCB0ZXh0VG9TaG93ID0gdGFyZ2V0VGV4dC5zbGljZSgwLCByZW5kZXJlZENoYXJzKTtcbiAgICB0ZXh0QmxvY2suaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gdGV4dFRvU2hvdztcbiAgICB0ZXh0QmxvY2suYXBwZW5kKHRleHROb2RlLCBjdXJzb3IpO1xuICAgIGN1cnNvci5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIsICF2aXNpYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckNob2ljZXMoY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG4gICAgY2hvaWNlc0xpc3QuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCBjaG9pY2VzID0gQXJyYXkuaXNBcnJheShjb250ZW50LmNob2ljZXMpID8gY29udGVudC5jaG9pY2VzIDogW107XG4gICAgaWYgKGNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjaG9pY2VzTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaG9pY2VzTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIGNob2ljZXMuZm9yRWFjaCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBidXR0b24udHlwZSA9IFwiYnV0dG9uXCI7XG4gICAgICBidXR0b24uZGF0YXNldC5jaG9pY2VJZCA9IGNob2ljZS5pZDtcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGAke2luZGV4ICsgMX0uICR7Y2hvaWNlLnRleHR9YDtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50Lm9uQ2hvaWNlPy4oY2hvaWNlLmlkKTtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5hcHBlbmQoYnV0dG9uKTtcbiAgICAgIGNob2ljZXNMaXN0LmFwcGVuZChpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dDb250aW51ZShjb250ZW50OiBEaWFsb2d1ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAoIWNvbnRlbnQub25Db250aW51ZSkge1xuICAgICAgY29udGludWVCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgIGNvbnRpbnVlQnV0dG9uLm9uY2xpY2sgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb250aW51ZUJ1dHRvbi50ZXh0Q29udGVudCA9IGNvbnRlbnQuY29udGludWVMYWJlbCA/PyBcIkNvbnRpbnVlXCI7XG4gICAgY29udGludWVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBjb250aW51ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgY29udGVudC5vbkNvbnRpbnVlPy4oKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVUeXBlKGNvbnRlbnQ6IERpYWxvZ3VlQ29udGVudCk6IHZvaWQge1xuICAgIGNsZWFyVHlwaW5nKCk7XG4gICAgY29uc3QgdHlwaW5nU3BlZWQgPSBjbGFtcChOdW1iZXIoY29udGVudC50eXBpbmdTcGVlZE1zKSB8fCAxOCwgOCwgNjQpO1xuICAgIGNvbnN0IHRpY2sgPSAoKTogdm9pZCA9PiB7XG4gICAgICByZW5kZXJlZENoYXJzID0gTWF0aC5taW4ocmVuZGVyZWRDaGFycyArIDEsIHRhcmdldFRleHQubGVuZ3RoKTtcbiAgICAgIHVwZGF0ZVRleHQoKTtcbiAgICAgIGlmIChyZW5kZXJlZENoYXJzID49IHRhcmdldFRleHQubGVuZ3RoKSB7XG4gICAgICAgIGNsZWFyVHlwaW5nKCk7XG4gICAgICAgIGNvbnRlbnQub25UZXh0RnVsbHlSZW5kZXJlZD8uKCk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjb250ZW50LmNob2ljZXMpIHx8IGNvbnRlbnQuY2hvaWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzaG93Q29udGludWUoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGluZ0hhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KHRpY2ssIHR5cGluZ1NwZWVkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHR5cGluZ0hhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KHRpY2ssIHR5cGluZ1NwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXZpc2libGUgfHwgIWFjdGl2ZUNvbnRlbnQpIHJldHVybjtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWN0aXZlQ29udGVudC5jaG9pY2VzKSB8fCBhY3RpdmVDb250ZW50LmNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIiB8fCBldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAocmVuZGVyZWRDaGFycyA8IHRhcmdldFRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgZmluaXNoVHlwaW5nKGFjdGl2ZUNvbnRlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbnRlbnQub25Db250aW51ZT8uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChldmVudC5rZXksIDEwKTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGluZGV4KSAmJiBpbmRleCA+PSAxICYmIGluZGV4IDw9IGFjdGl2ZUNvbnRlbnQuY2hvaWNlcy5sZW5ndGgpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBjaG9pY2UgPSBhY3RpdmVDb250ZW50LmNob2ljZXNbaW5kZXggLSAxXTtcbiAgICAgIGFjdGl2ZUNvbnRlbnQub25DaG9pY2U/LihjaG9pY2UuaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIgJiYgcmVuZGVyZWRDaGFycyA8IHRhcmdldFRleHQubGVuZ3RoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmluaXNoVHlwaW5nKGFjdGl2ZUNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3coY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG4gICAgYWN0aXZlQ29udGVudCA9IGNvbnRlbnQ7XG4gICAgdmlzaWJsZSA9IHRydWU7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcbiAgICBvdmVybGF5LmRhdGFzZXQuaW50ZW50ID0gY29udGVudC5pbnRlbnQgPz8gXCJmYWN0b3J5XCI7XG4gICAgc3BlYWtlckxhYmVsLnRleHRDb250ZW50ID0gY29udGVudC5zcGVha2VyO1xuXG4gICAgdGFyZ2V0VGV4dCA9IGNvbnRlbnQudGV4dDtcbiAgICByZW5kZXJlZENoYXJzID0gMDtcbiAgICB1cGRhdGVUZXh0KCk7XG4gICAgcmVuZGVyQ2hvaWNlcyhjb250ZW50KTtcbiAgICBzaG93Q29udGludWUoY29udGVudCk7XG4gICAgc2NoZWR1bGVUeXBlKGNvbnRlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZSgpOiB2b2lkIHtcbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgYWN0aXZlQ29udGVudCA9IG51bGw7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICBjbGVhclR5cGluZygpO1xuICAgIHRhcmdldFRleHQgPSBcIlwiO1xuICAgIHJlbmRlcmVkQ2hhcnMgPSAwO1xuICAgIHRleHRCbG9jay5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHRleHRCbG9jay5hcHBlbmQoY3Vyc29yKTtcbiAgICBjaG9pY2VzTGlzdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNob2ljZXNMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgY29udGludWVCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBjb250aW51ZUJ1dHRvbi5vbmNsaWNrID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaGlkZSgpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcblxuICByZXR1cm4ge1xuICAgIHNob3csXG4gICAgaGlkZSxcbiAgICBkZXN0cm95LFxuICAgIGlzVmlzaWJsZSgpIHtcbiAgICAgIHJldHVybiB2aXNpYmxlO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVN0eWxlcygpOiB2b2lkIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFNUWUxFX0lEKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgc3R5bGUuaWQgPSBTVFlMRV9JRDtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgLmRpYWxvZ3VlLW92ZXJsYXkge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgaW5zZXQ6IDA7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiA2MDtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgZWFzZTtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLW92ZXJsYXkudmlzaWJsZSB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jb25zb2xlIHtcbiAgICAgIG1pbi13aWR0aDogMzIwcHg7XG4gICAgICBtYXgtd2lkdGg6IG1pbig1MjBweCwgY2FsYygxMDB2dyAtIDQ4cHgpKTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNiwgMTEsIDE2LCAwLjkyKTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zNSk7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgcGFkZGluZzogMThweCAyMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBnYXA6IDE0cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDI4cHggNjRweCByZ2JhKDIsIDYsIDE2LCAwLjYpO1xuICAgICAgY29sb3I6ICNlMmU4ZjA7XG4gICAgICBmb250LWZhbWlseTogXCJJQk0gUGxleCBNb25vXCIsIFwiSmV0QnJhaW5zIE1vbm9cIiwgdWktbW9ub3NwYWNlLCBTRk1vbm8tUmVndWxhciwgTWVubG8sIE1vbmFjbywgQ29uc29sYXMsIFwiTGliZXJhdGlvbiBNb25vXCIsIFwiQ291cmllciBOZXdcIiwgbW9ub3NwYWNlO1xuICAgIH1cbiAgICAuZGlhbG9ndWUtb3ZlcmxheVtkYXRhLWludGVudD1cImZhY3RvcnlcIl0gLmRpYWxvZ3VlLWNvbnNvbGUge1xuICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU2LCAxODksIDI0OCwgMC40NSk7XG4gICAgICBib3gtc2hhZG93OiAwIDI4cHggNjRweCByZ2JhKDEzLCAxNDgsIDEzNiwgMC4zNSk7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1vdmVybGF5W2RhdGEtaW50ZW50PVwidW5pdFwiXSAuZGlhbG9ndWUtY29uc29sZSB7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoMjQ0LCAxMTQsIDE4MiwgMC40NSk7XG4gICAgICBib3gtc2hhZG93OiAwIDI4cHggNjRweCByZ2JhKDIzNiwgNzIsIDE1MywgMC4yOCk7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1zcGVha2VyIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjE2ZW07XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgY29sb3I6IHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC43NSk7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS10ZXh0IHtcbiAgICAgIG1pbi1oZWlnaHQ6IDkwcHg7XG4gICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICBsaW5lLWhlaWdodDogMS41NTtcbiAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLWN1cnNvciB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgYW5pbWF0aW9uOiBkaWFsb2d1ZS1jdXJzb3ItYmxpbmsgMS4ycyBzdGVwcygyLCBzdGFydCkgaW5maW5pdGU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jdXJzb3IuaGlkZGVuIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIHtcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBnYXA6IDhweDtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLWNob2ljZXMuaGlkZGVuIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIGJ1dHRvbixcbiAgICAuZGlhbG9ndWUtY29udGludWUge1xuICAgICAgZm9udDogaW5oZXJpdDtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zKTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQsIDM2LCA0OCwgMC44NSk7XG4gICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4xOHMgZWFzZSwgYm9yZGVyLWNvbG9yIDAuMThzIGVhc2U7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jb250aW51ZSB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC5kaWFsb2d1ZS1jb250aW51ZS5oaWRkZW4ge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmRpYWxvZ3VlLWNob2ljZXMgYnV0dG9uOmhvdmVyLFxuICAgIC5kaWFsb2d1ZS1jaG9pY2VzIGJ1dHRvbjpmb2N1cy12aXNpYmxlLFxuICAgIC5kaWFsb2d1ZS1jb250aW51ZTpob3ZlcixcbiAgICAuZGlhbG9ndWUtY29udGludWU6Zm9jdXMtdmlzaWJsZSB7XG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoNTYsIDE4OSwgMjQ4LCAwLjU1KTtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDQ1LCA2MCwgMC45NSk7XG4gICAgICBvdXRsaW5lOiBub25lO1xuICAgIH1cbiAgICBAa2V5ZnJhbWVzIGRpYWxvZ3VlLWN1cnNvci1ibGluayB7XG4gICAgICAwJSwgNTAlIHsgb3BhY2l0eTogMTsgfVxuICAgICAgNTAuMDElLCAxMDAlIHsgb3BhY2l0eTogMDsgfVxuICAgIH1cbiAgYDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHR5cGUgeyBEaWFsb2d1ZU92ZXJsYXkgfSBmcm9tIFwiLi9vdmVybGF5XCI7XG5pbXBvcnQgdHlwZSB7IERpYWxvZ3VlQ29udGVudCB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBzZW5kTWVzc2FnZSB9IGZyb20gXCIuLi9uZXRcIjtcblxuaW50ZXJmYWNlIFN0b3J5Q29udHJvbGxlck9wdGlvbnMge1xuICBidXM6IEV2ZW50QnVzO1xuICBvdmVybGF5OiBEaWFsb2d1ZU92ZXJsYXk7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeUNvbnRyb2xsZXIge1xuICBzdGFydCgpOiB2b2lkO1xuICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbi8qKlxuICogU2VydmVyLWRyaXZlbiBzdG9yeSBjb250cm9sbGVyLlxuICogUmVhY3RzIHRvIHN0b3J5Om5vZGVBY3RpdmF0ZWQgZXZlbnRzIGZyb20gdGhlIHNlcnZlciBhbmQgZGlzcGxheXMgZGlhbG9ndWUuXG4gKiBTZW5kcyBkYWdfc3RvcnlfYWNrIG1lc3NhZ2VzIGJhY2sgdG8gdGhlIHNlcnZlciB3aGVuIGRpYWxvZ3VlIGlzIGNvbXBsZXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0b3J5Q29udHJvbGxlcih7IGJ1cywgb3ZlcmxheSwgc3RhdGUgfTogU3RvcnlDb250cm9sbGVyT3B0aW9ucyk6IFN0b3J5Q29udHJvbGxlciB7XG4gIGNvbnN0IGxpc3RlbmVyczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgbGV0IHR1dG9yaWFsVGlwRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBoYW5kbGVOb2RlQWN0aXZhdGVkKHsgbm9kZUlkLCBkaWFsb2d1ZSB9OiB7IG5vZGVJZDogc3RyaW5nOyBkaWFsb2d1ZT86IERpYWxvZ3VlQ29udGVudCB9KTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coXCJbc3RvcnldIE5vZGUgYWN0aXZhdGVkOlwiLCBub2RlSWQpO1xuXG4gICAgaWYgKCFkaWFsb2d1ZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIltzdG9yeV0gTm8gZGlhbG9ndWUgcHJvdmlkZWQgYnkgc2VydmVyIGZvcjpcIiwgbm9kZUlkKTtcbiAgICAgIC8vIEF1dG8tYWNrbm93bGVkZ2UgdG8gcHJldmVudCBibG9ja2luZyBwcm9ncmVzc2lvblxuICAgICAgYWNrbm93bGVkZ2VOb2RlKG5vZGVJZCwgbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgdGhlIG5vZGUgSUQgdG8gZXh0cmFjdCBjaGFwdGVyIGFuZCBub2RlIGluZm9cbiAgICAvLyBFeHBlY3RlZCBmb3JtYXQ6IFwic3RvcnkuPGNoYXB0ZXI+Ljxub2RlPlwiXG4gICAgY29uc3QgcGFydHMgPSBub2RlSWQuc3BsaXQoXCIuXCIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPCAzIHx8IHBhcnRzWzBdICE9PSBcInN0b3J5XCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltzdG9yeV0gSW52YWxpZCBub2RlIElEIGZvcm1hdDpcIiwgbm9kZUlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFwdGVyID0gcGFydHNbMV07XG4gICAgY29uc3Qgbm9kZSA9IHBhcnRzLnNsaWNlKDIpLmpvaW4oXCIuXCIpO1xuXG4gICAgc2hvd0RpYWxvZ3VlRm9yTm9kZShjaGFwdGVyLCBub2RlLCBub2RlSWQsIGRpYWxvZ3VlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dEaWFsb2d1ZUZvck5vZGUoY2hhcHRlcjogc3RyaW5nLCBub2RlOiBzdHJpbmcsIGZ1bGxOb2RlSWQ6IHN0cmluZywgY29udGVudDogRGlhbG9ndWVDb250ZW50KTogdm9pZCB7XG5cbiAgICAvLyBTaG93IHR1dG9yaWFsIHRpcCBpZiBwcmVzZW50XG4gICAgaWYgKGNvbnRlbnQudHV0b3JpYWxUaXApIHtcbiAgICAgIHNob3dUdXRvcmlhbFRpcChjb250ZW50LnR1dG9yaWFsVGlwKTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIG92ZXJsYXkgY29udGVudFxuICAgIGNvbnN0IG92ZXJsYXlDb250ZW50OiBhbnkgPSB7XG4gICAgICBzcGVha2VyOiBjb250ZW50LnNwZWFrZXIsXG4gICAgICB0ZXh0OiBjb250ZW50LnRleHQsXG4gICAgICBpbnRlbnQ6IGNvbnRlbnQuaW50ZW50LFxuICAgICAgY29udGludWVMYWJlbDogY29udGVudC5jb250aW51ZUxhYmVsLFxuICAgICAgdHlwaW5nU3BlZWRNczogY29udGVudC50eXBpbmdTcGVlZE1zLFxuICAgIH07XG5cbiAgICAvLyBBZGQgY2hvaWNlcyBpZiBwcmVzZW50XG4gICAgaWYgKGNvbnRlbnQuY2hvaWNlcyAmJiBjb250ZW50LmNob2ljZXMubGVuZ3RoID4gMCkge1xuICAgICAgb3ZlcmxheUNvbnRlbnQuY2hvaWNlcyA9IGNvbnRlbnQuY2hvaWNlcztcbiAgICAgIG92ZXJsYXlDb250ZW50Lm9uQ2hvaWNlID0gKGNob2ljZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaGlkZVR1dG9yaWFsVGlwKCk7XG4gICAgICAgIG92ZXJsYXkuaGlkZSgpO1xuICAgICAgICBhY2tub3dsZWRnZU5vZGUoZnVsbE5vZGVJZCwgY2hvaWNlSWQpO1xuICAgICAgICBidXMuZW1pdChcImRpYWxvZ3VlOmNsb3NlZFwiLCB7IG5vZGVJZDogbm9kZSwgY2hhcHRlcklkOiBjaGFwdGVyIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gY2hvaWNlcyAtIGp1c3QgY29udGludWVcbiAgICAgIG92ZXJsYXlDb250ZW50Lm9uQ29udGludWUgPSAoKSA9PiB7XG4gICAgICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgICAgICBvdmVybGF5LmhpZGUoKTtcbiAgICAgICAgYWNrbm93bGVkZ2VOb2RlKGZ1bGxOb2RlSWQsIG51bGwpO1xuICAgICAgICBidXMuZW1pdChcImRpYWxvZ3VlOmNsb3NlZFwiLCB7IG5vZGVJZDogbm9kZSwgY2hhcHRlcklkOiBjaGFwdGVyIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYXV0by1hZHZhbmNlXG4gICAgaWYgKGNvbnRlbnQuYXV0b0FkdmFuY2UpIHtcbiAgICAgIG92ZXJsYXlDb250ZW50Lm9uVGV4dEZ1bGx5UmVuZGVyZWQgPSAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGhpZGVUdXRvcmlhbFRpcCgpO1xuICAgICAgICAgIG92ZXJsYXkuaGlkZSgpO1xuICAgICAgICAgIGFja25vd2xlZGdlTm9kZShmdWxsTm9kZUlkLCBudWxsKTtcbiAgICAgICAgICBidXMuZW1pdChcImRpYWxvZ3VlOmNsb3NlZFwiLCB7IG5vZGVJZDogbm9kZSwgY2hhcHRlcklkOiBjaGFwdGVyIH0pO1xuICAgICAgICB9LCBjb250ZW50LmF1dG9BZHZhbmNlLmRlbGF5TXMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBvdmVybGF5LnNob3cob3ZlcmxheUNvbnRlbnQpO1xuXG4gICAgYnVzLmVtaXQoXCJkaWFsb2d1ZTpvcGVuZWRcIiwgeyBub2RlSWQ6IG5vZGUsIGNoYXB0ZXJJZDogY2hhcHRlciB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dUdXRvcmlhbFRpcCh0aXA6IHsgdGl0bGU6IHN0cmluZzsgdGV4dDogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICBoaWRlVHV0b3JpYWxUaXAoKTtcblxuICAgIGNvbnN0IHRpcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGlwQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwic3RvcnktdHV0b3JpYWwtdGlwXCI7XG4gICAgdGlwQ29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdG9yeS10dXRvcmlhbC10aXAtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RvcnktdHV0b3JpYWwtdGlwLXRpdGxlXCI+JHtlc2NhcGVIdG1sKHRpcC50aXRsZSl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdG9yeS10dXRvcmlhbC10aXAtdGV4dFwiPiR7ZXNjYXBlSHRtbCh0aXAudGV4dCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGlwQ29udGFpbmVyKTtcbiAgICB0dXRvcmlhbFRpcEVsZW1lbnQgPSB0aXBDb250YWluZXI7XG5cbiAgICAvLyBFbnN1cmUgc3R5bGVzIGFyZSBsb2FkZWRcbiAgICBlbnN1cmVUdXRvcmlhbFRpcFN0eWxlcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZVR1dG9yaWFsVGlwKCk6IHZvaWQge1xuICAgIGlmICh0dXRvcmlhbFRpcEVsZW1lbnQpIHtcbiAgICAgIHR1dG9yaWFsVGlwRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIHR1dG9yaWFsVGlwRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuc3VyZVR1dG9yaWFsVGlwU3R5bGVzKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlSWQgPSBcInN0b3J5LXR1dG9yaWFsLXRpcC1zdHlsZXNcIjtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3R5bGVJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUuaWQgPSBzdHlsZUlkO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgLnN0b3J5LXR1dG9yaWFsLXRpcCB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiA4MHB4O1xuICAgICAgICByaWdodDogMjBweDtcbiAgICAgICAgbWF4LXdpZHRoOiAzMjBweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMywgMTQ4LCAxMzYsIDAuOTUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU2LCAxODksIDI0OCwgMC42KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBwYWRkaW5nOiAxNHB4IDE2cHg7XG4gICAgICAgIGNvbG9yOiAjZTJlOGYwO1xuICAgICAgICBmb250LWZhbWlseTogXCJJQk0gUGxleCBNb25vXCIsIFwiSmV0QnJhaW5zIE1vbm9cIiwgdWktbW9ub3NwYWNlLCBtb25vc3BhY2U7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgei1pbmRleDogNTU7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDI0cHggcmdiYSgyLCA2LCAxNiwgMC41KTtcbiAgICAgICAgYW5pbWF0aW9uOiBzdG9yeS10aXAtc2xpZGUtaW4gMC4zcyBlYXNlLW91dDtcbiAgICAgIH1cbiAgICAgIC5zdG9yeS10dXRvcmlhbC10aXAtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA4ZW07XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIGNvbG9yOiAjMzhiZGY4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICB9XG4gICAgICAuc3RvcnktdHV0b3JpYWwtdGlwLXRleHQge1xuICAgICAgICBjb2xvcjogI2YxZjVmOTtcbiAgICAgIH1cbiAgICAgIEBrZXlmcmFtZXMgc3RvcnktdGlwLXNsaWRlLWluIHtcbiAgICAgICAgZnJvbSB7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjBweCk7XG4gICAgICAgIH1cbiAgICAgICAgdG8ge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFja25vd2xlZGdlTm9kZShub2RlSWQ6IHN0cmluZywgY2hvaWNlSWQ6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBjb25zdCBtc2c6IHsgdHlwZTogc3RyaW5nOyBub2RlX2lkOiBzdHJpbmc7IGNob2ljZV9pZD86IHN0cmluZyB9ID0ge1xuICAgICAgdHlwZTogXCJkYWdfc3RvcnlfYWNrXCIsXG4gICAgICBub2RlX2lkOiBub2RlSWQsXG4gICAgfTtcbiAgICBpZiAoY2hvaWNlSWQpIHtcbiAgICAgIG1zZy5jaG9pY2VfaWQgPSBjaG9pY2VJZDtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobXNnKTtcbiAgICBjb25zb2xlLmxvZyhcIltzdG9yeV0gQWNrbm93bGVkZ2VkIG5vZGU6XCIsIG5vZGVJZCwgY2hvaWNlSWQgPyBgKGNob2ljZTogJHtjaG9pY2VJZH0pYCA6IFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coXCJbc3RvcnldIFN0YXJ0aW5nIHN0b3J5IGNvbnRyb2xsZXJcIik7XG4gICAgLy8gTGlzdGVuIGZvciBzdG9yeSBub2RlIGFjdGl2YXRpb24gZnJvbSB0aGUgc2VydmVyXG4gICAgbGlzdGVuZXJzLnB1c2goYnVzLm9uKFwic3Rvcnk6bm9kZUFjdGl2YXRlZFwiLCBoYW5kbGVOb2RlQWN0aXZhdGVkKSk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGFscmVhZHkgYW4gYWN0aXZlIHN0b3J5IG5vZGUgb24gc3RhcnR1cFxuICAgIGlmIChzdGF0ZS5zdG9yeT8uYWN0aXZlTm9kZSkge1xuICAgICAgY29uc29sZS5sb2coXCJbc3RvcnldIEZvdW5kIGFjdGl2ZSBzdG9yeSBub2RlIG9uIHN0YXJ0dXA6XCIsIHN0YXRlLnN0b3J5LmFjdGl2ZU5vZGUpO1xuICAgICAgaGFuZGxlTm9kZUFjdGl2YXRlZCh7XG4gICAgICAgIG5vZGVJZDogc3RhdGUuc3RvcnkuYWN0aXZlTm9kZSxcbiAgICAgICAgZGlhbG9ndWU6IHN0YXRlLnN0b3J5LmRpYWxvZ3VlID8/IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaGlkZVR1dG9yaWFsVGlwKCk7XG4gICAgbGlzdGVuZXJzLmZvckVhY2goKHVuc3ViKSA9PiB1bnN1YigpKTtcbiAgICBsaXN0ZW5lcnMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgZGVzdHJveSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL2J1c1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRGlhbG9ndWVPdmVybGF5IH0gZnJvbSBcIi4vb3ZlcmxheVwiO1xuaW1wb3J0IHsgY3JlYXRlU3RvcnlDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3J5Q29udHJvbGxlciB7XG4gIGRlc3Ryb3koKTogdm9pZDtcbiAgcmVzZXQoKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIE1vdW50U3RvcnlPcHRpb25zIHtcbiAgYnVzOiBFdmVudEJ1cztcbiAgc3RhdGU6IEFwcFN0YXRlO1xuICByb29tSWQ/OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIE1vdW50cyB0aGUgc2VydmVyLWRyaXZlbiBzdG9yeSBzeXN0ZW0uXG4gKiBTdG9yeSBwcm9ncmVzc2lvbiBpcyBub3cgY29udHJvbGxlZCBieSB0aGUgc2VydmVyIERBRyxcbiAqIGFuZCB0aGlzIGNvbnRyb2xsZXIgc2ltcGx5IGRpc3BsYXlzIGRpYWxvZ3VlIHdoZW4gbm9kZXMgYXJlIGFjdGl2YXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50U3RvcnkoeyBidXMsIHN0YXRlIH06IE1vdW50U3RvcnlPcHRpb25zKTogU3RvcnlDb250cm9sbGVyIHtcbiAgY29uc3Qgb3ZlcmxheSA9IGNyZWF0ZURpYWxvZ3VlT3ZlcmxheSgpO1xuICBjb25zdCBjb250cm9sbGVyID0gY3JlYXRlU3RvcnlDb250cm9sbGVyKHtcbiAgICBidXMsXG4gICAgb3ZlcmxheSxcbiAgICBzdGF0ZSxcbiAgfSk7XG4gIFxuICBjb250cm9sbGVyLnN0YXJ0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBkZXN0cm95KCkge1xuICAgICAgY29udHJvbGxlci5kZXN0cm95KCk7XG4gICAgICBvdmVybGF5LmRlc3Ryb3koKTtcbiAgICB9LFxuICAgIHJlc2V0KCkge1xuICAgICAgLy8gUmVzZXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBhcyBzdGF0ZSBpcyBzZXJ2ZXItYXV0aG9yaXRhdGl2ZVxuICAgICAgLy8gQnV0IHdlIGtlZXAgdGhlIGludGVyZmFjZSBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgY29uc29sZS53YXJuKFwiW3N0b3J5XSByZXNldCgpIGNhbGxlZCBidXQgc3RvcnkgaXMgbm93IHNlcnZlci1kcml2ZW5cIik7XG4gICAgfSxcbiAgfTtcbn1cblxuLy8gTGVnYWN5IGV4cG9ydHMgZm9yIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBJTlRST19DSEFQVEVSX0lEID0gXCJpbnRyb1wiO1xuZXhwb3J0IGNvbnN0IElOVFJPX0lOSVRJQUxfUkVTUE9OU0VfSURTID0gW1wiMkFcIiwgXCIyQlwiLCBcIjJDXCJdIGFzIGNvbnN0O1xuIiwgIi8vIHNyYy9zdGFydC1nYXRlLnRzXG5leHBvcnQgdHlwZSBTdGFydEdhdGVPcHRpb25zID0ge1xuICBsYWJlbD86IHN0cmluZztcbiAgcmVxdWVzdEZ1bGxzY3JlZW4/OiBib29sZWFuO1xuICByZXN1bWVBdWRpbz86ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkOyAvLyBlLmcuLCBmcm9tIHN0b3J5L3NmeC50c1xufTtcblxuY29uc3QgU1RPUkFHRV9LRVkgPSBcImxzZDptdXRlZFwiO1xuXG4vLyBIZWxwZXI6IGdldCB0aGUgc2hhcmVkIEF1ZGlvQ29udGV4dCB5b3UgZXhwb3NlIHNvbWV3aGVyZSBpbiB5b3VyIGF1ZGlvIGVuZ2luZTpcbi8vICAgKHdpbmRvdyBhcyBhbnkpLkxTRF9BVURJT19DVFggPSBjdHg7XG5mdW5jdGlvbiBnZXRDdHgoKTogQXVkaW9Db250ZXh0IHwgbnVsbCB7XG4gIGNvbnN0IEFDID0gKHdpbmRvdyBhcyBhbnkpLkF1ZGlvQ29udGV4dCB8fCAod2luZG93IGFzIGFueSkud2Via2l0QXVkaW9Db250ZXh0O1xuICBjb25zdCBjdHggPSAod2luZG93IGFzIGFueSkuTFNEX0FVRElPX0NUWDtcbiAgcmV0dXJuIGN0eCBpbnN0YW5jZW9mIEFDID8gY3R4IGFzIEF1ZGlvQ29udGV4dCA6IG51bGw7XG59XG5cbmNsYXNzIE11dGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBidXR0b25zOiBIVE1MQnV0dG9uRWxlbWVudFtdID0gW107XG4gIHByaXZhdGUgZW5mb3JjaW5nID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8ga2VlcCBVSSBpbiBzeW5jIGlmIHNvbWVvbmUgZWxzZSB0b2dnbGVzXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImxzZDptdXRlQ2hhbmdlZFwiLCAoZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBtdXRlZCA9ICEhZT8uZGV0YWlsPy5tdXRlZDtcbiAgICAgIHRoaXMuYXBwbHlVSShtdXRlZCk7XG4gICAgfSk7XG4gIH1cblxuICBpc011dGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSkgPT09IFwiMVwiO1xuICB9XG5cbiAgcHJpdmF0ZSBzYXZlKG11dGVkOiBib29sZWFuKSB7XG4gICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIG11dGVkID8gXCIxXCIgOiBcIjBcIik7IH0gY2F0Y2gge31cbiAgfVxuXG4gIHByaXZhdGUgbGFiZWwoYnRuOiBIVE1MQnV0dG9uRWxlbWVudCwgbXV0ZWQ6IGJvb2xlYW4pIHtcbiAgICBidG4uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFN0cmluZyhtdXRlZCkpO1xuICAgIGJ0bi50aXRsZSA9IG11dGVkID8gXCJVbm11dGUgKE0pXCIgOiBcIk11dGUgKE0pXCI7XG4gICAgYnRuLnRleHRDb250ZW50ID0gbXV0ZWQgPyBcIlx1RDgzRFx1REQwOCBVbm11dGVcIiA6IFwiXHVEODNEXHVERDA3IE11dGVcIjtcbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlVSShtdXRlZDogYm9vbGVhbikge1xuICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGIgPT4gdGhpcy5sYWJlbChiLCBtdXRlZCkpO1xuICB9XG5cbiAgYXR0YWNoQnV0dG9uKGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQpIHtcbiAgICB0aGlzLmJ1dHRvbnMucHVzaChidG4pO1xuICAgIHRoaXMubGFiZWwoYnRuLCB0aGlzLmlzTXV0ZWQoKSk7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnRvZ2dsZSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNldE11dGVkKG11dGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5zYXZlKG11dGVkKTtcbiAgICB0aGlzLmFwcGx5VUkobXV0ZWQpO1xuXG4gICAgY29uc3QgY3R4ID0gZ2V0Q3R4KCk7XG4gICAgaWYgKGN0eCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG11dGVkICYmIGN0eC5zdGF0ZSAhPT0gXCJzdXNwZW5kZWRcIikge1xuICAgICAgICAgIGF3YWl0IGN0eC5zdXNwZW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW11dGVkICYmIGN0eC5zdGF0ZSAhPT0gXCJydW5uaW5nXCIpIHtcbiAgICAgICAgICBhd2FpdCBjdHgucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiW2F1ZGlvXSBtdXRlIHRvZ2dsZSBmYWlsZWQ6XCIsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwibHNkOm11dGVDaGFuZ2VkXCIsIHsgZGV0YWlsOiB7IG11dGVkIH0gfSkpO1xuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMuc2V0TXV0ZWQoIXRoaXMuaXNNdXRlZCgpKTtcbiAgfVxuXG4gIC8vIElmIGN0eCBpc24ndCBjcmVhdGVkIHVudGlsIGFmdGVyIFN0YXJ0LCBlbmZvcmNlIHBlcnNpc3RlZCBzdGF0ZSBvbmNlIGF2YWlsYWJsZVxuICBlbmZvcmNlT25jZVdoZW5SZWFkeSgpIHtcbiAgICBpZiAodGhpcy5lbmZvcmNpbmcpIHJldHVybjtcbiAgICB0aGlzLmVuZm9yY2luZyA9IHRydWU7XG4gICAgY29uc3QgdGljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGN0eCA9IGdldEN0eCgpO1xuICAgICAgaWYgKCFjdHgpIHsgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOyByZXR1cm47IH1cbiAgICAgIHRoaXMuc2V0TXV0ZWQodGhpcy5pc011dGVkKCkpO1xuICAgIH07XG4gICAgdGljaygpO1xuICB9XG59XG5cbmNvbnN0IG11dGVNZ3IgPSBuZXcgTXV0ZU1hbmFnZXIoKTtcblxuLy8gSW5zdGFsbCBhIG11dGUgYnV0dG9uIGluIHRoZSB0b3AgZnJhbWUgKHJpZ2h0IHNpZGUpIGlmIHBvc3NpYmxlLlxuZnVuY3Rpb24gZW5zdXJlVG9wRnJhbWVNdXRlQnV0dG9uKCkge1xuICBjb25zdCB0b3BSaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9wLXJpZ2h0XCIpO1xuICBpZiAoIXRvcFJpZ2h0KSByZXR1cm47XG5cbiAgLy8gQXZvaWQgZHVwbGljYXRlc1xuICBpZiAodG9wUmlnaHQucXVlcnlTZWxlY3RvcihcIiNtdXRlLXRvcFwiKSkgcmV0dXJuO1xuXG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ0bi5pZCA9IFwibXV0ZS10b3BcIjtcbiAgYnRuLmNsYXNzTmFtZSA9IFwiZ2hvc3QtYnRuIHNtYWxsXCI7XG4gIGJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwgXCJmYWxzZVwiKTtcbiAgYnRuLnRpdGxlID0gXCJNdXRlIChNKVwiO1xuICBidG4udGV4dENvbnRlbnQgPSBcIlx1RDgzRFx1REQwNyBNdXRlXCI7XG4gIHRvcFJpZ2h0LmFwcGVuZENoaWxkKGJ0bik7XG4gIG11dGVNZ3IuYXR0YWNoQnV0dG9uKGJ0bik7XG59XG5cbi8vIEdsb2JhbCBrZXlib2FyZCBzaG9ydGN1dCAoTSlcbihmdW5jdGlvbiBpbnN0YWxsTXV0ZUhvdGtleSgpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5Py50b0xvd2VyQ2FzZSgpID09PSBcIm1cIikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbXV0ZU1nci50b2dnbGUoKTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JVc2VyU3RhcnQob3B0czogU3RhcnRHYXRlT3B0aW9ucyA9IHt9KTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHsgbGFiZWwgPSBcIlN0YXJ0IEdhbWVcIiwgcmVxdWVzdEZ1bGxzY3JlZW4gPSBmYWxzZSwgcmVzdW1lQXVkaW8gfSA9IG9wdHM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgLy8gb3ZlcmxheVxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG92ZXJsYXkuaWQgPSBcInN0YXJ0LW92ZXJsYXlcIjtcbiAgICBvdmVybGF5LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgaWQ9XCJzdGFydC1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInN0YXJ0LWJ0blwiIGFyaWEtbGFiZWw9XCIke2xhYmVsfVwiPiR7bGFiZWx9PC9idXR0b24+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOjEwcHhcIj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwibXV0ZS1iZWxvdy1zdGFydFwiIGNsYXNzPVwiZ2hvc3QtYnRuXCIgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIiB0aXRsZT1cIk11dGUgKE0pXCI+XHVEODNEXHVERDA3IE11dGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwPiBPbiBtb2JpbGUgdHVybiBwaG9uZSB0byBsYW5kc2NhcGUgZm9yIGJlc3QgZXhwZXJpZW5jZS4gPC9wPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuXG4gICAgLy8gc3R5bGVzIChtb3ZlIHRvIENTUyBsYXRlciBpZiB5b3Ugd2FudClcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICNzdGFydC1vdmVybGF5IHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgY2VudGVyLCByZ2JhKDAsMCwwLDAuNiksIHJnYmEoMCwwLDAsMC45KSk7XG4gICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICB9XG4gICAgICAjc3RhcnQtY29udGFpbmVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyB9XG4gICAgICAjc3RhcnQtYnRuIHtcbiAgICAgICAgZm9udC1zaXplOiAycmVtOyBwYWRkaW5nOiAxcmVtIDIuNXJlbTsgYm9yZGVyOiAycHggc29saWQgI2ZmZjsgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGNvbG9yOiAjZmZmOyBjdXJzb3I6IHBvaW50ZXI7IHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTJzIGVhc2UsIGJhY2tncm91bmQgLjJzIGVhc2UsIGNvbG9yIC4ycyBlYXNlO1xuICAgICAgfVxuICAgICAgI3N0YXJ0LWJ0bjpob3ZlciB7IGJhY2tncm91bmQ6ICNmZmY7IGNvbG9yOiAjMDAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7IH1cbiAgICAgICNzdGFydC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgICAjbXV0ZS1iZWxvdy1zdGFydCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMXJlbTsgcGFkZGluZzogLjVyZW0gMXJlbTsgYm9yZGVyLXJhZGl1czogOTk5cHg7IGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4zNSk7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDQxLCA1OSwgMC43Mik7IGNvbG9yOiAjZjhmYWZjO1xuICAgICAgfVxuICAgICAgLmdob3N0LWJ0bi5zbWFsbCB7IHBhZGRpbmc6IDRweCA4cHg7IGZvbnQtc2l6ZTogMTFweDsgfVxuICAgIGA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAvLyBXaXJlIG92ZXJsYXkgYnV0dG9uc1xuICAgIGNvbnN0IHN0YXJ0QnRuID0gb3ZlcmxheS5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNzdGFydC1idG5cIikhO1xuICAgIGNvbnN0IG11dGVCZWxvd1N0YXJ0ID0gb3ZlcmxheS5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcIiNtdXRlLWJlbG93LXN0YXJ0XCIpITtcbiAgICBjb25zdCB0b3BNdXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtdXRlLXRvcFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKHRvcE11dGUpIG11dGVNZ3IuYXR0YWNoQnV0dG9uKHRvcE11dGUpO1xuICAgIG11dGVNZ3IuYXR0YWNoQnV0dG9uKG11dGVCZWxvd1N0YXJ0KTtcblxuICAgIC8vIHJlc3RvcmUgcGVyc2lzdGVkIG11dGUgbGFiZWwgaW1tZWRpYXRlbHlcbiAgICBtdXRlTWdyLmVuZm9yY2VPbmNlV2hlblJlYWR5KCk7XG5cbiAgICBjb25zdCBzdGFydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIC8vIGF1ZGlvIGZpcnN0ICh1c2VyIGdlc3R1cmUpXG4gICAgICB0cnkgeyBhd2FpdCByZXN1bWVBdWRpbz8uKCk7IH0gY2F0Y2gge31cblxuICAgICAgLy8gcmVzcGVjdCBwZXJzaXN0ZWQgbXV0ZSBzdGF0ZSBub3cgdGhhdCBjdHggbGlrZWx5IGV4aXN0c1xuICAgICAgbXV0ZU1nci5lbmZvcmNlT25jZVdoZW5SZWFkeSgpO1xuXG4gICAgICAvLyBvcHRpb25hbCBmdWxsc2NyZWVuXG4gICAgICBpZiAocmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgdHJ5IHsgYXdhaXQgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuPy4oKTsgfSBjYXRjaCB7fVxuICAgICAgfVxuXG4gICAgICAvLyBjbGVhbnVwIG92ZXJsYXlcbiAgICAgIHN0eWxlLnJlbW92ZSgpO1xuICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcblxuICAgICAgLy8gZW5zdXJlIHRvcC1mcmFtZSBtdXRlIGJ1dHRvbiBleGlzdHMgYWZ0ZXIgb3ZlcmxheVxuICAgICAgZW5zdXJlVG9wRnJhbWVNdXRlQnV0dG9uKCk7XG5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuXG4gICAgLy8gc3RhcnQgYnV0dG9uXG4gICAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHN0YXJ0LCB7IG9uY2U6IHRydWUgfSk7XG5cbiAgICAvLyBBY2Nlc3NpYmlsaXR5OiBhbGxvdyBFbnRlciAvIFNwYWNlXG4gICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEZvY3VzIGZvciBrZXlib2FyZCB1c2Vyc1xuICAgIHN0YXJ0QnRuLnRhYkluZGV4ID0gMDtcbiAgICBzdGFydEJ0bi5mb2N1cygpO1xuXG4gICAgLy8gQWxzbyB0cnkgdG8gY3JlYXRlIHRoZSB0b3AtZnJhbWUgbXV0ZSBpbW1lZGlhdGVseSBpZiBET00gaXMgcmVhZHlcbiAgICAvLyAoSWYgI3RvcC1yaWdodCBpc24ndCB0aGVyZSB5ZXQsIGl0J3MgaGFybWxlc3M7IHdlJ2xsIGFkZCBpdCBhZnRlciBzdGFydCB0b28uKVxuICAgIGVuc3VyZVRvcEZyYW1lTXV0ZUJ1dHRvbigpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFBSTkcgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgQXVkaW9FbmdpbmUge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdDogQXVkaW9FbmdpbmUgfCBudWxsID0gbnVsbDtcblxuICBwdWJsaWMgcmVhZG9ubHkgY3R4OiBBdWRpb0NvbnRleHQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWFzdGVyOiBHYWluTm9kZTtcbiAgcHJpdmF0ZSByZWFkb25seSBtdXNpY0J1czogR2Fpbk5vZGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2Z4QnVzOiBHYWluTm9kZTtcblxuICBwcml2YXRlIF90YXJnZXRNYXN0ZXIgPSAwLjk7XG4gIHByaXZhdGUgX3RhcmdldE11c2ljID0gMC45O1xuICBwcml2YXRlIF90YXJnZXRTZnggPSAwLjk7XG5cbiAgc3RhdGljIGdldCgpOiBBdWRpb0VuZ2luZSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0KSB0aGlzLl9pbnN0ID0gbmV3IEF1ZGlvRW5naW5lKCk7XG4gICAgcmV0dXJuIHRoaXMuX2luc3Q7XG4gIH1cblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICh3aW5kb3cgYXMgYW55KS5MU0RfQVVESU9fQ1RYID0gKHRoaXMgYXMgYW55KS5jdHg7XG5cbiAgICB0aGlzLm1hc3RlciA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiB0aGlzLl90YXJnZXRNYXN0ZXIgfSk7XG4gICAgdGhpcy5tdXNpY0J1cyA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiB0aGlzLl90YXJnZXRNdXNpYyB9KTtcbiAgICB0aGlzLnNmeEJ1cyA9IG5ldyBHYWluTm9kZSh0aGlzLmN0eCwgeyBnYWluOiB0aGlzLl90YXJnZXRTZnggfSk7XG5cbiAgICB0aGlzLm11c2ljQnVzLmNvbm5lY3QodGhpcy5tYXN0ZXIpO1xuICAgIHRoaXMuc2Z4QnVzLmNvbm5lY3QodGhpcy5tYXN0ZXIpO1xuICAgIHRoaXMubWFzdGVyLmNvbm5lY3QodGhpcy5jdHguZGVzdGluYXRpb24pO1xuICB9XG5cbiAgZ2V0IG5vdygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmN0eC5jdXJyZW50VGltZTtcbiAgfVxuXG4gIGdldE11c2ljQnVzKCk6IEdhaW5Ob2RlIHtcbiAgICByZXR1cm4gdGhpcy5tdXNpY0J1cztcbiAgfVxuXG4gIGdldFNmeEJ1cygpOiBHYWluTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMuc2Z4QnVzO1xuICB9XG5cbiAgYXN5bmMgcmVzdW1lKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmN0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xuICAgICAgYXdhaXQgdGhpcy5jdHgucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc3VzcGVuZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XG4gICAgICBhd2FpdCB0aGlzLmN0eC5zdXNwZW5kKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0TWFzdGVyR2Fpbih2OiBudW1iZXIsIHQgPSB0aGlzLm5vdywgcmFtcCA9IDAuMDMpOiB2b2lkIHtcbiAgICB0aGlzLl90YXJnZXRNYXN0ZXIgPSB2O1xuICAgIHRoaXMubWFzdGVyLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpO1xuICAgIHRoaXMubWFzdGVyLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodiwgdCArIHJhbXApO1xuICB9XG5cbiAgc2V0TXVzaWNHYWluKHY6IG51bWJlciwgdCA9IHRoaXMubm93LCByYW1wID0gMC4wMyk6IHZvaWQge1xuICAgIHRoaXMuX3RhcmdldE11c2ljID0gdjtcbiAgICB0aGlzLm11c2ljQnVzLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpO1xuICAgIHRoaXMubXVzaWNCdXMuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2LCB0ICsgcmFtcCk7XG4gIH1cblxuICBzZXRTZnhHYWluKHY6IG51bWJlciwgdCA9IHRoaXMubm93LCByYW1wID0gMC4wMyk6IHZvaWQge1xuICAgIHRoaXMuX3RhcmdldFNmeCA9IHY7XG4gICAgdGhpcy5zZnhCdXMuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCk7XG4gICAgdGhpcy5zZnhCdXMuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2LCB0ICsgcmFtcCk7XG4gIH1cblxuICBkdWNrTXVzaWMobGV2ZWwgPSAwLjQsIGF0dGFjayA9IDAuMDUpOiB2b2lkIHtcbiAgICBjb25zdCB0ID0gdGhpcy5ub3c7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICB0aGlzLm11c2ljQnVzLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUobGV2ZWwsIHQgKyBhdHRhY2spO1xuICB9XG5cbiAgdW5kdWNrTXVzaWMocmVsZWFzZSA9IDAuMjUpOiB2b2lkIHtcbiAgICBjb25zdCB0ID0gdGhpcy5ub3c7XG4gICAgdGhpcy5tdXNpY0J1cy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICB0aGlzLm11c2ljQnVzLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGhpcy5fdGFyZ2V0TXVzaWMsIHQgKyByZWxlYXNlKTtcbiAgfVxufVxuXG4vLyBUaW55IHNlZWRhYmxlIFBSTkcgKE11bGJlcnJ5MzIpXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBSTkcoc2VlZDogbnVtYmVyKTogUFJORyB7XG4gIGxldCBzID0gKHNlZWQgPj4+IDApIHx8IDE7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcyArPSAweDZEMkI3OUY1O1xuICAgIGxldCB0ID0gTWF0aC5pbXVsKHMgXiAocyA+Pj4gMTUpLCAxIHwgcyk7XG4gICAgdCBePSB0ICsgTWF0aC5pbXVsKHQgXiAodCA+Pj4gNyksIDYxIHwgdCk7XG4gICAgcmV0dXJuICgodCBeICh0ID4+PiAxNCkpID4+PiAwKSAvIDQyOTQ5NjcyOTY7XG4gIH07XG59XG4iLCAiLy8gTG93LWxldmVsIGdyYXBoIGJ1aWxkZXJzIC8gaGVscGVyc1xuXG5leHBvcnQgZnVuY3Rpb24gb3NjKGN0eDogQXVkaW9Db250ZXh0LCB0eXBlOiBPc2NpbGxhdG9yVHlwZSwgZnJlcTogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgT3NjaWxsYXRvck5vZGUoY3R4LCB7IHR5cGUsIGZyZXF1ZW5jeTogZnJlcSB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vaXNlKGN0eDogQXVkaW9Db250ZXh0KSB7XG4gIGNvbnN0IGJ1ZmZlciA9IGN0eC5jcmVhdGVCdWZmZXIoMSwgY3R4LnNhbXBsZVJhdGUgKiAyLCBjdHguc2FtcGxlUmF0ZSk7XG4gIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgZGF0YVtpXSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcbiAgcmV0dXJuIG5ldyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUoY3R4LCB7IGJ1ZmZlciwgbG9vcDogdHJ1ZSB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYW5uZXIoY3R4OiBBdWRpb0NvbnRleHQsIHBhbiA9IDApIHtcbiAgcmV0dXJuIG5ldyBTdGVyZW9QYW5uZXJOb2RlKGN0eCwgeyBwYW4gfSk7XG59XG5cbi8qKiBCYXNpYyBBRFNSIGFwcGxpZWQgdG8gYSBHYWluTm9kZSBBdWRpb1BhcmFtLiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gcmVsZWFzZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZHNyKFxuICBjdHg6IEF1ZGlvQ29udGV4dCxcbiAgcGFyYW06IEF1ZGlvUGFyYW0sXG4gIHQwOiBudW1iZXIsXG4gIGEgPSAwLjAxLCAvLyBhdHRhY2tcbiAgZCA9IDAuMDgsIC8vIGRlY2F5XG4gIHMgPSAwLjUsICAvLyBzdXN0YWluICgwLi4xIG9mIHBlYWspXG4gIHIgPSAwLjIsICAvLyByZWxlYXNlXG4gIHBlYWsgPSAxXG4pIHtcbiAgcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQwKTtcbiAgcGFyYW0uc2V0VmFsdWVBdFRpbWUoMCwgdDApO1xuICBwYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwZWFrLCB0MCArIGEpO1xuICBwYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShzICogcGVhaywgdDAgKyBhICsgZCk7XG4gIHJldHVybiAocmVsZWFzZUF0ID0gY3R4LmN1cnJlbnRUaW1lKSA9PiB7XG4gICAgcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHJlbGVhc2VBdCk7XG4gICAgLy8gYXZvaWQgc3VkZGVuIGp1bXBzOyBjb250aW51ZSBmcm9tIGN1cnJlbnRcbiAgICBwYXJhbS5zZXRWYWx1ZUF0VGltZShwYXJhbS52YWx1ZSwgcmVsZWFzZUF0KTtcbiAgICBwYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLjAwMDEsIHJlbGVhc2VBdCArIHIpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGZvVG9QYXJhbShcbiAgY3R4OiBBdWRpb0NvbnRleHQsXG4gIHRhcmdldDogQXVkaW9QYXJhbSxcbiAgeyBmcmVxdWVuY3kgPSAwLjEsIGRlcHRoID0gMzAwLCB0eXBlID0gXCJzaW5lXCIgYXMgT3NjaWxsYXRvclR5cGUgfSA9IHt9XG4pIHtcbiAgY29uc3QgbGZvID0gbmV3IE9zY2lsbGF0b3JOb2RlKGN0eCwgeyB0eXBlLCBmcmVxdWVuY3kgfSk7XG4gIGNvbnN0IGFtcCA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogZGVwdGggfSk7XG4gIGxmby5jb25uZWN0KGFtcCkuY29ubmVjdCh0YXJnZXQpO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0KGF0ID0gY3R4LmN1cnJlbnRUaW1lKSB7IGxmby5zdGFydChhdCk7IH0sXG4gICAgc3RvcChhdCA9IGN0eC5jdXJyZW50VGltZSkgeyBsZm8uc3RvcChhdCk7IGFtcC5kaXNjb25uZWN0KCk7IH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgQXVkaW9FbmdpbmUgfSBmcm9tIFwiLi9lbmdpbmVcIjtcbmltcG9ydCB7IGFkc3IsIG1ha2VQYW5uZXIsIG5vaXNlLCBvc2MgfSBmcm9tIFwiLi9ncmFwaFwiO1xuaW1wb3J0IHR5cGUgeyBTZnhOYW1lIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqIEZpcmUtYW5kLWZvcmdldCBTRlggYnkgbmFtZSwgd2l0aCBzaW1wbGUgcGFyYW1zLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBsYXlTZngoXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIG5hbWU6IFNmeE5hbWUsXG4gIG9wdHM6IHsgdmVsb2NpdHk/OiBudW1iZXI7IHBhbj86IG51bWJlciB9ID0ge31cbikge1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlIFwibGFzZXJcIjogcmV0dXJuIHBsYXlMYXNlcihlbmdpbmUsIG9wdHMpO1xuICAgIGNhc2UgXCJ0aHJ1c3RcIjogcmV0dXJuIHBsYXlUaHJ1c3QoZW5naW5lLCBvcHRzKTtcbiAgICBjYXNlIFwiZXhwbG9zaW9uXCI6IHJldHVybiBwbGF5RXhwbG9zaW9uKGVuZ2luZSwgb3B0cyk7XG4gICAgY2FzZSBcImxvY2tcIjogcmV0dXJuIHBsYXlMb2NrKGVuZ2luZSwgb3B0cyk7XG4gICAgY2FzZSBcInVpXCI6IHJldHVybiBwbGF5VWkoZW5naW5lLCBvcHRzKTtcbiAgICBjYXNlIFwiZGlhbG9ndWVcIjogcmV0dXJuIHBsYXlEaWFsb2d1ZShlbmdpbmUsIG9wdHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5TGFzZXIoXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIHsgdmVsb2NpdHkgPSAxLCBwYW4gPSAwIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IG8gPSBvc2MoY3R4LCBcInNxdWFyZVwiLCA2ODAgKyAxNjAgKiB2ZWxvY2l0eSk7XG4gIGNvbnN0IGYgPSBuZXcgQmlxdWFkRmlsdGVyTm9kZShjdHgsIHsgdHlwZTogXCJsb3dwYXNzXCIsIGZyZXF1ZW5jeTogMTIwMCB9KTtcbiAgY29uc3QgZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMCB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG8uY29ubmVjdChmKS5jb25uZWN0KGcpLmNvbm5lY3QocCkuY29ubmVjdChvdXQpO1xuICBjb25zdCByZWxlYXNlID0gYWRzcihjdHgsIGcuZ2Fpbiwgbm93LCAwLjAwMiwgMC4wMywgMC4yNSwgMC4wOCwgMC42NSk7XG4gIG8uc3RhcnQobm93KTtcbiAgcmVsZWFzZShub3cgKyAwLjA2KTtcbiAgby5zdG9wKG5vdyArIDAuMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5VGhydXN0KFxuICBlbmdpbmU6IEF1ZGlvRW5naW5lLFxuICB7IHZlbG9jaXR5ID0gMC42LCBwYW4gPSAwIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IG4gPSBub2lzZShjdHgpO1xuICBjb25zdCBmID0gbmV3IEJpcXVhZEZpbHRlck5vZGUoY3R4LCB7XG4gICAgdHlwZTogXCJiYW5kcGFzc1wiLFxuICAgIGZyZXF1ZW5jeTogMTgwICsgMzYwICogdmVsb2NpdHksXG4gICAgUTogMS4xLFxuICB9KTtcbiAgY29uc3QgZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMCB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG4uY29ubmVjdChmKS5jb25uZWN0KGcpLmNvbm5lY3QocCkuY29ubmVjdChvdXQpO1xuICBjb25zdCByZWxlYXNlID0gYWRzcihjdHgsIGcuZ2Fpbiwgbm93LCAwLjAxMiwgMC4xNSwgMC43NSwgMC4yNSwgMC40NSAqIHZlbG9jaXR5KTtcbiAgbi5zdGFydChub3cpO1xuICByZWxlYXNlKG5vdyArIDAuMjUpO1xuICBuLnN0b3Aobm93ICsgMS4wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlFeHBsb3Npb24oXG4gIGVuZ2luZTogQXVkaW9FbmdpbmUsXG4gIHsgdmVsb2NpdHkgPSAxLCBwYW4gPSAwIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IG4gPSBub2lzZShjdHgpO1xuICBjb25zdCBmID0gbmV3IEJpcXVhZEZpbHRlck5vZGUoY3R4LCB7XG4gICAgdHlwZTogXCJsb3dwYXNzXCIsXG4gICAgZnJlcXVlbmN5OiAyMjAwICogTWF0aC5tYXgoMC4yLCBNYXRoLm1pbih2ZWxvY2l0eSwgMSkpLFxuICAgIFE6IDAuMixcbiAgfSk7XG4gIGNvbnN0IGcgPSBuZXcgR2Fpbk5vZGUoY3R4LCB7IGdhaW46IDAgfSk7XG4gIGNvbnN0IHAgPSBtYWtlUGFubmVyKGN0eCwgcGFuKTtcblxuICBuLmNvbm5lY3QoZikuY29ubmVjdChnKS5jb25uZWN0KHApLmNvbm5lY3Qob3V0KTtcbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMDUsIDAuMDgsIDAuNSwgMC4zNSwgMS4xICogdmVsb2NpdHkpO1xuICBuLnN0YXJ0KG5vdyk7XG4gIHJlbGVhc2Uobm93ICsgMC4xNSArIDAuMSAqIHZlbG9jaXR5KTtcbiAgbi5zdG9wKG5vdyArIDEuMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5TG9jayhcbiAgZW5naW5lOiBBdWRpb0VuZ2luZSxcbiAgeyB2ZWxvY2l0eSA9IDEsIHBhbiA9IDAgfSA9IHt9XG4pIHtcbiAgY29uc3QgeyBjdHgsIG5vdyB9ID0gZW5naW5lO1xuICBjb25zdCBvdXQgPSBlbmdpbmUuZ2V0U2Z4QnVzKCk7XG5cbiAgY29uc3QgYmFzZSA9IDUyMCArIDE0MCAqIHZlbG9jaXR5O1xuICBjb25zdCBvMSA9IG9zYyhjdHgsIFwic2luZVwiLCBiYXNlKTtcbiAgY29uc3QgbzIgPSBvc2MoY3R4LCBcInNpbmVcIiwgYmFzZSAqIDEuNSk7XG5cbiAgY29uc3QgZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMCB9KTtcbiAgY29uc3QgcCA9IG1ha2VQYW5uZXIoY3R4LCBwYW4pO1xuXG4gIG8xLmNvbm5lY3QoZyk7IG8yLmNvbm5lY3QoZyk7XG4gIGcuY29ubmVjdChwKS5jb25uZWN0KG91dCk7XG5cbiAgY29uc3QgcmVsZWFzZSA9IGFkc3IoY3R4LCBnLmdhaW4sIG5vdywgMC4wMDEsIDAuMDIsIDAuMCwgMC4xMiwgMC42KTtcbiAgbzEuc3RhcnQobm93KTsgbzIuc3RhcnQobm93ICsgMC4wMik7XG4gIHJlbGVhc2Uobm93ICsgMC4wNik7XG4gIG8xLnN0b3Aobm93ICsgMC4yKTsgbzIuc3RvcChub3cgKyAwLjIyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlVaShlbmdpbmU6IEF1ZGlvRW5naW5lLCB7IHZlbG9jaXR5ID0gMSwgcGFuID0gMCB9ID0ge30pIHtcbiAgY29uc3QgeyBjdHgsIG5vdyB9ID0gZW5naW5lO1xuICBjb25zdCBvdXQgPSBlbmdpbmUuZ2V0U2Z4QnVzKCk7XG5cbiAgY29uc3QgbyA9IG9zYyhjdHgsIFwidHJpYW5nbGVcIiwgODgwIC0gMTIwICogdmVsb2NpdHkpO1xuICBjb25zdCBnID0gbmV3IEdhaW5Ob2RlKGN0eCwgeyBnYWluOiAwIH0pO1xuICBjb25zdCBwID0gbWFrZVBhbm5lcihjdHgsIHBhbik7XG5cbiAgby5jb25uZWN0KGcpLmNvbm5lY3QocCkuY29ubmVjdChvdXQpO1xuICBjb25zdCByZWxlYXNlID0gYWRzcihjdHgsIGcuZ2Fpbiwgbm93LCAwLjAwMSwgMC4wNCwgMC4wLCAwLjA4LCAwLjM1KTtcbiAgby5zdGFydChub3cpO1xuICByZWxlYXNlKG5vdyArIDAuMDUpO1xuICBvLnN0b3Aobm93ICsgMC4xOCk7XG59XG5cbi8qKiBEaWFsb2d1ZSBjdWUgdXNlZCBieSB0aGUgc3Rvcnkgb3ZlcmxheSAoc2hvcnQsIGdlbnRsZSBwaW5nKS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbGF5RGlhbG9ndWUoZW5naW5lOiBBdWRpb0VuZ2luZSwgeyB2ZWxvY2l0eSA9IDEsIHBhbiA9IDAgfSA9IHt9KSB7XG4gIGNvbnN0IHsgY3R4LCBub3cgfSA9IGVuZ2luZTtcbiAgY29uc3Qgb3V0ID0gZW5naW5lLmdldFNmeEJ1cygpO1xuXG4gIGNvbnN0IGZyZXEgPSA0ODAgKyAxNjAgKiB2ZWxvY2l0eTtcbiAgY29uc3QgbyA9IG9zYyhjdHgsIFwic2luZVwiLCBmcmVxKTtcbiAgY29uc3QgZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMC4wMDAxIH0pO1xuICBjb25zdCBwID0gbWFrZVBhbm5lcihjdHgsIHBhbik7XG5cbiAgby5jb25uZWN0KGcpLmNvbm5lY3QocCkuY29ubmVjdChvdXQpO1xuICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4wMDAxLCBub3cpO1xuICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjA0LCBub3cgKyAwLjAyKTtcbiAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDA1LCBub3cgKyAwLjI4KTtcblxuICBvLnN0YXJ0KG5vdyk7XG4gIG8uc3RvcChub3cgKyAwLjMpO1xufVxuIiwgImltcG9ydCB0eXBlIHsgU3RvcnlJbnRlbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgQXVkaW9FbmdpbmUgfSBmcm9tIFwiLi4vYXVkaW8vZW5naW5lXCI7XG5pbXBvcnQgeyBwbGF5RGlhbG9ndWUgYXMgcGxheURpYWxvZ3VlU2Z4IH0gZnJvbSBcIi4uL2F1ZGlvL3NmeFwiO1xuXG5sZXQgbGFzdFBsYXllZEF0ID0gMDtcblxuLy8gTWFpbnRhaW4gdGhlIG9sZCBwdWJsaWMgQVBJIHNvIGVuZ2luZS50cyBkb2Vzbid0IGNoYW5nZVxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1ZGlvQ29udGV4dCgpOiBBdWRpb0NvbnRleHQge1xuICByZXR1cm4gQXVkaW9FbmdpbmUuZ2V0KCkuY3R4O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdW1lQXVkaW8oKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IEF1ZGlvRW5naW5lLmdldCgpLnJlc3VtZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheURpYWxvZ3VlQ3VlKGludGVudDogU3RvcnlJbnRlbnQpOiB2b2lkIHtcbiAgY29uc3QgZW5naW5lID0gQXVkaW9FbmdpbmUuZ2V0KCk7XG4gIGNvbnN0IG5vdyA9IGVuZ2luZS5ub3c7XG5cbiAgLy8gVGhyb3R0bGUgcmFwaWQgY3VlcyB0byBhdm9pZCBjbHV0dGVyXG4gIGlmIChub3cgLSBsYXN0UGxheWVkQXQgPCAwLjEpIHJldHVybjtcbiAgbGFzdFBsYXllZEF0ID0gbm93O1xuXG4gIC8vIE1hcCBcImZhY3RvcnlcIiB2cyBvdGhlcnMgdG8gYSBzbGlnaHRseSBkaWZmZXJlbnQgdmVsb2NpdHkgKGJyaWdodG5lc3MpXG4gIGNvbnN0IHZlbG9jaXR5ID0gaW50ZW50ID09PSBcImZhY3RvcnlcIiA/IDAuOCA6IDAuNTtcbiAgcGxheURpYWxvZ3VlU2Z4KGVuZ2luZSwgeyB2ZWxvY2l0eSwgcGFuOiAwIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VzcGVuZERpYWxvZ3VlQXVkaW8oKTogdm9pZCB7XG4gIHZvaWQgQXVkaW9FbmdpbmUuZ2V0KCkuc3VzcGVuZCgpO1xufVxuIiwgImltcG9ydCB7IG1ha2VQUk5HIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xuXG5leHBvcnQgdHlwZSBBbWJpZW50UGFyYW1zID0ge1xuICBpbnRlbnNpdHk6IG51bWJlcjsgIC8vIG92ZXJhbGwgbG91ZG5lc3MgLyBlbmVyZ3kgKDAuLjEpXG4gIGJyaWdodG5lc3M6IG51bWJlcjsgLy8gZmlsdGVyIG9wZW5uZXNzICYgY2hvcmQgdGltYnJlICgwLi4xKVxuICBkZW5zaXR5OiBudW1iZXI7ICAgIC8vIGNob3JkIHNwYXduIHJhdGUgLyB0aGlja25lc3MgKDAuLjEpXG59O1xuXG50eXBlIE1vZGVOYW1lID0gXCJJb25pYW5cIiB8IFwiRG9yaWFuXCIgfCBcIlBocnlnaWFuXCIgfCBcIkx5ZGlhblwiIHwgXCJNaXhvbHlkaWFuXCIgfCBcIkFlb2xpYW5cIiB8IFwiTG9jcmlhblwiO1xuXG5jb25zdCBNT0RFUzogUmVjb3JkPE1vZGVOYW1lLCBudW1iZXJbXT4gPSB7XG4gIElvbmlhbjogICAgIFswLDIsNCw1LDcsOSwxMV0sXG4gIERvcmlhbjogICAgIFswLDIsMyw1LDcsOSwxMF0sXG4gIFBocnlnaWFuOiAgIFswLDEsMyw1LDcsOCwxMF0sXG4gIEx5ZGlhbjogICAgIFswLDIsNCw2LDcsOSwxMV0sXG4gIE1peG9seWRpYW46IFswLDIsNCw1LDcsOSwxMF0sXG4gIEFlb2xpYW46ICAgIFswLDIsMyw1LDcsOCwxMF0sXG4gIExvY3JpYW46ICAgIFswLDEsMyw1LDYsOCwxMF0sXG59O1xuXG4vLyBNdXNpY2FsIGNvbnN0YW50cyB0dW5lZCB0byBtYXRjaCB0aGUgSFRNTCB2ZXJzaW9uXG5jb25zdCBST09UX01BWF9HQUlOICAgICA9IDAuMzM7XG5jb25zdCBST09UX1NXRUxMX1RJTUUgICA9IDIwO1xuY29uc3QgRFJPTkVfU0hJRlRfTUlOX1MgPSAyNDtcbmNvbnN0IERST05FX1NISUZUX01BWF9TID0gNDg7XG5jb25zdCBEUk9ORV9HTElERV9NSU5fUyA9IDg7XG5jb25zdCBEUk9ORV9HTElERV9NQVhfUyA9IDE1O1xuXG5jb25zdCBDSE9SRF9WT0lDRVNfTUFYICA9IDU7XG5jb25zdCBDSE9SRF9GQURFX01JTl9TICA9IDg7XG5jb25zdCBDSE9SRF9GQURFX01BWF9TICA9IDE2O1xuY29uc3QgQ0hPUkRfSE9MRF9NSU5fUyAgPSAxMDtcbmNvbnN0IENIT1JEX0hPTERfTUFYX1MgID0gMjI7XG5jb25zdCBDSE9SRF9HQVBfTUlOX1MgICA9IDQ7XG5jb25zdCBDSE9SRF9HQVBfTUFYX1MgICA9IDk7XG5jb25zdCBDSE9SRF9BTkNIT1JfUFJPQiA9IDAuNjsgLy8gcHJlZmVyIGFsaWduaW5nIGNob3JkIHJvb3QgdG8gZHJvbmVcblxuY29uc3QgRklMVEVSX0JBU0VfSFogICAgPSAyMjA7XG5jb25zdCBGSUxURVJfUEVBS19IWiAgICA9IDQyMDA7XG5jb25zdCBTV0VFUF9TRUdfUyAgICAgICA9IDMwOyAgLy8gdXAgdGhlbiBkb3duLCB2ZXJ5IHNsb3dcbmNvbnN0IExGT19SQVRFX0haICAgICAgID0gMC4wNTtcbmNvbnN0IExGT19ERVBUSF9IWiAgICAgID0gOTAwO1xuXG5jb25zdCBERUxBWV9USU1FX1MgICAgICA9IDAuNDU7XG5jb25zdCBGRUVEQkFDS19HQUlOICAgICA9IDAuMzU7XG5jb25zdCBXRVRfTUlYICAgICAgICAgICA9IDAuMjg7XG5cbi8vIGRlZ3JlZSBwcmVmZXJlbmNlIGZvciBkcm9uZSBtb3ZlczogMSw1LDMsNiwyLDQsNyAoaW5kZXhlcyAwLi42KVxuY29uc3QgUFJFRkVSUkVEX0RFR1JFRV9PUkRFUiA9IFswLDQsMiw1LDEsMyw2XTtcblxuLyoqIFV0aWxpdHkgKi9cbmNvbnN0IGNsYW1wMDEgPSAoeDogbnVtYmVyKSA9PiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB4KSk7XG5jb25zdCByYW5kID0gKHJuZzogKCkgPT4gbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSArIHJuZygpICogKGIgLSBhKTtcbmNvbnN0IGNob2ljZSA9IDxULD4ocm5nOiAoKSA9PiBudW1iZXIsIGFycjogVFtdKSA9PiBhcnJbTWF0aC5mbG9vcihybmcoKSAqIGFyci5sZW5ndGgpXTtcblxuY29uc3QgbWlkaVRvRnJlcSA9IChtOiBudW1iZXIpID0+IDQ0MCAqIE1hdGgucG93KDIsIChtIC0gNjkpIC8gMTIpO1xuXG4vKiogQSBzaW5nbGUgc3RlYWR5IG9zY2lsbGF0b3Igdm9pY2Ugd2l0aCBzaGltbWVyIGRldHVuZSBhbmQgZ2FpbiBlbnZlbG9wZS4gKi9cbmNsYXNzIFZvaWNlIHtcbiAgcHJpdmF0ZSBraWxsZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzaGltbWVyOiBPc2NpbGxhdG9yTm9kZTtcbiAgcHJpdmF0ZSBzaGltbWVyR2FpbjogR2Fpbk5vZGU7XG4gIHByaXZhdGUgc2NhbGU6IEdhaW5Ob2RlO1xuICBwdWJsaWMgZzogR2Fpbk5vZGU7XG4gIHB1YmxpYyBvc2M6IE9zY2lsbGF0b3JOb2RlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgY3R4OiBBdWRpb0NvbnRleHQsXG4gICAgcHJpdmF0ZSB0YXJnZXRHYWluOiBudW1iZXIsXG4gICAgd2F2ZWZvcm06IE9zY2lsbGF0b3JUeXBlLFxuICAgIGZyZXFIejogbnVtYmVyLFxuICAgIGRlc3RpbmF0aW9uOiBBdWRpb05vZGUsXG4gICAgcm5nOiAoKSA9PiBudW1iZXJcbiAgKXtcbiAgICB0aGlzLm9zYyA9IG5ldyBPc2NpbGxhdG9yTm9kZShjdHgsIHsgdHlwZTogd2F2ZWZvcm0sIGZyZXF1ZW5jeTogZnJlcUh6IH0pO1xuXG4gICAgLy8gc3VidGxlIHNoaW1tZXIgdmlhIGRldHVuZSBtb2R1bGF0aW9uXG4gICAgdGhpcy5zaGltbWVyID0gbmV3IE9zY2lsbGF0b3JOb2RlKGN0eCwgeyB0eXBlOiBcInNpbmVcIiwgZnJlcXVlbmN5OiByYW5kKHJuZywgMC4wNiwgMC4xOCkgfSk7XG4gICAgdGhpcy5zaGltbWVyR2FpbiA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogcmFuZChybmcsIDAuNCwgMS4yKSB9KTtcbiAgICB0aGlzLnNjYWxlID0gbmV3IEdhaW5Ob2RlKGN0eCwgeyBnYWluOiAyNSB9KTsgLy8gY2VudHMgcmFuZ2VcbiAgICB0aGlzLnNoaW1tZXIuY29ubmVjdCh0aGlzLnNoaW1tZXJHYWluKS5jb25uZWN0KHRoaXMuc2NhbGUpLmNvbm5lY3QodGhpcy5vc2MuZGV0dW5lKTtcblxuICAgIHRoaXMuZyA9IG5ldyBHYWluTm9kZShjdHgsIHsgZ2FpbjogMCB9KTtcbiAgICB0aGlzLm9zYy5jb25uZWN0KHRoaXMuZykuY29ubmVjdChkZXN0aW5hdGlvbik7XG5cbiAgICB0aGlzLm9zYy5zdGFydCgpO1xuICAgIHRoaXMuc2hpbW1lci5zdGFydCgpO1xuICB9XG5cbiAgZmFkZUluKHNlY29uZHM6IG51bWJlcikge1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuY3R4LmN1cnJlbnRUaW1lO1xuICAgIHRoaXMuZy5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhub3cpO1xuICAgIHRoaXMuZy5nYWluLnNldFZhbHVlQXRUaW1lKHRoaXMuZy5nYWluLnZhbHVlLCBub3cpO1xuICAgIHRoaXMuZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMudGFyZ2V0R2Fpbiwgbm93ICsgc2Vjb25kcyk7XG4gIH1cblxuICBmYWRlT3V0S2lsbChzZWNvbmRzOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5raWxsZWQpIHJldHVybjtcbiAgICB0aGlzLmtpbGxlZCA9IHRydWU7XG4gICAgY29uc3Qgbm93ID0gdGhpcy5jdHguY3VycmVudFRpbWU7XG4gICAgdGhpcy5nLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKG5vdyk7XG4gICAgdGhpcy5nLmdhaW4uc2V0VmFsdWVBdFRpbWUodGhpcy5nLmdhaW4udmFsdWUsIG5vdyk7XG4gICAgdGhpcy5nLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAxLCBub3cgKyBzZWNvbmRzKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc3RvcCgpLCBzZWNvbmRzICogMTAwMCArIDYwKTtcbiAgfVxuXG4gIHNldEZyZXFHbGlkZSh0YXJnZXRIejogbnVtYmVyLCBnbGlkZVNlY29uZHM6IG51bWJlcikge1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuY3R4LmN1cnJlbnRUaW1lO1xuICAgIC8vIGV4cG9uZW50aWFsIHdoZW4gcG9zc2libGUgZm9yIHNtb290aG5lc3NcbiAgICBjb25zdCBjdXJyZW50ID0gTWF0aC5tYXgoMC4wMDAxLCB0aGlzLm9zYy5mcmVxdWVuY3kudmFsdWUpO1xuICAgIHRoaXMub3NjLmZyZXF1ZW5jeS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMobm93KTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5vc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKGN1cnJlbnQsIG5vdyk7XG4gICAgICB0aGlzLm9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0YXJnZXRIeiwgbm93ICsgZ2xpZGVTZWNvbmRzKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRoaXMub3NjLmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0YXJnZXRIeiwgbm93ICsgZ2xpZGVTZWNvbmRzKTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRyeSB7IHRoaXMub3NjLnN0b3AoKTsgdGhpcy5zaGltbWVyLnN0b3AoKTsgfSBjYXRjaCB7fVxuICAgIHRyeSB7XG4gICAgICB0aGlzLm9zYy5kaXNjb25uZWN0KCk7IHRoaXMuc2hpbW1lci5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLmcuZGlzY29ubmVjdCgpOyB0aGlzLnNoaW1tZXJHYWluLmRpc2Nvbm5lY3QoKTsgdGhpcy5zY2FsZS5kaXNjb25uZWN0KCk7XG4gICAgfSBjYXRjaCB7fVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbWJpZW50U2NlbmUge1xuICBwcml2YXRlIHJ1bm5pbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzdG9wRm5zOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBwcml2YXRlIHRpbWVvdXRzOiBudW1iZXJbXSA9IFtdO1xuXG4gIHByaXZhdGUgcGFyYW1zOiBBbWJpZW50UGFyYW1zID0geyBpbnRlbnNpdHk6IDAuNzUsIGJyaWdodG5lc3M6IDAuNSwgZGVuc2l0eTogMC42IH07XG5cbiAgcHJpdmF0ZSBybmc6ICgpID0+IG51bWJlcjtcbiAgcHJpdmF0ZSBtYXN0ZXIhOiBHYWluTm9kZTtcbiAgcHJpdmF0ZSBmaWx0ZXIhOiBCaXF1YWRGaWx0ZXJOb2RlO1xuICBwcml2YXRlIGRyeSE6IEdhaW5Ob2RlO1xuICBwcml2YXRlIHdldCE6IEdhaW5Ob2RlO1xuICBwcml2YXRlIGRlbGF5ITogRGVsYXlOb2RlO1xuICBwcml2YXRlIGZlZWRiYWNrITogR2Fpbk5vZGU7XG5cbiAgcHJpdmF0ZSBsZm9Ob2RlPzogT3NjaWxsYXRvck5vZGU7XG4gIHByaXZhdGUgbGZvR2Fpbj86IEdhaW5Ob2RlO1xuXG4gIC8vIG11c2ljYWwgc3RhdGVcbiAgcHJpdmF0ZSBrZXlSb290TWlkaSA9IDQzO1xuICBwcml2YXRlIG1vZGU6IE1vZGVOYW1lID0gXCJJb25pYW5cIjtcbiAgcHJpdmF0ZSBkcm9uZURlZ3JlZUlkeCA9IDA7XG4gIHByaXZhdGUgcm9vdFZvaWNlOiBWb2ljZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgY3R4OiBBdWRpb0NvbnRleHQsXG4gICAgcHJpdmF0ZSBvdXQ6IEdhaW5Ob2RlLFxuICAgIHNlZWQgPSAxXG4gICkge1xuICAgIHRoaXMucm5nID0gbWFrZVBSTkcoc2VlZCk7XG4gIH1cblxuICBzZXRQYXJhbTxLIGV4dGVuZHMga2V5b2YgQW1iaWVudFBhcmFtcz4oazogSywgdjogQW1iaWVudFBhcmFtc1tLXSkge1xuICAgIHRoaXMucGFyYW1zW2tdID0gY2xhbXAwMSh2KTtcbiAgICBpZiAodGhpcy5ydW5uaW5nICYmIGsgPT09IFwiaW50ZW5zaXR5XCIgJiYgdGhpcy5tYXN0ZXIpIHtcbiAgICAgIHRoaXMubWFzdGVyLmdhaW4udmFsdWUgPSAwLjE1ICsgMC44NSAqIHRoaXMucGFyYW1zLmludGVuc2l0eTsgXG4gICAgfVxuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMucnVubmluZykgcmV0dXJuO1xuICAgIHRoaXMucnVubmluZyA9IHRydWU7XG5cbiAgICAvLyAtLS0tIENvcmUgZ3JhcGggKGZpbHRlciAtPiBkcnkrZGVsYXkgLT4gbWFzdGVyIC0+IG91dCkgLS0tLVxuICAgIHRoaXMubWFzdGVyID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IDAuMTUgKyAwLjg1ICogdGhpcy5wYXJhbXMuaW50ZW5zaXR5IH0pO1xuICAgIHRoaXMuZmlsdGVyID0gbmV3IEJpcXVhZEZpbHRlck5vZGUodGhpcy5jdHgsIHsgdHlwZTogXCJsb3dwYXNzXCIsIFE6IDAuNzA3IH0pO1xuICAgIHRoaXMuZHJ5ID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IDEgfSk7XG4gICAgdGhpcy53ZXQgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogV0VUX01JWCB9KTtcbiAgICB0aGlzLmRlbGF5ID0gbmV3IERlbGF5Tm9kZSh0aGlzLmN0eCwgeyBkZWxheVRpbWU6IERFTEFZX1RJTUVfUywgbWF4RGVsYXlUaW1lOiAyIH0pO1xuICAgIHRoaXMuZmVlZGJhY2sgPSBuZXcgR2Fpbk5vZGUodGhpcy5jdHgsIHsgZ2FpbjogRkVFREJBQ0tfR0FJTiB9KTtcblxuICAgIHRoaXMuZmlsdGVyLmNvbm5lY3QodGhpcy5kcnkpLmNvbm5lY3QodGhpcy5tYXN0ZXIpO1xuICAgIHRoaXMuZmlsdGVyLmNvbm5lY3QodGhpcy5kZWxheSk7XG4gICAgdGhpcy5kZWxheS5jb25uZWN0KHRoaXMuZmVlZGJhY2spLmNvbm5lY3QodGhpcy5kZWxheSk7XG4gICAgdGhpcy5kZWxheS5jb25uZWN0KHRoaXMud2V0KS5jb25uZWN0KHRoaXMubWFzdGVyKTtcbiAgICB0aGlzLm1hc3Rlci5jb25uZWN0KHRoaXMub3V0KTtcblxuICAgIC8vIC0tLS0gRmlsdGVyIGJhc2VsaW5lICsgc2xvdyBzd2VlcHMgLS0tLVxuICAgIHRoaXMuZmlsdGVyLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZShGSUxURVJfQkFTRV9IWiwgdGhpcy5jdHguY3VycmVudFRpbWUpO1xuICAgIGNvbnN0IHN3ZWVwID0gKCkgPT4ge1xuICAgICAgY29uc3QgdCA9IHRoaXMuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgdGhpcy5maWx0ZXIuZnJlcXVlbmN5LmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KTtcbiAgICAgIC8vIHVwIHRoZW4gZG93biB1c2luZyB2ZXJ5IHNsb3cgdGltZSBjb25zdGFudHNcbiAgICAgIHRoaXMuZmlsdGVyLmZyZXF1ZW5jeS5zZXRUYXJnZXRBdFRpbWUoXG4gICAgICAgIEZJTFRFUl9CQVNFX0haICsgKEZJTFRFUl9QRUFLX0haIC0gRklMVEVSX0JBU0VfSFopICogKDAuNCArIDAuNiAqIHRoaXMucGFyYW1zLmJyaWdodG5lc3MpLFxuICAgICAgICB0LCBTV0VFUF9TRUdfUyAvIDNcbiAgICAgICk7XG4gICAgICB0aGlzLmZpbHRlci5mcmVxdWVuY3kuc2V0VGFyZ2V0QXRUaW1lKFxuICAgICAgICBGSUxURVJfQkFTRV9IWiAqICgwLjcgKyAwLjMgKiB0aGlzLnBhcmFtcy5icmlnaHRuZXNzKSxcbiAgICAgICAgdCArIFNXRUVQX1NFR19TLCBTV0VFUF9TRUdfUyAvIDNcbiAgICAgICk7XG4gICAgICB0aGlzLnRpbWVvdXRzLnB1c2god2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5ydW5uaW5nICYmIHN3ZWVwKCksIChTV0VFUF9TRUdfUyAqIDIpICogMTAwMCkgYXMgdW5rbm93biBhcyBudW1iZXIpO1xuICAgIH07XG4gICAgc3dlZXAoKTtcblxuICAgIC8vIC0tLS0gR2VudGxlIExGTyBvbiBmaWx0ZXIgZnJlcSAoc21hbGwgZGVwdGgpIC0tLS1cbiAgICB0aGlzLmxmb05vZGUgPSBuZXcgT3NjaWxsYXRvck5vZGUodGhpcy5jdHgsIHsgdHlwZTogXCJzaW5lXCIsIGZyZXF1ZW5jeTogTEZPX1JBVEVfSFogfSk7XG4gICAgdGhpcy5sZm9HYWluID0gbmV3IEdhaW5Ob2RlKHRoaXMuY3R4LCB7IGdhaW46IExGT19ERVBUSF9IWiAqICgwLjUgKyAwLjUgKiB0aGlzLnBhcmFtcy5icmlnaHRuZXNzKSB9KTtcbiAgICB0aGlzLmxmb05vZGUuY29ubmVjdCh0aGlzLmxmb0dhaW4pLmNvbm5lY3QodGhpcy5maWx0ZXIuZnJlcXVlbmN5KTtcbiAgICB0aGlzLmxmb05vZGUuc3RhcnQoKTtcblxuICAgIC8vIC0tLS0gU3Bhd24gcm9vdCBkcm9uZSAoZ2xpZGluZyB0byBkaWZmZXJlbnQgZGVncmVlcykgLS0tLVxuICAgIHRoaXMuc3Bhd25Sb290RHJvbmUoKTtcbiAgICB0aGlzLnNjaGVkdWxlTmV4dERyb25lTW92ZSgpO1xuXG4gICAgLy8gLS0tLSBDaG9yZCBjeWNsZSBsb29wIC0tLS1cbiAgICB0aGlzLmNob3JkQ3ljbGUoKTtcblxuICAgIC8vIGNsZWFudXBcbiAgICB0aGlzLnN0b3BGbnMucHVzaCgoKSA9PiB7XG4gICAgICB0cnkgeyB0aGlzLmxmb05vZGU/LnN0b3AoKTsgfSBjYXRjaCB7fVxuICAgICAgW3RoaXMubWFzdGVyLCB0aGlzLmZpbHRlciwgdGhpcy5kcnksIHRoaXMud2V0LCB0aGlzLmRlbGF5LCB0aGlzLmZlZWRiYWNrLCB0aGlzLmxmb05vZGUsIHRoaXMubGZvR2Fpbl1cbiAgICAgICAgLmZvckVhY2gobiA9PiB7IHRyeSB7IG4/LmRpc2Nvbm5lY3QoKTsgfSBjYXRjaCB7fSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKCF0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcblxuICAgIC8vIGNhbmNlbCB0aW1lb3V0c1xuICAgIHRoaXMudGltZW91dHMuc3BsaWNlKDApLmZvckVhY2goaWQgPT4gd2luZG93LmNsZWFyVGltZW91dChpZCkpO1xuXG4gICAgLy8gZmFkZSBhbmQgY2xlYW51cCB2b2ljZXNcbiAgICBpZiAodGhpcy5yb290Vm9pY2UpIHRoaXMucm9vdFZvaWNlLmZhZGVPdXRLaWxsKDEuMik7XG5cbiAgICAvLyBydW4gZGVmZXJyZWQgc3RvcHNcbiAgICB0aGlzLnN0b3BGbnMuc3BsaWNlKDApLmZvckVhY2goZm4gPT4gZm4oKSk7XG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE11c2ljYWwgZW5naW5lIGJlbG93IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICBwcml2YXRlIGN1cnJlbnREZWdyZWVzKCk6IG51bWJlcltdIHtcbiAgICByZXR1cm4gTU9ERVNbdGhpcy5tb2RlXSB8fCBNT0RFUy5MeWRpYW47XG4gIH1cblxuICAvKiogRHJvbmUgcm9vdCB2b2ljZSAqL1xuICBwcml2YXRlIHNwYXduUm9vdERyb25lKCkge1xuICAgIGNvbnN0IGJhc2VNaWRpID0gdGhpcy5rZXlSb290TWlkaSArIHRoaXMuY3VycmVudERlZ3JlZXMoKVt0aGlzLmRyb25lRGVncmVlSWR4XTtcbiAgICBjb25zdCB2ID0gbmV3IFZvaWNlKFxuICAgICAgdGhpcy5jdHgsXG4gICAgICBST09UX01BWF9HQUlOLFxuICAgICAgXCJzaW5lXCIsXG4gICAgICBtaWRpVG9GcmVxKGJhc2VNaWRpKSxcbiAgICAgIHRoaXMuZmlsdGVyLFxuICAgICAgdGhpcy5ybmdcbiAgICApO1xuICAgIHYuZmFkZUluKFJPT1RfU1dFTExfVElNRSk7XG4gICAgdGhpcy5yb290Vm9pY2UgPSB2O1xuICB9XG5cbiAgcHJpdmF0ZSBzY2hlZHVsZU5leHREcm9uZU1vdmUoKSB7XG4gICAgaWYgKCF0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICBjb25zdCB3YWl0TXMgPSByYW5kKHRoaXMucm5nLCBEUk9ORV9TSElGVF9NSU5fUywgRFJPTkVfU0hJRlRfTUFYX1MpICogMTAwMDtcbiAgICBjb25zdCBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5ydW5uaW5nIHx8ICF0aGlzLnJvb3RWb2ljZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ2xpZGUgPSByYW5kKHRoaXMucm5nLCBEUk9ORV9HTElERV9NSU5fUywgRFJPTkVfR0xJREVfTUFYX1MpO1xuICAgICAgY29uc3QgbmV4dElkeCA9IHRoaXMucGlja05leHREcm9uZURlZ3JlZUlkeCgpO1xuICAgICAgY29uc3QgdGFyZ2V0TWlkaSA9IHRoaXMua2V5Um9vdE1pZGkgKyB0aGlzLmN1cnJlbnREZWdyZWVzKClbbmV4dElkeF07XG4gICAgICB0aGlzLnJvb3RWb2ljZS5zZXRGcmVxR2xpZGUobWlkaVRvRnJlcSh0YXJnZXRNaWRpKSwgZ2xpZGUpO1xuICAgICAgdGhpcy5kcm9uZURlZ3JlZUlkeCA9IG5leHRJZHg7XG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dERyb25lTW92ZSgpO1xuICAgIH0sIHdhaXRNcykgYXMgdW5rbm93biBhcyBudW1iZXI7XG4gICAgdGhpcy50aW1lb3V0cy5wdXNoKGlkKTtcbiAgfVxuXG4gIHByaXZhdGUgcGlja05leHREcm9uZURlZ3JlZUlkeCgpOiBudW1iZXIge1xuICAgIGNvbnN0IG9yZGVyID0gWy4uLlBSRUZFUlJFRF9ERUdSRUVfT1JERVJdO1xuICAgIGNvbnN0IGkgPSBvcmRlci5pbmRleE9mKHRoaXMuZHJvbmVEZWdyZWVJZHgpO1xuICAgIGlmIChpID49IDApIHsgY29uc3QgW2N1cl0gPSBvcmRlci5zcGxpY2UoaSwgMSk7IG9yZGVyLnB1c2goY3VyKTsgfVxuICAgIHJldHVybiBjaG9pY2UodGhpcy5ybmcsIG9yZGVyKTtcbiAgfVxuXG4gIC8qKiBCdWlsZCBkaWF0b25pYyBzdGFja2VkLXRoaXJkIGNob3JkIGRlZ3JlZXMgd2l0aCBvcHRpb25hbCBleHRlbnNpb25zICovXG4gIHByaXZhdGUgYnVpbGRDaG9yZERlZ3JlZXMobW9kZURlZ3M6IG51bWJlcltdLCByb290SW5kZXg6IG51bWJlciwgc2l6ZSA9IDQsIGFkZDkgPSBmYWxzZSwgYWRkMTEgPSBmYWxzZSwgYWRkMTMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHN0ZXBzID0gWzAsIDIsIDQsIDZdOyAvLyB0aGlyZHMgb3ZlciA3LW5vdGUgc2NhbGVcbiAgICBjb25zdCBjaG9yZElkeHMgPSBzdGVwcy5zbGljZSgwLCBNYXRoLm1pbihzaXplLCA0KSkubWFwKHMgPT4gKHJvb3RJbmRleCArIHMpICUgNyk7XG4gICAgaWYgKGFkZDkpICBjaG9yZElkeHMucHVzaCgocm9vdEluZGV4ICsgOCkgJSA3KTtcbiAgICBpZiAoYWRkMTEpIGNob3JkSWR4cy5wdXNoKChyb290SW5kZXggKyAxMCkgJSA3KTtcbiAgICBpZiAoYWRkMTMpIGNob3JkSWR4cy5wdXNoKChyb290SW5kZXggKyAxMikgJSA3KTtcbiAgICByZXR1cm4gY2hvcmRJZHhzLm1hcChpID0+IG1vZGVEZWdzW2ldKTtcbiAgfVxuXG4gIHByaXZhdGUgKmVuZGxlc3NDaG9yZHMoKSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IG1vZGVEZWdzID0gdGhpcy5jdXJyZW50RGVncmVlcygpO1xuICAgICAgLy8gY2hvb3NlIGNob3JkIHJvb3QgZGVncmVlIChvZnRlbiBhbGlnbiB3aXRoIGRyb25lKVxuICAgICAgY29uc3Qgcm9vdERlZ3JlZUluZGV4ID0gKHRoaXMucm5nKCkgPCBDSE9SRF9BTkNIT1JfUFJPQikgPyB0aGlzLmRyb25lRGVncmVlSWR4IDogTWF0aC5mbG9vcih0aGlzLnJuZygpICogNyk7XG5cbiAgICAgIC8vIGNob3JkIHNpemUgLyBleHRlbnNpb25zXG4gICAgICBjb25zdCByID0gdGhpcy5ybmcoKTtcbiAgICAgIGxldCBzaXplID0gMzsgbGV0IGFkZDkgPSBmYWxzZSwgYWRkMTEgPSBmYWxzZSwgYWRkMTMgPSBmYWxzZTtcbiAgICAgIGlmIChyIDwgMC4zNSkgICAgICAgICAgICB7IHNpemUgPSAzOyB9XG4gICAgICBlbHNlIGlmIChyIDwgMC43NSkgICAgICAgeyBzaXplID0gNDsgfVxuICAgICAgZWxzZSBpZiAociA8IDAuOTApICAgICAgIHsgc2l6ZSA9IDQ7IGFkZDkgPSB0cnVlOyB9XG4gICAgICBlbHNlIGlmIChyIDwgMC45NykgICAgICAgeyBzaXplID0gNDsgYWRkMTEgPSB0cnVlOyB9XG4gICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgeyBzaXplID0gNDsgYWRkMTMgPSB0cnVlOyB9XG5cbiAgICAgIGNvbnN0IGNob3JkU2VtaXMgPSB0aGlzLmJ1aWxkQ2hvcmREZWdyZWVzKG1vZGVEZWdzLCByb290RGVncmVlSW5kZXgsIHNpemUsIGFkZDksIGFkZDExLCBhZGQxMyk7XG4gICAgICAvLyBzcHJlYWQgY2hvcmQgYWNyb3NzIG9jdGF2ZXMgKC0xMiwgMCwgKzEyKSwgYmlhcyB0byBjZW50ZXJcbiAgICAgIGNvbnN0IHNwcmVhZCA9IGNob3JkU2VtaXMubWFwKHNlbWkgPT4gc2VtaSArIGNob2ljZSh0aGlzLnJuZywgWy0xMiwgMCwgMCwgMTJdKSk7XG5cbiAgICAgIC8vIG9jY2FzaW9uYWxseSBlbnN1cmUgdG9uaWMgaXMgcHJlc2VudCBmb3IgZ3JvdW5kaW5nXG4gICAgICBpZiAoIXNwcmVhZC5pbmNsdWRlcygwKSAmJiB0aGlzLnJuZygpIDwgMC41KSBzcHJlYWQucHVzaCgwKTtcblxuICAgICAgeWllbGQgc3ByZWFkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY2hvcmRDeWNsZSgpIHtcbiAgICBjb25zdCBnZW4gPSB0aGlzLmVuZGxlc3NDaG9yZHMoKTtcbiAgICBjb25zdCB2b2ljZXMgPSBuZXcgU2V0PFZvaWNlPigpO1xuXG4gICAgY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2U8dm9pZD4ociA9PiB7XG4gICAgICBjb25zdCBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHIoKSwgbXMpIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKGlkKTtcbiAgICB9KTtcblxuICAgIHdoaWxlICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgIC8vIGNob3JkIHNwYXduIHByb2JhYmlsaXR5IC8gdGhpY2tuZXNzIHNjYWxlIHdpdGggZGVuc2l0eSAmIGJyaWdodG5lc3NcbiAgICAgIGNvbnN0IHRoaWNrbmVzcyA9IE1hdGgucm91bmQoMiArIHRoaXMucGFyYW1zLmRlbnNpdHkgKiAzKTtcbiAgICAgIGNvbnN0IGJhc2VNaWRpID0gdGhpcy5rZXlSb290TWlkaTtcbiAgICAgIGNvbnN0IGRlZ3JlZXNPZmY6IG51bWJlcltdID0gZ2VuLm5leHQoKS52YWx1ZSA/PyBbXTtcblxuICAgICAgLy8gc3Bhd25cbiAgICAgIGZvciAoY29uc3Qgb2ZmIG9mIGRlZ3JlZXNPZmYpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpIGJyZWFrO1xuICAgICAgICBpZiAodm9pY2VzLnNpemUgPj0gTWF0aC5taW4oQ0hPUkRfVk9JQ0VTX01BWCwgdGhpY2tuZXNzKSkgYnJlYWs7XG5cbiAgICAgICAgY29uc3QgbWlkaSA9IGJhc2VNaWRpICsgb2ZmO1xuICAgICAgICBjb25zdCBmcmVxID0gbWlkaVRvRnJlcShtaWRpKTtcbiAgICAgICAgY29uc3Qgd2F2ZWZvcm0gPSBjaG9pY2UodGhpcy5ybmcsIFtcInNpbmVcIiwgXCJ0cmlhbmdsZVwiLCBcInNhd3Rvb3RoXCJdIGFzIE9zY2lsbGF0b3JUeXBlW10pO1xuXG4gICAgICAgIC8vIGxvdWRlciB3aXRoIGludGVuc2l0eTsgc2xpZ2h0bHkgYnJpZ2h0ZXIgLT4gc2xpZ2h0bHkgbG91ZGVyXG4gICAgICAgIGNvbnN0IGdhaW5UYXJnZXQgPSByYW5kKHRoaXMucm5nLCAwLjA4LCAwLjIyKSAqXG4gICAgICAgICAgKDAuODUgKyAwLjMgKiB0aGlzLnBhcmFtcy5pbnRlbnNpdHkpICpcbiAgICAgICAgICAoMC45ICsgMC4yICogdGhpcy5wYXJhbXMuYnJpZ2h0bmVzcyk7XG5cbiAgICAgICAgY29uc3QgdiA9IG5ldyBWb2ljZSh0aGlzLmN0eCwgZ2FpblRhcmdldCwgd2F2ZWZvcm0sIGZyZXEsIHRoaXMuZmlsdGVyLCB0aGlzLnJuZyk7XG4gICAgICAgIHZvaWNlcy5hZGQodik7XG4gICAgICAgIHYuZmFkZUluKHJhbmQodGhpcy5ybmcsIENIT1JEX0ZBREVfTUlOX1MsIENIT1JEX0ZBREVfTUFYX1MpKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgc2xlZXAocmFuZCh0aGlzLnJuZywgQ0hPUkRfSE9MRF9NSU5fUywgQ0hPUkRfSE9MRF9NQVhfUykgKiAxMDAwKTtcblxuICAgICAgLy8gZmFkZSBvdXRcbiAgICAgIGNvbnN0IG91dHMgPSBBcnJheS5mcm9tKHZvaWNlcyk7XG4gICAgICBmb3IgKGNvbnN0IHYgb2Ygb3V0cykgdi5mYWRlT3V0S2lsbChyYW5kKHRoaXMucm5nLCBDSE9SRF9GQURFX01JTl9TLCBDSE9SRF9GQURFX01BWF9TKSk7XG4gICAgICB2b2ljZXMuY2xlYXIoKTtcblxuICAgICAgYXdhaXQgc2xlZXAocmFuZCh0aGlzLnJuZywgQ0hPUkRfR0FQX01JTl9TLCBDSE9SRF9HQVBfTUFYX1MpICogMTAwMCk7XG4gICAgfVxuXG4gICAgLy8gc2FmZXR5OiBraWxsIGFueSBsaW5nZXJpbmcgdm9pY2VzXG4gICAgZm9yIChjb25zdCB2IG9mIEFycmF5LmZyb20odm9pY2VzKSkgdi5mYWRlT3V0S2lsbCgwLjgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBTY2VuZU5hbWUsIE11c2ljU2NlbmVPcHRpb25zIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBBdWRpb0VuZ2luZSB9IGZyb20gXCIuLi9lbmdpbmVcIjtcbmltcG9ydCB7IEFtYmllbnRTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9hbWJpZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBNdXNpY0RpcmVjdG9yIHtcbiAgcHJpdmF0ZSBjdXJyZW50PzogeyBuYW1lOiBTY2VuZU5hbWU7IHN0b3A6ICgpID0+IHZvaWQgfTtcbiAgcHJpdmF0ZSBidXNPdXQ6IEdhaW5Ob2RlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZW5naW5lOiBBdWRpb0VuZ2luZSkge1xuICAgIHRoaXMuYnVzT3V0ID0gbmV3IEdhaW5Ob2RlKGVuZ2luZS5jdHgsIHsgZ2FpbjogMC45IH0pO1xuICAgIHRoaXMuYnVzT3V0LmNvbm5lY3QoZW5naW5lLmdldE11c2ljQnVzKCkpO1xuICB9XG5cbiAgLyoqIENyb3NzZmFkZSB0byBhIG5ldyBzY2VuZSAqL1xuICBzZXRTY2VuZShuYW1lOiBTY2VuZU5hbWUsIG9wdHM/OiBNdXNpY1NjZW5lT3B0aW9ucykge1xuICAgIGlmICh0aGlzLmN1cnJlbnQ/Lm5hbWUgPT09IG5hbWUpIHJldHVybjtcblxuICAgIGNvbnN0IG9sZCA9IHRoaXMuY3VycmVudDtcbiAgICBjb25zdCB0ID0gdGhpcy5lbmdpbmUubm93O1xuXG4gICAgLy8gZmFkZS1vdXQgb2xkXG4gICAgY29uc3QgZmFkZU91dCA9IG5ldyBHYWluTm9kZSh0aGlzLmVuZ2luZS5jdHgsIHsgZ2FpbjogMC45IH0pO1xuICAgIGZhZGVPdXQuY29ubmVjdCh0aGlzLmVuZ2luZS5nZXRNdXNpY0J1cygpKTtcbiAgICBpZiAob2xkKSB7XG4gICAgICAvLyBXZSBhc3N1bWUgZWFjaCBzY2VuZSBtYW5hZ2VzIGl0cyBvd24gb3V0IG5vZGU7IHN0b3BwaW5nIHRyaWdnZXJzIGEgbmF0dXJhbCB0YWlsLlxuICAgICAgb2xkLnN0b3AoKTtcbiAgICAgIGZhZGVPdXQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLjAsIHQgKyAwLjYpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBmYWRlT3V0LmRpc2Nvbm5lY3QoKSwgNjUwKTtcbiAgICB9XG5cbiAgICAvLyBuZXcgc2NlbmVcbiAgICBjb25zdCBzY2VuZU91dCA9IG5ldyBHYWluTm9kZSh0aGlzLmVuZ2luZS5jdHgsIHsgZ2FpbjogMCB9KTtcbiAgICBzY2VuZU91dC5jb25uZWN0KHRoaXMuYnVzT3V0KTtcblxuICAgIGxldCBzdG9wID0gKCkgPT4gc2NlbmVPdXQuZGlzY29ubmVjdCgpO1xuXG4gICAgaWYgKG5hbWUgPT09IFwiYW1iaWVudFwiKSB7XG4gICAgICBjb25zdCBzID0gbmV3IEFtYmllbnRTY2VuZSh0aGlzLmVuZ2luZS5jdHgsIHNjZW5lT3V0LCBvcHRzPy5zZWVkID8/IDEpO1xuICAgICAgcy5zdGFydCgpO1xuICAgICAgc3RvcCA9ICgpID0+IHtcbiAgICAgICAgcy5zdG9wKCk7XG4gICAgICAgIHNjZW5lT3V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGVsc2UgaWYgKG5hbWUgPT09IFwiY29tYmF0XCIpIHsgLyogaW1wbGVtZW50IGNvbWJhdCBzY2VuZSBsYXRlciAqLyB9XG4gICAgLy8gZWxzZSBpZiAobmFtZSA9PT0gXCJsb2JieVwiKSB7IC8qIGltcGxlbWVudCBsb2JieSBzY2VuZSBsYXRlciAqLyB9XG5cbiAgICB0aGlzLmN1cnJlbnQgPSB7IG5hbWUsIHN0b3AgfTtcbiAgICBzY2VuZU91dC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAuOSwgdCArIDAuNik7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50KSByZXR1cm47XG4gICAgdGhpcy5jdXJyZW50LnN0b3AoKTtcbiAgICB0aGlzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEJ1cywgTXVzaWNQYXJhbU1lc3NhZ2UsIE11c2ljU2NlbmVPcHRpb25zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4vZW5naW5lXCI7XG5pbXBvcnQgeyBNdXNpY0RpcmVjdG9yIH0gZnJvbSBcIi4vbXVzaWNcIjtcbmltcG9ydCB7IHBsYXlTZnggfSBmcm9tIFwiLi9zZnhcIjtcblxuLyoqXG4gKiBCaW5kIHN0YW5kYXJkIGF1ZGlvIGV2ZW50cyB0byB0aGUgZW5naW5lIGFuZCBtdXNpYyBkaXJlY3Rvci5cbiAqXG4gKiBFdmVudHMgc3VwcG9ydGVkOlxuICogIC0gYXVkaW86cmVzdW1lXG4gKiAgLSBhdWRpbzptdXRlIC8gYXVkaW86dW5tdXRlXG4gKiAgLSBhdWRpbzpzZXQtbWFzdGVyLWdhaW4geyBnYWluIH1cbiAqICAtIGF1ZGlvOnNmeCB7IG5hbWUsIHZlbG9jaXR5PywgcGFuPyB9XG4gKiAgLSBhdWRpbzptdXNpYzpzZXQtc2NlbmUgeyBzY2VuZSwgc2VlZD8gfVxuICogIC0gYXVkaW86bXVzaWM6cGFyYW0geyBrZXksIHZhbHVlIH1cbiAqICAtIGF1ZGlvOm11c2ljOnRyYW5zcG9ydCB7IGNtZDogXCJzdGFydFwiIHwgXCJzdG9wXCIgfCBcInBhdXNlXCIgfSAgLy8gcGF1c2UgY3VycmVudGx5IG1hcHMgdG8gc3RvcFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBdWRpb0J1c0JpbmRpbmdzKFxuICBidXM6IEJ1cyxcbiAgZW5naW5lOiBBdWRpb0VuZ2luZSxcbiAgbXVzaWM6IE11c2ljRGlyZWN0b3Jcbik6IHZvaWQge1xuICBidXMub24oXCJhdWRpbzpyZXN1bWVcIiwgKCkgPT4gZW5naW5lLnJlc3VtZSgpKTtcbiAgYnVzLm9uKFwiYXVkaW86bXV0ZVwiLCAoKSA9PiBlbmdpbmUuc2V0TWFzdGVyR2FpbigwKSk7XG4gIGJ1cy5vbihcImF1ZGlvOnVubXV0ZVwiLCAoKSA9PiBlbmdpbmUuc2V0TWFzdGVyR2FpbigwLjkpKTtcbiAgYnVzLm9uKFwiYXVkaW86c2V0LW1hc3Rlci1nYWluXCIsICh7IGdhaW4gfTogeyBnYWluOiBudW1iZXIgfSkgPT5cbiAgICBlbmdpbmUuc2V0TWFzdGVyR2FpbihNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBnYWluKSkpXG4gICk7XG5cbiAgYnVzLm9uKFwiYXVkaW86c2Z4XCIsIChtc2c6IHsgbmFtZTogc3RyaW5nOyB2ZWxvY2l0eT86IG51bWJlcjsgcGFuPzogbnVtYmVyIH0pID0+IHtcbiAgICBwbGF5U2Z4KGVuZ2luZSwgbXNnLm5hbWUgYXMgYW55LCB7IHZlbG9jaXR5OiBtc2cudmVsb2NpdHksIHBhbjogbXNnLnBhbiB9KTtcbiAgfSk7XG5cbiAgYnVzLm9uKFwiYXVkaW86bXVzaWM6c2V0LXNjZW5lXCIsIChtc2c6IHsgc2NlbmU6IHN0cmluZyB9ICYgTXVzaWNTY2VuZU9wdGlvbnMpID0+IHtcbiAgICBlbmdpbmUucmVzdW1lKCk7XG4gICAgbXVzaWMuc2V0U2NlbmUobXNnLnNjZW5lIGFzIGFueSwgeyBzZWVkOiBtc2cuc2VlZCB9KTtcbiAgfSk7XG5cbiAgYnVzLm9uKFwiYXVkaW86bXVzaWM6cGFyYW1cIiwgKF9tc2c6IE11c2ljUGFyYW1NZXNzYWdlKSA9PiB7XG4gICAgLy8gSG9vayBmb3IgZnV0dXJlIHBhcmFtIHJvdXRpbmcgcGVyIHNjZW5lIChlLmcuLCBpbnRlbnNpdHkvYnJpZ2h0bmVzcy9kZW5zaXR5KVxuICAgIC8vIElmIHlvdSB3YW50IGdsb2JhbCBwYXJhbXMsIGtlZXAgYSBtYXAgaGVyZSBhbmQgZm9yd2FyZCB0byB0aGUgYWN0aXZlIHNjZW5lXG4gIH0pO1xuXG4gIGJ1cy5vbihcImF1ZGlvOm11c2ljOnRyYW5zcG9ydFwiLCAoeyBjbWQgfTogeyBjbWQ6IFwic3RhcnRcIiB8IFwic3RvcFwiIHwgXCJwYXVzZVwiIH0pID0+IHtcbiAgICBpZiAoY21kID09PSBcInN0b3BcIiB8fCBjbWQgPT09IFwicGF1c2VcIikgbXVzaWMuc3RvcCgpO1xuICAgIC8vIFwic3RhcnRcIiBpcyBpbXBsaWNpdCB2aWEgc2V0U2NlbmVcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIE1pc3Npb25QbGF5ZXJTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgY2xhbXAsIG1vbm90b25pY05vdyB9IGZyb20gXCIuLi9zdGF0ZVwiO1xuaW1wb3J0IHsgYWNjZXB0TWlzc2lvbiB9IGZyb20gXCIuLi9uZXRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNaXNzaW9uQ29udHJvbGxlciB7XG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIE1pc3Npb25Db250cm9sbGVyT3B0aW9ucyB7XG4gIHN0YXRlOiBBcHBTdGF0ZTtcbiAgYnVzOiBFdmVudEJ1cztcbiAgbW9kZTogc3RyaW5nO1xuICBtaXNzaW9uSWQ6IHN0cmluZyB8IG51bGw7XG59XG5cbmNvbnN0IEhPTERfU01PT1RIX1JBVEUgPSA2O1xuY29uc3QgSE9MRF9FUFNJTE9OID0gMC4wMTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50TWlzc2lvbkNvbnRyb2xsZXIoeyBzdGF0ZSwgYnVzLCBtb2RlIH06IE1pc3Npb25Db250cm9sbGVyT3B0aW9ucyk6IE1pc3Npb25Db250cm9sbGVyIHtcbiAgaWYgKG1vZGUgIT09IFwiY2FtcGFpZ25cIikge1xuICAgIHJldHVybiB7IGRlc3Ryb3koKSB7fSB9O1xuICB9XG5cbiAgbGV0IGtub3duTWlzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IG1pc3Npb25TdGFydGVkID0gZmFsc2U7XG4gIGxldCBhY3RpdmVCZWFjb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IGRpc2NvdmVyZWRCZWFjb25zID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGNvbnN0IGNvbXBsZXRlZEJlYWNvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICBmdW5jdGlvbiByZXNldCgpOiB2b2lkIHtcbiAgICBrbm93bk1pc3Npb25JZCA9IG51bGw7XG4gICAgbWlzc2lvblN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVCZWFjb25JZCA9IG51bGw7XG4gICAgZGlzY292ZXJlZEJlYWNvbnMuY2xlYXIoKTtcbiAgICBjb21wbGV0ZWRCZWFjb25zLmNsZWFyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNaXNzaW9uVXBkYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IG1pc3Npb24gPSBzdGF0ZS5taXNzaW9uO1xuICAgIGlmICghbWlzc2lvbikge1xuICAgICAgcmVzZXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGxheWVyID0gbWlzc2lvbi5wbGF5ZXI7XG4gICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgIG1pc3Npb25TdGFydGVkID0gZmFsc2U7XG4gICAgICBhY3RpdmVCZWFjb25JZCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1pc3Npb24ubWlzc2lvbklkICE9PSBrbm93bk1pc3Npb25JZCkge1xuICAgICAga25vd25NaXNzaW9uSWQgPSBtaXNzaW9uLm1pc3Npb25JZDtcbiAgICAgIG1pc3Npb25TdGFydGVkID0gZmFsc2U7XG4gICAgICBhY3RpdmVCZWFjb25JZCA9IG51bGw7XG4gICAgICBkaXNjb3ZlcmVkQmVhY29ucy5jbGVhcigpO1xuICAgICAgY29tcGxldGVkQmVhY29ucy5jbGVhcigpO1xuICAgIH1cblxuICAgIGlmICghbWlzc2lvblN0YXJ0ZWQgJiYgbWlzc2lvbi5zdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gICAgICBtaXNzaW9uU3RhcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBiZWFjb24gb2YgbWlzc2lvbi5iZWFjb25zKSB7XG4gICAgICBpZiAoYmVhY29uLmRpc2NvdmVyZWQgJiYgIWRpc2NvdmVyZWRCZWFjb25zLmhhcyhiZWFjb24uaWQpKSB7XG4gICAgICAgIGRpc2NvdmVyZWRCZWFjb25zLmFkZChiZWFjb24uaWQpO1xuICAgICAgICBidXMuZW1pdChcImJlYWNvbjpkaXNjb3ZlcmVkXCIsIHsgaWQ6IGJlYWNvbi5pZCwgb3JkaW5hbDogYmVhY29uLm9yZGluYWwgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBiZWFjb24gb2YgbWlzc2lvbi5iZWFjb25zKSB7XG4gICAgICBpZiAoYmVhY29uLmNvbXBsZXRlZCAmJiAhY29tcGxldGVkQmVhY29ucy5oYXMoYmVhY29uLmlkKSkge1xuICAgICAgICBjb21wbGV0ZWRCZWFjb25zLmFkZChiZWFjb24uaWQpO1xuICAgICAgICBidXMuZW1pdChcIm1pc3Npb246YmVhY29uLWxvY2tlZFwiLCB7IGluZGV4OiBiZWFjb24ub3JkaW5hbCB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGxheWVyLmFjdGl2ZUJlYWNvbklkICYmIHBsYXllci5hY3RpdmVCZWFjb25JZCAhPT0gYWN0aXZlQmVhY29uSWQpIHtcbiAgICAgIGFjdGl2ZUJlYWNvbklkID0gcGxheWVyLmFjdGl2ZUJlYWNvbklkO1xuICAgICAgY29uc3QgYmVhY29uID0gbWlzc2lvbi5iZWFjb25zLmZpbmQoKGIpID0+IGIuaWQgPT09IHBsYXllci5hY3RpdmVCZWFjb25JZCk7XG4gICAgICBidXMuZW1pdChcImJlYWNvbjphY3RpdmF0ZWRcIiwge1xuICAgICAgICBpZDogcGxheWVyLmFjdGl2ZUJlYWNvbklkLFxuICAgICAgICBvcmRpbmFsOiBiZWFjb24/Lm9yZGluYWwgPz8gcGxheWVyLmN1cnJlbnRJbmRleCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXBsYXllci5hY3RpdmVCZWFjb25JZCkge1xuICAgICAgYWN0aXZlQmVhY29uSWQgPSBudWxsO1xuICAgIH1cblxuICAgIHN5bmNocm9uaXplSG9sZERpc3BsYXkocGxheWVyKTtcbiAgICB1cGRhdGVJbnNpZGVGbGFnKHBsYXllcik7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUaWNrKCk6IHZvaWQge1xuICAgIGNvbnN0IG1pc3Npb24gPSBzdGF0ZS5taXNzaW9uO1xuICAgIGlmICghbWlzc2lvbj8ucGxheWVyKSByZXR1cm47XG4gICAgc3luY2hyb25pemVIb2xkRGlzcGxheShtaXNzaW9uLnBsYXllcik7XG4gICAgdXBkYXRlSW5zaWRlRmxhZyhtaXNzaW9uLnBsYXllcik7XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jaHJvbml6ZUhvbGREaXNwbGF5KHBsYXllcjogTWlzc2lvblBsYXllclN0YXRlKTogdm9pZCB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocGxheWVyLmhvbGRBY2N1bSkpIHtcbiAgICAgIHBsYXllci5ob2xkQWNjdW0gPSAwO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShwbGF5ZXIuZGlzcGxheUhvbGQpKSB7XG4gICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSBwbGF5ZXIuaG9sZEFjY3VtO1xuICAgIH1cbiAgICBjb25zdCBub3dNcyA9IG1vbm90b25pY05vdygpO1xuICAgIGNvbnN0IHByZXZpb3VzU3luYyA9IE51bWJlci5pc0Zpbml0ZShwbGF5ZXIubGFzdERpc3BsYXlTeW5jKSA/IHBsYXllci5sYXN0RGlzcGxheVN5bmMgOiBub3dNcztcbiAgICBjb25zdCBkdCA9IE1hdGgubWF4KDAsIChub3dNcyAtIHByZXZpb3VzU3luYykgLyAxMDAwKTtcbiAgICBwbGF5ZXIubGFzdERpc3BsYXlTeW5jID0gbm93TXM7XG5cbiAgICBjb25zdCB0YXJnZXQgPSBjbGFtcChwbGF5ZXIuaG9sZEFjY3VtLCAwLCBNYXRoLm1heChwbGF5ZXIuaG9sZFJlcXVpcmVkLCBwbGF5ZXIuaG9sZEFjY3VtKSk7XG4gICAgY29uc3Qgc21vb3RoaW5nID0gMSAtIE1hdGguZXhwKC1kdCAqIEhPTERfU01PT1RIX1JBVEUpO1xuICAgIGlmIChzbW9vdGhpbmcgPiAwKSB7XG4gICAgICBwbGF5ZXIuZGlzcGxheUhvbGQgPSBwbGF5ZXIuZGlzcGxheUhvbGQgKyAodGFyZ2V0IC0gcGxheWVyLmRpc3BsYXlIb2xkKSAqIHNtb290aGluZztcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKHBsYXllci5kaXNwbGF5SG9sZCAtIHRhcmdldCkgPCBIT0xEX0VQU0lMT04pIHtcbiAgICAgIHBsYXllci5kaXNwbGF5SG9sZCA9IHRhcmdldDtcbiAgICB9XG4gICAgcGxheWVyLmRpc3BsYXlIb2xkID0gY2xhbXAocGxheWVyLmRpc3BsYXlIb2xkLCAwLCBNYXRoLm1heChwbGF5ZXIuaG9sZFJlcXVpcmVkLCB0YXJnZXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUluc2lkZUZsYWcocGxheWVyOiBNaXNzaW9uUGxheWVyU3RhdGUpOiB2b2lkIHtcbiAgICBjb25zdCBtaXNzaW9uID0gc3RhdGUubWlzc2lvbjtcbiAgICBpZiAoIW1pc3Npb24pIHtcbiAgICAgIHBsYXllci5pbnNpZGVBY3RpdmVCZWFjb24gPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwbGF5ZXIuYWN0aXZlQmVhY29uSWQgfHwgIXN0YXRlLm1lKSB7XG4gICAgICBwbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJlYWNvbiA9IG1pc3Npb24uYmVhY29ucy5maW5kKChiKSA9PiBiLmlkID09PSBwbGF5ZXIuYWN0aXZlQmVhY29uSWQpO1xuICAgIGlmICghYmVhY29uKSB7XG4gICAgICBwbGF5ZXIuaW5zaWRlQWN0aXZlQmVhY29uID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGR4ID0gc3RhdGUubWUueCAtIGJlYWNvbi54O1xuICAgIGNvbnN0IGR5ID0gc3RhdGUubWUueSAtIGJlYWNvbi55O1xuICAgIHBsYXllci5pbnNpZGVBY3RpdmVCZWFjb24gPSBkeCAqIGR4ICsgZHkgKiBkeSA8PSBiZWFjb24ucmFkaXVzICogYmVhY29uLnJhZGl1cztcbiAgfVxuXG4gIGNvbnN0IHVuc3ViTWlzc2lvbiA9IGJ1cy5vbihcIm1pc3Npb246dXBkYXRlXCIsICgpID0+IGhhbmRsZU1pc3Npb25VcGRhdGUoKSk7XG4gIGNvbnN0IHVuc3ViTWlzc2lvblN0YXJ0ID0gYnVzLm9uKFwibWlzc2lvbjpzdGFydFwiLCAoKSA9PiB7XG4gICAgbWlzc2lvblN0YXJ0ZWQgPSB0cnVlO1xuICB9KTtcbiAgY29uc3QgdW5zdWJPZmZlciA9IGJ1cy5vbihcIm1pc3Npb246b2ZmZXJlZFwiLCAoeyBtaXNzaW9uSWQgfSkgPT4ge1xuICAgIGlmIChtaXNzaW9uSWQpIHtcbiAgICAgIGFjY2VwdE1pc3Npb24obWlzc2lvbklkKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB1bnN1YlN0YXRlID0gYnVzLm9uKFwic3RhdGU6dXBkYXRlZFwiLCAoKSA9PiBoYW5kbGVUaWNrKCkpO1xuXG4gIHJldHVybiB7XG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHVuc3ViTWlzc2lvbigpO1xuICAgICAgdW5zdWJTdGF0ZSgpO1xuICAgICAgdW5zdWJPZmZlcigpO1xuICAgICAgdW5zdWJNaXNzaW9uU3RhcnQoKTtcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi9idXNcIjtcbmltcG9ydCB0eXBlIHsgQXBwU3RhdGUsIERhZ05vZGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgVXBncmFkZUVmZmVjdFR5cGUgfSBmcm9tIFwiLi9wcm90by9wcm90by93c19tZXNzYWdlc19wYlwiO1xuaW1wb3J0IHsgc2VuZERhZ1N0YXJ0IH0gZnJvbSBcIi4vbmV0XCI7XG5cbmxldCBjb3VudGRvd25JbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0VXBncmFkZXNQYW5lbChcbiAgc3RhdGU6IEFwcFN0YXRlLFxuICBidXM6IEV2ZW50QnVzXG4pOiB2b2lkIHtcbiAgLy8gQ3JlYXRlIHBhbmVsIERPTSBzdHJ1Y3R1cmVcbiAgY29uc3QgcGFuZWwgPSBjcmVhdGVQYW5lbEVsZW1lbnQoKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwYW5lbCk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gcGFuZWwucXVlcnlTZWxlY3RvcignLnRlY2gtdHJlZS1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgY2xvc2VCdG4gPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJykgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG92ZXJsYXkgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcucGFuZWwtb3ZlcmxheScpIGFzIEhUTUxFbGVtZW50O1xuXG4gIC8vIFJlbmRlciBmdW5jdGlvbiAodGhyb3R0bGVkIGJ5IHNpZ25hdHVyZSBvZiBpZDpzdGF0dXMpXG4gIGxldCBsYXN0U2lnID0gXCJcIjtcbiAgZnVuY3Rpb24gY29tcHV0ZVNpZyhub2RlczogRGFnTm9kZVtdKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbm9kZXNcbiAgICAgIC5zbGljZSgpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpKVxuICAgICAgLm1hcChuID0+IGAke24uaWR9OiR7bi5zdGF0dXN9YClcbiAgICAgIC5qb2luKFwifFwiKTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJVcGdyYWRlcyhmb3JjZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgYWxsID0gc3RhdGUuZGFnPy5ub2RlcyB8fCBbXTtcbiAgICAvLyBCZSBwZXJtaXNzaXZlOiB0cmVhdCBwcm90by1tYXBwZWQgJ3VuaXQnIGFzIHVwZ3JhZGVzLCBidXQgYWxzbyBhbGxvdyBpZCBwcmVmaXhcbiAgICBjb25zdCB1cGdyYWRlTm9kZXMgPSBhbGwuZmlsdGVyKG4gPT4gbi5raW5kID09PSAndW5pdCcgfHwgbi5pZC5zdGFydHNXaXRoKCd1cGdyYWRlLicpKTtcbiAgICBjb25zdCBzaWcgPSBjb21wdXRlU2lnKHVwZ3JhZGVOb2Rlcyk7XG4gICAgaWYgKCFmb3JjZSAmJiBzaWcgPT09IGxhc3RTaWcpIHJldHVybjtcbiAgICBsYXN0U2lnID0gc2lnO1xuICAgIHJlbmRlclRlY2hUcmVlKHVwZ3JhZGVOb2RlcywgY29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIFRvZ2dsZSBwYW5lbCB2aXNpYmlsaXR5XG4gIGZ1bmN0aW9uIHRvZ2dsZVBhbmVsKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJywgdmlzaWJsZSk7XG4gICAgaWYgKHZpc2libGUpIHtcbiAgICAgIHJlbmRlclVwZ3JhZGVzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGJ1cy5vbihcInVwZ3JhZGVzOnRvZ2dsZVwiLCAoKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9ICFwYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKTtcbiAgICB0b2dnbGVQYW5lbChuZXh0KTtcbiAgICBpZiAobmV4dCkgcmVuZGVyVXBncmFkZXModHJ1ZSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihcInVwZ3JhZGVzOnNob3dcIiwgKCkgPT4geyB0b2dnbGVQYW5lbCh0cnVlKTsgcmVuZGVyVXBncmFkZXModHJ1ZSk7IH0pO1xuICBidXMub24oXCJ1cGdyYWRlczpoaWRlXCIsICgpID0+IHRvZ2dsZVBhbmVsKGZhbHNlKSk7XG5cbiAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRvZ2dsZVBhbmVsKGZhbHNlKSk7XG4gIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRvZ2dsZVBhbmVsKGZhbHNlKSk7XG5cbiAgLy8gU3Vic2NyaWJlIHRvIERBRyB1cGRhdGVzIChldmVudC1kcml2ZW4gcGF0dGVybilcbiAgYnVzLm9uKFwic3RhdGU6dXBkYXRlZFwiLCAoKSA9PiB7XG4gICAgaWYgKHBhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB7XG4gICAgICByZW5kZXJVcGdyYWRlcyhmYWxzZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBIYW5kbGUgbm9kZSBjbGlja1xuICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgY29uc3Qgbm9kZUVsID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KFwiW2RhdGEtbm9kZS1pZF1cIik7XG4gICAgaWYgKCFub2RlRWwpIHJldHVybjtcblxuICAgIGNvbnN0IG5vZGVJZCA9IG5vZGVFbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vZGUtaWRcIik7XG4gICAgY29uc3Qgbm9kZSA9IHN0YXRlLmRhZz8ubm9kZXMuZmluZChuID0+IG4uaWQgPT09IG5vZGVJZCk7XG5cbiAgICBpZiAobm9kZT8uc3RhdHVzID09PSBcImF2YWlsYWJsZVwiKSB7XG4gICAgICBzZW5kRGFnU3RhcnQobm9kZUlkISk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFuZWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcGFuZWwuY2xhc3NOYW1lID0gJ3VwZ3JhZGVzLXBhbmVsJztcbiAgcGFuZWwuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1vdmVybGF5XCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkZXJcIj5cbiAgICAgICAgPGgyPlNoaXAgVXBncmFkZXM8L2gyPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xvc2UtYnRuXCI+XHUwMEQ3PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZWNoLXRyZWUtY29udGFpbmVyXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gIHJldHVybiBwYW5lbDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGVjaFRyZWUobm9kZXM6IERhZ05vZGVbXSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBzb3J0ZWQgPSBub2Rlcy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEuaWQubG9jYWxlQ29tcGFyZShiLmlkKSk7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInRlY2gtdHJlZVwiPlxuICAgICAgJHtzb3J0ZWQubGVuZ3RoID4gMCA/IHNvcnRlZC5tYXAocmVuZGVyTm9kZSkuam9pbignJykgOiAnPGRpdiBjbGFzcz1cXFwibXV0ZWRcXFwiPk5vIHVwZ3JhZGVzIGF2YWlsYWJsZTwvZGl2Pid9XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGVmZmVjdFR5cGVUb1N0cmluZyh0OiB1bmtub3duKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gdDtcbiAgaWYgKHR5cGVvZiB0ID09PSBcIm51bWJlclwiKSB7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIFVwZ3JhZGVFZmZlY3RUeXBlLlNQRUVEX01VTFRJUExJRVI6XG4gICAgICAgIHJldHVybiBcInNwZWVkX211bHRpcGxpZXJcIjtcbiAgICAgIGNhc2UgVXBncmFkZUVmZmVjdFR5cGUuTUlTU0lMRV9VTkxPQ0s6XG4gICAgICAgIHJldHVybiBcIm1pc3NpbGVfdW5sb2NrXCI7XG4gICAgICBjYXNlIFVwZ3JhZGVFZmZlY3RUeXBlLkhFQVRfQ0FQQUNJVFk6XG4gICAgICAgIHJldHVybiBcImhlYXRfY2FwYWNpdHlcIjtcbiAgICAgIGNhc2UgVXBncmFkZUVmZmVjdFR5cGUuSEVBVF9FRkZJQ0lFTkNZOlxuICAgICAgICByZXR1cm4gXCJoZWF0X2VmZmljaWVuY3lcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcInVua25vd25cIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuXG5mdW5jdGlvbiByZW5kZXJOb2RlKG5vZGU6IERhZ05vZGUpOiBzdHJpbmcge1xuICBjb25zdCBzdGF0dXNDbGFzcyA9IGBub2RlLSR7bm9kZS5zdGF0dXN9YDtcbiAgY29uc3QgZWZmZWN0c0h0bWwgPSBub2RlLmVmZmVjdHM/Lm1hcChlID0+IHtcbiAgICBjb25zdCB0eXBlID0gZWZmZWN0VHlwZVRvU3RyaW5nKChlIGFzIGFueSkudHlwZSk7XG4gICAgY29uc3QgdmFsdWUgPSAoZSBhcyBhbnkpLnZhbHVlIGFzIG51bWJlciB8IHN0cmluZztcbiAgICBjb25zdCBpc1NoaXAgPSBub2RlLmlkLnN0YXJ0c1dpdGgoXCJ1cGdyYWRlLnNoaXAuXCIpO1xuICAgIGNvbnN0IGlzTWlzc2lsZSA9IG5vZGUuaWQuc3RhcnRzV2l0aChcInVwZ3JhZGUubWlzc2lsZS5cIik7XG4gICAgaWYgKHR5cGUgPT09IFwibWlzc2lsZV91bmxvY2tcIikge1xuICAgICAgcmV0dXJuIGBVbmxvY2sgJHt2YWx1ZX1gO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBwY3QgPSAoKHZhbHVlIC0gMSkgKiAxMDApO1xuICAgICAgY29uc3QgcGN0U3RyID0gTnVtYmVyLmlzRmluaXRlKHBjdCkgPyBwY3QudG9GaXhlZCgwKSA6IFwiMFwiO1xuICAgICAgaWYgKHR5cGUgPT09IFwic3BlZWRfbXVsdGlwbGllclwiKSB7XG4gICAgICAgIHJldHVybiBpc1NoaXAgPyBgKyR7cGN0U3RyfSUgU2hpcCBTcGVlZGAgOiBpc01pc3NpbGUgPyBgKyR7cGN0U3RyfSUgTWlzc2lsZSBTcGVlZGAgOiBgKyR7cGN0U3RyfSUgU3BlZWRgO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IFwiaGVhdF9jYXBhY2l0eVwiKSB7XG4gICAgICAgIHJldHVybiBpc1NoaXAgPyBgKyR7cGN0U3RyfSUgU2hpcCBIZWF0YCA6IGlzTWlzc2lsZSA/IGArJHtwY3RTdHJ9JSBNaXNzaWxlIEhlYXRgIDogYCske3BjdFN0cn0lIEhlYXQgQ2FwYWNpdHlgO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IFwiaGVhdF9lZmZpY2llbmN5XCIpIHtcbiAgICAgICAgcmV0dXJuIGArJHtwY3RTdHJ9JSBDb29saW5nYDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0pLmpvaW4oJywgJykgfHwgJyc7XG5cbiAgY29uc3QgY291bnRkb3duSHRtbCA9IG5vZGUuc3RhdHVzID09PSAnaW5fcHJvZ3Jlc3MnXG4gICAgPyBgPGRpdiBjbGFzcz1cImNvdW50ZG93blwiPiR7Zm9ybWF0VGltZShub2RlLnJlbWFpbmluZ19zKX08L2Rpdj5gXG4gICAgOiAnJztcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJub2RlICR7c3RhdHVzQ2xhc3N9XCIgZGF0YS1ub2RlLWlkPVwiJHtub2RlLmlkfVwiPlxuICAgICAgPGgzPiR7bm9kZS5sYWJlbH08L2gzPlxuICAgICAgJHtlZmZlY3RzSHRtbCA/IGA8cCBjbGFzcz1cImVmZmVjdHNcIj4ke2VmZmVjdHNIdG1sfTwvcD5gIDogJyd9XG4gICAgICA8cCBjbGFzcz1cImR1cmF0aW9uXCI+RHVyYXRpb246ICR7Zm9ybWF0VGltZShub2RlLmR1cmF0aW9uX3MpfTwvcD5cbiAgICAgICR7Y291bnRkb3duSHRtbH1cbiAgICAgICR7bm9kZS5zdGF0dXMgPT09ICdhdmFpbGFibGUnID8gJzxidXR0b24+U3RhcnQ8L2J1dHRvbj4nIDogJyd9XG4gICAgICAke25vZGUuc3RhdHVzID09PSAnY29tcGxldGVkJyA/ICc8ZGl2IGNsYXNzPVwiY2hlY2ttYXJrXCI+XHUyNzEzPC9kaXY+JyA6ICcnfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChzZWNvbmRzIDwgNjApIHJldHVybiBgJHtNYXRoLmZsb29yKHNlY29uZHMpfXNgO1xuICBpZiAoc2Vjb25kcyA8IDM2MDApIHJldHVybiBgJHtNYXRoLmZsb29yKHNlY29uZHMgLyA2MCl9bWA7XG4gIHJldHVybiBgJHtNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKX1oICR7TWF0aC5mbG9vcigoc2Vjb25kcyAlIDM2MDApIC8gNjApfW1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb3VudGRvd25UaW1lcihzdGF0ZTogQXBwU3RhdGUsIGJ1czogRXZlbnRCdXMpOiB2b2lkIHtcbiAgaWYgKGNvdW50ZG93bkludGVydmFsKSB7XG4gICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gIH1cblxuICBjb3VudGRvd25JbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgdXBncmFkZU5vZGVzID0gc3RhdGUuZGFnPy5ub2Rlcy5maWx0ZXIobiA9PlxuICAgICAgbi5raW5kID09PSAndW5pdCcgJiYgbi5zdGF0dXMgPT09ICdpbl9wcm9ncmVzcydcbiAgICApIHx8IFtdO1xuXG4gICAgdXBncmFkZU5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW5vZGUtaWQ9XCIke25vZGUuaWR9XCJdIC5jb3VudGRvd25gKTtcbiAgICAgIGlmIChlbCAmJiBub2RlLnJlbWFpbmluZ19zID4gMCkge1xuICAgICAgICBlbC50ZXh0Q29udGVudCA9IGZvcm1hdFRpbWUobm9kZS5yZW1haW5pbmdfcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgYmFkZ2UgY291bnRcbiAgICBjb25zdCBpblByb2dyZXNzQ291bnQgPSB1cGdyYWRlTm9kZXMubGVuZ3RoO1xuICAgIGJ1cy5lbWl0KFwidXBncmFkZXM6Y291bnRVcGRhdGVkXCIsIHsgY291bnQ6IGluUHJvZ3Jlc3NDb3VudCB9KTtcbiAgfSwgMTAwMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wQ291bnRkb3duVGltZXIoKTogdm9pZCB7XG4gIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgIGNvdW50ZG93bkludGVydmFsID0gbnVsbDtcbiAgfVxufVxuIiwgImltcG9ydCB7IGNyZWF0ZUV2ZW50QnVzIH0gZnJvbSBcIi4vYnVzXCI7XG5pbXBvcnQgeyBjb25uZWN0V2ViU29ja2V0LCBzZW5kTWVzc2FnZSB9IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0IHsgaW5pdEdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XG5pbXBvcnQgeyBpbml0RW5jb3VudGVyRGVidWdPdmVybGF5IH0gZnJvbSBcIi4vZGVidWcvZW5jb3VudGVyLW92ZXJsYXlcIjtcbmltcG9ydCB7IGNyZWF0ZUluaXRpYWxTdGF0ZSwgY3JlYXRlSW5pdGlhbFVJU3RhdGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgbW91bnRUdXRvcmlhbCwgQkFTSUNfVFVUT1JJQUxfSUQgfSBmcm9tIFwiLi90dXRvcmlhbFwiO1xuaW1wb3J0IHsgY2xlYXJQcm9ncmVzcyBhcyBjbGVhclR1dG9yaWFsUHJvZ3Jlc3MgfSBmcm9tIFwiLi90dXRvcmlhbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBtb3VudFN0b3J5LCBJTlRST19DSEFQVEVSX0lELCBJTlRST19JTklUSUFMX1JFU1BPTlNFX0lEUyB9IGZyb20gXCIuL3N0b3J5XCI7XG5pbXBvcnQgeyB3YWl0Rm9yVXNlclN0YXJ0IH0gZnJvbSBcIi4vc3RhcnQtZ2F0ZVwiO1xuaW1wb3J0IHsgcmVzdW1lQXVkaW8gfSBmcm9tIFwiLi9zdG9yeS9zZnhcIjtcbmltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4vYXVkaW8vZW5naW5lXCI7XG5pbXBvcnQgeyBNdXNpY0RpcmVjdG9yIH0gZnJvbSBcIi4vYXVkaW8vbXVzaWNcIjtcbmltcG9ydCB7IHJlZ2lzdGVyQXVkaW9CdXNCaW5kaW5ncyB9IGZyb20gXCIuL2F1ZGlvL2N1ZXNcIjtcbmltcG9ydCB7IG1vdW50TWlzc2lvbkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9taXNzaW9uL2NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IGluaXRVcGdyYWRlc1BhbmVsLCBzdGFydENvdW50ZG93blRpbWVyIH0gZnJvbSBcIi4vdXBncmFkZXNcIjtcblxuY29uc3QgQ0FMTF9TSUdOX1NUT1JBR0VfS0VZID0gXCJsc2Q6Y2FsbHNpZ25cIjtcblxuKGFzeW5jIGZ1bmN0aW9uIGJvb3RzdHJhcCgpIHtcbiAgY29uc3QgcXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBjb25zdCByb29tID0gcXMuZ2V0KFwicm9vbVwiKSB8fCBcImRlZmF1bHRcIjtcbiAgY29uc3QgbW9kZSA9IHFzLmdldChcIm1vZGVcIikgfHwgXCJcIjtcbiAgY29uc3QgbWlzc2lvbklkID0gcXMuZ2V0KFwibWlzc2lvblwiKSB8fCAobW9kZSA9PT0gXCJjYW1wYWlnblwiID8gXCIxXCIgOiBudWxsKTtcbiAgY29uc3QgbmFtZVBhcmFtID0gc2FuaXRpemVDYWxsU2lnbihxcy5nZXQoXCJuYW1lXCIpKTtcbiAgY29uc3Qgc3RvcmVkTmFtZSA9IHNhbml0aXplQ2FsbFNpZ24ocmVhZFN0b3JlZENhbGxTaWduKCkpO1xuICBjb25zdCBjYWxsU2lnbiA9IG5hbWVQYXJhbSB8fCBzdG9yZWROYW1lO1xuICBjb25zdCBtYXBXID0gcGFyc2VGbG9hdChxcy5nZXQoXCJtYXBXXCIpIHx8IFwiODAwMFwiKTtcbiAgY29uc3QgbWFwSCA9IHBhcnNlRmxvYXQocXMuZ2V0KFwibWFwSFwiKSB8fCBcIjQ1MDBcIik7XG5cbiAgaWYgKG5hbWVQYXJhbSAmJiBuYW1lUGFyYW0gIT09IHN0b3JlZE5hbWUpIHtcbiAgICBwZXJzaXN0Q2FsbFNpZ24obmFtZVBhcmFtKTtcbiAgfVxuXG4gIC8vIEdhdGUgZXZlcnl0aGluZyBvbiBhIHVzZXIgZ2VzdHVyZSAoY2VudHJlZCBidXR0b24pXG4gIGF3YWl0IHdhaXRGb3JVc2VyU3RhcnQoe1xuICAgIGxhYmVsOiBcIlN0YXJ0IEdhbWVcIixcbiAgICByZXF1ZXN0RnVsbHNjcmVlbjogZmFsc2UsICAgLy8gZmxpcCB0byB0cnVlIGlmIHlvdSB3YW50IGZ1bGxzY3JlZW5cbiAgICByZXN1bWVBdWRpbywgICAgICAgICAgICAgICAgLy8gdXNlcyBzdG9yeS9zZngudHNcbiAgfSk7XG5cbiAgLy8gLS0tLSBTdGFydCBhY3R1YWwgYXBwIGFmdGVyIGdlc3R1cmUgLS0tLVxuICBjb25zdCBzdGF0ZSA9IGNyZWF0ZUluaXRpYWxTdGF0ZSgpO1xuICBjb25zdCB1aVN0YXRlID0gY3JlYXRlSW5pdGlhbFVJU3RhdGUoKTtcbiAgY29uc3QgYnVzID0gY3JlYXRlRXZlbnRCdXMoKTtcblxuICAvLyAtLS0gQVVESU86IGVuZ2luZSArIGJpbmRpbmdzICsgZGVmYXVsdCBzY2VuZSAtLS1cbiAgY29uc3QgZW5naW5lID0gQXVkaW9FbmdpbmUuZ2V0KCk7XG4gIGF3YWl0IGVuZ2luZS5yZXN1bWUoKTsgLy8gc2FmZSBwb3N0LWdlc3R1cmVcbiAgY29uc3QgbXVzaWMgPSBuZXcgTXVzaWNEaXJlY3RvcihlbmdpbmUpO1xuICByZWdpc3RlckF1ZGlvQnVzQmluZGluZ3MoYnVzIGFzIGFueSwgZW5naW5lLCBtdXNpYyk7XG5cbiAgLy8gU3RhcnQgYSBkZWZhdWx0IG11c2ljIHNjZW5lIChhZGp1c3Qgc2VlZC9zY2VuZSBhcyB5b3UgbGlrZSlcbiAgYnVzLmVtaXQoXCJhdWRpbzptdXNpYzpzZXQtc2NlbmVcIiwgeyBzY2VuZTogXCJhbWJpZW50XCIsIHNlZWQ6IDQyIH0pO1xuXG4gIC8vIE9wdGlvbmFsOiBiYXNpYyBob29rcyB0byBkZW1vbnN0cmF0ZSBTRlggJiBkdWNraW5nXG4gIC8vIGJ1cy5vbihcImRpYWxvZ3VlOm9wZW5lZFwiLCAoKSA9PiBlbmdpbmUuZHVja011c2ljKDAuMzUsIDAuMSkpO1xuICAvLyBidXMub24oXCJkaWFsb2d1ZTpjbG9zZWRcIiwgKCkgPT4gZW5naW5lLnVuZHVja011c2ljKDAuMjUpKTtcblxuICAvLyBFeGFtcGxlIGdhbWUgU0ZYIHdpcmluZyAoYWRhcHQgdG8geW91ciBhY3R1YWwgZXZlbnRzKVxuICBidXMub24oXCJzaGlwOnNwZWVkQ2hhbmdlZFwiLCAoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKHZhbHVlID4gMCkgYnVzLmVtaXQoXCJhdWRpbzpzZnhcIiwgeyBuYW1lOiBcInRocnVzdFwiLCB2ZWxvY2l0eTogTWF0aC5taW4oMSwgdmFsdWUpIH0pO1xuICB9KTtcblxuICBjb25zdCBnYW1lID0gaW5pdEdhbWUoeyBzdGF0ZSwgdWlTdGF0ZSwgYnVzIH0pO1xuICBtb3VudE1pc3Npb25Db250cm9sbGVyKHsgc3RhdGUsIGJ1cywgbW9kZSwgbWlzc2lvbklkIH0pO1xuICBpbml0RW5jb3VudGVyRGVidWdPdmVybGF5KHsgc3RhdGUsIGJ1cyB9KTtcblxuICAvLyBJbml0aWFsaXplIHVwZ3JhZGVzIHBhbmVsXG4gIGluaXRVcGdyYWRlc1BhbmVsKHN0YXRlLCBidXMpO1xuICBzdGFydENvdW50ZG93blRpbWVyKHN0YXRlLCBidXMpO1xuXG4gIC8vIEFkZCBrZXlib2FyZCBzaG9ydGN1dCAoVSBrZXkpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJ1XCIgfHwgZS5rZXkgPT09IFwiVVwiKSB7XG4gICAgICBidXMuZW1pdChcInVwZ3JhZGVzOnRvZ2dsZVwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFdpcmUgdXAgdXBncmFkZXMgYnV0dG9uXG4gIGNvbnN0IHVwZ3JhZGVzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLXVwZ3JhZGVzLWJ0blwiKTtcbiAgdXBncmFkZXNCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgYnVzLmVtaXQoXCJ1cGdyYWRlczp0b2dnbGVcIik7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBiYWRnZSB3aXRoIGluLXByb2dyZXNzIGNvdW50XG4gIGJ1cy5vbihcInVwZ3JhZGVzOmNvdW50VXBkYXRlZFwiLCAoeyBjb3VudCB9KSA9PiB7XG4gICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtdXBncmFkZXMtYmFkZ2VcIik7XG4gICAgaWYgKGJhZGdlKSB7XG4gICAgICBiYWRnZS50ZXh0Q29udGVudCA9IGNvdW50ID4gMCA/IGAke2NvdW50fWAgOiBcIlwiO1xuICAgICAgYmFkZ2Uuc3R5bGUuZGlzcGxheSA9IGNvdW50ID4gMCA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1vdW50IHR1dG9yaWFsIGFuZCBzdG9yeSBiYXNlZCBvbiBnYW1lIG1vZGVcbiAgY29uc3QgZW5hYmxlVHV0b3JpYWwgPSBtb2RlID09PSBcImNhbXBhaWduXCIgfHwgbW9kZSA9PT0gXCJ0dXRvcmlhbFwiO1xuICBjb25zdCBlbmFibGVTdG9yeSA9IG1vZGUgPT09IFwiY2FtcGFpZ25cIjtcblxuICBsZXQgdHV0b3JpYWw6IFJldHVyblR5cGU8dHlwZW9mIG1vdW50VHV0b3JpYWw+IHwgbnVsbCA9IG51bGw7XG4gIGxldCB0dXRvcmlhbFN0YXJ0ZWQgPSBmYWxzZTtcblxuICBpZiAoZW5hYmxlVHV0b3JpYWwpIHtcbiAgICB0dXRvcmlhbCA9IG1vdW50VHV0b3JpYWwoYnVzKTtcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0VHV0b3JpYWwgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKCF0dXRvcmlhbCB8fCB0dXRvcmlhbFN0YXJ0ZWQpIHJldHVybjtcbiAgICB0dXRvcmlhbFN0YXJ0ZWQgPSB0cnVlO1xuICAgIGNsZWFyVHV0b3JpYWxQcm9ncmVzcyhCQVNJQ19UVVRPUklBTF9JRCk7XG4gICAgdHV0b3JpYWwuc3RhcnQoeyByZXN1bWU6IGZhbHNlIH0pO1xuICB9O1xuXG4gIGlmIChlbmFibGVTdG9yeSkge1xuICAgIC8vIENhbXBhaWduIG1vZGU6IHN0b3J5ICsgdHV0b3JpYWxcbiAgICBcbiAgICBtb3VudFN0b3J5KHsgYnVzLCBzdGF0ZSwgcm9vbUlkOiByb29tIH0pO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09IFwidHV0b3JpYWxcIikge1xuICAgIC8vIFR1dG9yaWFsIG1vZGU6IGF1dG8tc3RhcnQgdHV0b3JpYWwgd2l0aG91dCBzdG9yeVxuICAgIHN0YXJ0VHV0b3JpYWwoKTtcbiAgfVxuICAvLyBGcmVlIHBsYXkgYW5kIGRlZmF1bHQ6IG5vIHN5c3RlbXMgbW91bnRlZFxuXG4gIGNvbm5lY3RXZWJTb2NrZXQoe1xuICAgIHJvb20sXG4gICAgc3RhdGUsXG4gICAgYnVzLFxuICAgIG1hcFcsXG4gICAgbWFwSCxcbiAgICBtb2RlLFxuICAgIG1pc3Npb25JZDogbWlzc2lvbklkID8/IHVuZGVmaW5lZCxcbiAgICBvblN0YXRlVXBkYXRlZDogKCkgPT4gZ2FtZS5vblN0YXRlVXBkYXRlZCgpLFxuICAgIG9uT3BlbjogKCkgPT4ge1xuICAgICAgY29uc3QgbmFtZVRvU2VuZCA9IGNhbGxTaWduIHx8IHNhbml0aXplQ2FsbFNpZ24ocmVhZFN0b3JlZENhbGxTaWduKCkpO1xuICAgICAgaWYgKG5hbWVUb1NlbmQpIHNlbmRNZXNzYWdlKHsgdHlwZTogXCJqb2luXCIsIG5hbWU6IG5hbWVUb1NlbmQgfSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gT3B0aW9uYWw6IHN1c3BlbmQvcmVzdW1lIGF1ZGlvIG9uIHRhYiB2aXNpYmlsaXR5IHRvIHNhdmUgQ1BVXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsICgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICB2b2lkIGVuZ2luZS5zdXNwZW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZvaWQgZW5naW5lLnJlc3VtZSgpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5mdW5jdGlvbiBzYW5pdGl6ZUNhbGxTaWduKHZhbHVlOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG4gIGlmICghdHJpbW1lZCkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiB0cmltbWVkLnNsaWNlKDAsIDI0KTtcbn1cblxuZnVuY3Rpb24gcGVyc2lzdENhbGxTaWduKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICB0cnkge1xuICAgIGlmIChuYW1lKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ0FMTF9TSUdOX1NUT1JBR0VfS0VZLCBuYW1lKTtcbiAgICBlbHNlIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDQUxMX1NJR05fU1RPUkFHRV9LRVkpO1xuICB9IGNhdGNoIHt9XG59XG5cbmZ1bmN0aW9uIHJlYWRTdG9yZWRDYWxsU2lnbigpOiBzdHJpbmcge1xuICB0cnkgeyByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKENBTExfU0lHTl9TVE9SQUdFX0tFWSkgPz8gXCJcIjsgfVxuICBjYXRjaCB7IHJldHVybiBcIlwiOyB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7OztBQTJITyxXQUFTLGlCQUEyQjtBQUN6QyxVQUFNLFdBQVcsb0JBQUksSUFBNkI7QUFDbEQsV0FBTztBQUFBLE1BQ0wsR0FBRyxPQUFPLFNBQVM7QUFDakIsWUFBSSxNQUFNLFNBQVMsSUFBSSxLQUFLO0FBQzVCLFlBQUksQ0FBQyxLQUFLO0FBQ1IsZ0JBQU0sb0JBQUksSUFBSTtBQUNkLG1CQUFTLElBQUksT0FBTyxHQUFHO0FBQUEsUUFDekI7QUFDQSxZQUFJLElBQUksT0FBTztBQUNmLGVBQU8sTUFBTSxJQUFLLE9BQU8sT0FBTztBQUFBLE1BQ2xDO0FBQUEsTUFDQSxLQUFLLE9BQWlCLFNBQW1CO0FBQ3ZDLGNBQU0sTUFBTSxTQUFTLElBQUksS0FBSztBQUM5QixZQUFJLENBQUMsT0FBTyxJQUFJLFNBQVMsRUFBRztBQUM1QixtQkFBVyxNQUFNLEtBQUs7QUFDcEIsY0FBSTtBQUNGLFlBQUMsR0FBaUMsT0FBTztB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QUksU0FBUyxHQUFHLFlBQVksNkNBQTZDLEdBQUcsRUFBRSxRQUFRLGFBQWEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsWUFBWSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxpQkFBaUIsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsZUFBZSxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsSUFBSSxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLFdBQVcsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSxnQ0FBZ0MsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFVBQVUsSUFBSSxRQUFRLEdBQUcsU0FBUyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsRUFBRSxRQUFRLFFBQVEsU0FBUyxDQUFDLEVBQUUsUUFBUSxlQUFlLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxnQkFBZ0IsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGdCQUFnQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsZUFBZSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsY0FBYyxVQUFVLEdBQUcsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxjQUFjLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxhQUFhLFVBQVUsR0FBRyxHQUFHLEVBQUUsUUFBUSxpQkFBaUIsVUFBVSxHQUFHLEdBQUcsRUFBRSxR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U0FBUyxDQUFDLEVBQUUsUUFBUSxxQ0FBcUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLGNBQWMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLG9CQUFvQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsVUFBVSxVQUFVLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsWUFBWSxDQUFDLEVBQUUsUUFBUSxpQkFBaUIsU0FBUyxDQUFDLEVBQUUsUUFBUSwwQkFBMEIsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFlBQVksVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFlBQVksVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLG1CQUFtQixVQUFVLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLFlBQVksU0FBUyxDQUFDLEVBQUUsUUFBUSxxQkFBcUIsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFFBQVEsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFVBQVUsVUFBVSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSx5QkFBeUIsU0FBUyxDQUFDLEVBQUUsUUFBUSxtQ0FBbUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFVBQVUsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFlBQVksVUFBVSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSxrQkFBa0IsU0FBUyxDQUFDLEVBQUUsUUFBUSwyQkFBMkIsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFVBQVUsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFFBQVEsVUFBVSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSxtQkFBbUIsU0FBUyxDQUFDLEVBQUUsUUFBUSw0QkFBNEIsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLG1CQUFtQixVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLGNBQWMsU0FBUyxDQUFDLEVBQUUsUUFBUSx1QkFBdUIsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLFNBQVMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLHNCQUFzQixVQUFVLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLHNCQUFzQixTQUFTLENBQUMsRUFBRSxRQUFRLGdDQUFnQyxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsYUFBYSxVQUFVLEVBQUUsR0FBRyxFQUFFLFFBQVEsZ0JBQWdCLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLGtCQUFrQixDQUFDLEVBQUUsU0FBUyxLQUFNLE9BQU8sS0FBSyxHQUFHLEVBQUUsU0FBUyxNQUFNLE9BQU8sSUFBTSxHQUFHLEVBQUUsU0FBUyxLQUFPLE9BQU8sTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsc0JBQXNCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsWUFBWSxVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLCtEQUErRCxHQUFHLEVBQUUsUUFBUSxtQkFBbUIsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSwyQkFBMkIsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksMkJBQTJCLENBQUMsR0FBRyxjQUFjLENBQUMsRUFBRSxRQUFRLDRCQUE0QixTQUFTLENBQUMsRUFBRSxRQUFRLFdBQVcsVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSwyQkFBMkIsR0FBRyxFQUFFLFFBQVEsd0JBQXdCLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksOEJBQThCLEdBQUcsRUFBRSxRQUFRLGtCQUFrQixVQUFVLEdBQUcsUUFBUSxJQUFJLFNBQVMsR0FBRyxZQUFZLDhCQUE4QixDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLGtCQUFrQixTQUFTLENBQUMsRUFBRSxRQUFRLFlBQVksVUFBVSxHQUFHLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSwyQ0FBMkMsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxFQUFFLFFBQVEsWUFBWSxTQUFTLENBQUMsRUFBRSxRQUFRLFFBQVEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEdBQUcsV0FBVyxFQUFFLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRSxRQUFRLFFBQVEsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEdBQUcsV0FBVyxFQUFFLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRSxRQUFRLG9CQUFvQixVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxxQkFBcUIsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsNkJBQTZCLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsa0JBQWtCLENBQUMsRUFBRSxTQUFTLE9BQVcsT0FBTyxVQUFVLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSxxQkFBcUIsU0FBUyxDQUFDLEVBQUUsUUFBUSxjQUFjLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVksZ0RBQWdELENBQUMsR0FBRyxjQUFjLENBQUMsRUFBRSxRQUFRLGNBQWMsU0FBUyxDQUFDLEVBQUUsUUFBUSxRQUFRLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxHQUFHLFdBQVcsRUFBRSxVQUFVLEtBQUssRUFBRSxHQUFHLEVBQUUsUUFBUSxlQUFlLFVBQVUsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUFFLEdBQUcsRUFBRSxRQUFRLFNBQVMsVUFBVSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLFFBQVEsT0FBTyxVQUFVLEdBQUcsUUFBUSxHQUFHLFNBQVMsRUFBRSxHQUFHLEVBQUUsUUFBUSxZQUFZLFVBQVUsR0FBRyxRQUFRLElBQUksU0FBUyxHQUFHLFlBQVkseURBQXlELENBQUMsR0FBRyxZQUFZLENBQUMsRUFBRSxRQUFRLFlBQVksU0FBUyxDQUFDLEVBQUUsUUFBUSxRQUFRLFVBQVUs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QUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsV0FBVztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsUUFDRSxJQUFJO0FBQUEsUUFDSixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsVUFDUCxNQUFNO0FBQUEsVUFDTixPQUFPO0FB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QUFPLGFBQWEsV0FBVyxxQkFBcUI7QUFBQSxRQUMzRCxTQUFRO0FBQUEsUUFBQztBQUFBLE1BQ1g7QUFFQSxlQUFTLHFCQUE2QjtBQWhLdEM7QUFpS0UsWUFBSTtBQUFFLGtCQUFPLFlBQU8sYUFBYSxRQUFRLHFCQUFxQixNQUFqRCxZQUFzRDtBQUFBLFFBQUksU0FDakU7QUFBRSxpQkFBTztBQUFBLFFBQUk7QUFBQSxNQUNyQjtBQUFBO0FBQUE7IiwKICAibmFtZXMiOiBbImlzTWVzc2FnZSIsICJTY2FsYXJUeXBlIiwgIm1lc3NhZ2VEZXNjIiwgIm1lc3NhZ2VEZXNjIiwgIm1lc3NhZ2VEZXNjIiwgIklNUExJQ0lUIiwgIldpcmVUeXBlIiwgIm1lc3NhZ2VEZXNjIiwgIl9hIiwgIkVESVRJT05fUFJPVE8yIiwgIkVESVRJT05fUFJPVE8zIiwgIklNUExJQ0lUIiwgImJvb3QiLCAiRXh0ZW5zaW9uUmFuZ2VPcHRpb25zX1ZlcmlmaWNhdGlvblN0YXRlIiwgIkZpZWxkRGVzY3JpcHRvclByb3RvX1R5cGUiLCAiRmllbGREZXNjcmlwdG9yUHJvdG9fTGFiZWwiLCAiRmlsZU9wdGlvbnNfT3B0aW1pemVNb2RlIiwgIkZpZWxkT3B0aW9uc19DVHlwZSIsICJGaWVsZE9wdGlvbnNfSlNUeXBlIiwgIkZpZWxkT3B0aW9uc19PcHRpb25SZXRlbnRpb24iLCAiRmllbGRPcHRpb25zX09wdGlvblRhcmdldFR5cGUiLCAiTWV0aG9kT3B0aW9uc19JZGVtcG90ZW5jeUxldmVsIiwgIkZlYXR1cmVTZXRfVmlzaWJpbGl0eUZlYXR1cmVfRGVmYXVsdFN5bWJvbFZpc2liaWxpdHkiLCAiRmVhdHVyZVNldF9GaWVsZFByZXNlbmNlIiwgIkZlYXR1cmVTZXRfRW51bVR5cGUiLCAiRmVhdHVyZVNldF9SZXBlYXRlZEZpZWxkRW5jb2RpbmciLCAiRmVhdHVyZVNldF9VdGY4VmFsaWRhdGlvbiIsICJGZWF0dXJlU2V0X01lc3NhZ2VFbmNvZGluZyIsICJGZWF0dXJlU2V0X0pzb25Gb3JtYXQiLCAiRmVhdHVyZVNldF9FbmZvcmNlTmFtaW5nU3R5bGUiLCAiR2VuZXJhdGVkQ29kZUluZm9fQW5ub3RhdGlvbl9TZW1hbnRpYyIsICJFZGl0aW9uIiwgIlN5bWJvbFZpc2liaWxpdHkiLCAiTEVHQUNZX1JFUVVJUkVEIiwgImluaXRfc2NhbGFyIiwgImluaXRfdHlwZXMiLCAiaW5pdF9zY2FsYXIiLCAiaW5pdF90eXBlcyIsICJfYSIsICJfYiIsICJfYyIsICJzZW5kTWVzc2FnZSIsICJfYSIsICJfYiIsICJzZW5kTWVzc2FnZSIsICJnZXRBcHByb3hTZXJ2ZXJOb3ciLCAic2VsZWN0aW9uIiwgInNlbmRNZXNzYWdlIiwgImdldEFwcHJveFNlcnZlck5vdyIsICJyZW5kZXIiLCAicmVuZGVyIiwgIl9hIiwgImVuc3VyZVN0eWxlcyIsICJjaG9pY2UiLCAiX2EiLCAiU1RZTEVfSUQiLCAiZXNjYXBlSHRtbCIsICJyZXN1bWVBdWRpbyIsICJpbml0X2VuZ2luZSIsICJpbml0X3NmeCIsICJpbml0X2VuZ2luZSIsICJpbml0X2VuZ2luZSIsICJpbml0X2NvbnRyb2xsZXIiLCAiaW5pdF9zZngiLCAiaW5pdF9lbmdpbmUiLCAiaW5pdF9jb250cm9sbGVyIl0KfQo=
